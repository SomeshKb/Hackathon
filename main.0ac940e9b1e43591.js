"use strict";(self.webpackChunkHackathon=self.webpackChunkHackathon||[]).push([[179],{378:(Tl,_h,sg)=>{function _i(n){return"function"==typeof n}function Jc(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Gt=Jc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function bn(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Le{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(_i(i))try{i()}catch(r){t=r instanceof Gt?r.errors:[r]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const r of s)try{kl(r)}catch(a){t=null!=t?t:[],a instanceof Gt?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Gt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)kl(t);else{if(t instanceof Le){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&bn(e,t)}remove(t){const{_teardowns:e}=this;e&&bn(e,t),t instanceof Le&&t._removeParent(this)}}Le.EMPTY=(()=>{const n=new Le;return n.closed=!0,n})();const vh=Le.EMPTY;function st(n){return n instanceof Le||n&&"closed"in n&&_i(n.remove)&&_i(n.add)&&_i(n.unsubscribe)}function kl(n){_i(n)?n():n.unsubscribe()}const Us={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Lo={setTimeout(...n){const{delegate:t}=Lo;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=Lo;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function yh(n){Lo.setTimeout(()=>{const{onUnhandledError:t}=Us;if(!t)throw n;t(n)})}function Oo(){}const Rl=ed("C",void 0,void 0);function ed(n,t,e){return{kind:n,value:t,error:e}}let Fr=null;function fe(n){if(Us.useDeprecatedSynchronousErrorHandling){const t=!Fr;if(t&&(Fr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Fr;if(Fr=null,e)throw i}}else n()}class En extends Le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,st(t)&&t.add(this)):this.destination=sb}static create(t,e,i){return new He(t,e,i)}next(t){this.isStopped?bh(function Ws(n){return ed("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?bh(function nb(n){return ed("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?bh(Rl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class He extends En{constructor(t,e,i){let s;if(super(),_i(t))s=t;else if(t){let r;({next:s,error:e,complete:i}=t),this&&Us.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe()):r=t,s=null==s?void 0:s.bind(r),e=null==e?void 0:e.bind(r),i=null==i?void 0:i.bind(r)}this.destination={next:s?fn(s):Oo,error:fn(null!=e?e:Il),complete:i?fn(i):Oo}}}function fn(n,t){return(...e)=>{try{n(...e)}catch(i){Us.useDeprecatedSynchronousErrorHandling?function Fo(n){Us.useDeprecatedSynchronousErrorHandling&&Fr&&(Fr.errorThrown=!0,Fr.error=n)}(i):yh(i)}}}function Il(n){throw n}function bh(n,t){const{onStoppedNotification:e}=Us;e&&Lo.setTimeout(()=>e(n,t))}const sb={closed:!0,next:Oo,error:Il,complete:Oo},xh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Nr(n){return n}let Jt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const r=function Vo(n){return n&&n instanceof En||function ag(n){return n&&_i(n.next)&&_i(n.error)&&_i(n.complete)}(n)&&st(n)}(e)?e:new He(e,i,s);return fe(()=>{const{operator:a,source:c}=this;r.add(a?a.call(r,c):c?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Bo(i))((s,r)=>{let a;a=this.subscribe(c=>{try{e(c)}catch(d){r(d),null==a||a.unsubscribe()}},r,s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[xh](){return this}pipe(...e){return function rg(n){return 0===n.length?Nr:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=Bo(e))((i,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>i(r))})}}return n.create=t=>new n(t),n})();function Bo(n){var t;return null!==(t=null!=n?n:Us.Promise)&&void 0!==t?t:Promise}const rb=Jc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ge=(()=>{class n extends Jt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new og(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new rb}next(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const s of i)s.next(e)}})}error(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:s,observers:r}=this;return i||s?vh:(r.push(e),new Le(()=>bn(r,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:s,isStopped:r}=this;i?e.error(s):r&&e.complete()}asObservable(){const e=new Jt;return e.source=this,e}}return n.create=(t,e)=>new og(t,e),n})();class og extends Ge{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:vh}}function za(n){return _i(null==n?void 0:n.lift)}function gi(n){return t=>{if(za(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class Bi extends En{constructor(t,e,i,s,r){super(t),this.onFinalize=r,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function jt(n,t){return gi((e,i)=>{let s=0;e.subscribe(new Bi(i,r=>{i.next(n.call(t,r,s++))}))})}function Wa(n){return this instanceof Wa?(this.v=n,this):new Wa(n)}function db(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=e.apply(n,t||[]),r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(b){i[b]&&(s[b]=function(C){return new Promise(function(D,A){r.push([b,C,D,A])>1||c(b,C)})})}function c(b,C){try{!function d(b){b.value instanceof Wa?Promise.resolve(b.value.v).then(h,g):v(r[0][2],b)}(i[b](C))}catch(D){v(r[0][3],D)}}function h(b){c("next",b)}function g(b){c("throw",b)}function v(b,C){b(C),r.shift(),r.length&&c(r[0][0],r[0][1])}}function ub(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function td(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(a){return new Promise(function(c,d){!function s(r,a,c,d){Promise.resolve(d).then(function(h){r({value:h,done:c})},a)}(c,d,(a=n[r](a)).done,a.value)})}}}const id=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function hg(n){return _i(null==n?void 0:n.then)}function Mh(n){return _i(n[xh])}function fg(n){return Symbol.asyncIterator&&_i(null==n?void 0:n[Symbol.asyncIterator])}function Sh(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pg=function pb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gg(n){return _i(null==n?void 0:n[pg])}function mg(n){return db(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:s}=yield Wa(e.read());if(s)return yield Wa(void 0);yield yield Wa(i)}}finally{e.releaseLock()}})}function Dh(n){return _i(null==n?void 0:n.getReader)}function ls(n){if(n instanceof Jt)return n;if(null!=n){if(Mh(n))return function _g(n){return new Jt(t=>{const e=n[xh]();if(_i(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(id(n))return function gb(n){return new Jt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(hg(n))return function vg(n){return new Jt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,yh)})}(n);if(fg(n))return bg(n);if(gg(n))return function yg(n){return new Jt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Dh(n))return function mb(n){return bg(mg(n))}(n)}throw Sh(n)}function bg(n){return new Jt(t=>{(function _b(n,t){var e,i,s,r;return function Pl(n,t,e,i){return new(e||(e=Promise))(function(r,a){function c(g){try{h(i.next(g))}catch(v){a(v)}}function d(g){try{h(i.throw(g))}catch(v){a(v)}}function h(g){g.done?r(g.value):function s(r){return r instanceof e?r:new e(function(a){a(r)})}(g.value).then(c,d)}h((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=ub(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function js(n,t,e,i=0,s=!1){const r=t.schedule(function(){e(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function an(n,t,e=1/0){return _i(t)?an((i,s)=>jt((r,a)=>t(i,r,s,a))(ls(n(i,s))),e):("number"==typeof t&&(e=t),gi((i,s)=>function Ah(n,t,e,i,s,r,a,c){const d=[];let h=0,g=0,v=!1;const b=()=>{v&&!d.length&&!h&&t.complete()},C=A=>h<i?D(A):d.push(A),D=A=>{r&&t.next(A),h++;let E=!1;ls(e(A,g++)).subscribe(new Bi(t,I=>{null==s||s(I),r?C(I):t.next(I)},()=>{E=!0},void 0,()=>{if(E)try{for(h--;d.length&&h<i;){const I=d.shift();a?js(t,a,()=>D(I)):D(I)}b()}catch(I){t.error(I)}}))};return n.subscribe(new Bi(t,C,()=>{v=!0,b()})),()=>{null==c||c()}}(i,s,n,e)))}function Ll(n=1/0){return an(Nr,n)}const cr=new Jt(n=>n.complete());function Eh(n){return n&&_i(n.schedule)}function nd(n){return n[n.length-1]}function sd(n){return _i(nd(n))?n.pop():void 0}function Ol(n){return Eh(nd(n))?n.pop():void 0}function o(n,t=0){return gi((e,i)=>{e.subscribe(new Bi(i,s=>js(i,n,()=>i.next(s),t),()=>js(i,n,()=>i.complete(),t),s=>js(i,n,()=>i.error(s),t)))})}function l(n,t=0){return gi((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function m(n,t){if(!n)throw new Error("Iterable cannot be null");return new Jt(e=>{js(e,t,()=>{const i=n[Symbol.asyncIterator]();js(e,t,()=>{i.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function S(n,t){return t?function w(n,t){if(null!=n){if(Mh(n))return function u(n,t){return ls(n).pipe(l(t),o(t))}(n,t);if(id(n))return function p(n,t){return new Jt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(hg(n))return function f(n,t){return ls(n).pipe(l(t),o(t))}(n,t);if(fg(n))return m(n,t);if(gg(n))return function _(n,t){return new Jt(e=>{let i;return js(e,t,()=>{i=n[pg](),js(e,t,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(a){return void e.error(a)}r?e.complete():e.next(s)},0,!0)}),()=>_i(null==i?void 0:i.return)&&i.return()})}(n,t);if(Dh(n))return function y(n,t){return m(mg(n),t)}(n,t)}throw Sh(n)}(n,t):ls(n)}function M(...n){const t=Ol(n),e=function U(n,t){return"number"==typeof nd(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ls(i[0]):Ll(e)(S(i,t)):cr}function T(n){return n<=0?()=>cr:gi((t,e)=>{let i=0;t.subscribe(new Bi(e,s=>{++i<=n&&(e.next(s),n<=i&&e.complete())}))})}function R(n={}){const{connector:t=(()=>new Ge),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let a=null,c=null,d=null,h=0,g=!1,v=!1;const b=()=>{null==c||c.unsubscribe(),c=null},C=()=>{b(),a=d=null,g=v=!1},D=()=>{const A=a;C(),null==A||A.unsubscribe()};return gi((A,E)=>{h++,!v&&!g&&b();const I=d=null!=d?d:t();E.add(()=>{h--,0===h&&!v&&!g&&(c=O(D,s))}),I.subscribe(E),a||(a=new He({next:P=>I.next(P),error:P=>{v=!0,b(),c=O(C,e,P),I.error(P)},complete:()=>{g=!0,b(),c=O(C,i),I.complete()}}),S(A).subscribe(a))})(r)}}function O(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(T(1)).subscribe(()=>n())}function L(n){for(let t in n)if(n[t]===L)return t;throw Error("Could not find renamed property on target object.")}function H(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function z(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(z).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Y(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const X=L({__forward_ref__:L});function x(n){return n.__forward_ref__=x,n.toString=function(){return z(this())},n}function k(n){return B(n)?n():n}function B(n){return"function"==typeof n&&n.hasOwnProperty(X)&&n.__forward_ref__===x}class K extends Error{constructor(t,e){super(function ve(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function Te(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}function Pi(n,t){const e=t?` in ${t}`:"";throw new K(-201,`No provider for ${Te(n)} found${e}`)}function Ys(n,t){null==n&&function Ki(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function Oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function bb(n){return XD(n,Cg)||XD(n,qD)}function XD(n,t){return n.hasOwnProperty(t)?n[t]:null}function $D(n){return n&&(n.hasOwnProperty(xb)||n.hasOwnProperty(z3))?n[xb]:null}const Cg=L({\u0275prov:L}),xb=L({\u0275inj:L}),qD=L({ngInjectableDef:L}),z3=L({ngInjectorDef:L});var ri=(()=>((ri=ri||{})[ri.Default=0]="Default",ri[ri.Host=1]="Host",ri[ri.Self=2]="Self",ri[ri.SkipSelf=4]="SkipSelf",ri[ri.Optional=8]="Optional",ri))();let wb;function Go(n){const t=wb;return wb=n,t}function ZD(n,t,e){const i=bb(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ri.Optional?null:void 0!==t?t:void Pi(z(n),"Injector")}function Uo(n){return{toString:n}.toString()}var Br=(()=>((Br=Br||{})[Br.OnPush=0]="OnPush",Br[Br.Default=1]="Default",Br))(),Vr=(()=>{return(n=Vr||(Vr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Vr;var n})();const U3="undefined"!=typeof globalThis&&globalThis,W3="undefined"!=typeof window&&window,j3="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ui=U3||"undefined"!=typeof global&&global||W3||j3,rd={},ji=[],Mg=L({\u0275cmp:L}),Cb=L({\u0275dir:L}),Mb=L({\u0275pipe:L}),KD=L({\u0275mod:L}),ja=L({\u0275fac:L}),kh=L({__NG_ELEMENT_ID__:L});let Y3=0;function Tt(n){return Uo(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ji,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Vr.Emulated,id:"c",styles:n.styles||ji,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,a=n.pipes;return i.id+=Y3++,i.inputs=tA(n.inputs,e),i.outputs=tA(n.outputs),r&&r.forEach(c=>c(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(QD):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(JD):null,i})}function QD(n){return gs(n)||function Wo(n){return n[Cb]||null}(n)}function JD(n){return function Fl(n){return n[Mb]||null}(n)}const eA={};function rt(n){return Uo(()=>{const t={type:n.type,bootstrap:n.bootstrap||ji,declarations:n.declarations||ji,imports:n.imports||ji,exports:n.exports||ji,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(eA[n.id]=n.type),t})}function tA(n,t){if(null==n)return rd;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ge=Tt;function Ns(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function gs(n){return n[Mg]||null}function ur(n,t){const e=n[KD]||null;if(!e&&!0===t)throw new Error(`Type ${z(n)} does not have '\u0275mod' property.`);return e}function ha(n){return Array.isArray(n)&&"object"==typeof n[1]}function zr(n){return Array.isArray(n)&&!0===n[1]}function Ab(n){return 0!=(8&n.flags)}function Eg(n){return 2==(2&n.flags)}function Tg(n){return 1==(1&n.flags)}function Gr(n){return null!==n.template}function Q3(n){return 0!=(512&n[2])}function Hl(n,t){return n.hasOwnProperty(ja)?n[ja]:null}class tz{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Vi(){return nA}function nA(n){return n.type.prototype.ngOnChanges&&(n.setInput=nz),iz}function iz(){const n=rA(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===rd)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function nz(n,t,e,i){const s=rA(n)||function sz(n,t){return n[sA]=t}(n,{previous:rd,current:null}),r=s.current||(s.current={}),a=s.previous,c=this.declaredInputs[e],d=a[c];r[c]=new tz(d&&d.currentValue,t,a===rd),n[i]=t}Vi.ngInherit=!0;const sA="__ngSimpleChanges__";function rA(n){return n[sA]||null}const aA="http://www.w3.org/2000/svg";let kb;function pn(n){return!!n.listen}const lA={createRenderer:(n,t)=>function Rb(){return void 0!==kb?kb:"undefined"!=typeof document?document:void 0}()};function Tn(n){for(;Array.isArray(n);)n=n[0];return n}function kg(n,t){return Tn(t[n])}function pr(n,t){return Tn(t[n.index])}function Ib(n,t){return n.data[t]}function dd(n,t){return n[t]}function $s(n,t){const e=t[n];return ha(e)?e:e[0]}function cA(n){return 4==(4&n[2])}function Pb(n){return 128==(128&n[2])}function jo(n,t){return null==t?null:n[t]}function dA(n){n[18]=0}function Lb(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Kt={lFrame:vA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uA(){return Kt.bindingsEnabled}function ze(){return Kt.lFrame.lView}function Ai(){return Kt.lFrame.tView}function gr(n){return Kt.lFrame.contextLView=n,n[8]}function zn(){let n=hA();for(;null!==n&&64===n.type;)n=n.parent;return n}function hA(){return Kt.lFrame.currentTNode}function fa(n,t){const e=Kt.lFrame;e.currentTNode=n,e.isParent=t}function Ob(){return Kt.lFrame.isParent}function Fb(){Kt.lFrame.isParent=!1}function Rg(){return Kt.isInCheckNoChangesMode}function Ig(n){Kt.isInCheckNoChangesMode=n}function Ss(){const n=Kt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function ud(){return Kt.lFrame.bindingIndex++}function Xa(n){const t=Kt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function vz(n,t){const e=Kt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Nb(t)}function Nb(n){Kt.lFrame.currentDirectiveIndex=n}function Bb(n){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function gA(){return Kt.lFrame.currentQueryIndex}function Vb(n){Kt.lFrame.currentQueryIndex=n}function bz(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function mA(n,t,e){if(e&ri.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&ri.Host||(s=bz(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=Kt.lFrame=_A();return i.currentTNode=t,i.lView=n,!0}function Pg(n){const t=_A(),e=n[1];Kt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function _A(){const n=Kt.lFrame,t=null===n?null:n.child;return null===t?vA(n):t}function vA(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function yA(){const n=Kt.lFrame;return Kt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const bA=yA;function Lg(){const n=yA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ds(){return Kt.lFrame.selectedIndex}function Yo(n){Kt.lFrame.selectedIndex=n}function gn(){const n=Kt.lFrame;return Ib(n.tView,n.selectedIndex)}function hd(){Kt.lFrame.currentNamespace=aA}function Og(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=r;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),c&&((n.contentHooks||(n.contentHooks=[])).push(e,c),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,c)),d&&(n.viewHooks||(n.viewHooks=[])).push(-e,d),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=g&&(n.destroyHooks||(n.destroyHooks=[])).push(e,g)}}function Fg(n,t,e){xA(n,t,3,e)}function Ng(n,t,e,i){(3&n[2])===e&&xA(n,t,e,i)}function zb(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function xA(n,t,e,i){const r=null!=i?i:-1,a=t.length-1;let c=0;for(let d=void 0!==i?65535&n[18]:0;d<a;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=i&&c>=i)break}else t[d]<0&&(n[18]+=65536),(c<r||-1==r)&&(Az(n,e,t,d),n[18]=(4294901760&n[18])+d+2),d++}function Az(n,t,e,i){const s=e[i]<0,r=e[i+1],c=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(c)}finally{}}}else try{r.call(c)}finally{}}class Oh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Bg(n,t,e){const i=pn(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],c=e[s++],d=e[s++];i?n.setAttribute(t,c,d,a):t.setAttributeNS(a,c,d)}else{const a=r,c=e[++s];Ub(a)?i&&n.setProperty(t,a,c):i?n.setAttribute(t,a,c):t.setAttribute(a,c),s++}}return s}function wA(n){return 3===n||4===n||6===n}function Ub(n){return 64===n.charCodeAt(0)}function Vg(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||CA(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function CA(n,t,e,i,s){let r=0,a=n.length;if(-1===t)a=-1;else for(;r<n.length;){const c=n[r++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=r-1;break}}}for(;r<n.length;){const c=n[r];if("number"==typeof c)break;if(c===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==a&&(n.splice(a,0,t),r=a+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function MA(n){return-1!==n}function fd(n){return 32767&n}function pd(n,t){let e=function Iz(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Wb=!0;function Hg(n){const t=Wb;return Wb=n,t}let Pz=0;function Nh(n,t){const e=Yb(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,jb(i.data,n),jb(t,null),jb(i.blueprint,null));const s=zg(n,t),r=n.injectorIndex;if(MA(s)){const a=fd(s),c=pd(s,t),d=c[1].data;for(let h=0;h<8;h++)t[r+h]=c[a+h]|d[a+h]}return t[r+8]=s,r}function jb(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Yb(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function zg(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(i=2===a?r.declTNode:1===a?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Gg(n,t,e){!function Lz(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(kh)&&(i=e[kh]),null==i&&(i=e[kh]=Pz++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function AA(n,t,e){if(e&ri.Optional)return n;Pi(t,"NodeInjector")}function EA(n,t,e,i){if(e&ri.Optional&&void 0===i&&(i=null),0==(e&(ri.Self|ri.Host))){const s=n[9],r=Go(void 0);try{return s?s.get(t,i,e&ri.Optional):ZD(t,i,e&ri.Optional)}finally{Go(r)}}return AA(i,t,e)}function TA(n,t,e,i=ri.Default,s){if(null!==n){const r=function Bz(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(kh)?n[kh]:void 0;return"number"==typeof t?t>=0?255&t:Fz:t}(e);if("function"==typeof r){if(!mA(t,n,i))return i&ri.Host?AA(s,e,i):EA(t,e,i,s);try{const a=r(i);if(null!=a||i&ri.Optional)return a;Pi(e)}finally{bA()}}else if("number"==typeof r){let a=null,c=Yb(n,t),d=-1,h=i&ri.Host?t[16][6]:null;for((-1===c||i&ri.SkipSelf)&&(d=-1===c?zg(n,t):t[c+8],-1!==d&&IA(i,!1)?(a=t[1],c=fd(d),t=pd(d,t)):c=-1);-1!==c;){const g=t[1];if(RA(r,c,g.data)){const v=Nz(c,t,e,a,i,h);if(v!==kA)return v}d=t[c+8],-1!==d&&IA(i,t[1].data[c+8]===h)&&RA(r,c,t)?(a=g,c=fd(d),t=pd(d,t)):c=-1}}}return EA(t,e,i,s)}const kA={};function Fz(){return new gd(zn(),ze())}function Nz(n,t,e,i,s,r){const a=t[1],c=a.data[n+8],g=Ug(c,a,e,null==i?Eg(c)&&Wb:i!=a&&0!=(3&c.type),s&ri.Host&&r===c);return null!==g?Bh(t,a,g,c):kA}function Ug(n,t,e,i,s){const r=n.providerIndexes,a=t.data,c=1048575&r,d=n.directiveStart,g=r>>20,b=s?c+g:n.directiveEnd;for(let C=i?c:c+g;C<b;C++){const D=a[C];if(C<d&&e===D||C>=d&&D.type===e)return C}if(s){const C=a[d];if(C&&Gr(C)&&C.type===e)return d}return null}function Bh(n,t,e,i){let s=n[e];const r=t.data;if(function Ez(n){return n instanceof Oh}(s)){const a=s;a.resolving&&function Fe(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${e}`)}(Te(r[e]));const c=Hg(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Go(a.injectImpl):null;mA(n,i,ri.Default);try{s=n[e]=a.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Dz(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const a=nA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==d&&Go(d),Hg(c),a.resolving=!1,bA()}}return s}function RA(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function IA(n,t){return!(n&ri.Self||n&ri.Host&&t)}class gd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return TA(this._tNode,this._lView,t,i,e)}}function tt(n){return Uo(()=>{const t=n.prototype.constructor,e=t[ja]||Xb(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[ja]||Xb(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Xb(n){return B(n)?()=>{const t=Xb(k(n));return t&&t()}:Hl(n)}function ds(n){return function Oz(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const r=e[s];if(wA(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(zn(),n)}const _d="__parameters__";function yd(n,t,e){return Uo(()=>{const i=function $b(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const a=new s(...r);return c.annotation=a,c;function c(d,h,g){const v=d.hasOwnProperty(_d)?d[_d]:Object.defineProperty(d,_d,{value:[]})[_d];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(a),d}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class Se{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Oe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hz=new Se("AnalyzeForEntryComponents");function mr(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),mr(i,t)):t!==n&&t.push(i)}return t}function pa(n,t){n.forEach(e=>Array.isArray(e)?pa(e,t):t(e))}function LA(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Wg(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function zh(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function qs(n,t,e){let i=bd(n,t);return i>=0?n[1|i]=e:(i=~i,function Uz(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Zb(n,t){const e=bd(n,t);if(e>=0)return n[1|e]}function bd(n,t){return function NA(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),a=n[r<<e];if(t===a)return r<<e;a>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const Gh={},Qb="__NG_DI_FLAG__",Yg="ngTempTokenPath",Zz=/\n/gm,VA="__source",Qz=L({provide:String,useValue:L});let Uh;function HA(n){const t=Uh;return Uh=n,t}function Jz(n,t=ri.Default){if(void 0===Uh)throw new K(203,"");return null===Uh?ZD(n,void 0,t):Uh.get(n,t&ri.Optional?null:void 0,t)}function me(n,t=ri.Default){return(function G3(){return wb}()||Jz)(k(n),t)}const xd=me;function Jb(n){const t=[];for(let e=0;e<n.length;e++){const i=k(n[e]);if(Array.isArray(i)){if(0===i.length)throw new K(900,"");let s,r=ri.Default;for(let a=0;a<i.length;a++){const c=i[a],d=eG(c);"number"==typeof d?-1===d?s=c.token:r|=d:s=c}t.push(me(s,r))}else t.push(me(i))}return t}function Wh(n,t){return n[Qb]=t,n.prototype[Qb]=t,n}function eG(n){return n[Qb]}const jh=Wh(yd("Inject",n=>({token:n})),-1),Un=Wh(yd("Optional"),8),Zs=Wh(yd("SkipSelf"),4);let $g;function Cd(n){var t;return(null===(t=function tx(){if(void 0===$g&&($g=null,Ui.trustedTypes))try{$g=Ui.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return $g}())||void 0===t?void 0:t.createHTML(n))||n}class zl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class fG extends zl{getTypeName(){return"HTML"}}class pG extends zl{getTypeName(){return"Style"}}class gG extends zl{getTypeName(){return"Script"}}class mG extends zl{getTypeName(){return"URL"}}class _G extends zl{getTypeName(){return"ResourceURL"}}function Ks(n){return n instanceof zl?n.changingThisBreaksApplicationSecurity:n}function ga(n,t){const e=qA(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function qA(n){return n instanceof zl&&n.getTypeName()||null}class CG{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Cd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class MG{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Cd(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Cd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const a=e.item(s).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const DG=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,AG=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xh(n){return(n=String(n)).match(DG)||n.match(AG)?n:"unsafe:"+n}function ma(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function $h(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const QA=ma("area,br,col,hr,img,wbr"),JA=ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),eE=ma("rp,rt"),nx=$h(QA,$h(JA,ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),$h(eE,ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$h(eE,JA)),sx=ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rx=ma("srcset"),tE=$h(sx,rx,ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),EG=ma("script,style,template");class TG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nx.hasOwnProperty(e))return this.sanitizedSomething=!0,!EG.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),a=r.name,c=a.toLowerCase();if(!tE.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let d=r.value;sx[c]&&(d=Xh(d)),rx[c]&&(n=d,d=(n=String(n)).split(",").map(t=>Xh(t.trim())).join(", ")),this.buf.push(" ",a,'="',iE(d),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nx.hasOwnProperty(e)&&!QA.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(iE(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const kG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RG=/([^\#-~ |!])/g;function iE(n){return n.replace(/&/g,"&amp;").replace(kG,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(RG,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zg;function nE(n,t){let e=null;try{Zg=Zg||function ZA(n){const t=new MG(n);return function SG(){try{return!!(new window.DOMParser).parseFromString(Cd(""),"text/html")}catch(n){return!1}}()?new CG(t):t}(n);let i=t?String(t):"";e=Zg.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=e.innerHTML,e=Zg.getInertBodyElement(i)}while(i!==r);return Cd((new TG).sanitizeChildren(ax(e)||e))}finally{if(e){const i=ax(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function ax(n){return"content"in n&&function IG(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ki=(()=>((ki=ki||{})[ki.NONE=0]="NONE",ki[ki.HTML=1]="HTML",ki[ki.STYLE=2]="STYLE",ki[ki.SCRIPT=3]="SCRIPT",ki[ki.URL=4]="URL",ki[ki.RESOURCE_URL=5]="RESOURCE_URL",ki))();function Md(n){const t=function qh(){const n=ze();return n&&n[12]}();return t?t.sanitize(ki.URL,n)||"":ga(n,"URL")?Ks(n):Xh(te(n))}const aE="__ngContext__";function _s(n,t){n[aE]=t}function lx(n){const t=function Zh(n){return n[aE]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function dx(n){return n.ngOriginalError}function qG(n,...t){n.error(...t)}class $a{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function $G(n){return n&&n.ngErrorLogger||qG}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&dx(t);for(;e&&dx(e);)e=dx(e);return e||null}}const uE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ui))();function _a(n){return n instanceof Function?n():n}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function hx(n,t){return undefined(n,t)}function Kh(n){const t=n[3];return zr(t)?t[3]:t}function fx(n){return mE(n[13])}function px(n){return mE(n[4])}function mE(n){for(;null!==n&&!zr(n);)n=n[4];return n}function Dd(n,t,e,i,s){if(null!=i){let r,a=!1;zr(i)?r=i:ha(i)&&(a=!0,i=i[0]);const c=Tn(i);0===n&&null!==e?null==s?wE(t,e,c):Gl(t,e,c,s||null,!0):1===n&&null!==e?Gl(t,e,c,s||null,!0):2===n?function TE(n,t,e){const i=Kg(n,t);i&&function vU(n,t,e,i){pn(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,c,a):3===n&&t.destroyNode(c),null!=r&&function xU(n,t,e,i,s){const r=e[7];r!==Tn(e)&&Dd(t,n,i,r,s);for(let c=10;c<e.length;c++){const d=e[c];Qh(d[1],d,n,t,i,r)}}(t,n,r,e,s)}}function mx(n,t,e){return pn(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function vE(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Lb(s,-1)),e.splice(i,1)}function _x(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&vE(s,i),t>0&&(n[e-1][4]=i[4]);const r=Wg(n,10+t);!function dU(n,t){Qh(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=r[19];null!==a&&a.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function yE(n,t){if(!(256&t[2])){const e=t[11];pn(e)&&e.destroyNode&&Qh(n,t,e,3,null,null),function fU(n){let t=n[13];if(!t)return vx(n[1],n);for(;t;){let e=null;if(ha(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ha(t)&&vx(t[1],t),t=t[3];null===t&&(t=n),ha(t)&&vx(t[1],t),e=t&&t[4]}t=e}}(t)}}function vx(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function _U(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Oh)){const r=e[i+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const c=s[r[a]],d=r[a+1];try{d.call(c)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function mU(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],c="function"==typeof a?a(t):Tn(t[a]),d=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?c.removeEventListener(e[r],d,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const a=i[s=e[r+1]];e[r].call(a)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&pn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&zr(t[3])){e!==t[3]&&vE(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function bE(n,t,e){return function xE(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Vr.None||s===Vr.Emulated)return null}return pr(i,e)}(n,t.parent,e)}function Gl(n,t,e,i,s){pn(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function wE(n,t,e){pn(n)?n.appendChild(t,e):t.appendChild(e)}function CE(n,t,e,i,s){null!==i?Gl(n,t,e,i,s):wE(n,t,e)}function Kg(n,t){return pn(n)?n.parentNode(t):t.parentNode}function ME(n,t,e){return DE(n,t,e)}let DE=function SE(n,t,e){return 40&n.type?pr(n,e):null};function Qg(n,t,e,i){const s=bE(n,i,t),r=t[11],c=ME(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let d=0;d<e.length;d++)CE(r,s,e[d],c,!1);else CE(r,s,e,c,!1)}function Jg(n,t){if(null!==t){const e=t.type;if(3&e)return pr(t,n);if(4&e)return bx(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Jg(n,i);{const s=n[t.index];return zr(s)?bx(-1,s):Tn(s)}}if(32&e)return hx(t,n)()||Tn(n[t.index]);{const i=EE(n,t);return null!==i?Array.isArray(i)?i[0]:Jg(Kh(n[16]),i):Jg(n,t.next)}}return null}function EE(n,t){return null!==t?n[16][6].projection[t.projection]:null}function bx(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Jg(i,s)}return t[7]}function xx(n,t,e,i,s,r,a){for(;null!=e;){const c=i[e.index],d=e.type;if(a&&0===t&&(c&&_s(Tn(c),i),e.flags|=4),64!=(64&e.flags))if(8&d)xx(n,t,e.child,i,s,r,!1),Dd(t,n,s,c,r);else if(32&d){const h=hx(e,i);let g;for(;g=h();)Dd(t,n,s,g,r);Dd(t,n,s,c,r)}else 16&d?kE(n,t,i,e,s,r):Dd(t,n,s,c,r);e=a?e.projectionNext:e.next}}function Qh(n,t,e,i,s,r){xx(e,i,n.firstChild,t,s,r,!1)}function kE(n,t,e,i,s,r){const a=e[16],d=a[6].projection[i.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Dd(t,n,s,d[h],r);else xx(n,t,d,a[3],s,r,!0)}function RE(n,t,e){pn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function wx(n,t,e){pn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function IE(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const PE="ng-template";function CU(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==IE(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function LE(n){return 4===n.type&&n.value!==PE}function MU(n,t,e){return t===(4!==n.type||e?n.value:PE)}function SU(n,t,e){let i=4;const s=n.attrs||[],r=function EU(n){for(let t=0;t<n.length;t++)if(wA(n[t]))return t;return n.length}(s);let a=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!a)if(4&i){if(i=2|1&i,""!==d&&!MU(n,d,e)||""===d&&1===t.length){if(Ur(i))return!1;a=!0}}else{const h=8&i?d:t[++c];if(8&i&&null!==n.attrs){if(!CU(n.attrs,h,e)){if(Ur(i))return!1;a=!0}continue}const v=DU(8&i?"class":d,s,LE(n),e);if(-1===v){if(Ur(i))return!1;a=!0;continue}if(""!==h){let b;b=v>r?"":s[v+1].toLowerCase();const C=8&i?b:null;if(C&&-1!==IE(C,h,0)||2&i&&h!==b){if(Ur(i))return!1;a=!0}}}}else{if(!a&&!Ur(i)&&!Ur(d))return!1;if(a&&Ur(d))continue;a=!1,i=d|1&i}}return Ur(i)||a}function Ur(n){return 0==(1&n)}function DU(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===n)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let c=t[++s];for(;"string"==typeof c;)c=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function TU(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function OE(n,t,e=!1){for(let i=0;i<t.length;i++)if(SU(n,t[i],e))return!0;return!1}function kU(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function FE(n,t){return n?":not("+t.trim()+")":t}function RU(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const c=n[++e];s+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&i?s+="."+a:4&i&&(s+=" "+a);else""!==s&&!Ur(a)&&(t+=FE(r,s),s=""),i=a,r=r||!Ur(i);e++}return""!==s&&(t+=FE(r,s)),t}const ti={};function ye(n){NE(Ai(),ze(),Ds()+n,Rg())}function NE(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Fg(t,r,e)}else{const r=n.preOrderHooks;null!==r&&Ng(t,r,0,e)}Yo(e)}function em(n,t){return n<<17|t<<2}function Wr(n){return n>>17&32767}function Cx(n){return 2|n}function qa(n){return(131068&n)>>2}function Mx(n,t){return-131069&n|t<<2}function Sx(n){return 1|n}function $E(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const a=n.data[r];Vb(s),a.contentQueries(2,t[r],r)}}}function Jh(n,t,e,i,s,r,a,c,d,h){const g=t.blueprint.slice();return g[0]=s,g[2]=140|i,dA(g),g[3]=g[15]=n,g[8]=e,g[10]=a||n&&n[10],g[11]=c||n&&n[11],g[12]=d||n&&n[12]||null,g[9]=h||n&&n[9]||null,g[6]=r,g[16]=2==t.type?n[16]:g,g}function Ad(n,t,e,i,s){let r=n.data[t];if(null===r)r=function Lx(n,t,e,i,s){const r=hA(),a=Ob(),d=n.data[t]=function qU(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=d),null!==r&&(a?null==r.child&&null!==d.parent&&(r.child=d):null===r.next&&(r.next=d)),d}(n,t,e,i,s),function _z(){return Kt.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const a=function Lh(){const n=Kt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return fa(r,!0),r}function Ed(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function ef(n,t,e){Pg(t);try{const i=n.viewQuery;null!==i&&Ux(1,i,e);const s=n.template;null!==s&&qE(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&$E(n,t),n.staticViewQueries&&Ux(2,n.viewQuery,e);const r=n.components;null!==r&&function YU(n,t){for(let e=0;e<t.length;e++)p5(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Lg()}}function Td(n,t,e,i){const s=t[2];if(256==(256&s))return;Pg(t);const r=Rg();try{dA(t),function fA(n){return Kt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&qE(n,t,e,2,i);const a=3==(3&s);if(!r)if(a){const h=n.preOrderCheckHooks;null!==h&&Fg(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Ng(t,h,0,null),zb(t,0)}if(function h5(n){for(let t=fx(n);null!==t;t=px(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Lb(r,1),s[2]|=1024}}}(t),function u5(n){for(let t=fx(n);null!==t;t=px(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Pb(i)&&Td(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&$E(n,t),!r)if(a){const h=n.contentCheckHooks;null!==h&&Fg(t,h)}else{const h=n.contentHooks;null!==h&&Ng(t,h,1),zb(t,1)}!function WU(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Yo(~s);else{const r=s,a=e[++i],c=e[++i];vz(a,r),c(2,t[r])}}}finally{Yo(-1)}}(n,t);const c=n.components;null!==c&&function jU(n,t){for(let e=0;e<t.length;e++)f5(n,t[e])}(t,c);const d=n.viewQuery;if(null!==d&&Ux(2,d,i),!r)if(a){const h=n.viewCheckHooks;null!==h&&Fg(t,h)}else{const h=n.viewHooks;null!==h&&Ng(t,h,2),zb(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Lb(t[3],-1))}finally{Lg()}}function XU(n,t,e,i){const s=t[10],r=!Rg(),a=cA(t);try{r&&!a&&s.begin&&s.begin(),a&&ef(n,t,i),Td(n,t,e,i)}finally{r&&!a&&s.end&&s.end()}}function qE(n,t,e,i,s){const r=Ds(),a=2&i;try{Yo(-1),a&&t.length>20&&NE(n,t,20,Rg()),e(i,s)}finally{Yo(r)}}function ZE(n,t,e){if(Ab(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=n.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Ox(n,t,e){!uA()||(function n5(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Nh(e,t),_s(i,t);const a=e.initialInputs;for(let c=s;c<r;c++){const d=n.data[c],h=Gr(d);h&&l5(t,e,d);const g=Bh(t,n,c,e);_s(g,t),null!==a&&c5(0,c-s,g,d,0,a),h&&($s(e.index,t)[8]=g)}}(n,t,e,pr(e,t)),128==(128&e.flags)&&function s5(n,t,e){const i=e.directiveStart,s=e.directiveEnd,a=e.index,c=function yz(){return Kt.lFrame.currentDirectiveIndex}();try{Yo(a);for(let d=i;d<s;d++){const h=n.data[d],g=t[d];Nb(d),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&r1(h,g)}}finally{Yo(-1),Nb(c)}}(n,t,e))}function Fx(n,t,e=pr){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const a=i[r+1],c=-1===a?e(t,n):n[a];n[s++]=c}}}function KE(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=nm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function nm(n,t,e,i,s,r,a,c,d,h){const g=20+i,v=g+s,b=function $U(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ti);return e}(g,v),C="function"==typeof h?h():h;return b[1]={type:n,blueprint:b,template:e,queries:null,viewQuery:c,declTNode:t,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:d,consts:C,incompleteFirstPass:!1}}function e1(n,t,e,i){const s=u1(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&h1(n).push(i,s.length-1))}function t1(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Js(n,t,e,i,s,r,a,c){const d=pr(t,e);let g,h=t.inputs;!c&&null!=h&&(g=h[i])?(g1(n,e,g,i,s),Eg(t)&&function QU(n,t){const e=$s(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function KU(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=a?a(s,t.value||"",i):s,pn(r)?r.setProperty(d,i,s):Ub(i)||(d.setProperty?d.setProperty(i,s):d[i]=s))}function Nx(n,t,e,i){let s=!1;if(uA()){const r=function r5(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const a=i[r];OE(e,a.selectors,!1)&&(s||(s=[]),Gg(Nh(e,t),n,a.type),Gr(a)?(a1(n,e),s.unshift(a)):s.push(a))}return s}(n,t,e),a=null===i?null:{"":-1};if(null!==r){s=!0,o1(e,n.data.length,r.length);for(let g=0;g<r.length;g++){const v=r[g];v.providersResolver&&v.providersResolver(v)}let c=!1,d=!1,h=Ed(n,t,r.length,null);for(let g=0;g<r.length;g++){const v=r[g];e.mergedAttrs=Vg(e.mergedAttrs,v.hostAttrs),l1(n,e,t,h,v),o5(h,v,a),null!==v.contentQueries&&(e.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=128);const b=v.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),c=!0),!d&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),d=!0),h++}!function ZU(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,a=[];let c=null,d=null;for(let h=t.directiveStart;h<i;h++){const g=s[h],v=g.inputs,b=null===r||LE(t)?null:d5(v,r);a.push(b),c=t1(v,h,c),d=t1(g.outputs,h,d)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=16),c.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=c,t.outputs=d}(n,e)}a&&function a5(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new K(-301,`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,a)}return e.mergedAttrs=Vg(e.mergedAttrs,e.attrs),s}function s1(n,t,e,i,s,r){const a=r.hostBindings;if(a){let c=n.hostBindingOpCodes;null===c&&(c=n.hostBindingOpCodes=[]);const d=~t.index;(function t5(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(c)!=d&&c.push(d),c.push(i,s,a)}}function r1(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function a1(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function o5(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Gr(t)&&(e[""]=n)}}function o1(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function l1(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=Hl(s.type)),a=new Oh(r,Gr(s),null);n.blueprint[i]=a,e[i]=a,s1(n,t,0,i,Ed(n,e,s.hostVars,ti),s)}function l5(n,t,e){const i=pr(t,n),s=KE(e),r=n[10],a=sm(n,Jh(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=a}function va(n,t,e,i,s,r){const a=pr(n,t);!function Bx(n,t,e,i,s,r,a){if(null==r)pn(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const c=null==a?te(r):a(r,i||"",s);pn(n)?n.setAttribute(t,s,c,e):e?t.setAttributeNS(e,s,c):t.setAttribute(s,c)}}(t[11],a,r,n.value,e,i,s)}function c5(n,t,e,i,s,r){const a=r[t];if(null!==a){const c=i.setInput;for(let d=0;d<a.length;){const h=a[d++],g=a[d++],v=a[d++];null!==c?i.setInput(e,v,h,g):e[g]=v}}}function d5(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function c1(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function f5(n,t){const e=$s(t,n);if(Pb(e)){const i=e[1];80&e[2]?Td(i,e,i.template,e[8]):e[5]>0&&Vx(e)}}function Vx(n){for(let i=fx(n);null!==i;i=px(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const a=r[1];Td(a,r,a.template,r[8])}else r[5]>0&&Vx(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=$s(e[i],n);Pb(s)&&s[5]>0&&Vx(s)}}function p5(n,t){const e=$s(t,n),i=e[1];(function g5(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),ef(i,e,e[8])}function sm(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Hx(n){for(;n;){n[2]|=64;const t=Kh(n);if(Q3(n)&&!t)return n;n=t}return null}function Gx(n,t,e){const i=t[10];i.begin&&i.begin();try{Td(n,t,n.template,e)}catch(s){throw p1(t,s),s}finally{i.end&&i.end()}}function d1(n){!function zx(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=lx(e),s=i[1];XU(s,i,s.template,e)}}(n[8])}function Ux(n,t,e){Vb(0),t(n,e)}const y5=(()=>Promise.resolve(null))();function u1(n){return n[7]||(n[7]=[])}function h1(n){return n.cleanup||(n.cleanup=[])}function f1(n,t,e){return(null===n||Gr(n))&&(e=function lz(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function p1(n,t){const e=n[9],i=e?e.get($a,null):null;i&&i.handleError(t)}function g1(n,t,e,i,s){for(let r=0;r<e.length;){const a=e[r++],c=e[r++],d=t[a],h=n.data[a];null!==h.setInput?h.setInput(d,s,i,c):d[c]=s}}function Za(n,t,e){const i=kg(t,n);!function _E(n,t,e){pn(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function rm(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?r=c:1==r?s=Y(s,c):2==r&&(i=Y(i,c+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const Wx=new Se("INJECTOR",-1);class m1{get(t,e=Gh){if(e===Gh){const i=new Error(`NullInjectorError: No provider for ${z(t)}!`);throw i.name="NullInjectorError",i}return e}}const jx=new Se("Set Injector scope."),tf={},w5={};let Yx;function _1(){return void 0===Yx&&(Yx=new m1),Yx}function v1(n,t=null,e=null,i){const s=y1(n,t,e,i);return s._resolveInjectorDefTypes(),s}function y1(n,t=null,e=null,i){return new C5(n,e,t||_1(),i)}class C5{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&pa(e,c=>this.processProvider(c,t,e)),pa([t],c=>this.processInjectorType(c,[],r)),this.records.set(Wx,kd(void 0,this));const a=this.records.get(jx);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:z(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Gh,i=ri.Default){this.assertNotDestroyed();const s=HA(this),r=Go(void 0);try{if(!(i&ri.SkipSelf)){let c=this.records.get(t);if(void 0===c){const d=function R5(n){return"function"==typeof n||"object"==typeof n&&n instanceof Se}(t)&&bb(t);c=d&&this.injectableDefInScope(d)?kd(Xx(t),tf):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&ri.Self?_1():this.parent).get(t,e=i&ri.Optional&&e===Gh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Yg]=a[Yg]||[]).unshift(z(t)),s)throw a;return function tG(n,t,e,i){const s=n[Yg];throw t[VA]&&s.unshift(t[VA]),n.message=function iG(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=z(t);if(Array.isArray(t))s=t.map(z).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];r.push(a+":"+("string"==typeof c?JSON.stringify(c):z(c)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(Zz,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Yg]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Go(r),HA(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(z(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,"")}processInjectorType(t,e,i){if(!(t=k(t)))return!1;let s=$D(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,c=-1!==i.indexOf(a);if(void 0!==r&&(s=$D(r)),null==s)return!1;if(null!=s.imports&&!c){let g;i.push(a);try{pa(s.imports,v=>{this.processInjectorType(v,e,i)&&(void 0===g&&(g=[]),g.push(v))})}finally{}if(void 0!==g)for(let v=0;v<g.length;v++){const{ngModule:b,providers:C}=g[v];pa(C,D=>this.processProvider(D,b,C||ji))}}this.injectorDefTypes.add(a);const d=Hl(a)||(()=>new a);this.records.set(a,kd(d,tf));const h=s.providers;if(null!=h&&!c){const g=t;pa(h,v=>this.processProvider(v,g,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Rd(t=k(t))?t:k(t&&t.provide);const r=function S5(n,t,e){return x1(n)?kd(void 0,n.useValue):kd(b1(n),tf)}(t);if(Rd(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=kd(void 0,tf,!0),a.factory=()=>Jb(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===tf&&(e.value=w5,e.value=e.factory()),"object"==typeof e.value&&e.value&&function k5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=k(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Xx(n){const t=bb(n),e=null!==t?t.factory:Hl(n);if(null!==e)return e;if(n instanceof Se)throw new K(204,"");if(n instanceof Function)return function M5(n){const t=n.length;if(t>0)throw zh(t,"?"),new K(204,"");const e=function V3(n){const t=n&&(n[Cg]||n[qD]);if(t){const e=function H3(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new K(204,"")}function b1(n,t,e){let i;if(Rd(n)){const s=k(n);return Hl(s)||Xx(s)}if(x1(n))i=()=>k(n.useValue);else if(function A5(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Jb(n.deps||[]));else if(function D5(n){return!(!n||!n.useExisting)}(n))i=()=>me(k(n.useExisting));else{const s=k(n&&(n.useClass||n.provide));if(!function T5(n){return!!n.deps}(n))return Hl(s)||Xx(s);i=()=>new s(...Jb(n.deps))}return i}function kd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function x1(n){return null!==n&&"object"==typeof n&&Qz in n}function Rd(n){return"function"==typeof n}let kn=(()=>{class n{static create(e,i){var s;if(Array.isArray(e))return v1({name:""},i,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return v1({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Gh,n.NULL=new m1,n.\u0275prov=Oe({token:n,providedIn:"any",factory:()=>me(Wx)}),n.__NG_ELEMENT_ID__=-1,n})();function V5(n,t){Og(lx(n)[1],zn())}function we(n){let t=function P1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Gr(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,"");s=t.\u0275dir}if(s){if(e){i.push(s);const a=n;a.inputs=Zx(n.inputs),a.declaredInputs=Zx(n.declaredInputs),a.outputs=Zx(n.outputs);const c=s.hostBindings;c&&U5(n,c);const d=s.viewQuery,h=s.contentQueries;if(d&&z5(n,d),h&&G5(n,h),H(n.inputs,s.inputs),H(n.declaredInputs,s.declaredInputs),H(n.outputs,s.outputs),Gr(s)&&s.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const c=r[a];c&&c.ngInherit&&c(n),c===we&&(e=!1)}}t=Object.getPrototypeOf(t)}!function H5(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Vg(s.hostAttrs,e=Vg(e,s.hostAttrs))}}(i)}function Zx(n){return n===rd?{}:n===ji?[]:n}function z5(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function G5(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function U5(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let am=null;function Id(){if(!am){const n=Ui.Symbol;if(n&&n.iterator)am=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(am=i)}}}return am}function nf(n){return!!Kx(n)&&(Array.isArray(n)||!(n instanceof Map)&&Id()in n)}function Kx(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ya(n,t,e){return n[t]=e}function vs(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ul(n,t,e,i){const s=vs(n,t,e);return vs(n,t+1,i)||s}function Yt(n,t,e,i){const s=ze();return vs(s,ud(),t)&&(Ai(),va(gn(),s,n,t,e,i)),Yt}function Ld(n,t,e,i){return vs(n,ud(),e)?t+te(e)+i:ti}function Od(n,t,e,i,s,r){const c=Ul(n,function Ya(){return Kt.lFrame.bindingIndex}(),e,s);return Xa(2),c?t+te(e)+i+te(s)+r:ti}function Lt(n,t,e,i,s,r,a,c){const d=ze(),h=Ai(),g=n+20,v=h.firstCreatePass?function Z5(n,t,e,i,s,r,a,c,d){const h=t.consts,g=Ad(t,n,4,a||null,jo(h,c));Nx(t,e,g,jo(h,d)),Og(t,g);const v=g.tViews=nm(2,g,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,g),v.queries=t.queries.embeddedTView(g)),g}(g,h,d,t,e,i,s,r,a):h.data[g];fa(v,!1);const b=d[11].createComment("");Qg(h,d,b,v),_s(b,d),sm(d,d[g]=c1(b,d,b,v)),Tg(v)&&Ox(h,d,v),null!=a&&Fx(d,v,c)}function vr(n){return dd(function mz(){return Kt.lFrame.contextLView}(),20+n)}function F(n,t=ri.Default){const e=ze();return null===e?me(n,t):TA(zn(),e,k(n),t)}function Ud(){throw new Error("invalid")}function Pe(n,t,e){const i=ze();return vs(i,ud(),t)&&Js(Ai(),gn(),i,n,t,i[11],e,!1),Pe}function n0(n,t,e,i,s){const a=s?"class":"style";g1(n,e,t.inputs[a],a,i)}function se(n,t,e,i){const s=ze(),r=Ai(),a=20+n,c=s[11],d=s[a]=mx(c,t,function Sz(){return Kt.lFrame.currentNamespace}()),h=r.firstCreatePass?function v4(n,t,e,i,s,r,a){const c=t.consts,h=Ad(t,n,2,s,jo(c,r));return Nx(t,e,h,jo(c,a)),null!==h.attrs&&rm(h,h.attrs,!1),null!==h.mergedAttrs&&rm(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,i):r.data[a];fa(h,!0);const g=h.mergedAttrs;null!==g&&Bg(c,d,g);const v=h.classes;null!==v&&wx(c,d,v);const b=h.styles;null!==b&&RE(c,d,b),64!=(64&h.flags)&&Qg(r,s,d,h),0===function uz(){return Kt.lFrame.elementDepthCount}()&&_s(d,s),function hz(){Kt.lFrame.elementDepthCount++}(),Tg(h)&&(Ox(r,s,h),ZE(r,h,s)),null!==i&&Fx(s,h)}function re(){let n=zn();Ob()?Fb():(n=n.parent,fa(n,!1));const t=n;!function fz(){Kt.lFrame.elementDepthCount--}();const e=Ai();e.firstCreatePass&&(Og(e,n),Ab(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function kz(n){return 0!=(16&n.flags)}(t)&&n0(e,t,ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rz(n){return 0!=(32&n.flags)}(t)&&n0(e,t,ze(),t.stylesWithoutHost,!1)}function yt(n,t,e,i){se(n,t,e,i),re()}function Wd(n,t,e){const i=ze(),s=Ai(),r=n+20,a=s.firstCreatePass?function y4(n,t,e,i,s){const r=t.consts,a=jo(r,i),c=Ad(t,n,8,"ng-container",a);return null!==a&&rm(c,a,!0),Nx(t,e,c,jo(r,s)),null!==t.queries&&t.queries.elementStart(t,c),c}(r,s,i,t,e):s.data[r];fa(a,!0);const c=i[r]=i[11].createComment("");Qg(s,i,c,a),_s(c,i),Tg(a)&&(Ox(s,i,a),ZE(s,a,i)),null!=e&&Fx(i,a)}function jd(){let n=zn();const t=Ai();Ob()?Fb():(n=n.parent,fa(n,!1)),t.firstCreatePass&&(Og(t,n),Ab(n)&&t.queries.elementEnd(n))}function Ka(){return ze()}function rf(n){return!!n&&"function"==typeof n.then}function J1(n){return!!n&&"function"==typeof n.subscribe}const s0=J1;function dt(n,t,e,i){const s=ze(),r=Ai(),a=zn();return eT(r,s,s[11],a,n,t,!!e,i),dt}function r0(n,t){const e=zn(),i=ze(),s=Ai();return eT(s,i,f1(Bb(s.data),e,i),e,n,t,!1),r0}function eT(n,t,e,i,s,r,a,c){const d=Tg(i),g=n.firstCreatePass&&h1(n),v=t[8],b=u1(t);let C=!0;if(3&i.type||c){const E=pr(i,t),I=c?c(E):E,P=b.length,N=c?V=>c(Tn(V[i.index])):i.index;if(pn(e)){let V=null;if(!c&&d&&(V=function b4(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===i){const c=t[7],d=s[r+2];return c.length>d?c[d]:null}"string"==typeof a&&(r+=2)}return null}(n,t,s,i.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=r,V.__ngLastListenerFn__=r,C=!1;else{r=a0(i,t,v,r,!1);const G=e.listen(I,s,r);b.push(r,G),g&&g.push(s,N,P,P+1)}}else r=a0(i,t,v,r,!0),I.addEventListener(s,r,a),b.push(r),g&&g.push(s,N,P,a)}else r=a0(i,t,v,r,!1);const D=i.outputs;let A;if(C&&null!==D&&(A=D[s])){const E=A.length;if(E)for(let I=0;I<E;I+=2){const q=t[A[I]][A[I+1]].subscribe(r),ee=b.length;b.push(r,q),g&&g.push(s,i.index,ee,-(ee+1))}}}function tT(n,t,e,i){try{return!1!==e(i)}catch(s){return p1(n,s),!1}}function a0(n,t,e,i,s){return function r(a){if(a===Function)return i;const c=2&n.flags?$s(n.index,t):t;0==(32&t[2])&&Hx(c);let d=tT(t,0,i,a),h=r.__ngNextListenerFn__;for(;h;)d=tT(t,0,h,a)&&d,h=h.__ngNextListenerFn__;return s&&!1===d&&(a.preventDefault(),a.returnValue=!1),d}}function ui(n=1){return function xz(n){return(Kt.lFrame.contextLView=function wz(n,t){for(;n>0;)t=t[15],n--;return t}(n,Kt.lFrame.contextLView))[8]}(n)}function x4(n,t){let e=null;const i=function AU(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===i?OE(n,r,!0):kU(i,r))return s}else e=s}return e}function tn(n){const t=ze()[16][6];if(!t.projection){const i=t.projection=zh(n?n.length:1,null),s=i.slice();let r=t.child;for(;null!==r;){const a=n?x4(r,n):0;null!==a&&(s[a]?s[a].projectionNext=r:i[a]=r,s[a]=r),r=r.next}}}function ai(n,t=0,e){const i=ze(),s=Ai(),r=Ad(s,20+n,16,null,e||null);null===r.projection&&(r.projection=t),Fb(),64!=(64&r.flags)&&function bU(n,t,e){kE(t[11],0,t,e,bE(n,e,t),ME(e.parent||t[6],e,t))}(s,i,r)}function uT(n,t,e,i,s){const r=n[e+1],a=null===t;let c=i?Wr(r):qa(r),d=!1;for(;0!==c&&(!1===d||a);){const g=n[c+1];M4(n[c],t)&&(d=!0,n[c+1]=i?Sx(g):Cx(g)),c=i?Wr(g):qa(g)}d&&(n[e+1]=i?Cx(r):Sx(r))}function M4(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&bd(n,t)>=0}const Wn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hT(n){return n.substring(Wn.key,Wn.keyEnd)}function fT(n,t){const e=Wn.textEnd;return e===t?-1:(t=Wn.keyEnd=function E4(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Wn.key=t,e),Yd(n,t,e))}function Yd(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function yr(n,t,e){return Yr(n,t,e,!1),yr}function Qt(n,t){return Yr(n,t,null,!0),Qt}function xa(n,t){for(let e=function D4(n){return function gT(n){Wn.key=0,Wn.keyEnd=0,Wn.value=0,Wn.valueEnd=0,Wn.textEnd=n.length}(n),fT(n,Yd(n,0,Wn.textEnd))}(t);e>=0;e=fT(t,e))qs(n,hT(t),!0)}function Yr(n,t,e,i){const s=ze(),r=Ai(),a=Xa(2);r.firstUpdatePass&&yT(r,n,a,i),t!==ti&&vs(s,a,t)&&xT(r,r.data[Ds()],s,s[11],n,s[a+1]=function V4(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=z(Ks(n)))),n}(t,e),i,a)}function vT(n,t){return t>=n.expandoStartIndex}function yT(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[Ds()],a=vT(n,e);CT(r,i)&&null===t&&!a&&(t=!1),t=function P4(n,t,e,i){const s=Bb(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=af(e=l0(null,n,t,e,i),t.attrs,i),r=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==s)if(e=l0(s,n,t,e,i),null===r){let d=function L4(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==qa(i))return n[Wr(i)]}(n,t,i);void 0!==d&&Array.isArray(d)&&(d=l0(null,n,t,d[1],i),d=af(d,t.attrs,i),function O4(n,t,e,i){n[Wr(e?t.classBindings:t.styleBindings)]=i}(n,t,i,d))}else r=function F4(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=af(i,n[r].hostAttrs,e);return af(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function w4(n,t,e,i,s,r){let a=r?t.classBindings:t.styleBindings,c=Wr(a),d=qa(a);n[i]=e;let g,h=!1;if(Array.isArray(e)){const v=e;g=v[1],(null===g||bd(v,g)>0)&&(h=!0)}else g=e;if(s)if(0!==d){const b=Wr(n[c+1]);n[i+1]=em(b,c),0!==b&&(n[b+1]=Mx(n[b+1],i)),n[c+1]=function LU(n,t){return 131071&n|t<<17}(n[c+1],i)}else n[i+1]=em(c,0),0!==c&&(n[c+1]=Mx(n[c+1],i)),c=i;else n[i+1]=em(d,0),0===c?c=i:n[d+1]=Mx(n[d+1],i),d=i;h&&(n[i+1]=Cx(n[i+1])),uT(n,g,i,!0),uT(n,g,i,!1),function C4(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&bd(r,t)>=0&&(e[i+1]=Sx(e[i+1]))}(t,g,n,i,r),a=em(c,d),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,i)}}function l0(n,t,e,i,s){let r=null;const a=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<a&&(r=t[c],i=af(i,r.hostAttrs,s),r!==n);)c++;return null!==n&&(e.directiveStylingLast=c),i}function af(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),qs(n,a,!!e||t[++r]))}return void 0===n?null:n}function xT(n,t,e,i,s,r,a,c){if(!(3&t.type))return;const d=n.data,h=d[c+1];cm(function HE(n){return 1==(1&n)}(h)?wT(d,t,e,s,qa(h),a):void 0)||(cm(r)||function VE(n){return 2==(2&n)}(h)&&(r=wT(d,null,e,s,c,a)),function wU(n,t,e,i,s){const r=pn(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:Qs.DashCase;if(null==s)r?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const c="string"==typeof s&&s.endsWith("!important");c&&(s=s.slice(0,-10),a|=Qs.Important),r?n.setStyle(e,i,s,a):e.style.setProperty(i,s,c?"important":"")}}}(i,a,kg(Ds(),e),s,r))}function wT(n,t,e,i,s,r){const a=null===t;let c;for(;s>0;){const d=n[s],h=Array.isArray(d),g=h?d[1]:d,v=null===g;let b=e[s+1];b===ti&&(b=v?ji:void 0);let C=v?Zb(b,i):g===i?b:void 0;if(h&&!cm(C)&&(C=Zb(d,i)),cm(C)&&(c=C,a))return c;const D=n[s+1];s=a?Wr(D):qa(D)}if(null!==t){let d=r?t.residualClasses:t.residualStyles;null!=d&&(c=Zb(d,i))}return c}function cm(n){return void 0!==n}function CT(n,t){return 0!=(n.flags&(t?16:32))}function Ue(n,t=""){const e=ze(),i=Ai(),s=n+20,r=i.firstCreatePass?Ad(i,s,1,t,null):i.data[s],a=e[s]=function gx(n,t){return pn(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Qg(i,e,a,r),fa(r,!1)}function Vs(n){return hi("",n,""),Vs}function hi(n,t,e){const i=ze(),s=Ld(i,n,t,e);return s!==ti&&Za(i,Ds(),s),hi}function ys(n,t,e,i,s){const r=ze(),a=Od(r,n,t,e,i,s);return a!==ti&&Za(r,Ds(),a),ys}function RT(n,t,e){!function Xr(n,t,e,i){const s=Ai(),r=Xa(2);s.firstUpdatePass&&yT(s,null,r,i);const a=ze();if(e!==ti&&vs(a,r,e)){const c=s.data[Ds()];if(CT(c,i)&&!vT(s,r)){let d=i?c.classesWithoutHost:c.stylesWithoutHost;null!==d&&(e=Y(d,e||"")),n0(s,c,a,e,i)}else!function B4(n,t,e,i,s,r,a,c){s===ti&&(s=ji);let d=0,h=0,g=0<s.length?s[0]:null,v=0<r.length?r[0]:null;for(;null!==g||null!==v;){const b=d<s.length?s[d+1]:void 0,C=h<r.length?r[h+1]:void 0;let A,D=null;g===v?(d+=2,h+=2,b!==C&&(D=v,A=C)):null===v||null!==g&&g<v?(d+=2,D=g):(h+=2,D=v,A=C),null!==D&&xT(n,t,e,i,D,A,a,c),g=d<s.length?s[d]:null,v=h<r.length?r[h]:null}}(s,c,a,a[11],a[r+1],a[r+1]=function N4(n,t,e){if(null==e||""===e)return ji;const i=[],s=Ks(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(qs,xa,Ld(ze(),n,t,e),!0)}function wa(n,t,e){const i=ze();return vs(i,ud(),t)&&Js(Ai(),gn(),i,n,t,i[11],e,!0),wa}function c0(n,t,e){const i=ze();if(vs(i,ud(),t)){const r=Ai(),a=gn();Js(r,a,i,n,t,f1(Bb(r.data),a,i),e,!0)}return c0}const Wl=void 0;var sW=["en",[["a","p"],["AM","PM"],Wl],[["AM","PM"],Wl,Wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wl,"{1} 'at' {0}",Wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nW(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Xd={};function GT(n){return n in Xd||(Xd[n]=Ui.ng&&Ui.ng.common&&Ui.ng.common.locales&&Ui.ng.common.locales[n]),Xd[n]}var pt=(()=>((pt=pt||{})[pt.LocaleId=0]="LocaleId",pt[pt.DayPeriodsFormat=1]="DayPeriodsFormat",pt[pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",pt[pt.DaysFormat=3]="DaysFormat",pt[pt.DaysStandalone=4]="DaysStandalone",pt[pt.MonthsFormat=5]="MonthsFormat",pt[pt.MonthsStandalone=6]="MonthsStandalone",pt[pt.Eras=7]="Eras",pt[pt.FirstDayOfWeek=8]="FirstDayOfWeek",pt[pt.WeekendRange=9]="WeekendRange",pt[pt.DateFormat=10]="DateFormat",pt[pt.TimeFormat=11]="TimeFormat",pt[pt.DateTimeFormat=12]="DateTimeFormat",pt[pt.NumberSymbols=13]="NumberSymbols",pt[pt.NumberFormats=14]="NumberFormats",pt[pt.CurrencyCode=15]="CurrencyCode",pt[pt.CurrencySymbol=16]="CurrencySymbol",pt[pt.CurrencyName=17]="CurrencyName",pt[pt.Currencies=18]="Currencies",pt[pt.Directionality=19]="Directionality",pt[pt.PluralCase=20]="PluralCase",pt[pt.ExtraData=21]="ExtraData",pt))();const dm="en-US";let UT=dm;function h0(n,t,e,i,s){if(n=k(n),Array.isArray(n))for(let r=0;r<n.length;r++)h0(n[r],t,e,i,s);else{const r=Ai(),a=ze();let c=Rd(n)?n:k(n.provide),d=b1(n);const h=zn(),g=1048575&h.providerIndexes,v=h.directiveStart,b=h.providerIndexes>>20;if(Rd(n)||!n.multi){const C=new Oh(d,s,F),D=p0(c,t,s?g:g+b,v);-1===D?(Gg(Nh(h,a),r,c),f0(r,n,t.length),t.push(c),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(C),a.push(C)):(e[D]=C,a[D]=C)}else{const C=p0(c,t,g+b,v),D=p0(c,t,g,g+b),A=C>=0&&e[C],E=D>=0&&e[D];if(s&&!E||!s&&!A){Gg(Nh(h,a),r,c);const I=function nj(n,t,e,i,s){const r=new Oh(n,e,F);return r.multi=[],r.index=t,r.componentProviders=0,fk(r,s,i&&!e),r}(s?ij:tj,e.length,s,i,d);!s&&E&&(e[D].providerFactory=I),f0(r,n,t.length,0),t.push(c),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(I),a.push(I)}else f0(r,n,C>-1?C:D,fk(e[s?D:C],d,!s&&i));!s&&i&&E&&e[D].componentProviders++}}}function f0(n,t,e,i){const s=Rd(t),r=function E5(n){return!!n.useClass}(t);if(s||r){const d=(r?k(t.useClass):t).prototype.ngOnDestroy;if(d){const h=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const g=h.indexOf(e);-1===g?h.push(e,[i,d]):h[g+1].push(i,d)}else h.push(e,d)}}}function fk(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function p0(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function tj(n,t,e,i){return g0(this.multi,[])}function ij(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Bh(e,e[1],this.providerFactory.index,i);r=c.slice(0,a),g0(s,r);for(let d=a;d<c.length;d++)r.push(c[d])}else r=[],g0(s,r);return r}function g0(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function vt(n,t=[]){return e=>{e.providersResolver=(i,s)=>function ej(n,t,e){const i=Ai();if(i.firstCreatePass){const s=Gr(n);h0(e,i.data,i.blueprint,s,!0),h0(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class pk{}class aj{resolveComponentFactory(t){throw function rj(n){const t=Error(`No component factory found for ${z(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Qa=(()=>{class n{}return n.NULL=new aj,n})();function oj(){return qd(zn(),ze())}function qd(n,t){return new Ye(pr(n,t))}let Ye=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=oj,n})();function lj(n){return n instanceof Ye?n.nativeElement:n}class hf{}let $r=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function dj(){const n=ze(),e=$s(zn().index,n);return function cj(n){return n[11]}(ha(e)?e:n)}(),n})(),uj=(()=>{class n{}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:()=>null}),n})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hj=new Zo("13.1.3"),m0={};function gm(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(Tn(r)),zr(r))for(let c=10;c<r.length;c++){const d=r[c],h=d[1].firstChild;null!==h&&gm(d[1],d,h,i)}const a=e.type;if(8&a)gm(n,t,e.child,i);else if(32&a){const c=hx(e,t);let d;for(;d=c();)i.push(d)}else if(16&a){const c=EE(t,e);if(Array.isArray(c))i.push(...c);else{const d=Kh(t[16]);gm(d[1],d,c,i,!0)}}e=s?e.projectionNext:e.next}return i}class ff{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return gm(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(zr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(_x(t,i),Wg(e,i))}this._attachedToViewContainer=!1}yE(this._lView[1],this._lView)}onDestroy(t){e1(this._lView[1],this._lView,null,t)}markForCheck(){Hx(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gx(this._lView[1],this._lView,this.context)}checkNoChanges(){!function _5(n,t,e){Ig(!0);try{Gx(n,t,e)}finally{Ig(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new K(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hU(n,t){Qh(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,"");this._appRef=t}}class fj extends ff{constructor(t){super(t),this._view=t}detectChanges(){d1(this._view)}checkNoChanges(){!function v5(n){Ig(!0);try{d1(n)}finally{Ig(!1)}}(this._view)}get context(){return null}}class mk extends Qa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=gs(t);return new _0(e,this.ngModule)}}function _k(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const gj=new Se("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uE});class _0 extends pk{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function IU(n){return n.map(RU).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return _k(this.componentDef.inputs)}get outputs(){return _k(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function mj(n,t){return{get:(e,i,s)=>{const r=n.get(e,m0,s);return r!==m0||i===m0?r:t.get(e,i,s)}}}(t,s.injector):t,a=r.get(hf,lA),c=r.get(uj,null),d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=i?function JE(n,t,e){if(pn(n))return n.selectRootElement(t,e===Vr.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(d,i,this.componentDef.encapsulation):mx(a.createRenderer(null,this.componentDef),h,function pj(n){const t=n.toLowerCase();return"svg"===t?aA:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),v=this.componentDef.onPush?576:528,b=function I1(n,t){return{components:[],scheduler:n||uE,clean:y5,playerHandler:t||null,flags:0}}(),C=nm(0,null,null,1,0,null,null,null,null,null),D=Jh(null,C,b,v,null,null,a,d,c,r);let A,E;Pg(D);try{const I=function k1(n,t,e,i,s,r){const a=e[1];e[20]=n;const d=Ad(a,20,2,"#host",null),h=d.mergedAttrs=t.hostAttrs;null!==h&&(rm(d,h,!0),null!==n&&(Bg(s,n,h),null!==d.classes&&wx(s,n,d.classes),null!==d.styles&&RE(s,n,d.styles)));const g=i.createRenderer(n,t),v=Jh(e,KE(t),null,t.onPush?64:16,e[20],d,i,g,r||null,null);return a.firstCreatePass&&(Gg(Nh(d,e),a,t.type),a1(a,d),o1(d,e.length,1)),sm(e,v),e[20]=v}(g,this.componentDef,D,a,d);if(g)if(i)Bg(d,g,["ng-version",hj.full]);else{const{attrs:P,classes:N}=function PU(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!Ur(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);P&&Bg(d,g,P),N&&N.length>0&&wx(d,g,N.join(" "))}if(E=Ib(C,20),void 0!==e){const P=E.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const V=e[N];P.push(null!=V?Array.from(V):null)}}A=function R1(n,t,e,i,s){const r=e[1],a=function e5(n,t,e){const i=zn();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),l1(n,i,t,Ed(n,t,1,null),e));const s=Bh(t,n,i.directiveStart,i);_s(s,t);const r=pr(i,t);return r&&_s(r,t),s}(r,e,t);if(i.components.push(a),n[8]=a,s&&s.forEach(d=>d(a,t)),t.contentQueries){const d=zn();t.contentQueries(1,a,d.directiveStart)}const c=zn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Yo(c.index),s1(e[1],c,0,c.directiveStart,c.directiveEnd,t),r1(t,a)),a}(I,this.componentDef,D,b,[V5]),ef(C,D,null)}finally{Lg()}return new vj(this.componentType,A,qd(E,D),D,E)}}class vj extends class sj{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new fj(s),this.componentType=t}get injector(){return new gd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Ja{}class vk{}const Zd=new Map;class xk extends Ja{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new mk(this);const i=ur(t);this._bootstrapComponents=_a(i.bootstrap),this._r3Injector=y1(t,e,[{provide:Ja,useValue:this},{provide:Qa,useValue:this.componentFactoryResolver}],z(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=kn.THROW_IF_NOT_FOUND,i=ri.Default){return t===kn||t===Ja||t===Wx?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class v0 extends vk{constructor(t){super(),this.moduleType=t,null!==ur(t)&&function bj(n){const t=new Set;!function e(i){const s=ur(i,!0),r=s.id;null!==r&&(function yk(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${z(t)} vs ${z(t.name)}`)}(r,Zd.get(r),i),Zd.set(r,i));const a=_a(s.imports);for(const c of a)t.has(c)||(t.add(c),e(c))}(n)}(t)}create(t){return new xk(this.moduleType,t)}}function Ck(n,t,e,i,s){return function Dk(n,t,e,i,s,r,a){const c=t+e;return Ul(n,c,s,r)?ya(n,c+2,a?i.call(a,s,r):i(s,r)):gf(n,c+2)}(ze(),Ss(),n,t,e,i,s)}function Mk(n,t,e,i,s,r,a){return function Ek(n,t,e,i,s,r,a,c,d){const h=t+e;return function _r(n,t,e,i,s,r){const a=Ul(n,t,e,i);return Ul(n,t+2,s,r)||a}(n,h,s,r,a,c)?ya(n,h+4,d?i.call(d,s,r,a,c):i(s,r,a,c)):gf(n,h+4)}(ze(),Ss(),n,t,e,i,s,r,a)}function gf(n,t){const e=n[t];return e===ti?void 0:e}function Sk(n,t,e,i,s,r){const a=t+e;return vs(n,a,s)?ya(n,a+1,r?i.call(r,s):i(s)):gf(n,a+1)}function y0(n){return t=>{setTimeout(n,void 0,t)}}const gt=class Ij extends Ge{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,a;let c=t,d=e||(()=>null),h=i;if(t&&"object"==typeof t){const v=t;c=null===(s=v.next)||void 0===s?void 0:s.bind(v),d=null===(r=v.error)||void 0===r?void 0:r.bind(v),h=null===(a=v.complete)||void 0===a?void 0:a.bind(v)}this.__isAsync&&(d=y0(d),c&&(c=y0(c)),h&&(h=y0(h)));const g=super.subscribe({next:c,error:d,complete:h});return t instanceof Le&&t.add(g),g}};function Pj(){return this._results[Id()]()}class jl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Id(),i=jl.prototype;i[e]||(i[e]=Pj)}get changes(){return this._changes||(this._changes=new gt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=mr(t);(this._changesDetected=!function zz(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let wn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Fj,n})();const Lj=wn,Oj=class extends Lj{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Jh(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),ef(e,i,t),new ff(i)}};function Fj(){return mm(zn(),ze())}function mm(n,t){return 4&n.type?new Oj(t,n,qd(n,t)):null}let on=(()=>{class n{}return n.__NG_ELEMENT_ID__=Nj,n})();function Nj(){return Lk(zn(),ze())}const Bj=on,Ik=class extends Bj{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new gd(this._hostTNode,this._hostLView)}get parentInjector(){const t=zg(this._hostTNode,this._hostLView);if(MA(t)){const e=pd(t,this._hostLView),i=fd(t);return new gd(e[1].data[i+8],e)}return new gd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Pk(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const a=t&&!function Hh(n){return"function"==typeof n}(t);let c;if(a)c=e;else{const v=e||{};c=v.index,i=v.injector,s=v.projectableNodes,r=v.ngModuleRef}const d=a?t:new _0(gs(t)),h=i||this.parentInjector;if(!r&&null==d.ngModule&&h){const v=h.get(Ja,null);v&&(r=v)}const g=d.create(h,s,void 0,r);return this.insert(g.hostView,c),g}insert(t,e){const i=t._lView,s=i[1];if(function dz(n){return zr(n[3])}(i)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const v=i[3],b=new Ik(v,v[6],v[3]);b.detach(b.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function pU(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],LA(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function gU(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const c=t[19];null!==c&&c.insertView(n),t[2]|=128}(s,i,a,r);const c=bx(r,a),d=i[11],h=Kg(d,a[7]);return null!==h&&function uU(n,t,e,i,s,r){i[0]=s,i[6]=t,Qh(n,i,e,1,s,r)}(s,a[6],d,i,h,c),t.attachToViewContainerRef(),LA(b0(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Pk(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=_x(this._lContainer,e);i&&(Wg(b0(this._lContainer),e),yE(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=_x(this._lContainer,e);return i&&null!=Wg(b0(this._lContainer),e)?new ff(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Pk(n){return n[8]}function b0(n){return n[8]||(n[8]=[])}function Lk(n,t){let e;const i=t[n.index];if(zr(i))e=i;else{let s;if(8&n.type)s=Tn(i);else{const r=t[11];s=r.createComment("");const a=pr(n,t);Gl(r,Kg(r,a),s,function yU(n,t){return pn(n)?n.nextSibling(t):t.nextSibling}(r,a),!1)}t[n.index]=e=c1(i,t,s,n),sm(t,e)}return new Ik(e,n,t)}class x0{constructor(t){this.queryList=t,this.matches=null}clone(){return new x0(this.queryList)}setDirty(){this.queryList.setDirty()}}class w0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new w0(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Vk(t,e).matches&&this.queries[e].setDirty()}}class Ok{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class C0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new C0(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class M0{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new M0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,zj(e,r)),this.matchTNodeWithReadOption(t,e,Ug(e,t,r,!1,!1))}else i===wn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ug(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Ye||s===on||s===wn&&4&e.type)this.addMatch(e.index,-2);else{const r=Ug(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function zj(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Uj(n,t,e,i){return-1===e?function Gj(n,t){return 11&n.type?qd(n,t):4&n.type?mm(n,t):null}(t,n):-2===e?function Wj(n,t,e){return e===Ye?qd(t,n):e===wn?mm(t,n):e===on?Lk(t,n):void 0}(n,t,i):Bh(n,n[1],e,t)}function Fk(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,a=e.matches,c=[];for(let d=0;d<a.length;d+=2){const h=a[d];c.push(h<0?null:Uj(t,r[h],a[d+1],e.metadata.read))}s.matches=c}return s.matches}function S0(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const a=Fk(n,t,s,e);for(let c=0;c<r.length;c+=2){const d=r[c];if(d>0)i.push(a[c/2]);else{const h=r[c+1],g=t[-d];for(let v=10;v<g.length;v++){const b=g[v];b[17]===b[3]&&S0(b[1],b,h,i)}if(null!==g[9]){const v=g[9];for(let b=0;b<v.length;b++){const C=v[b];S0(C[1],C,h,i)}}}}}return i}function Ke(n){const t=ze(),e=Ai(),i=gA();Vb(i+1);const s=Vk(e,i);if(n.dirty&&cA(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?S0(e,t,i,[]):Fk(e,t,s,i);n.reset(r,lj),n.notifyOnChanges()}return!0}return!1}function oi(n,t,e){const i=Ai();i.firstCreatePass&&(Bk(i,new Ok(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Nk(i,ze(),t)}function ii(n,t,e,i){const s=Ai();if(s.firstCreatePass){const r=zn();Bk(s,new Ok(t,e,i),r.index),function Yj(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}Nk(s,ze(),e)}function Qe(){return function jj(n,t){return n[19].queries[t].queryList}(ze(),gA())}function Nk(n,t,e){const i=new jl(4==(4&e));e1(n,t,i,i.destroy),null===t[19]&&(t[19]=new w0),t[19].queries.push(new x0(i))}function Bk(n,t,e){null===n.queries&&(n.queries=new C0),n.queries.track(new M0(t,e))}function Vk(n,t){return n.queries.getByIndex(t)}function Hk(n,t){return mm(n,t)}function ym(...n){}const bm=new Se("Application Initializer");let Qd=(()=>{class n{constructor(e){this.appInits=e,this.resolve=ym,this.reject=ym,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(rf(r))e.push(r);else if(s0(r)){const a=new Promise((c,d)=>{r.subscribe({complete:c,error:d})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(me(bm,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const vf=new Se("AppId"),u8={provide:vf,useFactory:function d8(){return`${R0()}${R0()}${R0()}`},deps:[]};function R0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nR=new Se("Platform Initializer"),er=new Se("Platform ID"),I0=new Se("appBootstrapListener");let sR=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const eo=new Se("LocaleId"),rR=new Se("DefaultCurrencyCode");class h8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let xm=(()=>{class n{compileModuleSync(e){return new v0(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=_a(ur(e).declarations).reduce((a,c)=>{const d=gs(c);return d&&a.push(new _0(d)),a},[]);return new h8(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const p8=(()=>Promise.resolve(0))();function P0(n){"undefined"==typeof Zone?p8.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class At{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function g8(){let n=Ui.requestAnimationFrame,t=Ui.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function v8(n){const t=()=>{!function _8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ui,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,O0(n),n.isCheckStableRunning=!0,L0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),O0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,a,c)=>{try{return aR(n),e.invokeTask(s,r,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),oR(n)}},onInvoke:(e,i,s,r,a,c,d)=>{try{return aR(n),e.invoke(s,r,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&t(),oR(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,O0(n),L0(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!At.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(At.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,m8,ym,ym);try{return r.runTask(a,e,i)}finally{r.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const m8={};function L0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function O0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function aR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oR(n){n._nesting--,L0(n)}class y8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gt,this.onMicrotaskEmpty=new gt,this.onStable=new gt,this.onError=new gt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let F0=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{At.assertNotInAngularZone(),P0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())P0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(me(At))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),lR=(()=>{class n{constructor(){this._applications=new Map,N0.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return N0.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class b8{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let qr,N0=new b8;const cR=new Se("AllowMultipleToken");class dR{constructor(t,e){this.name=t,this.token=e}}function uR(n,t,e=[]){const i=`Platform: ${t}`,s=new Se(i);return(r=[])=>{let a=hR();if(!a||a.injector.get(cR,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const c=e.concat(r).concat({provide:s,useValue:!0},{provide:jx,useValue:"platform"});!function M8(n){if(qr&&!qr.destroyed&&!qr.injector.get(cR,!1))throw new K(400,"");qr=n.get(fR);const t=n.get(nR,null);t&&t.forEach(e=>e())}(kn.create({providers:c,name:i}))}return function S8(n){const t=hR();if(!t)throw new K(401,"");return t}()}}function hR(){return qr&&!qr.destroyed?qr:null}let fR=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const c=function D8(n,t){let e;return e="noop"===n?new y8:("zone.js"===n?void 0:n)||new At({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),d=[{provide:At,useValue:c}];return c.run(()=>{const h=kn.create({providers:d,parent:this.injector,name:e.moduleType.name}),g=e.create(h),v=g.injector.get($a,null);if(!v)throw new K(402,"");return c.runOutsideAngular(()=>{const b=c.onError.subscribe({next:C=>{v.handleError(C)}});g.onDestroy(()=>{B0(this._modules,g),b.unsubscribe()})}),function A8(n,t,e){try{const i=e();return rf(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(v,c,()=>{const b=g.injector.get(Qd);return b.runInitializers(),b.donePromise.then(()=>(function cW(n){Ys(n,"Expected localeId to be defined"),"string"==typeof n&&(UT=n.toLowerCase().replace(/_/g,"-"))}(g.injector.get(eo,dm)||dm),this._moduleDoBootstrap(g),g))})})}bootstrapModule(e,i=[]){const s=pR({},i);return function w8(n,t,e){const i=new v0(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Jd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new K(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(me(kn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function pR(n,t){return Array.isArray(t)?t.reduce(pR,n):Object.assign(Object.assign({},n),t)}let Jd=(()=>{class n{constructor(e,i,s,r,a){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Jt(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),d=new Jt(h=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{At.assertNotInAngularZone(),P0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{At.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});this.isStable=M(c,d.pipe(R()))}bootstrap(e,i){if(!this._initStatus.done)throw new K(405,"");let s;s=e instanceof pk?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function C8(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ja),c=s.create(kn.NULL,[],i||s.selector,r),d=c.location.nativeElement,h=c.injector.get(F0,null),g=h&&c.injector.get(lR);return h&&g&&g.registerApplication(d,h),c.onDestroy(()=>{this.detachView(c.hostView),B0(this.components,c),g&&g.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new K(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;B0(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(I0,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(me(At),me(kn),me($a),me(Qa),me(Qd))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function B0(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let mR=!0,Li=(()=>{class n{}return n.__NG_ELEMENT_ID__=k8,n})();function k8(n){return function R8(n,t,e){if(Eg(n)&&!e){const i=$s(n.index,t);return new ff(i,i)}return 47&n.type?new ff(t[16],t):null}(zn(),ze(),16==(16&n))}class CR{constructor(){}supports(t){return nf(t)}create(t){return new N8(t)}}const F8=(n,t)=>t;class N8{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||F8}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const a=!i||e&&e.currentIndex<SR(i,s,r)?e:i,c=SR(a,s,r),d=a.currentIndex;if(a===i)s--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=c-s,g=d-s;if(h!=g){for(let b=0;b<h;b++){const C=b<r.length?r[b]:r[b]=0,D=C+b;g<=D&&D<h&&(r[b]=C+1)}r[a.previousIndex]=g-h}}c!==d&&t(a,c,d)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!nf(t))throw new K(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)r=t[c],a=this._trackByFn(c,r),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,r,a,c)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,c),i=!0),e=e._next}else s=0,function q5(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Id()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,c=>{a=this._trackByFn(s,c),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,c,a,s)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,a,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new B8(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new MR),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MR),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class B8{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class V8{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class MR{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new V8,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function SR(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class DR{constructor(){}supports(t){return t instanceof Map||Kx(t)}create(){return new H8}}class H8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Kx(t)))throw new K(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const i=new z8(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class z8{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function AR(){return new Hs([new CR])}let Hs=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||AR()),deps:[[n,new Zs,new Un]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new K(901,"")}}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:AR}),n})();function ER(){return new Ko([new DR])}let Ko=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ER()),deps:[[n,new Zs,new Un]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new K(901,"")}}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:ER}),n})();const G8=[new DR],W8=new Hs([new CR]),j8=new Ko(G8),Y8=uR(null,"core",[{provide:er,useValue:"unknown"},{provide:fR,deps:[kn]},{provide:lR,deps:[]},{provide:sR,deps:[]}]),K8=[{provide:Jd,useClass:Jd,deps:[At,kn,$a,Qa,Qd]},{provide:gj,deps:[At],useFactory:function Q8(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Qd,useClass:Qd,deps:[[new Un,bm]]},{provide:xm,useClass:xm,deps:[]},u8,{provide:Hs,useFactory:function X8(){return W8},deps:[]},{provide:Ko,useFactory:function $8(){return j8},deps:[]},{provide:eo,useFactory:function q8(n){return n||function Z8(){return"undefined"!=typeof $localize&&$localize.locale||dm}()},deps:[[new jh(eo),new Un,new Zs]]},{provide:rR,useValue:"USD"}];let J8=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(me(Jd))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:K8}),n})(),Cm=null;function Ca(){return Cm}const Bt=new Se("DocumentToken");let Xl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return function s6(){return me(TR)}()},providedIn:"platform"}),n})();const r6=new Se("Location Initialized");let TR=(()=>{class n extends Xl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ca().getBaseHref(this._doc)}onPopState(e){const i=Ca().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ca().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){kR()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){kR()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:function(){return function a6(){return new TR(me(Bt))}()},providedIn:"platform"}),n})();function kR(){return!!window.history.pushState}function U0(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function RR(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function to(n){return n&&"?"!==n[0]?"?"+n:n}let eu=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(){return function o6(n){const t=me(Bt).location;return new IR(me(Xl),t&&t.origin||"")}()},providedIn:"root"}),n})();const W0=new Se("appBaseHref");let IR=(()=>{class n extends eu{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return U0(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+to(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const a=this.prepareExternalUrl(s+to(r));this._platformLocation.pushState(e,i,a)}replaceState(e,i,s,r){const a=this.prepareExternalUrl(s+to(r));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(me(Xl),me(W0,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),l6=(()=>{class n extends eu{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=U0(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let a=this.prepareExternalUrl(s+to(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,s,r){let a=this.prepareExternalUrl(s+to(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(me(Xl),me(W0,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Mm=(()=>{class n{constructor(e,i){this._subject=new gt,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=RR(PR(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+to(i))}normalize(e){return n.stripTrailingSlash(function d6(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,PR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+to(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+to(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=to,n.joinWithSlash=U0,n.stripTrailingSlash=RR,n.\u0275fac=function(e){return new(e||n)(me(eu),me(Xl))},n.\u0275prov=Oe({token:n,factory:function(){return function c6(){return new Mm(me(eu),me(Xl))}()},providedIn:"root"}),n})();function PR(n){return n.replace(/\/index.html$/,"")}var Rn=(()=>((Rn=Rn||{})[Rn.Zero=0]="Zero",Rn[Rn.One=1]="One",Rn[Rn.Two=2]="Two",Rn[Rn.Few=3]="Few",Rn[Rn.Many=4]="Many",Rn[Rn.Other=5]="Other",Rn))();const _6=function zT(n){return function Es(n){const t=function rW(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=GT(t);if(e)return e;const i=t.split("-")[0];if(e=GT(i),e)return e;if("en"===i)return sW;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[pt.PluralCase]};class Lm{}let Y6=(()=>{class n extends Lm{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(_6(i||this.locale)(e)){case Rn.Zero:return"zero";case Rn.One:return"one";case Rn.Two:return"two";case Rn.Few:return"few";case Rn.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(me(eo))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function GR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let tu=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(nf(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${z(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(F(Hs),F(Ko),F(Ye),F($r))},n.\u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class $6{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let iu=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,r,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new $6(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===r?void 0:r);else if(null!==r){const c=i.get(r);i.move(c,a),UR(c,s)}});for(let s=0,r=i.length;s<r;s++){const c=i.get(s).context;c.index=s,c.count=r,c.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{UR(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(F(on),F(wn),F(Hs))},n.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function UR(n,t){n.context.$implicit=t.item}let ks=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){WR("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){WR("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(F(on),F(wn))},n.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class q6{constructor(){this.$implicit=null,this.ngIf=null}}function WR(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${z(t)}'.`)}class J0{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let nu=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Om=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new J0(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(F(on),F(wn),F(nu,9))},n.\u0275dir=ge({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),jR=(()=>{class n{constructor(e,i,s){s._addDefault(new J0(e,i))}}return n.\u0275fac=function(e){return new(e||n)(F(on),F(wn),F(nu,9))},n.\u0275dir=ge({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Fm=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,r]=e.split(".");null!=(i=null!=i&&r?`${i}${r}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Ko),F($r))},n.\u0275dir=ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class Q6{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class J6{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const eY=new J6,tY=new Q6;let XR=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(rf(e))return eY;if(J1(e))return tY;throw function Kr(n,t){return new K(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(F(Li,16))},n.\u0275pipe=Ns({name:"async",type:n,pure:!1}),n})(),Pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[{provide:Lm,useClass:Y6}]}),n})();const qR="browser";function $l(n){return n===qR}function su(n){return"server"===n}let xY=(()=>{class n{}return n.\u0275prov=Oe({token:n,providedIn:"root",factory:()=>new wY(me(Bt),window)}),n})();class wY{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function CY(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const a=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(a)return a}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ZR(this.window.history)||ZR(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function ZR(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class KR{}class iw extends class MY extends class n6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function t6(n){Cm||(Cm=n)}(new iw)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function SY(){return xf=xf||document.querySelector("base"),xf?xf.getAttribute("href"):null}();return null==e?null:function DY(n){Nm=Nm||document.createElement("a"),Nm.setAttribute("href",n);const t=Nm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){xf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return GR(document.cookie,t)}}let Nm,xf=null;const QR=new Se("TRANSITION_ID"),EY=[{provide:bm,useFactory:function AY(n,t,e){return()=>{e.get(Qd).donePromise.then(()=>{const i=Ca(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[QR,Bt,kn],multi:!0}];class nw{static init(){!function x8(n){N0=n}(new nw)}addToWindow(t){Ui.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},Ui.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ui.getAllAngularRootElements=()=>t.getAllRootElements(),Ui.frameworkStabilizers||(Ui.frameworkStabilizers=[]),Ui.frameworkStabilizers.push(i=>{const s=Ui.getAllAngularTestabilities();let r=s.length,a=!1;const c=function(d){a=a||d,r--,0==r&&i(a)};s.forEach(function(d){d.whenStable(c)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?Ca().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let TY=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Bm=new Se("EventManagerPlugins");let Vm=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(me(Bm),me(At))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class JR{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Ca().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let eI=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),wf=(()=>{class n extends eI{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(tI),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(tI))}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function tI(n){Ca().remove(n)}const sw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rw=/%COMP%/g;function Hm(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Hm(n,s,e):(s=s.replace(rw,n),e.push(s))}return e}function sI(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let zm=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new aw(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Vr.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new OY(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Vr.ShadowDom:return new FY(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Hm(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(me(Vm),me(wf),me(vf))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class aw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(sw[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=sw[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=sw[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Qs.DashCase|Qs.Important)?t.style.setProperty(e,i,s&Qs.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Qs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,sI(i)):this.eventManager.addEventListener(t,e,sI(i))}}class OY extends aw{constructor(t,e,i,s){super(t),this.component=i;const r=Hm(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function IY(n){return"_ngcontent-%COMP%".replace(rw,n)}(s+"-"+i.id),this.hostAttr=function PY(n){return"_nghost-%COMP%".replace(rw,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class FY extends aw{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Hm(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const c=document.createElement("style");c.textContent=r[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let NY=(()=>{class n extends JR{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const aI=["alt","control","meta","shift"],VY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},HY={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zY=(()=>{class n extends JR{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),a=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ca().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let a="";if(aI.forEach(d=>{const h=i.indexOf(d);h>-1&&(i.splice(h,1),a+=d+".")}),a+=r,0!=i.length||0===r.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static getEventFullKey(e){let i="",s=function GY(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&oI.hasOwnProperty(t)&&(t=oI[t]))}return VY[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),aI.forEach(r=>{r!=s&&HY[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const YY=uR(Y8,"browser",[{provide:er,useValue:qR},{provide:nR,useValue:function UY(){iw.makeCurrent(),nw.init()},multi:!0},{provide:Bt,useFactory:function jY(){return function az(n){kb=n}(document),document},deps:[]}]),XY=[{provide:jx,useValue:"root"},{provide:$a,useFactory:function WY(){return new $a},deps:[]},{provide:Bm,useClass:NY,multi:!0,deps:[Bt,At,er]},{provide:Bm,useClass:zY,multi:!0,deps:[Bt]},{provide:zm,useClass:zm,deps:[Vm,wf,vf]},{provide:hf,useExisting:zm},{provide:eI,useExisting:wf},{provide:wf,useClass:wf,deps:[Bt]},{provide:F0,useClass:F0,deps:[At]},{provide:Vm,useClass:Vm,deps:[Bm,At]},{provide:KR,useClass:TY,deps:[]}];let lI=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:vf,useValue:e.appId},{provide:QR,useExisting:vf},EY]}}}return n.\u0275fac=function(e){return new(e||n)(me(n,12))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:XY,imports:[Pn,J8]}),n})();"undefined"!=typeof window&&window;let Gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:function(e){let i=null;return i=e?new(e||n):me(uI),i},providedIn:"root"}),n})(),uI=(()=>{class n extends Gm{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ki.NONE:return i;case ki.HTML:return ga(i,"HTML")?Ks(i):nE(this._doc,String(i)).toString();case ki.STYLE:return ga(i,"Style")?Ks(i):i;case ki.SCRIPT:if(ga(i,"Script"))return Ks(i);throw new Error("unsafe value used in a script context");case ki.URL:return qA(i),ga(i,"URL")?Ks(i):Xh(String(i));case ki.RESOURCE_URL:if(ga(i,"ResourceURL"))return Ks(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function vG(n){return new fG(n)}(e)}bypassSecurityTrustStyle(e){return function yG(n){return new pG(n)}(e)}bypassSecurityTrustScript(e){return function bG(n){return new gG(n)}(e)}bypassSecurityTrustUrl(e){return function xG(n){return new mG(n)}(e)}bypassSecurityTrustResourceUrl(e){return function wG(n){return new _G(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:function(e){let i=null;return i=e?new e:function nX(n){return new uI(n.get(Bt))}(me(kn)),i},providedIn:"root"}),n})();function It(...n){return S(n,Ol(n))}class Rs extends Ge{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:sX}=Array,{getPrototypeOf:rX,prototype:aX,keys:oX}=Object;function hI(n){if(1===n.length){const t=n[0];if(sX(t))return{args:t,keys:null};if(function lX(n){return n&&"object"==typeof n&&rX(n)===aX}(t)){const e=oX(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:cX}=Array;function lw(n){return jt(t=>function dX(n,t){return cX(t)?n(...t):n(t)}(n,t))}function fI(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function pI(n,t,e){n?js(e,n,t):t()}const Um=Jc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Wm(...n){return function fX(){return Ll(1)}()(S(n,Ol(n)))}function jm(n){return new Jt(t=>{ls(n()).subscribe(t)})}function gI(){return gi((n,t)=>{let e=null;n._refCount++;const i=new Bi(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class pX extends Jt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,za(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Le;const e=this.getSubject();t.add(this.source.subscribe(new Bi(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Le.EMPTY)}return t}refCount(){return gI()(this)}}function wr(n,t){return gi((e,i)=>{let s=null,r=0,a=!1;const c=()=>a&&!s&&i.complete();e.subscribe(new Bi(i,d=>{null==s||s.unsubscribe();let h=0;const g=r++;ls(n(d,g)).subscribe(s=new Bi(i,v=>i.next(t?t(d,v,g,h++):v),()=>{s=null,c()}))},()=>{a=!0,c()}))})}function Gs(...n){const t=Ol(n);return gi((e,i)=>{(t?Wm(n,e,t):Wm(n,e)).subscribe(i)})}function gX(n,t,e,i,s){return(r,a)=>{let c=e,d=t,h=0;r.subscribe(new Bi(a,g=>{const v=h++;d=c?n(d,g,v):(c=!0,g),i&&a.next(d)},s&&(()=>{c&&a.next(d),a.complete()})))}}function mI(n,t){return gi(gX(n,t,arguments.length>=2,!0))}function nn(n,t){return gi((e,i)=>{let s=0;e.subscribe(new Bi(i,r=>n.call(t,r,s++)&&i.next(r)))})}function no(n){return gi((t,e)=>{let r,i=null,s=!1;i=t.subscribe(new Bi(e,void 0,void 0,a=>{r=ls(n(a,no(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(e))})}function ru(n,t){return _i(t)?an(n,t,1):an(n,1)}function cw(n){return n<=0?()=>cr:gi((t,e)=>{let i=[];t.subscribe(new Bi(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function _I(n=mX){return gi((t,e)=>{let i=!1;t.subscribe(new Bi(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function mX(){return new Um}function vI(n){return gi((t,e)=>{let i=!1;t.subscribe(new Bi(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function au(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((s,r)=>n(s,r,i)):Nr,T(1),e?vI(t):_I(()=>new Um))}function Yn(n,t,e){const i=_i(n)||t||e?{next:n,error:t,complete:e}:n;return i?gi((s,r)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let c=!0;s.subscribe(new Bi(r,d=>{var h;null===(h=i.next)||void 0===h||h.call(i,d),r.next(d)},()=>{var d;c=!1,null===(d=i.complete)||void 0===d||d.call(i),r.complete()},d=>{var h;c=!1,null===(h=i.error)||void 0===h||h.call(i,d),r.error(d)},()=>{var d,h;c&&(null===(d=i.unsubscribe)||void 0===d||d.call(i)),null===(h=i.finalize)||void 0===h||h.call(i)}))}):Nr}function dw(n){return gi((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class so{constructor(t,e){this.id=t,this.url=e}}class Ym extends so{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cf extends so{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yI extends so{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vX extends so{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yX extends so{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bX extends so{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends so{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wX extends so{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends so{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bI{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xI{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class MX{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SX{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DX{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AX{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wI{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yi="primary";class EX{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ou(n){return new EX(n)}const CI="ngNavigationCancelingError";function uw(n){const t=Error("NavigationCancelingError: "+n);return t[CI]=!0,t}function kX(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const a=i[r],c=n[r];if(a.startsWith(":"))s[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Ma(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!MI(n[s],t[s]))return!1;return!0}function MI(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function SI(n){return Array.prototype.concat.apply([],n)}function DI(n){return n.length>0?n[n.length-1]:null}function hs(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Sa(n){return s0(n)?n:rf(n)?S(Promise.resolve(n)):It(n)}const PX={exact:function TI(n,t,e){if(!Zl(n.segments,t.segments)||!Xm(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!TI(n.children[i],t.children[i],e))return!1;return!0},subset:kI},AI={exact:function LX(n,t){return Ma(n,t)},subset:function OX(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>MI(n[e],t[e]))},ignored:()=>!0};function EI(n,t,e){return PX[e.paths](n.root,t.root,e.matrixParams)&&AI[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function kI(n,t,e){return RI(n,t,t.segments,e)}function RI(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Zl(s,e)||t.hasChildren()||!Xm(s,e,i))}if(n.segments.length===e.length){if(!Zl(n.segments,e)||!Xm(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!kI(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(Zl(n.segments,s)&&Xm(n.segments,s,i)&&n.children[yi])&&RI(n.children[yi],t,r,i)}}function Xm(n,t,e){return t.every((i,s)=>AI[e](n[s].parameters,i.parameters))}class ql{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return BX.serialize(this)}}class Mi{constructor(t,e){this.segments=t,this.children=e,this.parent=null,hs(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $m(this)}}class Mf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ou(this.parameters)),this._parameterMap}toString(){return FI(this)}}function Zl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class II{}class PI{parse(t){const e=new XX(t);return new ql(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sf(t.root,!0)}`,i=function zX(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${qm(e)}=${qm(s)}`).join("&"):`${qm(e)}=${qm(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function VX(n){return encodeURI(n)}(t.fragment)}`:""}`}}const BX=new PI;function $m(n){return n.segments.map(t=>FI(t)).join("/")}function Sf(n,t){if(!n.hasChildren())return $m(n);if(t){const e=n.children[yi]?Sf(n.children[yi],!1):"",i=[];return hs(n.children,(s,r)=>{r!==yi&&i.push(`${r}:${Sf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function NX(n,t){let e=[];return hs(n.children,(i,s)=>{s===yi&&(e=e.concat(t(i,s)))}),hs(n.children,(i,s)=>{s!==yi&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===yi?[Sf(n.children[yi],!1)]:[`${s}:${Sf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[yi]?`${$m(n)}/${e[0]}`:`${$m(n)}/(${e.join("//")})`}}function LI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qm(n){return LI(n).replace(/%3B/gi,";")}function hw(n){return LI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zm(n){return decodeURIComponent(n)}function OI(n){return Zm(n.replace(/\+/g,"%20"))}function FI(n){return`${hw(n.path)}${function HX(n){return Object.keys(n).map(t=>`;${hw(t)}=${hw(n[t])}`).join("")}(n.parameters)}`}const GX=/^[^\/()?;=#]+/;function Km(n){const t=n.match(GX);return t?t[0]:""}const UX=/^[^=?&#]+/,jX=/^[^&#]+/;class XX{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mi([],{}):new Mi([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[yi]=new Mi(t,e)),i}parseSegment(){const t=Km(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Mf(Zm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Km(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Km(this.remaining);s&&(i=s,this.capture(i))}t[Zm(e)]=Zm(i)}parseQueryParam(t){const e=function WX(n){const t=n.match(UX);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function YX(n){const t=n.match(jX);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const s=OI(e),r=OI(i);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Km(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=yi);const a=this.parseChildren();e[r]=1===Object.keys(a).length?a[yi]:new Mi([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class NI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fw(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=fw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return pw(t,this._root).map(e=>e.value)}}function fw(n,t){if(n===t.value)return t;for(const e of t.children){const i=fw(n,e);if(i)return i}return null}function pw(n,t){if(n===t.value)return[t];for(const e of t.children){const i=pw(n,e);if(i.length)return i.unshift(t),i}return[]}class ro{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function lu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class BI extends NI{constructor(t,e){super(t),this.snapshot=e,gw(this,t)}toString(){return this.snapshot.toString()}}function VI(n,t){const e=function $X(n,t){const a=new Qm([],{},{},"",{},yi,t,null,n.root,-1,{});return new zI("",new ro(a,[]))}(n,t),i=new Rs([new Mf("",{})]),s=new Rs({}),r=new Rs({}),a=new Rs({}),c=new Rs(""),d=new Jo(i,s,a,c,r,yi,t,e.root);return d.snapshot=e.root,new BI(new ro(d,[]),e)}class Jo{constructor(t,e,i,s,r,a,c,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=a,this.component=c,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jt(t=>ou(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jt(t=>ou(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function HI(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],r=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function qX(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Qm{constructor(t,e,i,s,r,a,c,d,h,g,v){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=a,this.component=c,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ou(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ou(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zI extends NI{constructor(t,e){super(e),this.url=t,gw(this,e)}toString(){return GI(this._root)}}function gw(n,t){t.value._routerState=n,t.children.forEach(e=>gw(n,e))}function GI(n){const t=n.children.length>0?` { ${n.children.map(GI).join(", ")} } `:"";return`${n.value}${t}`}function mw(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ma(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ma(t.params,e.params)||n.params.next(e.params),function RX(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ma(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ma(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _w(n,t){const e=Ma(n.params,t.params)&&function FX(n,t){return Zl(n,t)&&n.every((e,i)=>Ma(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_w(n.parent,t.parent))}function Df(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function KX(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Df(n,i,s);return Df(n,i)})}(n,t,e);return new ro(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const a=r.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Df(n,c)),a}}const i=function QX(n){return new Jo(new Rs(n.url),new Rs(n.params),new Rs(n.queryParams),new Rs(n.fragment),new Rs(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>Df(n,r));return new ro(i,s)}}function Jm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Af(n){return"object"==typeof n&&null!=n&&n.outlets}function vw(n,t,e,i,s){let r={};return i&&hs(i,(a,c)=>{r[c]=Array.isArray(a)?a.map(d=>`${d}`):`${a}`}),new ql(e.root===n?t:UI(e.root,n,t),r,s)}function UI(n,t,e){const i={};return hs(n.children,(s,r)=>{i[r]=s===t?e:UI(s,t,e)}),new Mi(n.segments,i)}class WI{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Jm(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Af);if(s&&s!==DI(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yw{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function jI(n,t,e){if(n||(n=new Mi([],{})),0===n.segments.length&&n.hasChildren())return e_(n,t,e);const i=function s$(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const a=n.segments[s],c=e[i];if(Af(c))break;const d=`${c}`,h=i<e.length-1?e[i+1]:null;if(s>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!XI(d,h,a))return r;i+=2}else{if(!XI(d,{},a))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Mi(n.segments.slice(0,i.pathIndex),{});return r.children[yi]=new Mi(n.segments.slice(i.pathIndex),n.children),e_(r,0,s)}return i.match&&0===s.length?new Mi(n.segments,{}):i.match&&!n.hasChildren()?bw(n,t,e):i.match?e_(n,0,s):bw(n,t,e)}function e_(n,t,e){if(0===e.length)return new Mi(n.segments,{});{const i=function n$(n){return Af(n[0])?n[0].outlets:{[yi]:n}}(e),s={};return hs(i,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[a]=jI(n.children[a],t,r))}),hs(n.children,(r,a)=>{void 0===i[a]&&(s[a]=r)}),new Mi(n.segments,s)}}function bw(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(Af(r)){const d=r$(r.outlets);return new Mi(i,d)}if(0===s&&Jm(e[0])){i.push(new Mf(n.segments[t].path,YI(e[0]))),s++;continue}const a=Af(r)?r.outlets[yi]:`${r}`,c=s<e.length-1?e[s+1]:null;a&&c&&Jm(c)?(i.push(new Mf(a,YI(c))),s+=2):(i.push(new Mf(a,{})),s++)}return new Mi(i,{})}function r$(n){const t={};return hs(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bw(new Mi([],{}),0,e))}),t}function YI(n){const t={};return hs(n,(e,i)=>t[i]=`${e}`),t}function XI(n,t,e){return n==e.path&&Ma(t,e.parameters)}class o${constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),mw(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=lu(e);t.children.forEach(r=>{const a=r.value.outlet;this.deactivateRoutes(r,s[a],i),delete s[a]}),hs(s,(r,a)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const a=i.getContext(s.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=lu(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);if(i&&i.outlet){const a=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=lu(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=lu(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new AX(r.value.snapshot))}),t.children.length&&this.forwardEvent(new SX(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(mw(s),s===r)if(s.component){const a=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const a=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),mw(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=function l$(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),d=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=d,a.outlet&&a.outlet.activateWith(s,d),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class xw{constructor(t,e){this.routes=t,this.module=e}}function el(n){return"function"==typeof n}function Kl(n){return n instanceof ql}const Ef=Symbol("INITIAL_VALUE");function Tf(){return wr(n=>function uX(...n){const t=Ol(n),e=sd(n),{args:i,keys:s}=hI(n);if(0===i.length)return S([],t);const r=new Jt(function hX(n,t,e=Nr){return i=>{pI(t,()=>{const{length:s}=n,r=new Array(s);let a=s,c=s;for(let d=0;d<s;d++)pI(t,()=>{const h=S(n[d],t);let g=!1;h.subscribe(new Bi(i,v=>{r[d]=v,g||(g=!0,c--),c||i.next(e(r.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,s?a=>fI(s,a):Nr));return e?r.pipe(lw(e)):r}(n.map(t=>t.pipe(T(1),Gs(Ef)))).pipe(mI((t,e)=>{let i=!1;return e.reduce((s,r,a)=>s!==Ef?s:(r===Ef&&(i=!0),i||!1!==r&&a!==e.length-1&&!Kl(r)?s:r),t)},Ef),nn(t=>t!==Ef),jt(t=>Kl(t)?t:!0===t),T(1)))}class p${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new kf,this.attachRef=null}}class kf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new p$,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ww=(()=>{class n{constructor(e,i,s,r,a){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.name=r||yi,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,d=new g$(e,c,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(F(kf),F(on),F(Qa),ds("name"),F(Li))},n.\u0275dir=ge({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class g${constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Jo?this.route:t===kf?this.childContexts:this.parent.get(t,e)}}let $I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&yt(0,"router-outlet")},directives:[ww],encapsulation:2}),n})();function qI(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];m$(i,_$(t,i))}}function m$(n,t){n.children&&qI(n.children,t)}function _$(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Cw(n){const t=n.children&&n.children.map(Cw),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yi&&(e.component=$I),e}function Cr(n){return n.outlet||yi}function ZI(n,t){const e=n.filter(i=>Cr(i)===t);return e.push(...n.filter(i=>Cr(i)!==t)),e}const KI={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function t_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},KI):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||kX)(e,n,t);if(!r)return Object.assign({},KI);const a={};hs(r.posParams,(d,h)=>{a[h]=d.path});const c=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:c,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function i_(n,t,e,i,s="corrected"){if(e.length>0&&function b$(n,t,e){return e.some(i=>n_(n,t,i)&&Cr(i)!==yi)}(n,e,i)){const a=new Mi(t,function y$(n,t,e,i){const s={};s[yi]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&Cr(r)!==yi){const a=new Mi([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,s[Cr(r)]=a}return s}(n,t,i,new Mi(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function x$(n,t,e){return e.some(i=>n_(n,t,i))}(n,e,i)){const a=new Mi(n.segments,function v$(n,t,e,i,s,r){const a={};for(const c of i)if(n_(n,e,c)&&!s[Cr(c)]){const d=new Mi([],{});d._sourceSegment=n,d._segmentIndexShift="legacy"===r?n.segments.length:t.length,a[Cr(c)]=d}return Object.assign(Object.assign({},s),a)}(n,t,e,i,n.children,s));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const r=new Mi(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function n_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function QI(n,t,e,i){return!!(Cr(n)===i||i!==yi&&n_(t,e,n))&&("**"===n.path||t_(t,n,e).matched)}function JI(n,t,e){return 0===t.length&&!n.children[e]}class Rf{constructor(t){this.segmentGroup=t||null}}class eP{constructor(t){this.urlTree=t}}function s_(n){return new Jt(t=>t.error(new Rf(n)))}function tP(n){return new Jt(t=>t.error(new eP(n)))}function w$(n){return new Jt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class S${constructor(t,e,i,s,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ja)}apply(){const t=i_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mi(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,yi).pipe(jt(r=>this.createUrlTree(Mw(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(no(r=>{if(r instanceof eP)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Rf?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,yi).pipe(jt(s=>this.createUrlTree(Mw(s),t.queryParams,t.fragment))).pipe(no(s=>{throw s instanceof Rf?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Mi([],{[yi]:t}):t;return new ql(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(jt(r=>new Mi([],r))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return S(s).pipe(ru(r=>{const a=i.children[r],c=ZI(e,r);return this.expandSegmentGroup(t,c,a,r).pipe(jt(d=>({segment:d,outlet:r})))}),mI((r,a)=>(r[a.outlet]=a.segment,r),{}),function _X(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((s,r)=>n(s,r,i)):Nr,cw(1),e?vI(t):_I(()=>new Um))}())}expandSegment(t,e,i,s,r,a){return S(i).pipe(ru(c=>this.expandSegmentAgainstRoute(t,e,i,c,s,r,a).pipe(no(h=>{if(h instanceof Rf)return It(null);throw h}))),au(c=>!!c),no((c,d)=>{if(c instanceof Um||"EmptyError"===c.name){if(JI(e,s,r))return It(new Mi([],{}));throw new Rf(e)}throw c}))}expandSegmentAgainstRoute(t,e,i,s,r,a,c){return QI(s,e,r,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,a):s_(e):s_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?tP(r):this.lineralizeSegments(i,r).pipe(an(a=>{const c=new Mi(a,{});return this.expandSegment(t,c,e,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,a){const{matched:c,consumedSegments:d,lastChild:h,positionalParamSegments:g}=t_(e,s,r);if(!c)return s_(e);const v=this.applyRedirectCommands(d,s.redirectTo,g);return s.redirectTo.startsWith("/")?tP(v):this.lineralizeSegments(s,v).pipe(an(b=>this.expandSegment(t,e,i,b.concat(r.slice(h)),a,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?It(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(jt(b=>(i._loadedConfig=b,new Mi(s,{})))):It(new Mi(s,{}));const{matched:a,consumedSegments:c,lastChild:d}=t_(e,i,s);if(!a)return s_(e);const h=s.slice(d);return this.getChildConfig(t,i,s).pipe(an(v=>{const b=v.module,C=v.routes,{segmentGroup:D,slicedSegments:A}=i_(e,c,h,C),E=new Mi(D.segments,D.children);if(0===A.length&&E.hasChildren())return this.expandChildren(b,C,E).pipe(jt(V=>new Mi(c,V)));if(0===C.length&&0===A.length)return It(new Mi(c,{}));const I=Cr(i)===r;return this.expandSegment(b,E,C,A,I?yi:r,!0).pipe(jt(N=>new Mi(c.concat(N.segments),N.children)))}))}getChildConfig(t,e,i){return e.children?It(new xw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?It(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(an(s=>s?this.configLoader.load(t.injector,e).pipe(jt(r=>(e._loadedConfig=r,r))):function C$(n){return new Jt(t=>t.error(uw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):It(new xw([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;return s&&0!==s.length?It(s.map(a=>{const c=t.get(a);let d;if(function d$(n){return n&&el(n.canLoad)}(c))d=c.canLoad(e,i);else{if(!el(c))throw new Error("Invalid CanLoad guard");d=c(e,i)}return Sa(d)})).pipe(Tf(),Yn(a=>{if(!Kl(a))return;const c=uw(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw c.url=a,c}),jt(a=>!0===a)):It(!0)}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return It(i);if(s.numberOfChildren>1||!s.children[yi])return w$(t.redirectTo);s=s.children[yi]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new ql(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return hs(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let a={};return hs(e.children,(c,d)=>{a[d]=this.createSegmentGroup(t,c,i,s)}),new Mi(r,a)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function Mw(n){const t={};for(const i of Object.keys(n.children)){const r=Mw(n.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function D$(n){if(1===n.numberOfChildren&&n.children[yi]){const t=n.children[yi];return new Mi(n.segments.concat(t.segments),t.children)}return n}(new Mi(n.segments,t))}class iP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class r_{constructor(t,e){this.component=t,this.route=e}}function E$(n,t,e){const i=n._root;return If(i,t?t._root:null,e,[i.value])}function a_(n,t,e){const i=function k$(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function If(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=lu(t);return n.children.forEach(a=>{(function R$(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,a=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const d=function I$(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zl(n.url,t.url)||!Ma(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_w(n,t)||!Ma(n.queryParams,t.queryParams);default:return!_w(n,t)}}(a,r,r.routeConfig.runGuardsAndResolvers);d?s.canActivateChecks.push(new iP(i)):(r.data=a.data,r._resolvedData=a._resolvedData),If(n,t,r.component?c?c.children:null:e,i,s),d&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new r_(c.outlet.component,a))}else a&&Pf(t,c,s),s.canActivateChecks.push(new iP(i)),If(n,null,r.component?c?c.children:null:e,i,s)})(a,r[a.value.outlet],e,i.concat([a.value]),s),delete r[a.value.outlet]}),hs(r,(a,c)=>Pf(a,e.getContext(c),s)),s}function Pf(n,t,e){const i=lu(n),s=n.value;hs(i,(r,a)=>{Pf(r,s.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new r_(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class z${}function nP(n){return new Jt(t=>t.error(n))}class U${constructor(t,e,i,s,r,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=a}recognize(){const t=i_(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,yi);if(null===e)return null;const i=new Qm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yi,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ro(i,e),r=new zI(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,i=HI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const r of Object.keys(e.children)){const a=e.children[r],c=ZI(t,r),d=this.processSegmentGroup(c,a,r);if(null===d)return null;i.push(...d)}const s=sP(i);return function W$(n){n.sort((t,e)=>t.value.outlet===yi?-1:e.value.outlet===yi?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const r of t){const a=this.processSegmentAgainstRoute(r,e,i,s);if(null!==a)return a}return JI(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!QI(t,e,i,s))return null;let r,a=[],c=[];if("**"===t.path){const C=i.length>0?DI(i).parameters:{};r=new Qm(i,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oP(t),Cr(t),t.component,t,rP(e),aP(e)+i.length,lP(t))}else{const C=t_(e,t,i);if(!C.matched)return null;a=C.consumedSegments,c=i.slice(C.lastChild),r=new Qm(a,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oP(t),Cr(t),t.component,t,rP(e),aP(e)+a.length,lP(t))}const d=function j$(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:h,slicedSegments:g}=i_(e,a,c,d.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===g.length&&h.hasChildren()){const C=this.processChildren(d,h);return null===C?null:[new ro(r,C)]}if(0===d.length&&0===g.length)return[new ro(r,[])];const v=Cr(t)===s,b=this.processSegment(d,h,g,v?yi:s);return null===b?null:[new ro(r,b)]}}function Y$(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function sP(n){const t=[],e=new Set;for(const i of n){if(!Y$(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=sP(i.children);t.push(new ro(i.value,s))}return t.filter(i=>!e.has(i))}function rP(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function aP(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function oP(n){return n.data||{}}function lP(n){return n.resolve||{}}function Sw(n){return wr(t=>{const e=n(t);return e?S(e).pipe(jt(()=>t)):It(t)})}class eq extends class J${shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Dw=new Se("ROUTES");class cP{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(jt(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=r.create(t);return new xw(SI(a.injector.get(Dw,void 0,ri.Self|ri.Optional)).map(Cw),a)}),no(r=>{throw e._loader$=void 0,r}));return e._loader$=new pX(s,()=>new Ge).pipe(gI()),e._loader$}loadModuleFactory(t){return Sa(t()).pipe(an(e=>e instanceof vk?It(e):S(this.compiler.compileModuleAsync(e))))}}class iq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nq(n){throw n}function sq(n,t,e){return t.parse("/")}function dP(n,t){return It(null)}const rq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ts=(()=>{class n{constructor(e,i,s,r,a,c,d){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge,this.errorHandler=nq,this.malformedUriErrorHandler=sq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dP,afterPreactivation:dP},this.urlHandlingStrategy=new iq,this.routeReuseStrategy=new eq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Ja),this.console=a.get(sR);const v=a.get(At);this.isNgZoneEnabled=v instanceof At&&At.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function IX(){return new ql(new Mi([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cP(a,c,b=>this.triggerEvent(new bI(b)),b=>this.triggerEvent(new xI(b))),this.routerState=VI(this.currentUrlTree,this.rootComponentType),this.transitions=new Rs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(s=>0!==s.id),jt(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wr(s=>{let r=!1,a=!1;return It(s).pipe(Yn(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wr(c=>{const d=this.browserUrlTree.toString(),h=!this.navigated||c.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return o_(c.source)&&(this.browserUrlTree=c.extractedUrl),It(c).pipe(wr(v=>{const b=this.transitions.getValue();return i.next(new Ym(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),b!==this.transitions.getValue()?cr:Promise.resolve(v)}),function A$(n,t,e,i){return wr(s=>function M$(n,t,e,i,s){return new S$(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(jt(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Yn(v=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:v.urlAfterRedirects})}),function X$(n,t,e,i,s){return an(r=>function G$(n,t,e,i,s="emptyOnly",r="legacy"){try{const a=new U$(n,t,e,i,s,r).recognize();return null===a?nP(new z$):It(a)}catch(a){return nP(a)}}(n,t,r.urlAfterRedirects,e(r.urlAfterRedirects),i,s).pipe(jt(a=>Object.assign(Object.assign({},r),{targetSnapshot:a}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),Yn(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(C,v)}this.browserUrlTree=v.urlAfterRedirects}const b=new yX(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);i.next(b)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:C,source:D,restoredState:A,extras:E}=c,I=new Ym(b,this.serializeUrl(C),D,A);i.next(I);const P=VI(C,this.rootComponentType).snapshot;return It(Object.assign(Object.assign({},c),{targetSnapshot:P,urlAfterRedirects:C,extras:Object.assign(Object.assign({},E),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),cr}),Sw(c=>{const{targetSnapshot:d,id:h,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:C}}=c;return this.hooks.beforePreactivation(d,{navigationId:h,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!C})}),Yn(c=>{const d=new bX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}),jt(c=>Object.assign(Object.assign({},c),{guards:E$(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function P$(n,t){return an(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return 0===a.length&&0===r.length?It(Object.assign(Object.assign({},e),{guardsResult:!0})):function L$(n,t,e,i){return S(n).pipe(an(s=>function H$(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?It(r.map(c=>{const d=a_(c,t,s);let h;if(function f$(n){return n&&el(n.canDeactivate)}(d))h=Sa(d.canDeactivate(n,t,e,i));else{if(!el(d))throw new Error("Invalid CanDeactivate guard");h=Sa(d(n,t,e,i))}return h.pipe(au())})).pipe(Tf()):It(!0)}(s.component,s.route,e,t,i)),au(s=>!0!==s,!0))}(a,i,s,n).pipe(an(c=>c&&function c$(n){return"boolean"==typeof n}(c)?function O$(n,t,e,i){return S(t).pipe(ru(s=>Wm(function N$(n,t){return null!==n&&t&&t(new MX(n)),It(!0)}(s.route.parent,i),function F$(n,t){return null!==n&&t&&t(new DX(n)),It(!0)}(s.route,i),function V$(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(a=>function T$(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>jm(()=>It(a.guards.map(d=>{const h=a_(d,a.node,e);let g;if(function h$(n){return n&&el(n.canActivateChild)}(h))g=Sa(h.canActivateChild(i,n));else{if(!el(h))throw new Error("Invalid CanActivateChild guard");g=Sa(h(i,n))}return g.pipe(au())})).pipe(Tf())));return It(r).pipe(Tf())}(n,s.path,e),function B$(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return It(!0);const s=i.map(r=>jm(()=>{const a=a_(r,t,e);let c;if(function u$(n){return n&&el(n.canActivate)}(a))c=Sa(a.canActivate(t,n));else{if(!el(a))throw new Error("Invalid CanActivate guard");c=Sa(a(t,n))}return c.pipe(au())}));return It(s).pipe(Tf())}(n,s.route,e))),au(s=>!0!==s,!0))}(i,r,n,t):It(c)),jt(c=>Object.assign(Object.assign({},e),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),Yn(c=>{if(Kl(c.guardsResult)){const h=uw(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw h.url=c.guardsResult,h}const d=new xX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(d)}),nn(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),Sw(c=>{if(c.guards.canActivateChecks.length)return It(c).pipe(Yn(d=>{const h=new wX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),wr(d=>{let h=!1;return It(d).pipe(function $$(n,t){return an(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return It(e);let r=0;return S(s).pipe(ru(a=>function q$(n,t,e,i){return function Z$(n,t,e,i){const s=Object.keys(n);if(0===s.length)return It({});const r={};return S(s).pipe(an(a=>function K$(n,t,e,i){const s=a_(n,t,i);return Sa(s.resolve?s.resolve(t,e):s(t,e))}(n[a],t,e,i).pipe(Yn(c=>{r[a]=c}))),cw(1),an(()=>Object.keys(r).length===s.length?It(r):cr))}(n._resolve,n,t,i).pipe(jt(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),HI(n,e).resolve),null)))}(a.route,i,n,t)),Yn(()=>r++),cw(1),an(a=>r===s.length?It(e):cr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Yn({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),Yn(d=>{const h=new CX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}))}),Sw(c=>{const{targetSnapshot:d,id:h,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:C}}=c;return this.hooks.afterPreactivation(d,{navigationId:h,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!C})}),jt(c=>{const d=function ZX(n,t,e){const i=Df(n,t._root,e?e._root:void 0);return new BI(i,t)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:d})}),Yn(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>jt(i=>(new o$(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),Yn({next(){r=!0},complete(){r=!0}}),dw(()=>{var c;r||a||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===s.id&&(this.currentNavigation=null)}),no(c=>{if(a=!0,function TX(n){return n&&n[CI]}(c)){const d=Kl(c.url);d||(this.navigated=!0,this.restoreHistory(s,!0));const h=new yI(s.id,this.serializeUrl(s.extractedUrl),c.message);i.next(h),d?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),v={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||o_(s.source)};this.scheduleNavigation(g,"imperative",null,v,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const d=new vX(s.id,this.serializeUrl(s.extractedUrl),c);i.next(d);try{s.resolve(this.errorHandler(c))}catch(h){s.reject(h)}}return cr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const r={replaceUrl:!0},a=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(a){const d=Object.assign({},a);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){qI(e),this.config=e.map(Cw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:a,queryParamsHandling:c,preserveFragment:d}=i,h=s||this.routerState.root,g=d?this.currentUrlTree.fragment:a;let v=null;switch(c){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=r||null}return null!==v&&(v=this.removeEmptyProps(v)),function JX(n,t,e,i,s){if(0===e.length)return vw(t.root,t.root,t,i,s);const r=function e$(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new WI(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,a)=>{if("object"==typeof r&&null!=r){if(r.outlets){const c={};return hs(r.outlets,(d,h)=>{c[h]="string"==typeof d?d.split("/"):d}),[...s,{outlets:c}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===a?(r.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?e=!0:".."===c?t++:""!=c&&s.push(c))}),s):[...s,r]},[]);return new WI(e,t,i)}(e);if(r.toRoot())return vw(t.root,new Mi([],{}),t,i,s);const a=function t$(n,t,e){if(n.isAbsolute)return new yw(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new yw(r,r===t.root,0)}const i=Jm(n.commands[0])?0:1;return function i$(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new yw(i,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,t,n),c=a.processChildren?e_(a.segmentGroup,a.index,r.commands):jI(a.segmentGroup,a.index,r.commands);return vw(a.segmentGroup,c,t,i,s)}(h,this.currentUrlTree,e,v,null!=g?g:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=Kl(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function oq(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},rq):!1===i?Object.assign({},aq):i,Kl(e))return EI(this.currentUrlTree,e,s);const r=this.parseUrl(e);return EI(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const r=e[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Cf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,r,a){var c,d,h;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,v=o_(i)&&g&&!o_(g.source),b=g.rawUrl.toString()===e.toString(),C=g.id===(null===(c=this.currentNavigation)||void 0===c?void 0:c.id);if(v&&b&&C)return Promise.resolve(!0);let A,E,I;a?(A=a.resolve,E=a.reject,I=a.promise):I=new Promise((V,G)=>{A=V,E=G});const P=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),N=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):N=0,this.setTransition({id:P,targetPageId:N,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:A,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===a?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new yI(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Ud()},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function o_(n){return"imperative"!==n}let l_=(()=>{class n{constructor(e,i,s,r,a){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=r,this.el=a,this.commands=null,this.onChanges=new Ge,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,s=this.el.nativeElement;null!==e?i.setAttribute(s,"tabindex",e):i.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:cu(this.skipLocationChange),replaceUrl:cu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(F(ts),F(Jo),ds("tabindex"),F($r),F(Ye))},n.\u0275dir=ge({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&dt("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vi]}),n})(),c_=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Ge,this.subscription=e.events.subscribe(r=>{r instanceof Cf&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,r,a){if(0!==e||i||s||r||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const c={skipLocationChange:cu(this.skipLocationChange),replaceUrl:cu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(F(ts),F(Jo),F(eu))},n.\u0275dir=ge({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&dt("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&Yt("target",i.target)("href",i.href,Md)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Vi]}),n})();function cu(n){return""===n||!!n}let uP=(()=>{class n{constructor(e,i,s,r,a,c){this.router=e,this.element=i,this.renderer=s,this.cdr=r,this.link=a,this.linkWithHref=c,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof Cf&&this.update()})}ngAfterContentInit(){It(this.links.changes,this.linksWithHrefs.changes,It(null)).pipe(Ll()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=S(i).pipe(Ll()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function lq(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(F(ts),F(Ye),F($r),F(Li),F(l_,8),F(c_,8))},n.\u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,s){if(1&e&&(ii(s,l_,5),ii(s,c_,5)),2&e){let r;Ke(r=Qe())&&(i.links=r),Ke(r=Qe())&&(i.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Vi]}),n})();class hP{}class fP{preload(t,e){return It(null)}}let pP=(()=>{class n{constructor(e,i,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new cP(s,i,d=>e.triggerEvent(new bI(d)),d=>e.triggerEvent(new xI(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof Cf),ru(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ja);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const a=r._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return S(s).pipe(Ll(),jt(r=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?It(i._loadedConfig):this.loader.load(e.injector,i)).pipe(an(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(me(ts),me(xm),me(kn),me(hP))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Aw=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ym?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new wI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ud()},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Ql=new Se("ROUTER_CONFIGURATION"),gP=new Se("ROUTER_FORROOT_GUARD"),dq=[Mm,{provide:II,useClass:PI},{provide:ts,useFactory:function gq(n,t,e,i,s,r,a={},c,d){const h=new ts(null,n,t,e,i,s,SI(r));return c&&(h.urlHandlingStrategy=c),d&&(h.routeReuseStrategy=d),function mq(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,h),a.enableTracing&&h.events.subscribe(g=>{var v,b;null===(v=console.group)||void 0===v||v.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(b=console.groupEnd)||void 0===b||b.call(console)}),h},deps:[II,kf,Mm,kn,xm,Dw,Ql,[class tq{},new Un],[class Q${},new Un]]},kf,{provide:Jo,useFactory:function _q(n){return n.routerState.root},deps:[ts]},pP,fP,class cq{preload(t,e){return e().pipe(no(()=>It(null)))}},{provide:Ql,useValue:{enableTracing:!1}}];function uq(){return new dR("Router",ts)}let mP=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[dq,_P(e),{provide:gP,useFactory:pq,deps:[[ts,new Un,new Zs]]},{provide:Ql,useValue:i||{}},{provide:eu,useFactory:fq,deps:[Xl,[new jh(W0),new Un],Ql]},{provide:Aw,useFactory:hq,deps:[ts,xY,Ql]},{provide:hP,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:fP},{provide:dR,multi:!0,useFactory:uq},[Ew,{provide:bm,multi:!0,useFactory:vq,deps:[Ew]},{provide:vP,useFactory:yq,deps:[Ew]},{provide:I0,multi:!0,useExisting:vP}]]}}static forChild(e){return{ngModule:n,providers:[_P(e)]}}}return n.\u0275fac=function(e){return new(e||n)(me(gP,8),me(ts,8))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})();function hq(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Aw(n,t,e)}function fq(n,t,e={}){return e.useHash?new l6(n,t):new IR(n,t)}function pq(n){return"guarded"}function _P(n){return[{provide:Hz,multi:!0,useValue:n},{provide:Dw,multi:!0,useValue:n}]}let Ew=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ge}appInitializer(){return this.injector.get(r6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(c=>i=c),r=this.injector.get(ts),a=this.injector.get(Ql);return"disabled"===a.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?It(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Ql),s=this.injector.get(pP),r=this.injector.get(Aw),a=this.injector.get(ts),c=this.injector.get(Jd);e===c.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),r.init(),a.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(me(kn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();function vq(n){return n.appInitializer.bind(n)}function yq(n){return n.bootstrapListener.bind(n)}const vP=new Se("Router Initializer");let xq=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["app-about"]],decls:2,vars:0,template:function(e,i){1&e&&(se(0,"p"),Ue(1,"about works!"),re())},styles:[""]}),n})();function yP(...n){const t=sd(n),{args:e,keys:i}=hI(n),s=new Jt(r=>{const{length:a}=e;if(!a)return void r.complete();const c=new Array(a);let d=a,h=a;for(let g=0;g<a;g++){let v=!1;ls(e[g]).subscribe(new Bi(r,b=>{v||(v=!0,h--),c[g]=b},()=>d--,void 0,()=>{(!d||!v)&&(h||r.next(i?fI(i,c):c),r.complete())}))}});return t?s.pipe(lw(t)):s}let bP=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(F($r),F(Ye))},n.\u0275dir=ge({type:n}),n})(),Jl=(()=>{class n extends bP{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,features:[we]}),n})();const is=new Se("NgValueAccessor"),Cq={provide:is,useExisting:x(()=>d_),multi:!0},Sq=new Se("CompositionEventMode");let d_=(()=>{class n extends bP{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mq(){const n=Ca()?Ca().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(F($r),F(Ye),F(Sq,8))},n.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&dt("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[vt([Cq]),we]}),n})();function tl(n){return null==n||0===n.length}function wP(n){return null!=n&&"number"==typeof n.length}const Xn=new Se("NgValidators"),il=new Se("NgAsyncValidators"),Dq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ec{static min(t){return function CP(n){return t=>{if(tl(t.value)||tl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function MP(n){return t=>{if(tl(t.value)||tl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return SP(t)}static requiredTrue(t){return function DP(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function AP(n){return tl(n.value)||Dq.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function EP(n){return t=>tl(t.value)||!wP(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function TP(n){return t=>wP(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function kP(n){if(!n)return Lf;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(tl(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return FP(t)}static composeAsync(t){return NP(t)}}function SP(n){return tl(n.value)?{required:!0}:null}function Lf(n){return null}function RP(n){return null!=n}function IP(n){const t=rf(n)?S(n):n;return s0(t),t}function PP(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function LP(n,t){return t.map(e=>e(n))}function OP(n){return n.map(t=>function Aq(n){return!n.validate}(t)?t:e=>t.validate(e))}function FP(n){if(!n)return null;const t=n.filter(RP);return 0==t.length?null:function(e){return PP(LP(e,t))}}function Tw(n){return null!=n?FP(OP(n)):null}function NP(n){if(!n)return null;const t=n.filter(RP);return 0==t.length?null:function(e){return yP(LP(e,t).map(IP)).pipe(jt(PP))}}function kw(n){return null!=n?NP(OP(n)):null}function BP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function VP(n){return n._rawValidators}function HP(n){return n._rawAsyncValidators}function Rw(n){return n?Array.isArray(n)?n:[n]:[]}function u_(n,t){return Array.isArray(n)?n.includes(t):n===t}function zP(n,t){const e=Rw(t);return Rw(n).forEach(s=>{u_(e,s)||e.push(s)}),e}function GP(n,t){return Rw(t).filter(e=>!u_(n,e))}class UP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Tw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=kw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qr extends UP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Is extends UP{get formDirective(){return null}get path(){return null}}class WP{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let Iw=(()=>{class n extends WP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Qr,2))},n.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Qt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[we]}),n})(),h_=(()=>{class n extends WP{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Is,10))},n.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Qt("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[we]}),n})();function p_(n,t){return[...t.path,n]}function Of(n,t){Ow(n,t),t.valueAccessor.writeValue(n.value),function Oq(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&YP(n,t)})}(n,t),function Nq(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Fq(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&YP(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Lq(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function g_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),__(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function m_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ow(n,t){const e=VP(n);null!==t.validator?n.setValidators(BP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=HP(n);null!==t.asyncValidator?n.setAsyncValidators(BP(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();m_(t._rawValidators,s),m_(t._rawAsyncValidators,s)}function __(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=VP(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=HP(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return m_(t._rawValidators,i),m_(t._rawAsyncValidators,i),e}function YP(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XP(n,t){Ow(n,t)}function Fw(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function $P(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Nw(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===d_?e=r:function Hq(n){return Object.getPrototypeOf(n.constructor)===Jl}(r)?i=r:s=r}),s||i||e||null}function v_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Ff="VALID",y_="INVALID",du="PENDING",Nf="DISABLED";function Vw(n){return(zw(n)?n.validators:n)||null}function qP(n){return Array.isArray(n)?Tw(n):n||null}function Hw(n,t){return(zw(t)?t.asyncValidators:n)||null}function ZP(n){return Array.isArray(n)?kw(n):n||null}function zw(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const KP=n=>n instanceof Bf,Gw=n=>n instanceof b_;function QP(n){return KP(n)?n.value:n.getRawValue()}function JP(n,t){const e=Gw(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new K(1e3,"");if(!i[t])throw new K(1001,"")}function eL(n,t){Gw(n),n._forEachChild((i,s)=>{if(void 0===t[s])throw new K(1002,"")})}class Uw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=qP(this._rawValidators),this._composedAsyncValidatorFn=ZP(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ff}get invalid(){return this.status===y_}get pending(){return this.status==du}get disabled(){return this.status===Nf}get enabled(){return this.status!==Nf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=qP(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ZP(t)}addValidators(t){this.setValidators(zP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(zP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(GP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(GP(t,this._rawAsyncValidators))}hasValidator(t){return u_(this._rawValidators,t)}hasAsyncValidator(t){return u_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=du,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Nf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ff,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ff||this.status===du)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nf:Ff}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=du,this._hasOwnPendingAsyncValidator=!0;const e=IP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function zq(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=Gw(i)?i.controls.hasOwnProperty(s)?i.controls[s]:null:(n=>n instanceof Uq)(i)&&i.at(s)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?Nf:this.errors?y_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(du)?du:this._anyControlsHaveStatus(y_)?y_:Ff}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bf extends Uw{constructor(t=null,e,i){super(Vw(e),Hw(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){v_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){v_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class b_ extends Uw{constructor(t,e,i){super(Vw(e),Hw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){eL(this,t),Object.keys(t).forEach(i=>{JP(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=QP(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Uq extends Uw{constructor(t,e,i){super(Vw(e),Hw(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){eL(this,t),t.forEach((i,s)=>{JP(this,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>QP(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Wq={provide:Is,useExisting:x(()=>nl)},Vf=(()=>Promise.resolve(null))();let nl=(()=>{class n extends Is{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new gt,this.form=new b_({},Tw(e),kw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Vf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Of(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Vf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),v_(this._directives,e)})}addFormGroup(e){Vf.then(()=>{const i=this._findContainer(e.path),s=new b_({});XP(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Vf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Vf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,$P(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(F(Xn,10),F(il,10))},n.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&dt("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([Wq]),we]}),n})();const Yq={provide:Qr,useExisting:x(()=>Ww)},nL=(()=>Promise.resolve(null))();let Ww=(()=>{class n extends Qr{constructor(e,i,s,r){super(),this.control=new Bf,this._registered=!1,this.update=new gt,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Nw(0,r)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Fw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?p_(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Of(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){nL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const i=e.isDisabled.currentValue,s=""===i||i&&"false"!==i;nL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(F(Is,9),F(Xn,10),F(il,10),F(is,10))},n.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vt([Yq]),we,Vi]}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),rL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})();const jw=new Se("NgModelWithFormControlWarning"),Qq={provide:Is,useExisting:x(()=>tc)};let tc=(()=>{class n extends Is{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(__(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Of(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){g_(e.control||null,e,!1),v_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,$P(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(g_(i||null,e),KP(s)&&(Of(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);XP(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Bq(n,t){return __(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ow(this.form,this),this._oldForm&&__(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(F(Xn,10),F(il,10))},n.\u0275dir=ge({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&dt("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vt([Qq]),we,Vi]}),n})();const t9={provide:Qr,useExisting:x(()=>$w)};let $w=(()=>{class n extends Qr{constructor(e,i,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new gt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Nw(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Fw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return p_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(F(Is,13),F(Xn,10),F(il,10),F(is,10),F(jw,8))},n.\u0275dir=ge({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[vt([t9]),we,Vi]}),n})();const u9={provide:Xn,useExisting:x(()=>w_),multi:!0};let w_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?SP(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&Yt("required",i.required?"":null)},inputs:{required:"required"},features:[vt([u9])]}),n})(),bL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[rL]]}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[bL]}),n})(),v9=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:jw,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[bL]}),n})();function xL(n,t,e,i,s,r,a){try{var c=n[r](a),d=c.value}catch(h){return void e(h)}c.done?t(d):Promise.resolve(d).then(i,s)}const ac=1e3,Ps=1001,Ln=1003,$i=1006,rl=1008,oc=1009,jf=1012,Jr=1015,Da=1016,gu=1020,Sr=1023,lc=1026,mu=1027,Yf=2300,_u=2301,vu=2400,yu=2401,ea=3e3,Ri=3001,oo="srgb",dc="srgb-linear",Xf=35044,$f=35048;class al{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const s=this._listeners[t];if(void 0!==s){const r=s.indexOf(e);-1!==r&&s.splice(r,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const s=i.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,t);t.target=null}}}const fs=[];for(let n=0;n<256;n++)fs[n]=(n<16?"0":"")+n.toString(16);let iO=1234567;const uc=Math.PI/180,qf=180/Math.PI;function tr(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(fs[255&n]+fs[n>>8&255]+fs[n>>16&255]+fs[n>>24&255]+"-"+fs[255&t]+fs[t>>8&255]+"-"+fs[t>>16&15|64]+fs[t>>24&255]+"-"+fs[63&e|128]+fs[e>>8&255]+"-"+fs[e>>16&255]+fs[e>>24&255]+fs[255&i]+fs[i>>8&255]+fs[i>>16&255]+fs[i>>24&255]).toLowerCase()}function Mn(n,t,e){return Math.max(t,Math.min(e,n))}function cC(n,t){return(n%t+t)%t}function Zf(n,t,e){return(1-e)*n+e*t}function dC(n){return 0==(n&n-1)&&0!==n}function nO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function k_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}var O7=Object.freeze({__proto__:null,DEG2RAD:uc,RAD2DEG:qf,generateUUID:tr,clamp:Mn,euclideanModulo:cC,mapLinear:function b7(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)},inverseLerp:function x7(n,t,e){return n!==t?(e-n)/(t-n):0},lerp:Zf,damp:function w7(n,t,e,i){return Zf(n,t,1-Math.exp(-e*i))},pingpong:function C7(n,t=1){return t-Math.abs(cC(n,2*t)-t)},smoothstep:function M7(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)},smootherstep:function S7(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*n*(n*(6*n-15)+10)},randInt:function D7(n,t){return n+Math.floor(Math.random()*(t-n+1))},randFloat:function A7(n,t){return n+Math.random()*(t-n)},randFloatSpread:function E7(n){return n*(.5-Math.random())},seededRandom:function T7(n){void 0!==n&&(iO=n);let t=iO+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function k7(n){return n*uc},radToDeg:function R7(n){return n*qf},isPowerOfTwo:dC,ceilPowerOfTwo:nO,floorPowerOfTwo:k_,setQuaternionFromProperEuler:function I7(n,t,e,i,s){const r=Math.cos,a=Math.sin,c=r(e/2),d=a(e/2),h=r((t+i)/2),g=a((t+i)/2),v=r((t-i)/2),b=a((t-i)/2),C=r((i-t)/2),D=a((i-t)/2);switch(s){case"XYX":n.set(c*g,d*v,d*b,c*h);break;case"YZY":n.set(d*b,c*g,d*v,c*h);break;case"ZXZ":n.set(d*v,d*b,c*g,c*h);break;case"XZX":n.set(c*g,d*D,d*C,c*h);break;case"YXY":n.set(d*C,c*g,d*D,c*h);break;case"ZYZ":n.set(d*D,d*C,c*g,c*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:function L7(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}},denormalize:function P7(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}});class ke{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*i-a*s+t.x,this.y=r*s+a*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ke.prototype.isVector2=!0;class ns{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,s,r,a,c,d,h){const g=this.elements;return g[0]=t,g[1]=s,g[2]=c,g[3]=e,g[4]=r,g[5]=d,g[6]=i,g[7]=a,g[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,a=i[0],c=i[3],d=i[6],h=i[1],g=i[4],v=i[7],b=i[2],C=i[5],D=i[8],A=s[0],E=s[3],I=s[6],P=s[1],N=s[4],V=s[7],G=s[2],q=s[5],ee=s[8];return r[0]=a*A+c*P+d*G,r[3]=a*E+c*N+d*q,r[6]=a*I+c*V+d*ee,r[1]=h*A+g*P+v*G,r[4]=h*E+g*N+v*q,r[7]=h*I+g*V+v*ee,r[2]=b*A+C*P+D*G,r[5]=b*E+C*N+D*q,r[8]=b*I+C*V+D*ee,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8];return e*a*g-e*c*h-i*r*g+i*c*d+s*r*h-s*a*d}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8],v=g*a-c*h,b=c*d-g*r,C=h*r-a*d,D=e*v+i*b+s*C;if(0===D)return this.set(0,0,0,0,0,0,0,0,0);const A=1/D;return t[0]=v*A,t[1]=(s*h-g*i)*A,t[2]=(c*i-s*a)*A,t[3]=b*A,t[4]=(g*e-s*d)*A,t[5]=(s*r-c*e)*A,t[6]=C*A,t[7]=(i*d-h*e)*A,t[8]=(a*e-i*r)*A,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,a,c){const d=Math.cos(r),h=Math.sin(r);return this.set(i*d,i*h,-i*(d*a+h*c)+a+t,-s*h,s*d,-s*(-h*a+d*c)+c+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),s=this.elements,r=s[0],a=s[3],c=s[6],d=s[1],h=s[4],g=s[7];return s[0]=e*r+i*d,s[3]=e*a+i*h,s[6]=e*c+i*g,s[1]=-i*r+e*d,s[4]=-i*a+e*h,s[7]=-i*c+e*g,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function sO(n){for(let t=n.length-1;t>=0;--t)if(n[t]>65535)return!0;return!1}function Kf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function R_(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}ns.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const uC={[oo]:{[dc]:hc},[dc]:{[oo]:R_}},ta={legacyMode:!0,get workingColorSpace(){return dc},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(this.legacyMode||t===e||!t||!e)return n;if(uC[t]&&void 0!==uC[t][e]){const i=uC[t][e];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}},rO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},$n={r:0,g:0,b:0},ia={h:0,s:0,l:0},I_={h:0,s:0,l:0};function hC(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}function P_(n,t){return t.r=n.r,t.g=n.g,t.b=n.b,t}let xu,Je=(()=>{class n{constructor(e,i,s){return void 0===i&&void 0===s?this.set(e):this.setRGB(e,i,s)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=oo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ta.toWorkingColorSpace(this,i),this}setRGB(e,i,s,r=dc){return this.r=e,this.g=i,this.b=s,ta.toWorkingColorSpace(this,r),this}setHSL(e,i,s,r=dc){if(e=cC(e,1),i=Mn(i,0,1),s=Mn(s,0,1),0===i)this.r=this.g=this.b=s;else{const a=s<=.5?s*(1+i):s+i-s*i,c=2*s-a;this.r=hC(c,a,e+1/3),this.g=hC(c,a,e),this.b=hC(c,a,e-1/3)}return ta.toWorkingColorSpace(this,r),this}setStyle(e,i=oo){function s(a){void 0!==a&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const d=r[2];switch(r[1]){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,ta.toWorkingColorSpace(this,i),s(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,ta.toWorkingColorSpace(this,i),s(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d)){const h=parseFloat(a[1])/360,g=parseInt(a[2],10)/100,v=parseInt(a[3],10)/100;return s(a[4]),this.setHSL(h,g,v,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],c=a.length;if(3===c)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,ta.toWorkingColorSpace(this,i),this;if(6===c)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,ta.toWorkingColorSpace(this,i),this}return e&&e.length>0?this.setColorName(e,i):this}setColorName(e,i=oo){const s=rO[e.toLowerCase()];return void 0!==s?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=hc(e.r),this.g=hc(e.g),this.b=hc(e.b),this}copyLinearToSRGB(e){return this.r=R_(e.r),this.g=R_(e.g),this.b=R_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=oo){return ta.fromWorkingColorSpace(P_(this,$n),e),Mn(255*$n.r,0,255)<<16^Mn(255*$n.g,0,255)<<8^Mn(255*$n.b,0,255)<<0}getHexString(e=oo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=dc){ta.fromWorkingColorSpace(P_(this,$n),i);const s=$n.r,r=$n.g,a=$n.b,c=Math.max(s,r,a),d=Math.min(s,r,a);let h,g;const v=(d+c)/2;if(d===c)h=0,g=0;else{const b=c-d;switch(g=v<=.5?b/(c+d):b/(2-c-d),c){case s:h=(r-a)/b+(r<a?6:0);break;case r:h=(a-s)/b+2;break;case a:h=(s-r)/b+4}h/=6}return e.h=h,e.s=g,e.l=v,e}getRGB(e,i=dc){return ta.fromWorkingColorSpace(P_(this,$n),i),e.r=$n.r,e.g=$n.g,e.b=$n.b,e}getStyle(e=oo){return ta.fromWorkingColorSpace(P_(this,$n),e),e!==oo?`color(${e} ${$n.r} ${$n.g} ${$n.b})`:`rgb(${255*$n.r|0},${255*$n.g|0},${255*$n.b|0})`}offsetHSL(e,i,s){return this.getHSL(ia),ia.h+=e,ia.s+=i,ia.l+=s,this.setHSL(ia.h,ia.s,ia.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,s){return this.r=e.r+(i.r-e.r)*s,this.g=e.g+(i.g-e.g)*s,this.b=e.b+(i.b-e.b)*s,this}lerpHSL(e,i){this.getHSL(ia),e.getHSL(I_);const s=Zf(ia.h,I_.h,i),r=Zf(ia.s,I_.s,i),a=Zf(ia.l,I_.l,i);return this.setHSL(s,r,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return n.NAMES=rO,n})();Je.prototype.isColor=!0,Je.prototype.r=1,Je.prototype.g=1,Je.prototype.b=1;class fc{static getDataURL(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===xu&&(xu=Kf("canvas")),xu.width=t.width,xu.height=t.height;const i=xu.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=xu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=Kf("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=255*hc(r[a]/255);return i.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*hc(e[i]/255)):hc(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class wu{constructor(t=null){this.uuid=tr(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let a=0,c=s.length;a<c;a++)r.push(fC(s[a].isDataTexture?s[a].image:s[a]))}else r=fC(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function fC(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?fc.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}wu.prototype.isSource=!0;let N7=0,bs=(()=>{class n extends al{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,s=Ps,r=Ps,a=$i,c=rl,d=Sr,h=oc,g=1,v=ea){super(),Object.defineProperty(this,"id",{value:N7++}),this.uuid=tr(),this.name="",this.source=new wu(e),this.mipmaps=[],this.mapping=i,this.wrapS=s,this.wrapT=r,this.magFilter=a,this.minFilter=c,this.anisotropy=g,this.format=d,this.internalFormat=null,this.type=h,this.offset=new ke(0,0),this.repeat=new ke(1,1),this.center=new ke(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ns,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),i||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ac:e.x=e.x-Math.floor(e.x);break;case Ps:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case ac:e.y=e.y-Math.floor(e.y);break;case Ps:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();bs.prototype.isTexture=!0;class Hi{constructor(t=0,e=0,i=0,s=1){this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*i+a[8]*s+a[12]*r,this.y=a[1]*e+a[5]*i+a[9]*s+a[13]*r,this.z=a[2]*e+a[6]*i+a[10]*s+a[14]*r,this.w=a[3]*e+a[7]*i+a[11]*s+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const a=.01,c=.1,d=t.elements,h=d[0],g=d[4],v=d[8],b=d[1],C=d[5],D=d[9],A=d[2],E=d[6],I=d[10];if(Math.abs(g-b)<a&&Math.abs(v-A)<a&&Math.abs(D-E)<a){if(Math.abs(g+b)<c&&Math.abs(v+A)<c&&Math.abs(D+E)<c&&Math.abs(h+C+I-3)<c)return this.set(1,0,0,0),this;e=Math.PI;const N=(h+1)/2,V=(C+1)/2,G=(I+1)/2,q=(g+b)/4,ee=(v+A)/4,ae=(D+E)/4;return N>V&&N>G?N<a?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(N),s=q/i,r=ee/i):V>G?V<a?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(V),i=q/s,r=ae/s):G<a?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(G),i=ee/r,s=ae/r),this.set(i,s,r,e),this}let P=Math.sqrt((E-D)*(E-D)+(v-A)*(v-A)+(b-g)*(b-g));return Math.abs(P)<.001&&(P=1),this.x=(E-D)/P,this.y=(v-A)/P,this.z=(b-g)/P,this.w=Math.acos((h+C+I-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Hi.prototype.isVector4=!0;class ir extends al{constructor(t,e,i={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new Hi(0,0,t,e),this.scissorTest=!1,this.viewport=new Hi(0,0,t,e),this.texture=new bs({width:t,height:e,depth:1},i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:$i,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}ir.prototype.isWebGLRenderTarget=!0;class L_ extends bs{constructor(t=null,e=1,i=1,s=1){super(null),this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}L_.prototype.isDataArrayTexture=!0,class B7 extends ir{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new L_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGLArrayRenderTarget=!0;class pC extends bs{constructor(t=null,e=1,i=1,s=1){super(null),this.image={data:t,width:e,height:i,depth:s},this.magFilter=Ln,this.minFilter=Ln,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}pC.prototype.isData3DTexture=!0,class V7 extends ir{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new pC(null,t,e,i),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGL3DRenderTarget=!0,class H7 extends ir{constructor(t,e,i,s={}){super(t,e,s);const r=this.texture;this.texture=[];for(let a=0;a<i;a++)this.texture[a]=r.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.texture.length;s<r;s++)this.texture[s].image.width=t,this.texture[s].image.height=e,this.texture[s].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class qn{constructor(t=0,e=0,i=0,s=1){this._x=t,this._y=e,this._z=i,this._w=s}static slerp(t,e,i,s){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(t,e,s)}static slerpFlat(t,e,i,s,r,a,c){let d=i[s+0],h=i[s+1],g=i[s+2],v=i[s+3];const b=r[a+0],C=r[a+1],D=r[a+2],A=r[a+3];if(0===c)return t[e+0]=d,t[e+1]=h,t[e+2]=g,void(t[e+3]=v);if(1===c)return t[e+0]=b,t[e+1]=C,t[e+2]=D,void(t[e+3]=A);if(v!==A||d!==b||h!==C||g!==D){let E=1-c;const I=d*b+h*C+g*D+v*A,P=I>=0?1:-1,N=1-I*I;if(N>Number.EPSILON){const G=Math.sqrt(N),q=Math.atan2(G,I*P);E=Math.sin(E*q)/G,c=Math.sin(c*q)/G}const V=c*P;if(d=d*E+b*V,h=h*E+C*V,g=g*E+D*V,v=v*E+A*V,E===1-c){const G=1/Math.sqrt(d*d+h*h+g*g+v*v);d*=G,h*=G,g*=G,v*=G}}t[e]=d,t[e+1]=h,t[e+2]=g,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,s,r,a){const c=i[s],d=i[s+1],h=i[s+2],g=i[s+3],v=r[a],b=r[a+1],C=r[a+2],D=r[a+3];return t[e]=c*D+g*v+d*C-h*b,t[e+1]=d*D+g*b+h*v-c*C,t[e+2]=h*D+g*C+c*b-d*v,t[e+3]=g*D-c*v-d*b-h*C,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,s=t._y,r=t._z,a=t._order,c=Math.cos,d=Math.sin,h=c(i/2),g=c(s/2),v=c(r/2),b=d(i/2),C=d(s/2),D=d(r/2);switch(a){case"XYZ":this._x=b*g*v+h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v-b*C*D;break;case"YXZ":this._x=b*g*v+h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v+b*C*D;break;case"ZXY":this._x=b*g*v-h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v-b*C*D;break;case"ZYX":this._x=b*g*v-h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v+b*C*D;break;case"YZX":this._x=b*g*v+h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v-b*C*D;break;case"XZY":this._x=b*g*v-h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v+b*C*D;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],a=e[1],c=e[5],d=e[9],h=e[2],g=e[6],v=e[10],b=i+c+v;if(b>0){const C=.5/Math.sqrt(b+1);this._w=.25/C,this._x=(g-d)*C,this._y=(r-h)*C,this._z=(a-s)*C}else if(i>c&&i>v){const C=2*Math.sqrt(1+i-c-v);this._w=(g-d)/C,this._x=.25*C,this._y=(s+a)/C,this._z=(r+h)/C}else if(c>v){const C=2*Math.sqrt(1+c-i-v);this._w=(r-h)/C,this._x=(s+a)/C,this._y=.25*C,this._z=(d+g)/C}else{const C=2*Math.sqrt(1+v-i-c);this._w=(a-s)/C,this._x=(r+h)/C,this._y=(d+g)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Mn(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,a=t._w,c=e._x,d=e._y,h=e._z,g=e._w;return this._x=i*g+a*c+s*h-r*d,this._y=s*g+a*d+r*c-i*h,this._z=r*g+a*h+i*d-s*c,this._w=a*g-i*c-s*d-r*h,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,r=this._z,a=this._w;let c=a*t._w+i*t._x+s*t._y+r*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=a,this._x=i,this._y=s,this._z=r,this;const d=1-c*c;if(d<=Number.EPSILON){const C=1-e;return this._w=C*a+e*this._w,this._x=C*i+e*this._x,this._y=C*s+e*this._y,this._z=C*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(d),g=Math.atan2(h,c),v=Math.sin((1-e)*g)/h,b=Math.sin(e*g)/h;return this._w=a*v+this._w*b,this._x=i*v+this._x*b,this._y=s*v+this._y*b,this._z=r*v+this._z*b,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(s),i*Math.sin(r),i*Math.cos(r),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}qn.prototype.isQuaternion=!0;class ${constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(aO.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(aO.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,a=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*a,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*a,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*a,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,a=t.y,c=t.z,d=t.w,h=d*e+a*s-c*i,g=d*i+c*e-r*s,v=d*s+r*i-a*e,b=-r*e-a*i-c*s;return this.x=h*d+b*-r+g*-c-v*-a,this.y=g*d+b*-a+v*-r-h*-c,this.z=v*d+b*-c+h*-a-g*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,a=e.x,c=e.y,d=e.z;return this.x=s*d-r*c,this.y=r*a-i*d,this.z=i*c-s*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return gC.copy(this).projectOnVector(t),this.sub(gC)}reflect(t){return this.sub(gC.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Mn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}$.prototype.isVector3=!0;const gC=new $,aO=new qn;class nr{constructor(t=new $(1/0,1/0,1/0),e=new $(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,i=1/0,s=1/0,r=-1/0,a=-1/0,c=-1/0;for(let d=0,h=t.length;d<h;d+=3){const g=t[d],v=t[d+1],b=t[d+2];g<e&&(e=g),v<i&&(i=v),b<s&&(s=b),g>r&&(r=g),v>a&&(a=v),b>c&&(c=b)}return this.min.set(e,i,s),this.max.set(r,a,c),this}setFromBufferAttribute(t){let e=1/0,i=1/0,s=1/0,r=-1/0,a=-1/0,c=-1/0;for(let d=0,h=t.count;d<h;d++){const g=t.getX(d),v=t.getY(d),b=t.getZ(d);g<e&&(e=g),v<i&&(i=v),b<s&&(s=b),g>r&&(r=g),v>a&&(a=v),b>c&&(c=b)}return this.min.set(e,i,s),this.max.set(r,a,c),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=pc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i)if(e&&null!=i.attributes&&void 0!==i.attributes.position){const r=i.attributes.position;for(let a=0,c=r.count;a<c;a++)pc.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(pc)}else null===i.boundingBox&&i.computeBoundingBox(),mC.copy(i.boundingBox),mC.applyMatrix4(t.matrixWorld),this.union(mC);const s=t.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,pc),pc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Qf),O_.subVectors(this.max,Qf),Cu.subVectors(t.a,Qf),Mu.subVectors(t.b,Qf),Su.subVectors(t.c,Qf),ol.subVectors(Mu,Cu),ll.subVectors(Su,Mu),gc.subVectors(Cu,Su);let e=[0,-ol.z,ol.y,0,-ll.z,ll.y,0,-gc.z,gc.y,ol.z,0,-ol.x,ll.z,0,-ll.x,gc.z,0,-gc.x,-ol.y,ol.x,0,-ll.y,ll.x,0,-gc.y,gc.x,0];return!(!_C(e,Cu,Mu,Su,O_)||(e=[1,0,0,0,1,0,0,0,1],!_C(e,Cu,Mu,Su,O_)))&&(F_.crossVectors(ol,ll),e=[F_.x,F_.y,F_.z],_C(e,Cu,Mu,Su,O_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return pc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(pc).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(lo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),lo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),lo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),lo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),lo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),lo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),lo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),lo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(lo)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}nr.prototype.isBox3=!0;const lo=[new $,new $,new $,new $,new $,new $,new $,new $],pc=new $,mC=new nr,Cu=new $,Mu=new $,Su=new $,ol=new $,ll=new $,gc=new $,Qf=new $,O_=new $,F_=new $,mc=new $;function _C(n,t,e,i,s){for(let r=0,a=n.length-3;r<=a;r+=3){mc.fromArray(n,r);const c=s.x*Math.abs(mc.x)+s.y*Math.abs(mc.y)+s.z*Math.abs(mc.z),d=t.dot(mc),h=e.dot(mc),g=i.dot(mc);if(Math.max(-Math.max(d,h,g),Math.min(d,h,g))>c)return!1}return!0}const z7=new nr,oO=new $,N_=new $,vC=new $;class cl{constructor(t=new $,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):z7.setFromPoints(t).getCenter(i);let s=0;for(let r=0,a=t.length;r<a;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){vC.subVectors(t,this.center);const e=vC.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=.5*(i-this.radius);this.center.add(vC.multiplyScalar(s/i)),this.radius+=s}return this}union(t){return!0===this.center.equals(t.center)?N_.set(0,0,1).multiplyScalar(t.radius):N_.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(oO.copy(t.center).add(N_)),this.expandByPoint(oO.copy(t.center).sub(N_)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const co=new $,yC=new $,B_=new $,dl=new $,bC=new $,V_=new $,xC=new $;class _c{constructor(t=new $,e=new $(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,co)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=co.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(co.copy(this.direction).multiplyScalar(e).add(this.origin),co.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){yC.copy(t).add(e).multiplyScalar(.5),B_.copy(e).sub(t).normalize(),dl.copy(this.origin).sub(yC);const r=.5*t.distanceTo(e),a=-this.direction.dot(B_),c=dl.dot(this.direction),d=-dl.dot(B_),h=dl.lengthSq(),g=Math.abs(1-a*a);let v,b,C,D;if(g>0)if(v=a*d-c,b=a*c-d,D=r*g,v>=0)if(b>=-D)if(b<=D){const A=1/g;v*=A,b*=A,C=v*(v+a*b+2*c)+b*(a*v+b+2*d)+h}else b=r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;else b=-r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;else b<=-D?(v=Math.max(0,-(-a*r+c)),b=v>0?-r:Math.min(Math.max(-r,-d),r),C=-v*v+b*(b+2*d)+h):b<=D?(v=0,b=Math.min(Math.max(-r,-d),r),C=b*(b+2*d)+h):(v=Math.max(0,-(a*r+c)),b=v>0?r:Math.min(Math.max(-r,-d),r),C=-v*v+b*(b+2*d)+h);else b=a>0?-r:r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;return i&&i.copy(this.direction).multiplyScalar(v).add(this.origin),s&&s.copy(B_).multiplyScalar(b).add(yC),C}intersectSphere(t,e){co.subVectors(t.center,this.origin);const i=co.dot(this.direction),s=co.dot(co)-i*i,r=t.radius*t.radius;if(s>r)return null;const a=Math.sqrt(r-s),c=i-a,d=i+a;return c<0&&d<0?null:this.at(c<0?d:c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,a,c,d;const h=1/this.direction.x,g=1/this.direction.y,v=1/this.direction.z,b=this.origin;return h>=0?(i=(t.min.x-b.x)*h,s=(t.max.x-b.x)*h):(i=(t.max.x-b.x)*h,s=(t.min.x-b.x)*h),g>=0?(r=(t.min.y-b.y)*g,a=(t.max.y-b.y)*g):(r=(t.max.y-b.y)*g,a=(t.min.y-b.y)*g),i>a||r>s||((r>i||i!=i)&&(i=r),(a<s||s!=s)&&(s=a),v>=0?(c=(t.min.z-b.z)*v,d=(t.max.z-b.z)*v):(c=(t.max.z-b.z)*v,d=(t.min.z-b.z)*v),i>d||c>s)||((c>i||i!=i)&&(i=c),(d<s||s!=s)&&(s=d),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return null!==this.intersectBox(t,co)}intersectTriangle(t,e,i,s,r){bC.subVectors(e,t),V_.subVectors(i,t),xC.crossVectors(bC,V_);let c,a=this.direction.dot(xC);if(a>0){if(s)return null;c=1}else{if(!(a<0))return null;c=-1,a=-a}dl.subVectors(this.origin,t);const d=c*this.direction.dot(V_.crossVectors(dl,V_));if(d<0)return null;const h=c*this.direction.dot(bC.cross(dl));if(h<0||d+h>a)return null;const g=-c*dl.dot(xC);return g<0?null:this.at(g/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class St{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,s,r,a,c,d,h,g,v,b,C,D,A,E){const I=this.elements;return I[0]=t,I[4]=e,I[8]=i,I[12]=s,I[1]=r,I[5]=a,I[9]=c,I[13]=d,I[2]=h,I[6]=g,I[10]=v,I[14]=b,I[3]=C,I[7]=D,I[11]=A,I[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new St).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/Du.setFromMatrixColumn(t,0).length(),r=1/Du.setFromMatrixColumn(t,1).length(),a=1/Du.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*a,e[9]=i[9]*a,e[10]=i[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,s=t.y,r=t.z,a=Math.cos(i),c=Math.sin(i),d=Math.cos(s),h=Math.sin(s),g=Math.cos(r),v=Math.sin(r);if("XYZ"===t.order){const b=a*g,C=a*v,D=c*g,A=c*v;e[0]=d*g,e[4]=-d*v,e[8]=h,e[1]=C+D*h,e[5]=b-A*h,e[9]=-c*d,e[2]=A-b*h,e[6]=D+C*h,e[10]=a*d}else if("YXZ"===t.order){const b=d*g,C=d*v,D=h*g,A=h*v;e[0]=b+A*c,e[4]=D*c-C,e[8]=a*h,e[1]=a*v,e[5]=a*g,e[9]=-c,e[2]=C*c-D,e[6]=A+b*c,e[10]=a*d}else if("ZXY"===t.order){const b=d*g,C=d*v,D=h*g,A=h*v;e[0]=b-A*c,e[4]=-a*v,e[8]=D+C*c,e[1]=C+D*c,e[5]=a*g,e[9]=A-b*c,e[2]=-a*h,e[6]=c,e[10]=a*d}else if("ZYX"===t.order){const b=a*g,C=a*v,D=c*g,A=c*v;e[0]=d*g,e[4]=D*h-C,e[8]=b*h+A,e[1]=d*v,e[5]=A*h+b,e[9]=C*h-D,e[2]=-h,e[6]=c*d,e[10]=a*d}else if("YZX"===t.order){const b=a*d,C=a*h,D=c*d,A=c*h;e[0]=d*g,e[4]=A-b*v,e[8]=D*v+C,e[1]=v,e[5]=a*g,e[9]=-c*g,e[2]=-h*g,e[6]=C*v+D,e[10]=b-A*v}else if("XZY"===t.order){const b=a*d,C=a*h,D=c*d,A=c*h;e[0]=d*g,e[4]=-v,e[8]=h*g,e[1]=b*v+A,e[5]=a*g,e[9]=C*v-D,e[2]=D*v-C,e[6]=c*g,e[10]=A*v+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(G7,t,U7)}lookAt(t,e,i){const s=this.elements;return sr.subVectors(t,e),0===sr.lengthSq()&&(sr.z=1),sr.normalize(),ul.crossVectors(i,sr),0===ul.lengthSq()&&(1===Math.abs(i.z)?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),ul.crossVectors(i,sr)),ul.normalize(),H_.crossVectors(sr,ul),s[0]=ul.x,s[4]=H_.x,s[8]=sr.x,s[1]=ul.y,s[5]=H_.y,s[9]=sr.y,s[2]=ul.z,s[6]=H_.z,s[10]=sr.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,a=i[0],c=i[4],d=i[8],h=i[12],g=i[1],v=i[5],b=i[9],C=i[13],D=i[2],A=i[6],E=i[10],I=i[14],P=i[3],N=i[7],V=i[11],G=i[15],q=s[0],ee=s[4],ae=s[8],ue=s[12],ce=s[1],j=s[5],ie=s[9],Me=s[13],pe=s[2],_e=s[6],le=s[10],he=s[14],oe=s[3],xe=s[7],Ee=s[11],We=s[15];return r[0]=a*q+c*ce+d*pe+h*oe,r[4]=a*ee+c*j+d*_e+h*xe,r[8]=a*ae+c*ie+d*le+h*Ee,r[12]=a*ue+c*Me+d*he+h*We,r[1]=g*q+v*ce+b*pe+C*oe,r[5]=g*ee+v*j+b*_e+C*xe,r[9]=g*ae+v*ie+b*le+C*Ee,r[13]=g*ue+v*Me+b*he+C*We,r[2]=D*q+A*ce+E*pe+I*oe,r[6]=D*ee+A*j+E*_e+I*xe,r[10]=D*ae+A*ie+E*le+I*Ee,r[14]=D*ue+A*Me+E*he+I*We,r[3]=P*q+N*ce+V*pe+G*oe,r[7]=P*ee+N*j+V*_e+G*xe,r[11]=P*ae+N*ie+V*le+G*Ee,r[15]=P*ue+N*Me+V*he+G*We,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],a=t[1],c=t[5],d=t[9],h=t[13],g=t[2],v=t[6],b=t[10],C=t[14];return t[3]*(+r*d*v-s*h*v-r*c*b+i*h*b+s*c*C-i*d*C)+t[7]*(+e*d*C-e*h*b+r*a*b-s*a*C+s*h*g-r*d*g)+t[11]*(+e*h*v-e*c*C-r*a*v+i*a*C+r*c*g-i*h*g)+t[15]*(-s*c*g-e*d*v+e*c*b+s*a*v-i*a*b+i*d*g)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8],v=t[9],b=t[10],C=t[11],D=t[12],A=t[13],E=t[14],I=t[15],P=v*E*h-A*b*h+A*d*C-c*E*C-v*d*I+c*b*I,N=D*b*h-g*E*h-D*d*C+a*E*C+g*d*I-a*b*I,V=g*A*h-D*v*h+D*c*C-a*A*C-g*c*I+a*v*I,G=D*v*d-g*A*d-D*c*b+a*A*b+g*c*E-a*v*E,q=e*P+i*N+s*V+r*G;if(0===q)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ee=1/q;return t[0]=P*ee,t[1]=(A*b*r-v*E*r-A*s*C+i*E*C+v*s*I-i*b*I)*ee,t[2]=(c*E*r-A*d*r+A*s*h-i*E*h-c*s*I+i*d*I)*ee,t[3]=(v*d*r-c*b*r-v*s*h+i*b*h+c*s*C-i*d*C)*ee,t[4]=N*ee,t[5]=(g*E*r-D*b*r+D*s*C-e*E*C-g*s*I+e*b*I)*ee,t[6]=(D*d*r-a*E*r-D*s*h+e*E*h+a*s*I-e*d*I)*ee,t[7]=(a*b*r-g*d*r+g*s*h-e*b*h-a*s*C+e*d*C)*ee,t[8]=V*ee,t[9]=(D*v*r-g*A*r-D*i*C+e*A*C+g*i*I-e*v*I)*ee,t[10]=(a*A*r-D*c*r+D*i*h-e*A*h-a*i*I+e*c*I)*ee,t[11]=(g*c*r-a*v*r-g*i*h+e*v*h+a*i*C-e*c*C)*ee,t[12]=G*ee,t[13]=(g*A*s-D*v*s+D*i*b-e*A*b-g*i*E+e*v*E)*ee,t[14]=(D*c*s-a*A*s-D*i*d+e*A*d+a*i*E-e*c*E)*ee,t[15]=(a*v*s-g*c*s+g*i*d-e*v*d-a*i*b+e*c*b)*ee,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,a=t.x,c=t.y,d=t.z,h=r*a,g=r*c;return this.set(h*a+i,h*c-s*d,h*d+s*c,0,h*c+s*d,g*c+i,g*d-s*a,0,h*d-s*c,g*d+s*a,r*d*d+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,a){return this.set(1,i,r,0,t,1,a,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,a=e._y,c=e._z,d=e._w,h=r+r,g=a+a,v=c+c,b=r*h,C=r*g,D=r*v,A=a*g,E=a*v,I=c*v,P=d*h,N=d*g,V=d*v,G=i.x,q=i.y,ee=i.z;return s[0]=(1-(A+I))*G,s[1]=(C+V)*G,s[2]=(D-N)*G,s[3]=0,s[4]=(C-V)*q,s[5]=(1-(b+I))*q,s[6]=(E+P)*q,s[7]=0,s[8]=(D+N)*ee,s[9]=(E-P)*ee,s[10]=(1-(b+A))*ee,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=Du.set(s[0],s[1],s[2]).length();const a=Du.set(s[4],s[5],s[6]).length(),c=Du.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],na.copy(this);const h=1/r,g=1/a,v=1/c;return na.elements[0]*=h,na.elements[1]*=h,na.elements[2]*=h,na.elements[4]*=g,na.elements[5]*=g,na.elements[6]*=g,na.elements[8]*=v,na.elements[9]*=v,na.elements[10]*=v,e.setFromRotationMatrix(na),i.x=r,i.y=a,i.z=c,this}makePerspective(t,e,i,s,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const c=this.elements,h=2*r/(i-s),g=(e+t)/(e-t),v=(i+s)/(i-s),b=-(a+r)/(a-r),C=-2*a*r/(a-r);return c[0]=2*r/(e-t),c[4]=0,c[8]=g,c[12]=0,c[1]=0,c[5]=h,c[9]=v,c[13]=0,c[2]=0,c[6]=0,c[10]=b,c[14]=C,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,i,s,r,a){const c=this.elements,d=1/(e-t),h=1/(i-s),g=1/(a-r),v=(e+t)*d,b=(i+s)*h,C=(a+r)*g;return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-v,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-b,c[2]=0,c[6]=0,c[10]=-2*g,c[14]=-C,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}St.prototype.isMatrix4=!0;const Du=new $,na=new St,G7=new $(0,0,0),U7=new $(1,1,1),ul=new $,H_=new $,sr=new $,lO=new St,cO=new qn;class vc{constructor(t=0,e=0,i=0,s=vc.DefaultOrder){this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],a=s[4],c=s[8],d=s[1],h=s[5],g=s[9],v=s[2],b=s[6],C=s[10];switch(e){case"XYZ":this._y=Math.asin(Mn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-g,C),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(b,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Mn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(c,C),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(Mn(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,C),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(d,r));break;case"ZYX":this._y=Math.asin(-Mn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,C),this._z=Math.atan2(d,r)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Mn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,h),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(c,C));break;case"XZY":this._z=Math.asin(-Mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(b,h),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-g,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return lO.makeRotationFromQuaternion(t),this.setFromRotationMatrix(lO,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return cO.setFromEuler(this),this.setFromQuaternion(cO,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}vc.prototype.isEuler=!0,vc.DefaultOrder="XYZ",vc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class wC{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let W7=0;const dO=new $,Au=new qn,uo=new St,z_=new $,Jf=new $,j7=new $,Y7=new qn,uO=new $(1,0,0),hO=new $(0,1,0),fO=new $(0,0,1),X7={type:"added"},pO={type:"removed"};class Oi extends al{constructor(){super(),Object.defineProperty(this,"id",{value:W7++}),this.uuid=tr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Oi.DefaultUp.clone();const t=new $,e=new vc,i=new qn,s=new $(1,1,1);e._onChange(function r(){i.setFromEuler(e,!1)}),i._onChange(function a(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new St},normalMatrix:{value:new ns}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=Oi.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new wC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Au.setFromAxisAngle(t,e),this.quaternion.multiply(Au),this}rotateOnWorldAxis(t,e){return Au.setFromAxisAngle(t,e),this.quaternion.premultiply(Au),this}rotateX(t){return this.rotateOnAxis(uO,t)}rotateY(t){return this.rotateOnAxis(hO,t)}rotateZ(t){return this.rotateOnAxis(fO,t)}translateOnAxis(t,e){return dO.copy(t).applyQuaternion(this.quaternion),this.position.add(dO.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(uO,t)}translateY(t){return this.translateOnAxis(hO,t)}translateZ(t){return this.translateOnAxis(fO,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(uo.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?z_.copy(t):z_.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),Jf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?uo.lookAt(Jf,z_,this.up):uo.lookAt(z_,Jf,this.up),this.quaternion.setFromRotationMatrix(uo),s&&(uo.extractRotation(s.matrixWorld),Au.setFromRotationMatrix(uo),this.quaternion.premultiply(Au.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(X7)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(pO)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(pO)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),uo.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),uo.multiply(t.parent.matrixWorld)),t.applyMatrix4(uo),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectByProperty(t,e);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jf,t,j7),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Jf,Y7,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function r(c,d){return void 0===c[d.uuid]&&(c[d.uuid]=d.toJSON(t)),d.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const d=c.shapes;if(Array.isArray(d))for(let h=0,g=d.length;h<g;h++)r(t.shapes,d[h]);else r(t.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let d=0,h=this.material.length;d<h;d++)c.push(r(t.materials,this.material[d]));s.material=c}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(r(t.animations,this.animations[c]))}if(e){const c=a(t.geometries),d=a(t.materials),h=a(t.textures),g=a(t.images),v=a(t.shapes),b=a(t.skeletons),C=a(t.animations),D=a(t.nodes);c.length>0&&(i.geometries=c),d.length>0&&(i.materials=d),h.length>0&&(i.textures=h),g.length>0&&(i.images=g),v.length>0&&(i.shapes=v),b.length>0&&(i.skeletons=b),C.length>0&&(i.animations=C),D.length>0&&(i.nodes=D)}return i.object=s,i;function a(c){const d=[];for(const h in c){const g=c[h];delete g.metadata,d.push(g)}return d}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}Oi.DefaultUp=new $(0,1,0),Oi.DefaultMatrixAutoUpdate=!0,Oi.prototype.isObject3D=!0;const sa=new $,ho=new $,CC=new $,fo=new $,Eu=new $,Tu=new $,gO=new $,MC=new $,SC=new $,DC=new $;class On{constructor(t=new $,e=new $,i=new $){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),sa.subVectors(t,e),s.cross(sa);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){sa.subVectors(s,e),ho.subVectors(i,e),CC.subVectors(t,e);const a=sa.dot(sa),c=sa.dot(ho),d=sa.dot(CC),h=ho.dot(ho),g=ho.dot(CC),v=a*h-c*c;if(0===v)return r.set(-2,-1,-1);const b=1/v,C=(h*d-c*g)*b,D=(a*g-c*d)*b;return r.set(1-C-D,D,C)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,fo),fo.x>=0&&fo.y>=0&&fo.x+fo.y<=1}static getUV(t,e,i,s,r,a,c,d){return this.getBarycoord(t,e,i,s,fo),d.set(0,0),d.addScaledVector(r,fo.x),d.addScaledVector(a,fo.y),d.addScaledVector(c,fo.z),d}static isFrontFacing(t,e,i,s){return sa.subVectors(i,e),ho.subVectors(t,e),sa.cross(ho).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return sa.subVectors(this.c,this.b),ho.subVectors(this.a,this.b),.5*sa.cross(ho).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return On.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return On.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,s,r){return On.getUV(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return On.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return On.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let a,c;Eu.subVectors(s,i),Tu.subVectors(r,i),MC.subVectors(t,i);const d=Eu.dot(MC),h=Tu.dot(MC);if(d<=0&&h<=0)return e.copy(i);SC.subVectors(t,s);const g=Eu.dot(SC),v=Tu.dot(SC);if(g>=0&&v<=g)return e.copy(s);const b=d*v-g*h;if(b<=0&&d>=0&&g<=0)return a=d/(d-g),e.copy(i).addScaledVector(Eu,a);DC.subVectors(t,r);const C=Eu.dot(DC),D=Tu.dot(DC);if(D>=0&&C<=D)return e.copy(r);const A=C*h-d*D;if(A<=0&&h>=0&&D<=0)return c=h/(h-D),e.copy(i).addScaledVector(Tu,c);const E=g*D-C*v;if(E<=0&&v-g>=0&&C-D>=0)return gO.subVectors(r,s),c=(v-g)/(v-g+(C-D)),e.copy(s).addScaledVector(gO,c);const I=1/(E+A+b);return a=A*I,c=b*I,e.copy(i).addScaledVector(Eu,a).addScaledVector(Tu,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let $7=0;class cn extends al{constructor(){super(),Object.defineProperty(this,"id",{value:$7++}),this.uuid=tr(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(r){const a=[];for(const c in r){const d=r[c];delete d.metadata,a.push(d)}return a}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){const r=s(t.textures),a=s(t.images);r.length>0&&(i.textures=r),a.length>0&&(i.images=a)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}cn.prototype.isMaterial=!0,cn.fromType=function(){return null};class rr extends cn{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}rr.prototype.isMeshBasicMaterial=!0;const Fn=new $,G_=new ke;class Wi{constructor(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.usage=Xf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),a=new Je),e[i++]=a.r,e[i++]=a.g,e[i++]=a.b}return this}copyVector2sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),a=new ke),e[i++]=a.x,e[i++]=a.y}return this}copyVector3sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),a=new $),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z}return this}copyVector4sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),a=new Hi),e[i++]=a.x,e[i++]=a.y,e[i++]=a.z,e[i++]=a.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)G_.fromBufferAttribute(this,e),G_.applyMatrix3(t),this.setXY(e,G_.x,G_.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)Fn.fromBufferAttribute(this,e),Fn.applyMatrix3(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Fn.fromBufferAttribute(this,e),Fn.applyMatrix4(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Fn.fromBufferAttribute(this,e),Fn.applyNormalMatrix(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Fn.fromBufferAttribute(this,e),Fn.transformDirection(t),this.setXYZ(e,Fn.x,Fn.y,Fn.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Xf&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}Wi.prototype.isBufferAttribute=!0;class mO extends Wi{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class _O extends Wi{constructor(t,e,i){super(new Uint32Array(t),e,i)}}(class q7 extends Wi{constructor(t,e,i){super(new Uint16Array(t),e,i)}}).prototype.isFloat16BufferAttribute=!0;class Dt extends Wi{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Z7=0;const Dr=new St,AC=new Oi,ku=new $,ar=new nr,ep=new nr,ss=new $;class Xt extends al{constructor(){super(),Object.defineProperty(this,"id",{value:Z7++}),this.uuid=tr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(sO(t)?_O:mO)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const r=(new ns).getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Dr.makeRotationFromQuaternion(t),this.applyMatrix4(Dr),this}rotateX(t){return Dr.makeRotationX(t),this.applyMatrix4(Dr),this}rotateY(t){return Dr.makeRotationY(t),this.applyMatrix4(Dr),this}rotateZ(t){return Dr.makeRotationZ(t),this.applyMatrix4(Dr),this}translate(t,e,i){return Dr.makeTranslation(t,e,i),this.applyMatrix4(Dr),this}scale(t,e,i){return Dr.makeScale(t,e,i),this.applyMatrix4(Dr),this}lookAt(t){return AC.lookAt(t),AC.updateMatrix(),this.applyMatrix4(AC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ku).negate(),this.translate(ku.x,ku.y,ku.z),this}setFromPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Dt(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new nr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++)ar.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(ss.addVectors(this.boundingBox.min,ar.min),this.boundingBox.expandByPoint(ss),ss.addVectors(this.boundingBox.max,ar.max),this.boundingBox.expandByPoint(ss)):(this.boundingBox.expandByPoint(ar.min),this.boundingBox.expandByPoint(ar.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new cl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new $,1/0);if(t){const i=this.boundingSphere.center;if(ar.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++)ep.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(ss.addVectors(ar.min,ep.min),ar.expandByPoint(ss),ss.addVectors(ar.max,ep.max),ar.expandByPoint(ss)):(ar.expandByPoint(ep.min),ar.expandByPoint(ep.max));ar.getCenter(i);let s=0;for(let r=0,a=t.count;r<a;r++)ss.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(ss));if(e)for(let r=0,a=e.length;r<a;r++){const c=e[r],d=this.morphTargetsRelative;for(let h=0,g=c.count;h<g;h++)ss.fromBufferAttribute(c,h),d&&(ku.fromBufferAttribute(t,h),ss.add(ku)),s=Math.max(s,i.distanceToSquared(ss))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,s=e.position.array,r=e.normal.array,a=e.uv.array,c=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Wi(new Float32Array(4*c),4));const d=this.getAttribute("tangent").array,h=[],g=[];for(let ce=0;ce<c;ce++)h[ce]=new $,g[ce]=new $;const v=new $,b=new $,C=new $,D=new ke,A=new ke,E=new ke,I=new $,P=new $;function N(ce,j,ie){v.fromArray(s,3*ce),b.fromArray(s,3*j),C.fromArray(s,3*ie),D.fromArray(a,2*ce),A.fromArray(a,2*j),E.fromArray(a,2*ie),b.sub(v),C.sub(v),A.sub(D),E.sub(D);const Me=1/(A.x*E.y-E.x*A.y);!isFinite(Me)||(I.copy(b).multiplyScalar(E.y).addScaledVector(C,-A.y).multiplyScalar(Me),P.copy(C).multiplyScalar(A.x).addScaledVector(b,-E.x).multiplyScalar(Me),h[ce].add(I),h[j].add(I),h[ie].add(I),g[ce].add(P),g[j].add(P),g[ie].add(P))}let V=this.groups;0===V.length&&(V=[{start:0,count:i.length}]);for(let ce=0,j=V.length;ce<j;++ce){const ie=V[ce],Me=ie.start;for(let _e=Me,le=Me+ie.count;_e<le;_e+=3)N(i[_e+0],i[_e+1],i[_e+2])}const G=new $,q=new $,ee=new $,ae=new $;function ue(ce){ee.fromArray(r,3*ce),ae.copy(ee);const j=h[ce];G.copy(j),G.sub(ee.multiplyScalar(ee.dot(j))).normalize(),q.crossVectors(ae,j);const Me=q.dot(g[ce])<0?-1:1;d[4*ce]=G.x,d[4*ce+1]=G.y,d[4*ce+2]=G.z,d[4*ce+3]=Me}for(let ce=0,j=V.length;ce<j;++ce){const ie=V[ce],Me=ie.start;for(let _e=Me,le=Me+ie.count;_e<le;_e+=3)ue(i[_e+0]),ue(i[_e+1]),ue(i[_e+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new Wi(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let b=0,C=i.count;b<C;b++)i.setXYZ(b,0,0,0);const s=new $,r=new $,a=new $,c=new $,d=new $,h=new $,g=new $,v=new $;if(t)for(let b=0,C=t.count;b<C;b+=3){const D=t.getX(b+0),A=t.getX(b+1),E=t.getX(b+2);s.fromBufferAttribute(e,D),r.fromBufferAttribute(e,A),a.fromBufferAttribute(e,E),g.subVectors(a,r),v.subVectors(s,r),g.cross(v),c.fromBufferAttribute(i,D),d.fromBufferAttribute(i,A),h.fromBufferAttribute(i,E),c.add(g),d.add(g),h.add(g),i.setXYZ(D,c.x,c.y,c.z),i.setXYZ(A,d.x,d.y,d.z),i.setXYZ(E,h.x,h.y,h.z)}else for(let b=0,C=e.count;b<C;b+=3)s.fromBufferAttribute(e,b+0),r.fromBufferAttribute(e,b+1),a.fromBufferAttribute(e,b+2),g.subVectors(a,r),v.subVectors(s,r),g.cross(v),i.setXYZ(b+0,g.x,g.y,g.z),i.setXYZ(b+1,g.x,g.y,g.z),i.setXYZ(b+2,g.x,g.y,g.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const s in i){if(void 0===t.attributes[s])continue;const a=i[s].array,c=t.attributes[s],d=c.array,h=c.itemSize*e,g=Math.min(d.length,a.length-h);for(let v=0,b=h;v<g;v++,b++)a[b]=d[v]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)ss.fromBufferAttribute(t,e),ss.normalize(),t.setXYZ(e,ss.x,ss.y,ss.z)}toNonIndexed(){function t(c,d){const h=c.array,g=c.itemSize,v=c.normalized,b=new h.constructor(d.length*g);let C=0,D=0;for(let A=0,E=d.length;A<E;A++){C=c.isInterleavedBufferAttribute?d[A]*c.data.stride+c.offset:d[A]*g;for(let I=0;I<g;I++)b[D++]=h[C++]}return new Wi(b,g,v)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Xt,i=this.index.array,s=this.attributes;for(const c in s){const h=t(s[c],i);e.setAttribute(c,h)}const r=this.morphAttributes;for(const c in r){const d=[],h=r[c];for(let g=0,v=h.length;g<v;g++){const C=t(h[g],i);d.push(C)}e.morphAttributes[c]=d}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let c=0,d=a.length;c<d;c++){const h=a[c];e.addGroup(h.start,h.count,h.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const d=this.parameters;for(const h in d)void 0!==d[h]&&(t[h]=d[h]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const d in i)t.data.attributes[d]=i[d].toJSON(t.data);const s={};let r=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],g=[];for(let v=0,b=h.length;v<b;v++)g.push(h[v].toJSON(t.data));g.length>0&&(s[d]=g,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const s=t.attributes;for(const h in s)this.setAttribute(h,s[h].clone(e));const r=t.morphAttributes;for(const h in r){const g=[],v=r[h];for(let b=0,C=v.length;b<C;b++)g.push(v[b].clone(e));this.morphAttributes[h]=g}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let h=0,g=a.length;h<g;h++){const v=a[h];this.addGroup(v.start,v.count,v.materialIndex)}const c=t.boundingBox;null!==c&&(this.boundingBox=c.clone());const d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Xt.prototype.isBufferGeometry=!0;const vO=new St,Ru=new _c,EC=new cl,hl=new $,fl=new $,pl=new $,TC=new $,kC=new $,RC=new $,U_=new $,W_=new $,j_=new $,Y_=new ke,X_=new ke,$_=new ke,IC=new $,q_=new $;class Zn extends Oi{constructor(t=new Xt,e=new rr){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;if(void 0===s||(null===i.boundingSphere&&i.computeBoundingSphere(),EC.copy(i.boundingSphere),EC.applyMatrix4(r),!1===t.ray.intersectsSphere(EC))||(vO.copy(r).invert(),Ru.copy(t.ray).applyMatrix4(vO),null!==i.boundingBox&&!1===Ru.intersectsBox(i.boundingBox)))return;let a;if(i.isBufferGeometry){const c=i.index,d=i.attributes.position,h=i.morphAttributes.position,g=i.morphTargetsRelative,v=i.attributes.uv,b=i.attributes.uv2,C=i.groups,D=i.drawRange;if(null!==c)if(Array.isArray(s))for(let A=0,E=C.length;A<E;A++){const I=C[A],P=s[I.materialIndex];for(let G=Math.max(I.start,D.start),q=Math.min(c.count,Math.min(I.start+I.count,D.start+D.count));G<q;G+=3){const ee=c.getX(G),ae=c.getX(G+1),ue=c.getX(G+2);a=Z_(this,P,t,Ru,d,h,g,v,b,ee,ae,ue),a&&(a.faceIndex=Math.floor(G/3),a.face.materialIndex=I.materialIndex,e.push(a))}}else for(let I=Math.max(0,D.start),P=Math.min(c.count,D.start+D.count);I<P;I+=3){const N=c.getX(I),V=c.getX(I+1),G=c.getX(I+2);a=Z_(this,s,t,Ru,d,h,g,v,b,N,V,G),a&&(a.faceIndex=Math.floor(I/3),e.push(a))}else if(void 0!==d)if(Array.isArray(s))for(let A=0,E=C.length;A<E;A++){const I=C[A],P=s[I.materialIndex];for(let G=Math.max(I.start,D.start),q=Math.min(d.count,Math.min(I.start+I.count,D.start+D.count));G<q;G+=3)a=Z_(this,P,t,Ru,d,h,g,v,b,G,G+1,G+2),a&&(a.faceIndex=Math.floor(G/3),a.face.materialIndex=I.materialIndex,e.push(a))}else for(let I=Math.max(0,D.start),P=Math.min(d.count,D.start+D.count);I<P;I+=3)a=Z_(this,s,t,Ru,d,h,g,v,b,I,I+1,I+2),a&&(a.faceIndex=Math.floor(I/3),e.push(a))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Z_(n,t,e,i,s,r,a,c,d,h,g,v){hl.fromBufferAttribute(s,h),fl.fromBufferAttribute(s,g),pl.fromBufferAttribute(s,v);const b=n.morphTargetInfluences;if(r&&b){U_.set(0,0,0),W_.set(0,0,0),j_.set(0,0,0);for(let D=0,A=r.length;D<A;D++){const E=b[D],I=r[D];0!==E&&(TC.fromBufferAttribute(I,h),kC.fromBufferAttribute(I,g),RC.fromBufferAttribute(I,v),a?(U_.addScaledVector(TC,E),W_.addScaledVector(kC,E),j_.addScaledVector(RC,E)):(U_.addScaledVector(TC.sub(hl),E),W_.addScaledVector(kC.sub(fl),E),j_.addScaledVector(RC.sub(pl),E)))}hl.add(U_),fl.add(W_),pl.add(j_)}n.isSkinnedMesh&&(n.boneTransform(h,hl),n.boneTransform(g,fl),n.boneTransform(v,pl));const C=function K7(n,t,e,i,s,r,a,c){let d;if(d=1===t.side?i.intersectTriangle(a,r,s,!0,c):i.intersectTriangle(s,r,a,2!==t.side,c),null===d)return null;q_.copy(c),q_.applyMatrix4(n.matrixWorld);const h=e.ray.origin.distanceTo(q_);return h<e.near||h>e.far?null:{distance:h,point:q_.clone(),object:n}}(n,t,e,i,hl,fl,pl,IC);if(C){c&&(Y_.fromBufferAttribute(c,h),X_.fromBufferAttribute(c,g),$_.fromBufferAttribute(c,v),C.uv=On.getUV(IC,hl,fl,pl,Y_,X_,$_,new ke)),d&&(Y_.fromBufferAttribute(d,h),X_.fromBufferAttribute(d,g),$_.fromBufferAttribute(d,v),C.uv2=On.getUV(IC,hl,fl,pl,Y_,X_,$_,new ke));const D={a:h,b:g,c:v,normal:new $,materialIndex:0};On.getNormal(hl,fl,pl,D.normal),C.face=D}return C}Zn.prototype.isMesh=!0;class yc extends Xt{constructor(t=1,e=1,i=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:a};const c=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const d=[],h=[],g=[],v=[];let b=0,C=0;function D(A,E,I,P,N,V,G,q,ee,ae,ue){const ce=V/ee,j=G/ae,ie=V/2,Me=G/2,pe=q/2,_e=ee+1,le=ae+1;let he=0,oe=0;const xe=new $;for(let Ee=0;Ee<le;Ee++){const We=Ee*j-Me;for(let Ne=0;Ne<_e;Ne++)xe[A]=(Ne*ce-ie)*P,xe[E]=We*N,xe[I]=pe,h.push(xe.x,xe.y,xe.z),xe[A]=0,xe[E]=0,xe[I]=q>0?1:-1,g.push(xe.x,xe.y,xe.z),v.push(Ne/ee),v.push(1-Ee/ae),he+=1}for(let Ee=0;Ee<ae;Ee++)for(let We=0;We<ee;We++){const Ct=b+We+_e*(Ee+1),wt=b+(We+1)+_e*(Ee+1),Ht=b+(We+1)+_e*Ee;d.push(b+We+_e*Ee,Ct,Ht),d.push(Ct,wt,Ht),oe+=6}c.addGroup(C,oe,ue),C+=oe,b+=he}D("z","y","x",-1,-1,i,e,t,a,r,0),D("z","y","x",1,-1,i,e,-t,a,r,1),D("x","z","y",1,1,t,i,e,s,a,2),D("x","z","y",1,-1,t,i,-e,s,a,3),D("x","y","z",1,-1,t,e,i,s,r,4),D("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(d),this.setAttribute("position",new Dt(h,3)),this.setAttribute("normal",new Dt(g,3)),this.setAttribute("uv",new Dt(v,2))}static fromJSON(t){return new yc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Iu(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];t[e][i]=s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.clone():Array.isArray(s)?s.slice():s}}return t}function xs(n){const t={};for(let e=0;e<n.length;e++){const i=Iu(n[e]);for(const s in i)t[s]=i[s]}return t}const Q7={clone:Iu,merge:xs};class ra extends cn{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Iu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;e.uniforms[s]=a&&a.isTexture?{type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const s in this.extensions)!0===this.extensions[s]&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}ra.prototype.isShaderMaterial=!0;class K_ extends Oi{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}K_.prototype.isCamera=!0;class Kn extends K_{constructor(t=50,e=1,i=.1,s=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*qf*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*uc*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*qf*Math.atan(Math.tan(.5*uc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,s,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*uc*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const a=this.view;if(null!==this.view&&this.view.enabled){const d=a.fullWidth,h=a.fullHeight;r+=a.offsetX*s/d,e-=a.offsetY*i/h,s*=a.width/d,i*=a.height/h}const c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}Kn.prototype.isPerspectiveCamera=!0;class PC extends Oi{constructor(t,e,i){if(super(),this.type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const s=new Kn(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new $(1,0,0)),this.add(s);const r=new Kn(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new $(-1,0,0)),this.add(r);const a=new Kn(90,1,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new $(0,1,0)),this.add(a);const c=new Kn(90,1,t,e);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new $(0,-1,0)),this.add(c);const d=new Kn(90,1,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new $(0,0,1)),this.add(d);const h=new Kn(90,1,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new $(0,0,-1)),this.add(h)}update(t,e){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[s,r,a,c,d,h]=this.children,g=t.getRenderTarget(),v=t.outputEncoding,b=t.toneMapping,C=t.xr.enabled;t.outputEncoding=ea,t.toneMapping=0,t.xr.enabled=!1;const D=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,s),t.setRenderTarget(i,1),t.render(e,r),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,c),t.setRenderTarget(i,4),t.render(e,d),i.texture.generateMipmaps=D,t.setRenderTarget(i,5),t.render(e,h),t.setRenderTarget(g),t.outputEncoding=v,t.toneMapping=b,t.xr.enabled=C,i.texture.needsPMREMUpdate=!0}}class tp extends bs{constructor(t,e,i,s,r,a,c,d,h,g){super(t=void 0!==t?t:[],e=void 0!==e?e:301,i,s,r,a,c,d,h,g),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}tp.prototype.isCubeTexture=!0;class yO extends ir{constructor(t,e={}){super(t,t,e);const i={width:t,height:t,depth:1};this.texture=new tp([i,i,i,i,i,i],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:$i}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new yc(5,5,5),r=new ra({name:"CubemapFromEquirect",uniforms:Iu(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const a=new Zn(s,r),c=e.minFilter;return e.minFilter===rl&&(e.minFilter=$i),new PC(1,10,this).update(t,a),e.minFilter=c,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,i,s);t.setRenderTarget(r)}}yO.prototype.isWebGLCubeRenderTarget=!0;const LC=new $,tZ=new $,iZ=new ns;class po{constructor(t=new $(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=LC.subVectors(i,e).cross(tZ.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const i=t.delta(LC),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(i).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||iZ.getNormalMatrix(t),s=this.coplanarPoint(LC).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}po.prototype.isPlane=!0;const Ou=new cl,Q_=new $;class J_{constructor(t=new po,e=new po,i=new po,s=new po,r=new po,a=new po){this.planes=[t,e,i,s,r,a]}set(t,e,i,s,r,a){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(i),c[3].copy(s),c[4].copy(r),c[5].copy(a),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,i=t.elements,s=i[0],r=i[1],a=i[2],c=i[3],d=i[4],h=i[5],g=i[6],v=i[7],b=i[8],C=i[9],D=i[10],A=i[11],E=i[12],I=i[13],P=i[14],N=i[15];return e[0].setComponents(c-s,v-d,A-b,N-E).normalize(),e[1].setComponents(c+s,v+d,A+b,N+E).normalize(),e[2].setComponents(c+r,v+h,A+C,N+I).normalize(),e[3].setComponents(c-r,v-h,A-C,N-I).normalize(),e[4].setComponents(c-a,v-g,A-D,N-P).normalize(),e[5].setComponents(c+a,v+g,A+D,N+P).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ou.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ou)}intersectsSprite(t){return Ou.center.set(0,0,0),Ou.radius=.7071067811865476,Ou.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ou)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(Q_.x=s.normal.x>0?t.max.x:t.min.x,Q_.y=s.normal.y>0?t.max.y:t.min.y,Q_.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(Q_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function bO(){let n=null,t=!1,e=null,i=null;function s(r,a){e(r,a),i=n.requestAnimationFrame(s)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function nZ(n,t){const e=t.isWebGL2,i=new WeakMap;return{get:function a(h){return h.isInterleavedBufferAttribute&&(h=h.data),i.get(h)},remove:function c(h){h.isInterleavedBufferAttribute&&(h=h.data);const g=i.get(h);g&&(n.deleteBuffer(g.buffer),i.delete(h))},update:function d(h,g){if(h.isGLBufferAttribute){const b=i.get(h);return void((!b||b.version<h.version)&&i.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version}))}h.isInterleavedBufferAttribute&&(h=h.data);const v=i.get(h);void 0===v?i.set(h,function s(h,g){const v=h.array,b=h.usage,C=n.createBuffer();let D;if(n.bindBuffer(g,C),n.bufferData(g,v,b),h.onUploadCallback(),v instanceof Float32Array)D=5126;else if(v instanceof Uint16Array)if(h.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");D=5131}else D=5123;else if(v instanceof Int16Array)D=5122;else if(v instanceof Uint32Array)D=5125;else if(v instanceof Int32Array)D=5124;else if(v instanceof Int8Array)D=5120;else if(v instanceof Uint8Array)D=5121;else{if(!(v instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);D=5121}return{buffer:C,type:D,bytesPerElement:v.BYTES_PER_ELEMENT,version:h.version}}(h,g)):v.version<h.version&&(function r(h,g,v){const b=g.array,C=g.updateRange;n.bindBuffer(v,h),-1===C.count?n.bufferSubData(v,0,b):(e?n.bufferSubData(v,C.offset*b.BYTES_PER_ELEMENT,b,C.offset,C.count):n.bufferSubData(v,C.offset*b.BYTES_PER_ELEMENT,b.subarray(C.offset,C.offset+C.count)),C.count=-1)}(v.buffer,h,g),v.version=h.version)}}}class ip extends Xt{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,a=e/2,c=Math.floor(i),d=Math.floor(s),h=c+1,g=d+1,v=t/c,b=e/d,C=[],D=[],A=[],E=[];for(let I=0;I<g;I++){const P=I*b-a;for(let N=0;N<h;N++)D.push(N*v-r,-P,0),A.push(0,0,1),E.push(N/c),E.push(1-I/d)}for(let I=0;I<d;I++)for(let P=0;P<c;P++){const V=P+h*(I+1),G=P+1+h*(I+1),q=P+1+h*I;C.push(P+h*I,V,q),C.push(V,G,q)}this.setIndex(C),this.setAttribute("position",new Dt(D,3)),this.setAttribute("normal",new Dt(A,3)),this.setAttribute("uv",new Dt(E,2))}static fromJSON(t){return new ip(t.width,t.height,t.widthSegments,t.heightSegments)}}const Ci={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},lt={common:{diffuse:{value:new Je(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new ns},uv2Transform:{value:new ns},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ke(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Je(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Je(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ns}},sprite:{diffuse:{value:new Je(16777215)},opacity:{value:1},center:{value:new ke(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new ns}}},Aa={basic:{uniforms:xs([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.fog]),vertexShader:Ci.meshbasic_vert,fragmentShader:Ci.meshbasic_frag},lambert:{uniforms:xs([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.fog,lt.lights,{emissive:{value:new Je(0)}}]),vertexShader:Ci.meshlambert_vert,fragmentShader:Ci.meshlambert_frag},phong:{uniforms:xs([lt.common,lt.specularmap,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,lt.lights,{emissive:{value:new Je(0)},specular:{value:new Je(1118481)},shininess:{value:30}}]),vertexShader:Ci.meshphong_vert,fragmentShader:Ci.meshphong_frag},standard:{uniforms:xs([lt.common,lt.envmap,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.roughnessmap,lt.metalnessmap,lt.fog,lt.lights,{emissive:{value:new Je(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ci.meshphysical_vert,fragmentShader:Ci.meshphysical_frag},toon:{uniforms:xs([lt.common,lt.aomap,lt.lightmap,lt.emissivemap,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.gradientmap,lt.fog,lt.lights,{emissive:{value:new Je(0)}}]),vertexShader:Ci.meshtoon_vert,fragmentShader:Ci.meshtoon_frag},matcap:{uniforms:xs([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,lt.fog,{matcap:{value:null}}]),vertexShader:Ci.meshmatcap_vert,fragmentShader:Ci.meshmatcap_frag},points:{uniforms:xs([lt.points,lt.fog]),vertexShader:Ci.points_vert,fragmentShader:Ci.points_frag},dashed:{uniforms:xs([lt.common,lt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ci.linedashed_vert,fragmentShader:Ci.linedashed_frag},depth:{uniforms:xs([lt.common,lt.displacementmap]),vertexShader:Ci.depth_vert,fragmentShader:Ci.depth_frag},normal:{uniforms:xs([lt.common,lt.bumpmap,lt.normalmap,lt.displacementmap,{opacity:{value:1}}]),vertexShader:Ci.meshnormal_vert,fragmentShader:Ci.meshnormal_frag},sprite:{uniforms:xs([lt.sprite,lt.fog]),vertexShader:Ci.sprite_vert,fragmentShader:Ci.sprite_frag},background:{uniforms:{uvTransform:{value:new ns},t2D:{value:null}},vertexShader:Ci.background_vert,fragmentShader:Ci.background_frag},cube:{uniforms:xs([lt.envmap,{opacity:{value:1}}]),vertexShader:Ci.cube_vert,fragmentShader:Ci.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ci.equirect_vert,fragmentShader:Ci.equirect_frag},distanceRGBA:{uniforms:xs([lt.common,lt.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ci.distanceRGBA_vert,fragmentShader:Ci.distanceRGBA_frag},shadow:{uniforms:xs([lt.lights,lt.fog,{color:{value:new Je(0)},opacity:{value:1}}]),vertexShader:Ci.shadow_vert,fragmentShader:Ci.shadow_frag}};function JK(n,t,e,i,s,r){const a=new Je(0);let d,h,c=!0===s?0:1,g=null,v=0,b=null;function D(A,E){e.buffers.color.setClear(A.r,A.g,A.b,E,r)}return{getClearColor:function(){return a},setClearColor:function(A,E=1){a.set(A),c=E,D(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(A){c=A,D(a,c)},render:function C(A,E){let I=!1,P=!0===E.isScene?E.background:null;P&&P.isTexture&&(P=t.get(P));const N=n.xr,V=N.getSession&&N.getSession();V&&"additive"===V.environmentBlendMode&&(P=null),null===P?D(a,c):P&&P.isColor&&(D(P,1),I=!0),(n.autoClear||I)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),P&&(P.isCubeTexture||306===P.mapping)?(void 0===h&&(h=new Zn(new yc(1,1,1),new ra({name:"BackgroundCubeMaterial",uniforms:Iu(Aa.cube.uniforms),vertexShader:Aa.cube.vertexShader,fragmentShader:Aa.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(G,q,ee){this.matrixWorld.copyPosition(ee.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=P,h.material.uniforms.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,(g!==P||v!==P.version||b!==n.toneMapping)&&(h.material.needsUpdate=!0,g=P,v=P.version,b=n.toneMapping),A.unshift(h,h.geometry,h.material,0,0,null)):P&&P.isTexture&&(void 0===d&&(d=new Zn(new ip(2,2),new ra({name:"BackgroundMaterial",uniforms:Iu(Aa.background.uniforms),vertexShader:Aa.background.vertexShader,fragmentShader:Aa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=P,!0===P.matrixAutoUpdate&&P.updateMatrix(),d.material.uniforms.uvTransform.value.copy(P.matrix),(g!==P||v!==P.version||b!==n.toneMapping)&&(d.material.needsUpdate=!0,g=P,v=P.version,b=n.toneMapping),A.unshift(d,d.geometry,d.material,0,0,null))}}}function eQ(n,t,e,i){const s=n.getParameter(34921),r=i.isWebGL2?null:t.get("OES_vertex_array_object"),a=i.isWebGL2||null!==r,c={},d=E(null);let h=d,g=!1;function C(pe){return i.isWebGL2?n.bindVertexArray(pe):r.bindVertexArrayOES(pe)}function D(pe){return i.isWebGL2?n.deleteVertexArray(pe):r.deleteVertexArrayOES(pe)}function E(pe){const _e=[],le=[],he=[];for(let oe=0;oe<s;oe++)_e[oe]=0,le[oe]=0,he[oe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:_e,enabledAttributes:le,attributeDivisors:he,object:pe,attributes:{},index:null}}function N(){const pe=h.newAttributes;for(let _e=0,le=pe.length;_e<le;_e++)pe[_e]=0}function V(pe){G(pe,0)}function G(pe,_e){const he=h.enabledAttributes,oe=h.attributeDivisors;h.newAttributes[pe]=1,0===he[pe]&&(n.enableVertexAttribArray(pe),he[pe]=1),oe[pe]!==_e&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](pe,_e),oe[pe]=_e)}function q(){const pe=h.newAttributes,_e=h.enabledAttributes;for(let le=0,he=_e.length;le<he;le++)_e[le]!==pe[le]&&(n.disableVertexAttribArray(le),_e[le]=0)}function ee(pe,_e,le,he,oe,xe){!0!==i.isWebGL2||5124!==le&&5125!==le?n.vertexAttribPointer(pe,_e,le,he,oe,xe):n.vertexAttribIPointer(pe,_e,le,oe,xe)}function ie(){Me(),g=!0,h!==d&&(h=d,C(h.object))}function Me(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:function v(pe,_e,le,he,oe){let xe=!1;if(a){const Ee=function A(pe,_e,le){const he=!0===le.wireframe;let oe=c[pe.id];void 0===oe&&(oe={},c[pe.id]=oe);let xe=oe[_e.id];void 0===xe&&(xe={},oe[_e.id]=xe);let Ee=xe[he];return void 0===Ee&&(Ee=E(function b(){return i.isWebGL2?n.createVertexArray():r.createVertexArrayOES()}()),xe[he]=Ee),Ee}(he,le,_e);h!==Ee&&(h=Ee,C(h.object)),xe=function I(pe,_e){const le=h.attributes,he=pe.attributes;let oe=0;for(const xe in he){const Ee=le[xe],We=he[xe];if(void 0===Ee||Ee.attribute!==We||Ee.data!==We.data)return!0;oe++}return h.attributesNum!==oe||h.index!==_e}(he,oe),xe&&function P(pe,_e){const le={},he=pe.attributes;let oe=0;for(const xe in he){const Ee=he[xe],We={};We.attribute=Ee,Ee.data&&(We.data=Ee.data),le[xe]=We,oe++}h.attributes=le,h.attributesNum=oe,h.index=_e}(he,oe)}else{const Ee=!0===_e.wireframe;(h.geometry!==he.id||h.program!==le.id||h.wireframe!==Ee)&&(h.geometry=he.id,h.program=le.id,h.wireframe=Ee,xe=!0)}!0===pe.isInstancedMesh&&(xe=!0),null!==oe&&e.update(oe,34963),(xe||g)&&(g=!1,function ae(pe,_e,le,he){if(!1===i.isWebGL2&&(pe.isInstancedMesh||he.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;N();const oe=he.attributes,xe=le.getAttributes(),Ee=_e.defaultAttributeValues;for(const We in xe){const Ne=xe[We];if(Ne.location>=0){let Ct=oe[We];if(void 0===Ct&&("instanceMatrix"===We&&pe.instanceMatrix&&(Ct=pe.instanceMatrix),"instanceColor"===We&&pe.instanceColor&&(Ct=pe.instanceColor)),void 0!==Ct){const wt=Ct.normalized,Ht=Ct.itemSize,Re=e.get(Ct);if(void 0===Re)continue;const $t=Re.buffer,zt=Re.type,Ot=Re.bytesPerElement;if(Ct.isInterleavedBufferAttribute){const $e=Ct.data,ni=$e.stride,Ie=Ct.offset;if($e.isInstancedInterleavedBuffer){for(let Be=0;Be<Ne.locationSize;Be++)G(Ne.location+Be,$e.meshPerAttribute);!0!==pe.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=$e.meshPerAttribute*$e.count)}else for(let Be=0;Be<Ne.locationSize;Be++)V(Ne.location+Be);n.bindBuffer(34962,$t);for(let Be=0;Be<Ne.locationSize;Be++)ee(Ne.location+Be,Ht/Ne.locationSize,zt,wt,ni*Ot,(Ie+Ht/Ne.locationSize*Be)*Ot)}else{if(Ct.isInstancedBufferAttribute){for(let $e=0;$e<Ne.locationSize;$e++)G(Ne.location+$e,Ct.meshPerAttribute);!0!==pe.isInstancedMesh&&void 0===he._maxInstanceCount&&(he._maxInstanceCount=Ct.meshPerAttribute*Ct.count)}else for(let $e=0;$e<Ne.locationSize;$e++)V(Ne.location+$e);n.bindBuffer(34962,$t);for(let $e=0;$e<Ne.locationSize;$e++)ee(Ne.location+$e,Ht/Ne.locationSize,zt,wt,Ht*Ot,Ht/Ne.locationSize*$e*Ot)}}else if(void 0!==Ee){const wt=Ee[We];if(void 0!==wt)switch(wt.length){case 2:n.vertexAttrib2fv(Ne.location,wt);break;case 3:n.vertexAttrib3fv(Ne.location,wt);break;case 4:n.vertexAttrib4fv(Ne.location,wt);break;default:n.vertexAttrib1fv(Ne.location,wt)}}}}q()}(pe,_e,le,he),null!==oe&&n.bindBuffer(34963,e.get(oe).buffer))},reset:ie,resetDefaultState:Me,dispose:function ue(){ie();for(const pe in c){const _e=c[pe];for(const le in _e){const he=_e[le];for(const oe in he)D(he[oe].object),delete he[oe];delete _e[le]}delete c[pe]}},releaseStatesOfGeometry:function ce(pe){if(void 0===c[pe.id])return;const _e=c[pe.id];for(const le in _e){const he=_e[le];for(const oe in he)D(he[oe].object),delete he[oe];delete _e[le]}delete c[pe.id]},releaseStatesOfProgram:function j(pe){for(const _e in c){const le=c[_e];if(void 0===le[pe.id])continue;const he=le[pe.id];for(const oe in he)D(he[oe].object),delete he[oe];delete le[pe.id]}},initAttributes:N,enableAttribute:V,disableUnusedAttributes:q}}function tQ(n,t,e,i){const s=i.isWebGL2;let r;this.setMode=function a(h){r=h},this.render=function c(h,g){n.drawArrays(r,h,g),e.update(g,r,1)},this.renderInstances=function d(h,g,v){if(0===v)return;let b,C;if(s)b=n,C="drawArraysInstanced";else if(b=t.get("ANGLE_instanced_arrays"),C="drawArraysInstancedANGLE",null===b)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");b[C](r,h,g,v),e.update(g,r,v)}}function iQ(n,t,e){let i;function r(ee){if("highp"===ee){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ee="mediump"}return"mediump"===ee&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let c=void 0!==e.precision?e.precision:"highp";const d=r(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=a||t.has("WEBGL_draw_buffers"),g=!0===e.logarithmicDepthBuffer,v=n.getParameter(34930),b=n.getParameter(35660),C=n.getParameter(3379),D=n.getParameter(34076),A=n.getParameter(34921),E=n.getParameter(36347),I=n.getParameter(36348),P=n.getParameter(36349),N=b>0,V=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:h,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const ee=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:c,logarithmicDepthBuffer:g,maxTextures:v,maxVertexTextures:b,maxTextureSize:C,maxCubemapSize:D,maxAttributes:A,maxVertexUniforms:E,maxVaryings:I,maxFragmentUniforms:P,vertexTextures:N,floatFragmentTextures:V,floatVertexTextures:N&&V,maxSamples:a?n.getParameter(36183):0}}function nQ(n){const t=this;let e=null,i=0,s=!1,r=!1;const a=new po,c=new ns,d={value:null,needsUpdate:!1};function h(){d.value!==e&&(d.value=e,d.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function g(v,b,C,D){const A=null!==v?v.length:0;let E=null;if(0!==A){if(E=d.value,!0!==D||null===E){const I=C+4*A,P=b.matrixWorldInverse;c.getNormalMatrix(P),(null===E||E.length<I)&&(E=new Float32Array(I));for(let N=0,V=C;N!==A;++N,V+=4)a.copy(v[N]).applyMatrix4(P,c),a.normal.toArray(E,V),E[V+3]=a.constant}d.value=E,d.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,E}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b,C){const D=0!==v.length||b||0!==i||s;return s=b,e=g(v,C,0),i=v.length,D},this.beginShadows=function(){r=!0,g(null)},this.endShadows=function(){r=!1,h()},this.setState=function(v,b,C){const D=v.clippingPlanes,A=v.clipIntersection,E=v.clipShadows,I=n.get(v);if(!s||null===D||0===D.length||r&&!E)r?g(null):h();else{const P=r?0:i,N=4*P;let V=I.clippingState||null;d.value=V,V=g(D,b,N,C);for(let G=0;G!==N;++G)V[G]=e[G];I.clippingState=V,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=P}}}function sQ(n){let t=new WeakMap;function e(a,c){return 303===c?a.mapping=301:304===c&&(a.mapping=302),a}function s(a){const c=a.target;c.removeEventListener("dispose",s);const d=t.get(c);void 0!==d&&(t.delete(c),d.dispose())}return{get:function i(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const c=a.mapping;if(303===c||304===c){if(t.has(a))return e(t.get(a).texture,a.mapping);{const d=a.image;if(d&&d.height>0){const h=new yO(d.height/2);return h.fromEquirectangularTexture(n,a),t.set(a,h),a.addEventListener("dispose",s),e(h.texture,a.mapping)}return null}}}return a},dispose:function r(){t=new WeakMap}}}Aa.physical={uniforms:xs([Aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ke(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Je(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ke},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Je(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Je(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Ci.meshphysical_vert,fragmentShader:Ci.meshphysical_frag};class np extends K_{constructor(t=-1,e=1,i=1,s=-1,r=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,a=i+t,c=s+e,d=s-e;if(null!==this.view&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,a=r+h*this.view.width,c-=g*this.view.offsetY,d=c-g*this.view.height}this.projectionMatrix.makeOrthographic(r,a,c,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}np.prototype.isOrthographicCamera=!0;const xO=[.125,.215,.35,.446,.526,.582],OC=new np,wO=new Je;let FC=null;const xc=(1+Math.sqrt(5))/2,Nu=1/xc,CO=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,xc,Nu),new $(0,xc,-Nu),new $(Nu,0,xc),new $(-Nu,0,xc),new $(xc,Nu,0),new $(-xc,Nu,0)];class MO{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){FC=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=AO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=DO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(FC),t.scissorTest=!1,ev(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),FC=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,i={magFilter:$i,minFilter:$i,generateMipmaps:!1,type:Da,format:Sr,encoding:ea,depthBuffer:!1},s=SO(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=SO(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function rQ(n){const t=[],e=[],i=[];let s=n;const r=n-4+1+xO.length;for(let a=0;a<r;a++){const c=Math.pow(2,s);e.push(c);let d=1/c;a>n-4?d=xO[a-n+4-1]:0===a&&(d=0),i.push(d);const h=1/(c-1),g=-h/2,v=1+h/2,b=[g,g,v,g,v,v,g,g,v,v,g,v],C=6,D=6,A=3,E=2,I=1,P=new Float32Array(A*D*C),N=new Float32Array(E*D*C),V=new Float32Array(I*D*C);for(let q=0;q<C;q++){const ee=q%3*2/3-1,ae=q>2?0:-1;P.set([ee,ae,0,ee+2/3,ae,0,ee+2/3,ae+1,0,ee,ae,0,ee+2/3,ae+1,0,ee,ae+1,0],A*D*q),N.set(b,E*D*q),V.set([q,q,q,q,q,q],I*D*q)}const G=new Xt;G.setAttribute("position",new Wi(P,A)),G.setAttribute("uv",new Wi(N,E)),G.setAttribute("faceIndex",new Wi(V,I)),t.push(G),s>4&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(r)),this._blurMaterial=function aQ(n,t,e){const i=new Float32Array(20),s=new $(0,1,0);return new ra({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,t,e)}return s}_compileMaterial(t){const e=new Zn(this._lodPlanes[0],t);this._renderer.compile(e,OC)}_sceneToCubeUV(t,e,i,s){const c=new Kn(90,1,e,i),d=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,b=g.toneMapping;g.getClearColor(wO),g.toneMapping=0,g.autoClear=!1;const C=new rr({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),D=new Zn(new yc,C);let A=!1;const E=t.background;E?E.isColor&&(C.color.copy(E),t.background=null,A=!0):(C.color.copy(wO),A=!0);for(let I=0;I<6;I++){const P=I%3;0===P?(c.up.set(0,d[I],0),c.lookAt(h[I],0,0)):1===P?(c.up.set(0,0,d[I]),c.lookAt(0,h[I],0)):(c.up.set(0,d[I],0),c.lookAt(0,0,h[I]));const N=this._cubeSize;ev(s,P*N,I>2?N:0,N,N),g.setRenderTarget(s),A&&g.render(D,c),g.render(t,c)}D.geometry.dispose(),D.material.dispose(),g.toneMapping=b,g.autoClear=v,t.background=E}_textureToCubeUV(t,e){const i=this._renderer,s=301===t.mapping||302===t.mapping;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=AO()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=DO());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new Zn(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const d=this._cubeSize;ev(e,0,0,3*d,2*d),i.setRenderTarget(e),i.render(a,OC)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,r,CO[(s-1)%CO.length])}e.autoClear=i}_blur(t,e,i,s,r){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,i,s,"latitudinal",r),this._halfBlur(a,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,a,c){const d=this._renderer,h=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const v=new Zn(this._lodPlanes[s],h),b=h.uniforms,C=this._sizeLods[i]-1,D=isFinite(r)?Math.PI/(2*C):2*Math.PI/39,A=r/D,E=isFinite(r)?1+Math.floor(3*A):20;E>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to 20`);const I=[];let P=0;for(let ee=0;ee<20;++ee){const ae=ee/A,ue=Math.exp(-ae*ae/2);I.push(ue),0===ee?P+=ue:ee<E&&(P+=2*ue)}for(let ee=0;ee<I.length;ee++)I[ee]=I[ee]/P;b.envMap.value=t.texture,b.samples.value=E,b.weights.value=I,b.latitudinal.value="latitudinal"===a,c&&(b.poleAxis.value=c);const{_lodMax:N}=this;b.dTheta.value=D,b.mipInt.value=N-i;const V=this._sizeLods[s];ev(e,3*V*(s>N-4?s-N+4:0),4*(this._cubeSize-V),3*V,2*V),d.setRenderTarget(e),d.render(v,OC)}}function SO(n,t,e){const i=new ir(n,t,e);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ev(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function DO(){return new ra({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function AO(){return new ra({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function oQ(n){let t=new WeakMap,e=null;function r(c){const d=c.target;d.removeEventListener("dispose",r);const h=t.get(d);void 0!==h&&(t.delete(d),h.dispose())}return{get:function i(c){if(c&&c.isTexture){const d=c.mapping,h=303===d||304===d,g=301===d||302===d;if(h||g){if(c.isRenderTargetTexture&&!0===c.needsPMREMUpdate){c.needsPMREMUpdate=!1;let v=t.get(c);return null===e&&(e=new MO(n)),v=h?e.fromEquirectangular(c,v):e.fromCubemap(c,v),t.set(c,v),v.texture}if(t.has(c))return t.get(c).texture;{const v=c.image;if(h&&v&&v.height>0||g&&v&&function s(c){let d=0;for(let g=0;g<6;g++)void 0!==c[g]&&d++;return 6===d}(v)){null===e&&(e=new MO(n));const b=h?e.fromEquirectangular(c):e.fromCubemap(c);return t.set(c,b),c.addEventListener("dispose",r),b.texture}return null}}}return c},dispose:function a(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function lQ(n){const t={};function e(i){if(void 0!==t[i])return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return null!==e(i)},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const s=e(i);return null===s&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function cQ(n,t,e,i){const s={},r=new WeakMap;function a(v){const b=v.target;null!==b.index&&t.remove(b.index);for(const D in b.attributes)t.remove(b.attributes[D]);b.removeEventListener("dispose",a),delete s[b.id];const C=r.get(b);C&&(t.remove(C),r.delete(b)),i.releaseStatesOfGeometry(b),!0===b.isInstancedBufferGeometry&&delete b._maxInstanceCount,e.memory.geometries--}function h(v){const b=[],C=v.index,D=v.attributes.position;let A=0;if(null!==C){const P=C.array;A=C.version;for(let N=0,V=P.length;N<V;N+=3){const G=P[N+0],q=P[N+1],ee=P[N+2];b.push(G,q,q,ee,ee,G)}}else{A=D.version;for(let N=0,V=D.array.length/3-1;N<V;N+=3){const G=N+0,q=N+1,ee=N+2;b.push(G,q,q,ee,ee,G)}}const E=new(sO(b)?_O:mO)(b,1);E.version=A;const I=r.get(v);I&&t.remove(I),r.set(v,E)}return{get:function c(v,b){return!0===s[b.id]||(b.addEventListener("dispose",a),s[b.id]=!0,e.memory.geometries++),b},update:function d(v){const b=v.attributes;for(const D in b)t.update(b[D],34962);const C=v.morphAttributes;for(const D in C){const A=C[D];for(let E=0,I=A.length;E<I;E++)t.update(A[E],34962)}},getWireframeAttribute:function g(v){const b=r.get(v);if(b){const C=v.index;null!==C&&b.version<C.version&&h(v)}else h(v);return r.get(v)}}}function dQ(n,t,e,i){const s=i.isWebGL2;let r,c,d;this.setMode=function a(b){r=b},this.setIndex=function h(b){c=b.type,d=b.bytesPerElement},this.render=function g(b,C){n.drawElements(r,C,c,b*d),e.update(C,r,1)},this.renderInstances=function v(b,C,D){if(0===D)return;let A,E;if(s)A=n,E="drawElementsInstanced";else if(A=t.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",null===A)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");A[E](r,C,c,b*d,D),e.update(C,r,D)}}function uQ(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function s(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(r,a,c){switch(e.calls++,a){case 4:e.triangles+=c*(r/3);break;case 1:e.lines+=c*(r/2);break;case 3:e.lines+=c*(r-1);break;case 2:e.lines+=c*r;break;case 0:e.points+=c*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function hQ(n,t){return n[0]-t[0]}function fQ(n,t){return Math.abs(t[1])-Math.abs(n[1])}function BC(n,t){let e=1;const i=t.isInterleavedBufferAttribute?t.data.array:t.array;i instanceof Int8Array?e=127:i instanceof Int16Array?e=32767:i instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(e)}function pQ(n,t,e){const i={},s=new Float32Array(8),r=new WeakMap,a=new Hi,c=[];for(let h=0;h<8;h++)c[h]=[h,0];return{update:function d(h,g,v,b){const C=h.morphTargetInfluences;if(!0===t.isWebGL2){const D=g.morphAttributes.position||g.morphAttributes.normal||g.morphAttributes.color,A=void 0!==D?D.length:0;let E=r.get(g);if(void 0===E||E.count!==A){let _e=function(){Me.dispose(),r.delete(g),g.removeEventListener("dispose",_e)};void 0!==E&&E.texture.dispose();const N=void 0!==g.morphAttributes.position,V=void 0!==g.morphAttributes.normal,G=void 0!==g.morphAttributes.color,q=g.morphAttributes.position||[],ee=g.morphAttributes.normal||[],ae=g.morphAttributes.color||[];let ue=0;!0===N&&(ue=1),!0===V&&(ue=2),!0===G&&(ue=3);let ce=g.attributes.position.count*ue,j=1;ce>t.maxTextureSize&&(j=Math.ceil(ce/t.maxTextureSize),ce=t.maxTextureSize);const ie=new Float32Array(ce*j*4*A),Me=new L_(ie,ce,j,A);Me.type=Jr,Me.needsUpdate=!0;const pe=4*ue;for(let le=0;le<A;le++){const he=q[le],oe=ee[le],xe=ae[le],Ee=ce*j*4*le;for(let We=0;We<he.count;We++){const Ne=We*pe;!0===N&&(a.fromBufferAttribute(he,We),!0===he.normalized&&BC(a,he),ie[Ee+Ne+0]=a.x,ie[Ee+Ne+1]=a.y,ie[Ee+Ne+2]=a.z,ie[Ee+Ne+3]=0),!0===V&&(a.fromBufferAttribute(oe,We),!0===oe.normalized&&BC(a,oe),ie[Ee+Ne+4]=a.x,ie[Ee+Ne+5]=a.y,ie[Ee+Ne+6]=a.z,ie[Ee+Ne+7]=0),!0===G&&(a.fromBufferAttribute(xe,We),!0===xe.normalized&&BC(a,xe),ie[Ee+Ne+8]=a.x,ie[Ee+Ne+9]=a.y,ie[Ee+Ne+10]=a.z,ie[Ee+Ne+11]=4===xe.itemSize?a.w:1)}}E={count:A,texture:Me,size:new ke(ce,j)},r.set(g,E),g.addEventListener("dispose",_e)}let I=0;for(let N=0;N<C.length;N++)I+=C[N];const P=g.morphTargetsRelative?1:1-I;b.getUniforms().setValue(n,"morphTargetBaseInfluence",P),b.getUniforms().setValue(n,"morphTargetInfluences",C),b.getUniforms().setValue(n,"morphTargetsTexture",E.texture,e),b.getUniforms().setValue(n,"morphTargetsTextureSize",E.size)}else{const D=void 0===C?0:C.length;let A=i[g.id];if(void 0===A||A.length!==D){A=[];for(let V=0;V<D;V++)A[V]=[V,0];i[g.id]=A}for(let V=0;V<D;V++){const G=A[V];G[0]=V,G[1]=C[V]}A.sort(fQ);for(let V=0;V<8;V++)V<D&&A[V][1]?(c[V][0]=A[V][0],c[V][1]=A[V][1]):(c[V][0]=Number.MAX_SAFE_INTEGER,c[V][1]=0);c.sort(hQ);const E=g.morphAttributes.position,I=g.morphAttributes.normal;let P=0;for(let V=0;V<8;V++){const G=c[V],q=G[0],ee=G[1];q!==Number.MAX_SAFE_INTEGER&&ee?(E&&g.getAttribute("morphTarget"+V)!==E[q]&&g.setAttribute("morphTarget"+V,E[q]),I&&g.getAttribute("morphNormal"+V)!==I[q]&&g.setAttribute("morphNormal"+V,I[q]),s[V]=ee,P+=ee):(E&&!0===g.hasAttribute("morphTarget"+V)&&g.deleteAttribute("morphTarget"+V),I&&!0===g.hasAttribute("morphNormal"+V)&&g.deleteAttribute("morphNormal"+V),s[V]=0)}const N=g.morphTargetsRelative?1:1-P;b.getUniforms().setValue(n,"morphTargetBaseInfluence",N),b.getUniforms().setValue(n,"morphTargetInfluences",s)}}}}function gQ(n,t,e,i){let s=new WeakMap;function c(d){const h=d.target;h.removeEventListener("dispose",c),e.remove(h.instanceMatrix),null!==h.instanceColor&&e.remove(h.instanceColor)}return{update:function r(d){const h=i.render.frame,v=t.get(d,d.geometry);return s.get(v)!==h&&(t.update(v),s.set(v,h)),d.isInstancedMesh&&(!1===d.hasEventListener("dispose",c)&&d.addEventListener("dispose",c),e.update(d.instanceMatrix,34962),null!==d.instanceColor&&e.update(d.instanceColor,34962)),v},dispose:function a(){s=new WeakMap}}}const EO=new bs,TO=new L_,kO=new pC,RO=new tp,IO=[],PO=[],LO=new Float32Array(16),OO=new Float32Array(9),FO=new Float32Array(4);function Bu(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=IO[s];if(void 0===r&&(r=new Float32Array(s),IO[s]=r),0!==t){i.toArray(r,0);for(let a=1,c=0;a!==t;++a)c+=e,n[a].toArray(r,c)}return r}function Ls(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function ws(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function tv(n,t){let e=PO[t];void 0===e&&(e=new Int32Array(t),PO[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function mQ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function _Q(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Ls(e,t))return;n.uniform2fv(this.addr,t),ws(e,t)}}function vQ(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Ls(e,t))return;n.uniform3fv(this.addr,t),ws(e,t)}}function yQ(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Ls(e,t))return;n.uniform4fv(this.addr,t),ws(e,t)}}function bQ(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(Ls(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ws(e,t)}else{if(Ls(e,i))return;FO.set(i),n.uniformMatrix2fv(this.addr,!1,FO),ws(e,i)}}function xQ(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(Ls(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ws(e,t)}else{if(Ls(e,i))return;OO.set(i),n.uniformMatrix3fv(this.addr,!1,OO),ws(e,i)}}function wQ(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(Ls(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ws(e,t)}else{if(Ls(e,i))return;LO.set(i),n.uniformMatrix4fv(this.addr,!1,LO),ws(e,i)}}function CQ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function MQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform2iv(this.addr,t),ws(e,t))}function SQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform3iv(this.addr,t),ws(e,t))}function DQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform4iv(this.addr,t),ws(e,t))}function AQ(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function EQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform2uiv(this.addr,t),ws(e,t))}function TQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform3uiv(this.addr,t),ws(e,t))}function kQ(n,t){const e=this.cache;Ls(e,t)||(n.uniform4uiv(this.addr,t),ws(e,t))}function RQ(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2D(t||EO,s)}function IQ(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||kO,s)}function PQ(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||RO,s)}function LQ(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||TO,s)}function FQ(n,t){n.uniform1fv(this.addr,t)}function NQ(n,t){const e=Bu(t,this.size,2);n.uniform2fv(this.addr,e)}function BQ(n,t){const e=Bu(t,this.size,3);n.uniform3fv(this.addr,e)}function VQ(n,t){const e=Bu(t,this.size,4);n.uniform4fv(this.addr,e)}function HQ(n,t){const e=Bu(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function zQ(n,t){const e=Bu(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function GQ(n,t){const e=Bu(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function UQ(n,t){n.uniform1iv(this.addr,t)}function WQ(n,t){n.uniform2iv(this.addr,t)}function jQ(n,t){n.uniform3iv(this.addr,t)}function YQ(n,t){n.uniform4iv(this.addr,t)}function XQ(n,t){n.uniform1uiv(this.addr,t)}function $Q(n,t){n.uniform2uiv(this.addr,t)}function qQ(n,t){n.uniform3uiv(this.addr,t)}function ZQ(n,t){n.uniform4uiv(this.addr,t)}function KQ(n,t,e){const i=t.length,s=tv(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture2D(t[r]||EO,s[r])}function QQ(n,t,e){const i=t.length,s=tv(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture3D(t[r]||kO,s[r])}function JQ(n,t,e){const i=t.length,s=tv(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTextureCube(t[r]||RO,s[r])}function eJ(n,t,e){const i=t.length,s=tv(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture2DArray(t[r]||TO,s[r])}function iJ(n,t,e){this.id=n,this.addr=e,this.cache=[],this.setValue=function OQ(n){switch(n){case 5126:return mQ;case 35664:return _Q;case 35665:return vQ;case 35666:return yQ;case 35674:return bQ;case 35675:return xQ;case 35676:return wQ;case 5124:case 35670:return CQ;case 35667:case 35671:return MQ;case 35668:case 35672:return SQ;case 35669:case 35673:return DQ;case 5125:return AQ;case 36294:return EQ;case 36295:return TQ;case 36296:return kQ;case 35678:case 36198:case 36298:case 36306:case 35682:return RQ;case 35679:case 36299:case 36307:return IQ;case 35680:case 36300:case 36308:case 36293:return PQ;case 36289:case 36303:case 36311:case 36292:return LQ}}(t.type)}function NO(n,t,e){this.id=n,this.addr=e,this.cache=[],this.size=t.size,this.setValue=function tJ(n){switch(n){case 5126:return FQ;case 35664:return NQ;case 35665:return BQ;case 35666:return VQ;case 35674:return HQ;case 35675:return zQ;case 35676:return GQ;case 5124:case 35670:return UQ;case 35667:case 35671:return WQ;case 35668:case 35672:return jQ;case 35669:case 35673:return YQ;case 5125:return XQ;case 36294:return $Q;case 36295:return qQ;case 36296:return ZQ;case 35678:case 36198:case 36298:case 36306:case 35682:return KQ;case 35679:case 36299:case 36307:return QQ;case 35680:case 36300:case 36308:case 36293:return JQ;case 36289:case 36303:case 36311:case 36292:return eJ}}(t.type)}function BO(n){this.id=n,this.seq=[],this.map={}}NO.prototype.updateCache=function(n){const t=this.cache;n instanceof Float32Array&&t.length!==n.length&&(this.cache=new Float32Array(n.length)),ws(t,n)},BO.prototype.setValue=function(n,t,e){const i=this.seq;for(let s=0,r=i.length;s!==r;++s){const a=i[s];a.setValue(n,t[a.id],e)}};const VC=/(\w+)(\])?(\[|\.)?/g;function VO(n,t){n.seq.push(t),n.map[t.id]=t}function nJ(n,t,e){const i=n.name,s=i.length;for(VC.lastIndex=0;;){const r=VC.exec(i),a=VC.lastIndex;let c=r[1];const h=r[3];if("]"===r[2]&&(c|=0),void 0===h||"["===h&&a+2===s){VO(e,void 0===h?new iJ(c,n,t):new NO(c,n,t));break}{let v=e.map[c];void 0===v&&(v=new BO(c),VO(e,v)),e=v}}}function gl(n,t){this.seq=[],this.map={};const e=n.getProgramParameter(t,35718);for(let i=0;i<e;++i){const s=n.getActiveUniform(t,i);nJ(s,n.getUniformLocation(t,s.name),this)}}function HO(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}gl.prototype.setValue=function(n,t,e,i){const s=this.map[t];void 0!==s&&s.setValue(n,e,i)},gl.prototype.setOptional=function(n,t,e){const i=t[e];void 0!==i&&this.setValue(n,e,i)},gl.upload=function(n,t,e,i){for(let s=0,r=t.length;s!==r;++s){const a=t[s],c=e[a.id];!1!==c.needsUpdate&&a.setValue(n,c.value,i)}},gl.seqWithValue=function(n,t){const e=[];for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.id in t&&e.push(r)}return e};let sJ=0;function zO(n,t,e){const i=n.getShaderParameter(t,35713),s=n.getShaderInfoLog(t).trim();if(i&&""===s)return"";const r=parseInt(/ERROR: 0:(\d+)/.exec(s)[1]);return e.toUpperCase()+"\n\n"+s+"\n\n"+function rJ(n,t){const e=n.split("\n"),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let a=s;a<r;a++)i.push(a+1+": "+e[a]);return i.join("\n")}(n.getShaderSource(t),r)}function oJ(n,t){const e=function aJ(n){switch(n){case ea:return["Linear","( value )"];case Ri:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function lJ(n,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function sp(n){return""!==n}function GO(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function UO(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const hJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function HC(n){return n.replace(hJ,fJ)}function fJ(n,t){const e=Ci[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return HC(e)}const pJ=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function WO(n){return n.replace(gJ,jO).replace(pJ,mJ)}function mJ(n,t,e,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),jO(0,t,e,i)}function jO(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function YO(n){let t="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function wJ(n,t,e,i){const s=n.getContext(),r=e.defines;let a=e.vertexShader,c=e.fragmentShader;const d=function _J(n){let t="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),h=function vJ(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),g=function yJ(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),v=function bJ(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),b=function xJ(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t/32+1)+3,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),C=e.isWebGL2?"":function cJ(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sp).join("\n")}(e),D=function dJ(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(r),A=s.createProgram();let E,I,P=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(E=[D].filter(sp).join("\n"),E.length>0&&(E+="\n"),I=[C,D].filter(sp).join("\n"),I.length>0&&(I+="\n")):(E=[YO(e),"#define SHADER_NAME "+e.shaderName,D,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+g:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(sp).join("\n"),I=[C,YO(e),"#define SHADER_NAME "+e.shaderName,D,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+h:"",e.envMap?"#define "+g:"",e.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?Ci.tonemapping_pars_fragment:"",0!==e.toneMapping?lJ("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Ci.encodings_pars_fragment,oJ("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(sp).join("\n")),a=HC(a),a=GO(a,e),a=UO(a,e),c=HC(c),c=GO(c,e),c=UO(c,e),a=WO(a),c=WO(c),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(P="#version 300 es\n",E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+E,I=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+I);const V=P+I+c,G=HO(s,35633,P+E+a),q=HO(s,35632,V);if(s.attachShader(A,G),s.attachShader(A,q),void 0!==e.index0AttributeName?s.bindAttribLocation(A,0,e.index0AttributeName):!0===e.morphTargets&&s.bindAttribLocation(A,0,"position"),s.linkProgram(A),n.debug.checkShaderErrors){const ue=s.getProgramInfoLog(A).trim(),ce=s.getShaderInfoLog(G).trim(),j=s.getShaderInfoLog(q).trim();let ie=!0,Me=!0;if(!1===s.getProgramParameter(A,35714)){ie=!1;const pe=zO(s,G,"vertex"),_e=zO(s,q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(A,35715)+"\n\nProgram Info Log: "+ue+"\n"+pe+"\n"+_e)}else""!==ue?console.warn("THREE.WebGLProgram: Program Info Log:",ue):(""===ce||""===j)&&(Me=!1);Me&&(this.diagnostics={runnable:ie,programLog:ue,vertexShader:{log:ce,prefix:E},fragmentShader:{log:j,prefix:I}})}let ee,ae;return s.deleteShader(G),s.deleteShader(q),this.getUniforms=function(){return void 0===ee&&(ee=new gl(s,A)),ee},this.getAttributes=function(){return void 0===ae&&(ae=function uJ(n,t){const e={},i=n.getProgramParameter(t,35721);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),a=r.name;let c=1;35674===r.type&&(c=2),35675===r.type&&(c=3),35676===r.type&&(c=4),e[a]={type:r.type,location:n.getAttribLocation(t,a),locationSize:c}}return e}(s,A)),ae},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(A),this.program=void 0},this.name=e.shaderName,this.id=sJ++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=G,this.fragmentShader=q,this}let CJ=0;class MJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,s=this._getShaderStage(t.vertexShader),r=this._getShaderStage(i),a=this._getShaderCacheForMaterial(t);return!1===a.has(s)&&(a.add(s),s.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const i=new SJ(t);e.set(t,i)}return e.get(t)}}class SJ{constructor(t){this.id=CJ++,this.code=t,this.usedTimes=0}}function DJ(n,t,e,i,s,r,a){const c=new wC,d=new MJ,h=[],g=s.isWebGL2,v=s.logarithmicDepthBuffer,b=s.floatVertexTextures,C=s.maxVertexUniforms,D=s.vertexTextures;let A=s.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function P(j,ie,Me,pe,_e){const le=pe.fog,he=_e.geometry,xe=(j.isMeshStandardMaterial?e:t).get(j.envMap||(j.isMeshStandardMaterial?pe.environment:null)),Ee=xe&&306===xe.mapping?xe.image.height:null,We=E[j.type],Ne=_e.isSkinnedMesh?function I(j){const Me=j.skeleton.bones;if(b)return 1024;{const _e=Math.floor((C-20)/4),le=Math.min(_e,Me.length);return le<Me.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Me.length+" bones. This GPU supports "+le+"."),0):le}}(_e):0;null!==j.precision&&(A=s.getMaxPrecision(j.precision),A!==j.precision&&console.warn("THREE.WebGLProgram.getParameters:",j.precision,"not supported, using",A,"instead."));const Ct=he.morphAttributes.position||he.morphAttributes.normal||he.morphAttributes.color,wt=void 0!==Ct?Ct.length:0;let Re,$t,zt,Ot,Ht=0;if(void 0!==he.morphAttributes.position&&(Ht=1),void 0!==he.morphAttributes.normal&&(Ht=2),void 0!==he.morphAttributes.color&&(Ht=3),We){const Ze=Aa[We];Re=Ze.vertexShader,$t=Ze.fragmentShader}else Re=j.vertexShader,$t=j.fragmentShader,d.update(j),zt=d.getVertexShaderID(j),Ot=d.getFragmentShaderID(j);const $e=n.getRenderTarget(),Ie=j.clearcoat>0;return{isWebGL2:g,shaderID:We,shaderName:j.type,vertexShader:Re,fragmentShader:$t,defines:j.defines,customVertexShaderID:zt,customFragmentShaderID:Ot,isRawShaderMaterial:!0===j.isRawShaderMaterial,glslVersion:j.glslVersion,precision:A,instancing:!0===_e.isInstancedMesh,instancingColor:!0===_e.isInstancedMesh&&null!==_e.instanceColor,supportsVertexTextures:D,outputEncoding:null===$e?n.outputEncoding:!0===$e.isXRRenderTarget?$e.texture.encoding:ea,map:!!j.map,matcap:!!j.matcap,envMap:!!xe,envMapMode:xe&&xe.mapping,envMapCubeUVHeight:Ee,lightMap:!!j.lightMap,aoMap:!!j.aoMap,emissiveMap:!!j.emissiveMap,bumpMap:!!j.bumpMap,normalMap:!!j.normalMap,objectSpaceNormalMap:1===j.normalMapType,tangentSpaceNormalMap:0===j.normalMapType,decodeVideoTexture:!!j.map&&!0===j.map.isVideoTexture&&j.map.encoding===Ri,clearcoat:Ie,clearcoatMap:Ie&&!!j.clearcoatMap,clearcoatRoughnessMap:Ie&&!!j.clearcoatRoughnessMap,clearcoatNormalMap:Ie&&!!j.clearcoatNormalMap,displacementMap:!!j.displacementMap,roughnessMap:!!j.roughnessMap,metalnessMap:!!j.metalnessMap,specularMap:!!j.specularMap,specularIntensityMap:!!j.specularIntensityMap,specularColorMap:!!j.specularColorMap,opaque:!1===j.transparent&&1===j.blending,alphaMap:!!j.alphaMap,alphaTest:j.alphaTest>0,gradientMap:!!j.gradientMap,sheen:j.sheen>0,sheenColorMap:!!j.sheenColorMap,sheenRoughnessMap:!!j.sheenRoughnessMap,transmission:j.transmission>0,transmissionMap:!!j.transmissionMap,thicknessMap:!!j.thicknessMap,combine:j.combine,vertexTangents:!!j.normalMap&&!!he.attributes.tangent,vertexColors:j.vertexColors,vertexAlphas:!0===j.vertexColors&&!!he.attributes.color&&4===he.attributes.color.itemSize,vertexUvs:!!(j.map||j.bumpMap||j.normalMap||j.specularMap||j.alphaMap||j.emissiveMap||j.roughnessMap||j.metalnessMap||j.clearcoatMap||j.clearcoatRoughnessMap||j.clearcoatNormalMap||j.displacementMap||j.transmissionMap||j.thicknessMap||j.specularIntensityMap||j.specularColorMap||j.sheenColorMap||j.sheenRoughnessMap),uvsVertexOnly:!(j.map||j.bumpMap||j.normalMap||j.specularMap||j.alphaMap||j.emissiveMap||j.roughnessMap||j.metalnessMap||j.clearcoatNormalMap||j.transmission>0||j.transmissionMap||j.thicknessMap||j.specularIntensityMap||j.specularColorMap||j.sheen>0||j.sheenColorMap||j.sheenRoughnessMap||!j.displacementMap),fog:!!le,useFog:j.fog,fogExp2:le&&le.isFogExp2,flatShading:!!j.flatShading,sizeAttenuation:j.sizeAttenuation,logarithmicDepthBuffer:v,skinning:!0===_e.isSkinnedMesh&&Ne>0,maxBones:Ne,useVertexTexture:b,morphTargets:void 0!==he.morphAttributes.position,morphNormals:void 0!==he.morphAttributes.normal,morphColors:void 0!==he.morphAttributes.color,morphTargetsCount:wt,morphTextureStride:Ht,numDirLights:ie.directional.length,numPointLights:ie.point.length,numSpotLights:ie.spot.length,numRectAreaLights:ie.rectArea.length,numHemiLights:ie.hemi.length,numDirLightShadows:ie.directionalShadowMap.length,numPointLightShadows:ie.pointShadowMap.length,numSpotLightShadows:ie.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:j.dithering,shadowMapEnabled:n.shadowMap.enabled&&Me.length>0,shadowMapType:n.shadowMap.type,toneMapping:j.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:j.premultipliedAlpha,doubleSided:2===j.side,flipSided:1===j.side,depthPacking:void 0!==j.depthPacking&&j.depthPacking,index0AttributeName:j.index0AttributeName,extensionDerivatives:j.extensions&&j.extensions.derivatives,extensionFragDepth:j.extensions&&j.extensions.fragDepth,extensionDrawBuffers:j.extensions&&j.extensions.drawBuffers,extensionShaderTextureLOD:j.extensions&&j.extensions.shaderTextureLOD,rendererExtensionFragDepth:g||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:g||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:g||i.has("EXT_shader_texture_lod"),customProgramCacheKey:j.customProgramCacheKey()}},getProgramCacheKey:function N(j){const ie=[];if(j.shaderID?ie.push(j.shaderID):(ie.push(j.customVertexShaderID),ie.push(j.customFragmentShaderID)),void 0!==j.defines)for(const Me in j.defines)ie.push(Me),ie.push(j.defines[Me]);return!1===j.isRawShaderMaterial&&(function V(j,ie){j.push(ie.precision),j.push(ie.outputEncoding),j.push(ie.envMapMode),j.push(ie.envMapCubeUVHeight),j.push(ie.combine),j.push(ie.vertexUvs),j.push(ie.fogExp2),j.push(ie.sizeAttenuation),j.push(ie.maxBones),j.push(ie.morphTargetsCount),j.push(ie.morphAttributeCount),j.push(ie.numDirLights),j.push(ie.numPointLights),j.push(ie.numSpotLights),j.push(ie.numHemiLights),j.push(ie.numRectAreaLights),j.push(ie.numDirLightShadows),j.push(ie.numPointLightShadows),j.push(ie.numSpotLightShadows),j.push(ie.shadowMapType),j.push(ie.toneMapping),j.push(ie.numClippingPlanes),j.push(ie.numClipIntersection)}(ie,j),function G(j,ie){c.disableAll(),ie.isWebGL2&&c.enable(0),ie.supportsVertexTextures&&c.enable(1),ie.instancing&&c.enable(2),ie.instancingColor&&c.enable(3),ie.map&&c.enable(4),ie.matcap&&c.enable(5),ie.envMap&&c.enable(6),ie.lightMap&&c.enable(7),ie.aoMap&&c.enable(8),ie.emissiveMap&&c.enable(9),ie.bumpMap&&c.enable(10),ie.normalMap&&c.enable(11),ie.objectSpaceNormalMap&&c.enable(12),ie.tangentSpaceNormalMap&&c.enable(13),ie.clearcoat&&c.enable(14),ie.clearcoatMap&&c.enable(15),ie.clearcoatRoughnessMap&&c.enable(16),ie.clearcoatNormalMap&&c.enable(17),ie.displacementMap&&c.enable(18),ie.specularMap&&c.enable(19),ie.roughnessMap&&c.enable(20),ie.metalnessMap&&c.enable(21),ie.gradientMap&&c.enable(22),ie.alphaMap&&c.enable(23),ie.alphaTest&&c.enable(24),ie.vertexColors&&c.enable(25),ie.vertexAlphas&&c.enable(26),ie.vertexUvs&&c.enable(27),ie.vertexTangents&&c.enable(28),ie.uvsVertexOnly&&c.enable(29),ie.fog&&c.enable(30),j.push(c.mask),c.disableAll(),ie.useFog&&c.enable(0),ie.flatShading&&c.enable(1),ie.logarithmicDepthBuffer&&c.enable(2),ie.skinning&&c.enable(3),ie.useVertexTexture&&c.enable(4),ie.morphTargets&&c.enable(5),ie.morphNormals&&c.enable(6),ie.morphColors&&c.enable(7),ie.premultipliedAlpha&&c.enable(8),ie.shadowMapEnabled&&c.enable(9),ie.physicallyCorrectLights&&c.enable(10),ie.doubleSided&&c.enable(11),ie.flipSided&&c.enable(12),ie.depthPacking&&c.enable(13),ie.dithering&&c.enable(14),ie.specularIntensityMap&&c.enable(15),ie.specularColorMap&&c.enable(16),ie.transmission&&c.enable(17),ie.transmissionMap&&c.enable(18),ie.thicknessMap&&c.enable(19),ie.sheen&&c.enable(20),ie.sheenColorMap&&c.enable(21),ie.sheenRoughnessMap&&c.enable(22),ie.decodeVideoTexture&&c.enable(23),ie.opaque&&c.enable(24),j.push(c.mask)}(ie,j),ie.push(n.outputEncoding)),ie.push(j.customProgramCacheKey),ie.join()},getUniforms:function q(j){const ie=E[j.type];let Me;return Me=ie?Q7.clone(Aa[ie].uniforms):j.uniforms,Me},acquireProgram:function ee(j,ie){let Me;for(let pe=0,_e=h.length;pe<_e;pe++){const le=h[pe];if(le.cacheKey===ie){Me=le,++Me.usedTimes;break}}return void 0===Me&&(Me=new wJ(n,ie,j,r),h.push(Me)),Me},releaseProgram:function ae(j){if(0==--j.usedTimes){const ie=h.indexOf(j);h[ie]=h[h.length-1],h.pop(),j.destroy()}},releaseShaderCache:function ue(j){d.remove(j)},programs:h,dispose:function ce(){d.dispose()}}}function AJ(){let n=new WeakMap;return{get:function t(r){let a=n.get(r);return void 0===a&&(a={},n.set(r,a)),a},remove:function e(r){n.delete(r)},update:function i(r,a,c){n.get(r)[a]=c},dispose:function s(){n=new WeakMap}}}function EJ(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function XO(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function $O(){const n=[];let t=0;const e=[],i=[],s=[];function a(v,b,C,D,A,E){let I=n[t];return void 0===I?(I={id:v.id,object:v,geometry:b,material:C,groupOrder:D,renderOrder:v.renderOrder,z:A,group:E},n[t]=I):(I.id=v.id,I.object=v,I.geometry=b,I.material=C,I.groupOrder=D,I.renderOrder=v.renderOrder,I.z=A,I.group=E),t++,I}return{opaque:e,transmissive:i,transparent:s,init:function r(){t=0,e.length=0,i.length=0,s.length=0},push:function c(v,b,C,D,A,E){const I=a(v,b,C,D,A,E);C.transmission>0?i.push(I):!0===C.transparent?s.push(I):e.push(I)},unshift:function d(v,b,C,D,A,E){const I=a(v,b,C,D,A,E);C.transmission>0?i.unshift(I):!0===C.transparent?s.unshift(I):e.unshift(I)},finish:function g(){for(let v=t,b=n.length;v<b;v++){const C=n[v];if(null===C.id)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}},sort:function h(v,b){e.length>1&&e.sort(v||EJ),i.length>1&&i.sort(b||XO),s.length>1&&s.sort(b||XO)}}}function TJ(){let n=new WeakMap;return{get:function t(i,s){let r;return!1===n.has(i)?(r=new $O,n.set(i,[r])):s>=n.get(i).length?(r=new $O,n.get(i).push(r)):r=n.get(i)[s],r},dispose:function e(){n=new WeakMap}}}function kJ(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new $,color:new Je};break;case"SpotLight":e={position:new $,direction:new $,color:new Je,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new $,color:new Je,distance:0,decay:0};break;case"HemisphereLight":e={direction:new $,skyColor:new Je,groundColor:new Je};break;case"RectAreaLight":e={color:new Je,position:new $,halfWidth:new $,halfHeight:new $}}return n[t.id]=e,e}}}let IJ=0;function PJ(n,t){return(t.castShadow?1:0)-(n.castShadow?1:0)}function LJ(n,t){const e=new kJ,i=function RJ(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ke,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let g=0;g<9;g++)s.probe.push(new $);const r=new $,a=new St,c=new St;return{setup:function d(g,v){let b=0,C=0,D=0;for(let ue=0;ue<9;ue++)s.probe[ue].set(0,0,0);let A=0,E=0,I=0,P=0,N=0,V=0,G=0,q=0;g.sort(PJ);const ee=!0!==v?Math.PI:1;for(let ue=0,ce=g.length;ue<ce;ue++){const j=g[ue],ie=j.color,Me=j.intensity,pe=j.distance,_e=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)b+=ie.r*Me*ee,C+=ie.g*Me*ee,D+=ie.b*Me*ee;else if(j.isLightProbe)for(let le=0;le<9;le++)s.probe[le].addScaledVector(j.sh.coefficients[le],Me);else if(j.isDirectionalLight){const le=e.get(j);if(le.color.copy(j.color).multiplyScalar(j.intensity*ee),j.castShadow){const he=j.shadow,oe=i.get(j);oe.shadowBias=he.bias,oe.shadowNormalBias=he.normalBias,oe.shadowRadius=he.radius,oe.shadowMapSize=he.mapSize,s.directionalShadow[A]=oe,s.directionalShadowMap[A]=_e,s.directionalShadowMatrix[A]=j.shadow.matrix,V++}s.directional[A]=le,A++}else if(j.isSpotLight){const le=e.get(j);if(le.position.setFromMatrixPosition(j.matrixWorld),le.color.copy(ie).multiplyScalar(Me*ee),le.distance=pe,le.coneCos=Math.cos(j.angle),le.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),le.decay=j.decay,j.castShadow){const he=j.shadow,oe=i.get(j);oe.shadowBias=he.bias,oe.shadowNormalBias=he.normalBias,oe.shadowRadius=he.radius,oe.shadowMapSize=he.mapSize,s.spotShadow[I]=oe,s.spotShadowMap[I]=_e,s.spotShadowMatrix[I]=j.shadow.matrix,q++}s.spot[I]=le,I++}else if(j.isRectAreaLight){const le=e.get(j);le.color.copy(ie).multiplyScalar(Me),le.halfWidth.set(.5*j.width,0,0),le.halfHeight.set(0,.5*j.height,0),s.rectArea[P]=le,P++}else if(j.isPointLight){const le=e.get(j);if(le.color.copy(j.color).multiplyScalar(j.intensity*ee),le.distance=j.distance,le.decay=j.decay,j.castShadow){const he=j.shadow,oe=i.get(j);oe.shadowBias=he.bias,oe.shadowNormalBias=he.normalBias,oe.shadowRadius=he.radius,oe.shadowMapSize=he.mapSize,oe.shadowCameraNear=he.camera.near,oe.shadowCameraFar=he.camera.far,s.pointShadow[E]=oe,s.pointShadowMap[E]=_e,s.pointShadowMatrix[E]=j.shadow.matrix,G++}s.point[E]=le,E++}else if(j.isHemisphereLight){const le=e.get(j);le.skyColor.copy(j.color).multiplyScalar(Me*ee),le.groundColor.copy(j.groundColor).multiplyScalar(Me*ee),s.hemi[N]=le,N++}}P>0&&(t.isWebGL2||!0===n.has("OES_texture_float_linear")?(s.rectAreaLTC1=lt.LTC_FLOAT_1,s.rectAreaLTC2=lt.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=lt.LTC_HALF_1,s.rectAreaLTC2=lt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=b,s.ambient[1]=C,s.ambient[2]=D;const ae=s.hash;(ae.directionalLength!==A||ae.pointLength!==E||ae.spotLength!==I||ae.rectAreaLength!==P||ae.hemiLength!==N||ae.numDirectionalShadows!==V||ae.numPointShadows!==G||ae.numSpotShadows!==q)&&(s.directional.length=A,s.spot.length=I,s.rectArea.length=P,s.point.length=E,s.hemi.length=N,s.directionalShadow.length=V,s.directionalShadowMap.length=V,s.pointShadow.length=G,s.pointShadowMap.length=G,s.spotShadow.length=q,s.spotShadowMap.length=q,s.directionalShadowMatrix.length=V,s.pointShadowMatrix.length=G,s.spotShadowMatrix.length=q,ae.directionalLength=A,ae.pointLength=E,ae.spotLength=I,ae.rectAreaLength=P,ae.hemiLength=N,ae.numDirectionalShadows=V,ae.numPointShadows=G,ae.numSpotShadows=q,s.version=IJ++)},setupView:function h(g,v){let b=0,C=0,D=0,A=0,E=0;const I=v.matrixWorldInverse;for(let P=0,N=g.length;P<N;P++){const V=g[P];if(V.isDirectionalLight){const G=s.directional[b];G.direction.setFromMatrixPosition(V.matrixWorld),r.setFromMatrixPosition(V.target.matrixWorld),G.direction.sub(r),G.direction.transformDirection(I),b++}else if(V.isSpotLight){const G=s.spot[D];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),G.direction.setFromMatrixPosition(V.matrixWorld),r.setFromMatrixPosition(V.target.matrixWorld),G.direction.sub(r),G.direction.transformDirection(I),D++}else if(V.isRectAreaLight){const G=s.rectArea[A];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),c.identity(),a.copy(V.matrixWorld),a.premultiply(I),c.extractRotation(a),G.halfWidth.set(.5*V.width,0,0),G.halfHeight.set(0,.5*V.height,0),G.halfWidth.applyMatrix4(c),G.halfHeight.applyMatrix4(c),A++}else if(V.isPointLight){const G=s.point[C];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),C++}else if(V.isHemisphereLight){const G=s.hemi[E];G.direction.setFromMatrixPosition(V.matrixWorld),G.direction.transformDirection(I),G.direction.normalize(),E++}}},state:s}}function qO(n,t){const e=new LJ(n,t),i=[],s=[];return{init:function r(){i.length=0,s.length=0},state:{lightsArray:i,shadowsArray:s,lights:e},setupLights:function d(v){e.setup(i,v)},setupLightsView:function h(v){e.setupView(i,v)},pushLight:function a(v){i.push(v)},pushShadow:function c(v){s.push(v)}}}function OJ(n,t){let e=new WeakMap;return{get:function i(r,a=0){let c;return!1===e.has(r)?(c=new qO(n,t),e.set(r,[c])):a>=e.get(r).length?(c=new qO(n,t),e.get(r).push(c)):c=e.get(r)[a],c},dispose:function s(){e=new WeakMap}}}class zC extends cn{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}zC.prototype.isMeshDepthMaterial=!0;class GC extends cn{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function ZO(n,t,e){let i=new J_;const s=new ke,r=new ke,a=new Hi,c=new zC({depthPacking:3201}),d=new GC,h={},g=e.maxTextureSize,v={0:1,1:0,2:2},b=new ra({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ke},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),C=b.clone();C.defines.HORIZONTAL_PASS=1;const D=new Xt;D.setAttribute("position",new Wi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new Zn(D,b),E=this;function I(V,G){const q=t.update(A);b.defines.VSM_SAMPLES!==V.blurSamples&&(b.defines.VSM_SAMPLES=V.blurSamples,C.defines.VSM_SAMPLES=V.blurSamples,b.needsUpdate=!0,C.needsUpdate=!0),b.uniforms.shadow_pass.value=V.map.texture,b.uniforms.resolution.value=V.mapSize,b.uniforms.radius.value=V.radius,n.setRenderTarget(V.mapPass),n.clear(),n.renderBufferDirect(G,null,q,b,A,null),C.uniforms.shadow_pass.value=V.mapPass.texture,C.uniforms.resolution.value=V.mapSize,C.uniforms.radius.value=V.radius,n.setRenderTarget(V.map),n.clear(),n.renderBufferDirect(G,null,q,C,A,null)}function P(V,G,q,ee,ae,ue){let ce=null;const j=!0===q.isPointLight?V.customDistanceMaterial:V.customDepthMaterial;if(ce=void 0!==j?j:!0===q.isPointLight?d:c,n.localClippingEnabled&&!0===G.clipShadows&&0!==G.clippingPlanes.length||G.displacementMap&&0!==G.displacementScale||G.alphaMap&&G.alphaTest>0){const ie=ce.uuid,Me=G.uuid;let pe=h[ie];void 0===pe&&(pe={},h[ie]=pe);let _e=pe[Me];void 0===_e&&(_e=ce.clone(),pe[Me]=_e),ce=_e}return ce.visible=G.visible,ce.wireframe=G.wireframe,ce.side=3===ue?null!==G.shadowSide?G.shadowSide:G.side:null!==G.shadowSide?G.shadowSide:v[G.side],ce.alphaMap=G.alphaMap,ce.alphaTest=G.alphaTest,ce.clipShadows=G.clipShadows,ce.clippingPlanes=G.clippingPlanes,ce.clipIntersection=G.clipIntersection,ce.displacementMap=G.displacementMap,ce.displacementScale=G.displacementScale,ce.displacementBias=G.displacementBias,ce.wireframeLinewidth=G.wireframeLinewidth,ce.linewidth=G.linewidth,!0===q.isPointLight&&!0===ce.isMeshDistanceMaterial&&(ce.referencePosition.setFromMatrixPosition(q.matrixWorld),ce.nearDistance=ee,ce.farDistance=ae),ce}function N(V,G,q,ee,ae){if(!1===V.visible)return;if(V.layers.test(G.layers)&&(V.isMesh||V.isLine||V.isPoints)&&(V.castShadow||V.receiveShadow&&3===ae)&&(!V.frustumCulled||i.intersectsObject(V))){V.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,V.matrixWorld);const j=t.update(V),ie=V.material;if(Array.isArray(ie)){const Me=j.groups;for(let pe=0,_e=Me.length;pe<_e;pe++){const le=Me[pe],he=ie[le.materialIndex];if(he&&he.visible){const oe=P(V,he,ee,q.near,q.far,ae);n.renderBufferDirect(q,null,j,oe,V,le)}}}else if(ie.visible){const Me=P(V,ie,ee,q.near,q.far,ae);n.renderBufferDirect(q,null,j,Me,V,null)}}const ce=V.children;for(let j=0,ie=ce.length;j<ie;j++)N(ce[j],G,q,ee,ae)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(V,G,q){if(!1===E.enabled||!1===E.autoUpdate&&!1===E.needsUpdate||0===V.length)return;const ee=n.getRenderTarget(),ae=n.getActiveCubeFace(),ue=n.getActiveMipmapLevel(),ce=n.state;ce.setBlending(0),ce.buffers.color.setClear(1,1,1,1),ce.buffers.depth.setTest(!0),ce.setScissorTest(!1);for(let j=0,ie=V.length;j<ie;j++){const Me=V[j],pe=Me.shadow;if(void 0===pe){console.warn("THREE.WebGLShadowMap:",Me,"has no shadow.");continue}if(!1===pe.autoUpdate&&!1===pe.needsUpdate)continue;s.copy(pe.mapSize);const _e=pe.getFrameExtents();s.multiply(_e),r.copy(pe.mapSize),(s.x>g||s.y>g)&&(s.x>g&&(r.x=Math.floor(g/_e.x),s.x=r.x*_e.x,pe.mapSize.x=r.x),s.y>g&&(r.y=Math.floor(g/_e.y),s.y=r.y*_e.y,pe.mapSize.y=r.y)),null===pe.map&&!pe.isPointLightShadow&&3===this.type&&(pe.map=new ir(s.x,s.y),pe.map.texture.name=Me.name+".shadowMap",pe.mapPass=new ir(s.x,s.y),pe.camera.updateProjectionMatrix()),null===pe.map&&(pe.map=new ir(s.x,s.y,{minFilter:Ln,magFilter:Ln,format:Sr}),pe.map.texture.name=Me.name+".shadowMap",pe.camera.updateProjectionMatrix()),n.setRenderTarget(pe.map),n.clear();const le=pe.getViewportCount();for(let he=0;he<le;he++){const oe=pe.getViewport(he);a.set(r.x*oe.x,r.y*oe.y,r.x*oe.z,r.y*oe.w),ce.viewport(a),pe.updateMatrices(Me,he),i=pe.getFrustum(),N(G,q,pe.camera,Me,this.type)}!pe.isPointLightShadow&&3===this.type&&I(pe,q),pe.needsUpdate=!1}E.needsUpdate=!1,n.setRenderTarget(ee,ae,ue)}}function BJ(n,t,e){const i=e.isWebGL2,c=new function s(){let de=!1;const it=new Hi;let et=null;const qt=new Hi(0,0,0,0);return{setMask:function(mt){et!==mt&&!de&&(n.colorMask(mt,mt,mt,mt),et=mt)},setLocked:function(mt){de=mt},setClear:function(mt,Rt,ot,ci,Ji){!0===Ji&&(mt*=ci,Rt*=ci,ot*=ci),it.set(mt,Rt,ot,ci),!1===qt.equals(it)&&(n.clearColor(mt,Rt,ot,ci),qt.copy(it))},reset:function(){de=!1,et=null,qt.set(-1,0,0,0)}}},d=new function r(){let de=!1,it=null,et=null,qt=null;return{setTest:function(mt){mt?Ht(2929):Re(2929)},setMask:function(mt){it!==mt&&!de&&(n.depthMask(mt),it=mt)},setFunc:function(mt){if(et!==mt){if(mt)switch(mt){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);et=mt}},setLocked:function(mt){de=mt},setClear:function(mt){qt!==mt&&(n.clearDepth(mt),qt=mt)},reset:function(){de=!1,it=null,et=null,qt=null}}},h=new function a(){let de=!1,it=null,et=null,qt=null,mt=null,Rt=null,ot=null,ci=null,Ji=null;return{setTest:function(Ei){de||(Ei?Ht(2960):Re(2960))},setMask:function(Ei){it!==Ei&&!de&&(n.stencilMask(Ei),it=Ei)},setFunc:function(Ei,Na,Ba){(et!==Ei||qt!==Na||mt!==Ba)&&(n.stencilFunc(Ei,Na,Ba),et=Ei,qt=Na,mt=Ba)},setOp:function(Ei,Na,Ba){(Rt!==Ei||ot!==Na||ci!==Ba)&&(n.stencilOp(Ei,Na,Ba),Rt=Ei,ot=Na,ci=Ba)},setLocked:function(Ei){de=Ei},setClear:function(Ei){Ji!==Ei&&(n.clearStencil(Ei),Ji=Ei)},reset:function(){de=!1,it=null,et=null,qt=null,mt=null,Rt=null,ot=null,ci=null,Ji=null}}};let g={},v={},b=new WeakMap,C=[],D=null,A=!1,E=null,I=null,P=null,N=null,V=null,G=null,q=null,ee=!1,ae=null,ue=null,ce=null,j=null,ie=null;const Me=n.getParameter(35661);let pe=!1,_e=0;const le=n.getParameter(7938);-1!==le.indexOf("WebGL")?(_e=parseFloat(/^WebGL (\d)/.exec(le)[1]),pe=_e>=1):-1!==le.indexOf("OpenGL ES")&&(_e=parseFloat(/^OpenGL ES (\d)/.exec(le)[1]),pe=_e>=2);let he=null,oe={};const xe=n.getParameter(3088),Ee=n.getParameter(2978),We=(new Hi).fromArray(xe),Ne=(new Hi).fromArray(Ee);function Ct(de,it,et){const qt=new Uint8Array(4),mt=n.createTexture();n.bindTexture(de,mt),n.texParameteri(de,10241,9728),n.texParameteri(de,10240,9728);for(let Rt=0;Rt<et;Rt++)n.texImage2D(it+Rt,0,6408,1,1,0,6408,5121,qt);return mt}const wt={};function Ht(de){!0!==g[de]&&(n.enable(de),g[de]=!0)}function Re(de){!1!==g[de]&&(n.disable(de),g[de]=!1)}wt[3553]=Ct(3553,3553,1),wt[34067]=Ct(34067,34069,6),c.setClear(0,0,0,1),d.setClear(1),h.setClear(0),Ht(2929),d.setFunc(3),Ze(!1),Mt(1),Ht(2884),Ie(0);const $e={100:32774,101:32778,102:32779};if(i)$e[103]=32775,$e[104]=32776;else{const de=t.get("EXT_blend_minmax");null!==de&&($e[103]=de.MIN_EXT,$e[104]=de.MAX_EXT)}const ni={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Ie(de,it,et,qt,mt,Rt,ot,ci){if(0!==de){if(!1===A&&(Ht(3042),A=!0),5===de)mt=mt||it,Rt=Rt||et,ot=ot||qt,(it!==I||mt!==V)&&(n.blendEquationSeparate($e[it],$e[mt]),I=it,V=mt),(et!==P||qt!==N||Rt!==G||ot!==q)&&(n.blendFuncSeparate(ni[et],ni[qt],ni[Rt],ni[ot]),P=et,N=qt,G=Rt,q=ot),E=de,ee=null;else if(de!==E||ci!==ee){if((100!==I||100!==V)&&(n.blendEquation(32774),I=100,V=100),ci)switch(de){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",de)}else switch(de){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",de)}P=null,N=null,G=null,q=null,E=de,ee=ci}}else!0===A&&(Re(3042),A=!1)}function Ze(de){ae!==de&&(n.frontFace(de?2304:2305),ae=de)}function Mt(de){0!==de?(Ht(2884),de!==ue&&n.cullFace(1===de?1029:2===de?1028:1032)):Re(2884),ue=de}function si(de,it,et){de?(Ht(32823),(j!==it||ie!==et)&&(n.polygonOffset(it,et),j=it,ie=et)):Re(32823)}function Ft(de){void 0===de&&(de=33984+Me-1),he!==de&&(n.activeTexture(de),he=de)}return{buffers:{color:c,depth:d,stencil:h},enable:Ht,disable:Re,bindFramebuffer:function $t(de,it){return v[de]!==it&&(n.bindFramebuffer(de,it),v[de]=it,i&&(36009===de&&(v[36160]=it),36160===de&&(v[36009]=it)),!0)},drawBuffers:function zt(de,it){let et=C,qt=!1;if(de)if(et=b.get(it),void 0===et&&(et=[],b.set(it,et)),de.isWebGLMultipleRenderTargets){const mt=de.texture;if(et.length!==mt.length||36064!==et[0]){for(let Rt=0,ot=mt.length;Rt<ot;Rt++)et[Rt]=36064+Rt;et.length=mt.length,qt=!0}}else 36064!==et[0]&&(et[0]=36064,qt=!0);else 1029!==et[0]&&(et[0]=1029,qt=!0);qt&&(e.isWebGL2?n.drawBuffers(et):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(et))},useProgram:function Ot(de){return D!==de&&(n.useProgram(de),D=de,!0)},setBlending:Ie,setMaterial:function Be(de,it){2===de.side?Re(2884):Ht(2884);let et=1===de.side;it&&(et=!et),Ze(et),1===de.blending&&!1===de.transparent?Ie(0):Ie(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.premultipliedAlpha),d.setFunc(de.depthFunc),d.setTest(de.depthTest),d.setMask(de.depthWrite),c.setMask(de.colorWrite);const qt=de.stencilWrite;h.setTest(qt),qt&&(h.setMask(de.stencilWriteMask),h.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),h.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),si(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),!0===de.alphaToCoverage?Ht(32926):Re(32926)},setFlipSided:Ze,setCullFace:Mt,setLineWidth:function ft(de){de!==ce&&(pe&&n.lineWidth(de),ce=de)},setPolygonOffset:si,setScissorTest:function Wt(de){de?Ht(3089):Re(3089)},activeTexture:Ft,bindTexture:function Zi(de,it){null===he&&Ft();let et=oe[he];void 0===et&&(et={type:void 0,texture:void 0},oe[he]=et),(et.type!==de||et.texture!==it)&&(n.bindTexture(de,it||wt[de]),et.type=de,et.texture=it)},unbindTexture:function Fi(){const de=oe[he];void 0!==de&&void 0!==de.type&&(n.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)},compressedTexImage2D:function ne(){try{n.compressedTexImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texImage2D:function Nt(){try{n.texImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texImage3D:function Q(){try{n.texImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texStorage2D:function ut(){try{n.texStorage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texStorage3D:function bt(){try{n.texStorage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texSubImage2D:function Z(){try{n.texSubImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},texSubImage3D:function De(){try{n.texSubImage3D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},compressedTexSubImage2D:function je(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(de){console.error("THREE.WebGLState:",de)}},scissor:function Xe(de){!1===We.equals(de)&&(n.scissor(de.x,de.y,de.z,de.w),We.copy(de))},viewport:function Et(de){!1===Ne.equals(de)&&(n.viewport(de.x,de.y,de.z,de.w),Ne.copy(de))},reset:function at(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===i&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),g={},he=null,oe={},v={},b=new WeakMap,C=[],D=null,A=!1,E=null,I=null,P=null,N=null,V=null,G=null,q=null,ee=!1,ae=null,ue=null,ce=null,j=null,ie=null,We.set(0,0,n.canvas.width,n.canvas.height),Ne.set(0,0,n.canvas.width,n.canvas.height),c.reset(),d.reset(),h.reset()}}}function VJ(n,t,e,i,s,r,a){const c=s.isWebGL2,d=s.maxTextures,h=s.maxCubemapSize,g=s.maxTextureSize,v=s.maxSamples,b=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,C=/OculusBrowser/g.test(navigator.userAgent),D=new WeakMap;let A;const E=new WeakMap;let I=!1;try{I="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ne){}function P(ne,Z){return I?new OffscreenCanvas(ne,Z):Kf("canvas")}function N(ne,Z,De,je){let ut=1;if((ne.width>je||ne.height>je)&&(ut=je/Math.max(ne.width,ne.height)),ut<1||!0===Z){if("undefined"!=typeof HTMLImageElement&&ne instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&ne instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&ne instanceof ImageBitmap){const bt=Z?k_:Math.floor,Nt=bt(ut*ne.width),Q=bt(ut*ne.height);void 0===A&&(A=P(Nt,Q));const Xe=De?P(Nt,Q):A;return Xe.width=Nt,Xe.height=Q,Xe.getContext("2d").drawImage(ne,0,0,Nt,Q),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+Nt+"x"+Q+")."),Xe}return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne}return ne}function V(ne){return dC(ne.width)&&dC(ne.height)}function q(ne,Z){return ne.generateMipmaps&&Z&&ne.minFilter!==Ln&&ne.minFilter!==$i}function ee(ne){n.generateMipmap(ne)}function ae(ne,Z,De,je,ut=!1){if(!1===c)return Z;if(null!==ne){if(void 0!==n[ne])return n[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let bt=Z;return 6403===Z&&(5126===De&&(bt=33326),5131===De&&(bt=33325),5121===De&&(bt=33321)),33319===Z&&(5126===De&&(bt=33328),5131===De&&(bt=33327),5121===De&&(bt=33323)),6408===Z&&(5126===De&&(bt=34836),5131===De&&(bt=34842),5121===De&&(bt=je===Ri&&!1===ut?35907:32856),32819===De&&(bt=32854),32820===De&&(bt=32855)),(33325===bt||33326===bt||33327===bt||33328===bt||34842===bt||34836===bt)&&t.get("EXT_color_buffer_float"),bt}function ue(ne,Z,De){return!0===q(ne,De)||ne.isFramebufferTexture&&ne.minFilter!==Ln&&ne.minFilter!==$i?Math.log2(Math.max(Z.width,Z.height))+1:void 0!==ne.mipmaps&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?Z.mipmaps.length:1}function ce(ne){return ne===Ln||1004===ne||1005===ne?9728:9729}function j(ne){const Z=ne.target;Z.removeEventListener("dispose",j),function Me(ne){const Z=i.get(ne);if(void 0===Z.__webglInit)return;const De=ne.source,je=E.get(De);if(je){const ut=je[Z.__cacheKey];ut.usedTimes--,0===ut.usedTimes&&pe(ne),0===Object.keys(je).length&&E.delete(De)}i.remove(ne)}(Z),Z.isVideoTexture&&D.delete(Z)}function ie(ne){const Z=ne.target;Z.removeEventListener("dispose",ie),function _e(ne){const Z=ne.texture,De=i.get(ne),je=i.get(Z);if(void 0!==je.__webglTexture&&(n.deleteTexture(je.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let ut=0;ut<6;ut++)n.deleteFramebuffer(De.__webglFramebuffer[ut]),De.__webglDepthbuffer&&n.deleteRenderbuffer(De.__webglDepthbuffer[ut]);else n.deleteFramebuffer(De.__webglFramebuffer),De.__webglDepthbuffer&&n.deleteRenderbuffer(De.__webglDepthbuffer),De.__webglMultisampledFramebuffer&&n.deleteFramebuffer(De.__webglMultisampledFramebuffer),De.__webglColorRenderbuffer&&n.deleteRenderbuffer(De.__webglColorRenderbuffer),De.__webglDepthRenderbuffer&&n.deleteRenderbuffer(De.__webglDepthRenderbuffer);if(ne.isWebGLMultipleRenderTargets)for(let ut=0,bt=Z.length;ut<bt;ut++){const Nt=i.get(Z[ut]);Nt.__webglTexture&&(n.deleteTexture(Nt.__webglTexture),a.memory.textures--),i.remove(Z[ut])}i.remove(Z),i.remove(ne)}(Z)}function pe(ne){const Z=i.get(ne);n.deleteTexture(Z.__webglTexture),delete E.get(ne.source)[Z.__cacheKey],a.memory.textures--}let le=0;function Ee(ne,Z){const De=i.get(ne);if(ne.isVideoTexture&&function Zi(ne){const Z=a.render.frame;D.get(ne)!==Z&&(D.set(ne,Z),ne.update())}(ne),!1===ne.isRenderTargetTexture&&ne.version>0&&De.__version!==ne.version){const je=ne.image;if(null===je)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==je.complete)return void zt(De,ne,Z);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+Z),e.bindTexture(3553,De.__webglTexture)}const wt={[ac]:10497,[Ps]:33071,1002:33648},Ht={[Ln]:9728,1004:9984,1005:9986,[$i]:9729,1007:9985,[rl]:9987};function Re(ne,Z,De){if(De?(n.texParameteri(ne,10242,wt[Z.wrapS]),n.texParameteri(ne,10243,wt[Z.wrapT]),(32879===ne||35866===ne)&&n.texParameteri(ne,32882,wt[Z.wrapR]),n.texParameteri(ne,10240,Ht[Z.magFilter]),n.texParameteri(ne,10241,Ht[Z.minFilter])):(n.texParameteri(ne,10242,33071),n.texParameteri(ne,10243,33071),(32879===ne||35866===ne)&&n.texParameteri(ne,32882,33071),(Z.wrapS!==Ps||Z.wrapT!==Ps)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(ne,10240,ce(Z.magFilter)),n.texParameteri(ne,10241,ce(Z.minFilter)),Z.minFilter!==Ln&&Z.minFilter!==$i&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const je=t.get("EXT_texture_filter_anisotropic");if(Z.type===Jr&&!1===t.has("OES_texture_float_linear")||!1===c&&Z.type===Da&&!1===t.has("OES_texture_half_float_linear"))return;(Z.anisotropy>1||i.get(Z).__currentAnisotropy)&&(n.texParameterf(ne,je.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,s.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy)}}function $t(ne,Z){let De=!1;void 0===ne.__webglInit&&(ne.__webglInit=!0,Z.addEventListener("dispose",j));const je=Z.source;let ut=E.get(je);void 0===ut&&(ut={},E.set(je,ut));const bt=function xe(ne){const Z=[];return Z.push(ne.wrapS),Z.push(ne.wrapT),Z.push(ne.magFilter),Z.push(ne.minFilter),Z.push(ne.anisotropy),Z.push(ne.internalFormat),Z.push(ne.format),Z.push(ne.type),Z.push(ne.generateMipmaps),Z.push(ne.premultiplyAlpha),Z.push(ne.flipY),Z.push(ne.unpackAlignment),Z.push(ne.encoding),Z.join()}(Z);if(bt!==ne.__cacheKey){void 0===ut[bt]&&(ut[bt]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,De=!0),ut[bt].usedTimes++;const Nt=ut[ne.__cacheKey];void 0!==Nt&&(ut[ne.__cacheKey].usedTimes--,0===Nt.usedTimes&&pe(Z)),ne.__cacheKey=bt,ne.__webglTexture=ut[bt].texture}return De}function zt(ne,Z,De){let je=3553;Z.isDataArrayTexture&&(je=35866),Z.isData3DTexture&&(je=32879);const ut=$t(ne,Z),bt=Z.source;if(e.activeTexture(33984+De),e.bindTexture(je,ne.__webglTexture),bt.version!==bt.__currentVersion||!0===ut){n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const Nt=function G(ne){return!c&&(ne.wrapS!==Ps||ne.wrapT!==Ps||ne.minFilter!==Ln&&ne.minFilter!==$i)}(Z)&&!1===V(Z.image);let Q=N(Z.image,Nt,!1,g);Q=Fi(Z,Q);const Xe=V(Q)||c,Et=r.convert(Z.format,Z.encoding);let it,at=r.convert(Z.type),de=ae(Z.internalFormat,Et,at,Z.encoding,Z.isVideoTexture);Re(je,Z,Xe);const et=Z.mipmaps,qt=c&&!0!==Z.isVideoTexture,mt=void 0===ne.__version,Rt=ue(Z,Q,Xe);if(Z.isDepthTexture)de=6402,c?de=Z.type===Jr?36012:1014===Z.type?33190:Z.type===gu?35056:33189:Z.type===Jr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===lc&&6402===de&&Z.type!==jf&&1014!==Z.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=jf,at=r.convert(Z.type)),Z.format===mu&&6402===de&&(de=34041,Z.type!==gu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=gu,at=r.convert(Z.type))),qt&&mt?e.texStorage2D(3553,1,de,Q.width,Q.height):e.texImage2D(3553,0,de,Q.width,Q.height,0,Et,at,null);else if(Z.isDataTexture)if(et.length>0&&Xe){qt&&mt&&e.texStorage2D(3553,Rt,de,et[0].width,et[0].height);for(let ot=0,ci=et.length;ot<ci;ot++)it=et[ot],qt?e.texSubImage2D(3553,ot,0,0,it.width,it.height,Et,at,it.data):e.texImage2D(3553,ot,de,it.width,it.height,0,Et,at,it.data);Z.generateMipmaps=!1}else qt?(mt&&e.texStorage2D(3553,Rt,de,Q.width,Q.height),e.texSubImage2D(3553,0,0,0,Q.width,Q.height,Et,at,Q.data)):e.texImage2D(3553,0,de,Q.width,Q.height,0,Et,at,Q.data);else if(Z.isCompressedTexture){qt&&mt&&e.texStorage2D(3553,Rt,de,et[0].width,et[0].height);for(let ot=0,ci=et.length;ot<ci;ot++)it=et[ot],Z.format!==Sr?null!==Et?qt?e.compressedTexSubImage2D(3553,ot,0,0,it.width,it.height,Et,it.data):e.compressedTexImage2D(3553,ot,de,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?e.texSubImage2D(3553,ot,0,0,it.width,it.height,Et,at,it.data):e.texImage2D(3553,ot,de,it.width,it.height,0,Et,at,it.data)}else if(Z.isDataArrayTexture)qt?(mt&&e.texStorage3D(35866,Rt,de,Q.width,Q.height,Q.depth),e.texSubImage3D(35866,0,0,0,0,Q.width,Q.height,Q.depth,Et,at,Q.data)):e.texImage3D(35866,0,de,Q.width,Q.height,Q.depth,0,Et,at,Q.data);else if(Z.isData3DTexture)qt?(mt&&e.texStorage3D(32879,Rt,de,Q.width,Q.height,Q.depth),e.texSubImage3D(32879,0,0,0,0,Q.width,Q.height,Q.depth,Et,at,Q.data)):e.texImage3D(32879,0,de,Q.width,Q.height,Q.depth,0,Et,at,Q.data);else if(Z.isFramebufferTexture)qt&&mt?e.texStorage2D(3553,Rt,de,Q.width,Q.height):e.texImage2D(3553,0,de,Q.width,Q.height,0,Et,at,null);else if(et.length>0&&Xe){qt&&mt&&e.texStorage2D(3553,Rt,de,et[0].width,et[0].height);for(let ot=0,ci=et.length;ot<ci;ot++)it=et[ot],qt?e.texSubImage2D(3553,ot,0,0,Et,at,it):e.texImage2D(3553,ot,de,Et,at,it);Z.generateMipmaps=!1}else qt?(mt&&e.texStorage2D(3553,Rt,de,Q.width,Q.height),e.texSubImage2D(3553,0,0,0,Et,at,Q)):e.texImage2D(3553,0,de,Et,at,Q);q(Z,Xe)&&ee(je),bt.__currentVersion=bt.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}function $e(ne,Z,De,je,ut){const bt=r.convert(De.format,De.encoding),Nt=r.convert(De.type),Q=ae(De.internalFormat,bt,Nt,De.encoding);i.get(Z).__hasExternalTextures||(32879===ut||35866===ut?e.texImage3D(ut,0,Q,Z.width,Z.height,Z.depth,0,bt,Nt,null):e.texImage2D(ut,0,Q,Z.width,Z.height,0,bt,Nt,null)),e.bindFramebuffer(36160,ne),Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,je,ut,i.get(De).__webglTexture,0,Wt(Z)):n.framebufferTexture2D(36160,je,ut,i.get(De).__webglTexture,0),e.bindFramebuffer(36160,null)}function ni(ne,Z,De){if(n.bindRenderbuffer(36161,ne),Z.depthBuffer&&!Z.stencilBuffer){let je=33189;if(De||Ft(Z)){const ut=Z.depthTexture;ut&&ut.isDepthTexture&&(ut.type===Jr?je=36012:1014===ut.type&&(je=33190));const bt=Wt(Z);Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,bt,je,Z.width,Z.height):n.renderbufferStorageMultisample(36161,bt,je,Z.width,Z.height)}else n.renderbufferStorage(36161,je,Z.width,Z.height);n.framebufferRenderbuffer(36160,36096,36161,ne)}else if(Z.depthBuffer&&Z.stencilBuffer){const je=Wt(Z);De&&!1===Ft(Z)?n.renderbufferStorageMultisample(36161,je,35056,Z.width,Z.height):Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,je,35056,Z.width,Z.height):n.renderbufferStorage(36161,34041,Z.width,Z.height),n.framebufferRenderbuffer(36160,33306,36161,ne)}else{const je=!0===Z.isWebGLMultipleRenderTargets?Z.texture[0]:Z.texture,ut=r.convert(je.format,je.encoding),bt=r.convert(je.type),Nt=ae(je.internalFormat,ut,bt,je.encoding),Q=Wt(Z);De&&!1===Ft(Z)?n.renderbufferStorageMultisample(36161,Q,Nt,Z.width,Z.height):Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,Q,Nt,Z.width,Z.height):n.renderbufferStorage(36161,Nt,Z.width,Z.height)}n.bindRenderbuffer(36161,null)}function Be(ne){const Z=i.get(ne),De=!0===ne.isWebGLCubeRenderTarget;if(ne.depthTexture&&!Z.__autoAllocateDepthBuffer){if(De)throw new Error("target.depthTexture not supported in Cube render targets");!function Ie(ne,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,ne),!Z.depthTexture||!Z.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),Ee(Z.depthTexture,0);const je=i.get(Z.depthTexture).__webglTexture,ut=Wt(Z);if(Z.depthTexture.format===lc)Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,36096,3553,je,0,ut):n.framebufferTexture2D(36160,36096,3553,je,0);else{if(Z.depthTexture.format!==mu)throw new Error("Unknown depthTexture format");Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,33306,3553,je,0,ut):n.framebufferTexture2D(36160,33306,3553,je,0)}}(Z.__webglFramebuffer,ne)}else if(De){Z.__webglDepthbuffer=[];for(let je=0;je<6;je++)e.bindFramebuffer(36160,Z.__webglFramebuffer[je]),Z.__webglDepthbuffer[je]=n.createRenderbuffer(),ni(Z.__webglDepthbuffer[je],ne,!1)}else e.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=n.createRenderbuffer(),ni(Z.__webglDepthbuffer,ne,!1);e.bindFramebuffer(36160,null)}function Wt(ne){return Math.min(v,ne.samples)}function Ft(ne){const Z=i.get(ne);return c&&ne.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==Z.__useRenderToTexture}function Fi(ne,Z){const De=ne.encoding,je=ne.format,ut=ne.type;return!0===ne.isCompressedTexture||!0===ne.isVideoTexture||1035===ne.format||De!==ea&&(De===Ri?!1===c?!0===t.has("EXT_sRGB")&&je===Sr?(ne.format=1035,ne.minFilter=$i,ne.generateMipmaps=!1):Z=fc.sRGBToLinear(Z):(je!==Sr||ut!==oc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",De)),Z}this.allocateTextureUnit=function oe(){const ne=le;return ne>=d&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+d),le+=1,ne},this.resetTextureUnits=function he(){le=0},this.setTexture2D=Ee,this.setTexture2DArray=function We(ne,Z){const De=i.get(ne);ne.version>0&&De.__version!==ne.version?zt(De,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(35866,De.__webglTexture))},this.setTexture3D=function Ne(ne,Z){const De=i.get(ne);ne.version>0&&De.__version!==ne.version?zt(De,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(32879,De.__webglTexture))},this.setTextureCube=function Ct(ne,Z){const De=i.get(ne);ne.version>0&&De.__version!==ne.version?function Ot(ne,Z,De){if(6!==Z.image.length)return;const je=$t(ne,Z),ut=Z.source;if(e.activeTexture(33984+De),e.bindTexture(34067,ne.__webglTexture),ut.version!==ut.__currentVersion||!0===je){n.pixelStorei(37440,Z.flipY),n.pixelStorei(37441,Z.premultiplyAlpha),n.pixelStorei(3317,Z.unpackAlignment),n.pixelStorei(37443,0);const bt=Z.isCompressedTexture||Z.image[0].isCompressedTexture,Nt=Z.image[0]&&Z.image[0].isDataTexture,Q=[];for(let ot=0;ot<6;ot++)Q[ot]=bt||Nt?Nt?Z.image[ot].image:Z.image[ot]:N(Z.image[ot],!1,!0,h),Q[ot]=Fi(Z,Q[ot]);const Xe=Q[0],Et=V(Xe)||c,at=r.convert(Z.format,Z.encoding),de=r.convert(Z.type),it=ae(Z.internalFormat,at,de,Z.encoding),et=c&&!0!==Z.isVideoTexture,qt=void 0===ne.__version;let Rt,mt=ue(Z,Xe,Et);if(Re(34067,Z,Et),bt){et&&qt&&e.texStorage2D(34067,mt,it,Xe.width,Xe.height);for(let ot=0;ot<6;ot++){Rt=Q[ot].mipmaps;for(let ci=0;ci<Rt.length;ci++){const Ji=Rt[ci];Z.format!==Sr?null!==at?et?e.compressedTexSubImage2D(34069+ot,ci,0,0,Ji.width,Ji.height,at,Ji.data):e.compressedTexImage2D(34069+ot,ci,it,Ji.width,Ji.height,0,Ji.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):et?e.texSubImage2D(34069+ot,ci,0,0,Ji.width,Ji.height,at,de,Ji.data):e.texImage2D(34069+ot,ci,it,Ji.width,Ji.height,0,at,de,Ji.data)}}}else{Rt=Z.mipmaps,et&&qt&&(Rt.length>0&&mt++,e.texStorage2D(34067,mt,it,Q[0].width,Q[0].height));for(let ot=0;ot<6;ot++)if(Nt){et?e.texSubImage2D(34069+ot,0,0,0,Q[ot].width,Q[ot].height,at,de,Q[ot].data):e.texImage2D(34069+ot,0,it,Q[ot].width,Q[ot].height,0,at,de,Q[ot].data);for(let ci=0;ci<Rt.length;ci++){const Ei=Rt[ci].image[ot].image;et?e.texSubImage2D(34069+ot,ci+1,0,0,Ei.width,Ei.height,at,de,Ei.data):e.texImage2D(34069+ot,ci+1,it,Ei.width,Ei.height,0,at,de,Ei.data)}}else{et?e.texSubImage2D(34069+ot,0,0,0,at,de,Q[ot]):e.texImage2D(34069+ot,0,it,at,de,Q[ot]);for(let ci=0;ci<Rt.length;ci++){const Ji=Rt[ci];et?e.texSubImage2D(34069+ot,ci+1,0,0,at,de,Ji.image[ot]):e.texImage2D(34069+ot,ci+1,it,at,de,Ji.image[ot])}}}q(Z,Et)&&ee(34067),ut.__currentVersion=ut.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}(De,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(34067,De.__webglTexture))},this.rebindTextures=function Ze(ne,Z,De){const je=i.get(ne);void 0!==Z&&$e(je.__webglFramebuffer,ne,ne.texture,36064,3553),void 0!==De&&Be(ne)},this.setupRenderTarget=function Mt(ne){const Z=ne.texture,De=i.get(ne),je=i.get(Z);ne.addEventListener("dispose",ie),!0!==ne.isWebGLMultipleRenderTargets&&(void 0===je.__webglTexture&&(je.__webglTexture=n.createTexture()),je.__version=Z.version,a.memory.textures++);const ut=!0===ne.isWebGLCubeRenderTarget,bt=!0===ne.isWebGLMultipleRenderTargets,Nt=V(ne)||c;if(ut){De.__webglFramebuffer=[];for(let Q=0;Q<6;Q++)De.__webglFramebuffer[Q]=n.createFramebuffer()}else if(De.__webglFramebuffer=n.createFramebuffer(),bt)if(s.drawBuffers){const Q=ne.texture;for(let Xe=0,Et=Q.length;Xe<Et;Xe++){const at=i.get(Q[Xe]);void 0===at.__webglTexture&&(at.__webglTexture=n.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(c&&ne.samples>0&&!1===Ft(ne)){De.__webglMultisampledFramebuffer=n.createFramebuffer(),De.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,De.__webglColorRenderbuffer);const Q=r.convert(Z.format,Z.encoding),Xe=r.convert(Z.type),Et=ae(Z.internalFormat,Q,Xe,Z.encoding),at=Wt(ne);n.renderbufferStorageMultisample(36161,at,Et,ne.width,ne.height),e.bindFramebuffer(36160,De.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,De.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),ne.depthBuffer&&(De.__webglDepthRenderbuffer=n.createRenderbuffer(),ni(De.__webglDepthRenderbuffer,ne,!0)),e.bindFramebuffer(36160,null)}if(ut){e.bindTexture(34067,je.__webglTexture),Re(34067,Z,Nt);for(let Q=0;Q<6;Q++)$e(De.__webglFramebuffer[Q],ne,Z,36064,34069+Q);q(Z,Nt)&&ee(34067),e.unbindTexture()}else if(bt){const Q=ne.texture;for(let Xe=0,Et=Q.length;Xe<Et;Xe++){const at=Q[Xe],de=i.get(at);e.bindTexture(3553,de.__webglTexture),Re(3553,at,Nt),$e(De.__webglFramebuffer,ne,at,36064+Xe,3553),q(at,Nt)&&ee(3553)}e.unbindTexture()}else{let Q=3553;(ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(c?Q=ne.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Q,je.__webglTexture),Re(Q,Z,Nt),$e(De.__webglFramebuffer,ne,Z,36064,Q),q(Z,Nt)&&ee(Q),e.unbindTexture()}ne.depthBuffer&&Be(ne)},this.updateRenderTargetMipmap=function ft(ne){const Z=V(ne)||c,De=!0===ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture];for(let je=0,ut=De.length;je<ut;je++){const bt=De[je];if(q(bt,Z)){const Nt=ne.isWebGLCubeRenderTarget?34067:3553,Q=i.get(bt).__webglTexture;e.bindTexture(Nt,Q),ee(Nt),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function si(ne){if(c&&ne.samples>0&&!1===Ft(ne)){const Z=ne.width,De=ne.height;let je=16384;const ut=[36064],bt=ne.stencilBuffer?33306:36096;ne.depthBuffer&&ut.push(bt);const Nt=i.get(ne),Q=void 0!==Nt.__ignoreDepthValues&&Nt.__ignoreDepthValues;!1===Q&&(ne.depthBuffer&&(je|=256),ne.stencilBuffer&&(je|=1024)),e.bindFramebuffer(36008,Nt.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Nt.__webglFramebuffer),!0===Q&&(n.invalidateFramebuffer(36008,[bt]),n.invalidateFramebuffer(36009,[bt])),n.blitFramebuffer(0,0,Z,De,0,0,Z,De,je,9728),C&&n.invalidateFramebuffer(36008,ut),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,Nt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Be,this.setupFrameBufferTexture=$e,this.useMultisampledRTT=Ft}function HJ(n,t,e){const i=e.isWebGL2;return{convert:function s(r,a=null){let c;if(r===oc)return 5121;if(1017===r)return 32819;if(1018===r)return 32820;if(1010===r)return 5120;if(1011===r)return 5122;if(r===jf)return 5123;if(1013===r)return 5124;if(1014===r)return 5125;if(r===Jr)return 5126;if(r===Da)return i?5131:(c=t.get("OES_texture_half_float"),null!==c?c.HALF_FLOAT_OES:null);if(1021===r)return 6406;if(r===Sr)return 6408;if(1024===r)return 6409;if(1025===r)return 6410;if(r===lc)return 6402;if(r===mu)return 34041;if(1028===r)return 6403;if(1022===r)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===r)return c=t.get("EXT_sRGB"),null!==c?c.SRGB_ALPHA_EXT:null;if(1029===r)return 36244;if(1030===r)return 33319;if(1031===r)return 33320;if(1033===r)return 36249;if(33776===r||33777===r||33778===r||33779===r)if(a===Ri){if(c=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===c)return null;if(33776===r)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(c=t.get("WEBGL_compressed_texture_s3tc"),null===c)return null;if(33776===r)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(c=t.get("WEBGL_compressed_texture_pvrtc"),null===c)return null;if(35840===r)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return c=t.get("WEBGL_compressed_texture_etc1"),null!==c?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(c=t.get("WEBGL_compressed_texture_etc"),null===c)return null;if(37492===r)return a===Ri?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(37496===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(c=t.get("WEBGL_compressed_texture_astc"),null===c)return null;if(37808===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return a===Ri?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r){if(c=t.get("EXT_texture_compression_bptc"),null===c)return null;if(36492===r)return a===Ri?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}return r===gu?i?34042:(c=t.get("WEBGL_depth_texture"),null!==c?c.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}GC.prototype.isMeshDistanceMaterial=!0;class KO extends Kn{constructor(t=[]){super(),this.cameras=t}}KO.prototype.isArrayCamera=!0;class go extends Oi{constructor(){super(),this.type="Group"}}go.prototype.isGroup=!0;const zJ={type:"move"};class UC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new go,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new go,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new go,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,a=null;const c=this._targetRay,d=this._grip,h=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==c&&(s=e.getPose(t.targetRaySpace,i),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(zJ))),h&&t.hand){a=!0;for(const A of t.hand.values()){const E=e.getJointPose(A,i);if(void 0===h.joints[A.jointName]){const P=new go;P.matrixAutoUpdate=!1,P.visible=!1,h.joints[A.jointName]=P,h.add(P)}const I=h.joints[A.jointName];null!==E&&(I.matrix.fromArray(E.transform.matrix),I.matrix.decompose(I.position,I.rotation,I.scale),I.jointRadius=E.radius),I.visible=null!==E}const b=h.joints["index-finger-tip"].position.distanceTo(h.joints["thumb-tip"].position),C=.02,D=.005;h.inputState.pinching&&b>C+D?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!h.inputState.pinching&&b<=C-D&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==d&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(d.matrix.fromArray(r.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),r.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(r.linearVelocity)):d.hasLinearVelocity=!1,r.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(r.angularVelocity)):d.hasAngularVelocity=!1));return null!==c&&(c.visible=null!==s),null!==d&&(d.visible=null!==r),null!==h&&(h.visible=null!==a),this}}class QO extends bs{constructor(t,e,i,s,r,a,c,d,h,g){if((g=void 0!==g?g:lc)!==lc&&g!==mu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&g===lc&&(i=jf),void 0===i&&g===mu&&(i=gu),super(null,s,r,a,c,d,g,i,h),this.image={width:t,height:e},this.magFilter=void 0!==c?c:Ln,this.minFilter=void 0!==d?d:Ln,this.flipY=!1,this.generateMipmaps=!1}}QO.prototype.isDepthTexture=!0;class GJ extends al{constructor(t,e){super();const i=this;let s=null,r=1,a=null,c="local-floor",d=null,h=null,g=null,v=null,b=null;const C=e.getContextAttributes();let D=null,A=null;const E=[],I=new Map,P=new Kn;P.layers.enable(1),P.viewport=new Hi;const N=new Kn;N.layers.enable(2),N.viewport=new Hi;const V=[P,N],G=new KO;G.layers.enable(1),G.layers.enable(2);let q=null,ee=null;function ae(oe){const xe=I.get(oe.inputSource);xe&&xe.dispatchEvent({type:oe.type,data:oe.inputSource})}function ue(){I.forEach(function(oe,xe){oe.disconnect(xe)}),I.clear(),q=null,ee=null,t.setRenderTarget(D),v=null,g=null,h=null,s=null,A=null,he.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function ce(oe){const xe=s.inputSources;for(let Ee=0;Ee<E.length;Ee++)I.set(xe[Ee],E[Ee]);for(let Ee=0;Ee<oe.removed.length;Ee++){const We=oe.removed[Ee],Ne=I.get(We);Ne&&(Ne.dispatchEvent({type:"disconnected",data:We}),I.delete(We))}for(let Ee=0;Ee<oe.added.length;Ee++){const We=oe.added[Ee],Ne=I.get(We);Ne&&Ne.dispatchEvent({type:"connected",data:We})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(oe){let xe=E[oe];return void 0===xe&&(xe=new UC,E[oe]=xe),xe.getTargetRaySpace()},this.getControllerGrip=function(oe){let xe=E[oe];return void 0===xe&&(xe=new UC,E[oe]=xe),xe.getGripSpace()},this.getHand=function(oe){let xe=E[oe];return void 0===xe&&(xe=new UC,E[oe]=xe),xe.getHandSpace()},this.setFramebufferScaleFactor=function(oe){r=oe,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(oe){c=oe,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==g?g:v},this.getBinding=function(){return h},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=function(){var oe=function y9(n){return function(){var t=this,e=arguments;return new Promise(function(i,s){var r=n.apply(t,e);function a(d){xL(r,i,s,a,c,"next",d)}function c(d){xL(r,i,s,a,c,"throw",d)}a(void 0)})}}(function*(xe){if(s=xe,null!==s){if(D=t.getRenderTarget(),s.addEventListener("select",ae),s.addEventListener("selectstart",ae),s.addEventListener("selectend",ae),s.addEventListener("squeeze",ae),s.addEventListener("squeezestart",ae),s.addEventListener("squeezeend",ae),s.addEventListener("end",ue),s.addEventListener("inputsourceschange",ce),!0!==C.xrCompatible&&(yield e.makeXRCompatible()),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2)v=new XRWebGLLayer(s,e,{antialias:void 0!==s.renderState.layers||C.antialias,alpha:C.alpha,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:v}),A=new ir(v.framebufferWidth,v.framebufferHeight,{format:Sr,type:oc,encoding:t.outputEncoding});else{let Ee=null,We=null,Ne=null;C.depth&&(Ne=C.stencil?35056:33190,Ee=C.stencil?mu:lc,We=C.stencil?gu:jf);const Ct={colorFormat:t.outputEncoding===Ri?35907:32856,depthFormat:Ne,scaleFactor:r};h=new XRWebGLBinding(s,e),g=h.createProjectionLayer(Ct),s.updateRenderState({layers:[g]}),A=new ir(g.textureWidth,g.textureHeight,{format:Sr,type:oc,depthTexture:new QO(g.textureWidth,g.textureHeight,We,void 0,void 0,void 0,void 0,void 0,void 0,Ee),stencilBuffer:C.stencil,encoding:t.outputEncoding,samples:C.antialias?4:0}),t.properties.get(A).__ignoreDepthValues=g.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(1),a=yield s.requestReferenceSpace(c),he.setContext(s),he.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(xe){return oe.apply(this,arguments)}}();const j=new $,ie=new $;function pe(oe,xe){null===xe?oe.matrixWorld.copy(oe.matrix):oe.matrixWorld.multiplyMatrices(xe.matrixWorld,oe.matrix),oe.matrixWorldInverse.copy(oe.matrixWorld).invert()}this.updateCamera=function(oe){if(null===s)return;G.near=N.near=P.near=oe.near,G.far=N.far=P.far=oe.far,(q!==G.near||ee!==G.far)&&(s.updateRenderState({depthNear:G.near,depthFar:G.far}),q=G.near,ee=G.far);const xe=oe.parent,Ee=G.cameras;pe(G,xe);for(let Ne=0;Ne<Ee.length;Ne++)pe(Ee[Ne],xe);G.matrixWorld.decompose(G.position,G.quaternion,G.scale),oe.position.copy(G.position),oe.quaternion.copy(G.quaternion),oe.scale.copy(G.scale),oe.matrix.copy(G.matrix),oe.matrixWorld.copy(G.matrixWorld);const We=oe.children;for(let Ne=0,Ct=We.length;Ne<Ct;Ne++)We[Ne].updateMatrixWorld(!0);2===Ee.length?function Me(oe,xe,Ee){j.setFromMatrixPosition(xe.matrixWorld),ie.setFromMatrixPosition(Ee.matrixWorld);const We=j.distanceTo(ie),Ne=xe.projectionMatrix.elements,Ct=Ee.projectionMatrix.elements,wt=Ne[14]/(Ne[10]-1),Ht=Ne[14]/(Ne[10]+1),Re=(Ne[9]+1)/Ne[5],$t=(Ne[9]-1)/Ne[5],zt=(Ne[8]-1)/Ne[0],Ot=(Ct[8]+1)/Ct[0],$e=wt*zt,ni=wt*Ot,Ie=We/(-zt+Ot),Be=Ie*-zt;xe.matrixWorld.decompose(oe.position,oe.quaternion,oe.scale),oe.translateX(Be),oe.translateZ(Ie),oe.matrixWorld.compose(oe.position,oe.quaternion,oe.scale),oe.matrixWorldInverse.copy(oe.matrixWorld).invert();const Ze=wt+Ie,Mt=Ht+Ie;oe.projectionMatrix.makePerspective($e-Be,ni+(We-Be),Re*Ht/Mt*Ze,$t*Ht/Mt*Ze,Ze,Mt)}(G,P,N):G.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return G},this.getFoveation=function(){return null!==g?g.fixedFoveation:null!==v?v.fixedFoveation:void 0},this.setFoveation=function(oe){null!==g&&(g.fixedFoveation=oe),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=oe)};let _e=null;const he=new bO;he.setAnimationLoop(function le(oe,xe){if(d=xe.getViewerPose(a),b=xe,null!==d){const We=d.views;null!==v&&(t.setRenderTargetFramebuffer(A,v.framebuffer),t.setRenderTarget(A));let Ne=!1;We.length!==G.cameras.length&&(G.cameras.length=0,Ne=!0);for(let Ct=0;Ct<We.length;Ct++){const wt=We[Ct];let Ht=null;if(null!==v)Ht=v.getViewport(wt);else{const $t=h.getViewSubImage(g,wt);Ht=$t.viewport,0===Ct&&(t.setRenderTargetTextures(A,$t.colorTexture,g.ignoreDepthValues?void 0:$t.depthStencilTexture),t.setRenderTarget(A))}const Re=V[Ct];Re.matrix.fromArray(wt.transform.matrix),Re.projectionMatrix.fromArray(wt.projectionMatrix),Re.viewport.set(Ht.x,Ht.y,Ht.width,Ht.height),0===Ct&&G.matrix.copy(Re.matrix),!0===Ne&&G.cameras.push(Re)}}const Ee=s.inputSources;for(let We=0;We<E.length;We++)E[We].update(Ee[We],xe,a);_e&&_e(oe,xe),b=null}),this.setAnimationLoop=function(oe){_e=oe},this.dispose=function(){}}}function UJ(n,t){function s(A,E){A.opacity.value=E.opacity,E.color&&A.diffuse.value.copy(E.color),E.emissive&&A.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,1===E.side&&(A.bumpScale.value*=-1)),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),1===E.side&&A.normalScale.value.negate()),E.specularMap&&(A.specularMap.value=E.specularMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest);const I=t.get(E).envMap;if(I&&(A.envMap.value=I,A.flipEnvMap.value=I.isCubeTexture&&!1===I.isRenderTargetTexture?-1:1,A.reflectivity.value=E.reflectivity,A.ior.value=E.ior,A.refractionRatio.value=E.refractionRatio),E.lightMap){A.lightMap.value=E.lightMap;const V=!0!==n.physicallyCorrectLights?Math.PI:1;A.lightMapIntensity.value=E.lightMapIntensity*V}let P,N;E.aoMap&&(A.aoMap.value=E.aoMap,A.aoMapIntensity.value=E.aoMapIntensity),E.map?P=E.map:E.specularMap?P=E.specularMap:E.displacementMap?P=E.displacementMap:E.normalMap?P=E.normalMap:E.bumpMap?P=E.bumpMap:E.roughnessMap?P=E.roughnessMap:E.metalnessMap?P=E.metalnessMap:E.alphaMap?P=E.alphaMap:E.emissiveMap?P=E.emissiveMap:E.clearcoatMap?P=E.clearcoatMap:E.clearcoatNormalMap?P=E.clearcoatNormalMap:E.clearcoatRoughnessMap?P=E.clearcoatRoughnessMap:E.specularIntensityMap?P=E.specularIntensityMap:E.specularColorMap?P=E.specularColorMap:E.transmissionMap?P=E.transmissionMap:E.thicknessMap?P=E.thicknessMap:E.sheenColorMap?P=E.sheenColorMap:E.sheenRoughnessMap&&(P=E.sheenRoughnessMap),void 0!==P&&(P.isWebGLRenderTarget&&(P=P.texture),!0===P.matrixAutoUpdate&&P.updateMatrix(),A.uvTransform.value.copy(P.matrix)),E.aoMap?N=E.aoMap:E.lightMap&&(N=E.lightMap),void 0!==N&&(N.isWebGLRenderTarget&&(N=N.texture),!0===N.matrixAutoUpdate&&N.updateMatrix(),A.uv2Transform.value.copy(N.matrix))}return{refreshFogUniforms:function e(A,E){A.fogColor.value.copy(E.color),E.isFog?(A.fogNear.value=E.near,A.fogFar.value=E.far):E.isFogExp2&&(A.fogDensity.value=E.density)},refreshMaterialUniforms:function i(A,E,I,P,N){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(A,E):E.isMeshToonMaterial?(s(A,E),function g(A,E){E.gradientMap&&(A.gradientMap.value=E.gradientMap)}(A,E)):E.isMeshPhongMaterial?(s(A,E),function h(A,E){A.specular.value.copy(E.specular),A.shininess.value=Math.max(E.shininess,1e-4)}(A,E)):E.isMeshStandardMaterial?(s(A,E),function v(A,E){A.roughness.value=E.roughness,A.metalness.value=E.metalness,E.roughnessMap&&(A.roughnessMap.value=E.roughnessMap),E.metalnessMap&&(A.metalnessMap.value=E.metalnessMap),t.get(E).envMap&&(A.envMapIntensity.value=E.envMapIntensity)}(A,E),E.isMeshPhysicalMaterial&&function b(A,E,I){A.ior.value=E.ior,E.sheen>0&&(A.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),A.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(A.sheenColorMap.value=E.sheenColorMap),E.sheenRoughnessMap&&(A.sheenRoughnessMap.value=E.sheenRoughnessMap)),E.clearcoat>0&&(A.clearcoat.value=E.clearcoat,A.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(A.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),A.clearcoatNormalMap.value=E.clearcoatNormalMap,1===E.side&&A.clearcoatNormalScale.value.negate())),E.transmission>0&&(A.transmission.value=E.transmission,A.transmissionSamplerMap.value=I.texture,A.transmissionSamplerSize.value.set(I.width,I.height),E.transmissionMap&&(A.transmissionMap.value=E.transmissionMap),A.thickness.value=E.thickness,E.thicknessMap&&(A.thicknessMap.value=E.thicknessMap),A.attenuationDistance.value=E.attenuationDistance,A.attenuationColor.value.copy(E.attenuationColor)),A.specularIntensity.value=E.specularIntensity,A.specularColor.value.copy(E.specularColor),E.specularIntensityMap&&(A.specularIntensityMap.value=E.specularIntensityMap),E.specularColorMap&&(A.specularColorMap.value=E.specularColorMap)}(A,E,N)):E.isMeshMatcapMaterial?(s(A,E),function C(A,E){E.matcap&&(A.matcap.value=E.matcap)}(A,E)):E.isMeshDepthMaterial?s(A,E):E.isMeshDistanceMaterial?(s(A,E),function D(A,E){A.referencePosition.value.copy(E.referencePosition),A.nearDistance.value=E.nearDistance,A.farDistance.value=E.farDistance}(A,E)):E.isMeshNormalMaterial?s(A,E):E.isLineBasicMaterial?(function r(A,E){A.diffuse.value.copy(E.color),A.opacity.value=E.opacity}(A,E),E.isLineDashedMaterial&&function a(A,E){A.dashSize.value=E.dashSize,A.totalSize.value=E.dashSize+E.gapSize,A.scale.value=E.scale}(A,E)):E.isPointsMaterial?function c(A,E,I,P){let N;A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.size.value=E.size*I,A.scale.value=.5*P,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest),E.map?N=E.map:E.alphaMap&&(N=E.alphaMap),void 0!==N&&(!0===N.matrixAutoUpdate&&N.updateMatrix(),A.uvTransform.value.copy(N.matrix))}(A,E,I,P):E.isSpriteMaterial?function d(A,E){let I;A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.rotation.value=E.rotation,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest),E.map?I=E.map:E.alphaMap&&(I=E.alphaMap),void 0!==I&&(!0===I.matrixAutoUpdate&&I.updateMatrix(),A.uvTransform.value.copy(I.matrix))}(A,E):E.isShadowMaterial?(A.color.value.copy(E.color),A.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}}}function zi(n={}){const t=void 0!==n.canvas?n.canvas:function WJ(){const n=Kf("canvas");return n.style.display="block",n}(),e=void 0!==n.context?n.context:null,i=void 0===n.depth||n.depth,s=void 0===n.stencil||n.stencil,r=void 0!==n.antialias&&n.antialias,a=void 0===n.premultipliedAlpha||n.premultipliedAlpha,c=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,d=void 0!==n.powerPreference?n.powerPreference:"default",h=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let g;g=void 0!==n.context?e.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let v=null,b=null;const C=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=ea,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const A=this;let E=!1,I=0,P=0,N=null,V=-1,G=null;const q=new Hi,ee=new Hi;let ae=null,ue=t.width,ce=t.height,j=1,ie=null,Me=null;const pe=new Hi(0,0,ue,ce),_e=new Hi(0,0,ue,ce);let le=!1;const he=new J_;let oe=!1,xe=!1,Ee=null;const We=new St,Ne=new ke,Ct=new $,wt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ht(){return null===N?j:1}let zt,Ot,$e,ni,Ie,Be,Ze,Mt,ft,si,Wt,Ft,Zi,Fi,ne,Z,De,je,ut,bt,Nt,Q,Xe,Re=e;function $t(J,be){for(let Ae=0;Ae<J.length;Ae++){const Ve=t.getContext(J[Ae],be);if(null!==Ve)return Ve}return null}try{const J={alpha:!0,depth:i,stencil:s,antialias:r,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r139"),t.addEventListener("webglcontextlost",de,!1),t.addEventListener("webglcontextrestored",it,!1),null===Re){const be=["webgl2","webgl","experimental-webgl"];if(!0===A.isWebGL1Renderer&&be.shift(),Re=$t(be,J),null===Re)throw $t(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===Re.getShaderPrecisionFormat&&(Re.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}function Et(){zt=new lQ(Re),Ot=new iQ(Re,zt,n),zt.init(Ot),Q=new HJ(Re,zt,Ot),$e=new BJ(Re,zt,Ot),ni=new uQ(Re),Ie=new AJ,Be=new VJ(Re,zt,$e,Ie,Ot,Q,ni),Ze=new sQ(A),Mt=new oQ(A),ft=new nZ(Re,Ot),Xe=new eQ(Re,zt,ft,Ot),si=new cQ(Re,ft,ni,Xe),Wt=new gQ(Re,si,ft,ni),ut=new pQ(Re,Ot,Be),Z=new nQ(Ie),Ft=new DJ(A,Ze,Mt,zt,Ot,Xe,Z),Zi=new UJ(A,Ie),Fi=new TJ,ne=new OJ(zt,Ot),je=new JK(A,Ze,$e,Wt,g,a),De=new ZO(A,Wt,Ot),bt=new tQ(Re,zt,ni,Ot),Nt=new dQ(Re,zt,ni,Ot),ni.programs=Ft.programs,A.capabilities=Ot,A.extensions=zt,A.properties=Ie,A.renderLists=Fi,A.shadowMap=De,A.state=$e,A.info=ni}Et();const at=new GJ(A,Re);function de(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function it(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const J=ni.autoReset,be=De.enabled,Ae=De.autoUpdate,Ce=De.needsUpdate,Ve=De.type;Et(),ni.autoReset=J,De.enabled=be,De.autoUpdate=Ae,De.needsUpdate=Ce,De.type=Ve}function et(J){const be=J.target;be.removeEventListener("dispose",et),function qt(J){(function mt(J){const be=Ie.get(J).programs;void 0!==be&&(be.forEach(function(Ae){Ft.releaseProgram(Ae)}),J.isShaderMaterial&&Ft.releaseShaderCache(J))})(J),Ie.remove(J)}(be)}this.xr=at,this.getContext=function(){return Re},this.getContextAttributes=function(){return Re.getContextAttributes()},this.forceContextLoss=function(){const J=zt.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=zt.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(J){void 0!==J&&(j=J,this.setSize(ue,ce,!1))},this.getSize=function(J){return J.set(ue,ce)},this.setSize=function(J,be,Ae){at.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ue=J,ce=be,t.width=Math.floor(J*j),t.height=Math.floor(be*j),!1!==Ae&&(t.style.width=J+"px",t.style.height=be+"px"),this.setViewport(0,0,J,be))},this.getDrawingBufferSize=function(J){return J.set(ue*j,ce*j).floor()},this.setDrawingBufferSize=function(J,be,Ae){ue=J,ce=be,j=Ae,t.width=Math.floor(J*Ae),t.height=Math.floor(be*Ae),this.setViewport(0,0,J,be)},this.getCurrentViewport=function(J){return J.copy(q)},this.getViewport=function(J){return J.copy(pe)},this.setViewport=function(J,be,Ae,Ce){J.isVector4?pe.set(J.x,J.y,J.z,J.w):pe.set(J,be,Ae,Ce),$e.viewport(q.copy(pe).multiplyScalar(j).floor())},this.getScissor=function(J){return J.copy(_e)},this.setScissor=function(J,be,Ae,Ce){J.isVector4?_e.set(J.x,J.y,J.z,J.w):_e.set(J,be,Ae,Ce),$e.scissor(ee.copy(_e).multiplyScalar(j).floor())},this.getScissorTest=function(){return le},this.setScissorTest=function(J){$e.setScissorTest(le=J)},this.setOpaqueSort=function(J){ie=J},this.setTransparentSort=function(J){Me=J},this.getClearColor=function(J){return J.copy(je.getClearColor())},this.setClearColor=function(){je.setClearColor.apply(je,arguments)},this.getClearAlpha=function(){return je.getClearAlpha()},this.setClearAlpha=function(){je.setClearAlpha.apply(je,arguments)},this.clear=function(J=!0,be=!0,Ae=!0){let Ce=0;J&&(Ce|=16384),be&&(Ce|=256),Ae&&(Ce|=1024),Re.clear(Ce)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",de,!1),t.removeEventListener("webglcontextrestored",it,!1),Fi.dispose(),ne.dispose(),Ie.dispose(),Ze.dispose(),Mt.dispose(),Wt.dispose(),Xe.dispose(),Ft.dispose(),at.dispose(),at.removeEventListener("sessionstart",ci),at.removeEventListener("sessionend",Ji),Ee&&(Ee.dispose(),Ee=null),Ei.stop()},this.renderBufferDirect=function(J,be,Ae,Ce,Ve,ei){null===be&&(be=wt);const pi=Ve.isMesh&&Ve.matrixWorld.determinant()<0,xi=function dge(J,be,Ae,Ce,Ve){!0!==be.isScene&&(be=wt),Be.resetTextureUnits();const ei=be.fog,xi=null===N?A.outputEncoding:!0===N.isXRRenderTarget?N.texture.encoding:ea,mi=(Ce.isMeshStandardMaterial?Mt:Ze).get(Ce.envMap||(Ce.isMeshStandardMaterial?be.environment:null)),Gi=!0===Ce.vertexColors&&!!Ae.attributes.color&&4===Ae.attributes.color.itemSize,Ti=!!Ce.normalMap&&!!Ae.attributes.tangent,Ii=!!Ae.morphAttributes.position,yn=!!Ae.morphAttributes.normal,Qc=!!Ae.morphAttributes.color,ph=Ce.toneMapped?A.toneMapping:0,gh=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Va=void 0!==gh?gh.length:0,Ni=Ie.get(Ce),mh=b.state.lights;!0!==oe||!0!==xe&&J===G||Z.setState(Ce,J,J===G&&Ce.id===V);let Hn=!1;Ce.version===Ni.__version?(Ni.needsLights&&Ni.lightsStateVersion!==mh.state.version||Ni.outputEncoding!==xi||Ve.isInstancedMesh&&!1===Ni.instancing||!Ve.isInstancedMesh&&!0===Ni.instancing||Ve.isSkinnedMesh&&!1===Ni.skinning||!Ve.isSkinnedMesh&&!0===Ni.skinning||Ni.envMap!==mi||Ce.fog&&Ni.fog!==ei||void 0!==Ni.numClippingPlanes&&(Ni.numClippingPlanes!==Z.numPlanes||Ni.numIntersection!==Z.numIntersection)||Ni.vertexAlphas!==Gi||Ni.vertexTangents!==Ti||Ni.morphTargets!==Ii||Ni.morphNormals!==yn||Ni.morphColors!==Qc||Ni.toneMapping!==ph||!0===Ot.isWebGL2&&Ni.morphTargetsCount!==Va)&&(Hn=!0):(Hn=!0,Ni.__version=Ce.version);let Ha=Ni.currentProgram;!0===Hn&&(Ha=FD(Ce,be,Ve));let El=!1,ig=!1,ND=!1;const Cs=Ha.getUniforms(),ng=Ni.uniforms;if($e.useProgram(Ha.program)&&(El=!0,ig=!0,ND=!0),Ce.id!==V&&(V=Ce.id,ig=!0),El||G!==J){if(Cs.setValue(Re,"projectionMatrix",J.projectionMatrix),Ot.logarithmicDepthBuffer&&Cs.setValue(Re,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),G!==J&&(G=J,ig=!0,ND=!0),Ce.isShaderMaterial||Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshStandardMaterial||Ce.envMap){const ua=Cs.map.cameraPosition;void 0!==ua&&ua.setValue(Re,Ct.setFromMatrixPosition(J.matrixWorld))}(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&Cs.setValue(Re,"isOrthographic",!0===J.isOrthographicCamera),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial||Ce.isShadowMaterial||Ve.isSkinnedMesh)&&Cs.setValue(Re,"viewMatrix",J.matrixWorldInverse)}if(Ve.isSkinnedMesh){Cs.setOptional(Re,Ve,"bindMatrix"),Cs.setOptional(Re,Ve,"bindMatrixInverse");const ua=Ve.skeleton;ua&&(Ot.floatVertexTextures?(null===ua.boneTexture&&ua.computeBoneTexture(),Cs.setValue(Re,"boneTexture",ua.boneTexture,Be),Cs.setValue(Re,"boneTextureSize",ua.boneTextureSize)):Cs.setOptional(Re,ua,"boneMatrices"))}const BD=Ae.morphAttributes;return(void 0!==BD.position||void 0!==BD.normal||void 0!==BD.color&&!0===Ot.isWebGL2)&&ut.update(Ve,Ae,Ce,Ha),(ig||Ni.receiveShadow!==Ve.receiveShadow)&&(Ni.receiveShadow=Ve.receiveShadow,Cs.setValue(Re,"receiveShadow",Ve.receiveShadow)),ig&&(Cs.setValue(Re,"toneMappingExposure",A.toneMappingExposure),Ni.needsLights&&function uge(J,be){J.ambientLightColor.needsUpdate=be,J.lightProbe.needsUpdate=be,J.directionalLights.needsUpdate=be,J.directionalLightShadows.needsUpdate=be,J.pointLights.needsUpdate=be,J.pointLightShadows.needsUpdate=be,J.spotLights.needsUpdate=be,J.spotLightShadows.needsUpdate=be,J.rectAreaLights.needsUpdate=be,J.hemisphereLights.needsUpdate=be}(ng,ND),ei&&Ce.fog&&Zi.refreshFogUniforms(ng,ei),Zi.refreshMaterialUniforms(ng,Ce,j,ce,Ee),gl.upload(Re,Ni.uniformsList,ng,Be)),Ce.isShaderMaterial&&!0===Ce.uniformsNeedUpdate&&(gl.upload(Re,Ni.uniformsList,ng,Be),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&Cs.setValue(Re,"center",Ve.center),Cs.setValue(Re,"modelViewMatrix",Ve.modelViewMatrix),Cs.setValue(Re,"normalMatrix",Ve.normalMatrix),Cs.setValue(Re,"modelMatrix",Ve.matrixWorld),Ha}(J,be,Ae,Ce,Ve);$e.setMaterial(Ce,pi);let mi=Ae.index;const Gi=Ae.attributes.position;if(null===mi){if(void 0===Gi||0===Gi.count)return}else if(0===mi.count)return;let Ti=1;!0===Ce.wireframe&&(mi=si.getWireframeAttribute(Ae),Ti=2),Xe.setup(Ve,Ce,xi,Ae,mi);let Ii,yn=bt;null!==mi&&(Ii=ft.get(mi),yn=Nt,yn.setIndex(Ii));const Qc=null!==mi?mi.count:Gi.count,ph=Ae.drawRange.start*Ti,gh=Ae.drawRange.count*Ti,Va=null!==ei?ei.start*Ti:0,Ni=null!==ei?ei.count*Ti:1/0,mh=Math.max(ph,Va),Hn=Math.min(Qc,ph+gh,Va+Ni)-1,Ha=Math.max(0,Hn-mh+1);if(0!==Ha){if(Ve.isMesh)!0===Ce.wireframe?($e.setLineWidth(Ce.wireframeLinewidth*Ht()),yn.setMode(1)):yn.setMode(4);else if(Ve.isLine){let El=Ce.linewidth;void 0===El&&(El=1),$e.setLineWidth(El*Ht()),yn.setMode(Ve.isLineSegments?1:Ve.isLineLoop?2:3)}else Ve.isPoints?yn.setMode(0):Ve.isSprite&&yn.setMode(4);if(Ve.isInstancedMesh)yn.renderInstances(mh,Ha,Ve.count);else if(Ae.isInstancedBufferGeometry){const El=Math.min(Ae.instanceCount,Ae._maxInstanceCount);yn.renderInstances(mh,Ha,El)}else yn.render(mh,Ha)}},this.compile=function(J,be){b=ne.get(J),b.init(),D.push(b),J.traverseVisible(function(Ae){Ae.isLight&&Ae.layers.test(be.layers)&&(b.pushLight(Ae),Ae.castShadow&&b.pushShadow(Ae))}),b.setupLights(A.physicallyCorrectLights),J.traverse(function(Ae){const Ce=Ae.material;if(Ce)if(Array.isArray(Ce))for(let Ve=0;Ve<Ce.length;Ve++)FD(Ce[Ve],J,Ae);else FD(Ce,J,Ae)}),D.pop(),b=null};let Rt=null;function ci(){Ei.stop()}function Ji(){Ei.start()}const Ei=new bO;function Na(J,be,Ae,Ce){if(!1===J.visible)return;if(J.layers.test(be.layers))if(J.isGroup)Ae=J.renderOrder;else if(J.isLOD)!0===J.autoUpdate&&J.update(be);else if(J.isLight)b.pushLight(J),J.castShadow&&b.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||he.intersectsSprite(J)){Ce&&Ct.setFromMatrixPosition(J.matrixWorld).applyMatrix4(We);const pi=Wt.update(J),xi=J.material;xi.visible&&v.push(J,pi,xi,Ae,Ct.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ni.render.frame&&(J.skeleton.update(),J.skeleton.frame=ni.render.frame),!J.frustumCulled||he.intersectsObject(J))){Ce&&Ct.setFromMatrixPosition(J.matrixWorld).applyMatrix4(We);const pi=Wt.update(J),xi=J.material;if(Array.isArray(xi)){const mi=pi.groups;for(let Gi=0,Ti=mi.length;Gi<Ti;Gi++){const Ii=mi[Gi],yn=xi[Ii.materialIndex];yn&&yn.visible&&v.push(J,pi,yn,Ae,Ct.z,Ii)}}else xi.visible&&v.push(J,pi,xi,Ae,Ct.z,null)}const ei=J.children;for(let pi=0,xi=ei.length;pi<xi;pi++)Na(ei[pi],be,Ae,Ce)}function Ba(J,be,Ae,Ce){const Ve=J.opaque,ei=J.transmissive,pi=J.transparent;b.setupLightsView(Ae),ei.length>0&&function lge(J,be,Ae){const Ce=Ot.isWebGL2;null===Ee&&(Ee=new ir(1,1,{generateMipmaps:!0,type:null!==Q.convert(Da)?Da:oc,minFilter:rl,samples:Ce&&!0===r?4:0})),A.getDrawingBufferSize(Ne),Ce?Ee.setSize(Ne.x,Ne.y):Ee.setSize(k_(Ne.x),k_(Ne.y));const Ve=A.getRenderTarget();A.setRenderTarget(Ee),A.clear();const ei=A.toneMapping;A.toneMapping=0,ib(J,be,Ae),A.toneMapping=ei,Be.updateMultisampleRenderTarget(Ee),Be.updateRenderTargetMipmap(Ee),A.setRenderTarget(Ve)}(Ve,be,Ae),Ce&&$e.viewport(q.copy(Ce)),Ve.length>0&&ib(Ve,be,Ae),ei.length>0&&ib(ei,be,Ae),pi.length>0&&ib(pi,be,Ae),$e.buffers.depth.setTest(!0),$e.buffers.depth.setMask(!0),$e.buffers.color.setMask(!0),$e.setPolygonOffset(!1)}function ib(J,be,Ae){const Ce=!0===be.isScene?be.overrideMaterial:null;for(let Ve=0,ei=J.length;Ve<ei;Ve++){const pi=J[Ve],xi=pi.object,mi=pi.geometry,Gi=null===Ce?pi.material:Ce,Ti=pi.group;xi.layers.test(Ae.layers)&&cge(xi,be,Ae,mi,Gi,Ti)}}function cge(J,be,Ae,Ce,Ve,ei){J.onBeforeRender(A,be,Ae,Ce,Ve,ei),J.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Ve.onBeforeRender(A,be,Ae,Ce,J,ei),!0===Ve.transparent&&2===Ve.side?(Ve.side=1,Ve.needsUpdate=!0,A.renderBufferDirect(Ae,be,Ce,Ve,J,ei),Ve.side=0,Ve.needsUpdate=!0,A.renderBufferDirect(Ae,be,Ce,Ve,J,ei),Ve.side=2):A.renderBufferDirect(Ae,be,Ce,Ve,J,ei),J.onAfterRender(A,be,Ae,Ce,Ve,ei)}function FD(J,be,Ae){!0!==be.isScene&&(be=wt);const Ce=Ie.get(J),Ve=b.state.lights,pi=Ve.state.version,xi=Ft.getParameters(J,Ve.state,b.state.shadowsArray,be,Ae),mi=Ft.getProgramCacheKey(xi);let Gi=Ce.programs;Ce.environment=J.isMeshStandardMaterial?be.environment:null,Ce.fog=be.fog,Ce.envMap=(J.isMeshStandardMaterial?Mt:Ze).get(J.envMap||Ce.environment),void 0===Gi&&(J.addEventListener("dispose",et),Gi=new Map,Ce.programs=Gi);let Ti=Gi.get(mi);if(void 0!==Ti){if(Ce.currentProgram===Ti&&Ce.lightsStateVersion===pi)return B3(J,xi),Ti}else xi.uniforms=Ft.getUniforms(J),J.onBuild(Ae,xi,A),J.onBeforeCompile(xi,A),Ti=Ft.acquireProgram(xi,mi),Gi.set(mi,Ti),Ce.uniforms=xi.uniforms;const Ii=Ce.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||!0===J.clipping)&&(Ii.clippingPlanes=Z.uniform),B3(J,xi),Ce.needsLights=function hge(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&!0===J.lights}(J),Ce.lightsStateVersion=pi,Ce.needsLights&&(Ii.ambientLightColor.value=Ve.state.ambient,Ii.lightProbe.value=Ve.state.probe,Ii.directionalLights.value=Ve.state.directional,Ii.directionalLightShadows.value=Ve.state.directionalShadow,Ii.spotLights.value=Ve.state.spot,Ii.spotLightShadows.value=Ve.state.spotShadow,Ii.rectAreaLights.value=Ve.state.rectArea,Ii.ltc_1.value=Ve.state.rectAreaLTC1,Ii.ltc_2.value=Ve.state.rectAreaLTC2,Ii.pointLights.value=Ve.state.point,Ii.pointLightShadows.value=Ve.state.pointShadow,Ii.hemisphereLights.value=Ve.state.hemi,Ii.directionalShadowMap.value=Ve.state.directionalShadowMap,Ii.directionalShadowMatrix.value=Ve.state.directionalShadowMatrix,Ii.spotShadowMap.value=Ve.state.spotShadowMap,Ii.spotShadowMatrix.value=Ve.state.spotShadowMatrix,Ii.pointShadowMap.value=Ve.state.pointShadowMap,Ii.pointShadowMatrix.value=Ve.state.pointShadowMatrix);const yn=Ti.getUniforms(),Qc=gl.seqWithValue(yn.seq,Ii);return Ce.currentProgram=Ti,Ce.uniformsList=Qc,Ti}function B3(J,be){const Ae=Ie.get(J);Ae.outputEncoding=be.outputEncoding,Ae.instancing=be.instancing,Ae.skinning=be.skinning,Ae.morphTargets=be.morphTargets,Ae.morphNormals=be.morphNormals,Ae.morphColors=be.morphColors,Ae.morphTargetsCount=be.morphTargetsCount,Ae.numClippingPlanes=be.numClippingPlanes,Ae.numIntersection=be.numClipIntersection,Ae.vertexAlphas=be.vertexAlphas,Ae.vertexTangents=be.vertexTangents,Ae.toneMapping=be.toneMapping}Ei.setAnimationLoop(function ot(J){Rt&&Rt(J)}),"undefined"!=typeof self&&Ei.setContext(self),this.setAnimationLoop=function(J){Rt=J,at.setAnimationLoop(J),null===J?Ei.stop():Ei.start()},at.addEventListener("sessionstart",ci),at.addEventListener("sessionend",Ji),this.render=function(J,be){if(void 0===be||!0===be.isCamera){if(!0!==E){if(!0===J.autoUpdate&&J.updateMatrixWorld(),null===be.parent&&be.updateMatrixWorld(),!0===at.enabled&&!0===at.isPresenting&&(!0===at.cameraAutoUpdate&&at.updateCamera(be),be=at.getCamera()),!0===J.isScene&&J.onBeforeRender(A,J,be,N),b=ne.get(J,D.length),b.init(),D.push(b),We.multiplyMatrices(be.projectionMatrix,be.matrixWorldInverse),he.setFromProjectionMatrix(We),xe=this.localClippingEnabled,oe=Z.init(this.clippingPlanes,xe,be),v=Fi.get(J,C.length),v.init(),C.push(v),Na(J,be,0,A.sortObjects),v.finish(),!0===A.sortObjects&&v.sort(ie,Me),!0===oe&&Z.beginShadows(),De.render(b.state.shadowsArray,J,be),!0===oe&&Z.endShadows(),!0===this.info.autoReset&&this.info.reset(),je.render(v,J),b.setupLights(A.physicallyCorrectLights),be.isArrayCamera){const Ce=be.cameras;for(let Ve=0,ei=Ce.length;Ve<ei;Ve++){const pi=Ce[Ve];Ba(v,J,pi,pi.viewport)}}else Ba(v,J,be);null!==N&&(Be.updateMultisampleRenderTarget(N),Be.updateRenderTargetMipmap(N)),!0===J.isScene&&J.onAfterRender(A,J,be),Xe.resetDefaultState(),V=-1,G=null,D.pop(),b=D.length>0?D[D.length-1]:null,C.pop(),v=C.length>0?C[C.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(J,be,Ae){Ie.get(J.texture).__webglTexture=be,Ie.get(J.depthTexture).__webglTexture=Ae;const Ce=Ie.get(J);Ce.__hasExternalTextures=!0,Ce.__hasExternalTextures&&(Ce.__autoAllocateDepthBuffer=void 0===Ae,Ce.__autoAllocateDepthBuffer||!0===zt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ce.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,be){const Ae=Ie.get(J);Ae.__webglFramebuffer=be,Ae.__useDefaultFramebuffer=void 0===be},this.setRenderTarget=function(J,be=0,Ae=0){N=J,I=be,P=Ae;let Ce=!0;if(J){const mi=Ie.get(J);void 0!==mi.__useDefaultFramebuffer?($e.bindFramebuffer(36160,null),Ce=!1):void 0===mi.__webglFramebuffer?Be.setupRenderTarget(J):mi.__hasExternalTextures&&Be.rebindTextures(J,Ie.get(J.texture).__webglTexture,Ie.get(J.depthTexture).__webglTexture)}let Ve=null,ei=!1,pi=!1;if(J){const mi=J.texture;(mi.isData3DTexture||mi.isDataArrayTexture)&&(pi=!0);const Gi=Ie.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Ve=Gi[be],ei=!0):Ve=Ot.isWebGL2&&J.samples>0&&!1===Be.useMultisampledRTT(J)?Ie.get(J).__webglMultisampledFramebuffer:Gi,q.copy(J.viewport),ee.copy(J.scissor),ae=J.scissorTest}else q.copy(pe).multiplyScalar(j).floor(),ee.copy(_e).multiplyScalar(j).floor(),ae=le;if($e.bindFramebuffer(36160,Ve)&&Ot.drawBuffers&&Ce&&$e.drawBuffers(J,Ve),$e.viewport(q),$e.scissor(ee),$e.setScissorTest(ae),ei){const mi=Ie.get(J.texture);Re.framebufferTexture2D(36160,36064,34069+be,mi.__webglTexture,Ae)}else if(pi){const mi=Ie.get(J.texture);Re.framebufferTextureLayer(36160,36064,mi.__webglTexture,Ae||0,be||0)}V=-1},this.readRenderTargetPixels=function(J,be,Ae,Ce,Ve,ei,pi){if(!J||!J.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let xi=Ie.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&void 0!==pi&&(xi=xi[pi]),xi){$e.bindFramebuffer(36160,xi);try{const mi=J.texture,Gi=mi.format,Ti=mi.type;if(Gi!==Sr&&Q.convert(Gi)!==Re.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Ii=Ti===Da&&(zt.has("EXT_color_buffer_half_float")||Ot.isWebGL2&&zt.has("EXT_color_buffer_float"));if(!(Ti===oc||Q.convert(Ti)===Re.getParameter(35738)||Ti===Jr&&(Ot.isWebGL2||zt.has("OES_texture_float")||zt.has("WEBGL_color_buffer_float"))||Ii))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");be>=0&&be<=J.width-Ce&&Ae>=0&&Ae<=J.height-Ve&&Re.readPixels(be,Ae,Ce,Ve,Q.convert(Gi),Q.convert(Ti),ei)}finally{const mi=null!==N?Ie.get(N).__webglFramebuffer:null;$e.bindFramebuffer(36160,mi)}}},this.copyFramebufferToTexture=function(J,be,Ae=0){if(!0!==be.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const Ce=Math.pow(2,-Ae),Ve=Math.floor(be.image.width*Ce),ei=Math.floor(be.image.height*Ce);Be.setTexture2D(be,0),Re.copyTexSubImage2D(3553,Ae,0,0,J.x,J.y,Ve,ei),$e.unbindTexture()},this.copyTextureToTexture=function(J,be,Ae,Ce=0){const Ve=be.image.width,ei=be.image.height,pi=Q.convert(Ae.format),xi=Q.convert(Ae.type);Be.setTexture2D(Ae,0),Re.pixelStorei(37440,Ae.flipY),Re.pixelStorei(37441,Ae.premultiplyAlpha),Re.pixelStorei(3317,Ae.unpackAlignment),be.isDataTexture?Re.texSubImage2D(3553,Ce,J.x,J.y,Ve,ei,pi,xi,be.image.data):be.isCompressedTexture?Re.compressedTexSubImage2D(3553,Ce,J.x,J.y,be.mipmaps[0].width,be.mipmaps[0].height,pi,be.mipmaps[0].data):Re.texSubImage2D(3553,Ce,J.x,J.y,pi,xi,be.image),0===Ce&&Ae.generateMipmaps&&Re.generateMipmap(3553),$e.unbindTexture()},this.copyTextureToTexture3D=function(J,be,Ae,Ce,Ve=0){if(A.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const ei=J.max.x-J.min.x+1,pi=J.max.y-J.min.y+1,xi=J.max.z-J.min.z+1,mi=Q.convert(Ce.format),Gi=Q.convert(Ce.type);let Ti;if(Ce.isData3DTexture)Be.setTexture3D(Ce,0),Ti=32879;else{if(!Ce.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Be.setTexture2DArray(Ce,0),Ti=35866}Re.pixelStorei(37440,Ce.flipY),Re.pixelStorei(37441,Ce.premultiplyAlpha),Re.pixelStorei(3317,Ce.unpackAlignment);const Ii=Re.getParameter(3314),yn=Re.getParameter(32878),Qc=Re.getParameter(3316),ph=Re.getParameter(3315),gh=Re.getParameter(32877),Va=Ae.isCompressedTexture?Ae.mipmaps[0]:Ae.image;Re.pixelStorei(3314,Va.width),Re.pixelStorei(32878,Va.height),Re.pixelStorei(3316,J.min.x),Re.pixelStorei(3315,J.min.y),Re.pixelStorei(32877,J.min.z),Ae.isDataTexture||Ae.isData3DTexture?Re.texSubImage3D(Ti,Ve,be.x,be.y,be.z,ei,pi,xi,mi,Gi,Va.data):Ae.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Re.compressedTexSubImage3D(Ti,Ve,be.x,be.y,be.z,ei,pi,xi,mi,Va.data)):Re.texSubImage3D(Ti,Ve,be.x,be.y,be.z,ei,pi,xi,mi,Gi,Va),Re.pixelStorei(3314,Ii),Re.pixelStorei(32878,yn),Re.pixelStorei(3316,Qc),Re.pixelStorei(3315,ph),Re.pixelStorei(32877,gh),0===Ve&&Ce.generateMipmaps&&Re.generateMipmap(Ti),$e.unbindTexture()},this.initTexture=function(J){Be.setTexture2D(J,0),$e.unbindTexture()},this.resetState=function(){I=0,P=0,N=null,$e.reset(),Xe.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}zi.prototype.isWebGLRenderer=!0,class jJ extends zi{}.prototype.isWebGL1Renderer=!0;class iv{constructor(t,e=25e-5){this.name="",this.color=new Je(t),this.density=e}clone(){return new iv(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}iv.prototype.isFogExp2=!0;class nv{constructor(t,e=1,i=1e3){this.name="",this.color=new Je(t),this.near=e,this.far=i}clone(){return new nv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}nv.prototype.isFog=!0;class sv extends Oi{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}sv.prototype.isScene=!0;class wc{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Xf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=tr()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tr()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tr()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}wc.prototype.isInterleavedBuffer=!0;const Os=new $;class ml{constructor(t,e,i,s=!1){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)Os.fromBufferAttribute(this,e),Os.applyMatrix4(t),this.setXYZ(e,Os.x,Os.y,Os.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Os.fromBufferAttribute(this,e),Os.applyNormalMatrix(t),this.setXYZ(e,Os.x,Os.y,Os.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Os.fromBufferAttribute(this,e),Os.transformDirection(t),this.setXYZ(e,Os.x,Os.y,Os.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new Wi(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ml(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ml.prototype.isInterleavedBufferAttribute=!0;class WC extends cn{constructor(t){super(),this.type="SpriteMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let Vu;WC.prototype.isSpriteMaterial=!0;const rp=new $,Hu=new $,zu=new $,Gu=new ke,ap=new ke,JO=new St,rv=new $,op=new $,av=new $,eF=new ke,jC=new ke,tF=new ke;function ov(n,t,e,i,s,r){Gu.subVectors(n,e).addScalar(.5).multiply(i),void 0!==s?(ap.x=r*Gu.x-s*Gu.y,ap.y=s*Gu.x+r*Gu.y):ap.copy(Gu),n.copy(t),n.x+=ap.x,n.y+=ap.y,n.applyMatrix4(JO)}(class iF extends Oi{constructor(t){if(super(),this.type="Sprite",void 0===Vu){Vu=new Xt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new wc(e,5);Vu.setIndex([0,1,2,0,2,3]),Vu.setAttribute("position",new ml(i,3,0,!1)),Vu.setAttribute("uv",new ml(i,2,3,!1))}this.geometry=Vu,this.material=void 0!==t?t:new WC,this.center=new ke(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Hu.setFromMatrixScale(this.matrixWorld),JO.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),zu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Hu.multiplyScalar(-zu.z);const i=this.material.rotation;let s,r;0!==i&&(r=Math.cos(i),s=Math.sin(i));const a=this.center;ov(rv.set(-.5,-.5,0),zu,a,Hu,s,r),ov(op.set(.5,-.5,0),zu,a,Hu,s,r),ov(av.set(.5,.5,0),zu,a,Hu,s,r),eF.set(0,0),jC.set(1,0),tF.set(1,1);let c=t.ray.intersectTriangle(rv,op,av,!1,rp);if(null===c&&(ov(op.set(-.5,.5,0),zu,a,Hu,s,r),jC.set(0,1),c=t.ray.intersectTriangle(rv,av,op,!1,rp),null===c))return;const d=t.ray.origin.distanceTo(rp);d<t.near||d>t.far||e.push({distance:d,point:rp.clone(),uv:On.getUV(rp,rv,op,av,eF,jC,tF,new ke),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}).prototype.isSprite=!0;const sF=new $,rF=new Hi,aF=new Hi,XJ=new $,oF=new St;class cv extends Zn{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new St,this.bindMatrixInverse=new St}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Hi,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const i=this.skeleton,s=this.geometry;rF.fromBufferAttribute(s.attributes.skinIndex,t),aF.fromBufferAttribute(s.attributes.skinWeight,t),sF.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const a=aF.getComponent(r);if(0!==a){const c=rF.getComponent(r);oF.multiplyMatrices(i.bones[c].matrixWorld,i.boneInverses[c]),e.addScaledVector(XJ.copy(sF).applyMatrix4(oF),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}cv.prototype.isSkinnedMesh=!0;class dv extends Oi{constructor(){super(),this.type="Bone"}}dv.prototype.isBone=!0;class Uu extends bs{constructor(t=null,e=1,i=1,s,r,a,c,d,h=Ln,g=Ln,v,b){super(null,a,c,d,h,g,s,r,v,b),this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Uu.prototype.isDataTexture=!0;const lF=new St,$J=new St;class uv{constructor(t=[],e=[]){this.uuid=tr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new St;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,a=t.length;r<a;r++)lF.multiplyMatrices(t[r]?t[r].matrixWorld:$J,e[r]),lF.toArray(i,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new uv(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=nO(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Uu(e,t,t,Sr,Jr);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new dv),this.bones.push(a),this.boneInverses.push((new St).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++)t.bones.push(e[s].uuid),t.boneInverses.push(i[s].toArray());return t}}class Wu extends Wi{constructor(t,e,i,s=1){"number"==typeof i&&(s=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,i),this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Wu.prototype.isInstancedBufferAttribute=!0;const cF=new St,dF=new St,hv=[],lp=new Zn;(class uF extends Zn{constructor(t,e,i){super(t,e),this.instanceMatrix=new Wu(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const i=this.matrixWorld,s=this.count;if(lp.geometry=this.geometry,lp.material=this.material,void 0!==lp.material)for(let r=0;r<s;r++){this.getMatrixAt(r,cF),dF.multiplyMatrices(i,cF),lp.matrixWorld=dF,lp.raycast(t,hv);for(let a=0,c=hv.length;a<c;a++){const d=hv[a];d.instanceId=r,d.object=this,e.push(d)}hv.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Wu(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class rs extends cn{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Je(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}rs.prototype.isLineBasicMaterial=!0;const hF=new $,fF=new $,pF=new St,YC=new _c,fv=new cl;class _l extends Oi{constructor(t=new Xt,e=new rs){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)hF.fromBufferAttribute(e,s-1),fF.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=hF.distanceTo(fF);t.setAttribute("lineDistance",new Dt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),fv.copy(i.boundingSphere),fv.applyMatrix4(s),fv.radius+=r,!1===t.ray.intersectsSphere(fv))return;pF.copy(s).invert(),YC.copy(t.ray).applyMatrix4(pF);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=new $,g=new $,v=new $,b=new $,C=this.isLineSegments?2:1;if(i.isBufferGeometry){const D=i.index,E=i.attributes.position;if(null!==D)for(let N=Math.max(0,a.start),V=Math.min(D.count,a.start+a.count)-1;N<V;N+=C){const G=D.getX(N),q=D.getX(N+1);if(h.fromBufferAttribute(E,G),g.fromBufferAttribute(E,q),YC.distanceSqToSegment(h,g,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const ae=t.ray.origin.distanceTo(b);ae<t.near||ae>t.far||e.push({distance:ae,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}else for(let N=Math.max(0,a.start),V=Math.min(E.count,a.start+a.count)-1;N<V;N+=C){if(h.fromBufferAttribute(E,N),g.fromBufferAttribute(E,N+1),YC.distanceSqToSegment(h,g,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const q=t.ray.origin.distanceTo(b);q<t.near||q>t.far||e.push({distance:q,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}_l.prototype.isLine=!0;const gF=new $,mF=new $;class Cc extends _l{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)gF.fromBufferAttribute(e,s),mF.fromBufferAttribute(e,s+1),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+gF.distanceTo(mF);t.setAttribute("lineDistance",new Dt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Cc.prototype.isLineSegments=!0;class XC extends _l{constructor(t,e){super(t,e),this.type="LineLoop"}}XC.prototype.isLineLoop=!0;class pv extends cn{constructor(t){super(),this.type="PointsMaterial",this.color=new Je(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}pv.prototype.isPointsMaterial=!0;const _F=new St,$C=new _c,gv=new cl,mv=new $;class qC extends Oi{constructor(t=new Xt,e=new pv){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,a=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),gv.copy(i.boundingSphere),gv.applyMatrix4(s),gv.radius+=r,!1===t.ray.intersectsSphere(gv))return;_F.copy(s).invert(),$C.copy(t.ray).applyMatrix4(_F);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c;if(i.isBufferGeometry){const h=i.index,v=i.attributes.position;if(null!==h)for(let D=Math.max(0,a.start),A=Math.min(h.count,a.start+a.count);D<A;D++){const E=h.getX(D);mv.fromBufferAttribute(v,E),vF(mv,E,d,s,t,e,this)}else for(let D=Math.max(0,a.start),A=Math.min(v.count,a.start+a.count);D<A;D++)mv.fromBufferAttribute(v,D),vF(mv,D,d,s,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function vF(n,t,e,i,s,r,a){const c=$C.distanceSqToPoint(n);if(c<e){const d=new $;$C.closestPointToPoint(n,d),d.applyMatrix4(i);const h=s.ray.origin.distanceTo(d);if(h<s.near||h>s.far)return;r.push({distance:h,distanceToRay:Math.sqrt(c),point:d,index:t,face:null,object:a})}}qC.prototype.isPoints=!0,class qJ extends bs{constructor(t,e,i,s,r,a,c,d,h){super(t,e,i,s,r,a,c,d,h),this.minFilter=void 0!==a?a:$i,this.magFilter=void 0!==r?r:$i,this.generateMipmaps=!1;const g=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function v(){g.needsUpdate=!0,t.requestVideoFrameCallback(v)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class ZJ extends bs{constructor(t,e,i){super({width:t,height:e}),this.format=i,this.magFilter=Ln,this.minFilter=Ln,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class yF extends bs{constructor(t,e,i,s,r,a,c,d,h,g,v,b){super(null,a,c,d,h,g,s,r,v,b),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class KJ extends bs{constructor(t,e,i,s,r,a,c,d,h){super(t,e,i,s,r,a,c,d,h),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class Ar{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let a=1;a<=t;a++)i=this.getPoint(a/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let a;a=e||t*i[r-1];let h,c=0,d=r-1;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),h=i[s]-a,h<0)c=s+1;else{if(!(h>0)){d=s;break}d=s-1}if(s=d,i[s]===a)return s/(r-1);const g=i[s];return(s+(a-g)/(i[s+1]-g))/(r-1)}getTangent(t,e){const i=1e-4;let s=t-i,r=t+i;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),c=this.getPoint(r),d=e||(a.isVector2?new ke:new $);return d.copy(c).sub(a).normalize(),d}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new $,s=[],r=[],a=[],c=new $,d=new St;for(let C=0;C<=t;C++)s[C]=this.getTangentAt(C/t,new $);r[0]=new $,a[0]=new $;let h=Number.MAX_VALUE;const g=Math.abs(s[0].x),v=Math.abs(s[0].y),b=Math.abs(s[0].z);g<=h&&(h=g,i.set(1,0,0)),v<=h&&(h=v,i.set(0,1,0)),b<=h&&i.set(0,0,1),c.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],c),a[0].crossVectors(s[0],r[0]);for(let C=1;C<=t;C++){if(r[C]=r[C-1].clone(),a[C]=a[C-1].clone(),c.crossVectors(s[C-1],s[C]),c.length()>Number.EPSILON){c.normalize();const D=Math.acos(Mn(s[C-1].dot(s[C]),-1,1));r[C].applyMatrix4(d.makeRotationAxis(c,D))}a[C].crossVectors(s[C],r[C])}if(!0===e){let C=Math.acos(Mn(r[0].dot(r[t]),-1,1));C/=t,s[0].dot(c.crossVectors(r[0],r[t]))>0&&(C=-C);for(let D=1;D<=t;D++)r[D].applyMatrix4(d.makeRotationAxis(s[D],C*D)),a[D].crossVectors(s[D],r[D])}return{tangents:s,normals:r,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class _v extends Ar{constructor(t=0,e=0,i=1,s=1,r=0,a=2*Math.PI,c=!1,d=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=c,this.aRotation=d}getPoint(t,e){const i=e||new ke,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=a?0:s),!0===this.aClockwise&&!a&&(r===s?r=-s:r-=s);const c=this.aStartAngle+t*r;let d=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){const g=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=d-this.aX,C=h-this.aY;d=b*g-C*v+this.aX,h=b*v+C*g+this.aY}return i.set(d,h)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}_v.prototype.isEllipseCurve=!0;class bF extends _v{constructor(t,e,i,s,r,a){super(t,e,i,i,s,r,a),this.type="ArcCurve"}}function ZC(){let n=0,t=0,e=0,i=0;function s(r,a,c,d){n=r,t=c,e=-3*r+3*a-2*c-d,i=2*r-2*a+c+d}return{initCatmullRom:function(r,a,c,d,h){s(a,c,h*(c-r),h*(d-a))},initNonuniformCatmullRom:function(r,a,c,d,h,g,v){let b=(a-r)/h-(c-r)/(h+g)+(c-a)/g,C=(c-a)/g-(d-a)/(g+v)+(d-c)/v;b*=g,C*=g,s(a,c,b,C)},calc:function(r){const a=r*r;return n+t*r+e*a+i*(a*r)}}}bF.prototype.isArcCurve=!0;const vv=new $,KC=new ZC,QC=new ZC,JC=new ZC;class xF extends Ar{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new $){const i=e,s=this.points,r=s.length,a=(r-(this.closed?0:1))*t;let h,g,c=Math.floor(a),d=a-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:0===d&&c===r-1&&(c=r-2,d=1),this.closed||c>0?h=s[(c-1)%r]:(vv.subVectors(s[0],s[1]).add(s[0]),h=vv);const v=s[c%r],b=s[(c+1)%r];if(this.closed||c+2<r?g=s[(c+2)%r]:(vv.subVectors(s[r-1],s[r-2]).add(s[r-1]),g=vv),"centripetal"===this.curveType||"chordal"===this.curveType){const C="chordal"===this.curveType?.5:.25;let D=Math.pow(h.distanceToSquared(v),C),A=Math.pow(v.distanceToSquared(b),C),E=Math.pow(b.distanceToSquared(g),C);A<1e-4&&(A=1),D<1e-4&&(D=A),E<1e-4&&(E=A),KC.initNonuniformCatmullRom(h.x,v.x,b.x,g.x,D,A,E),QC.initNonuniformCatmullRom(h.y,v.y,b.y,g.y,D,A,E),JC.initNonuniformCatmullRom(h.z,v.z,b.z,g.z,D,A,E)}else"catmullrom"===this.curveType&&(KC.initCatmullRom(h.x,v.x,b.x,g.x,this.tension),QC.initCatmullRom(h.y,v.y,b.y,g.y,this.tension),JC.initCatmullRom(h.z,v.z,b.z,g.z,this.tension));return i.set(KC.calc(d),QC.calc(d),JC.calc(d)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new $).fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function wF(n,t,e,i,s){const r=.5*(i-t),a=.5*(s-e),c=n*n;return(2*e-2*i+r+a)*(n*c)+(-3*e+3*i-2*r-a)*c+r*n+e}function cp(n,t,e,i){return function QJ(n,t){const e=1-n;return e*e*t}(n,t)+function JJ(n,t){return 2*(1-n)*n*t}(n,e)+function eee(n,t){return n*n*t}(n,i)}function dp(n,t,e,i,s){return function tee(n,t){const e=1-n;return e*e*e*t}(n,t)+function iee(n,t){const e=1-n;return 3*e*e*n*t}(n,e)+function nee(n,t){return 3*(1-n)*n*n*t}(n,i)+function see(n,t){return n*n*n*t}(n,s)}xF.prototype.isCatmullRomCurve3=!0;class eM extends Ar{constructor(t=new ke,e=new ke,i=new ke,s=new ke){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new ke){const i=e,s=this.v0,r=this.v1,a=this.v2,c=this.v3;return i.set(dp(t,s.x,r.x,a.x,c.x),dp(t,s.y,r.y,a.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}eM.prototype.isCubicBezierCurve=!0;class CF extends Ar{constructor(t=new $,e=new $,i=new $,s=new $){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new $){const i=e,s=this.v0,r=this.v1,a=this.v2,c=this.v3;return i.set(dp(t,s.x,r.x,a.x,c.x),dp(t,s.y,r.y,a.y,c.y),dp(t,s.z,r.z,a.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}CF.prototype.isCubicBezierCurve3=!0;class yv extends Ar{constructor(t=new ke,e=new ke){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ke){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const i=e||new ke;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}yv.prototype.isLineCurve=!0;class tM extends Ar{constructor(t=new ke,e=new ke,i=new ke){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new ke){const i=e,s=this.v0,r=this.v1,a=this.v2;return i.set(cp(t,s.x,r.x,a.x),cp(t,s.y,r.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}tM.prototype.isQuadraticBezierCurve=!0;class iM extends Ar{constructor(t=new $,e=new $,i=new $){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new $){const i=e,s=this.v0,r=this.v1,a=this.v2;return i.set(cp(t,s.x,r.x,a.x),cp(t,s.y,r.y,a.y),cp(t,s.z,r.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}iM.prototype.isQuadraticBezierCurve3=!0;class nM extends Ar{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new ke){const i=e,s=this.points,r=(s.length-1)*t,a=Math.floor(r),c=r-a,d=s[0===a?a:a-1],h=s[a],g=s[a>s.length-2?s.length-1:a+1],v=s[a>s.length-3?s.length-1:a+2];return i.set(wF(c,d.x,h.x,g.x,v.x),wF(c,d.y,h.y,g.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new ke).fromArray(s))}return this}}nM.prototype.isSplineCurve=!0;var sM=Object.freeze({__proto__:null,ArcCurve:bF,CatmullRomCurve3:xF,CubicBezierCurve:eM,CubicBezierCurve3:CF,EllipseCurve:_v,LineCurve:yv,LineCurve3:class ree extends Ar{constructor(t=new $,e=new $){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new $){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:tM,QuadraticBezierCurve3:iM,SplineCurve:nM});class aee extends Ar{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new yv(e,t))}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const a=s[r]-i,c=this.curves[r],d=c.getLength();return c.getPointAt(0===d?0:1-a/d,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],d=a.getPoints(a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t);for(let h=0;h<d.length;h++){const g=d[h];i&&i.equals(g)||(e.push(g),i=g)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push((new sM[s.type]).fromJSON(s))}return this}}class up extends aee{constructor(t){super(),this.type="Path",this.currentPoint=new ke,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new yv(this.currentPoint.clone(),new ke(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new tM(this.currentPoint.clone(),new ke(t,e),new ke(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,a){const c=new eM(this.currentPoint.clone(),new ke(t,e),new ke(i,s),new ke(r,a));return this.curves.push(c),this.currentPoint.set(r,a),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new nM(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,a),this}absarc(t,e,i,s,r,a){return this.absellipse(t,e,i,i,s,r,a),this}ellipse(t,e,i,s,r,a,c,d){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,a,c,d),this}absellipse(t,e,i,s,r,a,c,d){const h=new _v(t,e,i,s,r,a,c,d);if(this.curves.length>0){const v=h.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(h);const g=h.getPoint(1);return this.currentPoint.copy(g),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new $,new $,new $,new On;class mo extends up{constructor(t){super(t),this.uuid=tr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push((new up).fromJSON(s))}return this}}function SF(n,t,e,i,s){let r,a;if(s===function Cee(n,t,e,i){let s=0;for(let r=t,a=e-i;r<e;r+=i)s+=(n[a]-n[r])*(n[r+1]+n[a+1]),a=r;return s}(n,t,e,i)>0)for(r=t;r<e;r+=i)a=EF(r,n[r],n[r+1],a);else for(r=e-i;r>=t;r-=i)a=EF(r,n[r],n[r+1],a);return a&&Av(a,a.next)&&(gp(a),a=a.next),a}function yl(n,t){if(!n)return n;t||(t=n);let i,e=n;do{if(i=!1,e.steiner||!Av(e,e.next)&&0!==dn(e.prev,e,e.next))e=e.next;else{if(gp(e),e=t=e.prev,e===e.next)break;i=!0}}while(i||e!==t);return t}function fp(n,t,e,i,s,r,a){if(!n)return;!a&&r&&function _ee(n,t,e,i){let s=n;do{null===s.z&&(s.z=aM(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,function vee(n){let t,e,i,s,r,a,c,d,h=1;do{for(e=n,n=null,r=null,a=0;e;){for(a++,i=e,c=0,t=0;t<h&&(c++,i=i.nextZ,i);t++);for(d=h;c>0||d>0&&i;)0!==c&&(0===d||!i||e.z<=i.z)?(s=e,e=e.nextZ,c--):(s=i,i=i.nextZ,d--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,h*=2}while(a>1)}(s)}(n,i,s,r);let d,h,c=n;for(;n.prev!==n.next;)if(d=n.prev,h=n.next,r?cee(n,i,s,r):lee(n))t.push(d.i/e),t.push(n.i/e),t.push(h.i/e),gp(n),n=h.next,c=h.next;else if((n=h)===c){a?1===a?fp(n=dee(yl(n),t,e),t,e,i,s,r,2):2===a&&uee(n,t,e,i,s,r):fp(yl(n),t,e,i,s,r,1);break}}function lee(n){const t=n.prev,e=n,i=n.next;if(dn(t,e,i)>=0)return!1;let s=n.next.next;for(;s!==n.prev;){if(Yu(t.x,t.y,e.x,e.y,i.x,i.y,s.x,s.y)&&dn(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function cee(n,t,e,i){const s=n.prev,r=n,a=n.next;if(dn(s,r,a)>=0)return!1;const h=s.x>r.x?s.x>a.x?s.x:a.x:r.x>a.x?r.x:a.x,g=s.y>r.y?s.y>a.y?s.y:a.y:r.y>a.y?r.y:a.y,v=aM(s.x<r.x?s.x<a.x?s.x:a.x:r.x<a.x?r.x:a.x,s.y<r.y?s.y<a.y?s.y:a.y:r.y<a.y?r.y:a.y,t,e,i),b=aM(h,g,t,e,i);let C=n.prevZ,D=n.nextZ;for(;C&&C.z>=v&&D&&D.z<=b;){if(C!==n.prev&&C!==n.next&&Yu(s.x,s.y,r.x,r.y,a.x,a.y,C.x,C.y)&&dn(C.prev,C,C.next)>=0||(C=C.prevZ,D!==n.prev&&D!==n.next&&Yu(s.x,s.y,r.x,r.y,a.x,a.y,D.x,D.y)&&dn(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;C&&C.z>=v;){if(C!==n.prev&&C!==n.next&&Yu(s.x,s.y,r.x,r.y,a.x,a.y,C.x,C.y)&&dn(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;D&&D.z<=b;){if(D!==n.prev&&D!==n.next&&Yu(s.x,s.y,r.x,r.y,a.x,a.y,D.x,D.y)&&dn(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function dee(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!Av(s,r)&&DF(s,i,i.next,r)&&pp(s,r)&&pp(r,s)&&(t.push(s.i/e),t.push(i.i/e),t.push(r.i/e),gp(i),gp(i.next),i=n=r),i=i.next}while(i!==n);return yl(i)}function uee(n,t,e,i,s,r){let a=n;do{let c=a.next.next;for(;c!==a.prev;){if(a.i!==c.i&&bee(a,c)){let d=AF(a,c);return a=yl(a,a.next),d=yl(d,d.next),fp(a,t,e,i,s,r),void fp(d,t,e,i,s,r)}c=c.next}a=a.next}while(a!==n)}function fee(n,t){return n.x-t.x}function pee(n,t){if(t=function gee(n,t){let e=t;const i=n.x,s=n.y;let a,r=-1/0;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const b=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(b<=i&&b>r){if(r=b,b===i){if(s===e.y)return e;if(s===e.next.y)return e.next}a=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!a)return null;if(i===r)return a;const c=a,d=a.x,h=a.y;let v,g=1/0;e=a;do{i>=e.x&&e.x>=d&&i!==e.x&&Yu(s<h?i:r,s,d,h,s<h?r:i,s,e.x,e.y)&&(v=Math.abs(s-e.y)/(i-e.x),pp(e,n)&&(v<g||v===g&&(e.x>a.x||e.x===a.x&&mee(a,e)))&&(a=e,g=v)),e=e.next}while(e!==c);return a}(n,t),t){const e=AF(t,n);yl(t,t.next),yl(e,e.next)}}function mee(n,t){return dn(n.prev,n,t.prev)<0&&dn(t.next,n,n.next)<0}function aM(n,t,e,i,s){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-e)*s)|n<<8))|n<<4))|n<<2))|n<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*s)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function yee(n){let t=n,e=n;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==n);return e}function Yu(n,t,e,i,s,r,a,c){return(s-a)*(t-c)-(n-a)*(r-c)>=0&&(n-a)*(i-c)-(e-a)*(t-c)>=0&&(e-a)*(r-c)-(s-a)*(i-c)>=0}function bee(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!function xee(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&DF(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}(n,t)&&(pp(n,t)&&pp(t,n)&&function wee(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do{e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==n);return i}(n,t)&&(dn(n.prev,n,t.prev)||dn(n,t.prev,t))||Av(n,t)&&dn(n.prev,n,n.next)>0&&dn(t.prev,t,t.next)>0)}function dn(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function Av(n,t){return n.x===t.x&&n.y===t.y}function DF(n,t,e,i){const s=Tv(dn(n,t,e)),r=Tv(dn(n,t,i)),a=Tv(dn(e,i,n)),c=Tv(dn(e,i,t));return!!(s!==r&&a!==c||0===s&&Ev(n,e,t)||0===r&&Ev(n,i,t)||0===a&&Ev(e,n,i)||0===c&&Ev(e,t,i))}function Ev(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Tv(n){return n>0?1:n<0?-1:0}function pp(n,t){return dn(n.prev,n,n.next)<0?dn(n,t,n.next)>=0&&dn(n,n.prev,t)>=0:dn(n,t,n.prev)<0||dn(n,n.next,t)<0}function AF(n,t){const e=new oM(n.i,n.x,n.y),i=new oM(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function EF(n,t,e,i){const s=new oM(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function gp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function oM(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class _o{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*i}static isClockWise(t){return _o.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];TF(t),kF(i,t);let a=t.length;e.forEach(TF);for(let d=0;d<e.length;d++)s.push(a),a+=e[d].length,kF(i,e[d]);const c=function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=SF(n,0,s,e,!0);const a=[];if(!r||r.next===r.prev)return a;let c,d,h,g,v,b,C;if(i&&(r=function hee(n,t,e,i){const s=[];let r,a,c,d,h;for(r=0,a=t.length;r<a;r++)c=t[r]*i,d=r<a-1?t[r+1]*i:n.length,h=SF(n,c,d,i,!1),h===h.next&&(h.steiner=!0),s.push(yee(h));for(s.sort(fee),r=0;r<s.length;r++)pee(s[r],e),e=yl(e,e.next);return e}(n,t,r,e)),n.length>80*e){c=h=n[0],d=g=n[1];for(let D=e;D<s;D+=e)v=n[D],b=n[D+1],v<c&&(c=v),b<d&&(d=b),v>h&&(h=v),b>g&&(g=b);C=Math.max(h-c,g-d),C=0!==C?1/C:0}return fp(r,a,e,c,d,C),a}(i,s);for(let d=0;d<c.length;d+=3)r.push(c.slice(d,d+3));return r}}function TF(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function kF(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class bl extends Xt{constructor(t=new mo([new ke(.5,.5),new ke(-.5,.5),new ke(-.5,-.5),new ke(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let c=0,d=t.length;c<d;c++)a(t[c]);function a(c){const d=[],h=void 0!==e.curveSegments?e.curveSegments:12,g=void 0!==e.steps?e.steps:1;let v=void 0!==e.depth?e.depth:1,b=void 0===e.bevelEnabled||e.bevelEnabled,C=void 0!==e.bevelThickness?e.bevelThickness:.2,D=void 0!==e.bevelSize?e.bevelSize:C-.1,A=void 0!==e.bevelOffset?e.bevelOffset:0,E=void 0!==e.bevelSegments?e.bevelSegments:3;const I=e.extrudePath,P=void 0!==e.UVGenerator?e.UVGenerator:Mee;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=e.amount);let N,G,q,ee,ae,V=!1;I&&(N=I.getSpacedPoints(g),V=!0,b=!1,G=I.computeFrenetFrames(g,!1),q=new $,ee=new $,ae=new $),b||(E=0,C=0,D=0,A=0);const ue=c.extractPoints(h);let ce=ue.shape;const j=ue.holes;if(!_o.isClockWise(ce)){ce=ce.reverse();for(let Ie=0,Be=j.length;Ie<Be;Ie++){const Ze=j[Ie];_o.isClockWise(Ze)&&(j[Ie]=Ze.reverse())}}const Me=_o.triangulateShape(ce,j),pe=ce;for(let Ie=0,Be=j.length;Ie<Be;Ie++)ce=ce.concat(j[Ie]);function _e(Ie,Be,Ze){return Be||console.error("THREE.ExtrudeGeometry: vec does not exist"),Be.clone().multiplyScalar(Ze).add(Ie)}const le=ce.length,he=Me.length;function oe(Ie,Be,Ze){let Mt,ft,si;const Wt=Ie.x-Be.x,Ft=Ie.y-Be.y,Zi=Ze.x-Ie.x,Fi=Ze.y-Ie.y,ne=Wt*Wt+Ft*Ft;if(Math.abs(Wt*Fi-Ft*Zi)>Number.EPSILON){const De=Math.sqrt(ne),je=Math.sqrt(Zi*Zi+Fi*Fi),ut=Be.x-Ft/De,bt=Be.y+Wt/De,Xe=((Ze.x-Fi/je-ut)*Fi-(Ze.y+Zi/je-bt)*Zi)/(Wt*Fi-Ft*Zi);Mt=ut+Wt*Xe-Ie.x,ft=bt+Ft*Xe-Ie.y;const Et=Mt*Mt+ft*ft;if(Et<=2)return new ke(Mt,ft);si=Math.sqrt(Et/2)}else{let De=!1;Wt>Number.EPSILON?Zi>Number.EPSILON&&(De=!0):Wt<-Number.EPSILON?Zi<-Number.EPSILON&&(De=!0):Math.sign(Ft)===Math.sign(Fi)&&(De=!0),De?(Mt=-Ft,ft=Wt,si=Math.sqrt(ne)):(Mt=Wt,ft=Ft,si=Math.sqrt(ne/2))}return new ke(Mt/si,ft/si)}const xe=[];for(let Ie=0,Be=pe.length,Ze=Be-1,Mt=Ie+1;Ie<Be;Ie++,Ze++,Mt++)Ze===Be&&(Ze=0),Mt===Be&&(Mt=0),xe[Ie]=oe(pe[Ie],pe[Ze],pe[Mt]);const Ee=[];let We,Ne=xe.concat();for(let Ie=0,Be=j.length;Ie<Be;Ie++){const Ze=j[Ie];We=[];for(let Mt=0,ft=Ze.length,si=ft-1,Wt=Mt+1;Mt<ft;Mt++,si++,Wt++)si===ft&&(si=0),Wt===ft&&(Wt=0),We[Mt]=oe(Ze[Mt],Ze[si],Ze[Wt]);Ee.push(We),Ne=Ne.concat(We)}for(let Ie=0;Ie<E;Ie++){const Be=Ie/E,Ze=C*Math.cos(Be*Math.PI/2),Mt=D*Math.sin(Be*Math.PI/2)+A;for(let ft=0,si=pe.length;ft<si;ft++){const Wt=_e(pe[ft],xe[ft],Mt);$t(Wt.x,Wt.y,-Ze)}for(let ft=0,si=j.length;ft<si;ft++){const Wt=j[ft];We=Ee[ft];for(let Ft=0,Zi=Wt.length;Ft<Zi;Ft++){const Fi=_e(Wt[Ft],We[Ft],Mt);$t(Fi.x,Fi.y,-Ze)}}}const Ct=D+A;for(let Ie=0;Ie<le;Ie++){const Be=b?_e(ce[Ie],Ne[Ie],Ct):ce[Ie];V?(ee.copy(G.normals[0]).multiplyScalar(Be.x),q.copy(G.binormals[0]).multiplyScalar(Be.y),ae.copy(N[0]).add(ee).add(q),$t(ae.x,ae.y,ae.z)):$t(Be.x,Be.y,0)}for(let Ie=1;Ie<=g;Ie++)for(let Be=0;Be<le;Be++){const Ze=b?_e(ce[Be],Ne[Be],Ct):ce[Be];V?(ee.copy(G.normals[Ie]).multiplyScalar(Ze.x),q.copy(G.binormals[Ie]).multiplyScalar(Ze.y),ae.copy(N[Ie]).add(ee).add(q),$t(ae.x,ae.y,ae.z)):$t(Ze.x,Ze.y,v/g*Ie)}for(let Ie=E-1;Ie>=0;Ie--){const Be=Ie/E,Ze=C*Math.cos(Be*Math.PI/2),Mt=D*Math.sin(Be*Math.PI/2)+A;for(let ft=0,si=pe.length;ft<si;ft++){const Wt=_e(pe[ft],xe[ft],Mt);$t(Wt.x,Wt.y,v+Ze)}for(let ft=0,si=j.length;ft<si;ft++){const Wt=j[ft];We=Ee[ft];for(let Ft=0,Zi=Wt.length;Ft<Zi;Ft++){const Fi=_e(Wt[Ft],We[Ft],Mt);V?$t(Fi.x,Fi.y+N[g-1].y,N[g-1].x+Ze):$t(Fi.x,Fi.y,v+Ze)}}}function Re(Ie,Be){let Ze=Ie.length;for(;--Ze>=0;){const Mt=Ze;let ft=Ze-1;ft<0&&(ft=Ie.length-1);for(let si=0,Wt=g+2*E;si<Wt;si++){const Ft=le*si,Zi=le*(si+1);Ot(Be+Mt+Ft,Be+ft+Ft,Be+ft+Zi,Be+Mt+Zi)}}}function $t(Ie,Be,Ze){d.push(Ie),d.push(Be),d.push(Ze)}function zt(Ie,Be,Ze){$e(Ie),$e(Be),$e(Ze);const Mt=s.length/3,ft=P.generateTopUV(i,s,Mt-3,Mt-2,Mt-1);ni(ft[0]),ni(ft[1]),ni(ft[2])}function Ot(Ie,Be,Ze,Mt){$e(Ie),$e(Be),$e(Mt),$e(Be),$e(Ze),$e(Mt);const ft=s.length/3,si=P.generateSideWallUV(i,s,ft-6,ft-3,ft-2,ft-1);ni(si[0]),ni(si[1]),ni(si[3]),ni(si[1]),ni(si[2]),ni(si[3])}function $e(Ie){s.push(d[3*Ie+0]),s.push(d[3*Ie+1]),s.push(d[3*Ie+2])}function ni(Ie){r.push(Ie.x),r.push(Ie.y)}(function wt(){const Ie=s.length/3;if(b){let Be=0,Ze=le*Be;for(let Mt=0;Mt<he;Mt++){const ft=Me[Mt];zt(ft[2]+Ze,ft[1]+Ze,ft[0]+Ze)}Be=g+2*E,Ze=le*Be;for(let Mt=0;Mt<he;Mt++){const ft=Me[Mt];zt(ft[0]+Ze,ft[1]+Ze,ft[2]+Ze)}}else{for(let Be=0;Be<he;Be++){const Ze=Me[Be];zt(Ze[2],Ze[1],Ze[0])}for(let Be=0;Be<he;Be++){const Ze=Me[Be];zt(Ze[0]+le*g,Ze[1]+le*g,Ze[2]+le*g)}}i.addGroup(Ie,s.length/3-Ie,0)})(),function Ht(){const Ie=s.length/3;let Be=0;Re(pe,Be),Be+=pe.length;for(let Ze=0,Mt=j.length;Ze<Mt;Ze++){const ft=j[Ze];Re(ft,Be),Be+=ft.length}i.addGroup(Ie,s.length/3-Ie,1)}()}this.setAttribute("position",new Dt(s,3)),this.setAttribute("uv",new Dt(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function See(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.shapes.push(n[i].uuid);else e.shapes.push(n.uuid);return void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let r=0,a=t.shapes.length;r<a;r++)i.push(e[t.shapes[r]]);const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new sM[s.type]).fromJSON(s)),new bl(i,t.options)}}const Mee={generateTopUV:function(n,t,e,i,s){const c=t[3*i],d=t[3*i+1],h=t[3*s],g=t[3*s+1];return[new ke(t[3*e],t[3*e+1]),new ke(c,d),new ke(h,g)]},generateSideWallUV:function(n,t,e,i,s,r){const a=t[3*e],c=t[3*e+1],d=t[3*e+2],h=t[3*i],g=t[3*i+1],v=t[3*i+2],b=t[3*s],C=t[3*s+1],D=t[3*s+2],A=t[3*r],E=t[3*r+1],I=t[3*r+2];return Math.abs(c-g)<Math.abs(a-h)?[new ke(a,1-d),new ke(h,1-v),new ke(b,1-D),new ke(A,1-I)]:[new ke(c,1-d),new ke(g,1-v),new ke(C,1-D),new ke(E,1-I)]}};class _p extends Xt{constructor(t=new mo([new ke(0,.5),new ke(-.5,-.5),new ke(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],a=[];let c=0,d=0;if(!1===Array.isArray(t))h(t);else for(let g=0;g<t.length;g++)h(t[g]),this.addGroup(c,d,g),c+=d,d=0;function h(g){const v=s.length/3,b=g.extractPoints(e);let C=b.shape;const D=b.holes;!1===_o.isClockWise(C)&&(C=C.reverse());for(let E=0,I=D.length;E<I;E++){const P=D[E];!0===_o.isClockWise(P)&&(D[E]=P.reverse())}const A=_o.triangulateShape(C,D);for(let E=0,I=D.length;E<I;E++)C=C.concat(D[E]);for(let E=0,I=C.length;E<I;E++){const P=C[E];s.push(P.x,P.y,0),r.push(0,0,1),a.push(P.x,P.y)}for(let E=0,I=A.length;E<I;E++){const P=A[E];i.push(P[0]+v,P[1]+v,P[2]+v),d+=3}}this.setIndex(i),this.setAttribute("position",new Dt(s,3)),this.setAttribute("normal",new Dt(r,3)),this.setAttribute("uv",new Dt(a,2))}toJSON(){const t=super.toJSON();return function Dee(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++)t.shapes.push(n[e].uuid);else t.shapes.push(n.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++)i.push(e[t.shapes[s]]);return new _p(i,t.curveSegments)}}class LF extends cn{constructor(t){super(),this.type="ShadowMaterial",this.color=new Je(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}LF.prototype.isShadowMaterial=!0;class OF extends ra{constructor(t){super(t),this.type="RawShaderMaterial"}}OF.prototype.isRawShaderMaterial=!0;class Xu extends cn{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Je(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Xu.prototype.isMeshStandardMaterial=!0;class xl extends Xu{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ke(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Mn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Je(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Je(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Je(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}xl.prototype.isMeshPhysicalMaterial=!0;class FF extends cn{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Je(16777215),this.specular=new Je(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}FF.prototype.isMeshPhongMaterial=!0;class NF extends cn{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Je(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}NF.prototype.isMeshToonMaterial=!0;class BF extends cn{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}BF.prototype.isMeshNormalMaterial=!0;class VF extends cn{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Je(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Je(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}VF.prototype.isMeshLambertMaterial=!0;class HF extends cn{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Je(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ke(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}HF.prototype.isMeshMatcapMaterial=!0;class zF extends rs{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}zF.prototype.isLineDashedMaterial=!0;const Aee={ShadowMaterial:LF,SpriteMaterial:WC,RawShaderMaterial:OF,ShaderMaterial:ra,PointsMaterial:pv,MeshPhysicalMaterial:xl,MeshStandardMaterial:Xu,MeshPhongMaterial:FF,MeshToonMaterial:NF,MeshNormalMaterial:BF,MeshLambertMaterial:VF,MeshDepthMaterial:zC,MeshDistanceMaterial:GC,MeshBasicMaterial:rr,MeshMatcapMaterial:HF,LineDashedMaterial:zF,LineBasicMaterial:rs,Material:cn};cn.fromType=function(n){return new Aee[n]};const sn={arraySlice:function(n,t,e){return sn.isTypedArray(n)?new n.constructor(n.subarray(t,void 0!==e?e:n.length)):n.slice(t,e)},convertArray:function(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(function t(s,r){return n[s]-n[r]}),i},sortedArray:function(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,a=0;a!==i;++r){const c=e[r]*t;for(let d=0;d!==t;++d)s[a++]=n[c+d]}return s},flattenJSON:function(n,t,e,i){let s=1,r=n[0];for(;void 0!==r&&void 0===r[i];)r=n[s++];if(void 0===r)return;let a=r[i];if(void 0!==a)if(Array.isArray(a))do{a=r[i],void 0!==a&&(t.push(r.time),e.push.apply(e,a)),r=n[s++]}while(void 0!==r);else if(void 0!==a.toArray)do{a=r[i],void 0!==a&&(t.push(r.time),a.toArray(e,e.length)),r=n[s++]}while(void 0!==r);else do{a=r[i],void 0!==a&&(t.push(r.time),e.push(a)),r=n[s++]}while(void 0!==r)},subclip:function(n,t,e,i,s=30){const r=n.clone();r.name=t;const a=[];for(let d=0;d<r.tracks.length;++d){const h=r.tracks[d],g=h.getValueSize(),v=[],b=[];for(let C=0;C<h.times.length;++C){const D=h.times[C]*s;if(!(D<e||D>=i)){v.push(h.times[C]);for(let A=0;A<g;++A)b.push(h.values[C*g+A])}}0!==v.length&&(h.times=sn.convertArray(v,h.times.constructor),h.values=sn.convertArray(b,h.values.constructor),a.push(h))}r.tracks=a;let c=1/0;for(let d=0;d<r.tracks.length;++d)c>r.tracks[d].times[0]&&(c=r.tracks[d].times[0]);for(let d=0;d<r.tracks.length;++d)r.tracks[d].shift(-1*c);return r.resetDuration(),r},makeClipAdditive:function(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let a=0;a<s;++a){const c=e.tracks[a],d=c.ValueTypeName;if("bool"===d||"string"===d)continue;const h=n.tracks.find(function(I){return I.name===c.name&&I.ValueTypeName===d});if(void 0===h)continue;let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);let b=0;const C=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=C/3);const D=c.times.length-1;let A;if(r<=c.times[0])A=sn.arraySlice(c.values,g,v-g);else if(r>=c.times[D]){const I=D*v+g;A=sn.arraySlice(c.values,I,I+v-g)}else{const I=c.createInterpolant(),P=g,N=v-g;I.evaluate(r),A=sn.arraySlice(I.resultBuffer,P,N)}"quaternion"===d&&(new qn).fromArray(A).normalize().conjugate().toArray(A);const E=h.times.length;for(let I=0;I<E;++I){const P=I*C+b;if("quaternion"===d)qn.multiplyQuaternionsFlat(h.values,P,A,0,h.values,P);else{const N=C-2*b;for(let V=0;V<N;++V)h.values[P+V]-=A[V]}}}return n.blendMode=2501,n}};class vo{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];e:{t:{let a;i:{n:if(!(t<s)){for(let c=i+2;;){if(void 0===s){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===c)break;if(r=s,s=e[++i],t<s)break t}a=e.length;break i}if(t>=r)break e;{const c=e[1];t<c&&(i=2,r=c);for(let d=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(i===d)break;if(s=r,r=e[--i-1],t>=r)break t}a=i,i=0}}for(;i<a;){const c=i+a>>>1;t<e[c]?a=c:i=c+1}if(s=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(void 0===s)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let a=0;a!==s;++a)e[a]=i[r+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}vo.prototype.beforeStart_=vo.prototype.copySampleValue_,vo.prototype.afterEnd_=vo.prototype.copySampleValue_;class Eee extends vo{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:vu,endingEnd:vu}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,a=t+1,c=s[r],d=s[a];if(void 0===c)switch(this.getSettings_().endingStart){case yu:r=t,c=2*e-i;break;case 2402:r=s.length-2,c=e+s[r]-s[r+1];break;default:r=t,c=i}if(void 0===d)switch(this.getSettings_().endingEnd){case yu:a=t,d=2*i-e;break;case 2402:a=1,d=i+s[1]-s[0];break;default:a=t-1,d=e}const h=.5*(i-e),g=this.valueSize;this._weightPrev=h/(e-c),this._weightNext=h/(d-i),this._offsetPrev=r*g,this._offsetNext=a*g}interpolate_(t,e,i,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=t*c,h=d-c,g=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,C=this._weightNext,D=(i-e)/(s-e),A=D*D,E=A*D,I=-b*E+2*b*A-b*D,P=(1+b)*E+(-1.5-2*b)*A+(-.5+b)*D+1,N=(-1-C)*E+(1.5+C)*A+.5*D,V=C*E-C*A;for(let G=0;G!==c;++G)r[G]=I*a[g+G]+P*a[h+G]+N*a[d+G]+V*a[v+G];return r}}class GF extends vo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=t*c,h=d-c,g=(i-e)/(s-e),v=1-g;for(let b=0;b!==c;++b)r[b]=a[h+b]*v+a[d+b]*g;return r}}class Tee extends vo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ea{constructor(t,e,i,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=sn.convertArray(e,this.TimeBufferType),this.values=sn.convertArray(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:sn.convertArray(t.times,Array),values:sn.convertArray(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new Tee(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new GF(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Eee(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Yf:e=this.InterpolantFactoryMethodDiscrete;break;case _u:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Yf;case this.InterpolantFactoryMethodLinear:return _u;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,a=s-1;for(;r!==s&&i[r]<t;)++r;for(;-1!==a&&i[a]>e;)--a;if(++a,0!==r||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const c=this.getValueSize();this.times=sn.arraySlice(i,r,a),this.values=sn.arraySlice(this.values,r*c,a*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let c=0;c!==r;c++){const d=i[c];if("number"==typeof d&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),t=!1;break}if(null!==a&&a>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,a),t=!1;break}a=d}if(void 0!==s&&sn.isTypedArray(s))for(let c=0,d=s.length;c!==d;++c){const h=s[c];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,h),t=!1;break}}return t}optimize(){const t=sn.arraySlice(this.times),e=sn.arraySlice(this.values),i=this.getValueSize(),s=2302===this.getInterpolation(),r=t.length-1;let a=1;for(let c=1;c<r;++c){let d=!1;const h=t[c];if(h!==t[c+1]&&(1!==c||h!==t[0]))if(s)d=!0;else{const v=c*i,b=v-i,C=v+i;for(let D=0;D!==i;++D){const A=e[v+D];if(A!==e[b+D]||A!==e[C+D]){d=!0;break}}}if(d){if(c!==a){t[a]=t[c];const v=c*i,b=a*i;for(let C=0;C!==i;++C)e[b+C]=e[v+C]}++a}}if(r>0){t[a]=t[r];for(let c=r*i,d=a*i,h=0;h!==i;++h)e[d+h]=e[c+h];++a}return a!==t.length?(this.times=sn.arraySlice(t,0,a),this.values=sn.arraySlice(e,0,a*i)):(this.times=t,this.values=e),this}clone(){const t=sn.arraySlice(this.times,0),e=sn.arraySlice(this.values,0),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Ea.prototype.TimeBufferType=Float32Array,Ea.prototype.ValueBufferType=Float32Array,Ea.prototype.DefaultInterpolation=_u;class $u extends Ea{}$u.prototype.ValueTypeName="bool",$u.prototype.ValueBufferType=Array,$u.prototype.DefaultInterpolation=Yf,$u.prototype.InterpolantFactoryMethodLinear=void 0,$u.prototype.InterpolantFactoryMethodSmooth=void 0;class UF extends Ea{}UF.prototype.ValueTypeName="color";class yp extends Ea{}yp.prototype.ValueTypeName="number";class kee extends vo{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=(i-e)/(s-e);let h=t*c;for(let g=h+c;h!==g;h+=4)qn.slerpFlat(r,0,a,h-c,a,h,d);return r}}class Mc extends Ea{InterpolantFactoryMethodLinear(t){return new kee(this.times,this.values,this.getValueSize(),t)}}Mc.prototype.ValueTypeName="quaternion",Mc.prototype.DefaultInterpolation=_u,Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class qu extends Ea{}qu.prototype.ValueTypeName="string",qu.prototype.ValueBufferType=Array,qu.prototype.DefaultInterpolation=Yf,qu.prototype.InterpolantFactoryMethodLinear=void 0,qu.prototype.InterpolantFactoryMethodSmooth=void 0;class bp extends Ea{}bp.prototype.ValueTypeName="vector";class xp{constructor(t,e=-1,i,s=2500){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=tr(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let a=0,c=i.length;a!==c;++a)e.push(Iee(i[a]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,a=i.length;r!==a;++r)e.push(Ea.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,a=[];for(let c=0;c<r;c++){let d=[],h=[];d.push((c+r-1)%r,c,(c+1)%r),h.push(0,1,0);const g=sn.getKeyframeOrder(d);d=sn.sortedArray(d,1,g),h=sn.sortedArray(h,1,g),!s&&0===d[0]&&(d.push(r),h.push(h[0])),a.push(new yp(".morphTargetInfluences["+e[c].name+"]",d,h).scale(1/i))}return new this(t,-1,a)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,d=t.length;c<d;c++){const h=t[c],g=h.name.match(r);if(g&&g.length>1){const v=g[1];let b=s[v];b||(s[v]=b=[]),b.push(h)}}const a=[];for(const c in s)a.push(this.CreateFromMorphTargetSequence(c,s[c],e,i));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,b,C,D,A){if(0!==C.length){const E=[],I=[];sn.flattenJSON(C,E,I,D),0!==E.length&&A.push(new v(b,E,I))}},s=[],r=t.name||"default",a=t.fps||30,c=t.blendMode;let d=t.length||-1;const h=t.hierarchy||[];for(let v=0;v<h.length;v++){const b=h[v].keys;if(b&&0!==b.length)if(b[0].morphTargets){const C={};let D;for(D=0;D<b.length;D++)if(b[D].morphTargets)for(let A=0;A<b[D].morphTargets.length;A++)C[b[D].morphTargets[A]]=-1;for(const A in C){const E=[],I=[];for(let P=0;P!==b[D].morphTargets.length;++P){const N=b[D];E.push(N.time),I.push(N.morphTarget===A?1:0)}s.push(new yp(".morphTargetInfluence["+A+"]",E,I))}d=C.length*a}else{const C=".bones["+e[v].name+"]";i(bp,C+".position",b,"pos",s),i(Mc,C+".quaternion",b,"rot",s),i(bp,C+".scale",b,"scl",s)}}return 0===s.length?null:new this(r,d,s,c)}resetDuration(){let e=0;for(let i=0,s=this.tracks.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Iee(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function Ree(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return yp;case"vector":case"vector2":case"vector3":case"vector4":return bp;case"color":return UF;case"quaternion":return Mc;case"bool":case"boolean":return $u;case"string":return qu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const e=[],i=[];sn.flattenJSON(n.keys,e,i,"value"),n.times=e,n.values=i}return void 0!==t.parse?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const Zu={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class lM{constructor(t,e,i){const s=this;let d,r=!1,a=0,c=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(g){c++,!1===r&&void 0!==s.onStart&&s.onStart(g,a,c),r=!0},this.itemEnd=function(g){a++,void 0!==s.onProgress&&s.onProgress(g,a,c),a===c&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(g){void 0!==s.onError&&s.onError(g)},this.resolveURL=function(g){return d?d(g):g},this.setURLModifier=function(g){return d=g,this},this.addHandler=function(g,v){return h.push(g,v),this},this.removeHandler=function(g){const v=h.indexOf(g);return-1!==v&&h.splice(v,2),this},this.getHandler=function(g){for(let v=0,b=h.length;v<b;v+=2){const C=h[v],D=h[v+1];if(C.global&&(C.lastIndex=0),C.test(g))return D}return null}}}const Pee=new lM;class Ta{constructor(t){this.manager=void 0!==t?t:Pee,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const yo={};class ka extends Ta{constructor(t){super(t)}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=Zu.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==yo[t])return void yo[t].push({onLoad:e,onProgress:i,onError:s});yo[t]=[],yo[t].push({onLoad:e,onProgress:i,onError:s});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,d=this.responseType;fetch(a).then(h=>{if(200===h.status||0===h.status){if(0===h.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===h.body||void 0===h.body.getReader)return h;const g=yo[t],v=h.body.getReader(),b=h.headers.get("Content-Length"),C=b?parseInt(b):0,D=0!==C;let A=0;const E=new ReadableStream({start(I){!function P(){v.read().then(({done:N,value:V})=>{if(N)I.close();else{A+=V.byteLength;const G=new ProgressEvent("progress",{lengthComputable:D,loaded:A,total:C});for(let q=0,ee=g.length;q<ee;q++){const ae=g[q];ae.onProgress&&ae.onProgress(G)}I.enqueue(V),P()}})}()}});return new Response(E)}throw Error(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(g=>(new DOMParser).parseFromString(g,c));case"json":return h.json();default:if(void 0===c)return h.text();{const v=/charset="?([^;"\s]*)"?/i.exec(c),b=v&&v[1]?v[1].toLowerCase():void 0,C=new TextDecoder(b);return h.arrayBuffer().then(D=>C.decode(D))}}}).then(h=>{Zu.add(t,h);const g=yo[t];delete yo[t];for(let v=0,b=g.length;v<b;v++){const C=g[v];C.onLoad&&C.onLoad(h)}}).catch(h=>{const g=yo[t];if(void 0===g)throw this.manager.itemError(t),h;delete yo[t];for(let v=0,b=g.length;v<b;v++){const C=g[v];C.onError&&C.onError(h)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Fv extends Ta{constructor(t){super(t)}load(t,e,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=Zu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const c=Kf("img");function d(){g(),Zu.add(t,this),e&&e(this),r.manager.itemEnd(t)}function h(v){g(),s&&s(v),r.manager.itemError(t),r.manager.itemEnd(t)}function g(){c.removeEventListener("load",d,!1),c.removeEventListener("error",h,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",h,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin),r.manager.itemStart(t),c.src=t,c}}class Lee extends Ta{constructor(t){super(t)}load(t,e,i,s){const r=new tp,a=new Fv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let c=0;function d(h){a.load(t[h],function(g){r.images[h]=g,c++,6===c&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let h=0;h<t.length;++h)d(h);return r}}class Oee extends Ta{constructor(t){super(t)}load(t,e,i,s){const r=this,a=new Uu,c=new ka(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(t,function(d){const h=r.parse(d);!h||(void 0!==h.image?a.image=h.image:void 0!==h.data&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=void 0!==h.wrapS?h.wrapS:Ps,a.wrapT=void 0!==h.wrapT?h.wrapT:Ps,a.magFilter=void 0!==h.magFilter?h.magFilter:$i,a.minFilter=void 0!==h.minFilter?h.minFilter:$i,a.anisotropy=void 0!==h.anisotropy?h.anisotropy:1,void 0!==h.encoding&&(a.encoding=h.encoding),void 0!==h.flipY&&(a.flipY=h.flipY),void 0!==h.format&&(a.format=h.format),void 0!==h.type&&(a.type=h.type),void 0!==h.mipmaps&&(a.mipmaps=h.mipmaps,a.minFilter=rl),1===h.mipmapCount&&(a.minFilter=$i),void 0!==h.generateMipmaps&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,e&&e(a,h))},i,s),a}}class WF extends Ta{constructor(t){super(t)}load(t,e,i,s){const r=new bs,a=new Fv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(c){r.image=c,r.needsUpdate=!0,void 0!==e&&e(r)},i,s),r}}class Ra extends Oi{constructor(t,e=1){super(),this.type="Light",this.color=new Je(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Ra.prototype.isLight=!0;class cM extends Ra{constructor(t,e,i){super(t,i),this.type="HemisphereLight",this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.groundColor=new Je(e)}copy(t){return Ra.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}cM.prototype.isHemisphereLight=!0;const jF=new St,YF=new $,XF=new $;class dM{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ke(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new J_,this._frameExtents=new ke(1,1),this._viewportCount=1,this._viewports=[new Hi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;YF.setFromMatrixPosition(t.matrixWorld),e.position.copy(YF),XF.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(XF),e.updateMatrixWorld(),jF.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jF),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class $F extends dM{constructor(){super(new Kn(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,i=2*qf*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}$F.prototype.isSpotLightShadow=!0;class uM extends Ra{constructor(t,e,i=0,s=Math.PI/3,r=0,a=1){super(t,e),this.type="SpotLight",this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.target=new Oi,this.distance=i,this.angle=s,this.penumbra=r,this.decay=a,this.shadow=new $F}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}uM.prototype.isSpotLight=!0;const qF=new St,wp=new $,hM=new $;class ZF extends dM{constructor(){super(new Kn(90,1,.5,500)),this._frameExtents=new ke(4,2),this._viewportCount=6,this._viewports=[new Hi(2,1,1,1),new Hi(0,1,1,1),new Hi(3,1,1,1),new Hi(1,1,1,1),new Hi(3,0,1,1),new Hi(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),wp.setFromMatrixPosition(t.matrixWorld),i.position.copy(wp),hM.copy(i.position),hM.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(hM),i.updateMatrixWorld(),s.makeTranslation(-wp.x,-wp.y,-wp.z),qF.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(qF)}}ZF.prototype.isPointLightShadow=!0;class fM extends Ra{constructor(t,e,i=0,s=1){super(t,e),this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new ZF}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}fM.prototype.isPointLight=!0;class KF extends dM{constructor(){super(new np(-5,5,5,-5,.5,500))}}KF.prototype.isDirectionalLightShadow=!0;class pM extends Ra{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(Oi.DefaultUp),this.updateMatrix(),this.target=new Oi,this.shadow=new KF}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}pM.prototype.isDirectionalLight=!0;class gM extends Ra{constructor(t,e){super(t,e),this.type="AmbientLight"}}gM.prototype.isAmbientLight=!0;(class QF extends Ra{constructor(t,e,i=10,s=10){super(t,e),this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class JF{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new $)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*s),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*i),e.addScaledVector(a[4],i*s*1.092548),e.addScaledVector(a[5],s*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],i*r*1.092548),e.addScaledVector(a[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*s),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*i),e.addScaledVector(a[4],.858086*i*s),e.addScaledVector(a[5],.858086*s*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*i*r),e.addScaledVector(a[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}JF.prototype.isSphericalHarmonics3=!0;class Nv extends Ra{constructor(t=new JF,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Nv.prototype.isLightProbe=!0;class Ia{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(i){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}(class e2 extends Xt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}).prototype.isInstancedBufferGeometry=!0;class s2 extends Ta{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=Zu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include",c.headers=this.requestHeader,fetch(t,c).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){Zu.add(t,d),e&&e(d),r.manager.itemEnd(t)}).catch(function(d){s&&s(d),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let Bv;s2.prototype.isImageBitmapLoader=!0;class Vee extends Ta{constructor(t){super(t)}load(t,e,i,s){const r=this,a=new ka(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(c){try{const d=c.slice(0);(void 0===Bv&&(Bv=new(window.AudioContext||window.webkitAudioContext)),Bv).decodeAudioData(d,function(g){e(g)})}catch(d){s?s(d):console.error(d),r.manager.itemError(t)}},i,s)}}(class Hee extends Nv{constructor(t,e,i=1){super(void 0,i);const s=(new Je).set(t),r=(new Je).set(e),a=new $(s.r,s.g,s.b),c=new $(r.r,r.g,r.b),d=Math.sqrt(Math.PI),h=d*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(c).multiplyScalar(d),this.sh.coefficients[1].copy(a).sub(c).multiplyScalar(h)}}).prototype.isHemisphereLightProbe=!0,class zee extends Nv{constructor(t,e=1){super(void 0,e);const i=(new Je).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class l2{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=c2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=c2();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function c2(){return("undefined"==typeof performance?Date:performance).now()}class Yee{constructor(t,e,i){let s,r,a;switch(this.binding=t,this.valueSize=i,e){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let a=this.cumulativeWeight;if(0===a){for(let c=0;c!==s;++c)i[r+c]=i[c];a=e}else a+=e,this._mixBufferRegion(i,r,0,e/a,s);this.cumulativeWeight=a}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,c=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(i,s,e*this._origIndex,1-r,e),a>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let d=e,h=e+e;d!==h;++d)if(i[d]!==i[d+e]){c.setValue(i,s);break}}saveOriginalState(){const e=this.buffer,i=this.valueSize,s=i*this._origIndex;this.binding.getValue(e,s);for(let r=i,a=s;r!==a;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let a=0;a!==r;++a)t[e+a]=t[i+a]}_slerp(t,e,i,s){qn.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const a=this._workIndex*r;qn.multiplyQuaternionsFlat(t,a,t,e,t,i),qn.slerpFlat(t,e,t,e,t,a,s)}_lerp(t,e,i,s,r){const a=1-s;for(let c=0;c!==r;++c){const d=e+c;t[d]=t[d]*a+t[i+c]*s}}_lerpAdditive(t,e,i,s,r){for(let a=0;a!==r;++a){const c=e+a;t[c]=t[c]+t[i+a]*s}}}const mM="\\[\\]\\.:\\/",Xee=new RegExp("["+mM+"]","g"),_M="[^"+mM+"]",$ee="[^"+mM.replace("\\.","")+"]",qee=/((?:WC+[\/:])*)/.source.replace("WC",_M),Zee=/(WCOD+)?/.source.replace("WCOD",$ee),Kee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_M),Qee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_M),Jee=new RegExp("^"+qee+Zee+Kee+Qee+"$"),ete=["material","materials","bones"];class tte{constructor(t,e,i){const s=i||qi.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let qi=(()=>{class n{constructor(e,i,s){this.path=i,this.parsedPath=s||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,s){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,s):new n(e,i,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Xee,"")}static parseTrackName(e){const i=Jee.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const a=s.nodeName.substring(r+1);-1!==ete.indexOf(a)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=a)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(i);if(void 0!==s)return s}if(e.children){const s=function(a){for(let c=0;c<a.length;c++){const d=a[c];if(d.name===i||d.uuid===i)return d;const h=s(d.children);if(h)return h}return null},r=s(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)e[i++]=s[r]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,s=i.objectName,r=i.propertyName;let a=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(s){let g=i.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===g){g=v;break}break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==g){if(void 0===e[g])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[g]}}const c=e[r];if(void 0===c)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+r+" but it wasn't found.",e);let d=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=a}else void 0!==c.fromArray&&void 0!==c.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(h=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=tte,n})();qi.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},qi.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},qi.prototype.GetterByBindingType=[qi.prototype._getValue_direct,qi.prototype._getValue_array,qi.prototype._getValue_arrayElement,qi.prototype._getValue_toArray],qi.prototype.SetterByBindingTypeAndVersioning=[[qi.prototype._setValue_direct,qi.prototype._setValue_direct_setNeedsUpdate,qi.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_array,qi.prototype._setValue_array_setNeedsUpdate,qi.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_arrayElement,qi.prototype._setValue_arrayElement_setNeedsUpdate,qi.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qi.prototype._setValue_fromArray,qi.prototype._setValue_fromArray_setNeedsUpdate,qi.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class nte{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,a=r.length,c=new Array(a),d={endingStart:vu,endingEnd:vu};for(let h=0;h!==a;++h){const g=r[h].createInterpolant(null);c[h]=g,g.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,c=s/r;t.warp(1,r/s,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,a=this.timeScale;let c=this._timeScaleInterpolant;null===c&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,h=c.sampleValues;return d[0]=r,d[1]=r+i,h[0]=t/a,h[1]=e/a,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const d=(t-r)*i;if(d<0||0===i)return;this._startTime=null,e=i*d}e*=this._updateTimeScale(t);const a=this._updateTime(e),c=this._updateWeight(t);if(c>0){const d=this._interpolants,h=this._propertyBindings;if(2501===this.blendMode)for(let g=0,v=d.length;g!==v;++g)d[g].evaluate(a),h[g].accumulateAdditive(c);else for(let g=0,v=d.length;g!==v;++g)d[g].evaluate(a),h[g].accumulate(s,c)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const a=2202===i;if(0===t)return-1===r?s:a&&1==(1&r)?e-s:s;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break e}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,r+=Math.abs(c);const d=this.repetitions-r;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===d){const h=t<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(a&&1==(1&r))return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=yu,s.endingEnd=yu):(s.endingStart=t?this.zeroSlopeAtStart?yu:vu:2402,s.endingEnd=e?this.zeroSlopeAtEnd?yu:vu:2402)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let a=this._weightInterpolant;null===a&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const c=a.parameterPositions,d=a.sampleValues;return c[0]=r,d[0]=e,c[1]=r+t,d[1]=i,this}}class h2 extends al{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,a=t._propertyBindings,c=t._interpolants,d=i.uuid,h=this._bindingsByRootAndName;let g=h[d];void 0===g&&(g={},h[d]=g);for(let v=0;v!==r;++v){const b=s[v],C=b.name;let D=g[C];if(void 0!==D)++D.referenceCount,a[v]=D;else{if(D=a[v],void 0!==D){null===D._cacheIndex&&(++D.referenceCount,this._addInactiveBinding(D,d,C));continue}D=new Yee(qi.create(i,C,e&&e._propertyBindings[v].binding.parsedPath),b.ValueTypeName,b.getValueSize()),++D.referenceCount,this._addInactiveBinding(D,d,C),a[v]=D}c[v].resultBuffer=D.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{const c=a.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),a.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,a=this._actionsByClip,c=a[r],d=c.knownActions,h=d[d.length-1],g=t._byClipCacheIndex;h._byClipCacheIndex=g,d[g]=h,d.pop(),t._byClipCacheIndex=null,delete c.actionByRoot[(t._localRoot||this._root).uuid],0===d.length&&delete a[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[e];void 0===a&&(a={},s[e]=a),a[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,c=a[s],d=e[e.length-1],h=t._cacheIndex;d._cacheIndex=h,e[h]=d,e.pop(),delete c[r],0===Object.keys(c).length&&delete a[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new GF(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let a="string"==typeof t?xp.findByName(s,t):t;const c=null!==a?a.uuid:t,d=this._actionsByClip[c];let h=null;if(void 0===i&&(i=null!==a?a.blendMode:2500),void 0!==d){const v=d.actionByRoot[r];if(void 0!==v&&v.blendMode===i)return v;h=d.knownActions[0],null===a&&(a=h._clip)}if(null===a)return null;const g=new nte(this,a,e,i);return this._bindAction(g,h),this._addInactiveAction(g,c,r),g}existingAction(t,e){const i=e||this._root,s=i.uuid,r="string"==typeof t?xp.findByName(i,t):t,c=this._actionsByClip[r?r.uuid:t];return void 0!==c&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)t[i].stop();return this}update(t){const e=this._actions,i=this._nActiveActions,s=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1;for(let h=0;h!==i;++h)e[h]._update(s,t,r,a);const c=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)c[h].apply(a);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(void 0!==r){const a=r.knownActions;for(let c=0,d=a.length;c!==d;++c){const h=a[c];this._deactivateAction(h);const g=h._cacheIndex,v=e[e.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,v._cacheIndex=g,e[g]=v,e.pop(),this._removeInactiveBindingsForAction(h)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const a in i){const d=i[a].actionByRoot[e];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const a in r){const c=r[a];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}h2.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class vM{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new vM(void 0===this.value.clone?this.value:this.value.clone())}}(class ste extends wc{constructor(t,e,i=1){super(t,e),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}).prototype.isInstancedInterleavedBuffer=!0;class p2{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Mn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const g2=new ke;class Cp{constructor(t=new ke(1/0,1/0),e=new ke(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=g2.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return g2.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}Cp.prototype.isBox2=!0;const wl=new $,Hv=new St,bM=new St;function v2(n){const t=[];!0===n.isBone&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,v2(n.children[e]));return t}class jv{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Mn(t,-65504,65504),S2[0]=t;const e=D2[0],i=e>>23&511;return aa[i]+((8388607&e)>>oa[i])}static fromHalfFloat(t){const e=t>>10;return D2[0]=wM[A2[e]+(1023&t)]+Ku[e],S2[0]}}const M2=new ArrayBuffer(4),S2=new Float32Array(M2),D2=new Uint32Array(M2),aa=new Uint32Array(512),oa=new Uint32Array(512);for(let n=0;n<256;++n){const t=n-127;t<-27?(aa[n]=0,aa[256|n]=32768,oa[n]=24,oa[256|n]=24):t<-14?(aa[n]=1024>>-t-14,aa[256|n]=1024>>-t-14|32768,oa[n]=-t-1,oa[256|n]=-t-1):t<=15?(aa[n]=t+15<<10,aa[256|n]=t+15<<10|32768,oa[n]=13,oa[256|n]=13):t<128?(aa[n]=31744,aa[256|n]=64512,oa[n]=24,oa[256|n]=24):(aa[n]=31744,aa[256|n]=64512,oa[n]=13,oa[256|n]=13)}const wM=new Uint32Array(2048),Ku=new Uint32Array(64),A2=new Uint32Array(64);for(let n=1;n<1024;++n){let t=n<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,wM[n]=t|e}for(let n=1024;n<2048;++n)wM[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Ku[n]=n<<23;Ku[31]=1199570944,Ku[32]=2147483648;for(let n=33;n<63;++n)Ku[n]=2147483648+(n-32<<23);Ku[63]=3347054592;for(let n=1;n<64;++n)32!==n&&(A2[n]=1024);Ar.create=function(n,t){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(Ar.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n},up.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)},class cte extends Cc{constructor(t=10,e=10,i=4473924,s=8947848){i=new Je(i),s=new Je(s);const r=e/2,a=t/e,c=t/2,d=[],h=[];for(let b=0,C=0,D=-c;b<=e;b++,D+=a){d.push(-c,0,D,c,0,D),d.push(D,0,-c,D,0,c);const A=b===r?i:s;A.toArray(h,C),C+=3,A.toArray(h,C),C+=3,A.toArray(h,C),C+=3,A.toArray(h,C),C+=3}const g=new Xt;g.setAttribute("position",new Dt(d,3)),g.setAttribute("color",new Dt(h,3)),super(g,new rs({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class ote extends Cc{constructor(t){const e=v2(t),i=new Xt,s=[],r=[],a=new Je(0,0,1),c=new Je(0,1,0);for(let h=0;h<e.length;h++){const g=e[h];g.parent&&g.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(c.r,c.g,c.b))}i.setAttribute("position",new Dt(s,3)),i.setAttribute("color",new Dt(r,3)),super(i,new rs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");bM.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<e.length;r++){const c=e[r];c.parent&&c.parent.isBone&&(Hv.multiplyMatrices(bM,c.matrixWorld),wl.setFromMatrixPosition(Hv),s.setXYZ(a,wl.x,wl.y,wl.z),Hv.multiplyMatrices(bM,c.parent.matrixWorld),wl.setFromMatrixPosition(Hv),s.setXYZ(a+1,wl.x,wl.y,wl.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ta.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ia.extractUrlBase(n)},Ta.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Cp.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},Cp.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Cp.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},Cp.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)},nr.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},nr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},nr.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},nr.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},nr.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)},vc.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},cl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},J_.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},ns.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)},ns.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},ns.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},ns.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},ns.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},ns.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},St.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},St.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)},St.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new $).setFromMatrixColumn(this,3)},St.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},St.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},St.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},St.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},St.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},St.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},St.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},St.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},St.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},St.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},St.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},St.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},St.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},St.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},St.prototype.makeFrustum=function(n,t,e,i,s,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,t,i,e,s,r)},St.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},po.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},qn.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},qn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},_c.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},_c.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},_c.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},On.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},On.prototype.barycoordFromPoint=function(n,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,t)},On.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},On.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},On.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)},On.barycoordFromPoint=function(n,t,e,i,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),On.getBarycoord(n,t,e,i,s)},On.normal=function(n,t,e,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),On.getNormal(n,t,e,i)},mo.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},mo.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new bl(this,n)},mo.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new _p(this,n)},ke.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},ke.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},ke.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},$.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},$.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},$.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},$.prototype.getColumnFromMatrix=function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)},$.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},$.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},$.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},$.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Hi.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},Hi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Oi.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},Oi.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Oi.prototype.translate=function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)},Oi.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Oi.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(Oi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Zn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Zn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),cv.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Kn.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(n)},Object.defineProperties(Ra.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(Wi.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===$f},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage($f)}}}),Wi.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?$f:Xf),this},Wi.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Wi.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Xt.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},Xt.prototype.addAttribute=function(n,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===n?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(n,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new Wi(arguments[1],arguments[2])))},Xt.prototype.addDrawCall=function(n,t,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,t)},Xt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Xt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Xt.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)},Xt.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(Xt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),wc.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?$f:Xf),this},wc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},bl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},bl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},bl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},sv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},vM.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(cn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Je}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(ra.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),zi.prototype.clearTarget=function(n,t,e,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(t,e,i)},zi.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},zi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},zi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},zi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},zi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},zi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},zi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},zi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},zi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},zi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},zi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},zi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},zi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},zi.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},zi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},zi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},zi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},zi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},zi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},zi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},zi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},zi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},zi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},zi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(zi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===n?Ri:ea}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(ZO.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ir.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),class Uee extends Oi{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Vee).load(n,function(i){t.setBuffer(i)}),this},PC.prototype.updateCubeMap=function(n,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,t)},PC.prototype.clear=function(n,t,e,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,t,e,i)},fc.crossOrigin=void 0,fc.loadTexture=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new WF;s.setCrossOrigin(this.crossOrigin);const r=s.load(n,e,void 0,i);return t&&(r.mapping=t),r},fc.loadTextureCube=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new Lee;s.setCrossOrigin(this.crossOrigin);const r=s.load(n,e,void 0,i);return t&&(r.mapping=t),r},fc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},fc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"139"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="139");class dte extends Ta{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new pte(e)}),this.register(function(e){return new bte(e)}),this.register(function(e){return new xte(e)}),this.register(function(e){return new gte(e)}),this.register(function(e){return new mte(e)}),this.register(function(e){return new _te(e)}),this.register(function(e){return new vte(e)}),this.register(function(e){return new yte(e)}),this.register(function(e){return new hte(e)}),this.register(function(e){return new wte(e)})}load(t,e,i,s){const r=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ia.extractUrlBase(t),this.manager.itemStart(t);const c=function(h){s?s(h):console.error(h),r.manager.itemError(t),r.manager.itemEnd(t)},d=new ka(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,function(h){try{r.parse(h,a,function(g){e(g),r.manager.itemEnd(t)},c)}catch(g){c(g)}},i,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,s){let r;const a={},c={};if("string"==typeof t)r=t;else if(Ia.decodeText(new Uint8Array(t,0,4))===E2){try{a[Di.KHR_BINARY_GLTF]=new Cte(t)}catch(v){return void(s&&s(v))}r=a[Di.KHR_BINARY_GLTF].content}else r=Ia.decodeText(new Uint8Array(t));const d=JSON.parse(r);if(void 0===d.asset||d.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new Fte(d,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let g=0;g<this.pluginCallbacks.length;g++){const v=this.pluginCallbacks[g](h);c[v.name]=v,a[v.name]=!0}if(d.extensionsUsed)for(let g=0;g<d.extensionsUsed.length;++g){const v=d.extensionsUsed[g],b=d.extensionsRequired||[];switch(v){case Di.KHR_MATERIALS_UNLIT:a[v]=new fte;break;case Di.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[v]=new Dte;break;case Di.KHR_DRACO_MESH_COMPRESSION:a[v]=new Mte(d,this.dracoLoader);break;case Di.KHR_TEXTURE_TRANSFORM:a[v]=new Ste;break;case Di.KHR_MESH_QUANTIZATION:a[v]=new Ate;break;default:b.indexOf(v)>=0&&void 0===c[v]&&console.warn('THREE.GLTFLoader: Unknown extension "'+v+'".')}}h.setExtensions(a),h.setPlugins(c),h.parse(i,s)}parseAsync(t,e){const i=this;return new Promise(function(s,r){i.parse(t,e,s,r)})}}function ute(){let n={};return{get:function(t){return n[t]},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},removeAll:function(){n={}}}}const Di={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class hte{constructor(t){this.parser=t,this.name=Di.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,s=e.length;i<s;i++){const r=e[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let s=e.cache.get(i);if(s)return s;const r=e.json,d=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let h;const g=new Je(16777215);void 0!==d.color&&g.fromArray(d.color);const v=void 0!==d.range?d.range:0;switch(d.type){case"directional":h=new pM(g),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new fM(g),h.distance=v;break;case"spot":h=new uM(g),h.distance=v,d.spot=d.spot||{},d.spot.innerConeAngle=void 0!==d.spot.innerConeAngle?d.spot.innerConeAngle:0,d.spot.outerConeAngle=void 0!==d.spot.outerConeAngle?d.spot.outerConeAngle:Math.PI/4,h.angle=d.spot.outerConeAngle,h.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return h.position.set(0,0,0),h.decay=2,void 0!==d.intensity&&(h.intensity=d.intensity),h.name=e.createUniqueName(d.name||"light_"+t),s=Promise.resolve(h),e.cache.add(i,s),s}createNodeAttachment(t){const e=this,i=this.parser,r=i.json.nodes[t],c=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===c?null:this._loadLight(c).then(function(d){return i._getNodeRef(e.cache,c,d)})}}class fte{constructor(){this.name=Di.KHR_MATERIALS_UNLIT}getMaterialType(){return rr}extendParams(t,e,i){const s=[];t.color=new Je(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==r.baseColorTexture&&s.push(i.assignTexture(t,"map",r.baseColorTexture,Ri))}return Promise.all(s)}}class pte{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(i.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(i.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(i.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const c=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new ke(c,c)}return Promise.all(r)}}class gte{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new Je(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=s.extensions[this.name];return void 0!==a.sheenColorFactor&&e.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(e.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&r.push(i.assignTexture(e,"sheenColorMap",a.sheenColorTexture,Ri)),void 0!==a.sheenRoughnessTexture&&r.push(i.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class mte{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&r.push(i.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class _te{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&r.push(i.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||0;const c=a.attenuationColor||[1,1,1];return e.attenuationColor=new Je(c[0],c[1],c[2]),Promise.all(r)}}class vte{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class yte{constructor(t){this.parser=t,this.name=Di.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?xl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&r.push(i.assignTexture(e,"specularIntensityMap",a.specularTexture));const c=a.specularColorFactor||[1,1,1];return e.specularColor=new Je(c[0],c[1],c[2]),void 0!==a.specularColorTexture&&r.push(i.assignTexture(e,"specularColorMap",a.specularColorTexture,Ri)),Promise.all(r)}}class bte{constructor(t){this.parser=t,this.name=Di.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,a)}}class xte{constructor(t){this.parser=t,this.name=Di.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const a=r.extensions[e],c=s.images[a.source];let d=i.textureLoader;if(c.uri){const h=i.options.manager.getHandler(c.uri);null!==h&&(d=h)}return this.detectSupport().then(function(h){if(h)return i.loadTextureImage(t,a.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class wte{constructor(t){this.name=Di.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,a.ready]).then(function(c){const d=s.byteOffset||0,h=s.byteLength||0,g=s.count,v=s.byteStride,b=new ArrayBuffer(g*v),C=new Uint8Array(c[0],d,h);return a.decodeGltfBuffer(new Uint8Array(b),g,v,C,s.mode,s.filter),b})}return null}}const E2="glTF";class Cte{constructor(t){this.name=Di.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:Ia.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==E2)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,s=new DataView(t,12);let r=0;for(;r<i;){const a=s.getUint32(r,!0);r+=4;const c=s.getUint32(r,!0);if(r+=4,1313821514===c){const d=new Uint8Array(t,12+r,a);this.content=Ia.decodeText(d)}else if(5130562===c){const d=12+r;this.body=t.slice(d,d+a)}r+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Mte{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Di.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,s=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,c={},d={},h={};for(const g in a){const v=MM[g]||g.toLowerCase();c[v]=a[g]}for(const g in t.attributes){const v=MM[g]||g.toLowerCase();if(void 0!==a[g]){const b=i.accessors[t.attributes[g]];h[v]=Sp[b.componentType],d[v]=!0===b.normalized}}return e.getDependency("bufferView",r).then(function(g){return new Promise(function(v){s.decodeDracoFile(g,function(b){for(const C in b.attributes){const D=b.attributes[C],A=d[C];void 0!==A&&(D.normalized=A)}v(b)},c,h)})})}}class Ste{constructor(){this.name=Di.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class CM extends Xu{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new Je).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=c,this.onBeforeCompile=function(d){for(const h in c)d.uniforms[h]=c[h];d.fragmentShader=d.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return c.specular.value},set:function(d){c.specular.value=d}},specularMap:{get:function(){return c.specularMap.value},set:function(d){c.specularMap.value=d,d?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(d){c.glossiness.value=d}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(d){c.glossinessMap.value=d,d?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Dte{constructor(){this.name=Di.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return CM}extendParams(t,e,i){const s=e.extensions[this.name];t.color=new Je(1,1,1),t.opacity=1;const r=[];if(Array.isArray(s.diffuseFactor)){const a=s.diffuseFactor;t.color.fromArray(a),t.opacity=a[3]}if(void 0!==s.diffuseTexture&&r.push(i.assignTexture(t,"map",s.diffuseTexture,Ri)),t.emissive=new Je(0,0,0),t.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,t.specular=new Je(1,1,1),Array.isArray(s.specularFactor)&&t.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){const a=s.specularGlossinessTexture;r.push(i.assignTexture(t,"glossinessMap",a)),r.push(i.assignTexture(t,"specularMap",a,Ri))}return Promise.all(r)}createMaterial(t){const e=new CM(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class Ate{constructor(){this.name=Di.KHR_MESH_QUANTIZATION}}class kc extends vo{constructor(t,e,i,s){super(t,e,i,s)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s*3+s;for(let a=0;a!==s;a++)e[a]=i[r+a];return e}}kc.prototype.beforeStart_=kc.prototype.copySampleValue_,kc.prototype.afterEnd_=kc.prototype.copySampleValue_,kc.prototype.interpolate_=function(n,t,e,i){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,c=2*a,d=3*a,h=i-t,g=(e-t)/h,v=g*g,b=v*g,C=n*d,D=C-d,A=-2*b+3*v,E=b-v,I=1-A,P=E-v+g;for(let N=0;N!==a;N++)s[N]=I*r[D+N+a]+P*(r[D+N+c]*h)+A*r[C+N+a]+E*(r[C+N]*h);return s};const Ete=new qn;class Tte extends kc{interpolate_(t,e,i,s){const r=super.interpolate_(t,e,i,s);return Ete.fromArray(r).normalize().toArray(r),r}}const Sp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k2={9728:Ln,9729:$i,9984:1004,9985:1007,9986:1005,9987:rl},R2={33071:Ps,33648:1002,10497:ac},I2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},MM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Cl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kte={CUBICSPLINE:void 0,LINEAR:_u,STEP:Yf};function Dp(n,t,e){for(const i in e.extensions)void 0===n[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function Rc(n,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(n.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Pte(n,t){if(n.updateMorphTargets(),void 0!==t.weights)for(let e=0,i=t.weights.length;e<i;e++)n.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(n.morphTargetInfluences.length===e.length){n.morphTargetDictionary={};for(let i=0,s=e.length;i<s;i++)n.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Lte(n){const t=n.extensions&&n.extensions[Di.KHR_DRACO_MESH_COMPRESSION];let e;return e=t?"draco:"+t.bufferView+":"+t.indices+":"+P2(t.attributes):n.indices+":"+P2(n.attributes)+":"+n.mode,e}function P2(n){let t="";const e=Object.keys(n).sort();for(let i=0,s=e.length;i<s;i++)t+=e[i]+":"+n[e[i]]+";";return t}function DM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Fte{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new ute,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?new s2(this.options.manager):new WF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ka(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(a){const c={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:i,userData:{}};Dp(r,c,s),Rc(c,s),Promise.all(i._invokeAll(function(d){return d.afterRoot&&d.afterRoot(c)})).then(function(){t(c)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=e.length;s<r;s++){const a=e[s].joints;for(let c=0,d=a.length;c<d;c++)t[a[c]].isBone=!0}for(let s=0,r=t.length;s<r;s++){const a=t[s];void 0!==a.mesh&&(this._addNodeRef(this.meshCache,a.mesh),void 0!==a.skin&&(i[a.mesh].isSkinnedMesh=!0)),void 0!==a.camera&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const s=i.clone(),r=(a,c)=>{const d=this.associations.get(a);null!=d&&this.associations.set(c,d);for(const[h,g]of a.children.entries())r(g,c.children[h])};return r(i,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const s=t(e[i]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let s=0;s<e.length;s++){const r=t(e[s]);r&&i.push(r)}return i}getDependency(t,e){const i=t+":"+e;let s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this.loadNode(e);break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this.loadAnimation(e);break;case"camera":s=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(i,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(r,a){return i.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Di.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){i.load(Ia.resolveURL(e.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const r=e.byteOffset||0;return i.slice(r,r+(e.byteLength||0))})}loadAccessor(t){const e=this,i=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);const r=[];return r.push(void 0!==s.bufferView?this.getDependency("bufferView",s.bufferView):null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const c=a[0],d=I2[s.type],h=Sp[s.componentType],g=h.BYTES_PER_ELEMENT,b=s.byteOffset||0,C=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,D=!0===s.normalized;let A,E;if(C&&C!==g*d){const I=Math.floor(b/C),P="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+I+":"+s.count;let N=e.cache.get(P);N||(A=new h(c,I*C,s.count*C/g),N=new wc(A,C/g),e.cache.add(P,N)),E=new ml(N,d,b%C/g,D)}else A=null===c?new h(s.count*d):new h(c,b,s.count*d),E=new Wi(A,d,D);if(void 0!==s.sparse){const V=s.sparse.values.byteOffset||0,G=new(0,Sp[s.sparse.indices.componentType])(a[1],s.sparse.indices.byteOffset||0,s.sparse.count*I2.SCALAR),q=new h(a[2],V,s.sparse.count*d);null!==c&&(E=new Wi(E.array.slice(),E.itemSize,E.normalized));for(let ee=0,ae=G.length;ee<ae;ee++){const ue=G[ee];if(E.setX(ue,q[ee*d]),d>=2&&E.setY(ue,q[ee*d+1]),d>=3&&E.setZ(ue,q[ee*d+2]),d>=4&&E.setW(ue,q[ee*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(t){const e=this.json,r=e.textures[t].source,a=e.images[r];let c=this.textureLoader;if(a.uri){const d=this.options.manager.getHandler(a.uri);null!==d&&(c=d)}return this.loadTextureImage(t,r,c)}loadTextureImage(t,e,i){const s=this,r=this.json,a=r.textures[t],c=r.images[e],d=(c.uri||c.bufferView)+":"+a.sampler;if(this.textureCache[d])return this.textureCache[d];const h=this.loadImageSource(e,i).then(function(g){g.flipY=!1,a.name&&(g.name=a.name);const b=(r.samplers||{})[a.sampler]||{};return g.magFilter=k2[b.magFilter]||$i,g.minFilter=k2[b.minFilter]||rl,g.wrapS=R2[b.wrapS]||ac,g.wrapT=R2[b.wrapT]||ac,s.associations.set(g,{textures:t}),g}).catch(function(){return null});return this.textureCache[d]=h,h}loadImageSource(t,e){const s=this.json,r=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(v=>v.clone());const a=s.images[t],c=self.URL||self.webkitURL;let d=a.uri||"",h=!1;if(void 0!==a.bufferView)d=this.getDependency("bufferView",a.bufferView).then(function(v){h=!0;const b=new Blob([v],{type:a.mimeType});return d=c.createObjectURL(b),d});else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const g=Promise.resolve(d).then(function(v){return new Promise(function(b,C){let D=b;!0===e.isImageBitmapLoader&&(D=function(A){const E=new bs(A);E.needsUpdate=!0,b(E)}),e.load(Ia.resolveURL(v,r.path),D,void 0,C)})}).then(function(v){return!0===h&&c.revokeObjectURL(d),v.userData.mimeType=a.mimeType||function Ote(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),v});return this.sourceCache[t]=g,g}assignTexture(t,e,i,s){const r=this;return this.getDependency("texture",i.index).then(function(a){if(void 0!==i.texCoord&&0!=i.texCoord&&!("aoMap"===e&&1==i.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+e+" not yet supported."),r.extensions[Di.KHR_TEXTURE_TRANSFORM]){const c=void 0!==i.extensions?i.extensions[Di.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const d=r.associations.get(a);a=r.extensions[Di.KHR_TEXTURE_TRANSFORM].extendTexture(a,c),r.associations.set(a,d)}}return void 0!==s&&(a.encoding=s),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const s=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,a=void 0===e.attributes.normal;if(t.isPoints){const c="PointsMaterial:"+i.uuid;let d=this.cache.get(c);d||(d=new pv,cn.prototype.copy.call(d,i),d.color.copy(i.color),d.map=i.map,d.sizeAttenuation=!1,this.cache.add(c,d)),i=d}else if(t.isLine){const c="LineBasicMaterial:"+i.uuid;let d=this.cache.get(c);d||(d=new rs,cn.prototype.copy.call(d,i),d.color.copy(i.color),this.cache.add(c,d)),i=d}if(s||r||a){let c="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),s&&(c+="derivative-tangents:"),r&&(c+="vertex-colors:"),a&&(c+="flat-shading:");let d=this.cache.get(c);d||(d=i.clone(),r&&(d.vertexColors=!0),a&&(d.flatShading=!0),s&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(i))),i=d}i.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=i}getMaterialType(){return Xu}loadMaterial(t){const e=this,s=this.extensions,r=this.json.materials[t];let a;const c={},d=r.extensions||{},h=[];if(d[Di.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const v=s[Di.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=v.getMaterialType(),h.push(v.extendParams(c,r,e))}else if(d[Di.KHR_MATERIALS_UNLIT]){const v=s[Di.KHR_MATERIALS_UNLIT];a=v.getMaterialType(),h.push(v.extendParams(c,r,e))}else{const v=r.pbrMetallicRoughness||{};if(c.color=new Je(1,1,1),c.opacity=1,Array.isArray(v.baseColorFactor)){const b=v.baseColorFactor;c.color.fromArray(b),c.opacity=b[3]}void 0!==v.baseColorTexture&&h.push(e.assignTexture(c,"map",v.baseColorTexture,Ri)),c.metalness=void 0!==v.metallicFactor?v.metallicFactor:1,c.roughness=void 0!==v.roughnessFactor?v.roughnessFactor:1,void 0!==v.metallicRoughnessTexture&&(h.push(e.assignTexture(c,"metalnessMap",v.metallicRoughnessTexture)),h.push(e.assignTexture(c,"roughnessMap",v.metallicRoughnessTexture))),a=this._invokeOne(function(b){return b.getMaterialType&&b.getMaterialType(t)}),h.push(Promise.all(this._invokeAll(function(b){return b.extendMaterialParams&&b.extendMaterialParams(t,c)})))}!0===r.doubleSided&&(c.side=2);const g=r.alphaMode||"OPAQUE";if("BLEND"===g?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,"MASK"===g&&(c.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&a!==rr&&(h.push(e.assignTexture(c,"normalMap",r.normalTexture)),c.normalScale=new ke(1,1),void 0!==r.normalTexture.scale)){const v=r.normalTexture.scale;c.normalScale.set(v,v)}return void 0!==r.occlusionTexture&&a!==rr&&(h.push(e.assignTexture(c,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(c.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&a!==rr&&(c.emissive=(new Je).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&a!==rr&&h.push(e.assignTexture(c,"emissiveMap",r.emissiveTexture,Ri)),Promise.all(h).then(function(){let v;return v=a===CM?s[Di.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new a(c),r.name&&(v.name=r.name),Rc(v,r),e.associations.set(v,{materials:t}),r.extensions&&Dp(s,v,r),v})}createUniqueName(t){const e=qi.sanitizeNodeName(t||"");let i=e;for(let s=1;this.nodeNamesUsed[i];++s)i=e+"_"+s;return this.nodeNamesUsed[i]=!0,i}loadGeometries(t){const e=this,i=this.extensions,s=this.primitiveCache;function r(c){return i[Di.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,e).then(function(d){return O2(d,c,e)})}const a=[];for(let c=0,d=t.length;c<d;c++){const h=t[c],g=Lte(h),v=s[g];if(v)a.push(v.promise);else{let b;b=h.extensions&&h.extensions[Di.KHR_DRACO_MESH_COMPRESSION]?r(h):O2(new Xt,h,e),s[g]={primitive:h,promise:b},a.push(b)}}return Promise.all(a)}loadMesh(t){const e=this,s=this.extensions,r=this.json.meshes[t],a=r.primitives,c=[];for(let d=0,h=a.length;d<h;d++){const g=void 0===a[d].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new Xu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),n.DefaultMaterial):this.getDependency("material",a[d].material);c.push(g)}var n;return c.push(e.loadGeometries(a)),Promise.all(c).then(function(d){const h=d.slice(0,d.length-1),g=d[d.length-1],v=[];for(let C=0,D=g.length;C<D;C++){const A=g[C],E=a[C];let I;const P=h[C];if(4===E.mode||5===E.mode||6===E.mode||void 0===E.mode)I=!0===r.isSkinnedMesh?new cv(A,P):new Zn(A,P),!0===I.isSkinnedMesh&&!I.geometry.attributes.skinWeight.normalized&&I.normalizeSkinWeights(),5===E.mode?I.geometry=F2(I.geometry,1):6===E.mode&&(I.geometry=F2(I.geometry,2));else if(1===E.mode)I=new Cc(A,P);else if(3===E.mode)I=new _l(A,P);else if(2===E.mode)I=new XC(A,P);else{if(0!==E.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);I=new qC(A,P)}Object.keys(I.geometry.morphAttributes).length>0&&Pte(I,r),I.name=e.createUniqueName(r.name||"mesh_"+t),Rc(I,r),E.extensions&&Dp(s,I,E),e.assignFinalMaterial(I),v.push(I)}for(let C=0,D=v.length;C<D;C++)e.associations.set(v[C],{meshes:t,primitives:C});if(1===v.length)return v[0];const b=new go;e.associations.set(b,{meshes:t});for(let C=0,D=v.length;C<D;C++)b.add(v[C]);return b})}loadCamera(t){let e;const i=this.json.cameras[t],s=i[i.type];if(s)return"perspective"===i.type?e=new Kn(O7.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(e=new np(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),Rc(e,i),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],i={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",e.inverseBindMatrices).then(function(s){return i.inverseBindMatrices=s,i})}loadAnimation(t){const i=this.json.animations[t],s=[],r=[],a=[],c=[],d=[];for(let h=0,g=i.channels.length;h<g;h++){const v=i.channels[h],b=i.samplers[v.sampler],C=v.target,A=void 0!==i.parameters?i.parameters[b.input]:b.input,E=void 0!==i.parameters?i.parameters[b.output]:b.output;s.push(this.getDependency("node",void 0!==C.node?C.node:C.id)),r.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",E)),c.push(b),d.push(C)}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(a),Promise.all(c),Promise.all(d)]).then(function(h){const g=h[0],v=h[1],b=h[2],C=h[3],D=h[4],A=[];for(let I=0,P=g.length;I<P;I++){const N=g[I],V=v[I],G=b[I],q=C[I],ee=D[I];if(void 0===N)continue;let ae;switch(N.updateMatrix(),N.matrixAutoUpdate=!0,Cl[ee.path]){case Cl.weights:ae=yp;break;case Cl.rotation:ae=Mc;break;default:ae=bp}const ue=N.name?N.name:N.uuid,ce=void 0!==q.interpolation?kte[q.interpolation]:_u,j=[];Cl[ee.path]===Cl.weights?N.traverse(function(Me){Me.morphTargetInfluences&&j.push(Me.name?Me.name:Me.uuid)}):j.push(ue);let ie=G.array;if(G.normalized){const Me=DM(ie.constructor),pe=new Float32Array(ie.length);for(let _e=0,le=ie.length;_e<le;_e++)pe[_e]=ie[_e]*Me;ie=pe}for(let Me=0,pe=j.length;Me<pe;Me++){const _e=new ae(j[Me]+"."+Cl[ee.path],V.array,ie,ce);"CUBICSPLINE"===q.interpolation&&(_e.createInterpolant=function(he){return new(this instanceof Mc?Tte:kc)(this.times,this.values,this.getValueSize()/3,he)},_e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(_e)}}return new xp(i.name?i.name:"animation_"+t,void 0,A)})}createNodeMesh(t){const i=this,s=this.json.nodes[t];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then(function(r){const a=i._getNodeRef(i.meshCache,s.mesh,r);return void 0!==s.weights&&a.traverse(function(c){if(c.isMesh)for(let d=0,h=s.weights.length;d<h;d++)c.morphTargetInfluences[d]=s.weights[d]}),a})}loadNode(t){const i=this.extensions,s=this,r=this.json.nodes[t],a=r.name?s.createUniqueName(r.name):"";return function(){const c=[],d=s._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(t)});return d&&c.push(d),void 0!==r.camera&&c.push(s.getDependency("camera",r.camera).then(function(h){return s._getNodeRef(s.cameraCache,r.camera,h)})),s._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(t)}).forEach(function(h){c.push(h)}),Promise.all(c)}().then(function(c){let d;if(d=!0===r.isBone?new dv:c.length>1?new go:1===c.length?c[0]:new Oi,d!==c[0])for(let h=0,g=c.length;h<g;h++)d.add(c[h]);if(r.name&&(d.userData.name=r.name,d.name=a),Rc(d,r),r.extensions&&Dp(i,d,r),void 0!==r.matrix){const h=new St;h.fromArray(r.matrix),d.applyMatrix4(h)}else void 0!==r.translation&&d.position.fromArray(r.translation),void 0!==r.rotation&&d.quaternion.fromArray(r.rotation),void 0!==r.scale&&d.scale.fromArray(r.scale);return s.associations.has(d)||s.associations.set(d,{}),s.associations.get(d).nodes=t,d})}loadScene(t){const e=this.json,i=this.extensions,s=this.json.scenes[t],r=this,a=new go;s.name&&(a.name=r.createUniqueName(s.name)),Rc(a,s),s.extensions&&Dp(i,a,s);const c=s.nodes||[],d=[];for(let h=0,g=c.length;h<g;h++)d.push(L2(c[h],a,e,r));return Promise.all(d).then(function(){return r.associations=(g=>{const v=new Map;for(const[b,C]of r.associations)(b instanceof cn||b instanceof bs)&&v.set(b,C);return g.traverse(b=>{const C=r.associations.get(b);null!=C&&v.set(b,C)}),v})(a),a})}}function L2(n,t,e,i){const s=e.nodes[n];return i.getDependency("node",n).then(function(r){if(void 0===s.skin)return r;let a;return i.getDependency("skin",s.skin).then(function(c){a=c;const d=[];for(let h=0,g=a.joints.length;h<g;h++)d.push(i.getDependency("node",a.joints[h]));return Promise.all(d)}).then(function(c){return r.traverse(function(d){if(!d.isMesh)return;const h=[],g=[];for(let v=0,b=c.length;v<b;v++){const C=c[v];if(C){h.push(C);const D=new St;void 0!==a.inverseBindMatrices&&D.fromArray(a.inverseBindMatrices.array,16*v),g.push(D)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[v])}d.bind(new uv(h,g),d.matrixWorld)}),r})}).then(function(r){t.add(r);const a=[];if(s.children){const c=s.children;for(let d=0,h=c.length;d<h;d++)a.push(L2(c[d],r,e,i))}return Promise.all(a)})}function O2(n,t,e){const i=t.attributes,s=[];function r(a,c){return e.getDependency("accessor",a).then(function(d){n.setAttribute(c,d)})}for(const a in i){const c=MM[a]||a.toLowerCase();c in n.attributes||s.push(r(i[a],c))}if(void 0!==t.indices&&!n.index){const a=e.getDependency("accessor",t.indices).then(function(c){n.setIndex(c)});s.push(a)}return Rc(n,t),function Nte(n,t,e){const i=t.attributes,s=new nr;if(void 0===i.POSITION)return;{const c=e.json.accessors[i.POSITION],d=c.min,h=c.max;if(void 0===d||void 0===h)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new $(d[0],d[1],d[2]),new $(h[0],h[1],h[2])),c.normalized){const g=DM(Sp[c.componentType]);s.min.multiplyScalar(g),s.max.multiplyScalar(g)}}const r=t.targets;if(void 0!==r){const c=new $,d=new $;for(let h=0,g=r.length;h<g;h++){const v=r[h];if(void 0!==v.POSITION){const b=e.json.accessors[v.POSITION],C=b.min,D=b.max;if(void 0!==C&&void 0!==D){if(d.setX(Math.max(Math.abs(C[0]),Math.abs(D[0]))),d.setY(Math.max(Math.abs(C[1]),Math.abs(D[1]))),d.setZ(Math.max(Math.abs(C[2]),Math.abs(D[2]))),b.normalized){const A=DM(Sp[b.componentType]);d.multiplyScalar(A)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}n.boundingBox=s;const a=new cl;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=a}(n,t,e),Promise.all(s).then(function(){return void 0!==t.targets?function Ite(n,t,e){let i=!1,s=!1,r=!1;for(let h=0,g=t.length;h<g;h++){const v=t[h];if(void 0!==v.POSITION&&(i=!0),void 0!==v.NORMAL&&(s=!0),void 0!==v.COLOR_0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const a=[],c=[],d=[];for(let h=0,g=t.length;h<g;h++){const v=t[h];if(i){const b=void 0!==v.POSITION?e.getDependency("accessor",v.POSITION):n.attributes.position;a.push(b)}if(s){const b=void 0!==v.NORMAL?e.getDependency("accessor",v.NORMAL):n.attributes.normal;c.push(b)}if(r){const b=void 0!==v.COLOR_0?e.getDependency("accessor",v.COLOR_0):n.attributes.color;d.push(b)}}return Promise.all([Promise.all(a),Promise.all(c),Promise.all(d)]).then(function(h){const v=h[1],b=h[2];return i&&(n.morphAttributes.position=h[0]),s&&(n.morphAttributes.normal=v),r&&(n.morphAttributes.color=b),n.morphTargetsRelative=!0,n})}(n,t.targets,e):n})}function F2(n,t){let e=n.getIndex();if(null===e){const a=[],c=n.getAttribute("position");if(void 0===c)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let d=0;d<c.count;d++)a.push(d);n.setIndex(a),e=n.getIndex()}const i=e.count-2,s=[];if(2===t)for(let a=1;a<=i;a++)s.push(e.getX(0)),s.push(e.getX(a)),s.push(e.getX(a+1));else for(let a=0;a<i;a++)a%2==0?(s.push(e.getX(a)),s.push(e.getX(a+1)),s.push(e.getX(a+2))):(s.push(e.getX(a+2)),s.push(e.getX(a+1)),s.push(e.getX(a)));s.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r}const N2={type:"change"},AM={type:"start"},B2={type:"end"};class Bte extends al{constructor(t,e){super(),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new $,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Q){Q.addEventListener("keydown",Fi),this._domElementKeyEvents=Q},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(N2),i.update(),r=s.NONE},this.update=function(){const Q=new $,Xe=(new qn).setFromUnitVectors(t.up,new $(0,1,0)),Et=Xe.clone().invert(),at=new $,de=new qn,it=2*Math.PI;return function(){const qt=i.object.position;Q.copy(qt).sub(i.target),Q.applyQuaternion(Xe),c.setFromVector3(Q),i.autoRotate&&r===s.NONE&&ue(function ee(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(c.theta+=d.theta*i.dampingFactor,c.phi+=d.phi*i.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let mt=i.minAzimuthAngle,Rt=i.maxAzimuthAngle;return isFinite(mt)&&isFinite(Rt)&&(mt<-Math.PI?mt+=it:mt>Math.PI&&(mt-=it),Rt<-Math.PI?Rt+=it:Rt>Math.PI&&(Rt-=it),c.theta=mt<=Rt?Math.max(mt,Math.min(Rt,c.theta)):c.theta>(mt+Rt)/2?Math.max(mt,c.theta):Math.min(Rt,c.theta)),c.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=h,c.radius=Math.max(i.minDistance,Math.min(i.maxDistance,c.radius)),!0===i.enableDamping?i.target.addScaledVector(g,i.dampingFactor):i.target.add(g),Q.setFromSpherical(c),Q.applyQuaternion(Et),qt.copy(i.target).add(Q),i.object.lookAt(i.target),!0===i.enableDamping?(d.theta*=1-i.dampingFactor,d.phi*=1-i.dampingFactor,g.multiplyScalar(1-i.dampingFactor)):(d.set(0,0,0),g.set(0,0,0)),h=1,!!(v||at.distanceToSquared(i.object.position)>a||8*(1-de.dot(i.object.quaternion))>a)&&(i.dispatchEvent(N2),at.copy(i.object.position),de.copy(i.object.quaternion),v=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",De),i.domElement.removeEventListener("pointerdown",Ze),i.domElement.removeEventListener("pointercancel",si),i.domElement.removeEventListener("wheel",Zi),i.domElement.removeEventListener("pointermove",Mt),i.domElement.removeEventListener("pointerup",ft),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",Fi)};const i=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=s.NONE;const a=1e-6,c=new p2,d=new p2;let h=1;const g=new $;let v=!1;const b=new ke,C=new ke,D=new ke,A=new ke,E=new ke,I=new ke,P=new ke,N=new ke,V=new ke,G=[],q={};function ae(){return Math.pow(.95,i.zoomSpeed)}function ue(Q){d.theta-=Q}function ce(Q){d.phi-=Q}const j=function(){const Q=new $;return function(Et,at){Q.setFromMatrixColumn(at,0),Q.multiplyScalar(-Et),g.add(Q)}}(),ie=function(){const Q=new $;return function(Et,at){!0===i.screenSpacePanning?Q.setFromMatrixColumn(at,1):(Q.setFromMatrixColumn(at,0),Q.crossVectors(i.object.up,Q)),Q.multiplyScalar(Et),g.add(Q)}}(),Me=function(){const Q=new $;return function(Et,at){const de=i.domElement;if(i.object.isPerspectiveCamera){Q.copy(i.object.position).sub(i.target);let et=Q.length();et*=Math.tan(i.object.fov/2*Math.PI/180),j(2*Et*et/de.clientHeight,i.object.matrix),ie(2*at*et/de.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(j(Et*(i.object.right-i.object.left)/i.object.zoom/de.clientWidth,i.object.matrix),ie(at*(i.object.top-i.object.bottom)/i.object.zoom/de.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function pe(Q){i.object.isPerspectiveCamera?h/=Q:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*Q)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function _e(Q){i.object.isPerspectiveCamera?h*=Q:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/Q)),i.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function le(Q){b.set(Q.clientX,Q.clientY)}function oe(Q){A.set(Q.clientX,Q.clientY)}function wt(){1===G.length?b.set(G[0].pageX,G[0].pageY):b.set(.5*(G[0].pageX+G[1].pageX),.5*(G[0].pageY+G[1].pageY))}function Ht(){1===G.length?A.set(G[0].pageX,G[0].pageY):A.set(.5*(G[0].pageX+G[1].pageX),.5*(G[0].pageY+G[1].pageY))}function Re(){const Q=G[0].pageX-G[1].pageX,Xe=G[0].pageY-G[1].pageY,Et=Math.sqrt(Q*Q+Xe*Xe);P.set(0,Et)}function Ot(Q){if(1==G.length)C.set(Q.pageX,Q.pageY);else{const Et=Nt(Q);C.set(.5*(Q.pageX+Et.x),.5*(Q.pageY+Et.y))}D.subVectors(C,b).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;ue(2*Math.PI*D.x/Xe.clientHeight),ce(2*Math.PI*D.y/Xe.clientHeight),b.copy(C)}function $e(Q){if(1===G.length)E.set(Q.pageX,Q.pageY);else{const Xe=Nt(Q);E.set(.5*(Q.pageX+Xe.x),.5*(Q.pageY+Xe.y))}I.subVectors(E,A).multiplyScalar(i.panSpeed),Me(I.x,I.y),A.copy(E)}function ni(Q){const Xe=Nt(Q),Et=Q.pageX-Xe.x,at=Q.pageY-Xe.y,de=Math.sqrt(Et*Et+at*at);N.set(0,de),V.set(0,Math.pow(N.y/P.y,i.zoomSpeed)),pe(V.y),P.copy(N)}function Ze(Q){!1!==i.enabled&&(0===G.length&&(i.domElement.setPointerCapture(Q.pointerId),i.domElement.addEventListener("pointermove",Mt),i.domElement.addEventListener("pointerup",ft)),function je(Q){G.push(Q)}(Q),"touch"===Q.pointerType?function ne(Q){switch(bt(Q),G.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;wt(),r=s.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;Ht(),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function $t(){i.enableZoom&&Re(),i.enablePan&&Ht()})(),r=s.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function zt(){i.enableZoom&&Re(),i.enableRotate&&wt()})(),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&i.dispatchEvent(AM)}(Q):function Wt(Q){let Xe;switch(Q.button){case 0:Xe=i.mouseButtons.LEFT;break;case 1:Xe=i.mouseButtons.MIDDLE;break;case 2:Xe=i.mouseButtons.RIGHT;break;default:Xe=-1}switch(Xe){case 1:if(!1===i.enableZoom)return;(function he(Q){P.set(Q.clientX,Q.clientY)})(Q),r=s.DOLLY;break;case 0:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(!1===i.enablePan)return;oe(Q),r=s.PAN}else{if(!1===i.enableRotate)return;le(Q),r=s.ROTATE}break;case 2:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(!1===i.enableRotate)return;le(Q),r=s.ROTATE}else{if(!1===i.enablePan)return;oe(Q),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&i.dispatchEvent(AM)}(Q))}function Mt(Q){!1!==i.enabled&&("touch"===Q.pointerType?function Z(Q){switch(bt(Q),r){case s.TOUCH_ROTATE:if(!1===i.enableRotate)return;Ot(Q),i.update();break;case s.TOUCH_PAN:if(!1===i.enablePan)return;$e(Q),i.update();break;case s.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function Ie(Q){i.enableZoom&&ni(Q),i.enablePan&&$e(Q)})(Q),i.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function Be(Q){i.enableZoom&&ni(Q),i.enableRotate&&Ot(Q)})(Q),i.update();break;default:r=s.NONE}}(Q):function Ft(Q){if(!1!==i.enabled)switch(r){case s.ROTATE:if(!1===i.enableRotate)return;!function xe(Q){C.set(Q.clientX,Q.clientY),D.subVectors(C,b).multiplyScalar(i.rotateSpeed);const Xe=i.domElement;ue(2*Math.PI*D.x/Xe.clientHeight),ce(2*Math.PI*D.y/Xe.clientHeight),b.copy(C),i.update()}(Q);break;case s.DOLLY:if(!1===i.enableZoom)return;!function Ee(Q){N.set(Q.clientX,Q.clientY),V.subVectors(N,P),V.y>0?pe(ae()):V.y<0&&_e(ae()),P.copy(N),i.update()}(Q);break;case s.PAN:if(!1===i.enablePan)return;!function We(Q){E.set(Q.clientX,Q.clientY),I.subVectors(E,A).multiplyScalar(i.panSpeed),Me(I.x,I.y),A.copy(E),i.update()}(Q)}}(Q))}function ft(Q){ut(Q),0===G.length&&(i.domElement.releasePointerCapture(Q.pointerId),i.domElement.removeEventListener("pointermove",Mt),i.domElement.removeEventListener("pointerup",ft)),i.dispatchEvent(B2),r=s.NONE}function si(Q){ut(Q)}function Zi(Q){!1===i.enabled||!1===i.enableZoom||r!==s.NONE||(Q.preventDefault(),i.dispatchEvent(AM),function Ne(Q){Q.deltaY<0?_e(ae()):Q.deltaY>0&&pe(ae()),i.update()}(Q),i.dispatchEvent(B2))}function Fi(Q){!1===i.enabled||!1===i.enablePan||function Ct(Q){let Xe=!1;switch(Q.code){case i.keys.UP:Me(0,i.keyPanSpeed),Xe=!0;break;case i.keys.BOTTOM:Me(0,-i.keyPanSpeed),Xe=!0;break;case i.keys.LEFT:Me(i.keyPanSpeed,0),Xe=!0;break;case i.keys.RIGHT:Me(-i.keyPanSpeed,0),Xe=!0}Xe&&(Q.preventDefault(),i.update())}(Q)}function De(Q){!1!==i.enabled&&Q.preventDefault()}function ut(Q){delete q[Q.pointerId];for(let Xe=0;Xe<G.length;Xe++)if(G[Xe].pointerId==Q.pointerId)return void G.splice(Xe,1)}function bt(Q){let Xe=q[Q.pointerId];void 0===Xe&&(Xe=new ke,q[Q.pointerId]=Xe),Xe.set(Q.pageX,Q.pageY)}function Nt(Q){return q[(Q.pointerId===G[0].pointerId?G[1]:G[0]).pointerId]}i.domElement.addEventListener("contextmenu",De),i.domElement.addEventListener("pointerdown",Ze),i.domElement.addEventListener("pointercancel",si),i.domElement.addEventListener("wheel",Zi,{passive:!1}),this.update()}}class Vte extends Oee{constructor(t){super(t),this.type=Da}parse(t){const c=function(N,V){switch(N){case 1:console.error("THREE.RGBELoader Read Error: "+(V||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(V||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(V||""));break;default:console.error("THREE.RGBELoader: Error: "+(V||""))}return-1},b=function(N,V,G){V=V||1024;let ee=N.pos,ae=-1,ue=0,ce="",j=String.fromCharCode.apply(null,new Uint16Array(N.subarray(ee,ee+128)));for(;0>(ae=j.indexOf("\n"))&&ue<V&&ee<N.byteLength;)ce+=j,ue+=j.length,ee+=128,j+=String.fromCharCode.apply(null,new Uint16Array(N.subarray(ee,ee+128)));return-1<ae&&(!1!==G&&(N.pos+=ue+ae+1),ce+j.slice(0,ae))},A=function(N,V,G,q){const ae=Math.pow(2,N[V+3]-128)/255;G[q+0]=N[V+0]*ae,G[q+1]=N[V+1]*ae,G[q+2]=N[V+2]*ae,G[q+3]=1},E=function(N,V,G,q){const ae=Math.pow(2,N[V+3]-128)/255;G[q+0]=jv.toHalfFloat(Math.min(N[V+0]*ae,65504)),G[q+1]=jv.toHalfFloat(Math.min(N[V+1]*ae,65504)),G[q+2]=jv.toHalfFloat(Math.min(N[V+2]*ae,65504)),G[q+3]=jv.toHalfFloat(1)},I=new Uint8Array(t);I.pos=0;const P=function(N){const G=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ee=/^\s*FORMAT=(\S+)\s*$/,ae=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ue={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ce,j;if(N.pos>=N.byteLength||!(ce=b(N)))return c(1,"no header found");if(!(j=ce.match(/^#\?(\S+)/)))return c(3,"bad initial token");for(ue.valid|=1,ue.programtype=j[1],ue.string+=ce+"\n";ce=b(N),!1!==ce;)if(ue.string+=ce+"\n","#"!==ce.charAt(0)){if((j=ce.match(G))&&(ue.gamma=parseFloat(j[1])),(j=ce.match(q))&&(ue.exposure=parseFloat(j[1])),(j=ce.match(ee))&&(ue.valid|=2,ue.format=j[1]),(j=ce.match(ae))&&(ue.valid|=4,ue.height=parseInt(j[1],10),ue.width=parseInt(j[2],10)),2&ue.valid&&4&ue.valid)break}else ue.comments+=ce+"\n";return 2&ue.valid?4&ue.valid?ue:c(3,"missing image size specifier"):c(3,"missing format specifier")}(I);if(-1!==P){const N=P.width,V=P.height,G=function(N,V,G){const q=V;if(q<8||q>32767||2!==N[0]||2!==N[1]||128&N[2])return new Uint8Array(N);if(q!==(N[2]<<8|N[3]))return c(3,"wrong scanline width");const ee=new Uint8Array(4*V*G);if(!ee.length)return c(4,"unable to allocate buffer space");let ae=0,ue=0;const ce=4*q,j=new Uint8Array(4),ie=new Uint8Array(ce);let Me=G;for(;Me>0&&ue<N.byteLength;){if(ue+4>N.byteLength)return c(1);if(j[0]=N[ue++],j[1]=N[ue++],j[2]=N[ue++],j[3]=N[ue++],2!=j[0]||2!=j[1]||(j[2]<<8|j[3])!=q)return c(3,"bad rgbe scanline format");let _e,pe=0;for(;pe<ce&&ue<N.byteLength;){_e=N[ue++];const he=_e>128;if(he&&(_e-=128),0===_e||pe+_e>ce)return c(3,"bad scanline data");if(he){const oe=N[ue++];for(let xe=0;xe<_e;xe++)ie[pe++]=oe}else ie.set(N.subarray(ue,ue+_e),pe),pe+=_e,ue+=_e}const le=q;for(let he=0;he<le;he++){let oe=0;ee[ae]=ie[he+oe],oe+=q,ee[ae+1]=ie[he+oe],oe+=q,ee[ae+2]=ie[he+oe],oe+=q,ee[ae+3]=ie[he+oe],ae+=4}Me--}return ee}(I.subarray(I.pos),N,V);if(-1!==G){let q,ee,ae,ue;switch(this.type){case Jr:ue=G.length/4;const ce=new Float32Array(4*ue);for(let ie=0;ie<ue;ie++)A(G,4*ie,ce,4*ie);q=ce,ae=Jr;break;case Da:ue=G.length/4;const j=new Uint16Array(4*ue);for(let ie=0;ie<ue;ie++)E(G,4*ie,j,4*ie);q=j,ae=Da;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:N,height:V,data:q,header:P.string,gamma:P.gamma,exposure:P.exposure,format:ee,type:ae}}}return null}setDataType(t){return this.type=t,this}load(t,e,i,s){return super.load(t,function r(a,c){switch(a.type){case Jr:case Da:a.encoding=ea,a.minFilter=$i,a.magFilter=$i,a.generateMipmaps=!1,a.flipY=!0}e&&e(a,c)},i,s)}}let EM=(()=>{class n{constructor(){this.deltaX=.01,this.deltaY=.01,this.deltaZ=.01,this.far=100,this.fov=35,this.gammaFactor=2.2,this.gammaOutput=!0,this.near=1,this.physicallyCorrectLights=!0,this.sceneBackground=9419988,this.renderer=new zi({antialias:!0}),this.clock=new l2,this.mixers=new Array,this.modelPosition=new $(0,-1,0),this.modelScale=new $(.01,.01,.01),this.loadingManager=new lM,this.directionalLightOptions={color:15524284,intensity:20},this.hemisphereOptions={skyColor:16772785,groundColor:32800,intensity:4},this.createCamera=()=>{this.camera=new Kn(this.fov,this.aspect,this.near,this.far),this.camera.position.set(7,4,9.5)},this.createControls=()=>this.controls=new Bte(this.camera,this.container),this.createLight=()=>{this.hemisphere=new cM(this.hemisphereOptions.skyColor,this.hemisphereOptions.groundColor,this.hemisphereOptions.intensity),this.mainLight=new gM(this.directionalLightOptions.color,this.directionalLightOptions.intensity),this.mainLight.position.set(-7,-4,-9.5),this.scene.add(this.hemisphere)},this.createModels=(e,i,s)=>{this.loader=new dte(this.loadingManager);const r=a=>{const c=a.scene.children[0];c.position.copy(i),c.scale.copy(s);const d=a.animations[0];if(d){const h=new h2(c);this.mixers.push(h),h.clipAction(d).play()}this.scene.add(c),console.log(this.scene)};this.loader.load(e,a=>{r(a)},()=>{},a=>console.log(a))},this.onWindowResize=()=>{this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer&&this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)},this.createRenderer=()=>{this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=Ri,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize)},this.update=()=>{const e=this.clock.getDelta();this.mixers.forEach(i=>i.update(e))},this.render=()=>this.renderer.render(this.scene,this.camera),this.start=()=>this.renderer.setAnimationLoop(()=>{this.update(),this.render()}),this.stop=()=>this.renderer.setAnimationLoop(()=>{}),this.initialize=(e,i)=>{this.container=e,this.scene=new sv,this.scene.background=new Je(this.sceneBackground),this.aspect=e.clientWidth/e.clientHeight,this.createCamera(),this.createControls(),this.createLight(),this.initializeLoadingManager(),this.createModels(i.modelUrl,i.modelPosition,i.modelScale),this.createRenderer(),this.setEnviromentLighting().then(s=>{this.scene.environment=s}),this.start()}}setEnviromentLighting(){return new Promise((e,i)=>{new Vte(this.loadingManager).load("./assets/hdr/venice_sunset.hdr",s=>{s.mapping=303,e(s)})})}initializeLoadingManager(){this.loadingManager.onStart=(e,i,s)=>{var r,a;(null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild).classList.remove("fade-out")},this.loadingManager.onLoad=()=>{var e,i;(null===(i=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===i?void 0:i.lastChild).classList.add("fade-out")},this.loadingManager.onProgress=(e,i,s)=>{var r,a;const c=null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild;(null==c?void 0:c.lastChild).innerText=Math.round(i/s*100)+"%"},this.loadingManager.onError=e=>{console.log("There was an error loading "+e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class V2{}class H2{}class xo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof xo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new xo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof xo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===r.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Hte{encodeKey(t){return z2(t)}encodeValue(t){return z2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Gte=/%(\d[a-f0-9])/gi,Ute={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function z2(n){return encodeURIComponent(n).replace(Gte,(t,e)=>{var i;return null!==(i=Ute[e])&&void 0!==i?i:t})}function G2(n){return`${n}`}class Ml{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Hte,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zte(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,c]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],d=e.get(a)||[];d.push(c),e.set(a,d)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ml({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(G2(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(G2(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Wte{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function U2(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function W2(n){return"undefined"!=typeof Blob&&n instanceof Blob}function j2(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ap{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function jte(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new xo),this.context||(this.context=new Wte),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new Ml,this.urlWithParams=e}serializeBody(){return null===this.body?null:U2(this.body)||W2(this.body)||j2(this.body)||function Yte(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ml?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j2(this.body)?null:W2(this.body)?this.body.type||null:U2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ml?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,g=t.params||this.params;const v=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((b,C)=>b.set(C,t.setHeaders[C]),h)),t.setParams&&(g=Object.keys(t.setParams).reduce((b,C)=>b.set(C,t.setParams[C]),g)),new Ap(i,s,a,{params:g,headers:h,context:v,reportProgress:d,responseType:r,withCredentials:c})}}var Nn=(()=>((Nn=Nn||{})[Nn.Sent=0]="Sent",Nn[Nn.UploadProgress=1]="UploadProgress",Nn[Nn.ResponseHeader=2]="ResponseHeader",Nn[Nn.DownloadProgress=3]="DownloadProgress",Nn[Nn.Response=4]="Response",Nn[Nn.User=5]="User",Nn))();class TM{constructor(t,e=200,i="OK"){this.headers=t.headers||new xo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class kM extends TM{constructor(t={}){super(t),this.type=Nn.ResponseHeader}clone(t={}){return new kM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Yv extends TM{constructor(t={}){super(t),this.type=Nn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Yv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Y2 extends TM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function RM(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Xv=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof Ap)r=e;else{let d,h;d=s.headers instanceof xo?s.headers:new xo(s.headers),s.params&&(h=s.params instanceof Ml?s.params:new Ml({fromObject:s.params})),r=new Ap(e,i,void 0!==s.body?s.body:null,{headers:d,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=It(r).pipe(ru(d=>this.handler.handle(d)));if(e instanceof Ap||"events"===s.observe)return a;const c=a.pipe(nn(d=>d instanceof Yv));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(jt(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe(jt(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe(jt(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe(jt(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ml).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,RM(s,i))}post(e,i,s={}){return this.request("POST",e,RM(s,i))}put(e,i,s={}){return this.request("PUT",e,RM(s,i))}}return n.\u0275fac=function(e){return new(e||n)(me(V2))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class X2{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const IM=new Se("HTTP_INTERCEPTORS");let Xte=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const $te=/^\)\]\}',?\n/;let $2=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jt(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,D)=>s.setRequestHeader(C,D.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const r=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const C=1223===s.status?204:s.status,D=s.statusText||"OK",A=new xo(s.getAllResponseHeaders()),E=function qte(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new kM({headers:A,status:C,statusText:D,url:E}),a},d=()=>{let{headers:C,status:D,statusText:A,url:E}=c(),I=null;204!==D&&(I=void 0===s.response?s.responseText:s.response),0===D&&(D=I?200:0);let P=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof I){const N=I;I=I.replace($te,"");try{I=""!==I?JSON.parse(I):null}catch(V){I=N,P&&(P=!1,I={error:V,text:I})}}P?(i.next(new Yv({body:I,headers:C,status:D,statusText:A,url:E||void 0})),i.complete()):i.error(new Y2({error:I,headers:C,status:D,statusText:A,url:E||void 0}))},h=C=>{const{url:D}=c(),A=new Y2({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});i.error(A)};let g=!1;const v=C=>{g||(i.next(c()),g=!0);let D={type:Nn.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),"text"===e.responseType&&!!s.responseText&&(D.partialText=s.responseText),i.next(D)},b=C=>{let D={type:Nn.UploadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),i.next(D)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",v),null!==r&&s.upload&&s.upload.addEventListener("progress",b)),s.send(r),i.next({type:Nn.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",v),null!==r&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(me(KR))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const PM=new Se("XSRF_COOKIE_NAME"),LM=new Se("XSRF_HEADER_NAME");class q2{}let Zte=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=GR(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(er),me(PM))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),OM=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(me(q2),me(LM))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Kte=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(IM,[]);this.chain=i.reduceRight((s,r)=>new X2(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(me(H2),me(kn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),Qte=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:OM,useClass:Xte}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:PM,useValue:e.cookieName}:[],e.headerName?{provide:LM,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[OM,{provide:IM,useExisting:OM,multi:!0},{provide:q2,useClass:Zte},{provide:PM,useValue:"XSRF-TOKEN"},{provide:LM,useValue:"X-XSRF-TOKEN"}]}),n})(),Jte=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[Xv,{provide:V2,useClass:Kte},$2,{provide:H2,useExisting:$2}],imports:[[Qte.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Ic=(()=>{class n{constructor(e){this.http=e,this.url="https://cryptic-falls-04173.herokuapp.com/api"}getMachines(){return this.http.get(this.url+"/machine")}getMachineDetails(e){return this.http.get(this.url+`/machine/${e}`)}createDigitalTwin(e){return this.http.post(this.url+"/digital-twin",e)}getDigitalTwins(){return this.http.get(this.url+"/digital-twin")}getDigitalTwinDetails(e){return this.http.get(this.url+`/digital-twin/${e}`)}deletDigitalTwin(e){return this.http.delete(this.url+`/digital-twin/${e}`)}getTurbofanSensorData(e){return this.http.get(this.url+`/digital-twin/turbofan/${e}`)}getSensorList(e){return this.http.get(this.url+`/digital-twin/sensordata/${e}`)}rulPredict(e){return this.http.post("https://floating-plateau-32825.herokuapp.com/predict",e)}}return n.\u0275fac=function(e){return new(e||n)(me(Xv))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eie extends Le{constructor(t,e){super()}schedule(t,e=0){return this}}const $v={setInterval(...n){const{delegate:t}=$v;return((null==t?void 0:t.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:t}=$v;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class FM extends eie{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return $v.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;$v.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,bn(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Z2={now:()=>(Z2.delegate||Date).now(),delegate:void 0};class Ep{constructor(t,e=Ep.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ep.now=Z2.now;class NM extends Ep{constructor(t,e=Ep.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const qv=new NM(FM),K2=qv;function Tp(n=0,t,e=K2){let i=-1;return null!=t&&(Eh(t)?e=t:i=t),new Jt(s=>{let r=function tie(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;r<0&&(r=0);let a=0;return e.schedule(function(){s.closed||(s.next(a++),0<=i?this.schedule(void 0,i):s.complete())},r)})}let Zv=(()=>{class n{constructor(e){this.router=e,this.subject=new Ge,this.keepAfterNavigationChange=!1,this.isActive=!1,e.events.subscribe(i=>{i instanceof Ym&&(this.keepAfterNavigationChange?this.keepAfterNavigationChange=!1:this.subject.next(null))})}success(e,i=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"success",text:e}),this.isActive=!0,this.hide(i))}error(e,i=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"error",text:e}),this.isActive=!0,this.hide(i))}info(e,i=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"info",text:e}),this.isActive=!0,this.hide(i))}getMessage(){return this.subject.asObservable()}hide(e){Tp(1e3*e).subscribe(()=>{this.subject.next(null),this.isActive=!1})}}return n.\u0275fac=function(e){return new(e||n)(me(ts))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iie=new Se("cdk-dir-doc",{providedIn:"root",factory:function nie(){return xd(Bt)}}),sie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let as=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new gt,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function rie(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?sie.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(me(iie,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})();function Q2(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const BM="inline",Kv=["row","column","row-reverse","column-reverse"];function J2(n){let[t,e,i]=eN(n);return function oie(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function eN(n){var t;n=null!==(t=null==n?void 0:n.toLowerCase())&&void 0!==t?t:"";let[e,i,s]=n.split(" ");return Kv.find(r=>r===e)||(e=Kv[0]),i===BM&&(i=s!==BM?s:"",s=BM),[e,aie(i),!!s]}function kp(n){let[t]=eN(n);return t.indexOf("row")>-1}function aie(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function wo(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const cie={provide:I0,useFactory:function lie(n,t){return()=>{if($l(t)){const e=Array.from(n.querySelectorAll(`[class*=${tN}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(s=>{s.classList.contains(`${tN}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(i,"")})}}},deps:[Bt,er],multi:!0},tN="flex-layout-";let VM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[cie]}),n})();class Lc{constructor(t=!1,e="all",i="",s="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=s,this.priority=r,this.property=""}clone(){return new Lc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let die=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,s){const r=this.stylesheet.get(e);r?r.set(i,s):this.stylesheet.set(e,new Map([[i,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const s=this.stylesheet.get(e);let r="";if(s){const a=s.get(i);("number"==typeof a||"string"==typeof a)&&(r=a+"")}return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const HM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},la=new Se("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>HM}),Qu=new Se("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),zM=new Se("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function iN(n,t){return n=n?n.clone():new Lc,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class vn{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Qi=(()=>{class n{constructor(e,i,s,r){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=s,this.layoutConfig=r}applyStyleToElement(e,i,s=null){let r={};"string"==typeof i&&(r[i]=s,i=r),r=this.layoutConfig.disableVendorPrefixes?i:Q2(i),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,i=[]){const s=this.layoutConfig.disableVendorPrefixes?e:Q2(e);i.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(e){const i="flex-direction";let s=this.lookupStyle(e,i);return[s||"row",this.lookupInlineStyle(e,i)||su(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){var s;return null!==(s=e.getAttribute(i))&&void 0!==s?s:""}lookupInlineStyle(e,i){return $l(this._platformId)?e.style.getPropertyValue(i):function uie(n,t){var e;return null!==(e=nN(n)[t])&&void 0!==e?e:""}(e,i)}lookupStyle(e,i,s=!1){let r="";return e&&((r=this.lookupInlineStyle(e,i))||($l(this._platformId)?s||(r=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,i)))),r?r.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(s=>{const r=e[s],a=Array.isArray(r)?r:[r];a.sort();for(let c of a)c=c?c+"":"",$l(this._platformId)||!this._serverModuleLoaded?$l(this._platformId)?i.style.setProperty(s,c):hie(i,s,c):this._serverStylesheet.addStyleToElement(i,s,c)})}}return n.\u0275fac=function(e){return new(e||n)(me(die),me(Qu),me(er),me(la))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hie(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=nN(n);i[t]=null!=e?e:"",function fie(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function nN(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let s=0;s<i.length;s++){const r=i[s].trim();if(r.length>0){const a=r.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${r}`);t[r.substr(0,a).trim()]=r.substr(a+1).trim()}}}return t}function Rp(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function pie(n,t){return(n.priority||0)-(t.priority||0)}let GM=(()=>{class n{constructor(e,i,s){this._zone=e,this._platformId=i,this._document=s,this.source=new Rs(new Lc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,s)=>{i.matches&&e.push(s)}),e}isActive(e){var i;const s=this.registry.get(e);return null!==(i=null==s?void 0:s.matches)&&void 0!==i?i:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const s=this._observable$.pipe(nn(a=>!i||e.indexOf(a.mediaQuery)>-1));return M(new Jt(a=>{const c=this.registerQuery(e);if(c.length){const d=c.pop();c.forEach(h=>{a.next(h)}),this.source.next(d)}a.complete()}),s)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],s=[];return function gie(n,t){const e=n.filter(i=>!sN[i]);if(e.length>0){const i=e.join(", ");try{const s=t.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(s),e.forEach(r=>sN[r]=s)}catch(s){console.error(s)}}}(i,this._document),i.forEach(r=>{const a=d=>{this._zone.run(()=>this.source.next(new Lc(d.matches,r)))};let c=this.registry.get(r);c||(c=this.buildMQL(r),c.addListener(a),this.pendingRemoveListenerFns.push(()=>c.removeListener(a)),this.registry.set(r,c)),c.matches&&s.push(new Lc(!0,r))}),s}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function mie(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,$l(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(me(At),me(er),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sN={},_ie=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],rN="(orientation: portrait) and (max-width: 599.98px)",aN="(orientation: landscape) and (max-width: 959.98px)",oN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",lN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",cN="(orientation: portrait) and (min-width: 840px)",dN="(orientation: landscape) and (min-width: 1280px)",Co={HANDSET:`${rN}, ${aN}`,TABLET:`${oN} , ${lN}`,WEB:`${cN}, ${dN} `,HANDSET_PORTRAIT:`${rN}`,TABLET_PORTRAIT:`${oN} `,WEB_PORTRAIT:`${cN}`,HANDSET_LANDSCAPE:`${aN}`,TABLET_LANDSCAPE:`${lN}`,WEB_LANDSCAPE:`${dN}`},vie=[{alias:"handset",priority:2e3,mediaQuery:Co.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:Co.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:Co.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:Co.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:Co.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:Co.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:Co.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:Co.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:Co.WEB_PORTRAIT,overlapping:!0}],yie=/(\.|-|_)/g;function bie(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const Mie=new Se("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=xd(zM),t=xd(la),e=[].concat.apply([],(n||[]).map(s=>Array.isArray(s)?s:[s]));return function Cie(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?wo(e[i.alias],i):e[i.alias]=i}),function wie(n){return n.forEach(t=>{t.suffix||(t.suffix=function xie(n){return n.replace(yie,"|").split("|").map(bie).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:_ie).concat(t.addOrientationBps?vie:[]),e)}});let UM=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(pie)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var i;return null!==(i=null==e?void 0:e.suffix)&&void 0!==i?i:""})}findWithPredicate(e,i){var s;let r=this.findByMap.get(e);return r||(r=null!==(s=this.items.find(i))&&void 0!==s?s:null,this.findByMap.set(e,r)),null!=r?r:null}}return n.\u0275fac=function(e){return new(e||n)(me(Mie))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ju="print",Sie={alias:Ju,mediaQuery:Ju,priority:1e3};let Die=(()=>{class n{constructor(e,i,s){this.breakpoints=e,this.layoutConfig=i,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Aie,this.deactivations=[]}withPrintQuery(e){return[...e,Ju]}isPrintEvent(e){return e.mediaQuery.startsWith(Ju)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Rp)}updateEvent(e){var i;let s=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(s=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(i=null==s?void 0:s.mediaQuery)&&void 0!==i?i:""),iN(e,s)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Lc(!0,Ju))),e.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(s)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const s=this.breakpoints.findByQuery(i.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),a=!this.formerActivations&&e.activatedBreakpoints.includes(s);(r||a)&&(this.deactivations.push(s),this.deactivations.sort(Rp))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(me(UM),me(la),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Aie{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Sie),t.sort(Rp),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Eie(n){var t;return null!==(t=null==n?void 0:n.mediaQuery.startsWith(Ju))&&void 0!==t&&t}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let rn=(()=>{class n{constructor(e,i,s){this.matchMedia=e,this.breakpoints=i,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ge,this.observeActivations()}get activatedAlias(){var e,i;return null!==(i=null===(e=this.activatedBreakpoints[0])||void 0===e?void 0:e.alias)&&void 0!==i?i:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=iN(e,i);const s=this.activatedBreakpoints.indexOf(i);e.matches&&-1===s?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Rp),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Rp),this.updateStyles())}}init(e,i,s,r,a=[]){uN(this.updateMap,e,i,s),uN(this.clearMap,e,i,r),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,a)}getValue(e,i,s){const r=this.elementMap.get(e);if(r){const a=void 0!==s?r.get(s):this.getActivatedValues(r,i);if(a)return a.get(i)}}hasValue(e,i){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,i);if(r)return void 0!==r.get(i)||!1}return!1}setValue(e,i,s,r){var a;let c=this.elementMap.get(e);if(c){const h=(null!==(a=c.get(r))&&void 0!==a?a:new Map).set(i,s);c.set(r,h),this.elementMap.set(e,c)}else c=(new Map).set(r,(new Map).set(i,s)),this.elementMap.set(e,c);const d=this.getValue(e,i);void 0!==d&&this.updateElement(e,i,d)}trackValue(e,i){return this.subject.asObservable().pipe(nn(s=>s.element===e&&s.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const s=new Set(this.elementKeyMap.get(i));let r=this.getActivatedValues(e);r&&r.forEach((a,c)=>{this.updateElement(i,c,a),s.delete(c)}),s.forEach(a=>{if(r=this.getActivatedValues(e,a),r){const c=r.get(a);this.updateElement(i,a,c)}else this.clearElement(i,a)})})}clearElement(e,i){const s=this.clearMap.get(e);if(s){const r=s.get(i);r&&(r(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,s){const r=this.updateMap.get(e);if(r){const a=r.get(i);a&&(a(s),this.subject.next({element:e,key:i,value:s}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(r=>r.unsubscribe()),this.watcherMap.delete(e));const s=this.elementMap.get(e);s&&(s.forEach((r,a)=>s.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,i){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,i);r&&(i?this.updateElement(e,i,r.get(i)):r.forEach((a,c)=>this.updateElement(e,c,a)))}}buildElementKeyMap(e,i){let s=this.elementKeyMap.get(e);s||(s=new Set,this.elementKeyMap.set(e,s)),s.add(i)}watchExtraTriggers(e,i,s){if(s&&s.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(i)){const c=M(...s).subscribe(()=>{const d=this.getValue(e,i);this.updateElement(e,i,d)});r.set(i,c)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let r=0;r<this.activatedBreakpoints.length;r++){const c=e.get(this.activatedBreakpoints[r].alias);if(c&&(void 0===i||c.has(i)&&null!=c.get(i)))return c}if(!this._useFallbacks)return;const s=e.get("");return void 0===i||s&&s.has(i)?s:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Yn(this.hook.interceptEvents(this)),nn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(me(GM),me(UM),me(Die))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uN(n,t,e,i){var s;if(void 0!==i){const r=null!==(s=n.get(t))&&void 0!==s?s:new Map;r.set(e,i),n.set(t,r)}}let un=(()=>{class n{constructor(e,i,s,r){this.elementRef=e,this.styleBuilder=i,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ge,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const s=this.styleBuilder,r=s.shouldCache;let a=this.styleCache.get(e);(!a||!r)&&(a=s.buildStyles(e,i),r&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),s.sideEffect(e,a,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[s,r]=this.styler.getFlowDirection(e);if(!r&&i){const a=J2(s);this.styler.applyStyleToElements(a,[e])}return s.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,s=this.nativeElement){this.styler.applyStyleToElement(s,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(vn),F(Qi),F(rn))},n.\u0275dir=ge({type:n,features:[Vi]}),n})();function hN(n,t="1",e="1"){let i=[t,e,n],s=n.indexOf("calc");if(s>0){i[2]=fN(n.substring(s).trim());let r=n.substr(0,s).trim().split(" ");2==r.length&&(i[0]=r[0],i[1]=r[1])}else if(0==s)i[2]=fN(n.trim());else{let r=n.split(" ");i=3===r.length?r:[t,e,n]}return i}function fN(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Qv(n,t){if(void 0===t)return n;const e=i=>{const s=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(s)?`${s*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}function Pt(n){return gi((t,e)=>{ls(n).subscribe(new Bi(e,()=>e.complete(),Oo)),!e.closed&&t.subscribe(e)})}let Rie=(()=>{class n extends vn{buildStyles(e,{display:i}){const s=J2(e);return Object.assign(Object.assign({},s),{display:"none"===i?i:s.display})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iie=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Pie=(()=>{class n extends un{constructor(e,i,s,r,a){super(e,s,i,r),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){var i;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=gN.get(r))&&void 0!==i?i:new Map,gN.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Qi),F(Rie),F(rn),F(la))},n.\u0275dir=ge({type:n,features:[we]}),n})(),Mo=(()=>{class n extends Pie{constructor(){super(...arguments),this.inputs=Iie}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[we]}),n})();const gN=new Map,mN={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Lie=(()=>{class n extends vn{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(Jv)?function Gie(n,t){const[e,i]=n.split(" "),r=h=>`-${h}`;let a="0px",c=r(null!=i?i:e),d="0px";return"rtl"===t?d=r(e):a=r(e),{margin:`0px ${a} ${c} ${d}`}}(e=Qv(e=e.slice(0,e.indexOf(Jv)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,s){const r=s.items;if(e.endsWith(Jv)){const a=function zie(n,t){const[e,i]=n.split(" ");let r="0px",c="0px";return"rtl"===t?c=e:r=e,{padding:`0px ${r} ${null!=i?i:e} ${c}`}}(e=Qv(e=e.slice(0,e.indexOf(Jv)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(a,s.items)}else{e=Qv(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=r.pop(),c=function Uie(n,t){const e=_N(t.directionality,t.layout),i=Object.assign({},mN);return i[e]=n,i}(e,s);this._styler.applyStyleToElements(c,r),this._styler.applyStyleToElements(mN,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(me(Qi),me(la))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Oie=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Fie=(()=>{class n extends un{constructor(e,i,s,r,a,c){super(e,a,r,c),this.zone=i,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ge;const d=[this.directionality.change,this.observerSubject.asObservable()];this.init(d),this.marshal.trackValue(this.nativeElement,"layout").pipe(Pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let s=e.length;s--;)i[s]=e[s];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const s=e.value.split(" ");this.layout=s[0],Kv.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const a=+this.styler.lookupStyle(s,"order"),c=+this.styler.lookupStyle(r,"order");return isNaN(a)||isNaN(c)||a===c?0:a>c?1:-1});if(i.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=Nie:"row"===r&&"rtl"!==s?this.styleCache=Vie:"column"===r&&"rtl"===s?this.styleCache=Bie:"column"===r&&"rtl"!==s&&(this.styleCache=Hie),this.addStyles(e,{directionality:s,items:i,layout:r})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":_N(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(At),F(as),F(Qi),F(Lie),F(rn))},n.\u0275dir=ge({type:n,features:[we]}),n})(),Ip=(()=>{class n extends Fie{constructor(){super(...arguments),this.inputs=Oie}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[we]}),n})();const Nie=new Map,Bie=new Map,Vie=new Map,Hie=new Map,Jv=" grid";function _N(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let Wie=(()=>{class n extends vn{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[s,r,...a]=e.split(" "),c=a.join(" ");const d=i.direction.indexOf("column")>-1?"column":"row",h=kp(d)?"max-width":"max-height",g=kp(d)?"min-width":"min-height",v=String(c).indexOf("calc")>-1,b=v||"auto"===c,C=String(c).indexOf("%")>-1&&!v,D=String(c).indexOf("px")>-1||String(c).indexOf("rem")>-1||String(c).indexOf("em")>-1||String(c).indexOf("vw")>-1||String(c).indexOf("vh")>-1;let A=v||D;s="0"==s?0:s,r="0"==r?0:r;const E=!s&&!r;let I={};const P={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(c||""){case"":const N=!1!==this.layoutConfig.useColumnBasisZero;c="row"===d?"0%":N?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,c="auto";break;case"grow":c="100%";break;case"noshrink":r=0,c="auto";break;case"auto":break;case"none":s=0,r=0,c="auto";break;default:!A&&!C&&!isNaN(c)&&(c+="%"),"0%"===c&&(A=!0),"0px"===c&&(c="0%"),I=wo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":A?c:"100%"}:{flex:`${s} ${r} ${A?c:"100%"}`})}return I.flex||I["flex-grow"]||(I=wo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`})),"0%"!==c&&"0px"!==c&&"0.000000001px"!==c&&"auto"!==c&&(I[g]=E||A&&s?c:null,I[h]=E||!b&&r?c:null),I[g]||I[h]?i.hasWrap&&(I[v?"flex-basis":"flex"]=I[h]?v?I[h]:`${s} ${r} ${I[h]}`:v?I[g]:`${s} ${r} ${I[g]}`):I=wo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`}),wo(I,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(me(la))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jie=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Yie=(()=>{class n extends un{constructor(e,i,s,r,a){super(e,r,i,a),this.layoutConfig=s,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Pt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const s=e.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),a=this.wrap;r&&a?this.styleCache=qie:r&&!a?this.styleCache=Xie:!r&&a?this.styleCache=Zie:!r&&!a&&(this.styleCache=$ie);const d=hN(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(d.join(" "),{direction:s,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=hN(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Qi),F(la),F(Wie),F(rn))},n.\u0275dir=ge({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[we]}),n})(),Pp=(()=>{class n extends Yie{constructor(){super(...arguments),this.inputs=jie}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[we]}),n})();const Xie=new Map,$ie=new Map,qie=new Map,Zie=new Map;let yne=(()=>{class n extends vn{buildStyles(e,i){const s={},[r,a]=e.split(" ");switch(r){case"center":s["justify-content"]="center";break;case"space-around":s["justify-content"]="space-around";break;case"space-between":s["justify-content"]="space-between";break;case"space-evenly":s["justify-content"]="space-evenly";break;case"end":case"flex-end":s["justify-content"]="flex-end";break;default:s["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":s["align-items"]=s["align-content"]="flex-start";break;case"center":s["align-items"]=s["align-content"]="center";break;case"end":case"flex-end":s["align-items"]=s["align-content"]="flex-end";break;case"space-between":s["align-content"]="space-between",s["align-items"]="stretch";break;case"space-around":s["align-content"]="space-around",s["align-items"]="stretch";break;case"baseline":s["align-content"]="stretch",s["align-items"]="baseline";break;default:s["align-items"]=s["align-content"]="stretch"}return wo(s,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===a?kp(i.layout)?null:"100%":null,"max-height":"stretch"===a&&kp(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bne=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let xne=(()=>{class n extends un{constructor(e,i,s,r){super(e,s,i,r),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",s=this.inline;"row"===i&&s?this.styleCache=Dne:"row"!==i||s?"row-reverse"===i&&s?this.styleCache=Ene:"row-reverse"!==i||s?"column"===i&&s?this.styleCache=Ane:"column"!==i||s?"column-reverse"===i&&s?this.styleCache=Tne:"column-reverse"===i&&!s&&(this.styleCache=Sne):this.styleCache=Cne:this.styleCache=Mne:this.styleCache=wne,this.addStyles(e,{layout:i,inline:s})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),Kv.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Qi),F(yne),F(rn))},n.\u0275dir=ge({type:n,features:[we]}),n})(),Oc=(()=>{class n extends xne{constructor(){super(...arguments),this.inputs=bne}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[we]}),n})();const wne=new Map,Cne=new Map,Mne=new Map,Sne=new Map,Dne=new Map,Ane=new Map,Ene=new Map,Tne=new Map;let vN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[VM,Pc]]}),n})();class yN{}const So="*";function hn(n,t){return{type:7,name:n,definitions:t,options:{}}}function Si(n,t=null){return{type:4,styles:t,timings:n}}function xN(n,t=null){return{type:2,steps:n,options:t}}function _t(n){return{type:6,styles:n,offset:null}}function li(n,t,e){return{type:0,name:n,styles:t,options:e}}function bi(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function ey(n=null){return{type:9,options:n}}function ty(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function wN(n){Promise.resolve(null).then(n)}class eh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class CN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?wN(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++i==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function MN(){return"undefined"!=typeof window&&void 0!==window.document}function jM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Sl(n){switch(n.length){case 0:return new eh;case 1:return n[0];default:return new CN(n)}}function SN(n,t,e,i,s={},r={}){const a=[],c=[];let d=-1,h=null;if(i.forEach(g=>{const v=g.offset,b=v==d,C=b&&h||{};Object.keys(g).forEach(D=>{let A=D,E=g[D];if("offset"!==D)switch(A=t.normalizePropertyName(A,a),E){case"!":E=s[D];break;case So:E=r[D];break;default:E=t.normalizeStyleValue(D,A,E,a)}C[A]=E}),b||c.push(C),h=C,d=v}),a.length){const g="\n - ";throw new Error(`Unable to animate due to the following errors:${g}${a.join(g)}`)}return c}function YM(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&XM(e,"start",n)));break;case"done":n.onDone(()=>i(e&&XM(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&XM(e,"destroy",n)))}}function XM(n,t,e){const i=e.totalTime,r=$M(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(r._data=a),r}function $M(n,t,e,i,s="",r=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!a}}function or(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function DN(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let qM=(n,t)=>!1,AN=(n,t,e)=>[];(jM()||"undefined"!=typeof Element)&&(qM=MN()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),AN=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Nc=null,EN=!1;function ZM(n){Nc||(Nc=function Ine(){return"undefined"!=typeof document?document.body:null}()||{},EN=!!Nc.style&&"WebkitAppearance"in Nc.style);let t=!0;return Nc.style&&!function Rne(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Nc.style,!t&&EN&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Nc.style)),t}const KM=qM,QM=AN;function TN(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let kN=(()=>{class n{validateStyleProperty(e){return ZM(e)}matchesElement(e,i){return!1}containsElement(e,i){return KM(e,i)}query(e,i,s){return QM(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,a,c=[],d){return new eh(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),JM=(()=>{class n{}return n.NOOP=new kN,n})();const eS="ng-enter",iy="ng-leave",ny="ng-trigger",sy=".ng-trigger",IN="ng-animating",tS=".ng-animating";function Bc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:iS(parseFloat(t[1]),t[2])}function iS(n,t){return"s"===t?1e3*n:n}function ry(n,t,e){return n.hasOwnProperty("duration")?n:function One(n,t,e){let s,r=0,a="";if("string"==typeof n){const c=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=iS(parseFloat(c[1]),c[2]);const d=c[3];null!=d&&(r=iS(parseFloat(d),c[4]));const h=c[5];h&&(a=h)}else s=n;if(!e){let c=!1,d=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(d,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:a}}(n,t,e)}function th(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Dl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else th(n,e);return e}function LN(n,t,e){return e?t+":"+e+";":""}function ON(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=LN(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=LN(0,Bne(e),n.style[e]));n.setAttribute("style",t)}function Pa(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=sS(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),jM()&&ON(n))}function Vc(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=sS(e);n.style[i]=""}),jM()&&ON(n))}function Lp(n){return Array.isArray(n)?1==n.length?n[0]:xN(n):n}const nS=new RegExp("{{\\s*(.+?)\\s*}}","g");function FN(n){let t=[];if("string"==typeof n){let e;for(;e=nS.exec(n);)t.push(e[1]);nS.lastIndex=0}return t}function ay(n,t,e){const i=n.toString(),s=i.replace(nS,(r,a)=>{let c=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),c=""),c.toString()});return s==i?n:s}function oy(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Nne=/-+([a-z0-9])/g;function sS(n){return n.replace(Nne,(...t)=>t[1].toUpperCase())}function Bne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function NN(n,t){return 0===n||0===t}function BN(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],a=[];if(i.forEach(c=>{r.hasOwnProperty(c)||a.push(c),r[c]=e[c]}),a.length)for(var s=1;s<t.length;s++){let c=t[s];a.forEach(function(d){c[d]=rS(n,d)})}}return t}function lr(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function rS(n,t){return window.getComputedStyle(n)[t]}function Vne(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Hne(n,t,e){if(":"==n[0]){const d=function zne(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof d)return void t.push(d);n=d}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],a=i[3];t.push(VN(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(VN(a,s))}(i,e,t)):e.push(n),e}const cy=new Set(["true","1"]),dy=new Set(["false","0"]);function VN(n,t){const e=cy.has(n)||dy.has(n),i=cy.has(t)||dy.has(t);return(s,r)=>{let a="*"==n||n==s,c="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?cy.has(n):dy.has(n)),!c&&i&&"boolean"==typeof r&&(c=r?cy.has(t):dy.has(t)),a&&c}}const Gne=new RegExp("s*:selfs*,?","g");function aS(n,t,e){return new Une(n).build(t,e)}class Une{constructor(t){this._driver=t}build(t,e){const i=new Yne(e);return this._resetContextStyleTimingState(i),lr(this,Lp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const d=c,h=d.name;h.toString().split(/\s*,\s*/).forEach(g=>{d.name=g,r.push(this.visitState(d,e))}),d.name=h}else if(1==c.type){const d=this.visitTransition(c,e);i+=d.queryCount,s+=d.depCount,a.push(d)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,a=s||{};if(i.styles.forEach(c=>{if(uy(c)){const d=c;Object.keys(d).forEach(h=>{FN(d[h]).forEach(g=>{a.hasOwnProperty(g)||r.add(g)})})}}),r.size){const c=oy(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${c.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=lr(this,Lp(t.animation),e);return{type:1,matchers:Vne(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Hc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>lr(this,i,e)),options:Hc(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=i;const c=lr(this,a,e);return s=Math.max(s,e.currentTime),c});return e.currentTime=s,{type:3,steps:r,options:Hc(t.options)}}visitAnimate(t,e){const i=function $ne(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return oS(ry(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=oS(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||ry(i,t),oS(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:_t({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,c=!1;if(!a){c=!0;const h={};i.easing&&(h.easing=i.easing),a=_t(h)}e.currentTime+=i.duration+i.delay;const d=this.visitStyle(a,e);d.isEmptyStep=c,s=d}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==So?i.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):i.push(a)}):i.push(t.styles);let s=!1,r=null;return i.forEach(a=>{if(uy(a)){const c=a,d=c.easing;if(d&&(r=d,delete c.easing),!s)for(let h in c)if(c[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(c=>{if(!this._driver.validateStyleProperty(c))return void e.errors.push(`The provided animation property "${c}" is not a supported CSS property for animations`);const d=e.collectedStyles[e.currentQuerySelector],h=d[c];let g=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${c}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),g=!1),r=h.startTime),g&&(d[c]={startTime:r,endTime:s}),e.options&&function Fne(n,t,e){const i=t.params||{},s=FN(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[c],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const a=[];let c=!1,d=!1,h=0;const g=t.steps.map(I=>{const P=this._makeStyleAst(I,e);let N=null!=P.offset?P.offset:function Xne(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(uy(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(uy(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(P.styles),V=0;return null!=N&&(r++,V=P.offset=N),d=d||V<0||V>1,c=c||V<h,h=V,a.push(V),P});d&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),c&&e.errors.push("Please ensure that all keyframe offsets are in order");const v=t.steps.length;let b=0;r>0&&r<v?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(b=1/(v-1));const C=v-1,D=e.currentTime,A=e.currentAnimateTimings,E=A.duration;return g.forEach((I,P)=>{const N=b>0?P==C?1:b*P:a[P],V=N*E;e.currentTime=D+A.delay+V,A.duration=V,this._validateStyleAst(I,e),I.offset=N,i.styles.push(I)}),i}visitReference(t,e){return{type:8,animation:lr(this,Lp(t.animation),e),options:Hc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Hc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Hc(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function Wne(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Gne,"")),n=n.replace(/@\*/g,sy).replace(/@\w+/g,e=>sy+"-"+e.substr(1)).replace(/:animating/g,tS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,or(e.collectedStyles,e.currentQuerySelector,{});const c=lr(this,Lp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:c,originalSelector:t.selector,options:Hc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:ry(t.timings,e.errors,!0);return{type:12,animation:lr(this,Lp(t.animation),e),timings:i,options:null}}}class Yne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function uy(n){return!Array.isArray(n)&&"object"==typeof n}function Hc(n){return n?(n=th(n)).params&&(n.params=function jne(n){return n?th(n):null}(n.params)):n={},n}function oS(n,t,e){return{duration:n,delay:t,easing:e}}function lS(n,t,e,i,s,r,a=null,c=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:c}}class hy{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Kne=new RegExp(":enter","g"),Jne=new RegExp(":leave","g");function cS(n,t,e,i,s,r={},a={},c,d,h=[]){return(new ese).buildKeyframes(n,t,e,i,s,r,a,c,d,h)}class ese{buildKeyframes(t,e,i,s,r,a,c,d,h,g=[]){h=h||new hy;const v=new dS(t,e,h,s,r,g,[]);v.options=d,v.currentTimeline.setStyles([a],null,v.errors,d),lr(this,i,v);const b=v.timelines.filter(C=>C.containsAnimation());if(Object.keys(c).length){let C;for(let D=b.length-1;D>=0;D--){const A=b[D];if(A.element===e){C=A;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([c],null,v.errors,d)}return b.length?b.map(C=>C.buildKeyframes()):[lS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const a=null!=i.duration?Bc(i.duration):null,c=null!=i.delay?Bc(i.delay):null;return 0!==a&&t.forEach(d=>{const h=e.appendInstructionToTimeline(d,a,c);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),lr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=fy);const a=Bc(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>lr(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Bc(t.options.delay):0;t.steps.forEach(a=>{const c=e.createSubContext(t.options);r&&c.delayNextStep(r),lr(this,a,c),s=Math.max(s,c.currentTimeline.currentTime),i.push(c.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return ry(e.params?ay(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,c=e.createSubContext().currentTimeline;c.easing=i.easing,t.styles.forEach(d=>{c.forwardTime((d.offset||0)*r),c.setStyles(d.styles,d.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Bc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=fy);let a=i;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=c.length;let d=null;c.forEach((h,g)=>{e.currentQueryIndex=g;const v=e.createSubContext(t.options,h);r&&v.delayNextStep(r),h===e.element&&(d=v.currentTimeline),lr(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,v.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),c=a*(e.currentQueryTotal-1);let d=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":d=c-d;break;case"full":d=i.currentStaggerTime}const g=e.currentTimeline;d&&g.delayNextStep(d);const v=g.currentTime;lr(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-v+(s.startTime-i.currentTimeline.startTime)}}const fy={};class dS{constructor(t,e,i,s,r,a,c,d){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new py(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Bc(i.duration)),null!=i.delay&&(s.delay=Bc(i.delay));const r=i.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(c=>{(!e||!a.hasOwnProperty(c))&&(a[c]=ay(r[c],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new dS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=fy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new tse(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,a){let c=[];if(s&&c.push(this.element),t.length>0){t=(t=t.replace(Kne,"."+this._enterClassName)).replace(Jne,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=i);0!==i&&(h=i<0?h.slice(h.length+i,h.length):h.slice(0,i)),c.push(...h)}return!r&&0==c.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),c}}class py{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new py(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||So,this._currentKeyframe[e]=So}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function ise(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=So})):Dl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(c=>{const d=ay(a[c],r,i);this._pendingStyles[c]=d,this._localTimelineStyles.hasOwnProperty(c)||(this._backFill[c]=this._globalTimelineStyles.hasOwnProperty(c)?this._globalTimelineStyles[c]:So),this._updateStyle(c,d)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((c,d)=>{const h=Dl(c,!0);Object.keys(h).forEach(g=>{const v=h[g];"!"==v?t.add(g):v==So&&e.add(g)}),i||(h.offset=d/this.duration),s.push(h)});const r=t.size?oy(t.values()):[],a=e.size?oy(e.values()):[];if(i){const c=s[0],d=th(c);c.offset=0,d.offset=1,s=[c,d]}return lS(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class tse extends py{constructor(t,e,i,s,r,a,c=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=i+e,c=e/a,d=Dl(t[0],!1);d.offset=0,r.push(d);const h=Dl(t[0],!1);h.offset=GN(c),r.push(h);const g=t.length-1;for(let v=1;v<=g;v++){let b=Dl(t[v],!1);b.offset=GN((e+b.offset*i)/a),r.push(b)}i=a,e=0,s="",t=r}return lS(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function GN(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class uS{}class nse extends uS{normalizePropertyName(t,e){return sS(t)}normalizeStyleValue(t,e,i,s){let r="";const a=i.toString().trim();if(sse[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const c=i.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return a+r}}const sse=(()=>function rse(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function UN(n,t,e,i,s,r,a,c,d,h,g,v,b){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:a,timelines:c,queriedElements:d,preStyleProps:h,postStyleProps:g,totalTime:v,errors:b}}const hS={};class WN{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function ase(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):a}build(t,e,i,s,r,a,c,d,h,g){const v=[],b=this.ast.options&&this.ast.options.params||hS,D=this.buildStyles(i,c&&c.params||hS,v),A=d&&d.params||hS,E=this.buildStyles(s,A,v),I=new Set,P=new Map,N=new Map,V="void"===s,G={params:Object.assign(Object.assign({},b),A)},q=g?[]:cS(t,e,this.ast.animation,r,a,D,E,G,h,v);let ee=0;if(q.forEach(ue=>{ee=Math.max(ue.duration+ue.delay,ee)}),v.length)return UN(e,this._triggerName,i,s,V,D,E,[],[],P,N,ee,v);q.forEach(ue=>{const ce=ue.element,j=or(P,ce,{});ue.preStyleProps.forEach(Me=>j[Me]=!0);const ie=or(N,ce,{});ue.postStyleProps.forEach(Me=>ie[Me]=!0),ce!==e&&I.add(ce)});const ae=oy(I.values());return UN(e,this._triggerName,i,s,V,D,E,q,ae,P,N,ee)}}class ose{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=th(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(c=>{let d=a[c];d.length>1&&(d=ay(d,s,e));const h=this.normalizer.normalizePropertyName(c,e);d=this.normalizer.normalizeStyleValue(c,h,d,e),i[h]=d})}}),i}}class cse{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new ose(s.style,s.options&&s.options.params||{},i)}),jN(this.states,"true","1"),jN(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new WN(t,s,this.states))}),this.fallbackTransition=function dse(n,t,e){return new WN(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(a=>a.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function jN(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const use=new hy;class hse{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=aS(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=SN(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let a;const c=new Map;if(r?(a=cS(this._driver,e,r,eS,iy,{},{},i,use,s),a.forEach(g=>{const v=or(c,g.element,{});g.postStyleProps.forEach(b=>v[b]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);c.forEach((g,v)=>{Object.keys(g).forEach(b=>{g[b]=this._driver.computeStyle(v,b,So)})});const h=Sl(a.map(g=>{const v=c.get(g.element);return this._buildPlayer(g,{},v)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=$M(e,"","","");return YM(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const YN="ng-animate-queued",fS="ng-animate-disabled",_se=[],XN={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},vse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Er="__ng_removed";class pS{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function wse(n){return null!=n?n:null}(i?t.value:t),i){const r=th(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Op="void",gS=new pS(Op);class yse{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Tr(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function Cse(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=or(this._elementListeners,t,[]),a={name:e,phase:i,callback:s};r.push(a);const c=or(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(Tr(t,ny),Tr(t,ny+"-"+e),c[e]=gS),()=>{this._engine.afterFlush(()=>{const d=r.indexOf(a);d>=0&&r.splice(d,1),this._triggers[e]||delete c[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),a=new mS(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Tr(t,ny),Tr(t,ny+"-"+e),this._engine.statesByElement.set(t,c={}));let d=c[e];const h=new pS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),c[e]=h,d||(d=gS),h.value!==Op&&d.value===h.value){if(!function Dse(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(d.params,h.params)){const A=[],E=r.matchStyles(d.value,d.params,A),I=r.matchStyles(h.value,h.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Vc(t,E),Pa(t,I)})}return}const b=or(this._engine.playersByElement,t,[]);b.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let C=r.matchTransition(d.value,h.value,t,h.params),D=!1;if(!C){if(!s)return;C=r.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:d,toState:h,player:a,isFallbackTransition:D}),D||(Tr(t,YN),a.onStart(()=>{ih(t,YN)})),a.onDone(()=>{let A=this.players.indexOf(a);A>=0&&this.players.splice(A,1);const E=this._engine.playersByElement.get(t);if(E){let I=E.indexOf(a);I>=0&&E.splice(I,1)}}),this.players.push(a),b.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,sy,!0);i.forEach(s=>{if(s[Er])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t),a=new Map;if(r){const c=[];if(Object.keys(r).forEach(d=>{if(a.set(d,r[d].value),this._triggers[d]){const h=this.trigger(t,d,Op,s);h&&c.push(h)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&Sl(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const d=this._triggers[a].fallbackTransition,h=i[a]||gS,g=new pS(Op),v=new mS(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:h,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Er];(!r||r===XN)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Tr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,a=this._elementListeners.get(r);a&&a.forEach(c=>{if(c.name==i.triggerName){const d=$M(r,i.triggerName,i.fromState.value,i.toState.value);d._data=t,YM(i.player,c.phase,d,c.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class bse{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new yse(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const a=i[s[r]].namespaceId;if(a){const c=this._fetchNamespace(a);c&&e.add(c)}}}return e}trigger(t,e,i,s){if(gy(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!gy(e))return;const r=e[Er];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Tr(t,fS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ih(t,fS))}removeNode(t,e,i,s){if(gy(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,r){this.collectedLeaveElements.push(e),e[Er]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,s,r){return gy(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,sy,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,tS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Sl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Er];if(i&&i.setForRemoval){if(t[Er]=XN,i.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(fS))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Tr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Sl(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new hy,s=[],r=new Map,a=[],c=new Map,d=new Map,h=new Map,g=new Set;this.disabledNodes.forEach(le=>{g.add(le);const he=this.driver.query(le,".ng-animate-queued",!0);for(let oe=0;oe<he.length;oe++)g.add(he[oe])});const v=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=ZN(b,this.collectedEnterElements),D=new Map;let A=0;C.forEach((le,he)=>{const oe=eS+A++;D.set(he,oe),le.forEach(xe=>Tr(xe,oe))});const E=[],I=new Set,P=new Set;for(let le=0;le<this.collectedLeaveElements.length;le++){const he=this.collectedLeaveElements[le],oe=he[Er];oe&&oe.setForRemoval&&(E.push(he),I.add(he),oe.hasAnimation?this.driver.query(he,".ng-star-inserted",!0).forEach(xe=>I.add(xe)):P.add(he))}const N=new Map,V=ZN(b,Array.from(I));V.forEach((le,he)=>{const oe=iy+A++;N.set(he,oe),le.forEach(xe=>Tr(xe,oe))}),t.push(()=>{C.forEach((le,he)=>{const oe=D.get(he);le.forEach(xe=>ih(xe,oe))}),V.forEach((le,he)=>{const oe=N.get(he);le.forEach(xe=>ih(xe,oe))}),E.forEach(le=>{this.processLeaveNode(le)})});const G=[],q=[];for(let le=this._namespaceList.length-1;le>=0;le--)this._namespaceList[le].drainQueuedTransitions(e).forEach(oe=>{const xe=oe.player,Ee=oe.element;if(G.push(xe),this.collectedEnterElements.length){const $t=Ee[Er];if($t&&$t.setForMove){if($t.previousTriggersValues&&$t.previousTriggersValues.has(oe.triggerName)){const zt=$t.previousTriggersValues.get(oe.triggerName),Ot=this.statesByElement.get(oe.element);Ot&&Ot[oe.triggerName]&&(Ot[oe.triggerName].value=zt)}return void xe.destroy()}}const We=!v||!this.driver.containsElement(v,Ee),Ne=N.get(Ee),Ct=D.get(Ee),wt=this._buildInstruction(oe,i,Ct,Ne,We);if(wt.errors&&wt.errors.length)return void q.push(wt);if(We)return xe.onStart(()=>Vc(Ee,wt.fromStyles)),xe.onDestroy(()=>Pa(Ee,wt.toStyles)),void s.push(xe);if(oe.isFallbackTransition)return xe.onStart(()=>Vc(Ee,wt.fromStyles)),xe.onDestroy(()=>Pa(Ee,wt.toStyles)),void s.push(xe);const Ht=[];wt.timelines.forEach($t=>{$t.stretchStartingKeyframe=!0,this.disabledNodes.has($t.element)||Ht.push($t)}),wt.timelines=Ht,i.append(Ee,wt.timelines),a.push({instruction:wt,player:xe,element:Ee}),wt.queriedElements.forEach($t=>or(c,$t,[]).push(xe)),wt.preStyleProps.forEach(($t,zt)=>{const Ot=Object.keys($t);if(Ot.length){let $e=d.get(zt);$e||d.set(zt,$e=new Set),Ot.forEach(ni=>$e.add(ni))}}),wt.postStyleProps.forEach(($t,zt)=>{const Ot=Object.keys($t);let $e=h.get(zt);$e||h.set(zt,$e=new Set),Ot.forEach(ni=>$e.add(ni))})});if(q.length){const le=[];q.forEach(he=>{le.push(`@${he.triggerName} has failed due to:\n`),he.errors.forEach(oe=>le.push(`- ${oe}\n`))}),G.forEach(he=>he.destroy()),this.reportError(le)}const ee=new Map,ae=new Map;a.forEach(le=>{const he=le.element;i.has(he)&&(ae.set(he,he),this._beforeAnimationBuild(le.player.namespaceId,le.instruction,ee))}),s.forEach(le=>{const he=le.element;this._getPreviousPlayers(he,!1,le.namespaceId,le.triggerName,null).forEach(xe=>{or(ee,he,[]).push(xe),xe.destroy()})});const ue=E.filter(le=>QN(le,d,h)),ce=new Map;qN(ce,this.driver,P,h,So).forEach(le=>{QN(le,d,h)&&ue.push(le)});const ie=new Map;C.forEach((le,he)=>{qN(ie,this.driver,new Set(le),d,"!")}),ue.forEach(le=>{const he=ce.get(le),oe=ie.get(le);ce.set(le,Object.assign(Object.assign({},he),oe))});const Me=[],pe=[],_e={};a.forEach(le=>{const{element:he,player:oe,instruction:xe}=le;if(i.has(he)){if(g.has(he))return oe.onDestroy(()=>Pa(he,xe.toStyles)),oe.disabled=!0,oe.overrideTotalTime(xe.totalTime),void s.push(oe);let Ee=_e;if(ae.size>1){let Ne=he;const Ct=[];for(;Ne=Ne.parentNode;){const wt=ae.get(Ne);if(wt){Ee=wt;break}Ct.push(Ne)}Ct.forEach(wt=>ae.set(wt,Ee))}const We=this._buildAnimation(oe.namespaceId,xe,ee,r,ie,ce);if(oe.setRealPlayer(We),Ee===_e)Me.push(oe);else{const Ne=this.playersByElement.get(Ee);Ne&&Ne.length&&(oe.parentPlayer=Sl(Ne)),s.push(oe)}}else Vc(he,xe.fromStyles),oe.onDestroy(()=>Pa(he,xe.toStyles)),pe.push(oe),g.has(he)&&s.push(oe)}),pe.forEach(le=>{const he=r.get(le.element);if(he&&he.length){const oe=Sl(he);le.setRealPlayer(oe)}}),s.forEach(le=>{le.parentPlayer?le.syncPlayerEvents(le.parentPlayer):le.destroy()});for(let le=0;le<E.length;le++){const he=E[le],oe=he[Er];if(ih(he,iy),oe&&oe.hasAnimation)continue;let xe=[];if(c.size){let We=c.get(he);We&&We.length&&xe.push(...We);let Ne=this.driver.query(he,tS,!0);for(let Ct=0;Ct<Ne.length;Ct++){let wt=c.get(Ne[Ct]);wt&&wt.length&&xe.push(...wt)}}const Ee=xe.filter(We=>!We.destroyed);Ee.length?Mse(this,he,Ee):this.processLeaveNode(he)}return E.length=0,Me.forEach(le=>{this.players.push(le),le.onDone(()=>{le.destroy();const he=this.players.indexOf(le);this.players.splice(he,1)}),le.play()}),Me}elementContainsData(t,e){let i=!1;const s=e[Er];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let a=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(a=c)}else{const c=this.playersByElement.get(t);if(c){const d=!r||r==Op;c.forEach(h=>{h.queued||!d&&h.triggerName!=s||a.push(h)})}}return(i||s)&&(a=a.filter(c=>!(i&&i!=c.namespaceId||s&&s!=c.triggerName))),a}_beforeAnimationBuild(t,e,i){const r=e.element,a=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const h=d.element,g=h!==r,v=or(i,h,[]);this._getPreviousPlayers(h,g,a,c,e.toState).forEach(C=>{const D=C.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),C.destroy(),v.push(C)})}Vc(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,a){const c=e.triggerName,d=e.element,h=[],g=new Set,v=new Set,b=e.timelines.map(D=>{const A=D.element;g.add(A);const E=A[Er];if(E&&E.removedBeforeQueried)return new eh(D.duration,D.delay);const I=A!==d,P=function Sse(n){const t=[];return KN(n,t),t}((i.get(A)||_se).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===A),N=r.get(A),V=a.get(A),G=SN(0,this._normalizer,0,D.keyframes,N,V),q=this._buildPlayer(D,G,P);if(D.subTimeline&&s&&v.add(A),I){const ee=new mS(t,c,A);ee.setRealPlayer(q),h.push(ee)}return q});h.forEach(D=>{or(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function xse(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,D.element,D))}),g.forEach(D=>Tr(D,IN));const C=Sl(b);return C.onDestroy(()=>{g.forEach(D=>ih(D,IN)),Pa(d,e.toStyles)}),v.forEach(D=>{or(s,D,[]).push(C)}),C}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new eh(t.duration,t.delay)}}class mS{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new eh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>YM(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){or(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gy(n){return n&&1===n.nodeType}function $N(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function qN(n,t,e,i,s){const r=[];e.forEach(d=>r.push($N(d)));const a=[];i.forEach((d,h)=>{const g={};d.forEach(v=>{const b=g[v]=t.computeStyle(h,v,s);(!b||0==b.length)&&(h[Er]=vse,a.push(h))}),n.set(h,g)});let c=0;return e.forEach(d=>$N(d,r[c++])),a}function ZN(n,t){const e=new Map;if(n.forEach(c=>e.set(c,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(c){if(!c)return 1;let d=r.get(c);if(d)return d;const h=c.parentNode;return d=e.has(h)?h:s.has(h)?1:a(h),r.set(c,d),d}return t.forEach(c=>{const d=a(c);1!==d&&e.get(d).push(c)}),e}function Tr(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ih(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Mse(n,t,e){Sl(e).onDone(()=>n.processLeaveNode(t))}function KN(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof CN?KN(i.players,t):t.push(i)}}function QN(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class my{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new bse(t,e,i),this._timelineEngine=new hse(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const a=t+"-"+s;let c=this._triggerCache[a];if(!c){const d=[],h=aS(this._driver,r,d);if(d.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${d.join("\n - ")}`);c=function lse(n,t,e){return new cse(n,t,e)}(s,h,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(e,s,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,a]=DN(i);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[a,c]=DN(i);return this._timelineEngine.listen(a,e,c,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function JN(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=_S(t[0]),t.length>1&&(i=_S(t[t.length-1]))):t&&(e=_S(t)),e||i?new Ase(n,e,i):null}let Ase=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pa(this._element,this._initialStyles),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Vc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Vc(this._element,this._endStyles),this._endStyles=null),Pa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function _S(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];Ese(s)&&(t=t||{},t[s]=n[s])}return t}function Ese(n){return"display"===n||"position"===n}const eB="animation",tB="animationend";class Rse{constructor(t,e,i,s,r,a,c){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=c,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=d=>this._handleCallback(d)}apply(){(function Ise(n,t){const e=yS(n,"").trim();let i=0;e.length&&(i=function Lse(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),_y(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){iB(this._element,this._name,"paused")}resume(){iB(this._element,this._name,"running")}setPosition(t){const e=nB(this._element,this._name);this._position=t*this._duration,_y(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Pse(n,t){const i=yS(n,"").split(","),s=vS(i,t);s>=0&&(i.splice(s,1),_y(n,"",i.join(",")))}(this._element,this._name))}}function iB(n,t,e){_y(n,"PlayState",e,nB(n,t))}function nB(n,t){const e=yS(n,"");return e.indexOf(",")>0?vS(e.split(","),t):vS([e],t)}function vS(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function sB(n,t,e){e?n.removeEventListener(tB,t):n.addEventListener(tB,t)}function _y(n,t,e,i){const s=eB+t;if(null!=i){const r=n.style[s];if(r.length){const a=r.split(",");a[i]=e,e=a.join(",")}}n.style[s]=e}function yS(n,t){return n.style[eB+t]||""}class rB{constructor(t,e,i,s,r,a,c,d){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=c,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Rse(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:rS(this.element,i))})}this.currentSnapshot=t}}class Nse extends eh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=TN(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class oB{constructor(){this._count=0}validateStyleProperty(t){return ZM(t)}matchesElement(t,e){return!1}containsElement(t,e){return KM(t,e)}query(t,e,i){return QM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(c=>TN(c));let s=`@keyframes ${e} {\n`,r="";i.forEach(c=>{r=" ";const d=parseFloat(c.offset);s+=`${r}${100*d}% {\n`,r+=" ",Object.keys(c).forEach(h=>{const g=c[h];switch(h){case"offset":return;case"easing":return void(g&&(s+=`${r}animation-timing-function: ${g};\n`));default:return void(s+=`${r}${h}: ${g};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,i,s,r,a=[],c){const d=a.filter(E=>E instanceof rB),h={};NN(i,s)&&d.forEach(E=>{let I=E.currentSnapshot;Object.keys(I).forEach(P=>h[P]=I[P])});const g=function Hse(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=BN(t,e,h));if(0==i)return new Nse(t,g);const v="gen_css_kf_"+this._count++,b=this.buildKeyframeElement(t,v,e);(function Vse(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(b);const D=JN(t,e),A=new rB(t,e,v,i,s,r,g,D);return A.onDestroy(()=>function zse(n){n.parentNode.removeChild(n)}(b)),A}}class cB{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:rS(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Gse{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dB().toString()),this._cssKeyframesDriver=new oB}validateStyleProperty(t){return ZM(t)}matchesElement(t,e){return!1}containsElement(t,e){return KM(t,e)}query(t,e,i){return QM(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,a=[],c){if(!c&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,a);const g={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(g.easing=r);const v={},b=a.filter(D=>D instanceof cB);NN(i,s)&&b.forEach(D=>{let A=D.currentSnapshot;Object.keys(A).forEach(E=>v[E]=A[E])});const C=JN(t,e=BN(t,e=e.map(D=>Dl(D,!1)),v));return new cB(t,e,g,C)}}function dB(){return MN()&&Element.prototype.animate||{}}let Wse=(()=>{class n extends yN{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Vr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?xN(e):e;return uB(this._renderer,null,i,"register",[s]),new jse(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(me(hf),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class jse extends class kne{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Yse(this._id,t,e||{},this._renderer)}}class Yse{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return uB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function uB(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const hB="@.disabled";let Xse=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,a)=>{const c=null==a?void 0:a.parentNode(r);c&&a.removeChild(c,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(r);return g||(g=new fB("",r,this.engine),this._rendererCache.set(r,g)),g}const a=i.id,c=i.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const d=g=>{Array.isArray(g)?g.forEach(d):this.engine.registerTrigger(a,c,e,g.name,g)};return i.data.animation.forEach(d),new $se(this,c,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,c]=r;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(me(hf),me(my),me(At))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();class fB{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==hB?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class $se extends fB{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==hB?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function qse(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function Zse(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,i,c)})}return this.delegate.listen(t,e,i)}}let Kse=(()=>{class n extends my{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(JM),me(uS))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Bn=new Se("AnimationModuleType"),pB=[{provide:yN,useClass:Wse},{provide:uS,useFactory:function Jse(){return new nse}},{provide:my,useClass:Kse},{provide:hf,useFactory:function ere(n,t,e){return new Xse(n,t,e)},deps:[zm,my,At]}],gB=[{provide:JM,useFactory:function Qse(){return function Use(){return"function"==typeof dB()}()?new Gse:new oB}},{provide:Bn,useValue:"BrowserAnimations"},...pB],tre=[{provide:JM,useClass:kN},{provide:Bn,useValue:"NoopAnimations"},...pB];let bS,ire=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?tre:gB}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:gB,imports:[lI]}),n})();try{bS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){bS=!1}let nh,Dn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?$l(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(me(er))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _B=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vB(){if(nh)return nh;if("object"!=typeof document||!document)return nh=new Set(_B),nh;let n=document.createElement("input");return nh=new Set(_B.filter(t=>(n.setAttribute("type",t),n.type===t))),nh}let Fp,yy,zc,xS;function ca(n){return function nre(){if(null==Fp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fp=!0}))}finally{Fp=Fp||!1}return Fp}()?n:!!n.capture}function yB(){if(null==zc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zc=!1,zc;if("scrollBehavior"in document.documentElement.style)zc=!0;else{const n=Element.prototype.scrollTo;zc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zc}function Np(){if("object"!=typeof document||!document)return 0;if(null==yy){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),yy=0,0===n.scrollLeft&&(n.scrollLeft=1,yy=0===n.scrollLeft?1:2),n.remove()}return yy}function by(n){if(function sre(){if(null==xS){const n="undefined"!=typeof document?document.head:null;xS=!(!n||!n.createShadowRoot&&!n.attachShadow)}return xS}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function kr(n){return n.composedPath?n.composedPath()[0]:n.target}function wS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Fs(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function ES(n,t=qv){return gi((e,i)=>{let s=null,r=null,a=null;const c=()=>{if(s){s.unsubscribe(),s=null;const h=r;r=null,i.next(h)}};function d(){const h=a+n,g=t.now();if(g<h)return s=this.schedule(void 0,h-g),void i.add(s);c()}e.subscribe(new Bi(i,h=>{r=h,a=t.now(),s||(s=t.schedule(d,n),i.add(s))},()=>{c(),i.complete()},void 0,()=>{r=s=null}))})}function wy(n,t=Nr){return n=null!=n?n:_re,gi((e,i)=>{let s,r=!0;e.subscribe(new Bi(i,a=>{const c=t(a);(r||!n(s,c))&&(r=!1,s=c,i.next(a))}))})}function _re(n,t){return n===t}function ct(n){return null!=n&&"false"!=`${n}`}function os(n,t=0){return function vre(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function wB(n){return Array.isArray(n)?n:[n]}function Vn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function An(n){return n instanceof Ye?n.nativeElement:n}let CB=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yre=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=An(e);return new Jt(s=>{const a=this._observeElement(i).subscribe(s);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Ge,s=this._mutationObserverFactory.create(r=>i.next(r));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(me(CB))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cy=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new gt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ct(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=os(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ES(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(F(yre),F(Ye),F(At))},n.\u0275dir=ge({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[CB]}),n})();class DB{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ge,this._typeaheadSubscription=Le.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ge,this.change=new Ge,t instanceof jl&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Yn(e=>this._pressedLetters.push(e)),ES(t),nn(()=>this._pressedLetters.length>0),jt(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const r=(this._activeItemIndex+s)%i.length,a=i[r];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Fs(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof jl?this._items.toArray():this._items}}class wre extends DB{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class TS extends DB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let AB=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Mre(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Cre(n){try{return n.frameElement}catch(t){return null}}(function Ire(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===TB(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),r=TB(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function kre(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Rre(n){return!function Dre(n){return function Ere(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Sre(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Are(n){return function Tre(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||EB(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(me(Dn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function EB(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function TB(n){if(!EB(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Pre{constructor(t,e,i,s,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(T(1)).subscribe(t)}}let Lre=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new Pre(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(me(AB),me(At),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kS(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function RS(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Ore=new Se("cdk-input-modality-detector-options"),Fre={ignoreKeys:[18,17,224,91,16]},rh=ca({passive:!0,capture:!0});let Nre=(()=>{class n{constructor(e,i,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Rs(null),this._lastTouchMs=0,this._onKeydown=a=>{var c,d;(null===(d=null===(c=this._options)||void 0===c?void 0:c.ignoreKeys)||void 0===d?void 0:d.some(h=>h===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=kr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(kS(a)?"keyboard":"mouse"),this._mostRecentTarget=kr(a))},this._onTouchstart=a=>{RS(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=kr(a))},this._options=Object.assign(Object.assign({},Fre),r),this.modalityDetected=this._modality.pipe(function mre(n){return nn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(wy()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,rh),s.addEventListener("mousedown",this._onMousedown,rh),s.addEventListener("touchstart",this._onTouchstart,rh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rh),document.removeEventListener("mousedown",this._onMousedown,rh),document.removeEventListener("touchstart",this._onTouchstart,rh))}}return n.\u0275fac=function(e){return new(e||n)(me(Dn),me(At),me(Bt),me(Ore,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Bre=new Se("liveAnnouncerElement",{providedIn:"root",factory:function Vre(){return null}}),Hre=new Se("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let zre=(()=>{class n{constructor(e,i,s,r){this._ngZone=i,this._defaultOptions=r,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let r,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[r,a]=i,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),null==a&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let r=0;r<i.length;r++)i[r].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(me(Bre,8),me(At),me(Bt),me(Hre,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gre=new Se("cdk-focus-monitor-default-options"),My=ca({passive:!0,capture:!0});let Do=(()=>{class n{constructor(e,i,s,r,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ge,this._rootNodeFocusAndBlurListener=c=>{const d=kr(c),h="focus"===c.type?this._onFocus:this._onBlur;for(let g=d;g;g=g.parentElement)h.call(this,c,g)},this._document=r,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const s=An(e);if(!this._platform.isBrowser||1!==s.nodeType)return It(null);const r=by(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return i&&(a.checkChildren=!0),a.subject;const c={checkChildren:i,subject:new Ge,rootNode:r};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const i=An(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const r=An(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([c,d])=>this._originChanged(c,i,d)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),r=kr(e);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,My),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,My)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,My),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,My),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&i.push([r,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(me(At),me(Dn),me(Nre),me(Bt,8),me(Gre,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new gt}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Do))},n.\u0275dir=ge({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const RB="cdk-high-contrast-black-on-white",IB="cdk-high-contrast-white-on-black",IS="cdk-high-contrast-active";let PB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(IS),e.remove(RB),e.remove(IB),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(IS),e.add(RB)):2===i&&(e.add(IS),e.add(IB))}}}return n.\u0275fac=function(e){return new(e||n)(me(Dn),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sy=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(me(PB))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Bp]]}),n})();function Wre(n,t){if(1&n&&yt(0,"mat-pseudo-checkbox",4),2&n){const e=ui();Pe("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function jre(n,t){if(1&n&&(se(0,"span",5),Ue(1),re()),2&n){const e=ui();ye(1),hi("(",e.group.label,")")}}const Yre=["*"],$re=new Se("mat-sanity-checks",{providedIn:"root",factory:function Xre(){return!0}});let xt=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!wS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(me(PB),me($re,8),me(Bt))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pc],Pc]}),n})();function Ao(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ct(t)}}}function Eo(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Rr(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ct(t)}}}function jc(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?os(e):this.defaultTabIndex}}}function OS(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Ge,this.errorState=!1}updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}}}const qre=new Se("MAT_DATE_LOCALE",{providedIn:"root",factory:function Zre(){return xd(eo)}});class La{constructor(){this._localeChanges=new Ge,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const FS=new Se("mat-date-formats"),Kre=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function NS(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Qre=(()=>{class n extends La{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return NS(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return NS(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return NS(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let r=this._createDateWithOverflow(e,i,s);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(s,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Kre.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const r=new Date;return r.setFullYear(e,i,s),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return n.\u0275fac=function(e){return new(e||n)(me(qre,8),me(Dn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const Jre={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let eae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[{provide:La,useClass:Qre}]}),n})(),OB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[{provide:FS,useValue:Jre}],imports:[[eae]]}),n})(),ah=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Vp(n,t,e){n.nativeElement.classList.toggle(t,e)}let Dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})();class tae{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NB={enterDuration:225,exitDuration:150},VS=ca({passive:!0}),BB=["mousedown","touchstart"],VB=["mouseup","mouseleave","touchend","touchcancel"];class HB{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=An(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},NB),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const a=i.radius||function sae(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),c=t-s.left,d=e-s.top,h=r.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=c-a+"px",g.style.top=d-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=i.color&&(g.style.backgroundColor=i.color),g.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(g),function nae(n){window.getComputedStyle(n).getPropertyValue("opacity")}(g),g.style.transform="scale(1)";const v=new tae(this,g,i);return v.state=0,this._activeRipples.add(v),i.persistent||(this._mostRecentTransientRipple=v),this._runTimeoutOutsideZone(()=>{const b=v===this._mostRecentTransientRipple;v.state=1,!i.persistent&&(!b||!this._isPointerDown)&&v.fadeOut()},h),v}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},NB),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=An(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(BB))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(VB),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=kS(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!RS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,VS)})})}_removeTriggerEvents(){this._triggerElement&&(BB.forEach(t=>{this._triggerElement.removeEventListener(t,this,VS)}),this._pointerUpEventsRegistered&&VB.forEach(t=>{this._triggerElement.removeEventListener(t,this,VS)}))}}const zB=new Se("mat-ripple-global-options");let Ir=(()=>{class n{constructor(e,i,s,r,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new HB(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(At),F(Dn),F(zB,8),F(Bn,8))},n.\u0275dir=ge({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Qt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Pr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})(),GB=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&Qt("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),HS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt]]}),n})();const UB=new Se("MAT_OPTION_PARENT_COMPONENT"),WB=new Se("MatOptgroup");let rae=0;class jB{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let aae=(()=>{class n{constructor(e,i,s,r){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rae++,this.onSelectionChange=new gt,this._stateChanges=new Ge}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=ct(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Fs(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new jB(this,e))}}return n.\u0275fac=function(e){Ud()},n.\u0275dir=ge({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),zS=(()=>{class n extends aae{constructor(e,i,s,r){super(e,i,s,r)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(UB,8),F(WB,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&dt("click",function(){return i._selectViaInteraction()})("keydown",function(r){return i._handleKeydown(r)}),2&e&&(wa("id",i.id),Yt("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),Qt("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[we],ngContentSelectors:Yre,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(tn(),Lt(0,Wre,1,2,"mat-pseudo-checkbox",0),se(1,"span",1),ai(2),re(),Lt(3,jre,2,1,"span",2),yt(4,"div",3)),2&e&&(Pe("ngIf",i.multiple),ye(3),Pe("ngIf",i.group&&i.group._inert),ye(1),Pe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[GB,ks,Ir],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function GS(n,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),r=0;for(let a=0;a<n+1;a++)i[a].group&&i[a].group===s[r]&&r++;return r}return 0}let Ay=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pr,Pn,xt,HS]]}),n})();const oae=["*",[["mat-card-footer"]]],lae=["*","mat-card-footer"],cae=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],dae=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let XB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),US=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),$B=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&Qt("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:lae,decls:2,vars:0,template:function(e,i){1&e&&(tn(oae),ai(0),ai(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),qB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:dae,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(tn(cae),ai(0),se(1,"div",0),ai(2,1),re(),ai(3,2))},encapsulation:2,changeDetection:0}),n})(),ZB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})();const uae=["addListener","removeListener"],hae=["addEventListener","removeEventListener"],fae=["on","off"];function Lr(n,t,e,i){if(_i(e)&&(i=e,e=void 0),i)return Lr(n,t,e).pipe(lw(i));const[s,r]=function mae(n){return _i(n.addEventListener)&&_i(n.removeEventListener)}(n)?hae.map(a=>c=>n[a](t,c,e)):function pae(n){return _i(n.addListener)&&_i(n.removeListener)}(n)?uae.map(KB(n,t)):function gae(n){return _i(n.on)&&_i(n.off)}(n)?fae.map(KB(n,t)):[];if(!s&&id(n))return an(a=>Lr(a,t,e))(ls(n));if(!s)throw new TypeError("Invalid event target");return new Jt(a=>{const c=(...d)=>a.next(1<d.length?d:d[0]);return s(c),()=>r(c)})}function KB(n,t){return e=>i=>n[e](t,i)}const _ae=["connectionContainer"],vae=["inputContainer"],yae=["label"];function bae(n,t){1&n&&(Wd(0),se(1,"div",14),yt(2,"div",15),yt(3,"div",16),yt(4,"div",17),re(),se(5,"div",18),yt(6,"div",15),yt(7,"div",16),yt(8,"div",17),re(),jd())}function xae(n,t){if(1&n){const e=Ka();se(0,"div",19),dt("cdkObserveContent",function(){return gr(e),ui().updateOutlineGap()}),ai(1,1),re()}2&n&&Pe("cdkObserveContentDisabled","outline"!=ui().appearance)}function wae(n,t){if(1&n&&(Wd(0),ai(1,2),se(2,"span"),Ue(3),re(),jd()),2&n){const e=ui(2);ye(3),Vs(e._control.placeholder)}}function Cae(n,t){1&n&&ai(0,3,["*ngSwitchCase","true"])}function Mae(n,t){1&n&&(se(0,"span",23),Ue(1," *"),re())}function Sae(n,t){if(1&n){const e=Ka();se(0,"label",20,21),dt("cdkObserveContent",function(){return gr(e),ui().updateOutlineGap()}),Lt(2,wae,4,1,"ng-container",12),Lt(3,Cae,1,0,"ng-content",12),Lt(4,Mae,2,0,"span",22),re()}if(2&n){const e=ui();Qt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Pe("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Yt("for",e._control.id)("aria-owns",e._control.id),ye(2),Pe("ngSwitchCase",!1),ye(1),Pe("ngSwitchCase",!0),ye(1),Pe("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Dae(n,t){1&n&&(se(0,"div",24),ai(1,4),re())}function Aae(n,t){if(1&n&&(se(0,"div",25),yt(1,"span",26),re()),2&n){const e=ui();ye(1),Qt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Eae(n,t){1&n&&(se(0,"div"),ai(1,5),re()),2&n&&Pe("@transitionMessages",ui()._subscriptAnimationState)}function Tae(n,t){if(1&n&&(se(0,"div",30),Ue(1),re()),2&n){const e=ui(2);Pe("id",e._hintLabelId),ye(1),Vs(e.hintLabel)}}function kae(n,t){if(1&n&&(se(0,"div",27),Lt(1,Tae,2,2,"div",28),ai(2,6),yt(3,"div",29),ai(4,7),re()),2&n){const e=ui();Pe("@transitionMessages",e._subscriptAnimationState),ye(1),Pe("ngIf",e.hintLabel)}}const Rae=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Iae=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Pae=new Se("MatError"),Lae={transitionMessages:hn("transitionMessages",[li("enter",_t({opacity:1,transform:"translateY(0%)"})),bi("void => enter",[_t({opacity:0,transform:"translateY(-5px)"}),Si("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Hp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n}),n})();const Oae=new Se("MatHint");let Ey=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["mat-label"]]}),n})(),Fae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["mat-placeholder"]]}),n})();const Nae=new Se("MatPrefix"),Bae=new Se("MatSuffix");let QB=0;const Hae=Eo(class{constructor(n){this._elementRef=n}},"primary"),zae=new Se("MAT_FORM_FIELD_DEFAULT_OPTIONS"),zp=new Se("MatFormField");let eV=(()=>{class n extends Hae{constructor(e,i,s,r,a,c,d){super(e),this._changeDetectorRef=i,this._dir=s,this._defaults=r,this._platform=a,this._ngZone=c,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ge,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+QB++,this._labelId="mat-form-field-label-"+QB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==d,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ct(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Gs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),M(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Gs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Gs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Lr(this._label.nativeElement,"transitionend").pipe(T(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(r=>"start"===r.align):null,s=this._hintChildren?this._hintChildren.find(r=>"end"===r.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",r=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const g=i.querySelectorAll(`${s}, ${r}`);for(let v=0;v<g.length;v++)g[v].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,c=0;const d=i.querySelectorAll(s),h=i.querySelectorAll(r);if(this._label&&this._label.nativeElement.children.length){const g=i.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(g),b=e.children,C=this._getStartEnd(b[0].getBoundingClientRect());let D=0;for(let A=0;A<b.length;A++)D+=b[A].offsetWidth;a=Math.abs(C-v)-5,c=D>0?.75*D+10:0}for(let g=0;g<d.length;g++)d[g].style.width=`${a}px`;for(let g=0;g<h.length;g++)h[g].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(as,8),F(zae,8),F(Dn),F(At),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(ii(s,Hp,5),ii(s,Hp,7),ii(s,Ey,5),ii(s,Ey,7),ii(s,Fae,5),ii(s,Pae,5),ii(s,Oae,5),ii(s,Nae,5),ii(s,Bae,5)),2&e){let r;Ke(r=Qe())&&(i._controlNonStatic=r.first),Ke(r=Qe())&&(i._controlStatic=r.first),Ke(r=Qe())&&(i._labelChildNonStatic=r.first),Ke(r=Qe())&&(i._labelChildStatic=r.first),Ke(r=Qe())&&(i._placeholderChild=r.first),Ke(r=Qe())&&(i._errorChildren=r),Ke(r=Qe())&&(i._hintChildren=r),Ke(r=Qe())&&(i._prefixChildren=r),Ke(r=Qe())&&(i._suffixChildren=r)}},viewQuery:function(e,i){if(1&e&&(oi(_ae,7),oi(vae,5),oi(yae,5)),2&e){let s;Ke(s=Qe())&&(i._connectionContainerRef=s.first),Ke(s=Qe())&&(i._inputContainerRef=s.first),Ke(s=Qe())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&Qt("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[vt([{provide:zp,useExisting:n}]),we],ngContentSelectors:Iae,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(tn(Rae),se(0,"div",0),se(1,"div",1,2),dt("click",function(r){return i._control.onContainerClick&&i._control.onContainerClick(r)}),Lt(3,bae,9,0,"ng-container",3),Lt(4,xae,2,1,"div",4),se(5,"div",5,6),ai(7),se(8,"span",7),Lt(9,Sae,5,16,"label",8),re(),re(),Lt(10,Dae,2,0,"div",9),re(),Lt(11,Aae,2,4,"div",10),se(12,"div",11),Lt(13,Eae,2,1,"div",12),Lt(14,kae,5,2,"div",13),re(),re()),2&e&&(ye(3),Pe("ngIf","outline"==i.appearance),ye(1),Pe("ngIf",i._prefixChildren.length),ye(5),Pe("ngIf",i._hasFloatingLabel()),ye(1),Pe("ngIf",i._suffixChildren.length),ye(1),Pe("ngIf","outline"!=i.appearance),ye(1),Pe("ngSwitch",i._getDisplayedMessages()),ye(1),Pe("ngSwitchCase","error"),ye(1),Pe("ngSwitchCase","hint"))},directives:[ks,Cy,nu,Om],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Lae.transitionMessages]},changeDetection:0}),n})(),Gp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt,Bp],xt]}),n})();const Up={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Up;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(r=>{e=void 0,n(r)});return new Le(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=Up;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Up;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},tV=new class Uae extends NM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class Gae extends FM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Up.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Up.cancelAnimationFrame(e),t._scheduled=void 0)}});let WS,Wae=1;const Ty={};function iV(n){return n in Ty&&(delete Ty[n],!0)}const jae={setImmediate(n){const t=Wae++;return Ty[t]=!0,WS||(WS=Promise.resolve()),WS.then(()=>iV(t)&&n()),t},clearImmediate(n){iV(n)}},{setImmediate:Yae,clearImmediate:Xae}=jae,ky={setImmediate(...n){const{delegate:t}=ky;return((null==t?void 0:t.setImmediate)||Yae)(...n)},clearImmediate(n){const{delegate:t}=ky;return((null==t?void 0:t.clearImmediate)||Xae)(n)},delegate:void 0},jS=new class qae extends NM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class $ae extends FM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ky.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(ky.clearImmediate(e),t._scheduled=void 0)}});function nV(n,t=K2){return function Zae(n){return gi((t,e)=>{let i=!1,s=null,r=null,a=!1;const c=()=>{if(null==r||r.unsubscribe(),r=null,i){i=!1;const h=s;s=null,e.next(h)}a&&e.complete()},d=()=>{r=null,a&&e.complete()};t.subscribe(new Bi(e,h=>{i=!0,s=h,r||ls(n(h)).subscribe(r=new Bi(e,c,d))},()=>{a=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>Tp(n,t))}let YS=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new Ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jt(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(nV(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):It()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=An(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Lr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(me(At),me(Dn),me(Bt,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XS=(()=>{class n{constructor(e,i,s,r){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=r,this._destroyed=new Ge,this._elementScrolled=new Jt(a=>this.ngZone.runOutsideAngular(()=>Lr(this.elementRef.nativeElement,"scroll").pipe(Pt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=Np()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Np()?e.left=e.right:1==Np()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;yB()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?s:i:"end"==e&&(e=a?i:s),a&&2==Np()?e==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&1==Np()?e==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(YS),F(At),F(as,8))},n.\u0275dir=ge({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),da=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new Ge,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(nV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(me(Dn),me(At),me(Bt,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),$S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pc,Oa],Pc,Oa]}),n})();class qS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Jae extends qS{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Ry extends qS{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class eoe extends qS{constructor(t){super(),this.element=t instanceof Ye?t.nativeElement:t}}class sV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Jae?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ry?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof eoe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class toe extends sV{constructor(t,e,i,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=a=>{const c=a.element,d=this._document.createComment("dom-portal");c.parentNode.insertBefore(d,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||kn.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ZS=(()=>{class n extends sV{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new gt,this.attachDomPortal=r=>{const a=r.element,c=this._document.createComment("dom-portal");r.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(r,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(F(Qa),F(on),F(Bt))},n.\u0275dir=ge({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[we]}),n})(),Yc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})();const rV=yB();class noe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Vn(-this._previousScrollPosition.left),t.style.top=Vn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,r=i.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),rV&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),rV&&(i.scrollBehavior=r,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class soe{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class aV{enable(){}disable(){}attach(){}}function KS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function oV(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class roe{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();KS(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let aoe=(()=>{class n{constructor(e,i,s,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new aV,this.close=a=>new soe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new noe(this._viewportRuler,this._document),this.reposition=a=>new roe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}}return n.\u0275fac=function(e){return new(e||n)(me(YS),me(da),me(At),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class QS{constructor(t){if(this.scrollStrategy=new aV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class ooe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class loe{constructor(t,e,i,s,r,a,c,d,h){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=a,this._document=c,this._location=d,this._outsideClickDispatcher=h,this._backdropElement=null,this._backdropClick=new Ge,this._attachments=new Ge,this._detachments=new Ge,this._locationChanges=Le.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new Ge,this._outsidePointerEvents=new Ge,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Vn(this._config.width),t.height=Vn(this._config.height),t.minWidth=Vn(this._config.minWidth),t.minHeight=Vn(this._config.minHeight),t.maxWidth=Vn(this._config.maxWidth),t.maxHeight=Vn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const s=wB(e||[]).filter(r=>!!r);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Pt(M(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let lV=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||wS()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(e),wS()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(Dn))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cV="cdk-overlay-connected-position-bounding-box",coe=/([A-Za-z%]+)$/;class doe{constructor(t,e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ge,this._resizeSubscription=Le.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(cV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let a;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,s,c),h=this._getOverlayPoint(d,e,c),g=this._getOverlayFit(h,e,i,c);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(g,h,i)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!a||a.overlayFit.visibleArea<g.visibleArea)&&(a={overlayFit:g,overlayPoint:h,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const h of r){const g=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);g>d&&(d=g,c=h)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Xc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(cV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,r;if("center"==i.originX)s=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;s="start"==i.originX?a:c}return e.left<0&&(s-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,i){let s,r;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,i,s){const r=uV(e);let{x:a,y:c}=t,d=this._getOffset(s,"x"),h=this._getOffset(s,"y");d&&(a+=d),h&&(c+=h);let b=0-c,C=c+r.height-i.height,D=this._subtractOverflows(r.width,0-a,a+r.width-i.width),A=this._subtractOverflows(r.height,b,C),E=D*A;return{visibleArea:E,isCompletelyWithinViewport:r.width*r.height===E,fitsInViewportVertically:A===r.height,fitsInViewportHorizontally:D==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,r=i.right-e.x,a=dV(this._overlayRef.getConfig().minHeight),c=dV(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportHorizontally||null!=c&&c<=r;return(t.fitsInViewportVertically||null!=a&&a<=s)&&h}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=uV(e),r=this._viewportRect,a=Math.max(t.x+s.width-r.width,0),c=Math.max(t.y+s.height-r.height,0),d=Math.max(r.top-i.top-t.y,0),h=Math.max(r.left-i.left-t.x,0);let g=0,v=0;return g=s.width<=r.width?h||-a:t.x<this._viewportMargin?r.left-i.left-t.x:0,v=s.height<=r.height?d||-c:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:g,y:v},{x:t.x+g,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new ooe(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let r,a,c,g,v,b;if("top"===e.overlayY)a=t.y,r=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)c=i.height-t.y+2*this._viewportMargin,r=i.height-c+this._viewportMargin;else{const C=Math.min(i.bottom-t.y+i.top,t.y),D=this._lastBoundingBoxSize.height;r=2*C,a=t.y-C,r>D&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-D/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)b=i.width-t.x+this._viewportMargin,g=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)v=t.x,g=i.right-t.x;else{const C=Math.min(i.right-t.x+i.left,t.x),D=this._lastBoundingBoxSize.width;g=2*C,v=t.x-C,g>D&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-D/2)}return{top:a,left:v,bottom:c,right:b,width:g,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=Vn(i.height),s.top=Vn(i.top),s.bottom=Vn(i.bottom),s.width=Vn(i.width),s.left=Vn(i.left),s.right=Vn(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Vn(r)),a&&(s.maxWidth=Vn(a))}this._lastBoundingBoxSize=i,Xc(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Xc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Xc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const g=this._viewportRuler.getViewportScrollPosition();Xc(i,this._getExactOverlayY(e,t,g)),Xc(i,this._getExactOverlayX(e,t,g))}else i.position="static";let c="",d=this._getOffset(e,"x"),h=this._getOffset(e,"y");d&&(c+=`translateX(${d}px) `),h&&(c+=`translateY(${h}px)`),i.transform=c.trim(),a.maxHeight&&(s?i.maxHeight=Vn(a.maxHeight):r&&(i.maxHeight="")),a.maxWidth&&(s?i.maxWidth=Vn(a.maxWidth):r&&(i.maxWidth="")),Xc(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Vn(r.y),s}_getExactOverlayX(t,e,i){let a,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Vn(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:oV(t,i),isOriginOutsideView:KS(t,i),isOverlayClipped:oV(e,i),isOverlayOutsideView:KS(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&wB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ye)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Xc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function dV(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(coe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function uV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const hV="cdk-global-overlay-wrapper";class uoe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(hV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:a,maxHeight:c}=i,d=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),h=!("100%"!==r&&"100vh"!==r||c&&"100%"!==c&&"100vh"!==c);t.position=this._cssPosition,t.marginLeft=d?"0":this._leftOffset,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,d?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(hV),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let hoe=(()=>{class n{constructor(e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new uoe}flexibleConnectedTo(e){return new doe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(me(da),me(Bt),me(Dn),me(lV))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fV=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),foe=(()=>{class n extends fV{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){const c=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(At,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),poe=(()=>{class n extends fV{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=kr(r)},this._clickListener=r=>{const a=kr(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const g=d[h];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(a)||g.overlayElement.contains(c))break;const v=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(r)):v.next(r)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(Dn),me(At,8))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),goe=0,To=(()=>{class n{constructor(e,i,s,r,a,c,d,h,g,v,b){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=c,this._ngZone=d,this._document=h,this._directionality=g,this._location=v,this._outsideClickDispatcher=b}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),a=new QS(e);return a.direction=a.direction||this._directionality.value,new loe(r,i,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+goe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Jd)),new toe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(me(aoe),me(lV),me(Qa),me(hoe),me(foe),me(kn),me(At),me(Bt),me(as),me(Mm),me(poe))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})();const moe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],pV=new Se("cdk-connected-overlay-scroll-strategy");let gV=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(F(Ye))},n.\u0275dir=ge({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),mV=(()=>{class n{constructor(e,i,s,r,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Le.EMPTY,this._attachSubscription=Le.EMPTY,this._detachSubscription=Le.EMPTY,this._positionSubscription=Le.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new gt,this.positionChange=new gt,this.attach=new gt,this.detach=new gt,this.overlayKeydown=new gt,this.overlayOutsideClick=new gt,this._templatePortal=new Ry(i,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ct(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=ct(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=ct(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=ct(e)}get push(){return this._push}set push(e){this._push=ct(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=moe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Fs(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new QS({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof gV?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ioe(n,t=!1){return gi((e,i)=>{let s=0;e.subscribe(new Bi(i,r=>{const a=n(r,s++);(a||t)&&i.next(r),!a&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(F(To),F(wn),F(on),F(pV),F(as,8))},n.\u0275dir=ge({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Vi]}),n})();const voe={provide:pV,deps:[To],useFactory:function _oe(n){return()=>n.scrollStrategies.reposition()}};let $c=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[To,voe],imports:[[Pc,Yc,$S],$S]}),n})();class Wp{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ge,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const boe=["trigger"],xoe=["panel"];function woe(n,t){if(1&n&&(se(0,"span",8),Ue(1),re()),2&n){const e=ui();ye(1),Vs(e.placeholder)}}function Coe(n,t){if(1&n&&(se(0,"span",12),Ue(1),re()),2&n){const e=ui(2);ye(1),Vs(e.triggerValue)}}function Moe(n,t){1&n&&ai(0,0,["*ngSwitchCase","true"])}function Soe(n,t){1&n&&(se(0,"span",9),Lt(1,Coe,2,1,"span",10),Lt(2,Moe,1,0,"ng-content",11),re()),2&n&&(Pe("ngSwitch",!!ui().customTrigger),ye(2),Pe("ngSwitchCase",!0))}function Doe(n,t){if(1&n){const e=Ka();se(0,"div",13),se(1,"div",14,15),dt("@transformPanel.done",function(s){return gr(e),ui()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return gr(e),ui()._handleKeydown(s)}),ai(3,1),re(),re()}if(2&n){const e=ui();Pe("@transformPanelWrap",void 0),ye(1),RT("mat-select-panel ",e._getPanelTheme(),""),yr("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Pe("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Yt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Aoe=[[["mat-select-trigger"]],"*"],Eoe=["mat-select-trigger","*"],yV={transformPanelWrap:hn("transformPanelWrap",[bi("* => void",ty("@transformPanel",[ey()],{optional:!0}))]),transformPanel:hn("transformPanel",[li("void",_t({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),li("showing",_t({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),li("showing-multiple",_t({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),bi("void => *",Si("120ms cubic-bezier(0, 0, 0.2, 1)")),bi("* => void",Si("100ms 25ms linear",_t({opacity:0})))])};let bV=0;const wV=new Se("mat-select-scroll-strategy"),Ioe=new Se("MAT_SELECT_CONFIG"),Poe={provide:wV,deps:[To],useFactory:function Roe(n){return()=>n.scrollStrategies.reposition()}};class Loe{constructor(t,e){this.source=t,this.value=e}}const Ooe=Rr(jc(Ao(OS(class{constructor(n,t,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),Foe=new Se("MatSelectTrigger");let Noe=(()=>{class n extends Ooe{constructor(e,i,s,r,a,c,d,h,g,v,b,C,D,A){var E,I,P;super(a,r,d,h,v),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=c,this._parentFormField=g,this._liveAnnouncer=D,this._defaultOptions=A,this._panelOpen=!1,this._compareWith=(N,V)=>N===V,this._uid="mat-select-"+bV++,this._triggerAriaLabelledBy=null,this._destroy=new Ge,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+bV++,this._panelDoneAnimatingStream=new Ge,this._overlayPanelClass=(null===(E=this._defaultOptions)||void 0===E?void 0:E.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(P=null===(I=this._defaultOptions)||void 0===I?void 0:I.disableOptionCentering)&&void 0!==P&&P,this.ariaLabel="",this.optionSelectionChanges=jm(()=>{const N=this.options;return N?N.changes.pipe(Gs(N),wr(()=>M(...N.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(T(1),wr(()=>this.optionSelectionChanges))}),this.openedChange=new gt,this._openedStream=this.openedChange.pipe(nn(N=>N),jt(()=>{})),this._closedStream=this.openedChange.pipe(nn(N=>!N),jt(()=>{})),this.selectionChange=new gt,this.valueChange=new gt,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==A?void 0:A.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._scrollStrategyFactory=C,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(b)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(ec.required))&&void 0!==r&&r}set required(e){this._required=ct(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=ct(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=ct(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=os(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Wp(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(wy(),Pt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Pt(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Gs(null),Pt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,r=13===i||32===i,a=this._keyManager;if(!a.isTyping()&&r&&!Fs(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;a.onKeydown(e);const d=this.selected;d&&c!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,r=40===s||38===s,a=i.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(a||13!==s&&32!==s||!i.activeItem||Fs(e))if(!a&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const c=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(c?d.select():d.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(e),this._multiple&&r&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(T(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(r){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new wre(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Pt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Pt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=M(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pt(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),M(...this.options.map(i=>i._stateChanges)).pipe(Pt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(F(da),F(Li),F(At),F(ah),F(Ye),F(as,8),F(nl,8),F(tc,8),F(zp,8),F(Qr,10),ds("tabindex"),F(wV),F(zre),F(Ioe,8))},n.\u0275dir=ge({type:n,viewQuery:function(e,i){if(1&e&&(oi(boe,5),oi(xoe,5),oi(mV,5)),2&e){let s;Ke(s=Qe())&&(i.trigger=s.first),Ke(s=Qe())&&(i.panel=s.first),Ke(s=Qe())&&(i._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[we,Vi]}),n})(),CV=(()=>{class n extends Noe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-i+r/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Pt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=GS(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function YB(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Loe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),r=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let h=this._selectionModel.selected[0]||this.options.first;a=h&&h.group?32:16}s||(a*=-1);const c=0-(e.left+a-(s?r:0)),d=e.right+a-i.width+(s?0:r);c>0?a+=c+8:d>0&&(a-=d+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const r=this._getItemHeight(),a=(r-this._triggerRect.height)/2,c=Math.floor(256/r);let d;return this.disableOptionCentering?0:(d=0===this._scrollTop?e*r:this._scrollTop===s?(e-(this._getItemCount()-c))*r+(r-(this._getItemCount()*r-256)%r):i-r/2,Math.round(-1*d-a))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,a=s.height-this._triggerRect.bottom-8,c=Math.abs(this._offsetY),h=Math.min(this._getItemCount()*i,256)-c-this._triggerRect.height;h>a?this._adjustPanelUp(h,a):c>r?this._adjustPanelDown(c,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const r=Math.round(e-i);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),a=i*e-s;let c;c=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),c+=GS(c,this.options,this.optionGroups);const d=s/2;this._scrollTop=this._calculateOverlayScroll(c,d,a),this._offsetY=this._calculateOverlayOffsetY(c,d,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=Tt({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(ii(s,Foe,5),ii(s,zS,5),ii(s,WB,5)),2&e){let r;Ke(r=Qe())&&(i.customTrigger=r.first),Ke(r=Qe())&&(i.options=r),Ke(r=Qe())&&(i.optionGroups=r)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&dt("keydown",function(r){return i._handleKeydown(r)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(Yt("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),Qt("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[vt([{provide:Hp,useExisting:n},{provide:UB,useExisting:n}]),we],ngContentSelectors:Eoe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(tn(Aoe),se(0,"div",0,1),dt("click",function(){return i.toggle()}),se(3,"div",2),Lt(4,woe,2,1,"span",3),Lt(5,Soe,3,2,"span",4),re(),se(6,"div",5),yt(7,"div",6),re(),re(),Lt(8,Doe,4,14,"ng-template",7),dt("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=vr(1);Yt("aria-owns",i.panelOpen?i.id+"-panel":null),ye(3),Pe("ngSwitch",i.empty),Yt("id",i._valueId),ye(1),Pe("ngSwitchCase",!0),ye(1),Pe("ngSwitchCase",!1),ye(3),Pe("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[gV,nu,Om,jR,mV,tu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[yV.transformPanelWrap,yV.transformPanel]},changeDetection:0}),n})(),JS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[Poe],imports:[[Pn,$c,Ay,xt],Oa,Gp,Ay,xt]}),n})();const MV=ca({passive:!0});let Boe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return cr;const i=An(e),s=this._monitoredElements.get(i);if(s)return s.subject;const r=new Ge,a="cdk-text-field-autofilled",c=d=>{"cdk-text-field-autofill-start"!==d.animationName||i.classList.contains(a)?"cdk-text-field-autofill-end"===d.animationName&&i.classList.contains(a)&&(i.classList.remove(a),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!1}))):(i.classList.add(a),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,MV),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:r,unlisten:()=>{i.removeEventListener("animationstart",c,MV)}}),r}stopMonitoring(e){const i=An(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(me(Dn),me(At))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),SV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})();const DV=new Se("MAT_INPUT_VALUE_ACCESSOR"),Voe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Hoe=0;const zoe=OS(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Goe=(()=>{class n extends zoe{constructor(e,i,s,r,a,c,d,h,g,v){super(c,r,a,s),this._elementRef=e,this._platform=i,this._autofillMonitor=h,this._formField=v,this._uid="mat-input-"+Hoe++,this.focused=!1,this.stateChanges=new Ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>vB().has(D)),this._iOSKeyupListener=D=>{const A=D.target;!A.value&&0===A.selectionStart&&0===A.selectionEnd&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))};const b=this._elementRef.nativeElement,C=b.nodeName.toLowerCase();this._inputValueAccessor=d||b,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&g.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===C,this._isTextarea="textarea"===C,this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=b.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ct(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(ec.required))&&void 0!==r&&r}set required(e){this._required=ct(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ct(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=s,s?r.setAttribute("placeholder",s):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Voe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Dn),F(Qr,10),F(nl,8),F(tc,8),F(ah),F(DV,10),F(Boe),F(At),F(zp,8))},n.\u0275dir=ge({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&dt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(wa("disabled",i.disabled)("required",i.required),Yt("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),Qt("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[vt([{provide:Hp,useExisting:n}]),we,Vi]}),n})(),AV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[ah],imports:[[SV,Gp,xt],SV,Gp]}),n})();const Uoe=["mat-button",""],Woe=["*"],Yoe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Xoe=Eo(Ao(Rr(class{constructor(n){this._elementRef=n}})));let Xp=(()=>{class n extends Xoe{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Yoe)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Do),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&oi(Ir,5),2&e){let s;Ke(s=Qe())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(Yt("disabled",i.disabled||null),Qt("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[we],attrs:Uoe,ngContentSelectors:Woe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(tn(),se(0,"span",0),ai(1),re(),yt(2,"span",1),yt(3,"span",2)),2&e&&(ye(2),Qt("mat-button-ripple-round",i.isRoundButton||i.isIconButton),Pe("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Ir],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),qc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pr,xt],xt]}),n})();const $oe=["container"];function qoe(n,t){1&n&&(se(0,"mat-option",18),Ue(1,"No Data"),re())}function Zoe(n,t){if(1&n&&(se(0,"mat-option",19),Ue(1),re()),2&n){const e=t.$implicit;Pe("value",e),ye(1),Vs(e)}}function Koe(n,t){1&n&&(se(0,"mat-option",18),Ue(1,"No Data"),re())}function Qoe(n,t){if(1&n&&(se(0,"mat-option",19),Ue(1),re()),2&n){const e=t.$implicit;Pe("value",e.id),ye(1),hi("",e.name," ")}}let Joe=(()=>{class n{constructor(e,i,s,r,a){this.scene=e,this.route=i,this.router=s,this.httpService=r,this.alertService=a,this.machineId="",this.connectionUrls=["192.162.78.21","192.162.78.22"],this.mappedmachines=[],this.machineForm=new b_({connectionUrl:new Bf("",[ec.required]),mappedMachine:new Bf("",[ec.required]),name:new Bf("",[ec.required])}),this.route.params.subscribe(c=>{this.machineId=c.id,this.machine=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))))})}ngOnInit(){this.httpService.getMachines().subscribe(e=>{console.log(e)})}set container(e){const i=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))));this.scene.initialize(e.nativeElement,i)}createDigitalTwin(){const e=this.machineForm.value,i={machineId:this.machineId,name:e.name,connectionUrl:e.connectionUrl,mappedMachine:e.mappedMachine};console.log(this.machineForm.value),console.log(i),this.httpService.createDigitalTwin(i).subscribe(s=>{this.alertService.success("Digital Twin created",3,!0),this.router.navigateByUrl("/digital-twin")})}connectionUrlChanged(){this.mappedmachines=[{name:"Turbofan 45",id:1},{name:"Turbofan 56 ",id:2},{name:"Turbofan 34",id:3},{name:"Turbofan 33",id:4}]}}return n.\u0275fac=function(e){return new(e||n)(F(EM),F(Jo),F(ts),F(Ic),F(Zv))},n.\u0275cmp=Tt({type:n,selectors:[["app-create-digital-twin"]],viewQuery:function(e,i){if(1&e&&oi($oe,5),2&e){let s;Ke(s=Qe())&&(i.container=s.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","75",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","24","fxLayout","column","fxLayoutAlign","start center",1,"right-content"],[1,"machine-name"],["matCardImage","",1,"machine-image",3,"src"],["fxLayout","column","fxLayoutAlign","start center",1,"form","create-twin",3,"formGroup"],["appearance","outline"],["required","","formControlName","connectionUrl",3,"selectionChange"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","mappedMachine"],["required","","matInput","","formControlName","name"],["mat-flat-button","",1,"button",3,"disabled","click"],["disabled",""],[3,"value"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"div",1),yt(2,"div",2,3),se(4,"div",4),yt(5,"div",5),yt(6,"div",6),re(),re(),se(7,"div",7),se(8,"h1",8),Ue(9),re(),yt(10,"img",9),se(11,"form",10),se(12,"mat-form-field",11),se(13,"mat-label"),Ue(14,"Connection url"),re(),se(15,"mat-select",12),dt("selectionChange",function(){return i.connectionUrlChanged()}),Lt(16,qoe,2,0,"mat-option",13),Lt(17,Zoe,2,2,"mat-option",14),re(),re(),se(18,"mat-form-field",11),se(19,"mat-label"),Ue(20,"Select Machine"),re(),se(21,"mat-select",15),Lt(22,Koe,2,0,"mat-option",13),Lt(23,Qoe,2,2,"mat-option",14),re(),re(),se(24,"mat-form-field",11),se(25,"mat-label"),Ue(26,"Name"),re(),yt(27,"input",16),re(),re(),se(28,"button",17),dt("click",function(){return i.createDigitalTwin()}),Ue(29,"Create Digital Twin"),re(),re(),re()),2&e&&(ye(9),Vs(null==i.machine?null:i.machine.name),ye(1),Pe("src",i.machine.imageUrl,Md),ye(1),Pe("formGroup",i.machineForm),ye(5),Pe("ngIf",i.connectionUrls.length<1),ye(1),Pe("ngForOf",i.connectionUrls),ye(5),Pe("ngIf",i.mappedmachines.length<1),ye(1),Pe("ngForOf",i.mappedmachines),ye(5),Pe("disabled",i.machineForm.invalid))},directives:[Mo,Oc,Pp,US,x_,h_,tc,eV,Ey,CV,w_,Iw,$w,ks,zS,iu,Goe,d_,Xp],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.right-content[_ngcontent-%COMP%]{background:#fff;height:100vh;padding:20px 0}.form[_ngcontent-%COMP%]{width:80%}.mat-form-field[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{width:50%;height:60px;font-size:20px;color:#fff;background:#16c3d5}.form.create-twin[_ngcontent-%COMP%]{margin-top:20px}.machine-image[_ngcontent-%COMP%]{width:90%}"]}),n})();function ele(n,t){1&n&&ai(0)}const EV=["*"];function tle(n,t){}const ile=function(n){return{animationDuration:n}},nle=function(n,t){return{value:n,params:t}},sle=["tabListContainer"],rle=["tabList"],ale=["tabListInner"],ole=["nextPaginator"],lle=["previousPaginator"],cle=["tabBodyWrapper"],dle=["tabHeader"];function ule(n,t){}function hle(n,t){1&n&&Lt(0,ule,0,0,"ng-template",10),2&n&&Pe("cdkPortalOutlet",ui().$implicit.templateLabel)}function fle(n,t){1&n&&Ue(0),2&n&&Vs(ui().$implicit.textLabel)}function ple(n,t){if(1&n){const e=Ka();se(0,"div",6),dt("click",function(){const s=gr(e),r=s.$implicit,a=s.index,c=ui(),d=vr(1);return c._handleClick(r,d,a)})("cdkFocusChange",function(s){const a=gr(e).index;return ui()._tabFocusChanged(s,a)}),se(1,"div",7),Lt(2,hle,1,1,"ng-template",8),Lt(3,fle,1,1,"ng-template",null,9,Hk),re(),re()}if(2&n){const e=t.$implicit,i=t.index,s=vr(4),r=ui();Qt("mat-tab-label-active",r.selectedIndex===i),Pe("id",r._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),Yt("tabIndex",r._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(i))("aria-selected",r.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),ye(2),Pe("ngIf",e.templateLabel)("ngIfElse",s)}}function gle(n,t){if(1&n){const e=Ka();se(0,"mat-tab-body",11),dt("_onCentered",function(){return gr(e),ui()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return gr(e),ui()._setTabBodyWrapperHeight(s)}),re()}if(2&n){const e=t.$implicit,i=t.index,s=ui();Qt("mat-tab-body-active",s.selectedIndex===i),Pe("id",s._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),Yt("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))}}const mle=new Se("MatInkBarPositioner",{providedIn:"root",factory:function _le(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let TV=(()=>{class n{constructor(e,i,s,r){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=s,this._animationMode=r}alignToElement(e){this.show(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{const i=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=i.left,s.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(At),F(mle),F(Bn,8))},n.\u0275dir=ge({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&Qt("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const vle=new Se("MatTabContent"),yle=new Se("MatTabLabel"),ble=new Se("MAT_TAB"),xle=Ao(class{}),kV=new Se("MAT_TAB_GROUP");let RV=(()=>{class n extends xle{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ge,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ry(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(F(on),F(kV,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(1&e&&(ii(s,yle,5),ii(s,vle,7,wn)),2&e){let r;Ke(r=Qe())&&(i.templateLabel=r.first),Ke(r=Qe())&&(i._explicitContent=r.first)}},viewQuery:function(e,i){if(1&e&&oi(wn,7),2&e){let s;Ke(s=Qe())&&(i._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[vt([{provide:ble,useExisting:n}]),we,Vi],ngContentSelectors:EV,decls:1,vars:0,template:function(e,i){1&e&&(tn(),Lt(0,ele,1,0,"ng-template"))},encapsulation:2}),n})();const wle={translateTab:hn("translateTab",[li("center, void, left-origin-center, right-origin-center",_t({transform:"none"})),li("left",_t({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),li("right",_t({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),bi("* => left, * => right, left => center, right => center",Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),bi("void => left-origin-center",[_t({transform:"translate3d(-100%, 0, 0)"}),Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),bi("void => right-origin-center",[_t({transform:"translate3d(100%, 0, 0)"}),Si("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Cle=(()=>{class n extends ZS{constructor(e,i,s,r){super(e,i,r),this._host=s,this._centeringSub=Le.EMPTY,this._leavingSub=Le.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Gs(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(F(Qa),F(on),F(x(()=>IV)),F(Bt))},n.\u0275dir=ge({type:n,selectors:[["","matTabBodyHost",""]],features:[we]}),n})(),Mle=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Le.EMPTY,this._translateTabComplete=new Ge,this._onCentering=new gt,this._beforeCentering=new gt,this._afterLeavingCenter=new gt,this._onCentered=new gt(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(r=>{this._computePositionAnimationState(r),s.markForCheck()})),this._translateTabComplete.pipe(wy((r,a)=>r.fromState===a.fromState&&r.toState===a.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(as,8),F(Li))},n.\u0275dir=ge({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),IV=(()=>{class n extends Mle{constructor(e,i,s){super(e,i,s)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(as,8),F(Li))},n.\u0275cmp=Tt({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&oi(ZS,5),2&e){let s;Ke(s=Qe())&&(i._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[we],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(se(0,"div",0,1),dt("@translateTab.start",function(r){return i._onTranslateTabStarted(r)})("@translateTab.done",function(r){return i._translateTabComplete.next(r)}),Lt(2,tle,0,0,"ng-template",2),re()),2&e&&Pe("@translateTab",Ck(3,nle,i._position,function pf(n,t,e,i){return Sk(ze(),Ss(),n,t,e,i)}(1,ile,i.animationDuration)))},directives:[Cle],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[wle.translateTab]}}),n})();const PV=new Se("MAT_TABS_CONFIG"),Sle=Ao(class{});let LV=(()=>{class n extends Sle{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(F(Ye))},n.\u0275dir=ge({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(Yt("aria-disabled",!!i.disabled),Qt("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[we]}),n})();const OV=ca({passive:!0});let Ele=(()=>{class n{constructor(e,i,s,r,a,c,d){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=r,this._ngZone=a,this._platform=c,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ge,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ge,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new gt,this.indexFocused=new gt,a.runOutsideAngular(()=>{Lr(e.nativeElement,"mouseleave").pipe(Pt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=os(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Lr(this._previousPaginator.nativeElement,"touchstart",OV).pipe(Pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Lr(this._nextPaginator.nativeElement,"touchstart",OV).pipe(Pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:It("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new TS(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(T(1)).subscribe(s),M(e,i,this._items.changes).pipe(Pt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Pt(this._destroyed)).subscribe(r=>{this.indexFocused.emit(r),this._setTabFocus(r)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Fs(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=i.elementRef.nativeElement;let c,d;"ltr"==this._getLayoutDirection()?(c=r,d=c+a):(d=this._tabListInner.nativeElement.offsetWidth-r,c=d-a);const h=this.scrollDistance,g=this.scrollDistance+s;c<h?this.scrollDistance-=h-c+60:d>g&&(this.scrollDistance+=d-g+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Tp(650,100).pipe(Pt(M(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:r}=this._scrollHeader(e);(0===r||r>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(da),F(as,8),F(At),F(Dn),F(Bn,8))},n.\u0275dir=ge({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),Tle=(()=>{class n extends Ele{constructor(e,i,s,r,a,c,d){super(e,i,s,r,a,c,d),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ct(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(da),F(as,8),F(At),F(Dn),F(Bn,8))},n.\u0275dir=ge({type:n,inputs:{disableRipple:"disableRipple"},features:[we]}),n})(),kle=(()=>{class n extends Tle{constructor(e,i,s,r,a,c,d){super(e,i,s,r,a,c,d)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(da),F(as,8),F(At),F(Dn),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(1&e&&ii(s,LV,4),2&e){let r;Ke(r=Qe())&&(i._items=r)}},viewQuery:function(e,i){if(1&e&&(oi(TV,7),oi(sle,7),oi(rle,7),oi(ale,7),oi(ole,5),oi(lle,5)),2&e){let s;Ke(s=Qe())&&(i._inkBar=s.first),Ke(s=Qe())&&(i._tabListContainer=s.first),Ke(s=Qe())&&(i._tabList=s.first),Ke(s=Qe())&&(i._tabListInner=s.first),Ke(s=Qe())&&(i._nextPaginator=s.first),Ke(s=Qe())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&Qt("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[we],ngContentSelectors:EV,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(tn(),se(0,"button",0,1),dt("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(r){return i._handlePaginatorPress("before",r)})("touchend",function(){return i._stopInterval()}),yt(2,"div",2),re(),se(3,"div",3,4),dt("keydown",function(r){return i._handleKeydown(r)}),se(5,"div",5,6),dt("cdkObserveContent",function(){return i._onContentChanges()}),se(7,"div",7,8),ai(9),re(),yt(10,"mat-ink-bar"),re(),re(),se(11,"button",9,10),dt("mousedown",function(r){return i._handlePaginatorPress("after",r)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),yt(13,"div",2),re()),2&e&&(Qt("mat-tab-header-pagination-disabled",i._disableScrollBefore),Pe("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),ye(5),Qt("_mat-animation-noopable","NoopAnimations"===i._animationMode),ye(6),Qt("mat-tab-header-pagination-disabled",i._disableScrollAfter),Pe("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[Ir,Cy,TV],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),Rle=0;class Ile{}const Ple=Eo(Rr(class{constructor(n){this._elementRef=n}}),"primary");let Lle=(()=>{class n extends Ple{constructor(e,i,s,r){var a;super(e),this._changeDetectorRef=i,this._animationMode=r,this._tabs=new jl,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Le.EMPTY,this._tabLabelSubscription=Le.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new gt,this.focusChange=new gt,this.animationDone=new gt,this.selectedTabChange=new gt(!0),this._groupId=Rle++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(a=null==s?void 0:s.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ct(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=os(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=os(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,r)=>s.isActive=r===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let s;for(let r=0;r<i.length;r++)if(i[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,s=i[r];break}!s&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Gs(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Ile;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=M(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,s){e.disabled||(this.selectedIndex=i.focusIndex=s)}_getTabIndex(e,i){var s;return e.disabled?null:i===(null!==(s=this._lastFocusedTabIndex)&&void 0!==s?s:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(PV,8),F(Bn,8))},n.\u0275dir=ge({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[we]}),n})(),Ole=(()=>{class n extends Lle{constructor(e,i,s,r){super(e,i,s,r)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(PV,8),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(1&e&&ii(s,RV,5),2&e){let r;Ke(r=Qe())&&(i._allTabs=r)}},viewQuery:function(e,i){if(1&e&&(oi(cle,5),oi(dle,5)),2&e){let s;Ke(s=Qe())&&(i._tabBodyWrapper=s.first),Ke(s=Qe())&&(i._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&Qt("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[vt([{provide:kV,useExisting:n}]),we],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(se(0,"mat-tab-header",0,1),dt("indexFocused",function(r){return i._focusChanged(r)})("selectFocusedIndex",function(r){return i.selectedIndex=r}),Lt(2,ple,5,15,"div",2),re(),se(3,"div",3,4),Lt(5,gle,1,10,"mat-tab-body",5),re()),2&e&&(Pe("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),ye(2),Pe("ngForOf",i._tabs),ye(1),Qt("_mat-animation-noopable","NoopAnimations"===i._animationMode),ye(2),Pe("ngForOf",i._tabs))},directives:[kle,IV,iu,LV,Ir,Ure,tu,ks,ZS],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),NV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt,Yc,Pr,Bp,Sy],xt]}),n})();var BV=sg(597);const Fle=["chart"];let VV=(()=>{class n{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnInit(){jS.schedule(()=>{this.createElement()})}ngOnChanges(e){jS.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(i=>"series"!==i).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new BV(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,i,s,r){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,i,s,r))}updateSeries(e,i){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,i))}appendSeries(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,i))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,i))}toggleDataPointSelection(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,i))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,i,s))}addYaxisAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,i,s))}addPointAnnotation(e,i,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,i,s))}removeAnnotation(e,i){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,i))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return n.\u0275fac=function(e){return new(e||n)(F(At))},n.\u0275cmp=Tt({type:n,selectors:[["apx-chart"]],viewQuery:function(e,i){if(1&e&&oi(Fle,7),2&e){let s;Ke(s=Qe())&&(i.chartElement=s.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[Vi],decls:2,vars:0,consts:[["chart",""]],template:function(e,i){1&e&&yt(0,"div",null,0)},styles:[""],changeDetection:0}),n})();window.ApexCharts=BV;let Nle=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[]]}),n})();const Ble=["chart"];function Vle(n,t){if(1&n&&(se(0,"div",1),yt(1,"apx-chart",2),re()),2&n){const e=ui();ye(1),Pe("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("dataLabels",e.chartOptions.dataLabels)("grid",e.chartOptions.grid)("stroke",e.chartOptions.stroke)("title",e.chartOptions.title)}}let Hle=(()=>{class n{constructor(){this.chartEnabled=!1}ngOnChanges(e){console.log(this.chartData),this.setChartData()}ngOnInit(){console.log(this.chartData)}setChartData(){this.chartOptions={series:[{name:this.chartData.name,data:this.chartData.series}],chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:this.chartData.timeLine,labels:{show:!1},title:{text:"Cycle"}}},this.chartEnabled=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["app-model-bar-chart"]],viewQuery:function(e,i){if(1&e&&oi(Ble,5),2&e){let s;Ke(s=Qe())&&(i.chart=s.first)}},inputs:{chartData:["data","chartData"]},features:[Vi],decls:1,vars:1,consts:[["id","chart",4,"ngIf"],["id","chart"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title"]],template:function(e,i){1&e&&Lt(0,Vle,2,7,"div",0),2&e&&Pe("ngIf",i.chartEnabled)},directives:[ks,VV],styles:["#chart[_ngcontent-%COMP%]{max-width:650px;margin:35px auto}"]}),n})();function zle(n,t){if(1&n&&(se(0,"mat-option",8),Ue(1),re()),2&n){const e=t.$implicit;Pe("value",e),ye(1),Vs(e.name)}}let Gle=(()=>{class n{constructor(e){this.httpService=e,this.selectedSensorData=[],this.chartData={},this.sensors=[]}ngOnInit(){this.getSensorList()}getSensorSelection(e){this.getSensorData(e)}getSensorList(){var e,i;this.httpService.getSensorList(null===(i=null===(e=this.digitalTwin)||void 0===e?void 0:e.machine)||void 0===i?void 0:i.name).subscribe(s=>{this.sensors=s.data[0].sensor,console.log(this.sensors)})}getSensorData(e){this.httpService.getTurbofanSensorData(e.value).subscribe(i=>{this.selectedSensorData=i.data;const s=[],r=[];this.selectedSensorData.map((a,c)=>{s.push(a[e.value]),r.push(c+1)}),this.chartData={name:e.name,series:s,timeLine:r}})}}return n.\u0275fac=function(e){return new(e||n)(F(Ic))},n.\u0275cmp=Tt({type:n,selectors:[["app-overview"]],inputs:{digitalTwin:"digitalTwin"},decls:16,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start stretch",1,"overview"],[1,"item"],["src","assets/images/turbo-schematics.png","alt","","srcset","",1,"image-details"],[1,"sensor-overview"],["appearance","outline",1,"sensor-dropdown"],["panelClass","select-panel",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"data"],[3,"value"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"div",1),Ue(2),re(),se(3,"div",1),Ue(4),re(),yt(5,"img",2),se(6,"h2",3),Ue(7," Sensor Overview "),re(),se(8,"h5"),Ue(9," Select a senor to generate overview graph "),re(),se(10,"mat-form-field",4),se(11,"mat-label"),Ue(12,"Select Sensor Data"),re(),se(13,"mat-select",5),dt("selectionChange",function(r){return i.getSensorSelection(r.value)}),Lt(14,zle,2,2,"mat-option",6),re(),re(),yt(15,"app-model-bar-chart",7),re()),2&e&&(ye(2),hi("Name : ",i.digitalTwin.name,""),ye(2),hi("Type : ",i.digitalTwin.machine.name,""),ye(10),Pe("ngForOf",i.sensors),ye(1),Pe("data",i.chartData))},directives:[Mo,Oc,eV,Ey,CV,iu,zS,Hle],styles:[".overview[_ngcontent-%COMP%]{margin:10px}.overview[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px}.sensor-dropdown[_ngcontent-%COMP%]{width:50%;margin-bottom:0}.image-details[_ngcontent-%COMP%]{width:40%;margin:20px auto}.sensor-overview[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0}"]}),n})();function Ule(n,t){if(1&n&&(se(0,"div",5),Ue(1),re()),2&n){const e=ui();ye(1),hi(" ","RUL : "+e.rul+" cycles"," ")}}let Wle=(()=>{class n{constructor(e,i){this.alertService=e,this.httpService=i,this.trainData=[],this.isLatestData=!1,this.lastUpdatedTime=null,this.displayedColumns=["name","value"],this.rul=null,this.max=1e4,this.min=0,this.step=.1,this.sensorDetails={sensor2:"Total temperature at LPC outlet (\xb0R)",sensor3:"Total temperature at HPC outlet (\xb0R)",sensor4:"Total temperature at LPT outlet (\xb0R)",sensor7:"Total pressure at HPC outlet (psia)",sensor8:"Physical fan speed (rpm)",sensor9:"Physical core speed (rpm)",sensor11:"Static pressure at HPC outlet (psia)",sensor12:"Ratio of fuel flow to Ps30 (pps/psi)",sensor13:"Corrected fan speed (rpm)",sensor14:"Corrected core speed (rpm)",sensor15:"Bypass Ratio",sensor17:"Bleed Enthalpy",sensor20:"HPT coolant bleed (lbm/s)",sensor21:"LPT coolant bleed (lbm/s)"},this.sensor2=677.08,this.sensor3=1576.65,this.sensor4=1400.31,this.sensor7=509.35,this.sensor8=2376.09,this.sensor9=9046.1,this.sensor11=47.34,this.sensor12=521.82,this.sensor13=2381.02,this.sensor14=8125.24,this.sensor15=8.4494,this.sensor17=393,this.sensor20=34.87,this.sensor21=29.3931,this.pSensor2=677.08,this.pSensor3=1576.65,this.pSensor4=1400.31,this.pSensor7=509.35,this.pSensor8=2376.09,this.pSensor9=9046.1,this.pSensor11=47.34,this.pSensor12=521.82,this.pSensor13=2381.02,this.pSensor14=8125.24,this.pSensor15=8.4494,this.pSensor17=393,this.pSensor20=34.87,this.pSensor21=29.3931}ngOnInit(){console.log(this.digitalTwin)}train(){this.httpService.rulPredict({sensor2:this.sensor2,sensor3:this.sensor3,sensor4:this.sensor4,sensor7:this.sensor7,sensor8:this.sensor8,sensor9:this.sensor9,sensor11:this.sensor11,sensor12:this.sensor12,sensor13:this.sensor13,sensor14:this.sensor14,sensor15:this.sensor15,sensor17:this.sensor17,sensor20:this.sensor20,sensor21:this.sensor21}).subscribe(i=>{this.rul=i.data})}getLatestData(){this.trainData=[],this.isLatestData=!0,this.lastUpdatedTime=new Date(Date.now())}}return n.\u0275fac=function(e){return new(e||n)(F(Zv),F(Ic))},n.\u0275cmp=Tt({type:n,selectors:[["app-predict"]],inputs:{digitalTwin:"digitalTwin"},decls:37,vars:29,consts:[["div","","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","20px",1,"content"],[1,"dd"],[1,"group"],["mat-button","",1,"button-basic",3,"click"],["class","rul",4,"ngIf"],[1,"rul"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"div",1),se(2,"h1"),Ue(3,"RUL Prediction"),re(),se(4,"h2"),Ue(5,"Latest Sensor data of relevant sensors"),re(),se(6,"div",2),Ue(7),re(),se(8,"div",2),Ue(9),re(),se(10,"div",2),Ue(11),re(),se(12,"div",2),Ue(13),re(),se(14,"div",2),Ue(15),re(),se(16,"div",2),Ue(17),re(),se(18,"div",2),Ue(19),re(),se(20,"div",2),Ue(21),re(),se(22,"div",2),Ue(23),re(),se(24,"div",2),Ue(25),re(),se(26,"div",2),Ue(27),re(),se(28,"div",2),Ue(29),re(),se(30,"div",2),Ue(31),re(),se(32,"div",2),Ue(33),re(),re(),se(34,"button",3),dt("click",function(){return i.train()}),Ue(35,"Predict RUL"),re(),Lt(36,Ule,2,1,"div",4),re()),2&e&&(ye(7),ys(" ",i.sensorDetails.sensor2+" : "," ",i.sensor2," "),ye(2),ys(" ",i.sensorDetails.sensor3+" : "," ",i.sensor3," "),ye(2),ys(" ",i.sensorDetails.sensor4+" : "," ",i.sensor4," "),ye(2),ys(" ",i.sensorDetails.sensor7+" : "," ",i.sensor7," "),ye(2),ys(" ",i.sensorDetails.sensor8+" : "," ",i.sensor8," "),ye(2),ys(" ",i.sensorDetails.sensor9+" : "," ",i.sensor9," "),ye(2),ys(" ",i.sensorDetails.sensor11+" : "," ",i.sensor11," "),ye(2),ys(" ",i.sensorDetails.sensor12+" : "," ",i.sensor12," "),ye(2),ys(" ",i.sensorDetails.sensor13+" : "," ",i.sensor13," "),ye(2),ys(" ",i.sensorDetails.sensor14+" : "," ",i.sensor14," "),ye(2),ys(" ",i.sensorDetails.sensor15+" : "," ",i.sensor15," "),ye(2),ys(" ",i.sensorDetails.sensor17+" : "," ",i.sensor17," "),ye(2),ys(" ",i.sensorDetails.sensor20+" : "," ",i.sensor20," "),ye(2),ys(" ",i.sensorDetails.sensor21+" : "," ",i.sensor21," "),ye(3),Pe("ngIf",null!=i.rul))},directives:[Mo,Oc,Ip,Xp,ks],styles:[".content[_ngcontent-%COMP%]{margin:20px 10px}.table-container[_ngcontent-%COMP%]{margin-top:10px;max-height:calc(100vh - 300px);overflow:auto;width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}th.mat-header-cell.cdk-header-cell[_ngcontent-%COMP%]{font-size:20px}.mat-slider-horizontal[_ngcontent-%COMP%]{height:35px!important;min-width:400px!important}.rul[_ngcontent-%COMP%]{font-size:36px;font-style:normal;font-weight:500;text-align:center;margin-bottom:20px}.group[_ngcontent-%COMP%]{font-size:20px;padding:5px}h1[_ngcontent-%COMP%]{text-align:center}.button-basic[_ngcontent-%COMP%]{margin:10px auto}.dd[_ngcontent-%COMP%]{width:100%}"]}),n})();const jle=["sliderWrapper"],Or=ca({passive:!1}),Zle={provide:is,useExisting:x(()=>HV),multi:!0};class Kle{}const Qle=jc(Eo(Ao(class{constructor(n){this._elementRef=n}}),"accent"));let HV=(()=>{class n extends Qle{constructor(e,i,s,r,a,c,d,h){super(e),this._focusMonitor=i,this._changeDetectorRef=s,this._dir=r,this._ngZone=c,this._animationMode=h,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new gt,this.input=new gt,this.valueChange=new gt,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=Le.EMPTY,this._pointerDown=g=>{this.disabled||this._isSliding||!$p(g)&&0!==g.button||this._ngZone.run(()=>{this._touchId=$p(g)?function Jle(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(g,this._elementRef.nativeElement):void 0;const v=GV(g,this._touchId);if(v){const b=this.value;this._isSliding="pointer",this._lastPointerEvent=g,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(g),this._focusHostElement(),this._updateValueFromPosition(v),this._valueOnSlideStart=b,g.cancelable&&g.preventDefault(),b!=this.value&&this._emitInputEvent()}})},this._pointerMove=g=>{if("pointer"===this._isSliding){const v=GV(g,this._touchId);if(v){g.preventDefault();const b=this.value;this._lastPointerEvent=g,this._updateValueFromPosition(v),b!=this.value&&this._emitInputEvent()}}},this._pointerUp=g=>{"pointer"===this._isSliding&&(!$p(g)||"number"!=typeof this._touchId||eD(g.changedTouches,this._touchId))&&(g.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=d,this.tabIndex=parseInt(a)||0,c.runOutsideAngular(()=>{const g=e.nativeElement;g.addEventListener("mousedown",this._pointerDown,Or),g.addEventListener("touchstart",this._pointerDown,Or)})}get invert(){return this._invert}set invert(e){this._invert=ct(e)}get max(){return this._max}set max(e){this._max=os(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(e){this._min=os(e,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(e){this._step=os(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(e){this._thumbLabel=ct(e)}get tickInterval(){return this._tickInterval}set tickInterval(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?os(e,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(e){if(e!==this._value){let i=os(e,0);this._roundToDecimal&&i!==this.min&&i!==this.max&&(i=parseFloat(i.toFixed(this._roundToDecimal))),this._value=i,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(e){this._vertical=ct(e)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(e){this._focusHostElement(e)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const i=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${i})`}}_getTrackFillStyles(){const e=this.percent,s=this.vertical?`1, ${e}, 1`:`${e}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${s})`,display:0===e?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let e=100*this._tickIntervalPercent,c={backgroundSize:this.vertical?`2px ${e}%`:`${e}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${e/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const d=this._shouldInvertAxis();let h;h=this.vertical?d?"Bottom":"Top":d?"Right":"Left",c[`padding${h}`]=`${this._getThumbGap()}px`}return c}_getThumbContainerStyles(){const e=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{this._isActive=!!e&&"keyboard"!==e,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,Or),e.removeEventListener("touchstart",this._pointerDown,Or),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||Fs(e)||this._isSliding&&"keyboard"!==this._isSliding)return;const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}i!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(e){const i=this._document,s=$p(e),a=s?"touchend":"mouseup";i.addEventListener(s?"touchmove":"mousemove",this._pointerMove,Or),i.addEventListener(a,this._pointerUp,Or),s&&i.addEventListener("touchcancel",this._pointerUp,Or);const c=this._getWindow();void 0!==c&&c&&c.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Or),e.removeEventListener("mouseup",this._pointerUp,Or),e.removeEventListener("touchmove",this._pointerMove,Or),e.removeEventListener("touchend",this._pointerUp,Or),e.removeEventListener("touchcancel",this._pointerUp,Or);const i=this._getWindow();void 0!==i&&i&&i.removeEventListener("blur",this._windowBlur)}_increment(e){const i=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(i+this.step*e,this.min,this.max)}_updateValueFromPosition(e){if(!this._sliderDimensions)return;let a=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(a=1-a),0===a)this.value=this.min;else if(1===a)this.value=this.max;else{const c=this._calculateValue(a),d=Math.round((c-this.min)/this.step)*this.step+this.min;this.value=this._clamp(d,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let e;if("auto"==this.tickInterval){let i=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;e=Math.ceil(30/(i*this.step/(this.max-this.min)))*this.step/i}else e=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=zV(e)?e:0}_createChangeEvent(e=this.value){let i=new Kle;return i.source=this,i.value=e,i}_calculatePercentage(e){const i=((e||0)-this.min)/(this.max-this.min);return zV(i)?i:0}_calculateValue(e){return this.min+e*(this.max-this.min)}_clamp(e,i=0,s=1){return Math.max(i,Math.min(e,s))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(e){this._elementRef.nativeElement.focus(e)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(e){this.value=e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Do),F(Li),F(as,8),ds("tabindex"),F(At),F(Bt),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-slider"]],viewQuery:function(e,i){if(1&e&&oi(jle,5),2&e){let s;Ke(s=Qe())&&(i._sliderWrapper=s.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(e,i){1&e&&dt("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(r){return i._onKeydown(r)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(r){return r.preventDefault()}),2&e&&(wa("tabIndex",i.tabIndex),Yt("aria-disabled",i.disabled)("aria-valuemax",i.max)("aria-valuemin",i.min)("aria-valuenow",i.value)("aria-valuetext",null==i.valueText?i.displayValue:i.valueText)("aria-orientation",i.vertical?"vertical":"horizontal"),Qt("mat-slider-disabled",i.disabled)("mat-slider-has-ticks",i.tickInterval)("mat-slider-horizontal",!i.vertical)("mat-slider-axis-inverted",i._shouldInvertAxis())("mat-slider-invert-mouse-coords",i._shouldInvertMouseCoords())("mat-slider-sliding",i._isSliding)("mat-slider-thumb-label-showing",i.thumbLabel)("mat-slider-vertical",i.vertical)("mat-slider-min-value",i._isMinValue())("mat-slider-hide-last-tick",i.disabled||i._isMinValue()&&i._getThumbGap()&&i._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[vt([Zle]),we],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,i){1&e&&(se(0,"div",0,1),se(2,"div",2),yt(3,"div",3),yt(4,"div",4),re(),se(5,"div",5),yt(6,"div",6),re(),se(7,"div",7),yt(8,"div",8),yt(9,"div",9),se(10,"div",10),se(11,"span",11),Ue(12),re(),re(),re(),re()),2&e&&(ye(3),Pe("ngStyle",i._getTrackBackgroundStyles()),ye(1),Pe("ngStyle",i._getTrackFillStyles()),ye(1),Pe("ngStyle",i._getTicksContainerStyles()),ye(1),Pe("ngStyle",i._getTicksStyles()),ye(1),Pe("ngStyle",i._getThumbContainerStyles()),ye(5),Vs(i.displayValue))},directives:[Fm],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),n})();function zV(n){return!isNaN(n)&&isFinite(n)}function $p(n){return"t"===n.type[0]}function GV(n,t){let e;return e=$p(n)?"number"==typeof t?eD(n.touches,t)||eD(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function eD(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let UV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt],xt]}),n})();function ece(n,t){if(1&n&&(se(0,"div",6),Ue(1),re()),2&n){const e=ui();ye(1),hi(" ","RUL : "+e.rul+" cycles"," ")}}let tce=(()=>{class n{constructor(e,i){this.alertService=e,this.httpService=i,this.trainData=[],this.isLatestData=!1,this.lastUpdatedTime=null,this.displayedColumns=["name","value"],this.rul=null,this.max=1e4,this.min=0,this.step=.1,this.sensorDetails={sensor2:"Total temperature at LPC outlet (\xb0R)",sensor3:"Total temperature at HPC outlet (\xb0R)",sensor4:"Total temperature at LPT outlet (\xb0R)",sensor7:"Total pressure at HPC outlet (psia)",sensor8:"Physical fan speed (rpm)",sensor9:"Physical core speed (rpm)",sensor11:"Static pressure at HPC outlet (psia)",sensor12:"Ratio of fuel flow to Ps30 (pps/psi)",sensor13:"Corrected fan speed (rpm)",sensor14:"Corrected core speed (rpm)",sensor15:"Bypass Ratio",sensor17:"Bleed Enthalpy",sensor20:"HPT coolant bleed (lbm/s)",sensor21:"LPT coolant bleed (lbm/s)"},this.sensor2=677.08,this.sensor3=1576.65,this.sensor4=1400.31,this.sensor7=509.35,this.sensor8=2376.09,this.sensor9=9046.1,this.sensor11=47.34,this.sensor12=521.82,this.sensor13=2381.02,this.sensor14=8125.24,this.sensor15=8.4494,this.sensor17=393,this.sensor20=34.87,this.sensor21=29.3931,this.pSensor2=677.08,this.pSensor3=1576.65,this.pSensor4=1400.31,this.pSensor7=509.35,this.pSensor8=2376.09,this.pSensor9=9046.1,this.pSensor11=47.34,this.pSensor12=521.82,this.pSensor13=2381.02,this.pSensor14=8125.24,this.pSensor15=8.4494,this.pSensor17=393,this.pSensor20=34.87,this.pSensor21=29.3931}ngOnInit(){console.log(this.digitalTwin)}train(){this.httpService.rulPredict({sensor2:this.sensor2,sensor3:this.sensor3,sensor4:this.sensor4,sensor7:this.sensor7,sensor8:this.sensor8,sensor9:this.sensor9,sensor11:this.sensor11,sensor12:this.sensor12,sensor13:this.sensor13,sensor14:this.sensor14,sensor15:this.sensor15,sensor17:this.sensor17,sensor20:this.sensor20,sensor21:this.sensor21}).subscribe(i=>{this.rul=i.data})}getLatestData(){this.trainData=[],this.isLatestData=!0,this.lastUpdatedTime=new Date(Date.now())}}return n.\u0275fac=function(e){return new(e||n)(F(Zv),F(Ic))},n.\u0275cmp=Tt({type:n,selectors:[["app-simulate-predict"]],inputs:{digitalTwin:"digitalTwin"},decls:76,vars:85,consts:[["div","","fxLayout","column","fxLayoutAlign","space-around start","fxLayoutGap","20px",1,"content"],[1,"group"],["aria-labelledby","example-name-label",1,"example-margin",3,"max","min","step","ngModel","ngModelChange"],[1,"slider"],["mat-button","",1,"button-basic",3,"click"],["class","rul",4,"ngIf"],[1,"rul"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"div"),se(2,"div",1),Ue(3),se(4,"div"),se(5,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor2=r}),re(),Ue(6),re(),re(),se(7,"div",1),Ue(8),se(9,"div"),se(10,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor3=r}),re(),Ue(11),re(),re(),se(12,"div",1),Ue(13),se(14,"div"),se(15,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor4=r}),re(),Ue(16),re(),re(),se(17,"div",1),Ue(18),se(19,"div"),se(20,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor7=r}),re(),Ue(21),re(),re(),se(22,"div",1),Ue(23),se(24,"div"),se(25,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor8=r}),re(),Ue(26),re(),re(),se(27,"div",1),Ue(28),se(29,"div"),se(30,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor9=r}),re(),Ue(31),re(),re(),se(32,"div",1),Ue(33),se(34,"div"),se(35,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor11=r}),re(),Ue(36),re(),re(),se(37,"div",1),Ue(38),se(39,"div"),se(40,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor12=r}),re(),Ue(41),re(),re(),se(42,"div",1),Ue(43),se(44,"div"),se(45,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor13=r}),re(),Ue(46),re(),re(),se(47,"div",1),Ue(48),se(49,"div"),se(50,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor14=r}),re(),Ue(51),re(),re(),se(52,"div",1),Ue(53),se(54,"div"),se(55,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor15=r}),re(),Ue(56),re(),re(),se(57,"div",1),Ue(58),se(59,"div"),se(60,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor17=r}),re(),Ue(61),re(),re(),se(62,"div",1),Ue(63),se(64,"div"),se(65,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor20=r}),re(),Ue(66),re(),re(),se(67,"div",1),Ue(68),se(69,"div",3),se(70,"div"),se(71,"mat-slider",2),dt("ngModelChange",function(r){return i.sensor21=r}),re(),Ue(72),re(),re(),re(),re(),se(73,"button",4),dt("click",function(){return i.train()}),Ue(74,"Predict RUL"),re(),re(),Lt(75,ece,2,1,"div",5)),2&e&&(ye(3),hi(" ",i.sensorDetails.sensor2," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor2),ye(1),hi(" ",i.sensor2," "),ye(2),hi(" ",i.sensorDetails.sensor3," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor3),ye(1),hi(" ",i.sensor3," "),ye(2),hi(" ",i.sensorDetails.sensor4," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor4),ye(1),hi(" ",i.sensor4," "),ye(2),hi(" ",i.sensorDetails.sensor7," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor7),ye(1),hi(" ",i.sensor7," "),ye(2),hi(" ",i.sensorDetails.sensor8," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor8),ye(1),hi(" ",i.sensor8," "),ye(2),hi(" ",i.sensorDetails.sensor9," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor9),ye(1),hi(" ",i.sensor9," "),ye(2),hi(" ",i.sensorDetails.sensor11," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor11),ye(1),hi(" ",i.sensor11," "),ye(2),hi(" ",i.sensorDetails.sensor12," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor12),ye(1),hi(" ",i.sensor12," "),ye(2),hi(" ",i.sensorDetails.sensor13," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor13),ye(1),hi(" ",i.sensor13," "),ye(2),hi(" ",i.sensorDetails.sensor14," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor14),ye(1),hi(" ",i.sensor14," "),ye(2),hi(" ",i.sensorDetails.sensor15," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor15),ye(1),hi(" ",i.sensor15," "),ye(2),hi(" ",i.sensorDetails.sensor17," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor17),ye(1),hi(" ",i.sensor17," "),ye(2),hi(" ",i.sensorDetails.sensor20," "),ye(2),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor20),ye(1),hi(" ",i.sensor20," "),ye(2),hi(" ",i.sensorDetails.sensor21," "),ye(3),Pe("max",i.max)("min",i.min)("step",i.step)("ngModel",i.sensor21),ye(1),hi(" ",i.sensor21," "),ye(3),Pe("ngIf",null!=i.rul))},directives:[Mo,Oc,Ip,HV,Iw,Ww,Xp,ks],styles:[".content[_ngcontent-%COMP%]{margin:20px 10px}.table-container[_ngcontent-%COMP%]{margin-top:10px;max-height:calc(100vh - 300px);overflow:auto;width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}th.mat-header-cell.cdk-header-cell[_ngcontent-%COMP%]{font-size:20px}.mat-slider-horizontal[_ngcontent-%COMP%]{height:35px!important;min-width:400px!important}.rul[_ngcontent-%COMP%]{font-size:36px;font-style:normal;font-weight:500;text-align:center}"]}),n})(),ice=(()=>{class n{constructor(e,i){this.httpService=e,this.router=i}ngOnInit(){}delete(){this.httpService.deletDigitalTwin(this.digitalTwin._id).subscribe(e=>{localStorage.removeItem(this.digitalTwin._id),this.router.navigateByUrl("digital-twin")})}}return n.\u0275fac=function(e){return new(e||n)(F(Ic),F(ts))},n.\u0275cmp=Tt({type:n,selectors:[["app-twin-setting"]],inputs:{digitalTwin:"digitalTwin"},decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"delete"],["mat-raised-button","",1,"button-basic",3,"click"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"button",1),dt("click",function(){return i.delete()}),Ue(2,"Delete"),re(),re())},directives:[Mo,Oc,Xp],styles:[".delete[_ngcontent-%COMP%]{width:100%;margin-top:50px}"]}),n})();const nce=["container"];let sce=(()=>{class n{constructor(e,i){this.scene=e,this.route=i,this.digitalTwinId="",this.digitalTwin=null,this.route.params.subscribe(s=>{this.digitalTwinId=s.id}),this.digitalTwin=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))))}ngOnInit(){console.log(this.digitalTwin)}set container(e){const i=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))));console.log(i),this.scene.initialize(e.nativeElement,i.machine)}}return n.\u0275fac=function(e){return new(e||n)(F(EM),F(Jo))},n.\u0275cmp=Tt({type:n,selectors:[["app-digital-twin-overview"]],viewQuery:function(e,i){if(1&e&&oi(nce,5),2&e){let s;Ke(s=Qe())&&(i.container=s.first)}},decls:17,vars:4,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","50",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","49",1,"right-content"],["animationDuration","1000ms"],["label","Overview"],[3,"digitalTwin"],["label","Predict"],["label","Simulate and Predict"],["label","Setting"]],template:function(e,i){1&e&&(se(0,"div",0),se(1,"div",1),yt(2,"div",2,3),se(4,"div",4),yt(5,"div",5),yt(6,"div",6),re(),re(),se(7,"div",7),se(8,"mat-tab-group",8),se(9,"mat-tab",9),yt(10,"app-overview",10),re(),se(11,"mat-tab",11),yt(12,"app-predict",10),re(),se(13,"mat-tab",12),yt(14,"app-simulate-predict",10),re(),se(15,"mat-tab",13),yt(16,"app-twin-setting",10),re(),re(),re(),re()),2&e&&(ye(10),Pe("digitalTwin",i.digitalTwin),ye(2),Pe("digitalTwin",i.digitalTwin),ye(2),Pe("digitalTwin",i.digitalTwin),ye(2),Pe("digitalTwin",i.digitalTwin))},directives:[Mo,Oc,Pp,Ole,RV,Gle,Wle,tce,ice],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.loading-screen[_ngcontent-%COMP%]{width:50%}.right-content[_ngcontent-%COMP%]{background-color:#fff;height:100%}"]}),n})();function rce(n,t){if(1&n){const e=Ka();se(0,"div",7),se(1,"mat-card",8),dt("click",function(){const r=gr(e).$implicit;return ui().navigateTo(r)}),se(2,"mat-card-header"),se(3,"mat-card-title"),Ue(4),re(),re(),yt(5,"img",9),re(),re()}if(2&n){const e=t.$implicit;Pe("fxFlex","14%"),ye(4),Vs(e.name),ye(1),Pe("src",e.machine.imageUrl,Md)}}function ace(n,t){1&n&&(se(0,"div",10),se(1,"h2"),Ue(2,"No Data"),re(),re())}let oce=(()=>{class n{constructor(e,i){this.router=e,this.httpService=i,this.digitalTwin=[],this.filteredList=[]}ngOnInit(){this.httpService.getDigitalTwins().subscribe(e=>{e.data.map(i=>{i.machine.modelPosition=this.convertToVector(i.machine.modelPosition),i.machine.modelScale=this.convertToVector(i.machine.modelScale),this.digitalTwin.push(i)}),this.filteredList=this.digitalTwin})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/digital-twin/${e._id}`,{state:e})}search(e){const i=e.target.value;this.filteredList=this.digitalTwin.filter(s=>{if(s.name.toLowerCase().includes(i))return s})}convertToVector(e){return new $(e[0],e[1],e[2])}}return n.\u0275fac=function(e){return new(e||n)(F(ts),F(Ic))},n.\u0275cmp=Tt({type:n,selectors:[["app-digital-twin"]],decls:8,vars:2,consts:[[1,"container"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Digital Twin...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid",1,"content"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,i){1&e&&(se(0,"section",0),se(1,"form",1),se(2,"input",2),dt("keyup",function(r){return i.search(r)}),re(),se(3,"a"),yt(4,"img",3),re(),re(),se(5,"div",4),Lt(6,rce,6,3,"div",5),re(),Lt(7,ace,3,0,"div",6),re()),2&e&&(ye(6),Pe("ngForOf",i.filteredList),ye(1),Pe("ngIf",0==i.filteredList.length))},directives:[x_,h_,nl,Mo,Ip,iu,Pp,$B,qB,XB,US,ks],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{width:99%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.card-image[_ngcontent-%COMP%]{height:285px}"]}),n})();function cce(n,t){if(1&n){const e=Ka();se(0,"div",7),se(1,"mat-card",8),dt("click",function(){const r=gr(e).$implicit;return ui().navigateTo(r)}),se(2,"mat-card-header"),se(3,"mat-card-title"),Ue(4),re(),re(),yt(5,"img",9),re(),re()}if(2&n){const e=t.$implicit;Pe("fxFlex","25%"),ye(4),Vs(e.name),ye(1),Pe("src",e.imageUrl,Md)}}function dce(n,t){1&n&&(se(0,"div",10),se(1,"h2"),Ue(2," No Data"),re(),re())}const uce=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["app-home"]],decls:16,vars:0,consts:[["width","380px","height","500px","viewBox","0 0 837 1045","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z","id","Polygon-1","stroke","#007FB2","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z","id","Polygon-2","stroke","#EF4A5B","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z","id","Polygon-3","stroke","#795D9C","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z","id","Polygon-4","stroke","#F2773F","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z","id","Polygon-5","stroke","#36B455","stroke-width","6",0,"sketch","type","MSShapeGroup"],[1,"message-box"],[1,"buttons-con"],[1,"action-link-wrap"],["routerLink","/create",1,"link-button","link-back-button"],["routerLink","/about",1,"link-button"]],template:function(e,i){1&e&&(hd(),se(0,"svg",0),se(1,"g",1),yt(2,"path",2),yt(3,"path",3),yt(4,"path",4),yt(5,"path",5),yt(6,"path",6),re(),re(),function Hb(){!function Mz(){Kt.lFrame.currentNamespace=null}()}(),se(7,"div",7),se(8,"h1"),Ue(9,"Data twin"),re(),se(10,"div",8),se(11,"div",9),se(12,"a",10),Ue(13,"Get Started"),re(),se(14,"a",11),Ue(15,"Learn more about it"),re(),re(),re(),re())},directives:[c_],styles:["[_nghost-%COMP%]{background-color:#5a5c6c}svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-400px}.message-box[_ngcontent-%COMP%]{height:200px;width:380px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:50px;color:#fff;font-family:Roboto;font-weight:300}.message-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:46px;margin-bottom:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]{margin-top:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#68c950;padding:8px 25px;border-radius:4px;color:#fff;font-weight:700;font-size:14px;transition:all .3s linear;cursor:pointer;text-decoration:none;margin-right:10px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#5A5C6C;color:#fff}#Polygon-1[_ngcontent-%COMP%], #Polygon-2[_ngcontent-%COMP%], #Polygon-3[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-5[_ngcontent-%COMP%]{animation:float 1s infinite ease-in-out alternate}#Polygon-2[_ngcontent-%COMP%]{animation-delay:.2s}#Polygon-3[_ngcontent-%COMP%]{animation-delay:.4s}#Polygon-4[_ngcontent-%COMP%]{animation-delay:.6s}#Polygon-5[_ngcontent-%COMP%]{animation-delay:.8s}@keyframes float{to{transform:translateY(20px)}}@media (max-width: 450px){svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-190px}.message-box[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-100px;margin-left:-190px;text-align:center}}"]}),n})()},{path:"create",component:(()=>{class n{constructor(e,i){this.router=e,this.httpService=i,this.machineList=[],this.filteredList=[]}ngOnInit(){this.machineList=[],this.httpService.getMachines().subscribe(e=>{e.data.map(i=>{i.modelPosition=this.convertToVector(i.modelPosition),i.modelScale=this.convertToVector(i.modelScale),this.machineList.push(i)}),this.filteredList=this.machineList,console.log(this.machineList)})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/create/${e._id}`)}search(e){const i=e.target.value;this.filteredList=this.machineList.filter(s=>{if(s.name.toLowerCase().includes(i))return s})}convertToVector(e){return new $(e[0],e[1],e[2])}}return n.\u0275fac=function(e){return new(e||n)(F(ts),F(Ic))},n.\u0275cmp=Tt({type:n,selectors:[["app-machine-selection"]],decls:8,vars:2,consts:[[1,"machine-select"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Machine...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,i){1&e&&(se(0,"section",0),se(1,"form",1),se(2,"input",2),dt("keyup",function(r){return i.search(r)}),re(),se(3,"a"),yt(4,"img",3),re(),re(),se(5,"div",4),Lt(6,cce,6,3,"div",5),re(),Lt(7,dce,3,0,"div",6),re()),2&e&&(ye(6),Pe("ngForOf",i.filteredList),ye(1),Pe("ngIf",0==i.filteredList.length))},directives:[x_,h_,nl,Mo,Ip,iu,Pp,$B,qB,XB,US,ks],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:75px;height:75px;top:-80px;right:-45px}.card-image[_ngcontent-%COMP%]{height:285px}"]}),n})()},{path:"about",component:xq},{path:"create/:id",component:Joe},{path:"digital-twin",component:oce},{path:"digital-twin/:id",component:sce}];let hce=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[mP.forRoot(uce)],mP]}),n})(),WV=(()=>{class n{constructor(){this.isLoading=new Ge}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fce(n,t){if(1&n&&(hd(),yt(0,"circle",4)),2&n){const e=ui(),i=vr(1);yr("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Yt("r",e._getCircleRadius())}}function pce(n,t){if(1&n&&(hd(),yt(0,"circle",4)),2&n){const e=ui(),i=vr(1);yr("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),Yt("r",e._getCircleRadius())}}const mce=Eo(class{constructor(n){this._elementRef=n}},"primary"),_ce=new Se("mat-progress-spinner-default-options",{providedIn:"root",factory:function vce(){return{diameter:100}}});class ko extends mce{constructor(t,e,i,s,r,a,c,d){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Le.EMPTY,this.mode="determinate";const h=ko._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(i.head)||h.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!r&&!r._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth)),e.isBrowser&&e.SAFARI&&c&&a&&d&&(this._resizeSubscription=c.change(150).subscribe(()=>{"indeterminate"===this.mode&&d.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=os(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=os(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,os(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=by(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=ko._diameters;let s=i.get(t);if(!s||!s.has(e)){const r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),t.appendChild(r),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ko._diameters=new WeakMap,ko.\u0275fac=function(t){return new(t||ko)(F(Ye),F(Dn),F(Bt,8),F(Bn,8),F(_ce),F(Li),F(da),F(At))},ko.\u0275cmp=Tt({type:ko,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Yt("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),yr("width",e.diameter,"px")("height",e.diameter,"px"),Qt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[we],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(hd(),se(0,"svg",0,1),Lt(2,fce,1,11,"circle",2),Lt(3,pce,1,9,"circle",3),re()),2&t&&(yr("width",e.diameter,"px")("height",e.diameter,"px"),Pe("ngSwitch","indeterminate"===e.mode),Yt("viewBox",e._getViewBox()),ye(2),Pe("ngSwitchCase",!0),ye(1),Pe("ngSwitchCase",!1))},directives:[nu,Om],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let jV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt,Pn],xt]}),n})();function bce(n,t){1&n&&(se(0,"div",1),yt(1,"mat-progress-spinner",2),re())}let xce=(()=>{class n{constructor(e){this.loaderService=e,this.isLoading=this.loaderService.isLoading}}return n.\u0275fac=function(e){return new(e||n)(F(WV))},n.\u0275cmp=Tt({type:n,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner"]],template:function(e,i){1&e&&(Lt(0,bce,2,0,"div",0),function kk(n,t){const e=Ai();let i;const s=n+20;e.firstCreatePass?(i=function Aj(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=Hl(i.type)),a=Go(F);try{const c=Hg(!1),d=r();return Hg(c),function K5(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ze(),s,d),d}finally{Go(a)}}(1,"async")),2&e&&Pe("ngIf",function Rk(n,t,e){const i=n+20,s=ze(),r=dd(s,i);return function mf(n,t){return n[1].data[t].pure}(s,i)?Sk(s,Ss(),t,r.transform,e,r):r.transform(e)}(1,1,i.isLoading))},directives:[ks,ko],pipes:[XR],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),n})(),Ace=(()=>{class n extends un{constructor(e,i,s,r,a,c,d){super(e,null,i,s),this.ngClassInstance=d,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new tu(r,a,e,c)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Qi),F(rn),F(Hs),F(Ko),F($r),F(tu,10))},n.\u0275dir=ge({type:n,inputs:{klass:["class","klass"]},features:[we]}),n})();const Ece=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let YV=(()=>{class n extends Ace{constructor(){super(...arguments),this.inputs=Ece}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=ge({type:n,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[we]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[VM]]}),n})();const Vce=function(n,t,e,i){return{alert:n,"alert-success":t,"alert-danger":e,"alert-info":i}};function Hce(n,t){if(1&n&&(se(0,"div",1),Ue(1),re()),2&n){const e=ui();Pe("@simpleFadeAnimation","in")("ngClass",Mk(3,Vce,e.message,"success"===e.message.type,"error"===e.message.type,"info"==e.message.type)),ye(1),Vs(e.message.text)}}let zce=(()=>{class n{constructor(e){this.alertService=e,this.subscription=new Le}ngOnInit(){this.subscription=this.alertService.getMessage().subscribe(e=>{this.message=e,console.log(e)})}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(F(Zv))},n.\u0275cmp=Tt({type:n,selectors:[["app-alert"]],decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,i){1&e&&Lt(0,Hce,2,8,"div",0),2&e&&Pe("ngIf",i.message)},directives:[ks,tu,YV],styles:[".alert[_ngcontent-%COMP%]{position:absolute;min-height:40px;text-align:center;right:5%;z-index:500000;top:5%;border-radius:20px;align-items:center;display:flex;justify-content:center;color:#fff;font-size:16px!important;width:-moz-fit-content;width:fit-content;padding:5px 24px;max-width:300px}.alert-success[_ngcontent-%COMP%]{background:#00C851}.alert-danger[_ngcontent-%COMP%]{background:#ff4444}.alert-info[_ngcontent-%COMP%]{background:#33b5e5}@media only screen and (max-width: 750px){.alert[_ngcontent-%COMP%]{top:10%;width:50%}}"],data:{animation:[hn("simpleFadeAnimation",[li("in",_t({opacity:1})),bi(":enter",[_t({opacity:0}),Si(600)]),bi(":leave",Si(300,_t({opacity:0})))])]}}),n})();function nD(n){return jt(()=>n)}const JV=["*"],Gce=["content"];function Uce(n,t){if(1&n){const e=Ka();se(0,"div",2),dt("click",function(){return gr(e),ui()._onBackdropClicked()}),re()}2&n&&Qt("mat-drawer-shown",ui()._isShowingBackdrop())}function Wce(n,t){1&n&&(se(0,"mat-drawer-content"),ai(1,2),re())}const jce=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Yce=["mat-drawer","mat-drawer-content","*"],Xce={transformDrawer:hn("transform",[li("open, open-instant",_t({transform:"none",visibility:"visible"})),li("void",_t({"box-shadow":"none",visibility:"hidden"})),bi("void => open-instant",Si("0ms")),bi("void <=> open, open-instant => void",Si("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},$ce=new Se("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function qce(){return!1}}),eH=new Se("MAT_DRAWER_CONTAINER");let sD=(()=>{class n extends XS{constructor(e,i,s,r,a){super(s,r,a),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(F(Li),F(x(()=>iH)),F(Ye),F(YS),F(At))},n.\u0275cmp=Tt({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&yr("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[vt([{provide:XS,useExisting:n}]),we],ngContentSelectors:JV,decls:1,vars:0,template:function(e,i){1&e&&(tn(),ai(0))},encapsulation:2,changeDetection:0}),n})(),tH=(()=>{class n{constructor(e,i,s,r,a,c,d,h){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=r,this._ngZone=a,this._interactivityChecker=c,this._doc=d,this._container=h,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ge,this._animationEnd=new Ge,this._animationState="void",this.openedChange=new gt(!0),this._openedStream=this.openedChange.pipe(nn(g=>g),jt(()=>{})),this.openedStart=this._animationStarted.pipe(nn(g=>g.fromState!==g.toState&&0===g.toState.indexOf("open")),nD(void 0)),this._closedStream=this.openedChange.pipe(nn(g=>!g),jt(()=>{})),this.closedStart=this._animationStarted.pipe(nn(g=>g.fromState!==g.toState&&"void"===g.toState),nD(void 0)),this._destroyed=new Ge,this.onPositionChanged=new gt,this._modeChanged=new Ge,this.openedChange.subscribe(g=>{g?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Lr(this._elementRef.nativeElement,"keydown").pipe(nn(g=>27===g.keyCode&&!this.disableClose&&!Fs(g)),Pt(this._destroyed)).subscribe(g=>this._ngZone.run(()=>{this.close(),g.stopPropagation(),g.preventDefault()}))}),this._animationEnd.pipe(wy((g,v)=>g.fromState===v.fromState&&g.toState===v.toState)).subscribe(g=>{const{fromState:v,toState:b}=g;(0===b.indexOf("open")&&"void"===v||"void"===b&&0===v.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ct(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=ct(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(ct(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(i)}_focusByCssSelector(e,i){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,i,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(T(1)).subscribe(a=>r(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,s=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,i)),s.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Lre),F(Do),F(Dn),F(At),F(AB),F(Bt,8),F(eH,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&oi(Gce,5),2&e){let s;Ke(s=Qe())&&(i._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&r0("@transform.start",function(r){return i._animationStarted.next(r)})("@transform.done",function(r){return i._animationEnd.next(r)}),2&e&&(Yt("align",null),c0("@transform",i._animationState),Qt("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:JV,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(tn(),se(0,"div",0,1),ai(2),re())},directives:[XS],encapsulation:2,data:{animation:[Xce.transformDrawer]},changeDetection:0}),n})(),iH=(()=>{class n{constructor(e,i,s,r,a,c=!1,d){this._dir=e,this._element=i,this._ngZone=s,this._changeDetectorRef=r,this._animationMode=d,this._drawers=new jl,this.backdropClick=new gt,this._destroyed=new Ge,this._doCheckSubject=new Ge,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ge,e&&e.change.pipe(Pt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Pt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ct(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:ct(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Gs(this._allDrawers),Pt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Gs(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ES(10),Pt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,e-=s}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(nn(i=>i.fromState!==i.toState),Pt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Pt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Pt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(T(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Pt(M(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(F(as,8),F(Ye),F(At),F(Li),F(da),F($ce),F(Bn,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,s){if(1&e&&(ii(s,sD,5),ii(s,tH,5)),2&e){let r;Ke(r=Qe())&&(i._content=r.first),Ke(r=Qe())&&(i._allDrawers=r)}},viewQuery:function(e,i){if(1&e&&oi(sD,5),2&e){let s;Ke(s=Qe())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&Qt("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[vt([{provide:eH,useExisting:n}])],ngContentSelectors:Yce,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(tn(jce),Lt(0,Uce,1,2,"div",0),ai(1),ai(2,1),Lt(3,Wce,2,0,"mat-drawer-content",1)),2&e&&(Pe("ngIf",i.hasBackdrop),ye(3),Pe("ngIf",!i._content))},directives:[sD,ks],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt,Oa],Oa,xt]}),n})();const Kce=["*"];let Ly;function qp(n){var t;return(null===(t=function Qce(){if(void 0===Ly&&(Ly=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Ly=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ly}())||void 0===t?void 0:t.createHTML(n))||n}function nH(n){return Error(`Unable to find icon with the name "${n}"`)}function sH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function rH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zc{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Oy=(()=>{class n{constructor(e,i,s,r){this._httpClient=e,this._sanitizer=i,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,r){return this._addSvgIconConfig(e,i,new Zc(s,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,r){const a=this._sanitizer.sanitize(ki.HTML,s);if(!a)throw rH(s);const c=qp(a);return this._addSvgIconConfig(e,i,new Zc("",c,r))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new Zc(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const r=this._sanitizer.sanitize(ki.HTML,i);if(!r)throw rH(i);const a=qp(r);return this._addSvgIconSetConfig(e,new Zc("",a,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ki.RESOURCE_URL,e);if(!i)throw sH(e);const s=this._cachedIconsByUrl.get(i);return s?It(Fy(s)):this._loadSvgIconFromConfig(new Zc(e,null)).pipe(Yn(r=>this._cachedIconsByUrl.set(i,r)),jt(r=>Fy(r)))}getNamedSvgIcon(e,i=""){const s=aH(i,e);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,e),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):function Zce(n,t){const e=_i(n)?n:()=>n,i=s=>s.error(e());return new Jt(t?s=>t.schedule(i,0,s):i)}(nH(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?It(Fy(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(jt(i=>Fy(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?It(s):yP(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(no(c=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(ki.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(h)),It(null)})))).pipe(jt(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw nH(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const r=i[s];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(r),c=this._extractSvgIconFromSet(a,e,r.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Yn(i=>e.svgText=i),jt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?It(null):this._fetchIcon(e).pipe(Yn(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const r=e.querySelector(`[id="${i}"]`);if(!r)return null;const a=r.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const c=this._svgElementFromString(qp("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(qp("<svg></svg>")),s=e.attributes;for(let r=0;r<s.length;r++){const{name:a,value:c}=s[r];"id"!==a&&i.setAttribute(a,c)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:r}=e,a=null!==(i=null==r?void 0:r.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Jce(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const c=this._sanitizer.sanitize(ki.RESOURCE_URL,s);if(!c)throw sH(s);const d=this._inProgressUrlFetches.get(c);if(d)return d;const h=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe(jt(g=>qp(g)),dw(()=>this._inProgressUrlFetches.delete(c)),R());return this._inProgressUrlFetches.set(c,h),h}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(aH(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](i,e);if(r)return tde(r)?new Zc(r.url,null,r.options):new Zc(r,null)}}}return n.\u0275fac=function(e){return new(e||n)(me(Xv,8),me(Gm),me(Bt,8),me($a))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fy(n){return n.cloneNode(!0)}function aH(n,t){return n+":"+t}function tde(n){return!(!n.url||!n.options)}const ide=Eo(class{constructor(n){this._elementRef=n}}),nde=new Se("mat-icon-location",{providedIn:"root",factory:function sde(){const n=xd(Bt),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),oH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],rde=oH.map(n=>`[${n}]`).join(", "),ade=/^url\(['"]?#(.*?)['"]?\)$/;let ode=(()=>{class n extends ide{constructor(e,i,s,r,a){super(e),this._iconRegistry=i,this._location=r,this._errorHandler=a,this._inline=!1,this._currentIconFetch=Le.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ct(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,r)=>{s.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(rde),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)oH.forEach(a=>{const c=i[r],d=c.getAttribute(a),h=d?d.match(ade):null;if(h){let g=s.get(c);g||(g=[],s.set(c,g)),g.push({name:a,value:h[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(T(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${r.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Oy),ds("aria-hidden"),F(nde),F($a))},n.\u0275cmp=Tt({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Yt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Qt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[we],ngContentSelectors:Kce,decls:1,vars:0,template:function(e,i){1&e&&(tn(),ai(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})(),aD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})();const lH=["*"],cde=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],dde=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],gde=Ao(Rr(class{})),mde=Rr(class{}),_de=new Se("MatList"),cH=new Se("MatNavList");let vde=(()=>{class n extends gde{constructor(){super(...arguments),this._stateChanges=new Ge}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=Tt({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[vt([{provide:cH,useExisting:n}]),we,Vi],ngContentSelectors:lH,decls:1,vars:0,template:function(e,i){1&e&&(tn(),ai(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),dH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),oD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ge({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),yde=(()=>{class n extends mde{constructor(e,i,s,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ge,this._disabled=!1,this._isInteractiveList=!!(s||r&&"action-list"===r._getListType()),this._list=s||r;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Pt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=ct(e)}ngAfterContentInit(){!function FB(n,t,e="mat"){n.changes.pipe(Gs(n)).subscribe(({length:i})=>{Vp(t,`${e}-2-line`,!1),Vp(t,`${e}-3-line`,!1),Vp(t,`${e}-multi-line`,!1),2===i||3===i?Vp(t,`${e}-${i}-line`,!0):i>3&&Vp(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(F(Ye),F(Li),F(cH,8),F(_de,8))},n.\u0275cmp=Tt({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,s){if(1&e&&(ii(s,dH,5),ii(s,oD,5),ii(s,BS,5)),2&e){let r;Ke(r=Qe())&&(i._avatar=r.first),Ke(r=Qe())&&(i._icon=r.first),Ke(r=Qe())&&(i._lines=r)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&Qt("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[we],ngContentSelectors:dde,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(tn(cde),se(0,"span",0),yt(1,"span",1),ai(2),se(3,"span",2),ai(4,1),re(),ai(5,2),re()),2&e&&(ye(1),Pe("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[Ir],encapsulation:2,changeDetection:0}),n})(),lD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Dy,Pr,xt,HS,Pn],Dy,xt,HS,aD]}),n})();function Sde(n,t){1&n&&(se(0,"h4",10),Ue(1,"Home"),re())}function Dde(n,t){1&n&&(se(0,"h4",10),Ue(1,"Select Machine"),re())}function Ade(n,t){1&n&&(se(0,"h4",10),Ue(1,"Your Digital Twin"),re())}const Ede=function(){return{exact:!0}};let Tde=(()=>{class n{constructor(){this.title="DigitalTwin",this.isExpanded=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Tt({type:n,selectors:[["app-root"]],decls:23,vars:8,consts:[["autosize","",1,"container","mat-typography"],["mode","side","disableClose","true","opened","true",1,"drawer"],["drawer",""],["mat-mini-fab","","color","warn",2,"margin","10px",3,"click"],["aria-label","Menu"],["routerLinkActive","nav-active",3,"routerLink","routerLinkActiveOptions"],["mat-list-icon","",1,"nav-icon"],["mat-line","","class","nav-text",4,"ngIf"],["routerLinkActive","nav-active",3,"routerLink"],[1,"sidenav-content"],["mat-line","",1,"nav-text"]],template:function(e,i){1&e&&(yt(0,"app-loader"),yt(1,"app-alert"),se(2,"mat-drawer-container",0),se(3,"mat-drawer",1,2),se(5,"button",3),dt("click",function(){return i.isExpanded=!i.isExpanded}),se(6,"mat-icon",4),Ue(7,"menu"),re(),re(),se(8,"mat-nav-list"),se(9,"mat-list-item",5),se(10,"mat-icon",6),Ue(11,"home"),re(),Lt(12,Sde,2,0,"h4",7),re(),se(13,"mat-list-item",8),se(14,"mat-icon",6),Ue(15,"build"),re(),Lt(16,Dde,2,0,"h4",7),re(),se(17,"mat-list-item",8),se(18,"mat-icon",6),Ue(19,"build"),re(),Lt(20,Ade,2,0,"h4",7),re(),re(),re(),se(21,"div",9),yt(22,"router-outlet"),re(),re()),2&e&&(ye(9),Pe("routerLink","")("routerLinkActiveOptions",function wk(n,t,e){const i=Ss()+n,s=ze();return s[i]===ti?ya(s,i,e?t.call(e):t()):function sf(n,t){return n[t]}(s,i)}(7,Ede)),ye(3),Pe("ngIf",i.isExpanded),ye(1),Pe("routerLink","create"),ye(3),Pe("ngIf",i.isExpanded),ye(1),Pe("routerLink","digital-twin"),ye(3),Pe("ngIf",i.isExpanded))},directives:[xce,zce,iH,tH,Xp,ode,vde,yde,uP,l_,oD,ks,BS,ww],styles:[".container[_ngcontent-%COMP%]{height:100vh;background:#5584AC}.container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{background:#22577E;color:#fff}.container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{padding-left:10px;height:100%}.nav-icon[_ngcontent-%COMP%], .nav-text[_ngcontent-%COMP%]{color:#fff}.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{background-color:#5584ac}"]}),n})(),yH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[VM]]}),n})(),Kue=(()=>{class n{constructor(e,i){su(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:la,useValue:Object.assign(Object.assign({},HM),e)},{provide:zM,useValue:i,multi:!0},{provide:Qu,useValue:!0}]:[{provide:la,useValue:Object.assign(Object.assign({},HM),e)},{provide:zM,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(me(Qu),me(er))},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[vN,QV,yH],vN,QV,yH]}),n})();const nhe={provide:new Se("mat-autocomplete-scroll-strategy"),deps:[To],useFactory:function ihe(n){return()=>n.scrollStrategies.reposition()}};let wH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[nhe],imports:[[$c,Ay,xt,Pn],Oa,Ay,xt]}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),DH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pr,xt,Bp,SH],xt,SH]}),n})(),Ahe=(()=>{class n{constructor(){this.changes=new Ge,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const khe={provide:new Se("mat-datepicker-scroll-strategy"),deps:[To],useFactory:function The(n){return()=>n.scrollStrategies.reposition()}};let kH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[Ahe,khe],imports:[[Pn,qc,$c,Sy,Yc,xt],Oa]}),n})(),LH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pr,xt],xt]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[OH,Pr,xt,Bp],OH,xt]}),n})();const cfe={provide:new Se("mat-menu-scroll-strategy"),deps:[To],useFactory:function lfe(n){return()=>n.scrollStrategies.reposition()}};let BH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[cfe],imports:[[Pn,xt,Pr,$c],Oa,xt]}),n})(),cD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt],xt]}),n})(),dD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),HH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt,dD,Yc]]}),n})(),GH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Dy,xt],Dy,xt]}),n})(),hfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pc]]}),n})(),uD=(()=>{class n{constructor(){this.changes=new Ge,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cfe={provide:uD,deps:[[new Un,new Zs,uD]],useFactory:function wfe(n){return n||new uD}};let WH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[Cfe,ah],imports:[[xt,Pn,Yc,qc,hfe,Ny,Pr],xt]}),n})(),Efe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),jH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Efe,xt],xt]}),n})(),ZH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[xt,Pr],xt]}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Sy,xt],xt]}),n})();const t3=new Se("mat-chips-default-options");let n3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[ah,{provide:t3,useValue:{separatorKeyCodes:[13]}}],imports:[[xt]]}),n})(),s3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,xt],xt]}),n})(),r3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[$c,xt,Yc],xt]}),n})(),a3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[$c,Yc,Pn,qc,xt],xt]}),n})();const ope={provide:new Se("mat-tooltip-scroll-strategy"),deps:[To],useFactory:function ape(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let vD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[ope],imports:[[Sy,Pn,$c,xt],xt,Oa]}),n})(),yD=(()=>{class n{constructor(){this.changes=new Ge,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const r=e*i;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+i,s):r+i} of ${s}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fpe={provide:yD,deps:[[new Un,new Zs,yD]],useFactory:function hpe(n){return n||new yD}};let o3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[fpe],imports:[[Pn,qc,JS,vD,xt]]}),n})(),bD=(()=>{class n{constructor(){this.changes=new Ge}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gpe={provide:bD,deps:[[new Un,new Zs,bD]],useFactory:function ppe(n){return n||new bD}};let l3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[gpe],imports:[[Pn,xt]]}),n})(),Tpe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[$S]]}),n})(),y3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Tpe,xt],xt]}),n})();function RD(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function hh(n,t){const e=t?"":"none";RD(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function b3(n,t,e){RD(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Qy(n,t){return t&&"none"!=t?n+" "+t:n}function x3(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function ID(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function PD(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function LD(n,t,e){const{top:i,bottom:s,left:r,right:a}=n;return e>=i&&e<=s&&t>=r&&t<=a}function Jp(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function w3(n,t,e,i){const{top:s,right:r,bottom:a,left:c,width:d,height:h}=n,g=d*t,v=h*t;return i>s-v&&i<a+v&&e>c-g&&e<r+g}class C3{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:PD(e)})})}handleScroll(t){const e=kr(t),i=this.positions.get(e);if(!i)return null;const s=i.scrollPosition;let r,a;if(e===this._document){const h=this.getViewportScrollPosition();r=h.top,a=h.left}else r=e.scrollTop,a=e.scrollLeft;const c=s.top-r,d=s.left-a;return this.positions.forEach((h,g)=>{h.clientRect&&e!==g&&e.contains(g)&&Jp(h.clientRect,c,d)}),s.top=r,s.left=a,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function M3(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?A3(n,t):("input"===i||"select"===i||"textarea"===i)&&D3(n,t),S3("canvas",n,t,A3),S3("input, textarea, select",n,t,D3),t}function S3(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let a=0;a<s.length;a++)i(s[a],r[a])}}let qpe=0;function D3(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${qpe++}`)}function A3(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const E3=ca({passive:!0}),Jy=ca({passive:!1}),OD=new Set(["position"]);class Kpe{constructor(t,e,i,s,r,a){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ge,this._pointerMoveSubscription=Le.EMPTY,this._pointerUpSubscription=Le.EMPTY,this._scrollSubscription=Le.EMPTY,this._resizeSubscription=Le.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ge,this.started=new Ge,this.released=new Ge,this.ended=new Ge,this.entered=new Ge,this.exited=new Ge,this.dropped=new Ge,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),D=this._dropContainer;if(!C)return void this._endDragSequence(c);(!D||!D.isDragging()&&!D.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const h=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,d);else{const g=this._activeTransform;g.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,g.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:c,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new C3(i),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ct(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>hh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>An(i)),this._handles.forEach(i=>hh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=An(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Jy),e.addEventListener("touchstart",this._pointerDown,E3),e.addEventListener("dragstart",this._nativeDragStart,Jy)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?An(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),hh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),hh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){eg(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();s.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),b3(i,!1,OD),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,c).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=eg(e),r=!s&&0!==e.button,a=this._rootElement,c=kr(e),d=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?RS(e):kS(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||d||h)return;if(this._handles.length){const b=a.style;this._rootElementTapHighlight=b.webkitTapHighlightColor||"",b.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(b=>this._updateOnScroll(b)),this._boundaryElement&&(this._boundaryRect=PD(this._boundaryElement));const g=this._previewTemplate;this._pickupPositionInElement=g&&g.template&&!g.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){b3(this._rootElement,!0,OD),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(i,t.context);a.detectChanges(),s=k3(a,this._document),this._previewRef=a,t.matchSize?R3(s,r):s.style.transform=eb(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=M3(r),R3(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return RD(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},OD),hh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function $pe(n){const t=getComputedStyle(n),e=ID(t,"transition-property"),i=e.find(c=>"transform"===c||"all"===c);if(!i)return 0;const s=e.indexOf(i),r=ID(t,"transition-duration"),a=ID(t,"transition-delay");return x3(r[s])+x3(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=a=>{var c;(!a||kr(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=k3(this._placeholderRef,this._document)):i=M3(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,a=eg(e)?e.targetTouches[0]:e,c=this._getViewportScrollPosition();return{x:r.left-i.left+(a.pageX-r.left-c.left),y:r.top-i.top+(a.pageY-r.top-c.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=eg(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=s,c.y=r,c.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:h}=this._getPreviewRect(),g=c.top+a,v=c.bottom-(h-a);i=T3(i,c.left+r,c.right-(d-r)),s=T3(s,g,v)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),c=Math.abs(i-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),c>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,hh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Jy),t.removeEventListener("touchstart",this._pointerDown,E3),t.removeEventListener("dragstart",this._nativeDragStart,Jy)}_applyRootElementTransform(t,e){const i=eb(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Qy(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=eb(t,e);this._preview.style.transform=Qy(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,a=s.right-i.right,c=i.top-s.top,d=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,i.height>s.height?(c>0&&(e+=c),d>0&&(e-=d)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:eg(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=kr(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Jp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=by(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return An(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function eb(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function T3(n,t,e){return Math.max(t,Math.min(e,n))}function eg(n){return"t"===n.type[0]}function k3(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function R3(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=eb(t.left,t.top)}function tg(n,t){return Math.max(0,Math.min(t,n))}class Jpe{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ge,this.entered=new Ge,this.exited=new Ge,this.dropped=new Ge,this.sorted=new Ge,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Le.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ge,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Xpe(n=0,t=qv){return n<0&&(n=0),Tp(n,n,t)}(0,tV).pipe(Pt(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=An(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new C3(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const a=this._activeDraggables,c=a.indexOf(t),d=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),!h&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(h=a[0]),c>-1&&a.splice(c,1),h&&!this._dragDropRegistry.isDragging(h)){const g=h.getRootElement();g.parentElement.insertBefore(d,g),a.splice(r,0,t)}else An(this.element).appendChild(d),a.push(t);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,a,c){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:c})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=An(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!w3(this._clientRect,.05,e,i))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===a&&r.length>0)return;const c="horizontal"===this._orientation,d=r.findIndex(E=>E.drag===t),h=r[a],v=h.clientRect,b=d>a?1:-1,C=this._getItemOffsetPx(r[d].clientRect,v,b),D=this._getSiblingOffsetPx(d,r,b),A=r.slice();(function Qpe(n,t,e){const i=tg(t,n.length-1),s=tg(e,n.length-1);if(i===s)return;const r=n[i],a=s<i?-1:1;for(let c=i;c!==s;c+=a)n[c]=n[c+a];n[s]=r})(r,d,a),this.sorted.next({previousIndex:d,currentIndex:a,container:this,item:t}),r.forEach((E,I)=>{if(A[I]===E)return;const P=E.drag===t,N=P?C:D,V=P?t.getPlaceholderElement():E.drag.getRootElement();E.offset+=N,c?(V.style.transform=Qy(`translate3d(${Math.round(E.offset)}px, 0, 0)`,E.initialTransform),Jp(E.clientRect,0,N)):(V.style.transform=Qy(`translate3d(0, ${Math.round(E.offset)}px, 0)`,E.initialTransform),Jp(E.clientRect,N,0))}),this._previousSwap.overlaps=LD(v,e,i),this._previousSwap.drag=h.drag,this._previousSwap.delta=c?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||i||w3(a.clientRect,.05,t,e)&&([s,r]=function ege(n,t,e,i){const s=L3(t,i),r=O3(t,e);let a=0,c=0;if(s){const d=n.scrollTop;1===s?d>0&&(a=1):n.scrollHeight-d>n.clientHeight&&(a=2)}if(r){const d=n.scrollLeft;1===r?d>0&&(c=1):n.scrollWidth-d>n.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,t,e),(s||r)&&(i=c))}),!s&&!r){const{width:a,height:c}=this._viewportRuler.getViewportSize(),d={width:a,height:c,top:0,right:a,bottom:c,left:0};s=L3(d,e),r=O3(d,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=An(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=An(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:PD(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=An(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(a=>a.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*i];let c=r[s?"width":"height"]*i;if(a){const d=s?"left":"top",h=s?"right":"bottom";-1===i?c-=a.clientRect[d]-r[h]:c+=r[d]-a.clientRect[h]}return c}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const a=i[i.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=i[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:d})=>{if(c===t)return!1;if(s){const h=r?s.x:s.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return r?e>=Math.floor(d.left)&&e<Math.floor(d.right):i>=Math.floor(d.top)&&i<Math.floor(d.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&LD(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!LD(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=An(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{Jp(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=by(An(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function L3(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function O3(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const tb=ca({passive:!1,capture:!0});let tge=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ge,this.pointerUp=new Ge,this.scroll=new Ge,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,tb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,tb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:tb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:tb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Jt(s=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&s.next(c)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),M(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(me(At),me(Bt))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ige={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nge=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=ige){return new Kpe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Jpe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(me(Bt),me(At),me(da),me(tge))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({providers:[nge],imports:[Oa]}),n})(),sge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({imports:[[Pn,wH,DH,kH,Gp,AV,LH,JS,UV,FH,BH,rD,cD,ZB,aD,HH,GH,lD,WH,NV,jH,qc,ZH,KH,n3,Ny,jV,s3,Pr,r3,a3,vD,o3,l3,y3,F3,dD,OB],wH,DH,kH,Gp,AV,LH,JS,UV,FH,BH,rD,cD,ZB,aD,HH,GH,lD,WH,NV,jH,qc,ZH,KH,n3,Ny,jV,s3,Pr,r3,a3,vD,o3,l3,y3,F3,dD,OB]}),n})(),rge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n}),n.\u0275inj=nt({}),n})(),age=(()=>{class n{constructor(e){this.loaderService=e}intercept(e,i){return this.loaderService.show(),i.handle(e).pipe(dw(()=>this.loaderService.hide()))}}return n.\u0275fac=function(e){return new(e||n)(me(WV))},n.\u0275prov=Oe({token:n,factory:n.\u0275fac}),n})(),oge=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=rt({type:n,bootstrap:[Tde]}),n.\u0275inj=nt({providers:[EM,{provide:IM,useClass:age,multi:!0}],imports:[[lI,hce,ire,Kue,sge,rge,cD,qc,rD,Ny,lD,_9,v9,Jte,Nle]]}),n})();(function T8(){mR=!1})(),YY().bootstrapModule(oge).catch(n=>console.error(n))},597:(Tl,_h,sg)=>{var _i;function Jc(U,o){var l=Object.keys(U);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(U);o&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(U,f).enumerable})),l.push.apply(l,u)}return l}function Gt(U){for(var o=1;o<arguments.length;o++){var l=null!=arguments[o]?arguments[o]:{};o%2?Jc(Object(l),!0).forEach(function(u){kl(U,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(l)):Jc(Object(l)).forEach(function(u){Object.defineProperty(U,u,Object.getOwnPropertyDescriptor(l,u))})}return U}function bn(U){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(U)}function Le(U,o){if(!(U instanceof o))throw new TypeError("Cannot call a class as a function")}function vh(U,o){for(var l=0;l<o.length;l++){var u=o[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(U,u.key,u)}}function st(U,o,l){return o&&vh(U.prototype,o),l&&vh(U,l),U}function kl(U,o,l){return o in U?Object.defineProperty(U,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):U[o]=l,U}function Us(U,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(o&&o.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),o&&yh(U,o)}function Lo(U){return(Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(U)}function yh(U,o){return(yh=Object.setPrototypeOf||function(l,u){return l.__proto__=u,l})(U,o)}function Oo(U,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(U)}function Rl(U){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,u=Lo(U);if(o){var f=Lo(this).constructor;l=Reflect.construct(u,arguments,f)}else l=u.apply(this,arguments);return Oo(this,l)}}function Ws(U){return function(o){if(Array.isArray(o))return Fr(o)}(U)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(U)||ed(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(U,o){if(U){if("string"==typeof U)return Fr(U,o);var l=Object.prototype.toString.call(U).slice(8,-1);return"Object"===l&&U.constructor&&(l=U.constructor.name),"Map"===l||"Set"===l?Array.from(U):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Fr(U,o):void 0}}function Fr(U,o){(null==o||o>U.length)&&(o=U.length);for(var l=0,u=new Array(o);l<o;l++)u[l]=U[l];return u}var fe=function(){function U(){Le(this,U)}return st(U,[{key:"shadeRGBColor",value:function(o,l){var u=l.split(","),f=o<0?0:255,p=o<0?-1*o:o,_=parseInt(u[0].slice(4),10),m=parseInt(u[1],10),y=parseInt(u[2],10);return"rgb("+(Math.round((f-_)*p)+_)+","+(Math.round((f-m)*p)+m)+","+(Math.round((f-y)*p)+y)+")"}},{key:"shadeHexColor",value:function(o,l){var u=parseInt(l.slice(1),16),f=o<0?0:255,p=o<0?-1*o:o,_=u>>16,m=u>>8&255,y=255&u;return"#"+(16777216+65536*(Math.round((f-_)*p)+_)+256*(Math.round((f-m)*p)+m)+(Math.round((f-y)*p)+y)).toString(16).slice(1)}},{key:"shadeColor",value:function(o,l){return U.isColorHex(l)?this.shadeHexColor(o,l):this.shadeRGBColor(o,l)}}],[{key:"bind",value:function(o,l){return function(){return o.apply(l,arguments)}}},{key:"isObject",value:function(o){return o&&"object"===bn(o)&&!Array.isArray(o)&&null!=o}},{key:"is",value:function(o,l){return Object.prototype.toString.call(l)==="[object "+o+"]"}},{key:"listToArray",value:function(o){var l,u=[];for(l=0;l<o.length;l++)u[l]=o[l];return u}},{key:"extend",value:function(o,l){var u=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(p),m=1;m<arguments.length;m++){var y=arguments[m];if(null!=y)for(var w in y)y.hasOwnProperty(w)&&(_[w]=y[w])}return _});var f=Object.assign({},o);return this.isObject(o)&&this.isObject(l)&&Object.keys(l).forEach(function(p){u.isObject(l[p])&&p in o?f[p]=u.extend(o[p],l[p]):Object.assign(f,kl({},p,l[p]))}),f}},{key:"extendArray",value:function(o,l){var u=[];return o.map(function(f){u.push(U.extend(l,f))}),u}},{key:"monthMod",value:function(o){return o%12}},{key:"clone",value:function(o){if(U.is("Array",o)){for(var l=[],u=0;u<o.length;u++)l[u]=this.clone(o[u]);return l}if(U.is("Null",o))return null;if(U.is("Date",o))return o;if("object"===bn(o)){var f={};for(var p in o)o.hasOwnProperty(p)&&(f[p]=this.clone(o[p]));return f}return o}},{key:"log10",value:function(o){return Math.log(o)/Math.LN10}},{key:"roundToBase10",value:function(o){return Math.pow(10,Math.floor(Math.log10(o)))}},{key:"roundToBase",value:function(o,l){return Math.pow(l,Math.floor(Math.log(o)/Math.log(l)))}},{key:"parseNumber",value:function(o){return null===o?o:parseFloat(o)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(o){var l=String(o).split(/[eE]/);if(1===l.length)return l[0];var u="",f=o<0?"-":"",p=l[0].replace(".",""),_=Number(l[1])+1;if(_<0){for(u=f+"0.";_++;)u+="0";return u+p.replace(/^-/,"")}for(_-=p.length;_--;)u+="0";return p+u}},{key:"getDimensions",value:function(o){var l=getComputedStyle(o,null),u=o.clientHeight,f=o.clientWidth;return u-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[f-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),u]}},{key:"getBoundingClientRect",value:function(o){var l=o.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:o.clientWidth,height:o.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(o){return o.reduce(function(l,u){return Array.isArray(u)&&(u=u.reduce(function(f,p){return f.length>p.length?f:p})),l.length>u.length?l:u},0)}},{key:"hexToRgba",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==o.substring(0,1)&&(o="#999999");var u=o.replace("#","");u=u.match(new RegExp("(.{"+u.length/3+"})","g"));for(var f=0;f<u.length;f++)u[f]=parseInt(1===u[f].length?u[f]+u[f]:u[f],16);return void 0!==l&&u.push(l),"rgba("+u.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(o){return parseFloat(o.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(o){return(o=o.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===o.length?"#"+("0"+parseInt(o[1],10).toString(16)).slice(-2)+("0"+parseInt(o[2],10).toString(16)).slice(-2)+("0"+parseInt(o[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(o){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(o)}},{key:"getPolygonPos",value:function(o,l){for(var u=[],f=2*Math.PI/l,p=0;p<l;p++){var _={};_.x=o*Math.sin(p*f),_.y=-o*Math.cos(p*f),u.push(_)}return u}},{key:"polarToCartesian",value:function(o,l,u,f){var p=(f-90)*Math.PI/180;return{x:o+u*Math.cos(p),y:l+u*Math.sin(p)}}},{key:"escapeString",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",u=o.toString().slice();return u.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(o){return o<0?0:o}},{key:"moveIndexInArray",value:function(o,l,u){if(u>=o.length)for(var f=u-o.length+1;f--;)o.push(void 0);return o.splice(u,0,o.splice(l,1)[0]),o}},{key:"extractNumber",value:function(o){return parseFloat(o.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(o,l){for(;(o=o.parentElement)&&!o.classList.contains(l););return o}},{key:"setELstyles",value:function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o.style.key=l[u])}},{key:"isNumber",value:function(o){return!isNaN(o)&&parseFloat(Number(o))===o&&!isNaN(parseInt(o,10))}},{key:"isFloat",value:function(o){return Number(o)===o&&o%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var o=window.navigator.userAgent,l=o.indexOf("MSIE ");if(l>0)return parseInt(o.substring(l+5,o.indexOf(".",l)),10);if(o.indexOf("Trident/")>0){var u=o.indexOf("rv:");return parseInt(o.substring(u+3,o.indexOf(".",u)),10)}var f=o.indexOf("Edge/");return f>0&&parseInt(o.substring(f+5,o.indexOf(".",f)),10)}}]),U}(),Fo=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.setEasingFunctions()}return st(U,[{key:"setEasingFunctions",value:function(){var o;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":o="-";break;case"easein":o="<";break;case"easeout":o=">";break;case"easeinout":default:o="<>";break;case"swing":o=function(l){var u=1.70158;return(l-=1)*l*((u+1)*l+u)+1};break;case"bounce":o=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":o=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=o}}},{key:"animateLine",value:function(o,l,u,f){o.attr(l).animate(f).attr(u)}},{key:"animateMarker",value:function(o,l,u,f,p,_){l||(l=0),o.attr({r:l,width:l,height:l}).animate(f,p).attr({r:u,width:u.width,height:u.height}).afterAll(function(){_()})}},{key:"animateCircle",value:function(o,l,u,f,p){o.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(f,p).attr({r:u.r,cx:u.cx,cy:u.cy})}},{key:"animateRect",value:function(o,l,u,f,p){o.attr(l).animate(f).attr(u).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(o){var S=this.w,M=0;S.config.chart.animations.animateGradually.enabled&&(M=S.config.chart.animations.animateGradually.delay),S.config.chart.animations.dynamicAnimation.enabled&&S.globals.dataChanged&&"bar"!==S.config.chart.type&&(M=0),this.morphSVG(o.el,o.realIndex,o.j,"line"!==S.config.chart.type||S.globals.comboCharts?o.fill:"stroke",o.pathFrom,o.pathTo,o.speed,o.delay*M)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(o){o.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(o){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:o,w:l}))}},{key:"morphSVG",value:function(o,l,u,f,p,_,m,y){var w=this,S=this.w;p||(p=o.attr("pathFrom")),_||(_=o.attr("pathTo"));var M=function(T){return"radar"===S.config.chart.type&&(m=1),"M 0 ".concat(S.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=M()),(!_||_.indexOf("undefined")>-1||_.indexOf("NaN")>-1)&&(_=M()),S.globals.shouldAnimate||(m=1),o.plot(p).animate(1,S.globals.easing,y).plot(p).animate(m,S.globals.easing,y).plot(_).afterAll(function(){fe.isNumber(u)?u===S.globals.series[S.globals.maxValsInArrayIndex].length-2&&S.globals.shouldAnimate&&w.animationCompleted(o):"none"!==f&&S.globals.shouldAnimate&&(!S.globals.comboCharts&&l===S.globals.series.length-1||S.globals.comboCharts)&&w.animationCompleted(o),w.showDelayedElements()})}}]),U}(),En=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"getDefaultFilter",value:function(o,l){var u=this.w;o.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==u.config.states.normal.filter?this.applyFilter(o,l,u.config.states.normal.filter.type,u.config.states.normal.filter.value):u.config.chart.dropShadow.enabled&&this.dropShadow(o,u.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(o,l){var u=this.w;u.config.chart.dropShadow.enabled&&!o.node.classList.contains("apexcharts-marker")&&this.dropShadow(o,u.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(o,l,u){var f=this,p=this.w,_=u.intensity;o.unfilter(!0),new window.SVG.Filter,o.filter(function(m){var y=p.config.chart.dropShadow;(y.enabled?f.addShadow(m,l,y):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:_}})}),o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)}},{key:"addDarkenFilter",value:function(o,l,u){var f=this,p=this.w,_=u.intensity;o.unfilter(!0),new window.SVG.Filter,o.filter(function(m){var y=p.config.chart.dropShadow;(y.enabled?f.addShadow(m,l,y):m).componentTransfer({rgb:{type:"linear",slope:_}})}),o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)}},{key:"applyFilter",value:function(o,l,u){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(u){case"none":this.addNormalFilter(o,l);break;case"lighten":this.addLightenFilter(o,l,{intensity:f});break;case"darken":this.addDarkenFilter(o,l,{intensity:f})}}},{key:"addShadow",value:function(o,l,u){var f=u.blur,p=u.top,_=u.left,m=u.color,y=u.opacity,w=o.flood(Array.isArray(m)?m[l]:m,y).composite(o.sourceAlpha,"in").offset(_,p).gaussianBlur(f).merge(o.source);return o.blend(o.source,w)}},{key:"dropShadow",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=l.top,p=l.left,_=l.blur,m=l.color,y=l.opacity,w=l.noUserSpaceOnUse,S=this.w;return o.unfilter(!0),fe.isIE()&&"radialBar"===S.config.chart.type||(m=Array.isArray(m)?m[u]:m,o.filter(function(M){var T;T=fe.isSafari()||fe.isFirefox()||fe.isIE()?M.flood(m,y).composite(M.sourceAlpha,"in").offset(p,f).gaussianBlur(_):M.flood(m,y).composite(M.sourceAlpha,"in").offset(p,f).gaussianBlur(_).merge(M.source),M.blend(M.source,T)}),w||o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)),o}},{key:"setSelectionFilter",value:function(o,l,u){var f=this.w;if(void 0!==f.globals.selectedDataPoints[l]&&f.globals.selectedDataPoints[l].indexOf(u)>-1){o.node.setAttribute("selected",!0);var p=f.config.states.active.filter;"none"!==p&&this.applyFilter(o,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(o){!function(l){for(var u in l)l.hasOwnProperty(u)&&o.setAttribute(u,l[u])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),U}(),He=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"drawLine",value:function(o,l,u,f){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",w=this.w,S=w.globals.dom.Paper.line().attr({x1:o,y1:l,x2:u,y2:f,stroke:p,"stroke-dasharray":_,"stroke-width":m,"stroke-linecap":y});return S}},{key:"drawRect",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,S=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,M=this.w,T=M.globals.dom.Paper.rect();return T.attr({x:o,y:l,width:u>0?u:0,height:f>0?f:0,rx:p,ry:p,opacity:m,"stroke-width":null!==y?y:0,stroke:null!==w?w:"none","stroke-dasharray":S}),T.node.setAttribute("fill",_),T}},{key:"drawPolygon",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",p=this.w,_=p.globals.dom.Paper.polygon(o).attr({fill:f,stroke:l,"stroke-width":u});return _}},{key:"drawCircle",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.w;o<0&&(o=0);var f=u.globals.dom.Paper.circle(2*o);return null!==l&&f.attr(l),f}},{key:"drawPath",value:function(o){var l=o.d,u=void 0===l?"":l,f=o.stroke,p=void 0===f?"#a8a8a8":f,_=o.strokeWidth,m=void 0===_?1:_,y=o.fill,w=o.fillOpacity,S=void 0===w?1:w,M=o.strokeOpacity,T=void 0===M?1:M,R=o.classes,O=o.strokeLinecap,L=void 0===O?null:O,H=o.strokeDashArray,z=void 0===H?0:H,Y=this.w;return null===L&&(L=Y.config.stroke.lineCap),(u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u="M 0 ".concat(Y.globals.gridHeight)),Y.globals.dom.Paper.path(u).attr({fill:y,"fill-opacity":S,stroke:p,"stroke-opacity":T,"stroke-linecap":L,"stroke-width":m,"stroke-dasharray":z,class:R})}},{key:"group",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,u=l.globals.dom.Paper.group();return null!==o&&u.attr(o),u}},{key:"move",value:function(o,l){return["M",o,l].join(" ")}},{key:"line",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=null;return null===u?f=["L",o,l].join(" "):"H"===u?f=["H",o].join(" "):"V"===u&&(f=["V",l].join(" ")),f}},{key:"curve",value:function(o,l,u,f,p,_){return["C",o,l,u,f,p,_].join(" ")}},{key:"quadraticCurve",value:function(o,l,u,f){return["Q",o,l,u,f].join(" ")}},{key:"arc",value:function(o,l,u,f,p,_,m){var y=arguments.length>7&&void 0!==arguments[7]&&arguments[7],w="A";y&&(w="a");var S=[w,o,l,u,f,p,_,m].join(" ");return S}},{key:"renderPaths",value:function(o){var l,u=o.j,f=o.realIndex,p=o.pathFrom,_=o.pathTo,m=o.stroke,y=o.strokeWidth,w=o.strokeLinecap,S=o.fill,M=o.animationDelay,T=o.initialSpeed,R=o.dataChangeSpeed,O=o.className,L=o.shouldClipToGrid,H=void 0===L||L,z=o.bindEventsOnPaths,Y=void 0===z||z,X=o.drawShadow,x=void 0===X||X,k=this.w,B=new En(this.ctx),W=new Fo(this.ctx),K=this.w.config.chart.animations.enabled,ve=K&&this.w.config.chart.animations.dynamicAnimation.enabled,te=!!(K&&!k.globals.resized||ve&&k.globals.dataChanged&&k.globals.shouldAnimate);te?l=p:(l=_,k.globals.animationEnded=!0);var Fe,Te=k.config.stroke.dashArray;Fe=Array.isArray(Te)?Te[f]:k.config.stroke.dashArray;var qe=this.drawPath({d:l,stroke:m,strokeWidth:y,fill:S,fillOpacity:1,classes:O,strokeLinecap:w,strokeDashArray:Fe});qe.attr("index",f),H&&qe.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type?B.getDefaultFilter(qe,f):k.config.chart.dropShadow.enabled&&x&&(!k.config.chart.dropShadow.enabledOnSeries||k.config.chart.dropShadow.enabledOnSeries&&-1!==k.config.chart.dropShadow.enabledOnSeries.indexOf(f))&&B.dropShadow(qe,k.config.chart.dropShadow,f),Y&&(qe.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,qe)),qe.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,qe)),qe.node.addEventListener("mousedown",this.pathMouseDown.bind(this,qe))),qe.attr({pathTo:_,pathFrom:p});var Pi={el:qe,j:u,realIndex:f,pathFrom:p,pathTo:_,fill:S,strokeWidth:y,delay:M};return!K||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||W.showDelayedElements():W.animatePathsGradually(Gt(Gt({},Pi),{},{speed:T})),k.globals.dataChanged&&ve&&te&&W.animatePathsGradually(Gt(Gt({},Pi),{},{speed:R})),qe}},{key:"drawPattern",value:function(o,l,u){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,_=this.w,m=_.globals.dom.Paper.pattern(l,u,function(y){"horizontalLines"===o?y.line(0,0,u,0).stroke({color:f,width:p+1}):"verticalLines"===o?y.line(0,0,0,l).stroke({color:f,width:p+1}):"slantedLines"===o?y.line(0,0,l,u).stroke({color:f,width:p}):"squares"===o?y.rect(l,u).fill("none").stroke({color:f,width:p}):"circles"===o&&y.circle(l).fill("none").stroke({color:f,width:p})});return m}},{key:"drawGradient",value:function(o,l,u,f,p){var _,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,S=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,M=this.w;l.length<9&&0===l.indexOf("#")&&(l=fe.hexToRgba(l,f)),u.length<9&&0===u.indexOf("#")&&(u=fe.hexToRgba(u,p));var T=0,R=1,O=1,L=null;null!==y&&(T=void 0!==y[0]?y[0]/100:0,R=void 0!==y[1]?y[1]/100:1,O=void 0!==y[2]?y[2]/100:1,L=void 0!==y[3]?y[3]/100:null);var H=!("donut"!==M.config.chart.type&&"pie"!==M.config.chart.type&&"polarArea"!==M.config.chart.type&&"bubble"!==M.config.chart.type);if(_=M.globals.dom.Paper.gradient(H?"radial":"linear",null===w||0===w.length?function(X){X.at(T,l,f),X.at(R,u,p),X.at(O,u,p),null!==L&&X.at(L,l,f)}:function(X){(Array.isArray(w[S])?w[S]:w).forEach(function(x){X.at(x.offset/100,x.color,x.opacity)})}),H){var z=M.globals.gridWidth/2,Y=M.globals.gridHeight/2;_.attr("bubble"!==M.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:z,cy:Y,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===o?_.from(0,0).to(0,1):"diagonal"===o?_.from(0,0).to(1,1):"horizontal"===o?_.from(0,1).to(1,1):"diagonal2"===o&&_.from(1,0).to(0,1);return _}},{key:"getTextBasedOnMaxWidth",value:function(o){var l=o.text,u=o.maxWidth,_=this.getTextRects(l,o.fontSize,o.fontFamily),y=Math.floor(u/(_.width/l.length));return u<_.width?l.slice(0,y-3)+"...":l}},{key:"drawText",value:function(o){var l=this,u=o.x,f=o.y,p=o.text,_=o.textAnchor,m=o.fontSize,y=o.fontFamily,w=o.fontWeight,S=o.foreColor,M=o.opacity,T=o.maxWidth,R=o.cssClass,O=void 0===R?"":R,L=o.isPlainText,H=void 0===L||L,z=this.w;void 0===p&&(p="");var Y=p;_||(_="start"),S&&S.length||(S=z.config.chart.foreColor),w=w||"regular";var X,x={maxWidth:T,fontSize:m=m||"11px",fontFamily:y=y||z.config.chart.fontFamily};return Array.isArray(p)?X=z.globals.dom.Paper.text(function(k){for(var B=0;B<p.length;B++)T&&(Y=l.getTextBasedOnMaxWidth(Gt({text:p[B]},x))),0===B?k.tspan(Y):k.tspan(Y).newLine()}):(T&&(Y=this.getTextBasedOnMaxWidth(Gt({text:p},x))),X=H?z.globals.dom.Paper.plain(p):z.globals.dom.Paper.text(function(k){return k.tspan(Y)})),X.attr({x:u,y:f,"text-anchor":_,"dominant-baseline":"auto","font-size":m,"font-family":y,"font-weight":w,fill:S,class:"apexcharts-text "+O}),X.node.style.fontFamily=y,X.node.style.opacity=M,X}},{key:"drawMarker",value:function(o,l,u){o=o||0;var f=u.pSize||0,p=null;if("square"===u.shape||"rect"===u.shape){var _=void 0===u.pRadius?f/2:u.pRadius;null!==l&&f||(f=0,_=0);var m=1.2*f+_,y=this.drawRect(m,m,m,m,_);y.attr({x:o-m/2,y:l-m/2,cx:o,cy:l,class:u.class?u.class:"",fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,stroke:u.pointStrokeColor,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}),p=y}else"circle"!==u.shape&&u.shape||(fe.isNumber(l)||(f=0,l=0),p=this.drawCircle(f,{cx:o,cy:l,class:u.class?u.class:"",stroke:u.pointStrokeColor,fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(o,l){var u=this.w,f=new En(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10);if("function"==typeof u.config.chart.events.dataPointMouseEnter&&u.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}]),("none"===u.config.states.active.filter.type||"true"!==o.node.getAttribute("selected"))&&"none"!==u.config.states.hover.filter.type&&!u.globals.isTouchDevice){var m=u.config.states.hover.filter;f.applyFilter(o,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(o,l){var u=this.w,f=new En(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10);"function"==typeof u.config.chart.events.dataPointMouseLeave&&u.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}]),"none"!==u.config.states.active.filter.type&&"true"===o.node.getAttribute("selected")||"none"!==u.config.states.hover.filter.type&&f.getDefaultFilter(o,p)}},{key:"pathMouseDown",value:function(o,l){var u=this.w,f=new En(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10),m="false";if("true"===o.node.getAttribute("selected")){if(o.node.setAttribute("selected","false"),u.globals.selectedDataPoints[p].indexOf(_)>-1){var y=u.globals.selectedDataPoints[p].indexOf(_);u.globals.selectedDataPoints[p].splice(y,1)}}else{if(!u.config.states.active.allowMultipleDataPointsSelection&&u.globals.selectedDataPoints.length>0){u.globals.selectedDataPoints=[];var w=u.globals.dom.Paper.select(".apexcharts-series path").members,S=u.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,M=function(O){Array.prototype.forEach.call(O,function(L){L.node.setAttribute("selected","false"),f.getDefaultFilter(L,p)})};M(w),M(S)}o.node.setAttribute("selected","true"),m="true",void 0===u.globals.selectedDataPoints[p]&&(u.globals.selectedDataPoints[p]=[]),u.globals.selectedDataPoints[p].push(_)}if("true"===m){var T=u.config.states.active.filter;if("none"!==T)f.applyFilter(o,p,T.type,T.value);else if("none"!==u.config.states.hover.filter&&!u.globals.isTouchDevice){var R=u.config.states.hover.filter;f.applyFilter(o,p,R.type,R.value)}}else"none"!==u.config.states.active.filter.type&&("none"===u.config.states.hover.filter.type||u.globals.isTouchDevice?f.getDefaultFilter(o,p):f.applyFilter(o,p,(R=u.config.states.hover.filter).type,R.value));"function"==typeof u.config.chart.events.dataPointSelection&&u.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:_,w:u}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:_,w:u}])}},{key:"rotateAroundCenter",value:function(o){var l={};return o&&"function"==typeof o.getBBox&&(l=o.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(o,l,u,f){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],_=this.w,m=this.drawText({x:-200,y:-200,text:o,textAnchor:"start",fontSize:l,fontFamily:u,foreColor:"#fff",opacity:0});f&&m.attr("transform",f),_.globals.dom.Paper.add(m);var y=m.bbox();return p||(y=m.node.getBoundingClientRect()),m.remove(),{width:y.width,height:y.height}}},{key:"placeTextWithEllipsis",value:function(o,l,u){if("function"==typeof o.getComputedTextLength&&(o.textContent=l,l.length>0&&o.getComputedTextLength()>=u/1.1)){for(var f=l.length-3;f>0;f-=3)if(o.getSubStringLength(0,f)<=u/1.1)return void(o.textContent=l.substring(0,f)+"...");o.textContent="."}}}],[{key:"setAttrs",value:function(o,l){for(var u in l)l.hasOwnProperty(u)&&o.setAttribute(u,l[u])}}]),U}(),fn=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"getStackedSeriesTotals",value:function(){var o=this.w,l=[];if(0===o.globals.series.length)return l;for(var u=0;u<o.globals.series[o.globals.maxValsInArrayIndex].length;u++){for(var f=0,p=0;p<o.globals.series.length;p++)void 0!==o.globals.series[p][u]&&(f+=o.globals.series[p][u]);l.push(f)}return o.globals.stackedSeriesTotals=l,l}},{key:"getSeriesTotalByIndex",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===o?this.w.config.series.reduce(function(l,u){return l+u},0):this.w.globals.series[o].reduce(function(l,u){return l+u},0)}},{key:"isSeriesNull",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===o?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[o].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(o){return this.w.globals.series[o].every(function(l,u,f){return l===f[0]})}},{key:"getCategoryLabels",value:function(o){var l=this.w,u=o.slice();return l.config.xaxis.convertedCatToNumeric&&(u=o.map(function(f,p){return l.config.xaxis.labels.formatter(f-l.globals.minX+1)})),u}},{key:"getLargestSeries",value:function(){var o=this.w;o.globals.maxValsInArrayIndex=o.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,o.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var o=this.w,l=0;return o.globals.markers.size.forEach(function(u){l=Math.max(l,u)}),o.config.markers.discrete&&o.config.markers.discrete.length&&o.config.markers.discrete.forEach(function(u){l=Math.max(l,u.size)}),l>0&&(l+=o.config.markers.hover.sizeOffset+1),o.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var o=this.w;o.globals.seriesTotals=o.globals.series.map(function(l,u){var f=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)f+=l[p];else f+=l;return f})}},{key:"getSeriesTotalsXRange",value:function(o,l){var u=this.w;return u.globals.series.map(function(f,p){for(var _=0,m=0;m<f.length;m++)u.globals.seriesX[p][m]>o&&u.globals.seriesX[p][m]<l&&(_+=f[m]);return _})}},{key:"getPercentSeries",value:function(){var o=this.w;o.globals.seriesPercent=o.globals.series.map(function(l,u){var f=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var _=o.globals.stackedSeriesTotals[p],m=0;_&&(m=100*l[p]/_),f.push(m)}else{var y=100*l/o.globals.seriesTotals.reduce(function(w,S){return w+S},0);f.push(y)}return f})}},{key:"getCalculatedRatios",value:function(){var o,l,u,f,p=this.w.globals,_=[],m=0,y=[],w=.1,S=0;if(p.yRange=[],p.isMultipleYAxis)for(var M=0;M<p.minYArr.length;M++)p.yRange.push(Math.abs(p.minYArr[M]-p.maxYArr[M])),y.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var T=0;T<p.yRange.length;T++)_.push(p.yRange[T]/p.gridHeight);if(l=p.xRange/p.gridWidth,u=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,o=p.yRange/p.gridWidth,f=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){y=[];for(var R=0;R<_.length;R++)y.push(-p.minYArr[R]/_[R])}else y.push(-p.minY/_[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(w=-p.minY/o,S=p.minX/l);return{yRatio:_,invertedYRatio:o,zRatio:m,xRatio:l,initialXRatio:u,invertedXRatio:f,baseLineInvertedY:w,baseLineY:y,baseLineX:S}}},{key:"getLogSeries",value:function(o){var l=this,u=this.w;return u.globals.seriesLog=o.map(function(f,p){return u.config.yaxis[p]&&u.config.yaxis[p].logarithmic?f.map(function(_){return null===_?null:l.getLogVal(u.config.yaxis[p].logBase,_,p)}):f}),u.globals.invalidLogScale?o:u.globals.seriesLog}},{key:"getBaseLog",value:function(o,l){return Math.log(l)/Math.log(o)}},{key:"getLogVal",value:function(o,l,u){if(0===l)return 0;var f=this.w,p=0===f.globals.minYArr[u]?-1:this.getBaseLog(o,f.globals.minYArr[u]),_=(0===f.globals.maxYArr[u]?0:this.getBaseLog(o,f.globals.maxYArr[u]))-p;return l<1?l/_:(this.getBaseLog(o,l)-p)/_}},{key:"getLogYRatios",value:function(o){var l=this,u=this.w,f=this.w.globals;return f.yLogRatio=o.slice(),f.logYRange=f.yRange.map(function(p,_){if(u.config.yaxis[_]&&l.w.config.yaxis[_].logarithmic){var m,y=-Number.MAX_VALUE,w=Number.MIN_VALUE;return f.seriesLog.forEach(function(S,M){S.forEach(function(T){u.config.yaxis[M]&&u.config.yaxis[M].logarithmic&&(y=Math.max(T,y),w=Math.min(T,w))})}),m=Math.pow(f.yRange[_],Math.abs(w-y)/f.yRange[_]),f.yLogRatio[_]=m/f.gridHeight,m}}),f.invalidLogScale?o.slice():f.yLogRatio}}],[{key:"checkComboSeries",value:function(o){var l=!1,u=0,f=0;return o.length&&void 0!==o[0].type&&o.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||u++,void 0!==p.type&&f++}),f>0&&(l=!0),{comboBarCount:u,comboCharts:l}}},{key:"extendArrayProps",value:function(o,l,u){return l.yaxis&&(l=o.extendYAxis(l,u)),l.annotations&&(l.annotations.yaxis&&(l=o.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=o.extendXAxisAnnotations(l)),l.annotations.points&&(l=o.extendPointAnnotations(l))),l}}]),U}(),Il=function(){function U(o){Le(this,U),this.w=o.w,this.annoCtx=o}return st(U,[{key:"setOrientations",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.w;if("vertical"===o.label.orientation){var f=null!==l?l:0,p=u.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(f,"']"));if(null!==p){var _=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-_.height+4),p.setAttribute("y","top"===o.label.position?parseFloat(p.getAttribute("y"))+_.width:parseFloat(p.getAttribute("y"))-_.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),y=m.x,w=m.y;p.setAttribute("transform","rotate(-90 ".concat(y," ").concat(w,")"))}}}},{key:"addBackgroundToAnno",value:function(o,l){var u=this.w;if(!o||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var f=u.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=o.getBoundingClientRect(),_=l.label.style.padding.left,m=l.label.style.padding.right,y=l.label.style.padding.top,w=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(y=l.label.style.padding.left,w=l.label.style.padding.right,_=l.label.style.padding.top,m=l.label.style.padding.bottom);var T=this.annoCtx.graphics.drawRect(p.left-f.left-_-u.globals.barPadForNumericAxis,p.top-f.top-y,p.width+_+m,p.height+y+w,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&T.node.classList.add(l.id),T}},{key:"annotationsBackground",value:function(){var o=this,l=this.w,u=function(f,p,_){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(_,"-annotations .apexcharts-").concat(_,"-annotation-label[rel='").concat(p,"']"));if(m){var y=m.parentNode,w=o.addBackgroundToAnno(m,f);w&&(y.insertBefore(w.node,m),f.label.mouseEnter&&w.node.addEventListener("mouseenter",f.label.mouseEnter.bind(o,f)),f.label.mouseLeave&&w.node.addEventListener("mouseleave",f.label.mouseLeave.bind(o,f)))}};l.config.annotations.xaxis.map(function(f,p){u(f,p,"xaxis")}),l.config.annotations.yaxis.map(function(f,p){u(f,p,"yaxis")}),l.config.annotations.points.map(function(f,p){u(f,p,"point")})}},{key:"getY1Y2",value:function(o,l){var u,f="y1"===o?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var _=p.globals.labels.indexOf(f);p.config.xaxis.convertedCatToNumeric&&(_=p.globals.categoryLabels.indexOf(f));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(_+1)+")");m&&(u=parseFloat(m.getAttribute("y")))}else{var y;y=p.config.yaxis[l.yAxisIndex].logarithmic?(f=new fn(this.annoCtx.ctx).getLogVal(f,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(f-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),u=p.globals.gridHeight-y,p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(u=y)}return u}},{key:"getX1X2",value:function(o,l){var u=this.w,f=this.annoCtx.invertAxis?u.globals.minY:u.globals.minX,p=this.annoCtx.invertAxis?u.globals.maxY:u.globals.maxX,_=this.annoCtx.invertAxis?u.globals.yRange[0]:u.globals.xRange,m=(l.x-f)/(_/u.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(_/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var y=(l.x2-f)/(_/u.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(y=(p-l.x2)/(_/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(y=this.getStringX(l.x2)),"x1"===o?m:y}},{key:"getStringX",value:function(o){var l=this.w,u=o;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(o=l.globals.categoryLabels.indexOf(o)+1);var f=l.globals.labels.indexOf(o),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(f+1)+")");return p&&(u=parseFloat(p.getAttribute("x"))),u}}]),U}(),bh=function(){function U(o){Le(this,U),this.w=o.w,this.annoCtx=o,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Il(this.annoCtx)}return st(U,[{key:"addXaxisAnnotation",value:function(o,l,u){var f,p=this.w,_=this.helpers.getX1X2("x1",o),m=o.label.text,y=o.strokeDashArray;if(fe.isNumber(_)){if(null==o.x2){var w=this.annoCtx.graphics.drawLine(_+o.offsetX,0+o.offsetY,_+o.offsetX,p.globals.gridHeight+o.offsetY,o.borderColor,y,o.borderWidth);l.appendChild(w.node),o.id&&w.node.classList.add(o.id)}else{if((f=this.helpers.getX1X2("x2",o))<_){var S=_;_=f,f=S}var M=this.annoCtx.graphics.drawRect(_+o.offsetX,0+o.offsetY,f-_,p.globals.gridHeight+o.offsetY,0,o.fillColor,o.opacity,1,o.borderColor,y);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(M.node),o.id&&M.node.classList.add(o.id)}var T="top"===o.label.position?4:p.globals.gridHeight,R=this.annoCtx.graphics.getTextRects(m,parseFloat(o.label.style.fontSize)),O=this.annoCtx.graphics.drawText({x:_+o.label.offsetX,y:T+o.label.offsetY-("vertical"===o.label.orientation?"top"===o.label.position?R.width/2-12:-R.width/2:0),text:m,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});O.attr({rel:u}),l.appendChild(O.node),this.annoCtx.helpers.setOrientations(o,u)}}},{key:"drawXAxisAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(f,p){o.addXaxisAnnotation(f,u.node,p)}),u}}]),U}(),sb=function(){function U(o){Le(this,U),this.w=o.w,this.annoCtx=o,this.helpers=new Il(this.annoCtx)}return st(U,[{key:"addYaxisAnnotation",value:function(o,l,u){var f,p=this.w,_=o.strokeDashArray,m=this.helpers.getY1Y2("y1",o),y=o.label.text;if(null==o.y2){var w=this.annoCtx.graphics.drawLine(0+o.offsetX,m+o.offsetY,this._getYAxisAnnotationWidth(o),m+o.offsetY,o.borderColor,_,o.borderWidth);l.appendChild(w.node),o.id&&w.node.classList.add(o.id)}else{if((f=this.helpers.getY1Y2("y2",o))>m){var S=m;m=f,f=S}var M=this.annoCtx.graphics.drawRect(0+o.offsetX,f+o.offsetY,this._getYAxisAnnotationWidth(o),m-f,0,o.fillColor,o.opacity,1,o.borderColor,_);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(M.node),o.id&&M.node.classList.add(o.id)}var R=this.annoCtx.graphics.drawText({x:("right"===o.label.position?p.globals.gridWidth:0)+o.label.offsetX,y:(null!=f?f:m)+o.label.offsetY-3,text:y,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});R.attr({rel:u}),l.appendChild(R.node)}},{key:"_getYAxisAnnotationWidth",value:function(o){var l=this.w;return(o.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(o.width,10)/100:parseInt(o.width,10))+o.offsetX}},{key:"drawYAxisAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(f,p){o.addYaxisAnnotation(f,u.node,p)}),u}}]),U}(),xh=function(){function U(o){Le(this,U),this.w=o.w,this.annoCtx=o,this.helpers=new Il(this.annoCtx)}return st(U,[{key:"addPointAnnotation",value:function(o,l,u){var f=this.helpers.getX1X2("x1",o),p=this.helpers.getY1Y2("y1",o);if(fe.isNumber(f)){var _={pSize:o.marker.size,pointStrokeWidth:o.marker.strokeWidth,pointFillColor:o.marker.fillColor,pointStrokeColor:o.marker.strokeColor,shape:o.marker.shape,pRadius:o.marker.radius,class:"apexcharts-point-annotation-marker ".concat(o.marker.cssClass," ").concat(o.id?o.id:"")},m=this.annoCtx.graphics.drawMarker(f+o.marker.offsetX,p+o.marker.offsetY,_);l.appendChild(m.node);var y=o.label.text?o.label.text:"",w=this.annoCtx.graphics.drawText({x:f+o.label.offsetX,y:p+o.label.offsetY-o.marker.size-parseFloat(o.label.style.fontSize)/1.6,text:y,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});if(w.attr({rel:u}),l.appendChild(w.node),o.customSVG.SVG){var S=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+o.customSVG.cssClass});S.attr({transform:"translate(".concat(f+o.customSVG.offsetX,", ").concat(p+o.customSVG.offsetY,")")}),S.node.innerHTML=o.customSVG.SVG,l.appendChild(S.node)}if(o.image.path){var M=o.image.width?o.image.width:20,T=o.image.height?o.image.height:20;m=this.annoCtx.addImage({x:f+o.image.offsetX-M/2,y:p+o.image.offsetY-T/2,width:M,height:T,path:o.image.path,appendTo:".apexcharts-point-annotations"})}o.mouseEnter&&m.node.addEventListener("mouseenter",o.mouseEnter.bind(this,o)),o.mouseLeave&&m.node.addEventListener("mouseleave",o.mouseLeave.bind(this,o))}}},{key:"drawPointAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(f,p){o.addPointAnnotation(f,u.node,p)}),u}}]),U}(),Nr={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},No=function(){function U(){Le(this,U),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return st(U,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Nr],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(o){return new Date(o).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(o){return o}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(o){return o+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(o){return o.globals.seriesTotals.reduce(function(l,u){return l+u},0)/o.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(o){return o}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(o){return o}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(o){return o.globals.seriesTotals.reduce(function(l,u){return l+u},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(o){return null!==o?o:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(o){return o?o+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),U}(),rg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.graphics=new He(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Il(this),this.xAxisAnnotations=new bh(this),this.yAxisAnnotations=new sb(this),this.pointsAnnotations=new xh(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return st(U,[{key:"drawAxesAnnotations",value:function(){var o=this.w;if(o.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),u=this.xAxisAnnotations.drawXAxisAnnotations(),f=this.pointsAnnotations.drawPointAnnotations(),p=o.config.chart.animations.enabled,_=[l,u,f],m=[u.node,l.node,f.node],y=0;y<3;y++)o.globals.dom.elGraphical.add(_[y]),!p||o.globals.resized||o.globals.dataChanged||"scatter"!==o.config.chart.type&&"bubble"!==o.config.chart.type&&o.globals.dataPoints>1&&m[y].classList.add("apexcharts-element-hidden"),o.globals.delayedElements.push({el:m[y],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var o=this;this.w.config.annotations.images.map(function(l,u){o.addImage(l,u)})}},{key:"drawTextAnnos",value:function(){var o=this;this.w.config.annotations.texts.map(function(l,u){o.addText(l,u)})}},{key:"addXaxisAnnotation",value:function(o,l,u){this.xAxisAnnotations.addXaxisAnnotation(o,l,u)}},{key:"addYaxisAnnotation",value:function(o,l,u){this.yAxisAnnotations.addYaxisAnnotation(o,l,u)}},{key:"addPointAnnotation",value:function(o,l,u){this.pointsAnnotations.addPointAnnotation(o,l,u)}},{key:"addText",value:function(o,l){var p=o.text,T=o.backgroundColor,R=o.borderWidth,O=o.strokeDashArray,L=o.borderRadius,H=o.borderColor,z=o.appendTo,Y=void 0===z?".apexcharts-annotations":z,X=o.paddingLeft,x=void 0===X?4:X,k=o.paddingRight,B=void 0===k?4:k,W=o.paddingBottom,K=void 0===W?2:W,ve=o.paddingTop,te=void 0===ve?2:ve,Te=this.w,Fe=this.graphics.drawText({x:o.x,y:o.y,text:p,textAnchor:o.textAnchor||"start",fontSize:o.fontSize||"12px",fontWeight:o.fontWeight||"regular",fontFamily:o.fontFamily||Te.config.chart.fontFamily,foreColor:o.foreColor||Te.config.chart.foreColor,cssClass:o.cssClass}),qe=Te.globals.dom.baseEl.querySelector(Y);qe&&qe.appendChild(Fe.node);var kt=Fe.bbox();if(p){var Pi=this.graphics.drawRect(kt.x-x,kt.y-te,kt.width+x+B,kt.height+K+te,L,T||"transparent",1,R,H,O);qe.insertBefore(Pi.node,Fe.node)}}},{key:"addImage",value:function(o,l){var u=this.w,p=o.x,_=void 0===p?0:p,m=o.y,y=void 0===m?0:m,w=o.width,S=void 0===w?20:w,M=o.height,T=void 0===M?20:M,R=o.appendTo,O=void 0===R?".apexcharts-annotations":R,L=u.globals.dom.Paper.image(o.path);L.size(S,T).move(_,y);var H=u.globals.dom.baseEl.querySelector(O);return H&&H.appendChild(L.node),L}},{key:"addXaxisAnnotationExternal",value:function(o,l,u){return this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"xaxis",contextMethod:u.addXaxisAnnotation}),u}},{key:"addYaxisAnnotationExternal",value:function(o,l,u){return this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"yaxis",contextMethod:u.addYaxisAnnotation}),u}},{key:"addPointAnnotationExternal",value:function(o,l,u){return void 0===this.invertAxis&&(this.invertAxis=u.w.globals.isBarHorizontal),this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"point",contextMethod:u.addPointAnnotation}),u}},{key:"addAnnotationExternal",value:function(o){var l=o.params,u=o.pushToMemory,f=o.context,p=o.type,_=o.contextMethod,m=f,y=m.w,w=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),S=w.childNodes.length+1,M=new No,T=Object.assign({},"xaxis"===p?M.xAxisAnnotation:"yaxis"===p?M.yAxisAnnotation:M.pointAnnotation),R=fe.extend(T,l);switch(p){case"xaxis":this.addXaxisAnnotation(R,w,S);break;case"yaxis":this.addYaxisAnnotation(R,w,S);break;case"point":this.addPointAnnotation(R,w,S)}var O=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(S,"']")),L=this.helpers.addBackgroundToAnno(O,R);return L&&w.insertBefore(L.node,O),u&&y.globals.memory.methodsToExec.push({context:m,id:R.id?R.id:fe.randomId(),method:_,label:"addAnnotation",params:l}),f}},{key:"clearAnnotations",value:function(o){var l=o.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(f,p){"addText"!==f.label&&"addAnnotation"!==f.label||l.globals.memory.methodsToExec.splice(p,1)}),u=fe.listToArray(u),Array.prototype.forEach.call(u,function(f){for(;f.firstChild;)f.removeChild(f.firstChild)})}},{key:"removeAnnotation",value:function(o,l){var u=o.w,f=u.globals.dom.baseEl.querySelectorAll(".".concat(l));f&&(u.globals.memory.methodsToExec.map(function(p,_){p.id===l&&u.globals.memory.methodsToExec.splice(_,1)}),Array.prototype.forEach.call(f,function(p){p.parentElement.removeChild(p)}))}}]),U}(),Jt=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.opts=null,this.seriesIndex=0}return st(U,[{key:"clippedImgArea",value:function(o){var l=this.w,u=l.config,f=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),_=f>p?f:p,m=o.image,y=0,w=0;void 0===o.width&&void 0===o.height?void 0!==u.fill.image.width&&void 0!==u.fill.image.height?(y=u.fill.image.width+1,w=u.fill.image.height):(y=_+1,w=_):(y=o.width,w=o.height);var S=document.createElementNS(l.globals.SVGNS,"pattern");He.setAttrs(S,{id:o.patternID,patternUnits:o.patternUnits?o.patternUnits:"userSpaceOnUse",width:y+"px",height:w+"px"});var M=document.createElementNS(l.globals.SVGNS,"image");S.appendChild(M),M.setAttributeNS(window.SVG.xlink,"href",m),He.setAttrs(M,{x:0,y:0,preserveAspectRatio:"none",width:y+"px",height:w+"px"}),M.style.opacity=o.opacity,l.globals.dom.elDefs.node.appendChild(S)}},{key:"getSeriesIndex",value:function(o){var l=this.w;return this.seriesIndex=("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||"heatmap"===l.config.chart.type||"treemap"===l.config.chart.type?o.seriesNumber:o.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(o){var l=this.w;this.opts=o;var u,f,p,_=this.w.config;this.seriesIndex=this.getSeriesIndex(o);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:o.dataPointIndex,value:o.value,w:l}));var y=this.getFillType(this.seriesIndex),w=Array.isArray(_.fill.opacity)?_.fill.opacity[this.seriesIndex]:_.fill.opacity;o.color&&(m=o.color);var S=m;if(-1===m.indexOf("rgb")?m.length<9&&(S=fe.hexToRgba(m,w)):m.indexOf("rgba")>-1&&(w=fe.getOpacityFromRGBA(m)),o.opacity&&(w=o.opacity),"pattern"===y&&(f=this.handlePatternFill(f,m,w,S)),"gradient"===y&&(p=this.handleGradientFill(m,w,this.seriesIndex)),"image"===y){var M=_.fill.image.src,T=o.patternID?o.patternID:"";this.clippedImgArea({opacity:w,image:Array.isArray(M)?o.seriesNumber<M.length?M[o.seriesNumber]:M[0]:M,width:o.width?o.width:void 0,height:o.height?o.height:void 0,patternUnits:o.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(o.seriesNumber+1).concat(T)}),u="url(#pattern".concat(l.globals.cuid).concat(o.seriesNumber+1).concat(T,")")}else u="gradient"===y?p:"pattern"===y?f:S;return o.solid&&(u=S),u}},{key:"getFillType",value:function(o){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[o]:l.config.fill.type}},{key:"getFillColors",value:function(){var o=this.w,l=o.config,u=this.opts,f=[];return o.globals.comboCharts?"line"===o.config.series[this.seriesIndex].type?Array.isArray(o.globals.stroke.colors)?f=o.globals.stroke.colors:f.push(o.globals.stroke.colors):Array.isArray(o.globals.fill.colors)?f=o.globals.fill.colors:f.push(o.globals.fill.colors):"line"===l.chart.type?Array.isArray(o.globals.stroke.colors)?f=o.globals.stroke.colors:f.push(o.globals.stroke.colors):Array.isArray(o.globals.fill.colors)?f=o.globals.fill.colors:f.push(o.globals.fill.colors),void 0!==u.fillColors&&(f=[],Array.isArray(u.fillColors)?f=u.fillColors.slice():f.push(u.fillColors)),f}},{key:"handlePatternFill",value:function(o,l,u,f){var p=this.w.config,_=this.opts,m=new He(this.ctx),y=void 0===p.fill.pattern.strokeWidth?Array.isArray(p.stroke.width)?p.stroke.width[this.seriesIndex]:p.stroke.width:Array.isArray(p.fill.pattern.strokeWidth)?p.fill.pattern.strokeWidth[this.seriesIndex]:p.fill.pattern.strokeWidth,w=l;return Array.isArray(p.fill.pattern.style)?void 0!==p.fill.pattern.style[_.seriesNumber]?m.drawPattern(p.fill.pattern.style[_.seriesNumber],p.fill.pattern.width,p.fill.pattern.height,w,y,u):f:m.drawPattern(p.fill.pattern.style,p.fill.pattern.width,p.fill.pattern.height,w,y,u)}},{key:"handleGradientFill",value:function(o,l,u){var f,p=this.w.config,_=this.opts,m=new He(this.ctx),y=new fe,w=p.fill.gradient.type,S=o,M=void 0===p.fill.gradient.opacityFrom?l:Array.isArray(p.fill.gradient.opacityFrom)?p.fill.gradient.opacityFrom[u]:p.fill.gradient.opacityFrom;S.indexOf("rgba")>-1&&(M=fe.getOpacityFromRGBA(S));var T=void 0===p.fill.gradient.opacityTo?l:Array.isArray(p.fill.gradient.opacityTo)?p.fill.gradient.opacityTo[u]:p.fill.gradient.opacityTo;if(void 0===p.fill.gradient.gradientToColors||0===p.fill.gradient.gradientToColors.length)f=y.shadeColor("dark"===p.fill.gradient.shade?-1*parseFloat(p.fill.gradient.shadeIntensity):parseFloat(p.fill.gradient.shadeIntensity),o.indexOf("rgb")>-1?fe.rgb2hex(o):o);else if(p.fill.gradient.gradientToColors[_.seriesNumber]){var R=p.fill.gradient.gradientToColors[_.seriesNumber];f=R,R.indexOf("rgba")>-1&&(T=fe.getOpacityFromRGBA(R))}else f=o;if(p.fill.gradient.inverseColors){var O=S;S=f,f=O}return S.indexOf("rgb")>-1&&(S=fe.rgb2hex(S)),f.indexOf("rgb")>-1&&(f=fe.rgb2hex(f)),m.drawGradient(w,S,f,M,T,_.size,p.fill.gradient.stops,p.fill.gradient.colorStops,u)}}]),U}(),Bo=function(){function U(o,l){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"setGlobalMarkerSize",value:function(){var o=this.w;if(o.globals.markers.size=Array.isArray(o.config.markers.size)?o.config.markers.size:[o.config.markers.size],o.globals.markers.size.length>0){if(o.globals.markers.size.length<o.globals.series.length+1)for(var l=0;l<=o.globals.series.length;l++)void 0===o.globals.markers.size[l]&&o.globals.markers.size.push(o.globals.markers.size[0])}else o.globals.markers.size=o.config.series.map(function(u){return o.config.markers.size})}},{key:"plotChartMarkers",value:function(o,l,u,f){var p,_=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,y=l,w=o,S=null,M=new He(this.ctx),T=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||_||T)&&(S=M.group({class:_||T?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var R=0;R<w.x.length;R++){var O=u;1===u&&0===R&&(O=0),1===u&&1===R&&(O=1);var L="apexcharts-marker";"line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(L+=" no-pointer-events");var H=Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0;if(H||_||T){fe.isNumber(w.y[R])?L+=" w".concat(fe.randomId()):L="apexcharts-nullpoint";var z=this.getMarkerConfig({cssClass:L,seriesIndex:l,dataPointIndex:O});m.config.series[y].data[O]&&(m.config.series[y].data[O].fillColor&&(z.pointFillColor=m.config.series[y].data[O].fillColor),m.config.series[y].data[O].strokeColor&&(z.pointStrokeColor=m.config.series[y].data[O].strokeColor)),f&&(z.pSize=f),(p=M.drawMarker(w.x[R],w.y[R],z)).attr("rel",O),p.attr("j",O),p.attr("index",l),p.node.setAttribute("default-marker-size",z.pSize);var Y=new En(this.ctx);Y.setSelectionFilter(p,l,O),this.addEvents(p),S&&S.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([w.x[R],w.y[R]])}return S}},{key:"getMarkerConfig",value:function(o){var l=o.cssClass,u=o.seriesIndex,f=o.dataPointIndex,p=void 0===f?null:f,_=o.finishRadius,m=void 0===_?null:_,y=this.w,w=this.getMarkerStyle(u),S=y.globals.markers.size[u],M=y.config.markers;return null!==p&&M.discrete.length&&M.discrete.map(function(T){T.seriesIndex===u&&T.dataPointIndex===p&&(w.pointStrokeColor=T.strokeColor,w.pointFillColor=T.fillColor,S=T.size,w.pointShape=T.shape)}),{pSize:null===m?S:m,pRadius:M.radius,width:Array.isArray(M.width)?M.width[u]:M.width,height:Array.isArray(M.height)?M.height[u]:M.height,pointStrokeWidth:Array.isArray(M.strokeWidth)?M.strokeWidth[u]:M.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(M.shape)?M.shape[u]:M.shape),class:l,pointStrokeOpacity:Array.isArray(M.strokeOpacity)?M.strokeOpacity[u]:M.strokeOpacity,pointStrokeDashArray:Array.isArray(M.strokeDashArray)?M.strokeDashArray[u]:M.strokeDashArray,pointFillOpacity:Array.isArray(M.fillOpacity)?M.fillOpacity[u]:M.fillOpacity,seriesIndex:u}}},{key:"addEvents",value:function(o){var l=this.w,u=new He(this.ctx);o.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this.ctx,o)),o.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this.ctx,o)),o.node.addEventListener("mousedown",u.pathMouseDown.bind(this.ctx,o)),o.node.addEventListener("click",l.config.markers.onClick),o.node.addEventListener("dblclick",l.config.markers.onDblClick),o.node.addEventListener("touchstart",u.pathMouseDown.bind(this.ctx,o),{passive:!0})}},{key:"getMarkerStyle",value:function(o){var l=this.w,u=l.globals.markers.colors,f=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(f)?f[o]:f,pointFillColor:Array.isArray(u)?u[o]:u}}}]),U}(),ag=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return st(U,[{key:"draw",value:function(o,l,u){var f=this.w,p=new He(this.ctx),_=u.realIndex,m=u.pointsPos,y=u.zRatio,w=u.elParent,S=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(f.config.chart.type)});if(S.attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(m.x))for(var M=0;M<m.x.length;M++){var T=l+1,R=!0;0===l&&0===M&&(T=0),0===l&&1===M&&(T=1);var O=0,L=f.globals.markers.size[_];if(y!==1/0){L=f.globals.seriesZ[_][T]/y;var H=f.config.plotOptions.bubble;H.minBubbleRadius&&L<H.minBubbleRadius&&(L=H.minBubbleRadius),H.maxBubbleRadius&&L>H.maxBubbleRadius&&(L=H.maxBubbleRadius)}f.config.chart.animations.enabled||(O=L);var Y=m.y[M];if(O=O||0,null!==Y&&void 0!==f.globals.series[_][T]||(R=!1),R){var X=this.drawPoint(m.x[M],Y,O,L,_,T,l);S.add(X)}w.add(S)}}},{key:"drawPoint",value:function(o,l,u,f,p,_,m){var y=this.w,w=p,S=new Fo(this.ctx),M=new En(this.ctx),T=new Jt(this.ctx),R=new Bo(this.ctx),O=new He(this.ctx),L=R.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:_,finishRadius:"bubble"===y.config.chart.type||y.globals.comboCharts&&y.config.series[p]&&"bubble"===y.config.series[p].type?f:null});f=L.pSize;var H,z=T.fillPath({seriesNumber:p,dataPointIndex:_,color:L.pointFillColor,patternUnits:"objectBoundingBox",value:y.globals.series[p][m]});if("circle"===L.shape?H=O.drawCircle(u):"square"!==L.shape&&"rect"!==L.shape||(H=O.drawRect(0,0,L.width-L.pointStrokeWidth/2,L.height-L.pointStrokeWidth/2,L.pRadius)),y.config.series[w].data[_]&&y.config.series[w].data[_].fillColor&&(z=y.config.series[w].data[_].fillColor),H.attr({x:o-L.width/2-L.pointStrokeWidth/2,y:l-L.height/2-L.pointStrokeWidth/2,cx:o,cy:l,fill:z,"fill-opacity":L.pointFillOpacity,stroke:L.pointStrokeColor,r:f,"stroke-width":L.pointStrokeWidth,"stroke-dasharray":L.pointStrokeDashArray,"stroke-opacity":L.pointStrokeOpacity}),y.config.chart.dropShadow.enabled&&M.dropShadow(H,y.config.chart.dropShadow,p),!this.initialAnim||y.globals.dataChanged||y.globals.resized?y.globals.animationEnded=!0:S.animateMarker(H,0,"circle"===L.shape?f:{width:L.width,height:L.height},y.config.chart.animations.speed,y.globals.easing,function(){window.setTimeout(function(){S.animationCompleted(H)},100)}),y.globals.dataChanged&&"circle"===L.shape)if(this.dynamicAnim){var x,k,B,W,K=y.config.chart.animations.dynamicAnimation.speed;null!=(W=y.globals.previousPaths[p]&&y.globals.previousPaths[p][m])&&(x=W.x,k=W.y,B=void 0!==W.r?W.r:f);for(var ve=0;ve<y.globals.collapsedSeries.length;ve++)y.globals.collapsedSeries[ve].index===p&&(K=1,f=0);0===o&&0===l&&(f=0),S.animateCircle(H,{cx:x,cy:k,r:B},{cx:o,cy:l,r:f},K,y.globals.easing)}else H.attr({r:f});return H.attr({rel:_,j:_,index:p,"default-marker-size":f}),M.setSelectionFilter(H,p,_),R.addEvents(H),H.node.classList.add("apexcharts-marker"),H}},{key:"centerTextInBubble",value:function(o){return{y:o+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),U}(),Vo=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"dataLabelsCorrection",value:function(o,l,u,f,p,_,m){var y=this.w,w=!1,S=new He(this.ctx).getTextRects(u,m),M=S.width,T=S.height;if(l<0&&(l=0),l>y.globals.gridHeight+T&&(l=y.globals.gridHeight+T/2),void 0===y.globals.dataLabelsRects[f]&&(y.globals.dataLabelsRects[f]=[]),y.globals.dataLabelsRects[f].push({x:o,y:l,width:M,height:T}),void 0!==y.globals.dataLabelsRects[f][y.globals.dataLabelsRects[f].length-2]){var L=y.globals.dataLabelsRects[f][void 0!==y.globals.lastDrawnDataLabelsIndexes[f]?y.globals.lastDrawnDataLabelsIndexes[f][y.globals.lastDrawnDataLabelsIndexes[f].length-1]:0];(o>L.x+L.width+2||l>L.y+L.height+2||o+M<L.x)&&(w=!0)}return(0===p||_)&&(w=!0),{x:o,y:l,textRects:S,drawnextLabel:w}}},{key:"drawDataLabel",value:function(o,l,u){var f=this,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,_=this.w,m=new He(this.ctx),y=_.config.dataLabels,w=0,S=0,M=u,T=null;if(!y.enabled||!Array.isArray(o.x))return T;T=m.group({class:"apexcharts-data-labels"});for(var R=0;R<o.x.length;R++)if(w=o.x[R]+y.offsetX,S=o.y[R]+y.offsetY+p,!isNaN(w)){1===u&&0===R&&(M=0),1===u&&1===R&&(M=1);var O=_.globals.series[l][M],L="",H=function(X){return _.config.dataLabels.formatter(X,{ctx:f.ctx,seriesIndex:l,dataPointIndex:M,w:_})};if("bubble"===_.config.chart.type){L=H(O=_.globals.seriesZ[l][M]),S=o.y[R];var z=new ag(this.ctx),Y=z.centerTextInBubble(S,l,M);S=Y.y}else void 0!==O&&(L=H(O));this.plotDataLabelsText({x:w,y:S,text:L,i:l,j:M,parent:T,offsetCorrection:!0,dataLabelsConfig:_.config.dataLabels})}return T}},{key:"plotDataLabelsText",value:function(o){var l=this.w,u=new He(this.ctx),f=o.x,p=o.y,_=o.i,m=o.j,y=o.text,w=o.textAnchor,S=o.fontSize,M=o.parent,T=o.dataLabelsConfig,R=o.color,O=o.alwaysDrawDataLabel,L=o.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(_)<0)){var H={x:f,y:p,drawnextLabel:!0,textRects:null};L&&(H=this.dataLabelsCorrection(f,p,y,_,m,O,parseInt(T.style.fontSize,10))),l.globals.zoomed||(f=H.x,p=H.y),H.textRects&&(f<-10-H.textRects.width||f>l.globals.gridWidth+H.textRects.width+10)&&(y="");var z=l.globals.dataLabels.style.colors[_];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(z=l.globals.dataLabels.style.colors[m]),"function"==typeof z&&(z=z({series:l.globals.series,seriesIndex:_,dataPointIndex:m,w:l})),R&&(z=R);var Y=T.offsetX,X=T.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(Y=0,X=0),H.drawnextLabel){var x=u.drawText({width:100,height:parseInt(T.style.fontSize,10),x:f+Y,y:p+X,foreColor:z,textAnchor:w||T.textAnchor,text:y,fontSize:S||T.style.fontSize,fontFamily:T.style.fontFamily,fontWeight:T.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:f,cy:p}),T.dropShadow.enabled){var k=T.dropShadow;new En(this.ctx).dropShadow(x,k)}M.add(x),void 0===l.globals.lastDrawnDataLabelsIndexes[_]&&(l.globals.lastDrawnDataLabelsIndexes[_]=[]),l.globals.lastDrawnDataLabelsIndexes[_].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(o,l){var u=this.w,f=u.config.dataLabels.background,p=f.padding,_=f.padding/2,m=l.width,y=l.height,w=new He(this.ctx).drawRect(l.x-p,l.y-_/2,m+2*p,y+_,f.borderRadius,"transparent"===u.config.chart.background?"#fff":u.config.chart.background,f.opacity,f.borderWidth,f.borderColor);return f.dropShadow.enabled&&new En(this.ctx).dropShadow(w,f.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var o=this.w;if("bubble"!==o.config.chart.type)for(var l=o.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),u=0;u<l.length;u++){var f=l[u],p=f.getBBox(),_=null;if(p.width&&p.height&&(_=this.addBackgroundToDataLabel(f,p)),_){f.parentNode.insertBefore(_.node,f);var m=f.getAttribute("fill");!o.config.chart.animations.enabled||o.globals.resized||o.globals.dataChanged?_.attr({fill:m}):_.animate().attr({fill:m}),f.setAttribute("fill",o.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var o=this.w,l=o.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),u=o.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),f=0;f<l.length;f++)u&&u.insertBefore(l[f],u.nextSibling)}}]),U}(),rb=function(){function U(o){Le(this,U),this.w=o.w,this.barCtx=o}return st(U,[{key:"handleBarDataLabels",value:function(o){var l=o.x,u=o.y,f=o.y1,p=o.y2,_=o.i,m=o.j,y=o.realIndex,w=o.series,S=o.barHeight,M=o.barWidth,T=o.barYPosition,R=o.visibleSeries,O=o.renderedPath,L=this.w,H=new He(this.barCtx.ctx),z=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[y]:this.barCtx.strokeWidth,Y=l+parseFloat(M*R),X=u+parseFloat(S*R);L.globals.isXNumeric&&!L.globals.isBarHorizontal&&(Y=l+parseFloat(M*(R+1)),X=u+parseFloat(S*(R+1))-z);var B,x=l,k=u,W=L.config.dataLabels,K=this.barCtx.barOptions.dataLabels;void 0!==T&&this.barCtx.isRangeBar&&(X=T,k=T);var ve=W.offsetX,te=W.offsetY,Te={width:0,height:0};L.config.dataLabels.enabled&&(Te=H.getTextRects(L.globals.yLabelFormatters[0](this.barCtx.series[_][m]),parseFloat(W.style.fontSize)));var qe={x:l,y:u,i:_,j:m,renderedPath:O,bcx:Y,bcy:X,barHeight:S,barWidth:M,textRects:Te,strokeWidth:z,dataLabelsX:x,dataLabelsY:k,barDataLabelsConfig:K,offX:ve,offY:te};return B=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(qe):this.calculateColumnsDataLabelsPosition(qe),O.attr({cy:B.bcy,cx:B.bcx,j:m,val:w[_][m],barHeight:S,barWidth:M}),this.drawCalculatedDataLabels({x:B.dataLabelsX,y:B.dataLabelsY,val:this.barCtx.isRangeBar?[f,p]:w[_][m],i:y,j:m,barWidth:M,barHeight:S,textRects:Te,dataLabelsConfig:W})}},{key:"calculateColumnsDataLabelsPosition",value:function(o){var l,u=this.w,f=o.i,p=o.j,_=o.y,m=o.bcx,y=o.barWidth,w=o.barHeight,S=o.textRects,M=o.dataLabelsY,T=o.barDataLabelsConfig,R=o.strokeWidth,O=o.offX,L=o.offY;w=Math.abs(w);var H="vertical"===u.config.plotOptions.bar.dataLabels.orientation;m-=R/2,l=u.globals.isXNumeric?m-y/2+O:m-u.globals.gridWidth/u.globals.dataPoints+y/2+O,H&&(l=l+S.height/2-R/2-2);var Y=this.barCtx.series[f][p]<0,X=_;switch(this.barCtx.isReversed&&(X=_-w+(Y?2*w:0),_-=w),T.position){case"center":M=H?Y?X+w/2+L:X+w/2-L:Y?X-w/2+S.height/2+L:X+w/2+S.height/2-L;break;case"bottom":M=H?Y?X+w+L:X+w-L:Y?X-w+S.height+R+L:X+w-S.height/2+R-L;break;case"top":M=H?Y?X+L:X-L:Y?X-S.height/2-L:X+S.height+L}return u.config.chart.stacked||(M<0?M=0+R:M+S.height/3>u.globals.gridHeight&&(M=u.globals.gridHeight-R)),{bcx:m,bcy:_,dataLabelsX:l,dataLabelsY:M}}},{key:"calculateBarsDataLabelsPosition",value:function(o){var l=this.w,u=o.x,f=o.i,p=o.j,_=o.bcy,m=o.barHeight,y=o.barWidth,w=o.textRects,S=o.dataLabelsX,M=o.strokeWidth,T=o.barDataLabelsConfig,R=o.offX,O=o.offY,L=l.globals.gridHeight/l.globals.dataPoints;y=Math.abs(y);var H=_-(this.barCtx.isRangeBar?0:L)+m/2+w.height/2+O-3,z=this.barCtx.series[f][p]<0,Y=u;switch(this.barCtx.isReversed&&(Y=u+y-(z?2*y:0),u=l.globals.gridWidth-y),T.position){case"center":S=z?Y+y/2-R:Math.max(w.width/2,Y-y/2)+R;break;case"bottom":S=z?Y+y-M-Math.round(w.width/2)-R:Y-y+M+Math.round(w.width/2)+R;break;case"top":S=z?Y-M+Math.round(w.width/2)-R:Y-M-Math.round(w.width/2)+R}return l.config.chart.stacked||(S<0?S=S+w.width+M:S+w.width/2>l.globals.gridWidth&&(S=l.globals.gridWidth-w.width-M)),{bcx:u,bcy:_,dataLabelsX:S,dataLabelsY:H}}},{key:"drawCalculatedDataLabels",value:function(o){var l=o.x,u=o.y,f=o.val,p=o.i,_=o.j,m=o.textRects,y=o.barHeight,w=o.barWidth,S=o.dataLabelsConfig,M=this.w,T="rotate(0)";"vertical"===M.config.plotOptions.bar.dataLabels.orientation&&(T="rotate(-90, ".concat(l,", ").concat(u,")"));var R=new Vo(this.barCtx.ctx),O=new He(this.barCtx.ctx),L=S.formatter,H=null,z=M.globals.collapsedSeriesIndices.indexOf(p)>-1;if(S.enabled&&!z){H=O.group({class:"apexcharts-data-labels",transform:T});var Y="";void 0!==f&&(Y=L(f,{seriesIndex:p,dataPointIndex:_,w:M}));var X=M.globals.series[p][_]<0,x=M.config.plotOptions.bar.dataLabels.position;"vertical"===M.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(S.textAnchor=X?"end":"start"),"center"===x&&(S.textAnchor="middle"),"bottom"===x&&(S.textAnchor=X?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<O.getTextRects(Y,parseFloat(S.style.fontSize)).width&&(Y=""),M.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(w)&&(Y=""):m.height/1.6>Math.abs(y)&&(Y=""));var k=Gt({},S);this.barCtx.isHorizontal&&f<0&&("start"===S.textAnchor?k.textAnchor="end":"end"===S.textAnchor&&(k.textAnchor="start")),R.plotDataLabelsText({x:l,y:u,text:Y,i:p,j:_,parent:H,dataLabelsConfig:k,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return H}}]),U}(),Ge=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.legendInactiveClass="legend-mouseover-inactive"}return st(U,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(o){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(fe.escapeString(o),"']"))}},{key:"isSeriesHidden",value:function(o){var l=this.getSeriesByName(o),u=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:u}}},{key:"addCollapsedClassToSeries",value:function(o,l){var u=this.w;function f(p){for(var _=0;_<p.length;_++)p[_].index===l&&o.node.classList.add("apexcharts-series-collapsed")}f(u.globals.collapsedSeries),f(u.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(o){var l=this.isSeriesHidden(o);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(o){var l=this.isSeriesHidden(o);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(o){var l=this.isSeriesHidden(o);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=this.w,p=fe.clone(f.globals.initialSeries);f.globals.previousPaths=[],u?(f.globals.collapsedSeries=[],f.globals.ancillaryCollapsedSeries=[],f.globals.collapsedSeriesIndices=[],f.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),f.config.series=p,o&&(l&&(f.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(o){for(var l=this.w,u=0;u<o.length;u++)l.globals.collapsedSeriesIndices.indexOf(u)>-1&&(o[u].data=[]);return o}},{key:"toggleSeriesOnHover",value:function(o,l){var u=this.w;l||(l=o.target);var f=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===o.type){var p=parseInt(l.getAttribute("rel"),10)-1,_=null,m=null;u.globals.axisCharts||"radialBar"===u.config.chart.type?u.globals.axisCharts?(_=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):_=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):_=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var y=0;y<f.length;y++)f[y].classList.add(this.legendInactiveClass);null!==_&&(u.globals.axisCharts||_.parentNode.classList.remove(this.legendInactiveClass),_.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===o.type)for(var w=0;w<f.length;w++)f[w].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(o,l){var u=this,f=this.w,p=f.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),_=function(y){for(var w=0;w<p.length;w++)p[w].classList[y](u.legendInactiveClass)};if("mousemove"===o.type){var m=parseInt(l.getAttribute("rel"),10)-1;_("add"),function(y){for(var w=0;w<p.length;w++){var S=parseInt(p[w].getAttribute("val"),10);S>=y.from&&S<=y.to&&p[w].classList.remove(u.legendInactiveClass)}}(f.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===o.type&&_("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",u=this.w,f=0;if(u.config.series.length>1)for(var p=u.config.series.map(function(m,y){var w=!1;return o&&(w="bar"===u.config.series[y].type||"column"===u.config.series[y].type),m.data&&m.data.length>0&&!w?y:-1}),_="asc"===l?0:p.length-1;"asc"===l?_<p.length:_>=0;"asc"===l?_++:_--)if(-1!==p[_]){f=p[_];break}return f}},{key:"getPreviousPaths",value:function(){var o=this.w;function l(_,m,y){for(var w=_[m].childNodes,S={type:y,paths:[],realIndex:_[m].getAttribute("data:realIndex")},M=0;M<w.length;M++)if(w[M].hasAttribute("pathTo")){var T=w[M].getAttribute("pathTo");S.paths.push({d:T})}o.globals.previousPaths.push(S)}o.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(_){for(var y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(_,"-series .apexcharts-series")),w=0;w<y.length;w++)l(y,w,_)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var u=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o.config.chart.type," .apexcharts-series"));if(u.length>0)for(var f=function(_){for(var m=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(_,"'] rect")),y=[],w=function(M){var T=function(O){return m[M].getAttribute(O)},R={x:parseFloat(T("x")),y:parseFloat(T("y")),width:parseFloat(T("width")),height:parseFloat(T("height"))};y.push({rect:R,color:m[M].getAttribute("color")})},S=0;S<m.length;S++)w(S);o.globals.previousPaths.push(y)},p=0;p<u.length;p++)f(p);o.globals.axisCharts||(o.globals.previousPaths=o.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(o){var l=this.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"));if(u.length>0)for(var f=0;f<u.length;f++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series[data\\:realIndex='").concat(f,"'] circle")),_=[],m=0;m<p.length;m++)_.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(_)}}},{key:"clearPreviousPaths",value:function(){var o=this.w;o.globals.previousPaths=[],o.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var o=this.w,l=o.config.noData,u=new He(this.ctx),f=o.globals.svgWidth/2,p=o.globals.svgHeight/2,_="middle";if(o.globals.noData=!0,o.globals.animationEnded=!0,"left"===l.align?(f=10,_="start"):"right"===l.align&&(f=o.globals.svgWidth-10,_="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=o.globals.svgHeight-50),f+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=u.drawText({x:f,y:p,text:l.text,textAnchor:_,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});o.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(o){for(var l=this.w,u=0;u<o.length;u++)if(0===o[u].length)for(var f=0;f<o[l.globals.maxValsInArrayIndex].length;f++)o[u].push(0);return o}},{key:"hasAllSeriesEqualX",value:function(){for(var o=!0,l=this.w,u=this.filteredSeriesX(),f=0;f<u.length-1;f++)if(u[f][0]!==u[f+1][0]){o=!1;break}return l.globals.allSeriesHasEqualX=o,o}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),U}(),og=function(){function U(o){Le(this,U),this.w=o.w,this.barCtx=o}return st(U,[{key:"initVariables",value:function(o){var l=this.w;this.barCtx.series=o,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var u=0;u<o.length;u++)if(o[u].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=o[u].length),l.globals.isXNumeric)for(var f=0;f<o[u].length;f++)l.globals.seriesX[u][f]>l.globals.minX&&l.globals.seriesX[u][f]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=o.length-1,l.globals.comboCharts||this.checkZeroSeries({series:o})}},{key:"initialPositions",value:function(){var o,l,u,f,p,_,m,y,w=this.w,S=w.globals.dataPoints;this.barCtx.isRangeBar&&(S=w.globals.labels.length);var M=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(M=1),this.barCtx.isHorizontal)p=(u=w.globals.gridHeight/S)/M,w.globals.isXNumeric&&(p=(u=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,y=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),l=(u-p*this.barCtx.seriesLen)/2;else{if(f=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(f=w.globals.gridWidth/w.globals.dataPoints),_=f/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var T=this.barCtx.xRatio;w.config.xaxis.convertedCatToNumeric&&(T=this.barCtx.initialXRatio),w.globals.minXDiff&&.5!==w.globals.minXDiff&&w.globals.minXDiff/T>0&&(f=w.globals.minXDiff/T),(_=f/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(_=1)}m=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),o=w.globals.padHorizontal+(f-_*this.barCtx.seriesLen)/2}return{x:o,y:l,yDivision:u,xDivision:f,barHeight:p,barWidth:_,zeroH:m,zeroW:y}}},{key:"getPathFillColor",value:function(o,l,u,f){var p=this.w,_=new Jt(this.barCtx.ctx),m=null,y=this.barCtx.barOptions.distributed?u:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(w){o[l][u]>=w.from&&o[l][u]<=w.to&&(m=w.color)}),p.config.series[l].data[u]&&p.config.series[l].data[u].fillColor&&(m=p.config.series[l].data[u].fillColor),_.fillPath({seriesNumber:this.barCtx.barOptions.distributed?y:f,dataPointIndex:u,color:m,value:o[l][u]})}},{key:"getStrokeWidth",value:function(o,l,u){var f=0,p=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[o][l],p.config.stroke.show&&(this.barCtx.isNullValue||(f=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth)),f}},{key:"barBackground",value:function(o){var l=o.j,u=o.i,f=o.x1,p=o.x2,_=o.y1,m=o.y2,y=o.elSeries,w=this.w,S=new He(this.barCtx.ctx),M=new Ge(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&M===u){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var R=S.drawRect(void 0!==f?f:0,void 0!==_?_:0,void 0!==p?p:w.globals.gridWidth,void 0!==m?m:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);y.add(R),R.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(o){var l=o.barWidth,u=o.barXPosition,f=o.yRatio,p=o.y1,_=o.y2,m=o.strokeWidth,y=o.series,w=o.realIndex,S=o.i,M=o.j,T=o.w,R=new He(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var L=this.getRoundedBars(T,{barWidth:l,strokeWidth:m,yRatio:f,barXPosition:u,y1:p,y2:_},y,S,M),H=u,z=u+l,Y=R.move(H,p),X=R.move(H,p),x=R.line(z-m,p);return T.globals.previousPaths.length>0&&(X=this.barCtx.getPreviousPath(w,M,!1)),Y=Y+R.line(H,L.y2)+L.pathWithRadius+R.line(z-m,L.y2)+x+x+"z",X=X+R.line(H,p)+x+x+x+x+x+R.line(H,p),T.config.chart.stacked&&(this.barCtx.yArrj.push(L.y2),this.barCtx.yArrjF.push(Math.abs(p-L.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[S][M])),{pathTo:Y,pathFrom:X}}},{key:"getBarpaths",value:function(o){var l=o.barYPosition,u=o.barHeight,f=o.x1,p=o.x2,_=o.strokeWidth,m=o.series,y=o.realIndex,w=o.i,S=o.j,M=o.w,T=new He(this.barCtx.ctx);(_=Array.isArray(_)?_[y]:_)||(_=0);var O=this.getRoundedBars(M,{barHeight:u,strokeWidth:_,barYPosition:l,x2:p,x1:f},m,w,S),L=T.move(f,l),H=T.move(f,l);M.globals.previousPaths.length>0&&(H=this.barCtx.getPreviousPath(y,S,!1));var z=l,Y=l+u,X=T.line(f,Y-_);return L=L+T.line(O.x2,z)+O.pathWithRadius+T.line(O.x2,Y-_)+X+X+"z",H=H+T.line(f,z)+X+X+X+X+X+T.line(f,z),M.config.chart.stacked&&(this.barCtx.xArrj.push(O.x2),this.barCtx.xArrjF.push(Math.abs(f-O.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[w][S])),{pathTo:L,pathFrom:H}}},{key:"getRoundedBars",value:function(o,l,u,f,p){var _=new He(this.barCtx.ctx),m=0,y=o.config.plotOptions.bar.borderRadius,w=Array.isArray(y);if(m=w?y[f>y.length-1?y.length-1:f]:y,o.config.chart.stacked&&u.length>1&&f!==this.barCtx.radiusOnSeriesNumber&&!w&&(m=0),this.barCtx.isHorizontal){var S="",M=l.x2;if(Math.abs(l.x1-l.x2)<m&&(m=Math.abs(l.x1-l.x2)),void 0!==u[f][p]||null!==u[f][p]){var T=this.barCtx.isReversed?u[f][p]>0:u[f][p]<0;T&&(m*=-1),S=_.quadraticCurve((M-=m)+m,l.barYPosition,M+m,l.barYPosition+(T?-1*m:m))+_.line(M+m,l.barYPosition+l.barHeight-l.strokeWidth-(T?-1*m:m))+_.quadraticCurve(M+m,l.barYPosition+l.barHeight-l.strokeWidth,M,l.barYPosition+l.barHeight-l.strokeWidth)}return{pathWithRadius:S,x2:M}}var R="",O=l.y2;if(Math.abs(l.y1-l.y2)<m&&(m=Math.abs(l.y1-l.y2)),void 0!==u[f][p]||null!==u[f][p]){var L=u[f][p]<0;L&&(m*=-1),R=_.quadraticCurve(l.barXPosition,(O+=m)-m,l.barXPosition+(L?-1*m:m),O-m)+_.line(l.barXPosition+l.barWidth-l.strokeWidth-(L?-1*m:m),O-m)+_.quadraticCurve(l.barXPosition+l.barWidth-l.strokeWidth,O-m,l.barXPosition+l.barWidth-l.strokeWidth,O)}return{pathWithRadius:R,y2:O}}},{key:"checkZeroSeries",value:function(o){for(var l=o.series,u=this.w,f=0;f<l.length;f++){for(var p=0,_=0;_<l[u.globals.maxValsInArrayIndex].length;_++)p+=l[f][_];0===p&&this.barCtx.zeroSerieses.push(f)}for(var m=l.length-1;m>=0;m--)this.barCtx.zeroSerieses.indexOf(m)>-1&&m===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var y=l.length-1;y>=0;y--)u.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(o,l){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=u?l:null;return null!=o&&(f=l+o/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?o/this.barCtx.invertedYRatio:0)),f}},{key:"getYForValue",value:function(o,l){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=u?l:null;return null!=o&&(f=l-o/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?o/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),f}},{key:"getGoalValues",value:function(o,l,u,f,p){var _=this,m=this.w,y=[];return m.globals.seriesGoals[f]&&m.globals.seriesGoals[f][p]&&Array.isArray(m.globals.seriesGoals[f][p])&&m.globals.seriesGoals[f][p].forEach(function(w){var S;y.push((kl(S={},o,"x"===o?_.getXForValue(w.value,l,!1):_.getYForValue(w.value,u,!1)),kl(S,"attrs",w),S))}),y}},{key:"drawGoalLine",value:function(o){var l=o.barXPosition,u=o.barYPosition,f=o.goalX,p=o.goalY,_=o.barWidth,m=o.barHeight,y=new He(this.barCtx.ctx),w=y.group({className:"apexcharts-bar-goals-groups"}),S=null;return this.barCtx.isHorizontal?Array.isArray(f)&&f.forEach(function(M){var T=void 0!==M.attrs.strokeHeight?M.attrs.strokeHeight:m/2,R=u+T+m/2;S=y.drawLine(M.x,R-2*T,M.x,R,M.attrs.strokeColor?M.attrs.strokeColor:void 0,M.attrs.strokeDashArray,M.attrs.strokeWidth?M.attrs.strokeWidth:2,M.attrs.strokeLineCap),w.add(S)}):Array.isArray(p)&&p.forEach(function(M){var T=void 0!==M.attrs.strokeWidth?M.attrs.strokeWidth:_/2,R=l+T+_/2;S=y.drawLine(R-2*T,M.y,R,M.y,M.attrs.strokeColor?M.attrs.strokeColor:void 0,M.attrs.strokeDashArray,M.attrs.strokeHeight?M.attrs.strokeHeight:2,M.attrs.strokeLineCap),w.add(S)}),w}}]),U}(),za=function(){function U(o,l){Le(this,U),this.ctx=o,this.w=o.w;var u=this.w;this.barOptions=u.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=u.config.stroke.width,this.isNullValue=!1,this.isRangeBar=u.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new og(this)}return st(U,[{key:"draw",value:function(o,l){var u=this.w,f=new He(this.ctx),p=new fn(this.ctx,u);o=p.getLogSeries(o),this.series=o,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);var _=f.group({class:"apexcharts-bar-series apexcharts-plot-series"});u.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var m=0,y=0;m<o.length;m++,y++){var w,S,M,T,R=void 0,O=void 0,L=[],H=[],z=u.globals.comboCharts?l[m]:m,Y=f.group({class:"apexcharts-series",rel:m+1,seriesName:fe.escapeString(u.globals.seriesNames[z]),"data:realIndex":z});this.ctx.series.addCollapsedClassToSeries(Y,z),o[m].length>0&&(this.visibleI=this.visibleI+1);var X=0,x=0;this.yRatio.length>1&&(this.yaxisIndex=z),this.isReversed=u.config.yaxis[this.yaxisIndex]&&u.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();O=k.y,X=k.barHeight,S=k.yDivision,T=k.zeroW,R=k.x,x=k.barWidth,w=k.xDivision,M=k.zeroH,this.horizontal||H.push(R+x/2);for(var B=f.group({class:"apexcharts-datalabels","data:realIndex":z}),W=f.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),K=0;K<u.globals.dataPoints;K++){var ve=this.barHelpers.getStrokeWidth(m,K,z),te=null,Te={indexes:{i:m,j:K,realIndex:z,bc:y},x:R,y:O,strokeWidth:ve,elSeries:Y};this.isHorizontal?(te=this.drawBarPaths(Gt(Gt({},Te),{},{barHeight:X,zeroW:T,yDivision:S})),x=this.series[m][K]/this.invertedYRatio):(te=this.drawColumnPaths(Gt(Gt({},Te),{},{xDivision:w,barWidth:x,zeroH:M})),X=this.series[m][K]/this.yRatio[this.yaxisIndex]);var Fe=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:te.barYPosition,goalX:te.goalX,goalY:te.goalY,barHeight:X,barWidth:x});Fe&&W.add(Fe),O=te.y,R=te.x,K>0&&H.push(R+x/2),L.push(O);var qe=this.barHelpers.getPathFillColor(o,m,K,z);this.renderSeries({realIndex:z,pathFill:qe,j:K,i:m,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:ve,elSeries:Y,x:R,y:O,series:o,barHeight:X,barWidth:x,elDataLabelsWrap:B,elGoalsMarkers:W,visibleSeries:this.visibleI,type:"bar"})}u.globals.seriesXvalues[z]=H,u.globals.seriesYvalues[z]=L,_.add(Y)}return _}},{key:"renderSeries",value:function(o){var l=o.realIndex,u=o.pathFill,f=o.lineFill,p=o.j,_=o.i,m=o.pathFrom,y=o.pathTo,w=o.strokeWidth,S=o.elSeries,M=o.x,T=o.y,R=o.y1,O=o.y2,L=o.series,H=o.barHeight,z=o.barWidth,Y=o.barYPosition,X=o.elDataLabelsWrap,x=o.elGoalsMarkers,k=o.visibleSeries,B=o.type,W=this.w,K=new He(this.ctx);f||(f=this.barOptions.distributed?W.globals.stroke.colors[p]:W.globals.stroke.colors[l]),W.config.series[_].data[p]&&W.config.series[_].data[p].strokeColor&&(f=W.config.series[_].data[p].strokeColor),this.isNullValue&&(u="none");var te=K.renderPaths({i:_,j:p,realIndex:l,pathFrom:m,pathTo:y,stroke:f,strokeWidth:w,strokeLineCap:W.config.stroke.lineCap,fill:u,animationDelay:p/W.config.chart.animations.animateGradually.delay*(W.config.chart.animations.speed/W.globals.dataPoints)/2.4,initialSpeed:W.config.chart.animations.speed,dataChangeSpeed:W.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(B,"-area")});te.attr("clip-path","url(#gridRectMask".concat(W.globals.cuid,")"));var Te=W.config.forecastDataPoints;Te.count>0&&p>=W.globals.dataPoints-Te.count&&(te.node.setAttribute("stroke-dasharray",Te.dashArray),te.node.setAttribute("stroke-width",Te.strokeWidth),te.node.setAttribute("fill-opacity",Te.fillOpacity)),void 0!==R&&void 0!==O&&(te.attr("data-range-y1",R),te.attr("data-range-y2",O)),new En(this.ctx).setSelectionFilter(te,l,p),S.add(te);var Fe=new rb(this).handleBarDataLabels({x:M,y:T,y1:R,y2:O,i:_,j:p,series:L,realIndex:l,barHeight:H,barWidth:z,barYPosition:Y,renderedPath:te,visibleSeries:k});return null!==Fe&&X.add(Fe),S.add(X),x&&S.add(x),S}},{key:"drawBarPaths",value:function(o){var _,l=o.indexes,u=o.barHeight,f=o.strokeWidth,p=o.zeroW,m=o.y,y=o.yDivision,w=o.elSeries,S=this.w,M=l.i,T=l.j;S.globals.isXNumeric&&(m=(S.globals.seriesX[M][T]-S.globals.minX)/this.invertedXRatio-u);var R=m+u*this.visibleI;_=this.barHelpers.getXForValue(this.series[M][T],p);var O=this.barHelpers.getBarpaths({barYPosition:R,barHeight:u,x1:p,x2:_,strokeWidth:f,series:this.series,realIndex:l.realIndex,i:M,j:T,w:S});return S.globals.isXNumeric||(m+=y),this.barHelpers.barBackground({j:T,i:M,y1:R-u*this.visibleI,y2:u*this.seriesLen,elSeries:w}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x:_,y:m,goalX:this.barHelpers.getGoalValues("x",p,null,M,T),barYPosition:R}}},{key:"drawColumnPaths",value:function(o){var f,l=o.indexes,u=o.x,p=o.xDivision,_=o.barWidth,m=o.zeroH,y=o.strokeWidth,w=o.elSeries,S=this.w,M=l.realIndex,T=l.i,R=l.j,O=l.bc;if(S.globals.isXNumeric){var L=M;S.globals.seriesX[M].length||(L=S.globals.maxValsInArrayIndex),u=(S.globals.seriesX[L][R]-S.globals.minX)/this.xRatio-_*this.seriesLen/2}var H=u+_*this.visibleI;f=this.barHelpers.getYForValue(this.series[T][R],m);var z=this.barHelpers.getColumnPaths({barXPosition:H,barWidth:_,y1:m,y2:f,strokeWidth:y,series:this.series,realIndex:l.realIndex,i:T,j:R,w:S});return S.globals.isXNumeric||(u+=p),this.barHelpers.barBackground({bc:O,j:R,i:T,x1:H-y/2-_*this.visibleI,x2:_*this.seriesLen+y/2,elSeries:w}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x:u,y:f,goalY:this.barHelpers.getGoalValues("y",null,m,T,R),barXPosition:H}}},{key:"getPreviousPath",value:function(o,l){for(var u,f=this.w,p=0;p<f.globals.previousPaths.length;p++){var _=f.globals.previousPaths[p];_.paths&&_.paths.length>0&&parseInt(_.realIndex,10)===parseInt(o,10)&&void 0!==f.globals.previousPaths[p].paths[l]&&(u=f.globals.previousPaths[p].paths[l].d)}return u}}]),U}(),gi=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return st(U,[{key:"isValidDate",value:function(o){return!isNaN(this.parseDate(o))}},{key:"getTimeStamp",value:function(o){return Date.parse(o)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(o).toISOString().substr(0,25)).getTime():new Date(o).getTime():o}},{key:"getDate",value:function(o){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(o).toUTCString()):new Date(o)}},{key:"parseDate",value:function(o){var l=Date.parse(o);if(!isNaN(l))return this.getTimeStamp(o);var u=Date.parse(o.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(u)}},{key:"parseDateWithTimezone",value:function(o){return Date.parse(o.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(o,l){var u=this.w.globals.locale,f=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(Ws(u.months)),_=["\x01"].concat(Ws(u.shortMonths)),m=["\x02"].concat(Ws(u.days)),y=["\x03"].concat(Ws(u.shortDays));function w(K,ve){var te=K+"";for(ve=ve||2;te.length<ve;)te="0"+te;return te}var S=f?o.getUTCFullYear():o.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+S)).replace(/(^|[^\\])yy/g,"$1"+S.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+S);var M=(f?o.getUTCMonth():o.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+_[0])).replace(/(^|[^\\])MM/g,"$1"+w(M))).replace(/(^|[^\\])M/g,"$1"+M);var T=f?o.getUTCDate():o.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+y[0])).replace(/(^|[^\\])dd/g,"$1"+w(T))).replace(/(^|[^\\])d/g,"$1"+T);var R=f?o.getUTCHours():o.getHours(),O=R>12?R-12:0===R?12:R;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+w(R))).replace(/(^|[^\\])H/g,"$1"+R)).replace(/(^|[^\\])hh+/g,"$1"+w(O))).replace(/(^|[^\\])h/g,"$1"+O);var L=f?o.getUTCMinutes():o.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+w(L))).replace(/(^|[^\\])m/g,"$1"+L);var H=f?o.getUTCSeconds():o.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+w(H))).replace(/(^|[^\\])s/g,"$1"+H);var z=f?o.getUTCMilliseconds():o.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+w(z,3)),z=Math.round(z/10),l=l.replace(/(^|[^\\])ff/g,"$1"+w(z)),z=Math.round(z/10);var Y=R<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+z)).replace(/(^|[^\\])TT+/g,"$1"+Y)).replace(/(^|[^\\])T/g,"$1"+Y.charAt(0));var X=Y.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+X)).replace(/(^|[^\\])t/g,"$1"+X.charAt(0));var x=-o.getTimezoneOffset(),k=f||!x?"Z":x>0?"+":"-";if(!f){var B=(x=Math.abs(x))%60;k+=w(Math.floor(x/60))+":"+w(B)}l=l.replace(/(^|[^\\])K/g,"$1"+k);var W=(f?o.getUTCDay():o.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[W])).replace(new RegExp(y[0],"g"),y[W])).replace(new RegExp(p[0],"g"),p[M])).replace(new RegExp(_[0],"g"),_[M])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(o,l,u){var f=this.w;void 0!==f.config.xaxis.min&&(o=f.config.xaxis.min),void 0!==f.config.xaxis.max&&(l=f.config.xaxis.max);var p=this.getDate(o),_=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),y=this.formatDate(_,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(y[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(y[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(y[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(y[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(y[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(y[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(y[0],10)}}},{key:"isLeapYear",value:function(o){return o%4==0&&o%100!=0||o%400==0}},{key:"calculcateLastDaysOfMonth",value:function(o,l,u){return this.determineDaysOfMonths(o,l)-u}},{key:"determineDaysOfYear",value:function(o){var l=365;return this.isLeapYear(o)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(o,l,u){var f=this.daysCntOfYear[l]+u;return l>1&&this.isLeapYear()&&f++,f}},{key:"determineDaysOfMonths",value:function(o,l){var u=30;switch(o=fe.monthMod(o),!0){case this.months30.indexOf(o)>-1:2===o&&(u=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(o)>-1:default:u=31}return u}}]),U}(),Bi=function(U){Us(l,za);var o=Rl(l);function l(){return Le(this,l),o.apply(this,arguments)}return st(l,[{key:"draw",value:function(u,f){var p=this.w,_=new He(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=u,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(u);for(var m=_.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),y=0;y<u.length;y++){var w,S,M,T=void 0,R=void 0,O=void 0,L=p.globals.comboCharts?f[y]:y,H=_.group({class:"apexcharts-series",seriesName:fe.escapeString(p.globals.seriesNames[L]),rel:y+1,"data:realIndex":L});this.ctx.series.addCollapsedClassToSeries(H,L),u[y].length>0&&(this.visibleI=this.visibleI+1);var z=0,Y=0;this.yRatio.length>1&&(this.yaxisIndex=L);var X=this.barHelpers.initialPositions();R=X.y,M=X.zeroW,T=X.x,Y=X.barWidth,w=X.xDivision,S=X.zeroH;for(var x=_.group({class:"apexcharts-datalabels","data:realIndex":L}),k=_.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),B=0;B<p.globals.dataPoints;B++){var W=this.barHelpers.getStrokeWidth(y,B,L),K=this.seriesRangeStart[y][B],ve=this.seriesRangeEnd[y][B],te=null,Te=null,Fe={x:T,y:R,strokeWidth:W,elSeries:H};if(O=X.yDivision,z=X.barHeight,this.isHorizontal){Te=R+z*this.visibleI;var qe=this.seriesLen;p.config.plotOptions.bar.rangeBarGroupRows&&(qe=1);var kt=(O-z*qe)/2;if(void 0===p.config.series[y].data[B])break;if(p.config.series[y].data[B].x){var Pi=this.detectOverlappingBars({i:y,j:B,barYPosition:Te,srty:kt,barHeight:z,yDivision:O,initPositions:X});z=Pi.barHeight,Te=Pi.barYPosition}Y=(te=this.drawRangeBarPaths(Gt({indexes:{i:y,j:B,realIndex:L},barHeight:z,barYPosition:Te,zeroW:M,yDivision:O,y1:K,y2:ve},Fe))).barWidth}else z=(te=this.drawRangeColumnPaths(Gt({indexes:{i:y,j:B,realIndex:L},zeroH:S,barWidth:Y,xDivision:w},Fe))).barHeight;var Zt=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:Te,goalX:te.goalX,goalY:te.goalY,barHeight:z,barWidth:Y});Zt&&k.add(Zt),R=te.y,T=te.x;var cs=this.barHelpers.getPathFillColor(u,y,B,L);this.renderSeries({realIndex:L,pathFill:cs,lineFill:p.globals.stroke.colors[L],j:B,i:y,x:T,y:R,y1:K,y2:ve,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:W,elSeries:H,series:u,barHeight:z,barYPosition:Te,barWidth:Y,elDataLabelsWrap:x,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}m.add(H)}return m}},{key:"detectOverlappingBars",value:function(u){var f=u.i,p=u.j,_=u.barYPosition,m=u.srty,y=u.barHeight,w=u.yDivision,S=u.initPositions,M=this.w,T=[],R=M.config.series[f].data[p].rangeName,O=M.config.series[f].data[p].x,L=M.globals.labels.indexOf(O),H=M.globals.seriesRangeBar[f].findIndex(function(z){return z.x===O&&z.overlaps.length>0});return _=M.config.plotOptions.bar.rangeBarGroupRows?m+w*L:m+y*this.visibleI+w*L,H>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(T=M.globals.seriesRangeBar[f][H].overlaps).indexOf(R)>-1&&(_=(y=S.barHeight/T.length)*this.visibleI+w*(100-parseInt(this.barOptions.barHeight,10))/100/2+y*(this.visibleI+T.indexOf(R))+w*L),{barYPosition:_,barHeight:y}}},{key:"drawRangeColumnPaths",value:function(u){var f=u.indexes,p=u.x,_=u.xDivision,m=u.barWidth,y=u.zeroH,w=this.w,S=f.i,M=f.j,T=this.yRatio[this.yaxisIndex],R=f.realIndex,O=this.getRangeValue(R,M),L=Math.min(O.start,O.end),H=Math.max(O.start,O.end);w.globals.isXNumeric&&(p=(w.globals.seriesX[S][M]-w.globals.minX)/this.xRatio-m/2);var z=p+m*this.visibleI;null==this.series[S][M]?L=y:(L=y-L/T,H=y-H/T);var Y=Math.abs(H-L),X=this.barHelpers.getColumnPaths({barXPosition:z,barWidth:m,y1:L,y2:H,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f.realIndex,i:R,j:M,w});return w.globals.isXNumeric||(p+=_),{pathTo:X.pathTo,pathFrom:X.pathFrom,barHeight:Y,x:p,y:H,goalY:this.barHelpers.getGoalValues("y",null,y,S,M),barXPosition:z}}},{key:"drawRangeBarPaths",value:function(u){var f=u.indexes,p=u.y,y=u.yDivision,w=u.barHeight,S=u.barYPosition,M=u.zeroW,T=this.w,R=M+u.y1/this.invertedYRatio,O=M+u.y2/this.invertedYRatio,L=Math.abs(O-R),H=this.barHelpers.getBarpaths({barYPosition:S,barHeight:w,x1:R,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f.realIndex,realIndex:f.realIndex,j:f.j,w:T});return T.globals.isXNumeric||(p+=y),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:L,x:O,goalX:this.barHelpers.getGoalValues("x",M,null,f.realIndex,f.j),y:p}}},{key:"getRangeValue",value:function(u,f){var p=this.w;return{start:p.globals.seriesRangeStart[u][f],end:p.globals.seriesRangeEnd[u][f]}}},{key:"getTooltipValues",value:function(u){var f=u.ctx,p=u.seriesIndex,_=u.dataPointIndex,m=u.y1,y=u.y2,w=u.w,S=w.globals.seriesRangeStart[p][_],M=w.globals.seriesRangeEnd[p][_],T=w.globals.labels[_],R=w.config.series[p].name?w.config.series[p].name:"",O=w.config.tooltip.y.formatter,L=w.config.tooltip.y.title.formatter,H={w,seriesIndex:p,dataPointIndex:_,start:S,end:M};"function"==typeof L&&(R=L(R,H)),Number.isFinite(m)&&Number.isFinite(y)&&(S=m,M=y,w.config.series[p].data[_].x&&(T=w.config.series[p].data[_].x+":"),"function"==typeof O&&(T=O(T,H)));var z="",Y="",X=w.globals.colors[p];if(void 0===w.config.tooltip.x.formatter)if("datetime"===w.config.xaxis.type){var x=new gi(f);z=x.formatDate(x.getDate(S),w.config.tooltip.x.format),Y=x.formatDate(x.getDate(M),w.config.tooltip.x.format)}else z=S,Y=M;else z=w.config.tooltip.x.formatter(S),Y=w.config.tooltip.x.formatter(M);return{start:S,end:M,startVal:z,endVal:Y,ylabel:T,color:X,seriesName:R}}},{key:"buildCustomTooltipHTML",value:function(u){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+u.color+'">'+(u.seriesName||"")+'</span></div><div> <span class="category">'+u.ylabel+' </span> <span class="value start-value">'+u.start+'</span> <span class="separator">-</span> <span class="value end-value">'+u.end+"</span></div></div>"}}]),l}(),jt=function(){function U(o){Le(this,U),this.opts=o}return st(U,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(o){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,fe.extend(o,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var o=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return o._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var o=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return o._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(o,l){var u=l.seriesIndex,f=l.dataPointIndex,p=l.w;return p.globals.seriesRangeEnd[u][f]-p.globals.seriesRangeStart[u][f]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(o){return o.w.config.plotOptions&&o.w.config.plotOptions.bar&&o.w.config.plotOptions.bar.horizontal?(f=(u=new Bi((l=o).ctx,null)).getTooltipValues(l),u.buildCustomTooltipHTML({color:f.color,seriesName:f.seriesName,ylabel:f.ylabel,start:f.startVal,end:f.endVal})):function(l){var u=new Bi(l.ctx,null),f=u.getTooltipValues(l);return u.buildCustomTooltipHTML({color:f.color,seriesName:f.seriesName,ylabel:f.ylabel,start:f.start,end:f.end})}(o);var l,u,f}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(o){return fe.extend(o,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(o){o.dataLabels=o.dataLabels||{},o.dataLabels.formatter=o.dataLabels.formatter||void 0;var l=o.dataLabels.formatter;return o.yaxis.forEach(function(u,f){o.yaxis[f].min=0,o.yaxis[f].max=100}),"bar"===o.chart.type&&(o.dataLabels.formatter=l||function(u){return"number"==typeof u&&u?u.toFixed(0)+"%":u}),o}},{key:"convertCatToNumeric",value:function(o){return o.xaxis.convertedCatToNumeric=!0,o}},{key:"convertCatToNumericXaxis",value:function(o,l,u){o.xaxis.type="numeric",o.xaxis.labels=o.xaxis.labels||{},o.xaxis.labels.formatter=o.xaxis.labels.formatter||function(_){return fe.isNumber(_)?Math.floor(_):_};var f=o.xaxis.labels.formatter,p=o.xaxis.categories&&o.xaxis.categories.length?o.xaxis.categories:o.labels;return u&&u.length&&(p=u.map(function(_){return Array.isArray(_)?_:String(_)})),p&&p.length&&(o.xaxis.labels.formatter=function(_){return fe.isNumber(_)?f(p[Math.floor(_)-1]):f(_)}),o.xaxis.categories=[],o.labels=[],o.xaxis.tickAmount=o.xaxis.tickAmount||"dataPoints",o}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(o){return o},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(o,l,u,f,p){var _=o.globals.seriesCandleO[l][u],m=o.globals.seriesCandleH[l][u],y=o.globals.seriesCandleM[l][u],w=o.globals.seriesCandleL[l][u],S=o.globals.seriesCandleC[l][u];return o.config.series[l].type&&o.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(o.config.series[l].name?o.config.series[l].name:"series-"+(l+1),": <strong>").concat(o.globals.series[l][u],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(o.config.chart.type,'">')+"<div>".concat(f[0],': <span class="value">')+_+"</span></div>"+"<div>".concat(f[1],': <span class="value">')+m+"</span></div>"+(y?"<div>".concat(f[2],': <span class="value">')+y+"</span></div>":"")+"<div>".concat(f[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(f[4],': <span class="value">')+S+"</span></div></div>"}}]),U}(),Ga=function(){function U(o){Le(this,U),this.opts=o}return st(U,[{key:"init",value:function(o){var l=o.responsiveOverride,u=this.opts,f=new No,p=new jt(u);this.chartType=u.chart.type,"histogram"===this.chartType&&(u.chart.type="bar",u=fe.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},u)),u=this.extendYAxis(u),u=this.extendAnnotations(u);var _=f.init(),m={};if(u&&"object"===bn(u)){var y={};y=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(u.chart.type)?p[u.chart.type]():p.line(),u.chart.brush&&u.chart.brush.enabled&&(y=p.brush(y)),u.chart.stacked&&"100%"===u.chart.stackType&&(u=p.stacked100(u)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(u),u.xaxis=u.xaxis||window.Apex.xaxis||{},l||(u.xaxis.convertedCatToNumeric=!1),((u=this.checkForCatToNumericXAxis(this.chartType,y,u)).chart.sparkline&&u.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(y=p.sparkline(y)),m=fe.extend(_,y)}var w=fe.extend(m,window.Apex);return _=fe.extend(w,u),this.handleUserInputErrors(_)}},{key:"checkForCatToNumericXAxis",value:function(o,l,u){var f=new jt(u);return("bar"===o||"boxPlot"===o)&&u.plotOptions&&u.plotOptions.bar&&u.plotOptions.bar.horizontal||"pie"===o||"polarArea"===o||"donut"===o||"radar"===o||"radialBar"===o||"heatmap"===o||!("datetime"!==u.xaxis.type&&"numeric"!==u.xaxis.type)||"between"===(u.xaxis.tickPlacement?u.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(u=f.convertCatToNumeric(u)),u}},{key:"extendYAxis",value:function(o,l){var u=new No;(void 0===o.yaxis||!o.yaxis||Array.isArray(o.yaxis)&&0===o.yaxis.length)&&(o.yaxis={}),o.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(o.yaxis=fe.extend(o.yaxis,window.Apex.yaxis)),o.yaxis=o.yaxis.constructor!==Array?[fe.extend(u.yAxis,o.yaxis)]:fe.extendArray(o.yaxis,u.yAxis);var f=!1;o.yaxis.forEach(function(_){_.logarithmic&&(f=!0)});var p=o.series;return l&&!p&&(p=l.config.series),f&&p.length!==o.yaxis.length&&p.length&&(o.yaxis=p.map(function(_,m){if(_.name||(p[m].name="series-".concat(m+1)),o.yaxis[m])return o.yaxis[m].seriesName=p[m].name,o.yaxis[m];var y=fe.extend(u.yAxis,o.yaxis[0]);return y.show=!1,y})),f&&p.length>1&&p.length!==o.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),o}},{key:"extendAnnotations",value:function(o){return void 0===o.annotations&&(o.annotations={},o.annotations.yaxis=[],o.annotations.xaxis=[],o.annotations.points=[]),o=this.extendYAxisAnnotations(o),o=this.extendXAxisAnnotations(o),this.extendPointAnnotations(o)}},{key:"extendYAxisAnnotations",value:function(o){var l=new No;return o.annotations.yaxis=fe.extendArray(void 0!==o.annotations.yaxis?o.annotations.yaxis:[],l.yAxisAnnotation),o}},{key:"extendXAxisAnnotations",value:function(o){var l=new No;return o.annotations.xaxis=fe.extendArray(void 0!==o.annotations.xaxis?o.annotations.xaxis:[],l.xAxisAnnotation),o}},{key:"extendPointAnnotations",value:function(o){var l=new No;return o.annotations.points=fe.extendArray(void 0!==o.annotations.points?o.annotations.points:[],l.pointAnnotation),o}},{key:"checkForDarkTheme",value:function(o){o.theme&&"dark"===o.theme.mode&&(o.tooltip||(o.tooltip={}),"light"!==o.tooltip.theme&&(o.tooltip.theme="dark"),o.chart.foreColor||(o.chart.foreColor="#f6f7f8"),o.chart.background||(o.chart.background="#424242"),o.theme.palette||(o.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(o){var l=o;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),U}(),ab=function(){function U(){Le(this,U)}return st(U,[{key:"initGlobalVars",value:function(o){o.series=[],o.seriesCandleO=[],o.seriesCandleH=[],o.seriesCandleM=[],o.seriesCandleL=[],o.seriesCandleC=[],o.seriesRangeStart=[],o.seriesRangeEnd=[],o.seriesRangeBar=[],o.seriesPercent=[],o.seriesGoals=[],o.seriesX=[],o.seriesZ=[],o.seriesNames=[],o.seriesTotals=[],o.seriesLog=[],o.seriesColors=[],o.stackedSeriesTotals=[],o.seriesXvalues=[],o.seriesYvalues=[],o.labels=[],o.hasGroups=!1,o.groups=[],o.categoryLabels=[],o.timescaleLabels=[],o.noLabelsProvided=!1,o.resizeTimer=null,o.selectionResizeTimer=null,o.delayedElements=[],o.pointsArray=[],o.dataLabelsRects=[],o.isXNumeric=!1,o.xaxisLabelsCount=0,o.skipLastTimelinelabel=!1,o.skipFirstTimelinelabel=!1,o.isDataXYZ=!1,o.isMultiLineX=!1,o.isMultipleYAxis=!1,o.maxY=-Number.MAX_VALUE,o.minY=Number.MIN_VALUE,o.minYArr=[],o.maxYArr=[],o.maxX=-Number.MAX_VALUE,o.minX=Number.MAX_VALUE,o.initialMaxX=-Number.MAX_VALUE,o.initialMinX=Number.MAX_VALUE,o.maxDate=0,o.minDate=Number.MAX_VALUE,o.minZ=Number.MAX_VALUE,o.maxZ=-Number.MAX_VALUE,o.minXDiff=Number.MAX_VALUE,o.yAxisScale=[],o.xAxisScale=null,o.xAxisTicksPositions=[],o.yLabelsCoords=[],o.yTitleCoords=[],o.barPadForNumericAxis=0,o.padHorizontal=0,o.xRange=0,o.yRange=[],o.zRange=0,o.dataPoints=0,o.xTickAmount=0}},{key:"globalVars",value:function(o){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:o.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.zoom&&o.chart.zoom.enabled,panEnabled:"pan"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.pan,selectionEnabled:"selection"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(o){var l=this.globalVars(o);return this.initGlobalVars(l),l.initialConfig=fe.extend({},o),l.initialSeries=fe.clone(o.series),l.lastXAxis=fe.clone(l.initialConfig.xaxis),l.lastYAxis=fe.clone(l.initialConfig.yaxis),l}}]),U}(),lg=function(){function U(o){Le(this,U),this.opts=o}return st(U,[{key:"init",value:function(){var o=new Ga(this.opts).init({responsiveOverride:!1});return{config:o,globals:(new ab).init(o)}}}]),U}(),ob=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new fn(this.ctx)}return st(U,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var o=this.w.config.series.slice(),l=new Ge(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==o[this.activeSeriesIndex].data&&o[this.activeSeriesIndex].data.length>0&&null!==o[this.activeSeriesIndex].data[0]&&void 0!==o[this.activeSeriesIndex].data[0].x&&null!==o[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var o=this.w.config.series.slice(),l=new Ge(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==o[this.activeSeriesIndex].data&&o[this.activeSeriesIndex].data.length>0&&null!=o[this.activeSeriesIndex].data[0]&&o[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(o,l){for(var u=this.w.config,f=this.w.globals,p="boxPlot"===u.chart.type||"boxPlot"===u.series[l].type,_=0;_<o[l].data.length;_++)if(void 0!==o[l].data[_][1]&&(Array.isArray(o[l].data[_][1])&&4===o[l].data[_][1].length&&!p?this.twoDSeries.push(fe.parseNumber(o[l].data[_][1][3])):this.twoDSeries.push(fe.parseNumber(o[l].data[_].length>=5?o[l].data[_][4]:o[l].data[_][1])),f.dataFormatXNumeric=!0),"datetime"===u.xaxis.type){var m=new Date(o[l].data[_][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(o[l].data[_][0]);for(var y=0;y<o[l].data.length;y++)void 0!==o[l].data[y][2]&&(this.threeDSeries.push(o[l].data[y][2]),f.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(o,l){var u=this.w.config,f=this.w.globals,p=new gi(this.ctx),_=l;f.collapsedSeriesIndices.indexOf(l)>-1&&(_=this.activeSeriesIndex);for(var m=0;m<o[l].data.length;m++)void 0!==o[l].data[m].y&&(Array.isArray(o[l].data[m].y)?this.twoDSeries.push(fe.parseNumber(o[l].data[m].y[o[l].data[m].y.length-1])):this.twoDSeries.push(fe.parseNumber(o[l].data[m].y))),void 0!==o[l].data[m].goals&&Array.isArray(o[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(o[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var y=0;y<o[_].data.length;y++){var w="string"==typeof o[_].data[y].x,S=Array.isArray(o[_].data[y].x),M=!S&&!!p.isValidDate(o[_].data[y].x.toString());w||M?w||u.xaxis.convertedCatToNumeric?"datetime"!==u.xaxis.type||f.isBarHorizontal&&f.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(o[_].data[y].x)):this.twoDSeriesX.push(p.parseDate(o[_].data[y].x)):"datetime"===u.xaxis.type?this.twoDSeriesX.push(p.parseDate(o[_].data[y].x.toString())):(f.dataFormatXNumeric=!0,f.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(o[_].data[y].x))):S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(o[_].data[y].x)):(f.isXNumeric=!0,f.dataFormatXNumeric=!0,this.twoDSeriesX.push(o[_].data[y].x))}if(o[l].data[0]&&void 0!==o[l].data[0].z){for(var R=0;R<o[l].data.length;R++)this.threeDSeries.push(o[l].data[R].z);f.isDataXYZ=!0}}},{key:"handleRangeData",value:function(o,l){var u=this.w.globals,f={};return this.isFormat2DArray()?f=this.handleRangeDataFormat("array",o,l):this.isFormatXY()&&(f=this.handleRangeDataFormat("xy",o,l)),u.seriesRangeStart.push(f.start),u.seriesRangeEnd.push(f.end),u.seriesRangeBar.push(f.rangeUniques),u.seriesRangeBar.forEach(function(p,_){p&&p.forEach(function(m,y){m.y.forEach(function(w,S){for(var M=0;M<m.y.length;M++)S!==M&&w.y1<=m.y[M].y2&&m.y[M].y1<=w.y2&&(m.overlaps.indexOf(w.rangeName)<0&&m.overlaps.push(w.rangeName),m.overlaps.indexOf(m.y[M].rangeName)<0&&m.overlaps.push(m.y[M].rangeName))})})}),f}},{key:"handleCandleStickBoxData",value:function(o,l){var u=this.w.globals,f={};return this.isFormat2DArray()?f=this.handleCandleStickBoxDataFormat("array",o,l):this.isFormatXY()&&(f=this.handleCandleStickBoxDataFormat("xy",o,l)),u.seriesCandleO[l]=f.o,u.seriesCandleH[l]=f.h,u.seriesCandleM[l]=f.m,u.seriesCandleL[l]=f.l,u.seriesCandleC[l]=f.c,f}},{key:"handleRangeDataFormat",value:function(o,l,u){var f=[],p=[],_=l[u].data.filter(function(T,R,O){return R===O.findIndex(function(L){return L.x===T.x})}).map(function(T,R){return{x:T.x,overlaps:[],y:[]}}),m="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",y=new Ge(this.ctx).getActiveConfigSeriesIndex();if("array"===o){if(2!==l[y].data[0][1].length)throw new Error(m);for(var w=0;w<l[u].data.length;w++)f.push(l[u].data[w][1][0]),p.push(l[u].data[w][1][1])}else if("xy"===o){if(2!==l[y].data[0].y.length)throw new Error(m);for(var S=function(T){var R=fe.randomId(),O=l[u].data[T].x,L={y1:l[u].data[T].y[0],y2:l[u].data[T].y[1],rangeName:R};l[u].data[T].rangeName=R;var H=_.findIndex(function(z){return z.x===O});_[H].y.push(L),f.push(L.y1),p.push(L.y2)},M=0;M<l[u].data.length;M++)S(M)}return{start:f,end:p,rangeUniques:_}}},{key:"handleCandleStickBoxDataFormat",value:function(o,l,u){var f=this.w,p="boxPlot"===f.config.chart.type||"boxPlot"===f.config.series[u].type,_=[],m=[],y=[],w=[],S=[];if("array"===o)if(p&&6===l[u].data[0].length||!p&&5===l[u].data[0].length)for(var M=0;M<l[u].data.length;M++)_.push(l[u].data[M][1]),m.push(l[u].data[M][2]),p?(y.push(l[u].data[M][3]),w.push(l[u].data[M][4]),S.push(l[u].data[M][5])):(w.push(l[u].data[M][3]),S.push(l[u].data[M][4]));else for(var T=0;T<l[u].data.length;T++)Array.isArray(l[u].data[T][1])&&(_.push(l[u].data[T][1][0]),m.push(l[u].data[T][1][1]),p?(y.push(l[u].data[T][1][2]),w.push(l[u].data[T][1][3]),S.push(l[u].data[T][1][4])):(w.push(l[u].data[T][1][2]),S.push(l[u].data[T][1][3])));else if("xy"===o)for(var R=0;R<l[u].data.length;R++)Array.isArray(l[u].data[R].y)&&(_.push(l[u].data[R].y[0]),m.push(l[u].data[R].y[1]),p?(y.push(l[u].data[R].y[2]),w.push(l[u].data[R].y[3]),S.push(l[u].data[R].y[4])):(w.push(l[u].data[R].y[2]),S.push(l[u].data[R].y[3])));return{o:_,h:m,m:y,l:w,c:S}}},{key:"parseDataAxisCharts",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,f=this.w.config,p=this.w.globals,_=new gi(u),m=f.labels.length>0?f.labels.slice():f.xaxis.categories.slice();p.isRangeBar="rangeBar"===f.chart.type&&p.isBarHorizontal,p.hasGroups="category"===f.xaxis.type&&f.xaxis.group.groups.length>0,p.hasGroups&&(p.groups=f.xaxis.group.groups);for(var y=function(){for(var M=0;M<m.length;M++)if("string"==typeof m[M]){if(!_.isValidDate(m[M]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");l.twoDSeriesX.push(_.parseDate(m[M]))}else l.twoDSeriesX.push(m[M])},w=0;w<o.length;w++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===o[w].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==f.chart.type&&"rangeArea"!==f.chart.type&&"rangeBar"!==o[w].type&&"rangeArea"!==o[w].type||(p.isRangeData=!0,this.handleRangeData(o,w)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(o,w):this.isFormatXY()&&this.handleFormatXY(o,w),"candlestick"!==f.chart.type&&"candlestick"!==o[w].type&&"boxPlot"!==f.chart.type&&"boxPlot"!==o[w].type||this.handleCandleStickBoxData(o,w),p.series.push(this.twoDSeries),p.labels.push(this.twoDSeriesX),p.seriesX.push(this.twoDSeriesX),p.seriesGoals=this.seriesGoals,w!==this.activeSeriesIndex||this.fallbackToCategory||(p.isXNumeric=!0);else{"datetime"===f.xaxis.type?(p.isXNumeric=!0,y(),p.seriesX.push(this.twoDSeriesX)):"numeric"===f.xaxis.type&&(p.isXNumeric=!0,m.length>0&&(this.twoDSeriesX=m,p.seriesX.push(this.twoDSeriesX))),p.labels.push(this.twoDSeriesX);var S=o[w].data.map(function(M){return fe.parseNumber(M)});p.series.push(S)}p.seriesZ.push(this.threeDSeries),p.seriesNames.push(void 0!==o[w].name?o[w].name:"series-"+parseInt(w+1,10)),p.seriesColors.push(void 0!==o[w].color?o[w].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(o){var l=this.w.globals,u=this.w.config;l.series=o.slice(),l.seriesNames=u.labels.slice();for(var f=0;f<l.series.length;f++)void 0===l.seriesNames[f]&&l.seriesNames.push("series-"+(f+1));return this.w}},{key:"handleExternalLabelsData",value:function(o){var l=this.w.config,u=this.w.globals;l.xaxis.categories.length>0?u.labels=l.xaxis.categories:l.labels.length>0?u.labels=l.labels.slice():this.fallbackToCategory?(u.labels=u.labels[0],u.seriesRangeBar.length&&(u.seriesRangeBar.map(function(f){f.forEach(function(p){u.labels.indexOf(p.x)<0&&p.x&&u.labels.push(p.x)})}),u.labels=u.labels.filter(function(f,p,_){return _.indexOf(f)===p})),l.xaxis.convertedCatToNumeric&&(new jt(l).convertCatToNumericXaxis(l,this.ctx,u.seriesX[0]),this._generateExternalLabels(o))):this._generateExternalLabels(o)}},{key:"_generateExternalLabels",value:function(o){var l=this.w.globals,u=this.w.config,f=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=u.series.map(function(M,T){return M.data.filter(function(R,O,L){return L.findIndex(function(H){return H.x===R.x})===O})}),_=p.reduce(function(M,T,R,O){return O[M].length>T.length?M:R},0),m=0;m<p[_].length;m++)f.push(m+1);else for(var y=0;y<l.series[l.maxValsInArrayIndex].length;y++)f.push(y+1);l.seriesX=[];for(var w=0;w<o.length;w++)l.seriesX.push(f);l.isXNumeric=!0}if(0===f.length){f=l.axisCharts?[]:l.series.map(function(M,T){return T+1});for(var S=0;S<o.length;S++)l.seriesX.push(f)}l.labels=f,u.xaxis.convertedCatToNumeric&&(l.categoryLabels=f.map(function(M){return u.xaxis.labels.formatter(M)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(o){var l=this.w,u=l.config,f=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),f.axisCharts?this.parseDataAxisCharts(o):this.parseDataNonAxisCharts(o),this.coreUtils.getLargestSeries(),"bar"===u.chart.type&&u.chart.stacked){var p=new Ge(this.ctx);f.series=p.setNullSeriesToZeroValues(f.series)}this.coreUtils.getSeriesTotals(),f.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),f.dataFormatXNumeric||f.isXNumeric&&("numeric"!==u.xaxis.type||0!==u.labels.length||0!==u.xaxis.categories.length)||this.handleExternalLabelsData(o);for(var _=this.coreUtils.getCategoryLabels(f.labels),m=0;m<_.length;m++)if(Array.isArray(_[m])){f.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var o=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(u,f){if(o.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return u.index})}}]),U}(),wh=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.tooltipKeyFormat="dd MMM"}return st(U,[{key:"xLabelFormat",value:function(o,l,u,f){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var _=new gi(this.ctx);return _.formatDate(_.getDate(l),p.config.tooltip.x.format)}return o(l,u,f)}},{key:"defaultGeneralFormatter",value:function(o){return Array.isArray(o)?o.map(function(l){return l}):o}},{key:"defaultYFormatter",value:function(o,l,u){var f=this.w;return fe.isNumber(o)&&(o=o.toFixed(0!==f.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:f.globals.yValueDecimal:f.globals.maxYArr[u]-f.globals.minYArr[u]<5?1:0)),o}},{key:"setLabelFormatters",value:function(){var o=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.ttKeyFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.ttZFormatter=function(u){return u},l.globals.legendFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(u){if(fe.isNumber(u)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(fe.isNumber(l.config.xaxis.decimalsInFloat))return u.toFixed(l.config.xaxis.decimalsInFloat);var f=l.globals.maxX-l.globals.minX;return u.toFixed(f>0&&f<100?1:0)}return u.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return u},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(u,f){l.globals.yLabelFormatters[f]=void 0!==u.labels.formatter?u.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(_){return o.defaultYFormatter(_,u,f)}):o.defaultYFormatter(p,u,f):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var o=this.w;if("heatmap"===o.config.chart.type){o.globals.yAxisScale[0].result=o.globals.seriesNames.slice();var l=o.globals.seriesNames.reduce(function(u,f){return u.length>f.length?u:f},0);o.globals.yAxisScale[0].niceMax=l,o.globals.yAxisScale[0].niceMin=l}}}]),U}(),Ho=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"getLabel",value:function(o,l,u,f){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],y=this.w,w=void 0===o[f]?"":o[f],S=w,M=y.globals.xLabelFormatter,T=y.config.xaxis.labels.formatter,R=!1,O=new wh(this.ctx),L=w;m&&(S=O.xLabelFormat(M,w,L,{i:f,dateFormatter:new gi(this.ctx).formatDate,w:y}),void 0!==T&&(S=T(w,o[f],{i:f,dateFormatter:new gi(this.ctx).formatDate,w:y})));var H=function(x){var k=null;return l.forEach(function(B){"month"===B.unit?k="year":"day"===B.unit?k="month":"hour"===B.unit?k="day":"minute"===B.unit&&(k="hour")}),k===x};l.length>0?(R=H(l[f].unit),u=l[f].position,S=l[f].value):"datetime"===y.config.xaxis.type&&void 0===T&&(S=""),void 0===S&&(S=""),S=Array.isArray(S)?S:S.toString();var z=new He(this.ctx),Y={};Y=y.globals.rotateXLabels&&m?z.getTextRects(S,parseInt(_,10),null,"rotate(".concat(y.config.xaxis.labels.rotate," 0 0)"),!1):z.getTextRects(S,parseInt(_,10));var X=!y.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(S)&&(0===S.indexOf("NaN")||0===S.toLowerCase().indexOf("invalid")||S.toLowerCase().indexOf("infinity")>=0||p.indexOf(S)>=0&&X)&&(S=""),{x:u,text:S,textRect:Y,isBold:R}}},{key:"checkLabelBasedOnTickamount",value:function(o,l,u){var f=this.w,p=f.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(f.globals.gridWidth/120)),p>u||o%Math.round(u/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(o,l,u,f,p){var _=this.w;if(0===o&&_.globals.skipFirstTimelinelabel&&(l.text=""),o===u-1&&_.globals.skipLastTimelinelabel&&(l.text=""),_.config.xaxis.labels.hideOverlappingLabels&&f.length>0){var m=p[p.length-1];l.x<m.textRect.width/(_.globals.rotateXLabels?Math.abs(_.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(o,l){var u=this.w;return u.config.yaxis[o]&&u.config.yaxis[o].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(o){var l=this.w,u=new fn(this.ctx);return!l.config.yaxis[o].show||!l.config.yaxis[o].showForNullSeries&&u.isSeriesNull(o)&&-1===l.globals.collapsedSeriesIndices.indexOf(o)}},{key:"getYAxisForeColor",value:function(o,l){var u=this.w;return Array.isArray(o)&&u.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(o,u.globals.yAxisScale[l].result.length,!1),o}},{key:"drawYAxisTicks",value:function(o,l,u,f,p,_,m){var y=this.w,w=new He(this.ctx),S=y.globals.translateY;if(f.show&&l>0){!0===y.config.yaxis[p].opposite&&(o+=f.width);for(var M=l;M>=0;M--){var T=S+l/10+y.config.yaxis[p].labels.offsetY-1;y.globals.isBarHorizontal&&(T=_*M),"heatmap"===y.config.chart.type&&(T+=_/2);var R=w.drawLine(o+u.offsetX-f.width+f.offsetX,T+f.offsetY,o+u.offsetX+f.offsetX,T+f.offsetY,f.color);m.add(R),S+=_}}}}]),U}(),cg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"scaleSvgNode",value:function(o,l){var u=parseFloat(o.getAttributeNS(null,"width")),f=parseFloat(o.getAttributeNS(null,"height"));o.setAttributeNS(null,"width",u*l),o.setAttributeNS(null,"height",f*l),o.setAttributeNS(null,"viewBox","0 0 "+u+" "+f)}},{key:"fixSvgStringForIe11",value:function(o){if(!fe.isIE11())return o.replace(/&nbsp;/g,"&#160;");var l=0,u=o.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(f){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':f});return(u=u.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(o){var l=this.w.globals.dom.Paper.svg();if(1!==o){var u=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(u,o),l=(new XMLSerializer).serializeToString(u)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var o=this.w,l=o.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),u=o.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(f,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),u&&u[0]&&(u[0].setAttribute("y",-100),u[0].setAttribute("y1",-100),u[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var o=this.getSvgString(),l=new Blob([o],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(o){var l=this;return new Promise(function(u){var f=l.w,p=o?o.scale||o.width/f.globals.svgWidth:1;l.cleanup();var _=document.createElement("canvas");_.width=f.globals.svgWidth*p,_.height=parseInt(f.globals.dom.elWrap.style.height,10)*p;var m="transparent"===f.config.chart.background?"#fff":f.config.chart.background,y=_.getContext("2d");y.fillStyle=m,y.fillRect(0,0,_.width*p,_.height*p);var w=l.getSvgString(p);if(window.canvg&&fe.isIE11()){var S=window.canvg.Canvg.fromString(y,w,{ignoreClear:!0,ignoreDimensions:!0});S.start();var M=_.msToBlob();S.stop(),u({blob:M})}else{var T="data:image/svg+xml,"+encodeURIComponent(w),R=new Image;R.crossOrigin="anonymous",R.onload=function(){if(y.drawImage(R,0,0),_.msToBlob){var O=_.msToBlob();u({blob:O})}else{var L=_.toDataURL("image/png");u({imgURI:L})}},R.src=T}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var o=this;this.dataURI().then(function(l){var u=l.imgURI,f=l.blob;f?navigator.msSaveOrOpenBlob(f,o.w.globals.chartID+".png"):o.triggerDownload(u,o.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(o){var l=this,u=o.series,f=o.columnDelimiter,p=o.lineDelimiter,_=void 0===p?"\n":p,m=this.w,y=[],w=[],S="",M=new ob(this.ctx),T=new Ho(this.ctx),R=function(O){var L="";if(m.globals.axisCharts){if("category"===m.config.xaxis.type||m.config.xaxis.convertedCatToNumeric)if(m.globals.isBarHorizontal){var H=m.globals.yLabelFormatters[0],z=new Ge(l.ctx).getActiveConfigSeriesIndex();L=H(m.globals.labels[O],{seriesIndex:z,dataPointIndex:O,w:m})}else L=T.getLabel(m.globals.labels,m.globals.timescaleLabels,0,O).text;"datetime"===m.config.xaxis.type&&(m.config.xaxis.categories.length?L=m.config.xaxis.categories[O]:m.config.labels.length&&(L=m.config.labels[O]))}else L=m.config.labels[O];return Array.isArray(L)&&(L=L.join(" ")),fe.isNumber(L)?L:L.split(f).join("")};y.push(m.config.chart.toolbar.export.csv.headerCategory),u.map(function(O,L){var H=O.name?O.name:"series-".concat(L);m.globals.axisCharts&&y.push(H.split(f).join("")?H.split(f).join(""):"series-".concat(L))}),m.globals.axisCharts||(y.push(m.config.chart.toolbar.export.csv.headerValue),w.push(y.join(f))),u.map(function(O,L){m.globals.axisCharts?function(H,z){if(y.length&&0===z&&w.push(y.join(f)),H.data&&H.data.length)for(var Y=0;Y<H.data.length;Y++){y=[];var X=R(Y);if(X||(M.isFormatXY()?X=u[z].data[Y].x:M.isFormat2DArray()&&(X=u[z].data[Y]?u[z].data[Y][0]:"")),0===z){y.push("datetime"===m.config.xaxis.type&&String(X).length>=10?m.config.chart.toolbar.export.csv.dateFormatter(X):fe.isNumber(X)?X:X.split(f).join(""));for(var x=0;x<m.globals.series.length;x++)y.push(m.globals.series[x][Y])}("candlestick"===m.config.chart.type||H.type&&"candlestick"===H.type)&&(y.pop(),y.push(m.globals.seriesCandleO[z][Y]),y.push(m.globals.seriesCandleH[z][Y]),y.push(m.globals.seriesCandleL[z][Y]),y.push(m.globals.seriesCandleC[z][Y])),("boxPlot"===m.config.chart.type||H.type&&"boxPlot"===H.type)&&(y.pop(),y.push(m.globals.seriesCandleO[z][Y]),y.push(m.globals.seriesCandleH[z][Y]),y.push(m.globals.seriesCandleM[z][Y]),y.push(m.globals.seriesCandleL[z][Y]),y.push(m.globals.seriesCandleC[z][Y])),"rangeBar"===m.config.chart.type&&(y.pop(),y.push(m.globals.seriesRangeStart[z][Y]),y.push(m.globals.seriesRangeEnd[z][Y])),y.length&&w.push(y.join(f))}}(O,L):((y=[]).push(m.globals.labels[L].split(f).join("")),y.push(m.globals.series[L]),w.push(y.join(f)))}),S+=w.join(_),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+S),m.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(o,l,u){var f=document.createElement("a");f.href=o,f.download=(l||this.w.globals.chartID)+u,document.body.appendChild(f),f.click(),document.body.removeChild(f)}}]),U}(),Pl=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.axesUtils=new Ho(o),this.xaxisLabels=l.globals.labels.slice(),l.globals.timescaleLabels.length>0&&!l.globals.isBarHorizontal&&(this.xaxisLabels=l.globals.timescaleLabels.slice()),l.config.xaxis.overwriteCategories&&(this.xaxisLabels=l.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===l.config.xaxis.position?0:l.globals.gridHeight+1,this.offY=this.offY+l.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===l.config.chart.type&&l.config.plotOptions.bar.horizontal,this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.xaxisBorderWidth=l.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=l.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?l.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=l.config.xaxis.axisBorder.height,this.yaxis=l.config.yaxis[0]}return st(U,[{key:"drawXaxis",value:function(){var o=this.w,l=new He(this.ctx),u=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(o.config.xaxis.offsetX,", ").concat(o.config.xaxis.offsetY,")")}),f=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(o.globals.translateXAxisX,", ").concat(o.globals.translateXAxisY,")")});u.add(f);for(var p=[],_=0;_<this.xaxisLabels.length;_++)p.push(this.xaxisLabels[_]);if(this.drawXAxisLabelAndGroup(!0,l,f,p,o.globals.isXNumeric,function(O,L){return L}),o.globals.hasGroups){var m=o.globals.groups;p=[];for(var y=0;y<m.length;y++)p.push(m[y].title);var w={};o.config.xaxis.group.style&&(w.xaxisFontSize=o.config.xaxis.group.style.fontSize,w.xaxisFontFamily=o.config.xaxis.group.style.fontFamily,w.xaxisForeColors=o.config.xaxis.group.style.colors,w.fontWeight=o.config.xaxis.group.style.fontWeight,w.cssClass=o.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,f,p,!1,function(O,L){return m[O].cols*L},w)}if(void 0!==o.config.xaxis.title.text){var S=l.group({class:"apexcharts-xaxis-title"}),M=l.drawText({x:o.globals.gridWidth/2+o.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+o.globals.xAxisLabelsHeight+o.config.xaxis.title.offsetY,text:o.config.xaxis.title.text,textAnchor:"middle",fontSize:o.config.xaxis.title.style.fontSize,fontFamily:o.config.xaxis.title.style.fontFamily,fontWeight:o.config.xaxis.title.style.fontWeight,foreColor:o.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+o.config.xaxis.title.style.cssClass});S.add(M),u.add(S)}if(o.config.xaxis.axisBorder.show){var T=o.globals.barPadForNumericAxis,R=l.drawLine(o.globals.padHorizontal+o.config.xaxis.axisBorder.offsetX-T,this.offY,this.xaxisBorderWidth+T,this.offY,o.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);u.add(R)}return u}},{key:"drawXAxisLabelAndGroup",value:function(o,l,u,f,p,_){var m,y=this,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},S=[],M=[],T=this.w,R=w.xaxisFontSize||this.xaxisFontSize,O=w.xaxisFontFamily||this.xaxisFontFamily,L=w.xaxisForeColors||this.xaxisForeColors,H=w.fontWeight||T.config.xaxis.labels.style.fontWeight,z=w.cssClass||T.config.xaxis.labels.style.cssClass,Y=T.globals.padHorizontal,X=f.length,x="category"===T.config.xaxis.type?T.globals.dataPoints:X;if(p){var k=x>1?x-1:x;Y=Y+_(0,m=T.globals.gridWidth/k)/2+T.config.xaxis.labels.offsetX}else Y=Y+_(0,m=T.globals.gridWidth/x)+T.config.xaxis.labels.offsetX;for(var B=function(K){var ve=Y-_(K,m)/2+T.config.xaxis.labels.offsetX;0===K&&1===X&&m/2===Y&&1===x&&(ve=T.globals.gridWidth/2);var te=y.axesUtils.getLabel(f,T.globals.timescaleLabels,ve,K,S,R,o),Te=28;if(T.globals.rotateXLabels&&o&&(Te=22),o||(Te=Te+parseFloat(R)+(T.globals.xAxisLabelsHeight-T.globals.xAxisGroupLabelsHeight)+(T.globals.rotateXLabels?10:0)),te=void 0!==T.config.xaxis.tickAmount&&"dataPoints"!==T.config.xaxis.tickAmount&&"datetime"!==T.config.xaxis.type?y.axesUtils.checkLabelBasedOnTickamount(K,te,X):y.axesUtils.checkForOverflowingLabels(K,te,X,S,M),o&&te.text&&T.globals.xaxisLabelsCount++,T.config.xaxis.labels.show){var Fe=l.drawText({x:te.x,y:y.offY+T.config.xaxis.labels.offsetY+Te-("top"===T.config.xaxis.position?T.globals.xAxisHeight+T.config.xaxis.axisTicks.height-2:0),text:te.text,textAnchor:"middle",fontWeight:te.isBold?600:H,fontSize:R,fontFamily:O,foreColor:Array.isArray(L)?o&&T.config.xaxis.convertedCatToNumeric?L[T.globals.minX+K-1]:L[K]:L,isPlainText:!1,cssClass:(o?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+z});if(u.add(Fe),o){var qe=document.createElementNS(T.globals.SVGNS,"title");qe.textContent=Array.isArray(te.text)?te.text.join(" "):te.text,Fe.node.appendChild(qe),""!==te.text&&(S.push(te.text),M.push(te))}}K<X-1&&(Y+=_(K+1,m))},W=0;W<=X-1;W++)B(W)}},{key:"drawXaxisInversed",value:function(o){var l,u,f=this,p=this.w,_=new He(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[o]:0,y=_.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:o}),w=_.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});y.add(w);var S=[];if(p.config.yaxis[o].show)for(var M=0;M<this.xaxisLabels.length;M++)S.push(this.xaxisLabels[M]);u=-(l=p.globals.gridHeight/S.length)/2.2;var T=p.globals.yLabelFormatters[0],R=p.config.yaxis[0].labels;if(R.show)for(var O=function(k){var B=void 0===S[k]?"":S[k];B=T(B,{seriesIndex:o,dataPointIndex:k,w:p});var W=f.axesUtils.getYAxisForeColor(R.style.colors,o),K=0;Array.isArray(B)&&(K=B.length/2*parseInt(R.style.fontSize,10));var ve=_.drawText({x:R.offsetX-15,y:u+l+R.offsetY-K,text:B,textAnchor:f.yaxis.opposite?"start":"end",foreColor:Array.isArray(W)?W[k]:W,fontSize:R.style.fontSize,fontFamily:R.style.fontFamily,fontWeight:R.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+R.style.cssClass});w.add(ve);var te=document.createElementNS(p.globals.SVGNS,"title");if(te.textContent=Array.isArray(B)?B.join(" "):B,ve.node.appendChild(te),0!==p.config.yaxis[o].labels.rotate){var Te=_.rotateAroundCenter(ve.node);ve.node.setAttribute("transform","rotate(".concat(p.config.yaxis[o].labels.rotate," 0 ").concat(Te.y,")"))}u+=l},L=0;L<=S.length-1;L++)O(L);if(void 0!==p.config.yaxis[0].title.text){var H=_.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),z=_.drawText({x:0,y:p.globals.gridHeight/2,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});H.add(z),y.add(H)}var Y=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(Y=p.globals.gridWidth);var X=p.config.xaxis.axisBorder;if(X.show){var x=_.drawLine(p.globals.padHorizontal+X.offsetX+Y,1+X.offsetY,p.globals.padHorizontal+X.offsetX+Y,p.globals.gridHeight+X.offsetY,X.color,0);y.add(x)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Y,S.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,y),y}},{key:"drawXaxisTicks",value:function(o,l,u){var f=this.w,p=o;if(!(o<0||o-2>f.globals.gridWidth)){var _=this.offY+f.config.xaxis.axisTicks.offsetY;if(l=l+_+f.config.xaxis.axisTicks.height,"top"===f.config.xaxis.position&&(l=_-f.config.xaxis.axisTicks.height),f.config.xaxis.axisTicks.show){var m=new He(this.ctx).drawLine(o+f.config.xaxis.axisTicks.offsetX,_+f.config.xaxis.offsetY,p+f.config.xaxis.axisTicks.offsetX,l+f.config.xaxis.offsetY,f.config.xaxis.axisTicks.color);u.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var o=this.w,l=[],u=this.xaxisLabels.length,f=o.globals.padHorizontal;if(o.globals.timescaleLabels.length>0)for(var p=0;p<u;p++)l.push(f=this.xaxisLabels[p].position);else for(var _=u,m=0;m<_;m++){var y=_;o.globals.isXNumeric&&"bar"!==o.config.chart.type&&(y-=1),l.push(f+=o.globals.gridWidth/y)}return l}},{key:"xAxisLabelCorrections",value:function(){var o=this.w,l=new He(this.ctx),u=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),_=o.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(o.globals.rotateXLabels||o.config.xaxis.labels.rotateAlways)for(var m=0;m<f.length;m++){var y=l.rotateAroundCenter(f[m]);y.y=y.y-1,y.x=y.x+1,f[m].setAttribute("transform","rotate(".concat(o.config.xaxis.labels.rotate," ").concat(y.x," ").concat(y.y,")")),f[m].setAttribute("text-anchor","end"),u.setAttribute("transform","translate(0, ".concat(-10,")")),o.config.xaxis.labels.trim&&Array.prototype.forEach.call(f[m].childNodes,function(R){l.placeTextWithEllipsis(R,R.textContent,o.globals.xAxisLabelsHeight-("bottom"===o.config.legend.position?20:10))})}else!function(){for(var R=o.globals.gridWidth/(o.globals.labels.length+1),O=0;O<f.length;O++)o.config.xaxis.labels.trim&&"datetime"!==o.config.xaxis.type&&Array.prototype.forEach.call(f[O].childNodes,function(H){l.placeTextWithEllipsis(H,H.textContent,R)})}();if(p.length>0){var S=p[p.length-1].getBBox(),M=p[0].getBBox();S.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),M.x+M.width>o.globals.gridWidth&&!o.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var T=0;T<_.length;T++)l.placeTextWithEllipsis(_[T],_[T].textContent,o.config.yaxis[0].labels.maxWidth-(o.config.yaxis[0].title.text?2*parseFloat(o.config.yaxis[0].title.style.fontSize):0)-15)}}}]),U}(),lb=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Ho(o),this.isRangeBar=l.globals.seriesRangeBar.length,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return st(U,[{key:"drawGridArea",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,u=new He(this.ctx);null===o&&(o=u.group({class:"apexcharts-grid"}));var f=u.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=u.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return o.add(p),o.add(f),o}},{key:"drawGrid",value:function(){var o=null;return this.w.globals.axisCharts&&(o=this.renderGrid(),this.drawGridArea(o.el)),o}},{key:"createGridMask",value:function(){var o=this.w,l=o.globals,u=new He(this.ctx),f=Array.isArray(o.config.stroke.width)?0:o.config.stroke.width;if(Array.isArray(o.config.stroke.width)){var p=0;o.config.stroke.width.forEach(function(M){p=Math.max(p,M)}),f=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var _=o.config.chart.type,m=0,y=0;("bar"===_||"rangeBar"===_||"candlestick"===_||"boxPlot"===_||o.globals.comboBarCount>0)&&o.globals.isXNumeric&&!o.globals.isBarHorizontal&&(y=o.config.grid.padding.right,l.barPadForNumericAxis>(m=o.config.grid.padding.left)&&(m=l.barPadForNumericAxis,y=l.barPadForNumericAxis)),l.dom.elGridRect=u.drawRect(-f/2-m-2,-f/2,l.gridWidth+f+y+m+4,l.gridHeight+f,0,"#fff");var w=o.globals.markers.largestSize+1;l.dom.elGridRectMarker=u.drawRect(2*-w,2*-w,l.gridWidth+4*w,l.gridHeight+4*w,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var S=l.dom.baseEl.querySelector("defs");S.appendChild(l.dom.elGridRectMask),S.appendChild(l.dom.elForecastMask),S.appendChild(l.dom.elNonForecastMask),S.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(o){var l=o.i,u=o.x1,w=this.w;if(!(0===l&&w.globals.skipFirstTimelinelabel||l===o.xCount-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||"radar"===w.config.chart.type)){w.config.grid.xaxis.lines.show&&this._drawGridLine({x1:u,y1:o.y1,x2:o.x2,y2:o.y2,parent:o.parent});var S=0;if(w.globals.hasGroups&&"between"===w.config.xaxis.tickPlacement){var M=w.globals.groups;if(M){for(var T=0,R=0;T<l&&R<M.length;R++)T+=M[R].cols;T===l&&(S=.6*w.globals.xAxisLabelsHeight)}}new Pl(this.ctx).drawXaxisTicks(u,S,this.elg)}}},{key:"_drawGridLine",value:function(o){var l=o.x1,u=o.y1,f=o.x2,p=o.y2,_=o.parent,m=this.w,y=_.node.classList.contains("apexcharts-gridlines-horizontal"),w=m.config.grid.strokeDashArray,S=m.globals.barPadForNumericAxis,M=new He(this).drawLine(l-(y?S:0),u,f+(y?S:0),p,m.config.grid.borderColor,w);M.node.classList.add("apexcharts-gridline"),_.add(M)}},{key:"_drawGridBandRect",value:function(o){var l=o.c,u=o.x1,f=o.y1,p=o.x2,_=o.y2,m=o.type,y=this.w,w=new He(this.ctx),S=y.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==y.config.xaxis.type){var T=w.drawRect(u-("row"===m?S:0),f,p+("row"===m?2*S:0),_,0,y.config.grid[m].colors[l],y.config.grid[m].opacity);this.elg.add(T),T.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),T.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(o){var l=this,u=o.xCount,f=o.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var _,m=p.globals.padHorizontal,y=p.globals.gridHeight;p.globals.timescaleLabels.length?function(O){for(var L=O.xC,z=O.y1,X=O.y2,x=0;x<L;x++)l._drawGridLines({i:x,x1:l.xaxisLabels[x].position,y1:z,x2:l.xaxisLabels[x].position,y2:X,xCount:u,parent:l.elgridLinesV})}({xC:u,x1:m,y1:0,x2:_,y2:y}):(p.globals.isXNumeric&&(u=p.globals.xAxisScale.result.length),p.config.xaxis.convertedCatToNumeric&&(u=p.globals.xaxisLabelsCount),function(O){var L=O.xC,H=O.x1,z=O.y1,Y=O.x2,X=O.y2;if(void 0!==p.config.xaxis.tickAmount&&"dataPoints"!==p.config.xaxis.tickAmount&&"on"===p.config.xaxis.tickPlacement)p.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(k,B){var W=k.getBBox();l._drawGridLines({i:B,x1:W.x+W.width/2,y1:z,x2:W.x+W.width/2,y2:X,xCount:u,parent:l.elgridLinesV})});else for(var x=0;x<L+(p.globals.isXNumeric?0:1);x++)0===x&&1===L&&1===p.globals.dataPoints&&(Y=H=p.globals.gridWidth/2),l._drawGridLines({i:x,x1:H,y1:z,x2:Y,y2:X,xCount:u,parent:l.elgridLinesV}),Y=H+=p.globals.gridWidth/(p.globals.isXNumeric?L-1:L)}({xC:u,x1:m,y1:0,x2:_,y2:y}))}if(p.config.grid.yaxis.lines.show){var w=0,S=0,M=p.globals.gridWidth,T=f+1;this.isRangeBar&&(T=p.globals.labels.length);for(var R=0;R<T+(this.isRangeBar?1:0);R++)this._drawGridLine({x1:0,y1:w,x2:M,y2:S,parent:this.elgridLinesH}),S=w+=p.globals.gridHeight/(this.isRangeBar?T:f)}}},{key:"_drawInvertedXYLines",value:function(o){var l=o.xCount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show)for(var f,p=u.globals.padHorizontal,_=u.globals.gridHeight,m=0;m<l+1;m++)u.config.grid.xaxis.lines.show&&this._drawGridLine({x1:p,y1:0,x2:f,y2:_,parent:this.elgridLinesV}),new Pl(this.ctx).drawXaxisTicks(p,0,this.elg),f=p=p+u.globals.gridWidth/l+.3;if(u.config.grid.yaxis.lines.show)for(var y=0,w=0,S=u.globals.gridWidth,M=0;M<u.globals.dataPoints+1;M++)this._drawGridLine({x1:0,y1:y,x2:S,y2:w,parent:this.elgridLinesH}),w=y+=u.globals.gridHeight/u.globals.dataPoints}},{key:"renderGrid",value:function(){var o=this.w,l=new He(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),o.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var u,f=o.globals.yAxisScale.length?o.globals.yAxisScale[0].result.length-1:5,p=0;p<o.globals.series.length&&(void 0!==o.globals.yAxisScale[p]&&(f=o.globals.yAxisScale[p].result.length-1),!(f>2));p++);return!o.globals.isBarHorizontal||this.isRangeBar?(u=this.xaxisLabels.length,this.isRangeBar&&(f=o.globals.labels.length,o.config.xaxis.tickAmount&&o.config.xaxis.labels.formatter&&(u=o.config.xaxis.tickAmount)),this._drawXYLines({xCount:u,tickAmount:f})):this._drawInvertedXYLines({xCount:u=f,tickAmount:f=o.globals.xTickAmount}),this.drawGridBands(u,f),{el:this.elg,xAxisTickWidth:o.globals.gridWidth/u}}},{key:"drawGridBands",value:function(o,l){var u=this.w;if(void 0!==u.config.grid.row.colors&&u.config.grid.row.colors.length>0)for(var f=0,p=u.globals.gridHeight/l,_=u.globals.gridWidth,m=0,y=0;m<l;m++,y++)y>=u.config.grid.row.colors.length&&(y=0),this._drawGridBandRect({c:y,x1:0,y1:f,x2:_,y2:p,type:"row"}),f+=u.globals.gridHeight/l;if(void 0!==u.config.grid.column.colors&&u.config.grid.column.colors.length>0)for(var w=u.globals.isBarHorizontal||"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric?o:o-1,S=u.globals.padHorizontal,M=u.globals.padHorizontal+u.globals.gridWidth/w,T=u.globals.gridHeight,R=0,O=0;R<o;R++,O++)O>=u.config.grid.column.colors.length&&(O=0),this._drawGridBandRect({c:O,x1:S,y1:0,x2:M,y2:T,type:"column"}),S+=u.globals.gridWidth/w}}]),U}(),Ua=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"niceScale",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,_=this.w,m=Math.abs(l-o);if("dataPoints"===(u=this._adjustTicksForSmallRange(u,f,m))&&(u=_.globals.dataPoints-1),o===Number.MIN_VALUE&&0===l||!fe.isNumber(o)&&!fe.isNumber(l)||o===Number.MIN_VALUE&&l===-Number.MAX_VALUE){var y=this.linearScale(o=0,l=u,u);return y}o>l?(console.warn("axis.min cannot be greater than axis.max"),l=o+.1):o===l&&(o=0===o?0:o-.5,l=0===l?2:l+.5);var w=[];m<1&&p&&("candlestick"===_.config.chart.type||"candlestick"===_.config.series[f].type||"boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[f].type||_.globals.isRangeData)&&(l*=1.01);var S=u+1;S<2?S=2:S>2&&(S-=2);var M=m/S,T=Math.floor(fe.log10(M)),R=Math.pow(10,T),O=Math.round(M/R);O<1&&(O=1);var L=O*R,H=L*Math.floor(o/L),z=L*Math.ceil(l/L),Y=H;if(p&&m>2){for(;w.push(Y),!((Y+=L)>z););return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}var X=o;(w=[]).push(X);for(var x=Math.abs(l-o)/u,k=0;k<=u;k++)w.push(X+=x);return w[w.length-2]>=l&&w.pop(),{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"linearScale",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,f=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-o);"dataPoints"===(u=this._adjustTicksForSmallRange(u,f,p))&&(u=this.w.globals.dataPoints-1);var _=p/u;u===Number.MAX_VALUE&&(u=10,_=1);for(var m=[],y=o;u>=0;)m.push(y),y+=_,u-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(o,l,u){l<=0&&(l=Math.max(o,u)),o<=0&&(o=Math.min(l,u));for(var f=[],p=Math.ceil(Math.log(l)/Math.log(u)+1),_=Math.floor(Math.log(o)/Math.log(u));_<p;_++)f.push(Math.pow(u,_));return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScale",value:function(o,l,u){l<=0&&(l=Math.max(o,u)),o<=0&&(o=Math.min(l,u));for(var f=[],p=Math.log(l)/Math.log(u),_=Math.log(o)/Math.log(u),m=p-_,y=Math.round(m),w=m/y,S=0,M=_;S<y;S++,M+=w)f.push(Math.pow(u,M));return f.push(Math.pow(u,p)),{result:f,niceMin:o,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(o,l,u){var f=o;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=this.w.config.yaxis[l].labels.formatter(1);fe.isNumber(Number(p))&&!fe.isFloat(p)&&(f=Math.ceil(u))}return f<o?f:o}},{key:"setYScaleForIndex",value:function(o,l,u){var f=this.w.globals,p=this.w.config,_=f.isBarHorizontal?p.xaxis:p.yaxis[o];void 0===f.yAxisScale[o]&&(f.yAxisScale[o]=[]);var m=Math.abs(u-l);_.logarithmic&&m<=5&&(f.invalidLogScale=!0),_.logarithmic&&m>5?(f.allSeriesCollapsed=!1,f.yAxisScale[o]=this.logarithmicScale(l,u,_.logBase),f.yAxisScale[o]=_.forceNiceScale?this.logarithmicScaleNice(l,u,_.logBase):this.logarithmicScale(l,u,_.logBase)):u!==-Number.MAX_VALUE&&fe.isNumber(u)?(f.allSeriesCollapsed=!1,f.yAxisScale[o]=void 0===_.min&&void 0===_.max||_.forceNiceScale?this.niceScale(l,u,_.tickAmount?_.tickAmount:m<5&&m>1?m+1:5,o,void 0===p.yaxis[o].max&&void 0===p.yaxis[o].min||p.yaxis[o].forceNiceScale):this.linearScale(l,u,_.tickAmount,o)):f.yAxisScale[o]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(o,l){var u=this.w,f=u.globals,p=u.config.xaxis,_=Math.abs(l-o);return f.xAxisScale=l!==-Number.MAX_VALUE&&fe.isNumber(l)?this.linearScale(o,l,p.tickAmount?p.tickAmount:_<5&&_>1?_+1:5,0):this.linearScale(0,5,5),f.xAxisScale}},{key:"setMultipleYScales",value:function(){var o=this,l=this.w.globals,u=this.w.config,f=l.minYArr.concat([]),p=l.maxYArr.concat([]),_=[];u.yaxis.forEach(function(m,y){var w=y;u.series.forEach(function(T,R){T.name===m.seriesName&&(w=R,_.push(y!==R?{index:R,similarIndex:y,alreadyExists:!0}:{index:R}))}),o.setYScaleForIndex(y,f[w],p[w])}),this.sameScaleInMultipleAxes(f,p,_)}},{key:"sameScaleInMultipleAxes",value:function(o,l,u){var f=this,p=this.w.config,_=this.w.globals,m=[];u.forEach(function(L){L.alreadyExists&&(void 0===m[L.index]&&(m[L.index]=[]),m[L.index].push(L.index),m[L.index].push(L.similarIndex))}),_.yAxisSameScaleIndices=m,m.forEach(function(L,H){m.forEach(function(z,Y){var X,x;H!==Y&&(X=L,x=z,X.filter(function(k){return-1!==x.indexOf(k)})).length>0&&(m[H]=m[H].concat(m[Y]))})});var y=m.map(function(L){return L.filter(function(H,z){return L.indexOf(H)===z})}).map(function(L){return L.sort()});m=m.filter(function(L){return!!L});var w=y.slice(),S=w.map(function(L){return JSON.stringify(L)});w=w.filter(function(L,H){return S.indexOf(JSON.stringify(L))===H});var M=[],T=[];o.forEach(function(L,H){w.forEach(function(z,Y){z.indexOf(H)>-1&&(void 0===M[Y]&&(M[Y]=[],T[Y]=[]),M[Y].push({key:H,value:L}),T[Y].push({key:H,value:l[H]}))})});var R=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),O=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);M.forEach(function(L,H){L.forEach(function(z,Y){R[H]=Math.min(z.value,R[H])})}),T.forEach(function(L,H){L.forEach(function(z,Y){O[H]=Math.max(z.value,O[H])})}),o.forEach(function(L,H){T.forEach(function(z,Y){var X=R[Y],x=O[Y];p.chart.stacked&&(x=0,z.forEach(function(k,B){k.value!==-Number.MAX_VALUE&&(x+=k.value),X!==Number.MIN_VALUE&&(X+=M[Y][B].value)})),z.forEach(function(k,B){z[B].key===H&&(void 0!==p.yaxis[H].min&&(X="function"==typeof p.yaxis[H].min?p.yaxis[H].min(_.minY):p.yaxis[H].min),void 0!==p.yaxis[H].max&&(x="function"==typeof p.yaxis[H].max?p.yaxis[H].max(_.maxY):p.yaxis[H].max),f.setYScaleForIndex(H,X,x))})})})}},{key:"autoScaleY",value:function(o,l,u){o||(o=this);var f=o.w;if(f.globals.isMultipleYAxis||f.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),l;var p=f.globals.seriesX[0],_=f.config.chart.stacked;return l.forEach(function(m,y){for(var w=0,S=0;S<p.length;S++)if(p[S]>=u.xaxis.min){w=S;break}var M,T,R=f.globals.minYArr[y],O=f.globals.maxYArr[y],L=f.globals.stackedSeriesTotals;f.globals.series.forEach(function(H,z){var Y=H[w];_?(M=T=Y=L[w],L.forEach(function(X,x){p[x]<=u.xaxis.max&&p[x]>=u.xaxis.min&&(X>T&&null!==X&&(T=X),H[x]<M&&null!==H[x]&&(M=H[x]))})):(M=T=Y,H.forEach(function(X,x){if(p[x]<=u.xaxis.max&&p[x]>=u.xaxis.min){var k=X,B=X;f.globals.series.forEach(function(W,K){null!==X&&(k=Math.min(W[x],k),B=Math.max(W[x],B))}),B>T&&null!==B&&(T=B),k<M&&null!==k&&(M=k)}})),void 0===M&&void 0===T&&(M=R,T=O),(T*=T<0?.9:1.1)<0&&T<O&&(T=O),(M*=M<0?1.1:.9)<0&&M>R&&(M=R),l.length>1?(l[z].min=void 0===m.min?M:m.min,l[z].max=void 0===m.max?T:m.max):(l[0].min=void 0===m.min?M:m.min,l[0].max=void 0===m.max?T:m.max)})}),l}}]),U}(),dg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.scales=new Ua(o)}return st(U,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,_=this.w.globals,m=-Number.MAX_VALUE,y=Number.MIN_VALUE;null===f&&(f=o+1);var w=_.series,S=w,M=w;"candlestick"===p.chart.type?(S=_.seriesCandleL,M=_.seriesCandleH):"boxPlot"===p.chart.type?(S=_.seriesCandleO,M=_.seriesCandleC):_.isRangeData&&(S=_.seriesRangeStart,M=_.seriesRangeEnd);for(var T=o;T<f;T++){_.dataPoints=Math.max(_.dataPoints,w[T].length),_.categoryLabels.length&&(_.dataPoints=_.categoryLabels.filter(function(L){return void 0!==L}).length);for(var R=0;R<_.series[T].length;R++){var O=w[T][R];null!==O&&fe.isNumber(O)?(void 0!==M[T][R]&&(m=Math.max(m,M[T][R]),l=Math.min(l,M[T][R])),void 0!==S[T][R]&&(l=Math.min(l,S[T][R]),u=Math.max(u,S[T][R])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==_.seriesCandleC[T][R]&&(m=Math.max(m,_.seriesCandleO[T][R]),m=Math.max(m,_.seriesCandleH[T][R]),m=Math.max(m,_.seriesCandleL[T][R]),m=Math.max(m,_.seriesCandleC[T][R]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,_.seriesCandleM[T][R]))),!p.series[T].type||"candlestick"===p.series[T].type&&"boxPlot"===p.series[T].type||(m=Math.max(m,_.series[T][R]),l=Math.min(l,_.series[T][R])),u=m),_.seriesGoals[T]&&_.seriesGoals[T][R]&&Array.isArray(_.seriesGoals[T][R])&&_.seriesGoals[T][R].forEach(function(L){y!==Number.MIN_VALUE&&(y=Math.min(y,L.value),l=y),m=Math.max(m,L.value),u=m}),fe.isFloat(O)&&(O=fe.noExponents(O),_.yValueDecimal=Math.max(_.yValueDecimal,O.toString().split(".")[1].length)),y>S[T][R]&&S[T][R]<0&&(y=S[T][R])):_.hasNullValues=!0}}return"rangeBar"===p.chart.type&&_.seriesRangeStart.length&&_.isBarHorizontal&&(y=l),"bar"===p.chart.type&&(y<0&&m<0&&(m=0),y===Number.MIN_VALUE&&(y=0)),{minY:y,maxY:m,lowestY:l,highestY:u}}},{key:"setYRange",value:function(){var o=this.w.globals,l=this.w.config;o.maxY=-Number.MAX_VALUE,o.minY=Number.MIN_VALUE;var u=Number.MAX_VALUE;if(o.isMultipleYAxis)for(var f=0;f<o.series.length;f++){var p=this.getMinYMaxY(f,u,null,f+1);o.minYArr.push(p.minY),o.maxYArr.push(p.maxY),u=p.lowestY}var _=this.getMinYMaxY(0,u,null,o.series.length);if(o.minY=_.minY,o.maxY=_.maxY,u=_.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!o.isBarHorizontal)&&o.minY===Number.MIN_VALUE&&u!==-Number.MAX_VALUE&&u!==o.maxY){var m=o.maxY-u;(u>=0&&u<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),o.minY=u-5*m/100,u>0&&o.minY<0&&(o.minY=0),o.maxY=o.maxY+5*m/100}return l.yaxis.forEach(function(y,w){void 0!==y.max&&("number"==typeof y.max?o.maxYArr[w]=y.max:"function"==typeof y.max&&(o.maxYArr[w]=y.max(o.isMultipleYAxis?o.maxYArr[w]:o.maxY)),o.maxY=o.maxYArr[w]),void 0!==y.min&&("number"==typeof y.min?o.minYArr[w]=y.min:"function"==typeof y.min&&(o.minYArr[w]=y.min(o.isMultipleYAxis?o.minYArr[w]===Number.MIN_VALUE?0:o.minYArr[w]:o.minY)),o.minY=o.minYArr[w])}),o.isBarHorizontal&&["min","max"].forEach(function(y){void 0!==l.xaxis[y]&&"number"==typeof l.xaxis[y]&&("min"===y?o.minY=l.xaxis[y]:o.maxY=l.xaxis[y])}),o.isMultipleYAxis?(this.scales.setMultipleYScales(),o.minY=u,o.yAxisScale.forEach(function(y,w){o.minYArr[w]=y.niceMin,o.maxYArr[w]=y.niceMax})):(this.scales.setYScaleForIndex(0,o.minY,o.maxY),o.minY=o.yAxisScale[0].niceMin,o.maxY=o.yAxisScale[0].niceMax,o.minYArr[0]=o.yAxisScale[0].niceMin,o.maxYArr[0]=o.yAxisScale[0].niceMax),{minY:o.minY,maxY:o.maxY,minYArr:o.minYArr,maxYArr:o.maxYArr,yAxisScale:o.yAxisScale}}},{key:"setXRange",value:function(){var o=this.w.globals,l=this.w.config,u="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!o.noLabelsProvided||o.noLabelsProvided||o.isXNumeric;if(o.isXNumeric&&function(){for(var m=0;m<o.series.length;m++)if(o.labels[m])for(var y=0;y<o.labels[m].length;y++)null!==o.labels[m][y]&&fe.isNumber(o.labels[m][y])&&(o.maxX=Math.max(o.maxX,o.labels[m][y]),o.initialMaxX=Math.max(o.maxX,o.labels[m][y]),o.minX=Math.min(o.minX,o.labels[m][y]),o.initialMinX=Math.min(o.minX,o.labels[m][y]))}(),o.noLabelsProvided&&0===l.xaxis.categories.length&&(o.maxX=o.labels[o.labels.length-1],o.initialMaxX=o.labels[o.labels.length-1],o.minX=1,o.initialMinX=1),o.isXNumeric||o.noLabelsProvided||o.dataFormatXNumeric){var f;if(void 0===l.xaxis.tickAmount?(f=Math.round(o.svgWidth/150),"numeric"===l.xaxis.type&&o.dataPoints<30&&(f=o.dataPoints-1),f>o.dataPoints&&0!==o.dataPoints&&(f=o.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(o.series.length>1&&(f=o.series[o.maxValsInArrayIndex].length-1),o.isXNumeric&&(f=o.maxX-o.minX-1)):f=l.xaxis.tickAmount,o.xTickAmount=f,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(o.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(o.minX=l.xaxis.min),void 0!==l.xaxis.range&&(o.minX=o.maxX-l.xaxis.range),o.minX!==Number.MAX_VALUE&&o.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!o.dataFormatXNumeric){for(var p=[],_=o.minX-1;_<o.maxX;_++)p.push(_+1);o.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else o.xAxisScale=this.scales.setXScale(o.minX,o.maxX);else o.xAxisScale=this.scales.linearScale(1,f,f),o.noLabelsProvided&&o.labels.length>0&&(o.xAxisScale=this.scales.linearScale(1,o.labels.length,f-1),o.seriesX=o.labels.slice());u&&(o.labels=o.xAxisScale.result.slice())}return o.isBarHorizontal&&o.labels.length&&(o.xTickAmount=o.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:o.minX,maxX:o.maxX}}},{key:"setZRange",value:function(){var o=this.w.globals;if(o.isDataXYZ)for(var l=0;l<o.series.length;l++)if(void 0!==o.seriesZ[l])for(var u=0;u<o.seriesZ[l].length;u++)null!==o.seriesZ[l][u]&&fe.isNumber(o.seriesZ[l][u])&&(o.maxZ=Math.max(o.maxZ,o.seriesZ[l][u]),o.minZ=Math.min(o.minZ,o.seriesZ[l][u]))}},{key:"_handleSingleDataPoint",value:function(){var o=this.w.globals,l=this.w.config;if(o.minX===o.maxX){var u=new gi(this.ctx);if("datetime"===l.xaxis.type){var f=u.getDate(o.minX);l.xaxis.labels.datetimeUTC?f.setUTCDate(f.getUTCDate()-2):f.setDate(f.getDate()-2),o.minX=new Date(f).getTime();var p=u.getDate(o.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),o.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!o.noLabelsProvided)&&(o.minX=o.minX-2,o.initialMinX=o.minX,o.maxX=o.maxX+2,o.initialMaxX=o.maxX)}}},{key:"_getMinXDiff",value:function(){var o=this.w.globals;o.isXNumeric&&o.seriesX.forEach(function(l,u){1===l.length&&l.push(o.seriesX[o.maxValsInArrayIndex][o.seriesX[o.maxValsInArrayIndex].length-1]);var f=l.slice();f.sort(function(p,_){return p-_}),f.forEach(function(p,_){if(_>0){var m=p-f[_-1];m>0&&(o.minXDiff=Math.min(m,o.minXDiff))}}),1!==o.dataPoints&&o.minXDiff!==Number.MAX_VALUE||(o.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var o=this.w.globals,l=[],u=[];if(o.series.length)for(var f=0;f<o.series[o.maxValsInArrayIndex].length;f++)for(var p=0,_=0,m=0;m<o.series.length;m++)null!==o.series[m][f]&&fe.isNumber(o.series[m][f])&&(o.series[m][f]>0?p=p+parseFloat(o.series[m][f])+1e-4:_+=parseFloat(o.series[m][f])),m===o.series.length-1&&(l.push(p),u.push(_));for(var y=0;y<l.length;y++)o.maxY=Math.max(o.maxY,l[y]),o.minY=Math.min(o.minY,u[y])}}]),U}(),td=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.axisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===l.config.chart.type&&l.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===l.config.xaxis.position&&(this.xAxisoffX=l.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Ho(o)}return st(U,[{key:"drawYaxis",value:function(o){var l=this,u=this.w,f=new He(this.ctx),p=u.config.yaxis[o].labels.style,_=p.fontSize,m=p.fontFamily,y=p.fontWeight,w=f.group({class:"apexcharts-yaxis",rel:o,transform:"translate("+u.globals.translateYAxisX[o]+", 0)"});if(this.axesUtils.isYAxisHidden(o))return w;var S=f.group({class:"apexcharts-yaxis-texts-g"});w.add(S);var M=u.globals.yAxisScale[o].result.length-1,T=u.globals.gridHeight/M,R=u.globals.translateY,O=u.globals.yLabelFormatters[o],L=u.globals.yAxisScale[o].result.slice();L=this.axesUtils.checkForReversedLabels(o,L);var H="";if(u.config.yaxis[o].labels.show)for(var z=function(ve){var te=L[ve];te=O(te,ve,u);var Te=u.config.yaxis[o].labels.padding;u.config.yaxis[o].opposite&&0!==u.config.yaxis.length&&(Te*=-1);var Fe=l.axesUtils.getYAxisForeColor(p.colors,o),qe=f.drawText({x:Te,y:R+M/10+u.config.yaxis[o].labels.offsetY+1,text:te,textAnchor:u.config.yaxis[o].opposite?"start":"end",fontSize:_,fontFamily:m,fontWeight:y,maxWidth:u.config.yaxis[o].labels.maxWidth,foreColor:Array.isArray(Fe)?Fe[ve]:Fe,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});ve===M&&(H=qe),S.add(qe);var kt=document.createElementNS(u.globals.SVGNS,"title");if(kt.textContent=Array.isArray(te)?te.join(" "):te,qe.node.appendChild(kt),0!==u.config.yaxis[o].labels.rotate){var Pi=f.rotateAroundCenter(H.node),Zt=f.rotateAroundCenter(qe.node);qe.node.setAttribute("transform","rotate(".concat(u.config.yaxis[o].labels.rotate," ").concat(Pi.x," ").concat(Zt.y,")"))}R+=T},Y=M;Y>=0;Y--)z(Y);if(void 0!==u.config.yaxis[o].title.text){var X=f.group({class:"apexcharts-yaxis-title"}),x=0;u.config.yaxis[o].opposite&&(x=u.globals.translateYAxisX[o]);var k=f.drawText({x,y:u.globals.gridHeight/2+u.globals.translateY+u.config.yaxis[o].title.offsetY,text:u.config.yaxis[o].title.text,textAnchor:"end",foreColor:u.config.yaxis[o].title.style.color,fontSize:u.config.yaxis[o].title.style.fontSize,fontWeight:u.config.yaxis[o].title.style.fontWeight,fontFamily:u.config.yaxis[o].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[o].title.style.cssClass});X.add(k),w.add(X)}var B=u.config.yaxis[o].axisBorder,W=31+B.offsetX;if(u.config.yaxis[o].opposite&&(W=-31-B.offsetX),B.show){var K=f.drawLine(W,u.globals.translateY+B.offsetY-2,W,u.globals.gridHeight+u.globals.translateY+B.offsetY+2,B.color,0,B.width);w.add(K)}return u.config.yaxis[o].axisTicks.show&&this.axesUtils.drawYAxisTicks(W,M,B,u.config.yaxis[o].axisTicks,o,T,w),w}},{key:"drawYaxisInversed",value:function(o){var l=this.w,u=new He(this.ctx),f=u.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=u.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});f.add(p);var _=l.globals.yAxisScale[o].result.length-1,m=l.globals.gridWidth/_+.1,y=m+l.config.xaxis.labels.offsetX,w=l.globals.xLabelFormatter,S=l.globals.yAxisScale[o].result.slice(),M=l.globals.timescaleLabels;M.length>0&&(this.xaxisLabels=M.slice(),_=(S=M.slice()).length),S=this.axesUtils.checkForReversedLabels(o,S);var T=M.length;if(l.config.xaxis.labels.show)for(var R=T?0:_;T?R<T:R>=0;T?R++:R--){var O=S[R];O=w(O,R,l);var L=l.globals.gridWidth+l.globals.padHorizontal-(y-m+l.config.xaxis.labels.offsetX);if(M.length){var H=this.axesUtils.getLabel(S,M,L,R,this.drawnLabels,this.xaxisFontSize);L=H.x,O=H.text,this.drawnLabels.push(H.text),0===R&&l.globals.skipFirstTimelinelabel&&(O=""),R===S.length-1&&l.globals.skipLastTimelinelabel&&(O="")}var z=u.drawText({x:L,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[o]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add(z),z.tspan(O);var Y=document.createElementNS(l.globals.SVGNS,"title");Y.textContent=O,z.node.appendChild(Y),y+=m}return this.inversedYAxisTitleText(f),this.inversedYAxisBorder(f),f}},{key:"inversedYAxisBorder",value:function(o){var l=this.w,u=new He(this.ctx),f=l.config.xaxis.axisBorder;if(f.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var _=u.drawLine(l.globals.padHorizontal+p+f.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,f.color,0,f.height);o.add(_)}}},{key:"inversedYAxisTitleText",value:function(o){var l=this.w,u=new He(this.ctx);if(void 0!==l.config.xaxis.title.text){var f=u.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=u.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});f.add(p),o.add(f)}}},{key:"yAxisTitleRotate",value:function(o,l){var u=this.w,f=new He(this.ctx),p={width:0,height:0},_={width:0,height:0},m=u.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var y=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-title text"));if(null!==y&&(_=y.getBoundingClientRect()),null!==y){var w=this.xPaddingForYAxisTitle(o,p,_,l);y.setAttribute("x",w.xPos-(l?10:0))}if(null!==y){var S=f.rotateAroundCenter(y);y.setAttribute("transform","rotate(".concat(l?-1*u.config.yaxis[o].title.rotate:u.config.yaxis[o].title.rotate," ").concat(S.x," ").concat(S.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(o,l,u,f){var p=this.w,_=0,m=0,y=10;return void 0===p.config.yaxis[o].title.text||o<0?{xPos:m,padd:0}:(f?(m=l.width+p.config.yaxis[o].title.offsetX+u.width/2+y/2,0===(_+=1)&&(m-=y/2)):(m=-1*l.width+p.config.yaxis[o].title.offsetX+y/2+u.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[o].title.offsetX-(y=25))),{xPos:m,padd:y})}},{key:"setYAxisXPosition",value:function(o,l){var u=this.w,f=0,p=0,_=18,m=1;u.config.yaxis.length>1&&(this.multipleYs=!0),u.config.yaxis.map(function(y,w){var S=u.globals.ignoreYAxisIndexes.indexOf(w)>-1||!y.show||y.floating||0===o[w].width,M=o[w].width+l[w].width;y.opposite?u.globals.isBarHorizontal?u.globals.translateYAxisX[w]=(p=u.globals.gridWidth+u.globals.translateX-1)-y.labels.offsetX:(p=u.globals.gridWidth+u.globals.translateX+m,S||(m=m+M+20),u.globals.translateYAxisX[w]=p-y.labels.offsetX+20):(f=u.globals.translateX-_,S||(_=_+M+20),u.globals.translateYAxisX[w]=f+y.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var o=this.w,l=o.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=fe.listToArray(l)).forEach(function(u,f){var p=o.config.yaxis[f];if(p&&void 0!==p.labels.align){var _=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(f,"'] .apexcharts-yaxis-texts-g")),m=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(f,"'] .apexcharts-yaxis-label"));m=fe.listToArray(m);var y=_.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(w,S){w.setAttribute("text-anchor","start")}),p.opposite||_.setAttribute("transform","translate(-".concat(y.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(w,S){w.setAttribute("text-anchor","middle")}),_.setAttribute("transform","translate(".concat(y.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(w,S){w.setAttribute("text-anchor","end")}),p.opposite&&_.setAttribute("transform","translate(".concat(y.width,", 0)")))}})}}]),U}(),cb=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.documentEvent=fe.bind(this.documentEvent,this)}return st(U,[{key:"addEventListener",value:function(o,l){var u=this.w;u.globals.events.hasOwnProperty(o)?u.globals.events[o].push(l):u.globals.events[o]=[l]}},{key:"removeEventListener",value:function(o,l){var u=this.w;if(u.globals.events.hasOwnProperty(o)){var f=u.globals.events[o].indexOf(l);-1!==f&&u.globals.events[o].splice(f,1)}}},{key:"fireEvent",value:function(o,l){var u=this.w;if(u.globals.events.hasOwnProperty(o)){l&&l.length||(l=[]);for(var f=u.globals.events[o],p=f.length,_=0;_<p;_++)f[_].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var o=this,l=this.w,u=this.ctx,f=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){f.addEventListener(p,function(_){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===_.type||"touchmove"===_.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(_,u,m):"mouseleave"===_.type||"touchleave"===_.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(_,u,m):("mouseup"===_.type&&1===_.which||"touchend"===_.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(_,u,m),u.ctx.events.fireEvent("click",[_,u,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,o.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(o){var l=this.w,u=o.target.className;if("click"===o.type){var f=l.globals.dom.baseEl.querySelector(".apexcharts-menu");f&&f.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==u&&f.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===o.type?o.touches[0].clientX:o.clientX,l.globals.clientY="touchmove"===o.type?o.touches[0].clientY:o.clientY}}]),U}(),VD=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"setCurrentLocaleValues",value:function(o){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var u=l.filter(function(p){return p.name===o})[0];if(!u)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var f=fe.extend(Nr,u);this.w.globals.locale=f.options}}]),U}(),HD=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"drawAxis",value:function(o,l){var u,f,p=this.w.globals,_=this.w.config,m=new Pl(this.ctx),y=new td(this.ctx);p.axisCharts&&"radar"!==o&&(p.isBarHorizontal?(f=y.drawYaxisInversed(0),u=m.drawXaxisInversed(0),p.dom.elGraphical.add(u),p.dom.elGraphical.add(f)):(u=m.drawXaxis(),p.dom.elGraphical.add(u),_.yaxis.map(function(w,S){-1===p.ignoreYAxisIndexes.indexOf(S)&&(f=y.drawYaxis(S),p.dom.Paper.add(f))})))}}]),U}(),ug=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"drawXCrosshairs",value:function(){var o=this.w,l=new He(this.ctx),u=new En(this.ctx),f=o.config.xaxis.crosshairs.fill.gradient,p=o.config.xaxis.crosshairs.dropShadow,T=p.enabled,R=p.left,O=p.top,L=p.blur,H=p.color,z=p.opacity,Y=o.config.xaxis.crosshairs.fill.color;if(o.config.xaxis.crosshairs.show){"gradient"===o.config.xaxis.crosshairs.fill.type&&(Y=l.drawGradient("vertical",f.colorFrom,f.colorTo,f.opacityFrom,f.opacityTo,null,f.stops,null));var X=l.drawRect();1===o.config.xaxis.crosshairs.width&&(X=l.drawLine());var x=o.globals.gridHeight;(!fe.isNumber(x)||x<0)&&(x=0);var k=o.config.xaxis.crosshairs.width;(!fe.isNumber(k)||k<0)&&(k=0),X.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:x,width:k,height:x,fill:Y,filter:"none","fill-opacity":o.config.xaxis.crosshairs.opacity,stroke:o.config.xaxis.crosshairs.stroke.color,"stroke-width":o.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":o.config.xaxis.crosshairs.stroke.dashArray}),T&&(X=u.dropShadow(X,{left:R,top:O,blur:L,color:H,opacity:z})),o.globals.dom.elGraphical.add(X)}}},{key:"drawYCrosshairs",value:function(){var o=this.w,l=new He(this.ctx),u=o.config.yaxis[0].crosshairs,f=o.globals.barPadForNumericAxis;if(o.config.yaxis[0].crosshairs.show){var p=l.drawLine(-f,0,o.globals.gridWidth+f,0,u.stroke.color,u.stroke.dashArray,u.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),o.globals.dom.elGraphical.add(p)}var _=l.drawLine(-f,0,o.globals.gridWidth+f,0,u.stroke.color,0,0);_.attr({class:"apexcharts-ycrosshairs-hidden"}),o.globals.dom.elGraphical.add(_)}}]),U}(),Wa=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"checkResponsiveConfig",value:function(o){var l=this,u=this.w,f=u.config;if(0!==f.responsive.length){var p=f.responsive.slice();p.sort(function(w,S){return w.breakpoint>S.breakpoint?1:S.breakpoint>w.breakpoint?-1:0}).reverse();var _=new Ga({}),m=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=p[0].breakpoint,M=window.innerWidth>0?window.innerWidth:screen.width;if(M>S){var T=fn.extendArrayProps(_,u.globals.initialConfig,u);w=fe.extend(T,w),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w)}else for(var R=0;R<p.length;R++)M<p[R].breakpoint&&(w=fn.extendArrayProps(_,p[R].options,u),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w))};if(o){var y=fn.extendArrayProps(_,o,u);y=fe.extend(u.config,y),m(y=fe.extend(y,o))}else m({})}}},{key:"overrideResponsiveOptions",value:function(o){var l=new Ga(o).init({responsiveOverride:!0});this.w.config=l}}]),U}(),db=function(){function U(o){Le(this,U),this.ctx=o,this.colors=[],this.w=o.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return st(U,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var o=this,l=this.w,u=new fe;if(l.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(l.config.theme.mode)),void 0===l.config.colors?l.globals.colors=this.predefined():(l.globals.colors=l.config.colors,Array.isArray(l.config.colors)&&l.config.colors.length>0&&"function"==typeof l.config.colors[0]&&(l.globals.colors=l.config.series.map(function(R,O){var L=l.config.colors[O];return L||(L=l.config.colors[0]),"function"==typeof L?(o.isColorFn=!0,L({value:l.globals.axisCharts?l.globals.series[O][0]?l.globals.series[O][0]:0:l.globals.series[O],seriesIndex:O,dataPointIndex:O,w:l})):L}))),l.globals.seriesColors.map(function(R,O){R&&(l.globals.colors[O]=R)}),l.config.theme.monochrome.enabled){var f=[],p=l.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(p=l.globals.series[0].length*l.globals.series.length);for(var _=l.config.theme.monochrome.color,m=1/(p/l.config.theme.monochrome.shadeIntensity),y=l.config.theme.monochrome.shadeTo,w=0,S=0;S<p;S++){var M=void 0;"dark"===y?(M=u.shadeColor(-1*w,_),w+=m):(M=u.shadeColor(w,_),w+=m),f.push(M)}l.globals.colors=f.slice()}var T=l.globals.colors.slice();this.pushExtraColors(l.globals.colors),["fill","stroke"].forEach(function(R){l.globals[R].colors=void 0===l.config[R].colors?o.isColorFn?l.config.colors:T:l.config[R].colors.slice(),o.pushExtraColors(l.globals[R].colors)}),l.globals.dataLabels.style.colors=void 0===l.config.dataLabels.style.colors?T:l.config.dataLabels.style.colors.slice(),this.pushExtraColors(l.globals.dataLabels.style.colors,50),l.globals.radarPolygons.fill.colors=void 0===l.config.plotOptions.radar.polygons.fill.colors?["dark"===l.config.theme.mode?"#424242":"none"]:l.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(l.globals.radarPolygons.fill.colors,20),l.globals.markers.colors=void 0===l.config.markers.colors?T:l.config.markers.colors.slice(),this.pushExtraColors(l.globals.markers.colors)}},{key:"pushExtraColors",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this.w,p=l||f.globals.series.length;if(null===u&&(u=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===f.config.chart.type&&f.config.plotOptions.heatmap.colorScale.inverse),u&&f.globals.series.length&&(p=f.globals.series[f.globals.maxValsInArrayIndex].length*f.globals.series.length),o.length<p)for(var _=p-o.length,m=0;m<_;m++)o.push(o[m])}},{key:"updateThemeOptions",value:function(o){o.chart=o.chart||{},o.tooltip=o.tooltip||{};var l=o.theme.mode||"light",u=o.theme.palette?o.theme.palette:"dark"===l?"palette4":"palette1",f=o.chart.foreColor?o.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return o.tooltip.theme=l,o.chart.foreColor=f,o.theme.palette=u,o}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),U}(),zD=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(o){var l=this.w,u="title"===o?l.config.title:l.config.subtitle,f=l.globals.svgWidth/2,p=u.offsetY,_="middle";if("left"===u.align?(f=10,_="start"):"right"===u.align&&(f=l.globals.svgWidth-10,_="end"),f+=u.offsetX,p=p+parseInt(u.style.fontSize,10)+u.margin/2,void 0!==u.text){var m=new He(this.ctx).drawText({x:f,y:p,text:u.text,textAnchor:_,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,foreColor:u.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(o,"-text")),l.globals.dom.Paper.add(m)}}}]),U}(),ub=function(){function U(o){Le(this,U),this.w=o.w,this.dCtx=o}return st(U,[{key:"getTitleSubtitleCoords",value:function(o){var l=this.w,u=0,f=0,p="title"===o?l.config.title.floating:l.config.subtitle.floating,_=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-text"));if(null!==_&&!p){var m=_.getBoundingClientRect();u=m.width,f=l.globals.axisCharts?m.height+5:m.height}return{width:u,height:f}}},{key:"getLegendsRect",value:function(){var o=this.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-legend");o.config.legend.height||"top"!==o.config.legend.position&&"bottom"!==o.config.legend.position||(l.style.maxHeight=o.globals.svgHeight/2+"px");var u=Object.assign({},fe.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!o.config.legend.floating&&o.config.legend.show?{x:u.x,y:u.y,height:u.height,width:0===u.height?0:u.width}:{x:0,y:0,height:0,width:0},"left"!==o.config.legend.position&&"right"!==o.config.legend.position||1.5*this.dCtx.lgRect.width>o.globals.svgWidth&&(this.dCtx.lgRect.width=o.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(o,l){var u=o;if(this.w.globals.isMultiLineX){var f=l.map(function(_,m){return Array.isArray(_)?_.length:1}),p=Math.max.apply(Math,Ws(f));u=l[f.indexOf(p)]}return u}}]),U}(),GD=function(){function U(o){Le(this,U),this.w=o.w,this.dCtx=o}return st(U,[{key:"getxAxisLabelsCoords",value:function(){var o,l=this.w,u=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===u.length&&(u=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var f=this.getxAxisTimeScaleLabelsCoords();o={width:f.width,height:f.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,_=fe.getLargestStringFromArr(u),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(_,u);l.globals.isBarHorizontal&&(m=_=l.globals.yAxisScale[0].result.reduce(function(O,L){return O.length>L.length?O:L},0));var y=new wh(this.dCtx.ctx),w=_;_=y.xLabelFormat(p,_,w,{i:void 0,dateFormatter:new gi(this.dCtx.ctx).formatDate,w:l}),m=y.xLabelFormat(p,m,w,{i:void 0,dateFormatter:new gi(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===_||""===String(_).trim())&&(m=_="1");var S=new He(this.dCtx.ctx),M=S.getTextRects(_,l.config.xaxis.labels.style.fontSize),T=M;if(_!==m&&(T=S.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(o={width:M.width>=T.width?M.width:T.width,height:M.height>=T.height?M.height:T.height}).width*u.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var R=function(O){return S.getTextRects(O,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};M=R(_),_!==m&&(T=R(m)),o.height=(M.height>T.height?M.height:T.height)/1.5,o.width=M.width>T.width?M.width:T.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var o,l=this.w;if(!l.globals.hasGroups)return{width:0,height:0};var u,f=(null===(o=l.config.xaxis.group.style)||void 0===o?void 0:o.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(M){return M.title}),_=fe.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(_,p),y=new He(this.dCtx.ctx),w=y.getTextRects(_,f),S=w;return _!==m&&(S=y.getTextRects(m,f)),u={width:w.width>=S.width?w.width:S.width,height:w.height>=S.height?w.height:S.height},l.config.xaxis.labels.show||(u={width:0,height:0}),{width:u.width,height:u.height}}},{key:"getxAxisTitleCoords",value:function(){var o=this.w,l=0,u=0;if(void 0!==o.config.xaxis.title.text){var f=new He(this.dCtx.ctx).getTextRects(o.config.xaxis.title.text,o.config.xaxis.title.style.fontSize);l=f.width,u=f.height}return{width:l,height:u}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var o,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var u=this.dCtx.timescaleLabels.map(function(p){return p.value}),f=u.reduce(function(p,_){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>_.length?p:_},0);return 1.05*(o=new He(this.dCtx.ctx).getTextRects(f,l.config.xaxis.labels.style.fontSize)).width*u.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),o}},{key:"additionalPaddingXLabels",value:function(o){var l=this,u=this.w,f=u.globals,p=u.config,_=p.xaxis.type,m=o.width;f.skipLastTimelinelabel=!1,f.skipFirstTimelinelabel=!1;var y=u.config.yaxis[0].opposite&&u.globals.isBarHorizontal;p.yaxis.forEach(function(S,M){y?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(S,M){-1!==f.collapsedSeriesIndices.indexOf(M)||function(T){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var L=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>f.svgWidth-f.translateX-("right"===u.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(f.skipLastTimelinelabel=!0),L<-(T.show&&!T.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(f.skipFirstTimelinelabel=!0)}else"datetime"===_?l.dCtx.gridPad.right<m&&!f.rotateXLabels&&(f.skipLastTimelinelabel=!0):"datetime"!==_&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!f.rotateXLabels&&!u.config.xaxis.labels.trim&&("between"!==u.config.xaxis.tickPlacement||u.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(S)}(S,M)})}}]),U}(),hb=function(){function U(o){Le(this,U),this.w=o.w,this.dCtx=o}return st(U,[{key:"getyAxisLabelsCoords",value:function(){var o=this,l=this.w,u=[],f=10,p=new Ho(this.dCtx.ctx);return l.config.yaxis.map(function(_,m){var y=l.globals.yAxisScale[m],w=0;if(!p.isYAxisHidden(m)&&_.labels.show&&void 0!==_.labels.minWidth&&(w=_.labels.minWidth),!p.isYAxisHidden(m)&&_.labels.show&&y.result.length){var S=l.globals.yLabelFormatters[m],M=y.niceMin===Number.MIN_VALUE?0:y.niceMin,T=String(M).length>String(y.niceMax).length?M:y.niceMax,R=S(T,{seriesIndex:m,dataPointIndex:-1,w:l}),O=R;if(void 0!==R&&0!==R.length||(R=T),l.globals.isBarHorizontal){f=0;var L=l.globals.labels.slice();R=S(R=fe.getLargestStringFromArr(L),{seriesIndex:m,dataPointIndex:-1,w:l}),O=o.dCtx.dimHelpers.getLargestStringFromMultiArr(R,L)}var H=new He(o.dCtx.ctx),z="rotate(".concat(_.labels.rotate," 0 0)"),Y=H.getTextRects(R,_.labels.style.fontSize,_.labels.style.fontFamily,z,!1),X=Y;R!==O&&(X=H.getTextRects(O,_.labels.style.fontSize,_.labels.style.fontFamily,z,!1)),u.push({width:(w>X.width||w>Y.width?w:X.width>Y.width?X.width:Y.width)+f,height:X.height>Y.height?X.height:Y.height})}else u.push({width:0,height:0})}),u}},{key:"getyAxisTitleCoords",value:function(){var o=this,u=[];return this.w.config.yaxis.map(function(f,p){if(f.show&&void 0!==f.title.text){var _=new He(o.dCtx.ctx),m="rotate(".concat(f.title.rotate," 0 0)"),y=_.getTextRects(f.title.text,f.title.style.fontSize,f.title.style.fontFamily,m,!1);u.push({width:y.width,height:y.height})}else u.push({width:0,height:0})}),u}},{key:"getTotalYAxisWidth",value:function(){var o=this.w,l=0,u=0,f=0,p=o.globals.yAxisScale.length>1?10:0,_=new Ho(this.dCtx.ctx),m=function(y,w){var S=o.config.yaxis[w].floating,M=0;y.width>0&&!S?(M=y.width+p,o.globals.ignoreYAxisIndexes.indexOf(w)>-1&&(M=M-y.width-p)):M=S||_.isYAxisHidden(w)?0:5,o.config.yaxis[w].opposite?f+=M:u+=M,l+=M};return o.globals.yLabelsCoords.map(function(y,w){m(y,w)}),o.globals.yTitleCoords.map(function(y,w){m(y,w)}),o.globals.isBarHorizontal&&!o.config.yaxis[0].floating&&(l=o.globals.yLabelsCoords[0].width+o.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=u,this.dCtx.yAxisWidthRight=f,l}}]),U}(),UD=function(){function U(o){Le(this,U),this.w=o.w,this.dCtx=o}return st(U,[{key:"gridPadForColumnsInNumericAxis",value:function(o){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var u=function(S){return"bar"===S||"rangeBar"===S||"candlestick"===S||"boxPlot"===S},f=l.config.chart.type,p=0,_=u(f)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(_=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(S){u(S.type)&&(_-=1)}),l.config.chart.stacked&&(_=1),(u(f)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&_>0){var m,y,w=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);w<=3&&(w=l.globals.dataPoints),m=w/o,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(y=l.globals.minXDiff/m),y>o/2&&(y/=2),(p=y/_*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(_>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var o=this,l=this.w,u=l.globals,f=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){f+=void 0!==l.config[m].text?l.config[m].margin:o.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(f+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),_=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");u.gridHeight=u.gridHeight-p.height-_.height-f,u.translateY=u.translateY+p.height+_.height+f}},{key:"setGridXPosForDualYAxis",value:function(o,l){var u=this.w,f=new Ho(this.dCtx.ctx);u.config.yaxis.map(function(p,_){-1!==u.globals.ignoreYAxisIndexes.indexOf(_)||p.floating||f.isYAxisHidden(_)||(p.opposite&&(u.globals.translateX=u.globals.translateX-(l[_].width+o[_].width)-parseInt(u.config.yaxis[_].labels.style.fontSize,10)/1.2-12),u.globals.translateX<2&&(u.globals.translateX=2))})}}]),U}(),Ch=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new ub(this),this.dimYAxis=new hb(this),this.dimXAxis=new GD(this),this.dimGrid=new UD(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return st(U,[{key:"plotCoords",value:function(){var o=this,l=this.w,u=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var _=function nb(U,o){return function(l){if(Array.isArray(l))return l}(U)||function(l,u){var f=null==l?null:"undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(null!=f){var p,_,m=[],y=!0,w=!1;try{for(f=f.call(l);!(y=(p=f.next()).done)&&(m.push(p.value),!u||m.length!==u);y=!0);}catch(S){w=!0,_=S}finally{try{y||null==f.return||f.return()}finally{if(w)throw _}}return m}}(U,o)||ed(U,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o.gridPad[_[0]]=Math.max(_[1],o.w.globals.markers.largestSize/1.5)}),u.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),u.gridHeight=u.gridHeight-this.gridPad.top-this.gridPad.bottom,u.gridWidth=u.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var f=this.dimGrid.gridPadForColumnsInNumericAxis(u.gridWidth);u.gridWidth=u.gridWidth-2*f,u.translateX=u.translateX+this.gridPad.left+this.xPadLeft+(f>0?f+4:0),u.translateY=u.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var o=this,l=this.w,u=l.globals,f=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(R,O){l.globals.yLabelsCoords.push({width:f[O].width,index:O}),l.globals.yTitleCoords.push({width:p[O].width,index:O})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var _=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),y=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(_,y,m),u.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,u.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(u.rotateXLabels=!1,u.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),u.translateXAxisY=u.translateXAxisY+l.config.xaxis.labels.offsetY,u.translateXAxisX=u.translateXAxisX+l.config.xaxis.labels.offsetX;var w=this.yAxisWidth,S=this.xAxisHeight;u.xAxisLabelsHeight=this.xAxisHeight-y.height,u.xAxisGroupLabelsHeight=u.xAxisLabelsHeight-_.height,u.xAxisLabelsWidth=this.xAxisWidth,u.xAxisHeight=this.xAxisHeight;var M=10;("radar"===l.config.chart.type||this.isSparkline)&&(w=0,S=u.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(w=0,S=0,M=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(_);var T=function(){u.translateX=w,u.gridHeight=u.svgHeight-o.lgRect.height-S-(o.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),u.gridWidth=u.svgWidth-w};switch("top"===l.config.xaxis.position&&(M=u.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":u.translateY=M,T();break;case"top":u.translateY=this.lgRect.height+M,T();break;case"left":u.translateY=M,u.translateX=this.lgRect.width+w,u.gridHeight=u.svgHeight-S-12,u.gridWidth=u.svgWidth-this.lgRect.width-w;break;case"right":u.translateY=M,u.translateX=w,u.gridHeight=u.svgHeight-S-12,u.gridWidth=u.svgWidth-this.lgRect.width-w-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,f),new td(this.ctx).setYAxisXPosition(f,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var o=this.w,l=o.globals,u=o.config,f=0;o.config.legend.show&&!o.config.legend.floating&&(f=20);var p="pie"===u.chart.type||"polarArea"===u.chart.type||"donut"===u.chart.type?"pie":"radialBar",_=u.plotOptions[p].offsetY,m=u.plotOptions[p].offsetX;if(!u.legend.show||u.legend.floating)return l.gridHeight=l.svgHeight-u.grid.padding.left+u.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=_,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(u.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=_-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+_+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-f,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=_,l.translateX=m+this.lgRect.width+f;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-f-5,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=_,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(o,l,u){var f=this.w;this.xAxisHeight=(u.height+o.height+l.height)*(f.globals.isMultiLineX?1.2:f.globals.LINE_HEIGHT_RATIO)+(f.globals.hasGroups?2:1)*(f.globals.rotateXLabels?22:10)+(f.globals.rotateXLabels&&"bottom"===f.config.legend.position?10:0),this.xAxisWidth=o.width,this.xAxisHeight-l.height>f.config.xaxis.labels.maxHeight&&(this.xAxisHeight=f.config.xaxis.labels.maxHeight),f.config.xaxis.labels.minHeight&&this.xAxisHeight<f.config.xaxis.labels.minHeight&&(this.xAxisHeight=f.config.xaxis.labels.minHeight),f.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,M=0;f.config.yaxis.forEach(function(T){S+=T.labels.minWidth,M+=T.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>M&&(this.yAxisWidth=M)}}]),U}(),WD=function(){function U(o){Le(this,U),this.w=o.w,this.lgCtx=o}return st(U,[{key:"getLegendStyles",value:function(){var o=document.createElement("style");o.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return o.appendChild(l),o}},{key:"getLegendBBox",value:function(){var o=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:o.height,clww:o.width}}},{key:"appendToForeignObject",value:function(){var o=this.w.globals;o.dom.elLegendForeign=document.createElementNS(o.SVGNS,"foreignObject");var l=o.dom.elLegendForeign;l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",o.svgWidth),l.setAttribute("height",o.svgHeight),o.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),l.appendChild(o.dom.elLegendWrap),l.appendChild(this.getLegendStyles()),o.dom.Paper.node.insertBefore(l,o.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(o,l){var u=this,f=this.w;if(f.globals.axisCharts||"radialBar"===f.config.chart.type){f.globals.resized=!0;var p=null,_=null;f.globals.risingSeries=[],f.globals.axisCharts?(p=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(o,"']")),_=parseInt(p.getAttribute("data:realIndex"),10)):(p=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(o+1,"']")),_=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:f.globals.collapsedSeries,csi:f.globals.collapsedSeriesIndices},{cs:f.globals.ancillaryCollapsedSeries,csi:f.globals.ancillaryCollapsedSeriesIndices}].forEach(function(S){u.riseCollapsedSeries(S.cs,S.csi,_)}):this.hideSeries({seriesEl:p,realIndex:_})}else{var m=f.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(o+1,"'] path")),y=f.config.chart.type;if("pie"===y||"polarArea"===y||"donut"===y){var w=f.config.plotOptions.pie.donut.labels;new He(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,w)}m.fire("click")}}},{key:"hideSeries",value:function(o){var l=o.seriesEl,u=o.realIndex,f=this.w,p=fe.clone(f.config.series);if(f.globals.axisCharts){var _=!1;if(f.config.yaxis[u]&&f.config.yaxis[u].show&&f.config.yaxis[u].showAlways&&(_=!0,f.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0&&(f.globals.ancillaryCollapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),f.globals.ancillaryCollapsedSeriesIndices.push(u))),!_){f.globals.collapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),f.globals.collapsedSeriesIndices.push(u);var m=f.globals.risingSeries.indexOf(u);f.globals.risingSeries.splice(m,1)}}else f.globals.collapsedSeries.push({index:u,data:p[u]}),f.globals.collapsedSeriesIndices.push(u);for(var y=l.childNodes,w=0;w<y.length;w++)y[w].classList.contains("apexcharts-series-markers-wrap")&&(y[w].classList.contains("apexcharts-hide")?y[w].classList.remove("apexcharts-hide"):y[w].classList.add("apexcharts-hide"));f.globals.allSeriesCollapsed=f.globals.collapsedSeries.length===f.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(o,l,u){var f=this.w,p=fe.clone(f.config.series);if(o.length>0){for(var _=0;_<o.length;_++)o[_].index===u&&(f.globals.axisCharts?(p[u].data=o[_].data.slice(),o.splice(_,1),l.splice(_,1),f.globals.risingSeries.push(u)):(p[u]=o[_].data,o.splice(_,1),l.splice(_,1),f.globals.risingSeries.push(u)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(o){var l=this.w;return o.forEach(l.globals.axisCharts?function(u,f){l.globals.collapsedSeriesIndices.indexOf(f)>-1&&(o[f].data=[])}:function(u,f){l.globals.collapsedSeriesIndices.indexOf(f)>-1&&(o[f]=0)}),o}}]),U}(),fb=function(){function U(o,l){Le(this,U),this.ctx=o,this.w=o.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new WD(this)}return st(U,[{key:"init",value:function(){var o=this.w,l=o.globals,u=o.config;if((u.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&u.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),fe.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===u.legend.position||"top"===u.legend.position?this.legendAlignHorizontal():"right"!==u.legend.position&&"left"!==u.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var o=this,l=this.w,u=l.config.legend.fontFamily,f=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var _=l.config.plotOptions.heatmap.colorScale.ranges;f=_.map(function(Fe){return Fe.name?Fe.name:Fe.from+" - "+Fe.to}),p=_.map(function(Fe){return Fe.color})}else this.isBarsDistributed&&(f=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(f=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,y=l.config.legend.inverseOrder,w=y?f.length-1:0;y?w>=0:w<=f.length-1;y?w--:w++){var S=m(f[w],{seriesIndex:w,w:l}),M=!1,T=!1;if(l.globals.collapsedSeries.length>0)for(var R=0;R<l.globals.collapsedSeries.length;R++)l.globals.collapsedSeries[R].index===w&&(M=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var O=0;O<l.globals.ancillaryCollapsedSeriesIndices.length;O++)l.globals.ancillaryCollapsedSeriesIndices[O]===w&&(T=!0);var L=document.createElement("span");L.classList.add("apexcharts-legend-marker");var H=l.config.legend.markers.offsetX,z=l.config.legend.markers.offsetY,Y=l.config.legend.markers.height,X=l.config.legend.markers.width,x=l.config.legend.markers.strokeWidth,k=l.config.legend.markers.strokeColor,B=l.config.legend.markers.radius,W=L.style;W.background=p[w],W.color=p[w],W.setProperty("background",p[w],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[w]&&(W.background=l.config.legend.markers.fillColors[w]),void 0!==l.globals.seriesColors[w]&&(W.background=l.globals.seriesColors[w],W.color=l.globals.seriesColors[w]),W.height=Array.isArray(Y)?parseFloat(Y[w])+"px":parseFloat(Y)+"px",W.width=Array.isArray(X)?parseFloat(X[w])+"px":parseFloat(X)+"px",W.left=(Array.isArray(H)?parseFloat(H[w]):parseFloat(H))+"px",W.top=(Array.isArray(z)?parseFloat(z[w]):parseFloat(z))+"px",W.borderWidth=Array.isArray(x)?x[w]:x,W.borderColor=Array.isArray(k)?k[w]:k,W.borderRadius=Array.isArray(B)?parseFloat(B[w])+"px":parseFloat(B)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[w]&&(L.innerHTML=l.config.legend.markers.customHTML[w]()):L.innerHTML=l.config.legend.markers.customHTML()),He.setAttrs(L,{rel:w+1,"data:collapsed":M||T}),(M||T)&&L.classList.add("apexcharts-inactive-legend");var K=document.createElement("div"),ve=document.createElement("span");ve.classList.add("apexcharts-legend-text"),ve.innerHTML=Array.isArray(S)?S.join(" "):S;var te=l.config.legend.labels.useSeriesColors?l.globals.colors[w]:l.config.legend.labels.colors;te||(te=l.config.chart.foreColor),ve.style.color=te,ve.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",ve.style.fontWeight=l.config.legend.fontWeight,ve.style.fontFamily=u||l.config.chart.fontFamily,He.setAttrs(ve,{rel:w+1,i:w,"data:default-text":encodeURIComponent(S),"data:collapsed":M||T}),K.appendChild(L),K.appendChild(ve);var Te=new fn(this.ctx);l.config.legend.showForZeroSeries||0===Te.getSeriesTotalByIndex(w)&&Te.seriesHaveSameValues(w)&&!Te.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&K.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||Te.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&K.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(K),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),K.classList.add("apexcharts-legend-series"),K.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",He.setAttrs(K,{rel:w+1,seriesName:fe.escapeString(f[w]),"data:collapsed":M||T}),(M||T)&&K.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||K.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",o.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",o.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",o.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(o,l){var u=this.w,f=u.globals.dom.baseEl.querySelector(".apexcharts-legend"),p=f.getBoundingClientRect(),_=0,m=0;if("bottom"===u.config.legend.position)m+=u.globals.svgHeight-p.height/2;else if("top"===u.config.legend.position){var y=new Ch(this.ctx),w=y.dimHelpers.getTitleSubtitleCoords("title").height,S=y.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(w>0?w-10:0)+(S>0?S-10:0)}f.style.position="absolute",m=m+l+u.config.legend.offsetY,f.style.left=(_=_+o+u.config.legend.offsetX)+"px",f.style.top=m+"px","bottom"===u.config.legend.position?(f.style.top="auto",f.style.bottom=5-u.config.legend.offsetY+"px"):"right"===u.config.legend.position&&(f.style.left="auto",f.style.right=25+u.config.legend.offsetX+"px"),["width","height"].forEach(function(M){f.style[M]&&(f.style[M]=parseInt(u.config.legend[M],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var o=this.w;o.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var l=this.legendHelpers.getLegendBBox(),u=new Ch(this.ctx),f=u.dimHelpers.getTitleSubtitleCoords("title"),p=u.dimHelpers.getTitleSubtitleCoords("subtitle"),_=0;"bottom"===o.config.legend.position?_=-l.clwh/1.8:"top"===o.config.legend.position&&(_=f.height+p.height+o.config.title.margin+o.config.subtitle.margin-10),this.setLegendWrapXY(20,_)}},{key:"legendAlignVertical",value:function(){var o=this.w,l=this.legendHelpers.getLegendBBox(),u=0;"left"===o.config.legend.position&&(u=20),"right"===o.config.legend.position&&(u=o.globals.svgWidth-l.clww-10),this.setLegendWrapXY(u,20)}},{key:"onLegendHovered",value:function(o){var l=this.w,u=o.target.classList.contains("apexcharts-legend-text")||o.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(u){var f=parseInt(o.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,f,this.w]),new Ge(this.ctx).highlightRangeInSeries(o,o.target)}}else!o.target.classList.contains("apexcharts-inactive-legend")&&u&&new Ge(this.ctx).toggleSeriesOnHover(o,o.target)}},{key:"onLegendClick",value:function(o){var l=this.w;if(!l.config.legend.customLegendItems.length&&(o.target.classList.contains("apexcharts-legend-text")||o.target.classList.contains("apexcharts-legend-marker"))){var u=parseInt(o.target.getAttribute("rel"),10)-1,f="true"===o.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,u,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,u,this.w]);var _=this.w.config.legend.markers.onClick;"function"==typeof _&&o.target.classList.contains("apexcharts-legend-marker")&&(_(this.ctx,u,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,u,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(u,f)}}}]),U}(),id=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return st(U,[{key:"createToolbar",value:function(){var o=this,l=this.w,u=function(){return document.createElement("div")},f=u();if(f.setAttribute("class","apexcharts-toolbar"),f.style.top=l.config.chart.toolbar.offsetY+"px",f.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(f),this.elZoom=u(),this.elZoomIn=u(),this.elZoomOut=u(),this.elPan=u(),this.elSelection=u(),this.elZoomReset=u(),this.elMenuIcon=u(),this.elMenu=u(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(u());var _=[],m=function(M,T,R){var O=M.toLowerCase();o.t[O]&&l.config.chart.zoom.enabled&&_.push({el:T,icon:"string"==typeof o.t[O]?o.t[O]:R,title:o.localeValues[M],class:"apexcharts-".concat(O,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var y=function(M){o.t[M]&&l.config.chart[M].enabled&&_.push({el:"zoom"===M?o.elZoom:o.elSelection,icon:"string"==typeof o.t[M]?o.t[M]:"zoom"===M?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:o.localeValues["zoom"===M?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(M,"-icon")})};y("zoom"),y("selection"),this.t.pan&&l.config.chart.zoom.enabled&&_.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&_.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)_.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});_.forEach(function(M,T){M.index&&fe.moveIndexInArray(_,T,M.index)});for(var S=0;S<_.length;S++)He.setAttrs(_[S].el,{class:_[S].class,title:_[S].title}),_[S].el.innerHTML=_[S].icon,f.appendChild(_[S].el);this._createHamburgerMenu(f),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(o){this.elMenuItems=[],o.appendChild(this.elMenu),He.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var u=0;u<l.length;u++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[u].innerHTML=l[u].title,He.setAttrs(this.elMenuItems[u],{class:"apexcharts-menu-item ".concat(l[u].name),title:l[u].title}),this.elMenu.appendChild(this.elMenuItems[u])}},{key:"addToolbarEventListeners",value:function(){var o=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(u){u.classList.contains("exportSVG")?u.addEventListener("click",o.handleDownload.bind(o,"svg")):u.classList.contains("exportPNG")?u.addEventListener("click",o.handleDownload.bind(o,"png")):u.classList.contains("exportCSV")&&u.addEventListener("click",o.handleDownload.bind(o,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(o){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var u="selection"===o?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,f="selection"===o?"selectionEnabled":"zoomEnabled";l.w.globals[f]=!l.w.globals[f],u.classList.contains(l.ctx.toolbar.selectedClass)?u.classList.remove(l.ctx.toolbar.selectedClass):u.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var o=this.w;this.elZoom||(this.elZoom=o.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=o.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=o.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(o){this.toggleOtherControls(),"pan"===o?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===o?this.elPan:this.elZoom,u="pan"===o?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),u&&u.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(o){o.ctx.toolbar.toggleOtherControls(),o.w.globals.panEnabled=!o.w.globals.panEnabled,o.ctx.toolbar.elPan.classList.contains(o.ctx.toolbar.selectedClass)?o.ctx.toolbar.elPan.classList.remove(o.ctx.toolbar.selectedClass):o.ctx.toolbar.elPan.classList.add(o.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var o=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(u){u&&u.classList.remove(o.selectedClass)})}},{key:"handleZoomIn",value:function(){var o=this.w;o.globals.isRangeBar&&(this.minX=o.globals.minY,this.maxX=o.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);o.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var o=this.w;if(o.globals.isRangeBar&&(this.minX=o.globals.minY,this.maxX=o.globals.maxY),!("datetime"===o.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));o.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(o,l){var u=this.w.config.xaxis.convertedCatToNumeric;return{minX:u?Math.floor(o):o,maxX:u?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(o,l){var u=this.w;if(void 0!==o||void 0!==l){if(!(u.config.xaxis.convertedCatToNumeric&&(o<1&&(o=1,l=u.globals.dataPoints),l-o<2))){var f={min:o,max:l},p=this.getBeforeZoomRange(f);p&&(f=p.xaxis);var _={xaxis:f},m=fe.clone(u.globals.initialConfig.yaxis);u.config.chart.zoom.autoScaleYaxis&&(m=new Ua(this.ctx).autoScaleY(this.ctx,m,{xaxis:f})),u.config.chart.group||(_.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(_,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(f,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(o,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:o,yaxis:l})}},{key:"getBeforeZoomRange",value:function(o,l){var u=null;return"function"==typeof this.ev.beforeZoom&&(u=this.ev.beforeZoom(this,{xaxis:o,yaxis:l})),u}},{key:"toggleMenu",value:function(){var o=this;window.setTimeout(function(){o.elMenu.classList.contains("apexcharts-menu-open")?o.elMenu.classList.remove("apexcharts-menu-open"):o.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(o){var l=this.w,u=new cg(this.ctx);switch(o){case"svg":u.exportToSVG(this.ctx);break;case"png":u.exportToPng(this.ctx);break;case"csv":u.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(o){this.ctx.getSyncedCharts().forEach(function(l){var u=l.w;if(u.globals.lastXAxis.min=void 0,u.globals.lastXAxis.max=void 0,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof u.config.chart.events.beforeResetZoom){var f=u.config.chart.events.beforeResetZoom(l,u);f&&l.updateHelpers.revertDefaultAxisMinMax(f)}"function"==typeof u.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:u.config.xaxis.min,max:u.config.xaxis.max}),u.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(fe.clone(u.globals.initialSeries));l.updateHelpers._updateSeries(p,u.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),U}(),hg=function(U){Us(l,id);var o=Rl(l);function l(u){var f;return Le(this,l),(f=o.call(this,u)).ctx=u,f.w=u.w,f.dragged=!1,f.graphics=new He(f.ctx),f.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],f.clientX=0,f.clientY=0,f.startX=0,f.endX=0,f.dragX=0,f.startY=0,f.endY=0,f.dragY=0,f.moveDirection="none",f}return st(l,[{key:"init",value:function(u){var f=this,p=u.xyRatios,_=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=_.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),_.globals.dom.elGraphical.add(this.zoomRect),_.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===_.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:_.globals.gridWidth,maxY:_.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===_.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:_.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=_.globals.dom.baseEl.querySelector("".concat(_.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(y){f.hoverArea.addEventListener(y,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(u,f){var p=this.w,_=this,m=this.ctx.toolbar,y=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,w=p.config.chart.toolbar.autoSelected;if(f.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===w?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),f.target){var S,M=f.target.classList;if(f.target.parentNode&&null!==f.target.parentNode&&(S=f.target.parentNode.classList),!(M.contains("apexcharts-selection-rect")||M.contains("apexcharts-legend-marker")||M.contains("apexcharts-legend-text")||S&&S.contains("apexcharts-toolbar"))){if(_.clientX="touchmove"===f.type||"touchstart"===f.type?f.touches[0].clientX:"touchend"===f.type?f.changedTouches[0].clientX:f.clientX,_.clientY="touchmove"===f.type||"touchstart"===f.type?f.touches[0].clientY:"touchend"===f.type?f.changedTouches[0].clientY:f.clientY,"mousedown"===f.type&&1===f.which){var T=_.gridRect.getBoundingClientRect();_.startX=_.clientX-T.left,_.startY=_.clientY-T.top,_.dragged=!1,_.w.globals.mousedown=!0}if(("mousemove"===f.type&&1===f.which||"touchmove"===f.type)&&(_.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,_.w.globals.mousedown&&_.panDragging({context:_,zoomtype:y,xyRatios:u})):(_.w.globals.mousedown&&p.globals.zoomEnabled||_.w.globals.mousedown&&p.globals.selectionEnabled)&&(_.selection=_.selectionDrawing({context:_,zoomtype:y}))),"mouseup"===f.type||"touchend"===f.type||"mouseleave"===f.type){var R=_.gridRect.getBoundingClientRect();_.w.globals.mousedown&&(_.endX=_.clientX-R.left,_.endY=_.clientY-R.top,_.dragX=Math.abs(_.endX-_.startX),_.dragY=Math.abs(_.endY-_.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&_.selectionDrawn({context:_,zoomtype:y}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&_.delayedPanScrolled()),p.globals.zoomEnabled&&_.hideSelectionRect(this.selectionRect),_.dragged=!1,_.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var u=this.w;if(this.selectionRect){var f=this.selectionRect.node.getBoundingClientRect();f.width>0&&f.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var u=this.w,f=this.xyRatios;if(!u.globals.zoomEnabled)if(null!=u.globals.selection)this.drawSelectionRect(u.globals.selection);else if(void 0!==u.config.chart.selection.xaxis.min&&void 0!==u.config.chart.selection.xaxis.max){var p=(u.config.chart.selection.xaxis.min-u.globals.minX)/f.xRatio;this.drawSelectionRect({x:p,y:0,width:u.globals.gridWidth-(u.globals.maxX-u.config.chart.selection.xaxis.max)/f.xRatio-p,height:u.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof u.config.chart.events.selection&&u.config.chart.events.selection(this.ctx,{xaxis:{min:u.config.chart.selection.xaxis.min,max:u.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(u){var f=u.x,p=u.y,_=u.width,m=u.height,y=u.translateX,S=u.translateY,T=this.w,R=this.zoomRect,O=this.selectionRect;if(this.dragged||null!==T.globals.selection){var L={transform:"translate("+(void 0===y?0:y)+", "+(void 0===S?0:S)+")"};T.globals.zoomEnabled&&this.dragged&&(_<0&&(_=1),R.attr({x:f,y:p,width:_,height:m,fill:T.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":T.config.chart.zoom.zoomedArea.fill.opacity,stroke:T.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":T.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":T.config.chart.zoom.zoomedArea.stroke.opacity}),He.setAttrs(R.node,L)),T.globals.selectionEnabled&&(O.attr({x:f,y:p,width:_>0?_:0,height:m>0?m:0,fill:T.config.chart.selection.fill.color,"fill-opacity":T.config.chart.selection.fill.opacity,stroke:T.config.chart.selection.stroke.color,"stroke-width":T.config.chart.selection.stroke.width,"stroke-dasharray":T.config.chart.selection.stroke.dashArray,"stroke-opacity":T.config.chart.selection.stroke.opacity}),He.setAttrs(O.node,L))}}},{key:"hideSelectionRect",value:function(u){u&&u.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(u){var L,p=u.zoomtype,_=this.w,m=u.context,y=this.gridRect.getBoundingClientRect(),w=m.startX-1,S=m.startY,M=!1,T=!1,R=m.clientX-y.left-w,O=m.clientY-y.top-S;return Math.abs(R+w)>_.globals.gridWidth?R=_.globals.gridWidth-w:m.clientX-y.left<0&&(R=w),w>m.clientX-y.left&&(M=!0,R=Math.abs(R)),S>m.clientY-y.top&&(T=!0,O=Math.abs(O)),m.drawSelectionRect(L="x"===p?{x:M?w-R:w,y:0,width:R,height:_.globals.gridHeight}:"y"===p?{x:0,y:T?S-O:S,width:_.globals.gridWidth,height:O}:{x:M?w-R:w,y:T?S-O:S,width:R,height:O}),m.selectionDragging("resizing"),L}},{key:"selectionDragging",value:function(u,f){var p=this,_=this.w,m=this.xyRatios,y=this.selectionRect,w=0;"resizing"===u&&(w=30);var S=function(T){return parseFloat(y.node.getAttribute(T))},M={x:S("x"),y:S("y"),width:S("width"),height:S("height")};_.globals.selection=M,"function"==typeof _.config.chart.events.selection&&_.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var T=p.gridRect.getBoundingClientRect(),R=y.node.getBoundingClientRect(),O={xaxis:{min:_.globals.xAxisScale.niceMin+(R.left-T.left)*m.xRatio,max:_.globals.xAxisScale.niceMin+(R.right-T.left)*m.xRatio},yaxis:{min:_.globals.yAxisScale[0].niceMin+(T.bottom-R.bottom)*m.yRatio[0],max:_.globals.yAxisScale[0].niceMax-(R.top-T.top)*m.yRatio[0]}};_.config.chart.events.selection(p.ctx,O),_.config.chart.brush.enabled&&void 0!==_.config.chart.events.brushScrolled&&_.config.chart.events.brushScrolled(p.ctx,O)},w))}},{key:"selectionDrawn",value:function(u){var p=u.zoomtype,_=this.w,m=u.context,y=this.xyRatios,w=this.ctx.toolbar;if(m.startX>m.endX){var S=m.startX;m.startX=m.endX,m.endX=S}if(m.startY>m.endY){var M=m.startY;m.startY=m.endY,m.endY=M}var T=void 0,R=void 0;_.globals.isRangeBar?(T=_.globals.yAxisScale[0].niceMin+m.startX*y.invertedYRatio,R=_.globals.yAxisScale[0].niceMin+m.endX*y.invertedYRatio):(T=_.globals.xAxisScale.niceMin+m.startX*y.xRatio,R=_.globals.xAxisScale.niceMin+m.endX*y.xRatio);var O=[],L=[];if(_.config.yaxis.forEach(function(W,K){O.push(_.globals.yAxisScale[K].niceMax-y.yRatio[K]*m.startY),L.push(_.globals.yAxisScale[K].niceMax-y.yRatio[K]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&T!==R)if(_.globals.zoomEnabled){var H=fe.clone(_.globals.initialConfig.yaxis),z=fe.clone(_.globals.initialConfig.xaxis);if(_.globals.zoomed=!0,_.config.xaxis.convertedCatToNumeric&&(T=Math.floor(T),R=Math.floor(R),T<1&&(T=1,R=_.globals.dataPoints),R-T<2&&(R=T+1)),"xy"!==p&&"x"!==p||(z={min:T,max:R}),"xy"!==p&&"y"!==p||H.forEach(function(W,K){H[K].min=L[K],H[K].max=O[K]}),_.config.chart.zoom.autoScaleYaxis){var Y=new Ua(m.ctx);H=Y.autoScaleY(m.ctx,H,{xaxis:z})}if(w){var X=w.getBeforeZoomRange(z,H);X&&(z=X.xaxis?X.xaxis:z,H=X.yaxis?X.yaxis:H)}var x={xaxis:z};_.config.chart.group||(x.yaxis=H),m.ctx.updateHelpers._updateOptions(x,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof _.config.chart.events.zoomed&&w.zoomCallback(z,H)}else if(_.globals.selectionEnabled){var k,B=null;k={min:T,max:R},"xy"!==p&&"y"!==p||(B=fe.clone(_.config.yaxis)).forEach(function(W,K){B[K].min=L[K],B[K].max=O[K]}),_.globals.selection=m.selection,"function"==typeof _.config.chart.events.selection&&_.config.chart.events.selection(m.ctx,{xaxis:k,yaxis:B})}}},{key:"panDragging",value:function(u){var p=this.w,_=u.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-_.clientX,y=p.globals.lastClientPosition.y-_.clientY;Math.abs(m)>Math.abs(y)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(y)&&m<0?this.moveDirection="right":Math.abs(y)>Math.abs(m)&&y>0?this.moveDirection="up":Math.abs(y)>Math.abs(m)&&y<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:_.clientX,y:_.clientY},p.config.xaxis.convertedCatToNumeric||_.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var u=this.w,f=u.globals.minX,p=u.globals.maxX,_=(u.globals.maxX-u.globals.minX)/2;"left"===this.moveDirection?(f=u.globals.minX+_,p=u.globals.maxX+_):"right"===this.moveDirection&&(f=u.globals.minX-_,p=u.globals.maxX-_),f=Math.floor(f),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:f,max:p}},f,p)}},{key:"panScrolled",value:function(u,f){var p=this.w,_=this.xyRatios,m=fe.clone(p.globals.initialConfig.yaxis),y=_.xRatio,w=p.globals.minX,S=p.globals.maxX;p.globals.isRangeBar&&(y=_.invertedYRatio,w=p.globals.minY,S=p.globals.maxY),"left"===this.moveDirection?(u=w+p.globals.gridWidth/15*y,f=S+p.globals.gridWidth/15*y):"right"===this.moveDirection&&(u=w-p.globals.gridWidth/15*y,f=S-p.globals.gridWidth/15*y),p.globals.isRangeBar||(u<p.globals.initialMinX||f>p.globals.initialMaxX)&&(u=w,f=S);var M={min:u,max:f};p.config.chart.zoom.autoScaleYaxis&&(m=new Ua(this.ctx).autoScaleY(this.ctx,m,{xaxis:M}));var T={xaxis:{min:u,max:f}};p.config.chart.group||(T.yaxis=m),this.updateScrolledChart(T,u,f)}},{key:"updateScrolledChart",value:function(u,f,p){var _=this.w;this.ctx.updateHelpers._updateOptions(u,!1,!1),"function"==typeof _.config.chart.events.scrolled&&_.config.chart.events.scrolled(this.ctx,{xaxis:{min:f,max:p}})}}]),l}(),Mh=function(){function U(o){Le(this,U),this.w=o.w,this.ttCtx=o,this.ctx=o.ctx}return st(U,[{key:"getNearestValues",value:function(o){var l=o.hoverArea,f=o.clientX,p=o.clientY,_=this.w,m=o.elGrid.getBoundingClientRect(),y=m.width,w=m.height,S=y/(_.globals.dataPoints-1),M=w/_.globals.dataPoints,T=this.hasBars();!_.globals.comboCharts&&!T||_.config.xaxis.convertedCatToNumeric||(S=y/_.globals.dataPoints);var R=f-m.left-_.globals.barPadForNumericAxis,O=p-m.top;R<0||O<0||R>y||O>w?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):_.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):_.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var L=Math.round(R/S),H=Math.floor(O/M);T&&!_.config.xaxis.convertedCatToNumeric&&(L=Math.ceil(R/S),L-=1);var z=null,Y=null,X=[],x=[];if(_.globals.seriesXvalues.forEach(function(K){X.push([K[0]+1e-6].concat(K))}),_.globals.seriesYvalues.forEach(function(K){x.push([K[0]+1e-6].concat(K))}),X=X.map(function(K){return K.filter(function(ve){return fe.isNumber(ve)})}),x=x.map(function(K){return K.filter(function(ve){return fe.isNumber(ve)})}),_.globals.isXNumeric){var k=this.ttCtx.getElGrid().getBoundingClientRect(),B=R*(k.width/y);z=(Y=this.closestInMultiArray(B,O*(k.height/w),X,x)).index,L=Y.j,null!==z&&(L=(Y=this.closestInArray(B,X=_.globals.seriesXvalues[z])).index)}return _.globals.capturedSeriesIndex=null===z?-1:z,(!L||L<1)&&(L=0),_.globals.capturedDataPointIndex=_.globals.isBarHorizontal?H:L,{capturedSeries:z,j:_.globals.isBarHorizontal?H:L,hoverX:R,hoverY:O}}},{key:"closestInMultiArray",value:function(o,l,u,f){var _=0,m=null,y=-1;this.w.globals.series.length>1?_=this.getFirstActiveXArray(u):m=0;var S=Math.abs(o-u[_][0]);if(u.forEach(function(R){R.forEach(function(O,L){var H=Math.abs(o-O);H<S&&(S=H,y=L)})}),-1!==y){var T=Math.abs(l-f[_][y]);m=_,f.forEach(function(R,O){var L=Math.abs(l-R[y]);L<T&&(T=L,m=O)})}return{index:m,j:y}}},{key:"getFirstActiveXArray",value:function(o){for(var l=this.w,u=0,f=o.map(function(_,m){return _.length>0?m:-1}),p=0;p<f.length;p++)if(-1!==f[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){u=f[p];break}return u}},{key:"closestInArray",value:function(o,l){for(var f=null,p=Math.abs(o-l[0]),_=0;_<l.length;_++){var m=Math.abs(o-l[_]);m<p&&(p=m,f=_)}return{index:f}}},{key:"isXoverlap",value:function(o){var l=[],u=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(u.length>0)for(var f=0;f<u.length-1;f++)void 0!==u[f][o]&&void 0!==u[f+1][o]&&u[f][o]!==u[f+1][o]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var o=!0,l=this.w.globals.initialSeries,u=0;u<l.length-1;u++)if(l[u].data.length!==l[u+1].data.length){o=!1;break}return o}},{key:"getBarsHeight",value:function(o){return Ws(o).reduce(function(l,u){return l+u.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var o=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(o=Ws(o)).sort(function(u,f){var p=Number(u.getAttribute("data:realIndex")),_=Number(f.getAttribute("data:realIndex"));return _<p?1:_>p?-1:0});var l=[];return o.forEach(function(u){l.push(u.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(o){var l=this.w,u=l.config.markers.hover.size;return void 0===u&&(u=l.globals.markers.size[o]+l.config.markers.hover.sizeOffset),u}},{key:"toggleAllTooltipSeriesGroups",value:function(o){var l=this.w,u=this.ttCtx;0===u.allTooltipSeriesGroups.length&&(u.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var f=u.allTooltipSeriesGroups,p=0;p<f.length;p++)"enable"===o?(f[p].classList.add("apexcharts-active"),f[p].style.display=l.config.tooltip.items.display):(f[p].classList.remove("apexcharts-active"),f[p].style.display="none")}}]),U}(),fg=function(){function U(o){Le(this,U),this.w=o.w,this.ctx=o.ctx,this.ttCtx=o,this.tooltipUtil=new Mh(o)}return st(U,[{key:"drawSeriesTexts",value:function(o){var l=o.shared,u=void 0===l||l,f=o.ttItems,p=o.i,_=void 0===p?0:p,m=o.j,y=void 0===m?null:m,M=o.e,T=this.w;void 0!==T.config.tooltip.custom?this.handleCustomTooltip({i:_,j:y,y1:o.y1,y2:o.y2,w:T}):this.toggleActiveInactiveSeries(u);var R=this.getValuesToPrint({i:_,j:y});this.printLabels({i:_,j:y,values:R,ttItems:f,shared:u,e:M});var O=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=O.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=O.getBoundingClientRect().height}},{key:"printLabels",value:function(o){var l,u=this,f=o.i,p=o.j,_=o.values,m=o.ttItems,y=o.shared,w=o.e,S=this.w,M=[],T=function(k){return S.globals.seriesGoals[k]&&S.globals.seriesGoals[k][p]&&Array.isArray(S.globals.seriesGoals[k][p])},R=_.xVal,O=_.zVal,L=_.xAxisTTVal,H="",z=S.globals.colors[f];null!==p&&S.config.plotOptions.bar.distributed&&(z=S.globals.colors[p]);for(var Y=function(k,B){var W=u.getFormatters(f);H=u.getSeriesName({fn:W.yLbTitleFormatter,index:f,seriesIndex:f,j:p}),"treemap"===S.config.chart.type&&(H=W.yLbTitleFormatter(String(S.config.series[f].data[p].x),{series:S.globals.series,seriesIndex:f,dataPointIndex:p,w:S}));var K=S.config.tooltip.inverseOrder?B:k;if(S.globals.axisCharts){var ve=function(Fe){return W.yLbFormatter(S.globals.series[Fe][p],{series:S.globals.series,seriesIndex:Fe,dataPointIndex:p,w:S})};if(y)W=u.getFormatters(K),H=u.getSeriesName({fn:W.yLbTitleFormatter,index:K,seriesIndex:f,j:p}),z=S.globals.colors[K],l=ve(K),T(K)&&(M=S.globals.seriesGoals[K][p].map(function(Fe){return{attrs:Fe,val:W.yLbFormatter(Fe.value,{seriesIndex:K,dataPointIndex:p,w:S})}}));else{var te,Te=null==w||null===(te=w.target)||void 0===te?void 0:te.getAttribute("fill");Te&&(z=-1!==Te.indexOf("url")?document.querySelector(Te.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Te),l=ve(f),T(f)&&Array.isArray(S.globals.seriesGoals[f][p])&&(M=S.globals.seriesGoals[f][p].map(function(Fe){return{attrs:Fe,val:W.yLbFormatter(Fe.value,{seriesIndex:f,dataPointIndex:p,w:S})}}))}}null===p&&(l=W.yLbFormatter(S.globals.series[f],Gt(Gt({},S),{},{seriesIndex:f,dataPointIndex:f}))),u.DOMHandling({i:f,t:K,j:p,ttItems:m,values:{val:l,goalVals:M,xVal:R,xAxisTTVal:L,zVal:O},seriesName:H,shared:y,pColor:z})},X=0,x=S.globals.series.length-1;X<S.globals.series.length;X++,x--)Y(X,x)}},{key:"getFormatters",value:function(o){var l,u=this.w,f=u.globals.yLabelFormatters[o];return void 0!==u.globals.ttVal?Array.isArray(u.globals.ttVal)?(f=u.globals.ttVal[o]&&u.globals.ttVal[o].formatter,l=u.globals.ttVal[o]&&u.globals.ttVal[o].title&&u.globals.ttVal[o].title.formatter):(f=u.globals.ttVal.formatter,"function"==typeof u.globals.ttVal.title.formatter&&(l=u.globals.ttVal.title.formatter)):l=u.config.tooltip.y.title.formatter,"function"!=typeof f&&(f=u.globals.yLabelFormatters[0]?u.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:f,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(o){var f=o.seriesIndex,p=o.j,_=this.w;return(0,o.fn)(String(_.globals.seriesNames[o.index]),{series:_.globals.series,seriesIndex:f,dataPointIndex:p,w:_})}},{key:"DOMHandling",value:function(o){var l=o.t,u=o.j,f=o.ttItems,p=o.values,_=o.seriesName,m=o.shared,y=o.pColor,w=this.w,S=this.ttCtx,M=p.val,T=p.goalVals,R=p.xVal,O=p.xAxisTTVal,L=p.zVal,H=null;H=f[l].children,w.config.tooltip.fillSeriesColor&&(f[l].style.backgroundColor=y,H[0].style.display="none"),S.showTooltipTitle&&(null===S.tooltipTitle&&(S.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),S.tooltipTitle.innerHTML=R),S.isXAxisTooltipEnabled&&(S.xaxisTooltipText.innerHTML=""!==O?O:R);var z=f[l].querySelector(".apexcharts-tooltip-text-y-label");z&&(z.innerHTML=_||"");var Y=f[l].querySelector(".apexcharts-tooltip-text-y-value");Y&&(Y.innerHTML=void 0!==M?M:""),H[0]&&H[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(y=w.config.tooltip.marker.fillColors[l]),H[0].style.backgroundColor=y),w.config.tooltip.marker.show||(H[0].style.display="none");var X=f[l].querySelector(".apexcharts-tooltip-text-goals-label"),x=f[l].querySelector(".apexcharts-tooltip-text-goals-value");if(T.length&&w.globals.seriesGoals[l]){var k=function(){var B="<div >",W="<div>";T.forEach(function(K,ve){B+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(K.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(K.attrs.name,"</div>"),W+="<div>".concat(K.val,"</div>")}),X.innerHTML=B+"</div>",x.innerHTML=W+"</div>"};m?w.globals.seriesGoals[l][u]&&Array.isArray(w.globals.seriesGoals[l][u])?k():(X.innerHTML="",x.innerHTML=""):k()}else X.innerHTML="",x.innerHTML="";null!==L&&(f[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,f[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==L?L:""),m&&H[0]&&(H[0].parentNode.style.display=null==M||w.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||w.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":w.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(o){var l=this.w;if(o)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var u=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");u&&(u.classList.add("apexcharts-active"),u.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(o){var l=o.i,u=o.j,f=this.w,p=this.ctx.series.filteredSeriesX(),_="",m="",y=null,w=null,S={series:f.globals.series,seriesIndex:l,dataPointIndex:u,w:f},M=f.globals.ttZFormatter;null===u?w=f.globals.series[l]:f.globals.isXNumeric&&"treemap"!==f.config.chart.type?(_=p[l][u],0===p[l].length&&(_=p[this.tooltipUtil.getFirstActiveXArray(p)][u])):_=void 0!==f.globals.labels[u]?f.globals.labels[u]:"";var T=_;return _=f.globals.isXNumeric&&"datetime"===f.config.xaxis.type?new wh(this.ctx).xLabelFormat(f.globals.ttKeyFormatter,T,T,{i:void 0,dateFormatter:new gi(this.ctx).formatDate,w:this.w}):f.globals.isBarHorizontal?f.globals.yLabelFormatters[0](T,S):f.globals.xLabelFormatter(T,S),void 0!==f.config.tooltip.x.formatter&&(_=f.globals.ttKeyFormatter(T,S)),f.globals.seriesZ.length>0&&f.globals.seriesZ[l].length>0&&(y=M(f.globals.seriesZ[l][u],f)),m="function"==typeof f.config.xaxis.tooltip.formatter?f.globals.xaxisTooltipFormatter(T,S):_,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(_)?_.join(" "):_,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:y}}},{key:"handleCustomTooltip",value:function(o){var l=o.i,u=o.j,f=o.y1,p=o.y2,_=o.w,m=this.ttCtx.getElTooltip(),y=_.config.tooltip.custom;Array.isArray(y)&&y[l]&&(y=y[l]),m.innerHTML=y({ctx:this.ctx,series:_.globals.series,seriesIndex:l,dataPointIndex:u,y1:f,y2:p,w:_})}}]),U}(),Sh=function(){function U(o){Le(this,U),this.ttCtx=o,this.ctx=o.ctx,this.w=o.w}return st(U,[{key:"moveXCrosshairs",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.ttCtx,f=this.w,p=u.getElXCrosshairs(),_=o-u.xcrosshairsWidth/2,m=f.globals.labels.slice().length;if(null!==l&&(_=f.globals.gridWidth/m*l),null===p||f.globals.isBarHorizontal||(p.setAttribute("x",_),p.setAttribute("x1",_),p.setAttribute("x2",_),p.setAttribute("y2",f.globals.gridHeight),p.classList.add("apexcharts-active")),_<0&&(_=0),_>f.globals.gridWidth&&(_=f.globals.gridWidth),u.isXAxisTooltipEnabled){var y=_;"tickWidth"!==f.config.xaxis.crosshairs.width&&"barWidth"!==f.config.xaxis.crosshairs.width||(y=_+u.xcrosshairsWidth/2),this.moveXAxisTooltip(y)}}},{key:"moveYCrosshairs",value:function(o){var l=this.ttCtx;null!==l.ycrosshairs&&He.setAttrs(l.ycrosshairs,{y1:o,y2:o}),null!==l.ycrosshairsHidden&&He.setAttrs(l.ycrosshairsHidden,{y1:o,y2:o})}},{key:"moveXAxisTooltip",value:function(o){var l=this.w,u=this.ttCtx;if(null!==u.xaxisTooltip&&0!==u.xcrosshairsWidth){u.xaxisTooltip.classList.add("apexcharts-active");var p,f=u.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;o-=u.xaxisTooltip.getBoundingClientRect().width/2,isNaN(o)||(o+=l.globals.translateX,p=new He(this.ctx).getTextRects(u.xaxisTooltipText.innerHTML),u.xaxisTooltipText.style.minWidth=p.width+"px",u.xaxisTooltip.style.left=o+"px",u.xaxisTooltip.style.top=f+"px")}}},{key:"moveYAxisTooltip",value:function(o){var l=this.w,u=this.ttCtx;null===u.yaxisTTEls&&(u.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var f=parseInt(u.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+f,_=u.yaxisTTEls[o].getBoundingClientRect().height,m=l.globals.translateYAxisX[o]-2;l.config.yaxis[o].opposite&&(m-=26),p-=_/2,-1===l.globals.ignoreYAxisIndexes.indexOf(o)?(u.yaxisTTEls[o].classList.add("apexcharts-active"),u.yaxisTTEls[o].style.top=p+"px",u.yaxisTTEls[o].style.left=m+l.config.yaxis[o].tooltip.offsetX+"px"):u.yaxisTTEls[o].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this.w,p=this.ttCtx,_=p.getElTooltip(),m=p.tooltipRect,y=null!==u?parseFloat(u):1,w=parseFloat(o)+y+5,S=parseFloat(l)+y/2;if(w>f.globals.gridWidth/2&&(w=w-m.ttWidth-y-10),w>f.globals.gridWidth-m.ttWidth-10&&(w=f.globals.gridWidth-m.ttWidth),w<-20&&(w=-20),f.config.tooltip.followCursor){var M=p.getElGrid(),T=M.getBoundingClientRect();S=p.e.clientY+f.globals.translateY-T.top-m.ttHeight/2}else f.globals.isBarHorizontal||(m.ttHeight/2+S>f.globals.gridHeight&&(S=f.globals.gridHeight-m.ttHeight+f.globals.translateY),S<0&&(S=0));isNaN(w)||(_.style.left=(w+=f.globals.translateX)+"px",_.style.top=S+"px")}},{key:"moveMarkers",value:function(o,l){var u=this.w,f=this.ttCtx;if(u.globals.markers.size[o]>0)for(var p=u.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(o,"'] .apexcharts-marker")),_=0;_<p.length;_++)parseInt(p[_].getAttribute("rel"),10)===l&&(f.marker.resetPointsSize(),f.marker.enlargeCurrentPoint(l,p[_]));else f.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,o)}},{key:"moveDynamicPointOnHover",value:function(o,l){var u,f,p=this.w,_=this.ttCtx,m=p.globals.pointsArray,y=_.tooltipUtil.getHoverMarkerSize(l),w=p.config.series[l].type;if(!w||"column"!==w&&"candlestick"!==w&&"boxPlot"!==w){u=m[l][o][0],f=m[l][o][1]?m[l][o][1]:0;var S=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));S&&f<p.globals.gridHeight&&f>0&&(S.setAttribute("r",y),S.setAttribute("cx",u),S.setAttribute("cy",f)),this.moveXCrosshairs(u),_.fixedTooltip||this.moveTooltip(u,f,y)}}},{key:"moveDynamicPointsOnHover",value:function(o){var l,u=this.ttCtx,f=u.w,p=0,_=0,m=f.globals.pointsArray;l=new Ge(this.ctx).getActiveConfigSeriesIndex(!0);var y=u.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][o][0],_=m[l][o][1]);var w=u.tooltipUtil.getAllMarkers();if(null!==w)for(var S=0;S<f.globals.series.length;S++){var M=m[S];if(f.globals.comboCharts&&void 0===M&&w.splice(S,0,null),M&&M.length){var T=m[S][o][1];w[S].setAttribute("cx",p),null!==T&&!isNaN(T)&&T<f.globals.gridHeight+y&&T+y>0?(w[S]&&w[S].setAttribute("r",y),w[S]&&w[S].setAttribute("cy",T)):w[S]&&w[S].setAttribute("r",0)}}this.moveXCrosshairs(p),u.fixedTooltip||this.moveTooltip(p,_||f.globals.gridHeight,y)}},{key:"moveStickyTooltipOverBars",value:function(o){var l=this.w,u=this.ttCtx,f=l.globals.columnSeries?l.globals.columnSeries.length:l.globals.series.length,p=f>=2&&f%2==0?Math.floor(f/2):Math.floor(f/2)+1;l.globals.isBarHorizontal&&(p=new Ge(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var _=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(p,"'] path[j='").concat(o,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"']")),m=_?parseFloat(_.getAttribute("cx")):0,y=_?parseFloat(_.getAttribute("cy")):0,w=_?parseFloat(_.getAttribute("barWidth")):0,S=_?parseFloat(_.getAttribute("barHeight")):0,M=u.getElGrid().getBoundingClientRect(),T=_.classList.contains("apexcharts-candlestick-area")||_.classList.contains("apexcharts-boxPlot-area");l.globals.isXNumeric?(_&&!T&&(m-=f%2!=0?w/2:0),_&&T&&l.globals.comboCharts&&(m-=w/2)):l.globals.isBarHorizontal||(m=u.xAxisTicksPositions[o-1]+u.dataPointsDividedWidth/2,isNaN(m)&&(m=u.xAxisTicksPositions[o]-u.dataPointsDividedWidth/2)),l.globals.isBarHorizontal?(y>l.globals.gridHeight/2&&(y-=u.tooltipRect.ttHeight),(y=y+l.config.grid.padding.top+S/3)+S>l.globals.gridHeight&&(y=l.globals.gridHeight-S)):l.config.tooltip.followCursor?y=u.e.clientY-M.top-u.tooltipRect.ttHeight/2:y+u.tooltipRect.ttHeight+15>l.globals.gridHeight&&(y=l.globals.gridHeight),y<-10&&(y=-10),l.globals.isBarHorizontal||this.moveXCrosshairs(m),u.fixedTooltip||this.moveTooltip(m,y||l.globals.gridHeight)}}]),U}(),pb=function(){function U(o){Le(this,U),this.w=o.w,this.ttCtx=o,this.ctx=o.ctx,this.tooltipPosition=new Sh(o)}return st(U,[{key:"drawDynamicPoints",value:function(){var o=this.w,l=new He(this.ctx),u=new Bo(this.ctx),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series");f=Ws(f),o.config.chart.stacked&&f.sort(function(M,T){return parseFloat(M.getAttribute("data:realIndex"))-parseFloat(T.getAttribute("data:realIndex"))});for(var p=0;p<f.length;p++){var _=f[p].querySelector(".apexcharts-series-markers-wrap");if(null!==_){var m=void 0,y="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(y+=" no-pointer-events");var w=u.getMarkerConfig({cssClass:y,seriesIndex:Number(_.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var S=document.createElementNS(o.globals.SVGNS,"g");S.classList.add("apexcharts-series-markers"),S.appendChild(m.node),_.appendChild(S)}}}},{key:"enlargeCurrentPoint",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(o,l);var _=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==u&&null!==f&&(_=u,m=f),this.tooltipPosition.moveXCrosshairs(_),!this.fixedTooltip){if("radar"===p.config.chart.type){var y=this.ttCtx.getElGrid(),w=y.getBoundingClientRect();_=this.ttCtx.e.clientX-w.left}this.tooltipPosition.moveTooltip(_,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(o){for(var l=this.w,u=this,f=this.ttCtx,p=o,_=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,y=0;y<_.length;y++){var w=_[y].getAttribute("rel"),S=_[y].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[S]+l.config.markers.hover.sizeOffset),p===parseInt(w,10)){u.newPointSize(p,_[y]);var M=_[y].getAttribute("cx"),T=_[y].getAttribute("cy");u.tooltipPosition.moveXCrosshairs(M),f.fixedTooltip||u.tooltipPosition.moveTooltip(M,T,m)}else u.oldPointSize(_[y])}}},{key:"newPointSize",value:function(o,l){var u=this.w,f=u.config.markers.hover.size,p=0===o?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var _=parseInt(p.getAttribute("index"),10);void 0===f&&(f=u.globals.markers.size[_]+u.config.markers.hover.sizeOffset),f<0&&(f=0),p.setAttribute("r",f)}}},{key:"oldPointSize",value:function(o){var l=parseFloat(o.getAttribute("default-marker-size"));o.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var o=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<o.length;l++){var u=parseFloat(o[l].getAttribute("default-marker-size"));fe.isNumber(u)&&u>=0?o[l].setAttribute("r",u):o[l].setAttribute("r",0)}}}]),U}(),pg=function(){function U(o){Le(this,U),this.w=o.w,this.ttCtx=o}return st(U,[{key:"getAttr",value:function(o,l){return parseFloat(o.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(o){var l=o.e,u=o.opt,f=o.x,p=o.y,m=this.ttCtx,y=this.w;if(l.target.classList.contains("apexcharts-".concat(o.type,"-rect"))){var w=this.getAttr(l,"i"),S=this.getAttr(l,"j"),M=this.getAttr(l,"cx"),T=this.getAttr(l,"cy"),R=this.getAttr(l,"width"),O=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:w,j:S,shared:!1,e:l}),y.globals.capturedSeriesIndex=w,y.globals.capturedDataPointIndex=S,f=M+m.tooltipRect.ttWidth/2+R,p=T+m.tooltipRect.ttHeight/2-O/2,m.tooltipPosition.moveXCrosshairs(M+R/2),f>y.globals.gridWidth/2&&(f=M-m.tooltipRect.ttWidth/2+R),m.w.config.tooltip.followCursor){var L=y.globals.dom.elWrap.getBoundingClientRect();f=y.globals.clientX-L.left-(f>y.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=y.globals.clientY-L.top-(p>y.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:f,y:p}}},{key:"handleMarkerTooltip",value:function(o){var l,u,f=o.e,p=o.opt,_=o.x,m=o.y,y=this.w,w=this.ttCtx;if(f.target.classList.contains("apexcharts-marker")){var S=parseInt(p.paths.getAttribute("cx"),10),M=parseInt(p.paths.getAttribute("cy"),10),T=parseFloat(p.paths.getAttribute("val"));if(u=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var R=fe.findAncestor(p.paths,"apexcharts-series");R&&(l=parseInt(R.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:u,shared:!w.showOnIntersect&&y.config.tooltip.shared,e:f}),"mouseup"===f.type&&w.markerClick(f,l,u),y.globals.capturedSeriesIndex=l,y.globals.capturedDataPointIndex=u,_=S,m=M+y.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var O=w.getElGrid().getBoundingClientRect();m=w.e.clientY+y.globals.translateY-O.top}T<0&&(m=M),w.marker.enlargeCurrentPoint(u,p.paths,_,m)}return{x:_,y:m}}},{key:"handleBarTooltip",value:function(o){var l,u,f=o.e,p=o.opt,_=this.w,m=this.ttCtx,y=m.getElTooltip(),w=0,S=0,M=0,T=this.getBarTooltipXY({e:f,opt:p}),R=T.barHeight,O=T.j;_.globals.capturedSeriesIndex=l=T.i,_.globals.capturedDataPointIndex=O,_.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!_.config.tooltip.shared?(S=T.x,M=T.y,u=Array.isArray(_.config.stroke.width)?_.config.stroke.width[l]:_.config.stroke.width,w=S):_.globals.comboCharts||_.config.tooltip.shared||(w/=2),isNaN(M)?M=_.globals.svgHeight-m.tooltipRect.ttHeight:M<0&&(M=0);var L=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),H=_.globals.isMultipleYAxis?_.config.yaxis[L]&&_.config.yaxis[L].reversed:_.config.yaxis[0].reversed;if(S+m.tooltipRect.ttWidth>_.globals.gridWidth&&!H?S-=m.tooltipRect.ttWidth:S<0&&(S=0),m.w.config.tooltip.followCursor){var z=m.getElGrid().getBoundingClientRect();M=m.e.clientY-z.top}null===m.tooltip&&(m.tooltip=_.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),_.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(_.globals.comboBarCount>0?w+u/2:w),!m.fixedTooltip&&(!_.config.tooltip.shared||_.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(H&&(S-=m.tooltipRect.ttWidth)<0&&(S=0),!H||_.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(M=M+R-2*(_.globals.series[l][O]<0?R:0)),m.tooltipRect.ttHeight+M>_.globals.gridHeight?M=_.globals.gridHeight-m.tooltipRect.ttHeight+_.globals.translateY:(M=M+_.globals.translateY-m.tooltipRect.ttHeight/2)<0&&(M=0),y.style.left=S+_.globals.translateX+"px",y.style.top=M+"px")}},{key:"getBarTooltipXY",value:function(o){var l=o.e,u=o.opt,f=this.w,p=null,_=this.ttCtx,m=0,y=0,w=0,S=0,M=0,T=l.target.classList;if(T.contains("apexcharts-bar-area")||T.contains("apexcharts-candlestick-area")||T.contains("apexcharts-boxPlot-area")||T.contains("apexcharts-rangebar-area")){var R=l.target,O=R.getBoundingClientRect(),L=u.elGrid.getBoundingClientRect(),H=O.height;M=O.height;var z=O.width,Y=parseInt(R.getAttribute("cx"),10),X=parseInt(R.getAttribute("cy"),10);S=parseFloat(R.getAttribute("barWidth"));var x="touchmove"===l.type?l.touches[0].clientX:l.clientX;p=parseInt(R.getAttribute("j"),10),m=parseInt(R.parentNode.getAttribute("rel"),10)-1;var k=R.getAttribute("data-range-y1"),B=R.getAttribute("data-range-y2");f.globals.comboCharts&&(m=parseInt(R.parentNode.getAttribute("data:realIndex"),10)),_.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:m,j:p,y1:k?parseInt(k,10):null,y2:B?parseInt(B,10):null,shared:!_.showOnIntersect&&f.config.tooltip.shared,e:l}),f.config.tooltip.followCursor?f.globals.isBarHorizontal?(y=x-L.left+15,w=X-_.dataPointsDividedHeight+H/2-_.tooltipRect.ttHeight/2):(y=f.globals.isXNumeric?Y-z/2:Y-_.dataPointsDividedWidth+z/2,w=l.clientY-L.top-_.tooltipRect.ttHeight/2-15):f.globals.isBarHorizontal?((y=Y)<_.xyRatios.baseLineInvertedY&&(y=Y-_.tooltipRect.ttWidth),w=X-_.dataPointsDividedHeight+H/2-_.tooltipRect.ttHeight/2):(y=f.globals.isXNumeric?Y-z/2:Y-_.dataPointsDividedWidth+z/2,w=X)}return{x:y,y:w,barHeight:M,barWidth:S,i:m,j:p}}}]),U}(),gg=function(){function U(o){Le(this,U),this.w=o.w,this.ttCtx=o}return st(U,[{key:"drawXaxisTooltip",value:function(){var o=this.w,l=this.ttCtx,u="bottom"===o.config.xaxis.position;l.xaxisOffY=u?o.globals.gridHeight+1:-o.globals.xAxisHeight-o.config.xaxis.axisTicks.height+3;var f=u?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=o.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===o.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",f+" apexcharts-theme-"+o.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=o.config.xaxis.tooltip.style.fontFamily||o.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=o.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var o=this.w,l=this.ttCtx,u=function(p){var _=o.config.yaxis[p].opposite||o.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=_?o.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,_?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");o.globals.yAxisSameScaleIndices.map(function(w,S){w.map(function(M,T){T===p&&(m+=o.config.yaxis[T].show?" ":" apexcharts-yaxistooltip-hidden")})});var y=o.globals.dom.elWrap;null===o.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+o.config.tooltip.theme),y.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},f=0;f<o.config.yaxis.length;f++)u(f)}},{key:"setXCrosshairWidth",value:function(){var o=this.w,l=this.ttCtx,u=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(o.config.xaxis.crosshairs.width,10),o.globals.comboCharts){var f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==f&&"barWidth"===o.config.xaxis.crosshairs.width){var p=parseFloat(f.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===o.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=o.globals.gridWidth/o.globals.labels.length)}else if("tickWidth"===o.config.xaxis.crosshairs.width)l.xcrosshairsWidth=o.globals.gridWidth/o.globals.labels.length;else if("barWidth"===o.config.xaxis.crosshairs.width){var y=o.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==y){var w=parseFloat(y.getAttribute("barWidth"));l.xcrosshairsWidth=w}else l.xcrosshairsWidth=1}o.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==u&&l.xcrosshairsWidth>0&&u.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var o=this.w,l=this.ttCtx;l.ycrosshairs=o.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=o.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(o,l,u){var f=this.ttCtx,p=this.w,_=p.globals.yLabelFormatters[o];if(f.yaxisTooltips[o]){var m=f.getElGrid().getBoundingClientRect(),S=p.globals.minYArr[o]+(p.globals.maxYArr[o]-p.globals.minYArr[o]-(l-m.top)*u.yRatio[o]);f.tooltipPosition.moveYCrosshairs(l-m.top),f.yaxisTooltipText[o].innerHTML=_(S),f.tooltipPosition.moveYAxisTooltip(o)}}}]),U}(),mg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new Mh(this),this.tooltipLabels=new fg(this),this.tooltipPosition=new Sh(this),this.marker=new pb(this),this.intersect=new pg(this),this.axesTooltip=new gg(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return st(U,[{key:"getElTooltip",value:function(o){return o||(o=this),o.w.globals.dom.baseEl?o.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(o){var l=this.w;this.xyRatios=o,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(_,m){return!!(_.show&&_.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var u=document.createElement("div");if(u.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&u.classList.add(l.config.tooltip.cssClass),u.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(u),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var f=new Pl(this.ctx);this.xAxisTicksPositions=f.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,u.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(o){for(var l=this,u=this.w,f=[],p=this.getElTooltip(),_=function(y){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group"),w.style.order=u.config.tooltip.inverseOrder?o-y:y+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(y)<0&&w.classList.add("apexcharts-tooltip-series-group-hidden");var S=document.createElement("span");S.classList.add("apexcharts-tooltip-marker"),S.style.backgroundColor=u.globals.colors[y],w.appendChild(S);var M=document.createElement("div");M.classList.add("apexcharts-tooltip-text"),M.style.fontFamily=l.tConfig.style.fontFamily||u.config.chart.fontFamily,M.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(T){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-".concat(T,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(T,"-label")),R.appendChild(O);var L=document.createElement("span");L.classList.add("apexcharts-tooltip-text-".concat(T,"-value")),R.appendChild(L),M.appendChild(R)}),w.appendChild(M),p.appendChild(w),f.push(w)},m=0;m<o;m++)_(m);return f}},{key:"addSVGEvents",value:function(){var o=this.w,l=o.config.chart.type,u=this.getElTooltip(),f=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,_=o.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var y,w=[],S=[],M={hoverArea:_,elGrid:m,tooltipEl:u,tooltipY:w,tooltipX:S,ttItems:this.ttItems};if(o.globals.axisCharts&&(p?y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):f?y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),y&&y.length))for(var T=0;T<y.length;T++)w.push(y[T].getAttribute("cy")),S.push(y[T].getAttribute("cx"));if(o.globals.xyCharts&&!this.showOnIntersect||o.globals.comboCharts&&!this.showOnIntersect||f&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([_],M);else if(f&&!o.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(M);else if(!o.globals.axisCharts||"heatmap"===l||"treemap"===l){var R=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(R,M)}if(this.showOnIntersect){var O=o.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");O.length>0&&this.addPathsEventListeners(O,M),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(M)}}},{key:"drawFixedTooltipRect",value:function(){var o=this.w,l=this.getElTooltip(),u=l.getBoundingClientRect(),f=u.width+10,p=u.height+10,_=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,y=this.tConfig.fixed.position.toLowerCase();return y.indexOf("right")>-1&&(_=_+o.globals.svgWidth-f+10),y.indexOf("bottom")>-1&&(m=m+o.globals.svgHeight-p-10),l.style.left=_+"px",l.style.top=m+"px",{x:_,y:m,ttWidth:f,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(o){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,o)}},{key:"addPathsEventListeners",value:function(o,l){for(var u=this,f=function(_){var m={paths:o[_],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(y){return o[_].addEventListener(y,u.onSeriesHover.bind(u,m),{capture:!1,passive:!0})})},p=0;p<o.length;p++)f(p)}},{key:"onSeriesHover",value:function(o,l){var u=this,f=Date.now()-this.lastHoverTime;f>=100?this.seriesHover(o,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){u.seriesHover(o,l)},100-f))}},{key:"seriesHover",value:function(o,l){var u=this;this.lastHoverTime=Date.now();var f=[],p=this.w;p.config.chart.group&&(f=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(f.length?f.forEach(function(_){var m=u.getElTooltip(_);_.w.globals.minX===u.w.globals.minX&&_.w.globals.maxX===u.w.globals.maxX&&_.w.globals.tooltip.seriesHoverByContext({chartCtx:_,ttCtx:_.w.globals.tooltip,opt:{paths:o.paths,tooltipEl:m,tooltipY:o.tooltipY,tooltipX:o.tooltipX,elGrid:o.elGrid,hoverArea:o.hoverArea,ttItems:_.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:o,e:l}))}},{key:"seriesHoverByContext",value:function(o){var l=o.chartCtx,u=o.ttCtx,f=o.opt,p=o.e,_=l.w,m=this.getElTooltip();m&&(u.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},u.e=p,u.tooltipUtil.hasBars()&&!_.globals.comboCharts&&!u.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ge(l).toggleSeriesOnHover(p,p.target.parentNode),u.fixedTooltip&&u.drawFixedTooltipRect(),_.globals.axisCharts?u.axisChartsTooltips({e:p,opt:f,tooltipRect:u.tooltipRect}):u.nonAxisChartsTooltips({e:p,opt:f,tooltipRect:u.tooltipRect}))}},{key:"axisChartsTooltips",value:function(o){var l,u,f=o.e,p=o.opt,_=this.w,m=p.elGrid.getBoundingClientRect(),y="touchmove"===f.type?f.touches[0].clientX:f.clientX,w="touchmove"===f.type?f.touches[0].clientY:f.clientY;if(this.clientY=w,this.clientX=y,_.globals.capturedSeriesIndex=-1,_.globals.capturedDataPointIndex=-1,w<m.top||w>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!_.config.tooltip.shared){var S=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(S)<0)return void this.handleMouseOut(p)}var M=this.getElTooltip(),T=this.getElXCrosshairs(),R=_.globals.xyCharts||"bar"===_.config.chart.type&&!_.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||_.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===f.type||"touchmove"===f.type||"mouseup"===f.type){if(_.globals.collapsedSeries.length+_.globals.ancillaryCollapsedSeries.length===_.globals.series.length)return;null!==T&&T.classList.add("apexcharts-active");var O=this.yaxisTooltips.filter(function(z){return!0===z});if(null!==this.ycrosshairs&&O.length&&this.ycrosshairs.classList.add("apexcharts-active"),R&&!this.showOnIntersect)this.handleStickyTooltip(f,y,w,p);else if("heatmap"===_.config.chart.type||"treemap"===_.config.chart.type){var L=this.intersect.handleHeatTreeTooltip({e:f,opt:p,x:l,y:u,type:_.config.chart.type});u=L.y,M.style.left=(l=L.x)+"px",M.style.top=u+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:f,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:f,opt:p,x:l,y:u});if(this.yaxisTooltips.length)for(var H=0;H<_.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,w,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==f.type&&"touchend"!==f.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(o){var l=o.e,u=o.opt,f=o.tooltipRect,p=this.w,_=u.paths.getAttribute("rel"),m=this.getElTooltip(),y=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:parseInt(_,10)-1,shared:!1});var S=p.globals.clientY-y.top-f.ttHeight-10;if(m.style.left=p.globals.clientX-y.left-f.ttWidth/2+"px",m.style.top=S+"px",p.config.legend.tooltipHoverFormatter){var M=_-1,T=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[M].getAttribute("data:default-text"),{seriesIndex:M,dataPointIndex:M,w:p});this.legendLabels[M].innerHTML=T}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(R){var O=R.getAttribute("data:default-text");R.innerHTML=decodeURIComponent(O)}))}},{key:"handleStickyTooltip",value:function(o,l,u,f){var p=this.w,_=this.tooltipUtil.getNearestValues({context:this,hoverArea:f.hoverArea,elGrid:f.elGrid,clientX:l,clientY:u}),m=_.j,y=_.capturedSeries,w=f.elGrid.getBoundingClientRect();_.hoverX<0||_.hoverX>w.width?this.handleMouseOut(f):null!==y?this.handleStickyCapturedSeries(o,y,f,m):(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal)&&this.create(o,this,0,m,f.ttItems)}},{key:"handleStickyCapturedSeries",value:function(o,l,u,f){var p=this.w;this.tConfig.shared||null!==p.globals.series[l][f]?void 0!==p.globals.series[l][f]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(f)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(o,this,l,f,u.ttItems):this.create(o,this,l,f,u.ttItems,!1):this.tooltipUtil.isXoverlap(f)&&this.create(o,this,0,f,u.ttItems):this.handleMouseOut(u)}},{key:"deactivateHoverFilter",value:function(){for(var o=this.w,l=new He(this.ctx),u=o.globals.dom.Paper.select(".apexcharts-bar-area"),f=0;f<u.length;f++)l.pathMouseLeave(u[f])}},{key:"handleMouseOut",value:function(o){var l=this.w,u=this.getElXCrosshairs();if(o.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==u&&u.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var f=0;f<this.yaxisTTEls.length;f++)this.yaxisTTEls[f].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var _=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(_)})}},{key:"markerClick",value:function(o,l,u){var f=this.w;"function"==typeof f.config.chart.events.markerClick&&f.config.chart.events.markerClick(o,this.ctx,{seriesIndex:l,dataPointIndex:u,w:f}),this.ctx.events.fireEvent("markerClick",[o,this.ctx,{seriesIndex:l,dataPointIndex:u,w:f}])}},{key:"create",value:function(o,l,u,f,p){var _=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,m=this.w,y=l;"mouseup"===o.type&&this.markerClick(o,u,f),null===_&&(_=this.tConfig.shared);var w=this.tooltipUtil.hasMarkers(),S=this.tooltipUtil.getElBars();if(m.config.legend.tooltipHoverFormatter){var M=m.config.legend.tooltipHoverFormatter,T=Array.from(this.legendLabels);T.forEach(function(k){var B=k.getAttribute("data:default-text");k.innerHTML=decodeURIComponent(B)});for(var R=0;R<T.length;R++){var O=T[R],L=parseInt(O.getAttribute("i"),10),H=decodeURIComponent(O.getAttribute("data:default-text")),z=M(H,{seriesIndex:_?L:u,dataPointIndex:f,w:m});if(_)O.innerHTML=m.globals.collapsedSeriesIndices.indexOf(L)<0?z:H;else if(O.innerHTML=L===u?z:H,u===L)break}}if(_){if(y.tooltipLabels.drawSeriesTexts({ttItems:p,i:u,j:f,shared:!this.showOnIntersect&&this.tConfig.shared}),w&&(m.globals.markers.largestSize>0?y.marker.enlargePoints(f):y.tooltipPosition.moveDynamicPointsOnHover(f)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(S),this.barSeriesHeight>0)){var Y=new He(this.ctx),X=m.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(f,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(f);for(var x=0;x<X.length;x++)Y.pathMouseEnter(X[x])}}else y.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:p,i:u,j:f}),this.tooltipUtil.hasBars()&&y.tooltipPosition.moveStickyTooltipOverBars(f),w&&y.tooltipPosition.moveMarkers(u,f)}}]),U}(),Dh=function(U){Us(l,za);var o=Rl(l);function l(){return Le(this,l),o.apply(this,arguments)}return st(l,[{key:"draw",value:function(u,f){var p=this,_=this.w;this.graphics=new He(this.ctx),this.bar=new za(this.ctx,this.xyRatios);var m=new fn(this.ctx,_);u=m.getLogSeries(u),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u),"100%"===_.config.chart.stackType&&(u=_.globals.seriesPercent.slice()),this.series=u,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var y=0;y<u.length;y++)u[y].length>0&&(this.totalItems+=u[y].length);for(var w=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),S=0,M=0,T=function(L,H){var z=void 0,Y=void 0,X=void 0,x=void 0,k=[],B=[],W=_.globals.comboCharts?f[L]:L;p.yRatio.length>1&&(p.yaxisIndex=W),p.isReversed=_.config.yaxis[p.yaxisIndex]&&_.config.yaxis[p.yaxisIndex].reversed;var K=p.graphics.group({class:"apexcharts-series",seriesName:fe.escapeString(_.globals.seriesNames[W]),rel:L+1,"data:realIndex":W});p.ctx.series.addCollapsedClassToSeries(K,W);var ve=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":W}),te=0,Te=0,Fe=p.initialPositions(S,M,z,Y,X,x);M=Fe.y,te=Fe.barHeight,Y=Fe.yDivision,x=Fe.zeroW,S=Fe.x,Te=Fe.barWidth,z=Fe.xDivision,X=Fe.zeroH,p.yArrj=[],p.yArrjF=[],p.yArrjVal=[],p.xArrj=[],p.xArrjF=[],p.xArrjVal=[],1===p.prevY.length&&p.prevY[0].every(function(ps){return isNaN(ps)})&&(p.prevY[0]=p.prevY[0].map(function(ps){return X}),p.prevYF[0]=p.prevYF[0].map(function(ps){return 0}));for(var qe=0;qe<_.globals.dataPoints;qe++){var kt=p.barHelpers.getStrokeWidth(L,qe,W),Pi={indexes:{i:L,j:qe,realIndex:W,bc:H},strokeWidth:kt,x:S,y:M,elSeries:K},Zt=null;p.isHorizontal?(Zt=p.drawStackedBarPaths(Gt(Gt({},Pi),{},{zeroW:x,barHeight:te,yDivision:Y})),Te=p.series[L][qe]/p.invertedYRatio):(Zt=p.drawStackedColumnPaths(Gt(Gt({},Pi),{},{xDivision:z,barWidth:Te,zeroH:X})),te=p.series[L][qe]/p.yRatio[p.yaxisIndex]),M=Zt.y,k.push(S=Zt.x),B.push(M);var cs=p.barHelpers.getPathFillColor(u,L,qe,W);K=p.renderSeries({realIndex:W,pathFill:cs,j:qe,i:L,pathFrom:Zt.pathFrom,pathTo:Zt.pathTo,strokeWidth:kt,elSeries:K,x:S,y:M,series:u,barHeight:te,barWidth:Te,elDataLabelsWrap:ve,type:"bar",visibleSeries:0})}_.globals.seriesXvalues[W]=k,_.globals.seriesYvalues[W]=B,p.prevY.push(p.yArrj),p.prevYF.push(p.yArrjF),p.prevYVal.push(p.yArrjVal),p.prevX.push(p.xArrj),p.prevXF.push(p.xArrjF),p.prevXVal.push(p.xArrjVal),w.add(K)},R=0,O=0;R<u.length;R++,O++)T(R,O);return w}},{key:"initialPositions",value:function(u,f,p,_,m,y){var w,S,M=this.w;return this.isHorizontal?(w=(w=_=M.globals.gridHeight/M.globals.dataPoints)*parseInt(M.config.plotOptions.bar.barHeight,10)/100,y=this.baseLineInvertedY+M.globals.padHorizontal+(this.isReversed?M.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),f=(_-w)/2):(S=p=M.globals.gridWidth/M.globals.dataPoints,S=M.globals.isXNumeric&&M.globals.dataPoints>1?(p=M.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:S*parseInt(M.config.plotOptions.bar.columnWidth,10)/100,m=this.baseLineY[this.yaxisIndex]+(this.isReversed?M.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),u=M.globals.padHorizontal+(p-S)/2),{x:u,y:f,yDivision:_,xDivision:p,barHeight:w,barWidth:S,zeroH:m,zeroW:y}}},{key:"drawStackedBarPaths",value:function(u){for(var f,w,p=u.indexes,_=u.barHeight,m=u.strokeWidth,y=u.zeroW,S=u.y,M=u.yDivision,T=u.elSeries,R=this.w,O=S,L=p.i,H=p.j,z=0,Y=0;Y<this.prevXF.length;Y++)z+=this.prevXF[Y][H];if(L>0){var X=y;this.prevXVal[L-1][H]<0?X=this.series[L][H]>=0?this.prevX[L-1][H]+z-2*(this.isReversed?z:0):this.prevX[L-1][H]:this.prevXVal[L-1][H]>=0&&(X=this.series[L][H]>=0?this.prevX[L-1][H]:this.prevX[L-1][H]-z+2*(this.isReversed?z:0)),f=X}else f=y;var x=this.barHelpers.getBarpaths({barYPosition:O,barHeight:_,x1:f,x2:w=null===this.series[L][H]?f:f+this.series[L][H]/this.invertedYRatio-2*(this.isReversed?this.series[L][H]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,i:L,j:H,w:R});return this.barHelpers.barBackground({j:H,i:L,y1:O,y2:_,elSeries:T}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x:w,y:S+=M}}},{key:"drawStackedColumnPaths",value:function(u){var _,f=u.indexes,p=u.x,m=u.xDivision,y=u.barWidth,w=u.zeroH,S=u.elSeries,M=this.w,T=f.i,R=f.j,O=f.bc;if(M.globals.isXNumeric){var L=M.globals.seriesX[T][R];L||(L=0),p=(L-M.globals.minX)/this.xRatio-y/2}for(var H,z=p,Y=0,X=0;X<this.prevYF.length;X++)Y+=isNaN(this.prevYF[X][R])?0:this.prevYF[X][R];if(T>0&&!M.globals.isXNumeric||T>0&&M.globals.isXNumeric&&M.globals.seriesX[T-1][R]===M.globals.seriesX[T][R]){var x,k,B=Math.min(this.yRatio.length+1,T+1);if(void 0!==this.prevY[T-1])for(var W=1;W<B;W++)if(!isNaN(this.prevY[T-W][R])){k=this.prevY[T-W][R];break}for(var K=1;K<B;K++){if(this.prevYVal[T-K][R]<0){x=this.series[T][R]>=0?k-Y+2*(this.isReversed?Y:0):k;break}if(this.prevYVal[T-K][R]>=0){x=this.series[T][R]>=0?k:k+Y-2*(this.isReversed?Y:0);break}}void 0===x&&(x=M.globals.gridHeight),H=this.prevYF[0].every(function(te){return 0===te})&&this.prevYF.slice(1,T).every(function(te){return te.every(function(Te){return isNaN(Te)})})?M.globals.gridHeight-w:x}else H=M.globals.gridHeight-w;var ve=this.barHelpers.getColumnPaths({barXPosition:z,barWidth:y,y1:H,y2:_=H-this.series[T][R]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[T][R]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:f.realIndex,i:T,j:R,w:M});return this.barHelpers.barBackground({bc:O,j:R,i:T,x1:z,x2:y,elSeries:S}),p+=m,{pathTo:ve.pathTo,pathFrom:ve.pathFrom,x:M.globals.isXNumeric?p-m:p,y:_}}}]),l}(),ls=function(U){Us(l,za);var o=Rl(l);function l(){return Le(this,l),o.apply(this,arguments)}return st(l,[{key:"draw",value:function(u,f){var p=this,_=this.w,m=new He(this.ctx),y=new Jt(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=_.config.plotOptions.bar.horizontal;var w=new fn(this.ctx,_);u=w.getLogSeries(u),this.series=u,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u);for(var S=m.group({class:"apexcharts-".concat(_.config.chart.type,"-series apexcharts-plot-series")}),M=function(R){p.isBoxPlot="boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[R].type;var O,L,H,z,K,ve,Y=void 0,X=void 0,x=[],k=[],B=_.globals.comboCharts?f[R]:R,W=m.group({class:"apexcharts-series",seriesName:fe.escapeString(_.globals.seriesNames[B]),rel:R+1,"data:realIndex":B});p.ctx.series.addCollapsedClassToSeries(W,B),u[R].length>0&&(p.visibleI=p.visibleI+1),p.yRatio.length>1&&(p.yaxisIndex=B);var te=p.barHelpers.initialPositions();X=te.y,K=te.barHeight,L=te.yDivision,z=te.zeroW,O=te.xDivision,H=te.zeroH,k.push((Y=te.x)+(ve=te.barWidth)/2);for(var Te=m.group({class:"apexcharts-datalabels","data:realIndex":B}),Fe=function(kt){var Pi=p.barHelpers.getStrokeWidth(R,kt,B),Zt=null,cs={indexes:{i:R,j:kt,realIndex:B},x:Y,y:X,strokeWidth:Pi,elSeries:W};Zt=p.isHorizontal?p.drawHorizontalBoxPaths(Gt(Gt({},cs),{},{yDivision:L,barHeight:K,zeroW:z})):p.drawVerticalBoxPaths(Gt(Gt({},cs),{},{xDivision:O,barWidth:ve,zeroH:H})),X=Zt.y,Y=Zt.x,kt>0&&k.push(Y+ve/2),x.push(X),Zt.pathTo.forEach(function(ps,dr){var Qn=!p.isBoxPlot&&p.candlestickOptions.wick.useFillColor?Zt.color[dr]:_.globals.stroke.colors[R],zo=y.fillPath({seriesNumber:B,dataPointIndex:kt,color:Zt.color[dr],value:u[R][kt]});p.renderSeries({realIndex:B,pathFill:zo,lineFill:Qn,j:kt,i:R,pathFrom:Zt.pathFrom,pathTo:ps,strokeWidth:Pi,elSeries:W,x:Y,y:X,series:u,barHeight:K,barWidth:ve,elDataLabelsWrap:Te,visibleSeries:p.visibleI,type:_.config.chart.type})})},qe=0;qe<_.globals.dataPoints;qe++)Fe(qe);_.globals.seriesXvalues[B]=k,_.globals.seriesYvalues[B]=x,S.add(W)},T=0;T<u.length;T++)M(T);return S}},{key:"drawVerticalBoxPaths",value:function(u){var f=u.indexes,p=u.x,_=u.xDivision,m=u.barWidth,y=u.zeroH,w=u.strokeWidth,S=this.w,M=new He(this.ctx),T=f.i,R=f.j,O=!0,L=S.config.plotOptions.candlestick.colors.upward,H=S.config.plotOptions.candlestick.colors.downward,z="";this.isBoxPlot&&(z=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Y=this.yRatio[this.yaxisIndex],X=f.realIndex,x=this.getOHLCValue(X,R),k=y,B=y;x.o>x.c&&(O=!1);var W=Math.min(x.o,x.c),K=Math.max(x.o,x.c),ve=x.m;S.globals.isXNumeric&&(p=(S.globals.seriesX[X][R]-S.globals.minX)/this.xRatio-m/2);var te=p+m*this.visibleI;null==this.series[T][R]?(W=y,K=y):(W=y-W/Y,K=y-K/Y,k=y-x.h/Y,B=y-x.l/Y,ve=y-x.m/Y);var Te=M.move(te,y),Fe=M.move(te+m/2,W);return S.globals.previousPaths.length>0&&(Fe=this.getPreviousPath(X,R,!0)),Te=this.isBoxPlot?[M.move(te,W)+M.line(te+m/2,W)+M.line(te+m/2,k)+M.line(te+m/4,k)+M.line(te+m-m/4,k)+M.line(te+m/2,k)+M.line(te+m/2,W)+M.line(te+m,W)+M.line(te+m,ve)+M.line(te,ve)+M.line(te,W+w/2),M.move(te,ve)+M.line(te+m,ve)+M.line(te+m,K)+M.line(te+m/2,K)+M.line(te+m/2,B)+M.line(te+m-m/4,B)+M.line(te+m/4,B)+M.line(te+m/2,B)+M.line(te+m/2,K)+M.line(te,K)+M.line(te,ve)+"z"]:[M.move(te,K)+M.line(te+m/2,K)+M.line(te+m/2,k)+M.line(te+m/2,K)+M.line(te+m,K)+M.line(te+m,W)+M.line(te+m/2,W)+M.line(te+m/2,B)+M.line(te+m/2,W)+M.line(te,W)+M.line(te,K-w/2)],Fe+=M.move(te,W),S.globals.isXNumeric||(p+=_),{pathTo:Te,pathFrom:Fe,x:p,y:K,barXPosition:te,color:this.isBoxPlot?z:O?[L]:[H]}}},{key:"drawHorizontalBoxPaths",value:function(u){var f=u.indexes,p=u.y,_=u.yDivision,m=u.barHeight,y=u.zeroW,w=u.strokeWidth,S=this.w,M=new He(this.ctx),T=f.i,R=f.j,O=this.boxOptions.colors.lower;this.isBoxPlot&&(O=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var L=this.invertedYRatio,H=f.realIndex,z=this.getOHLCValue(H,R),Y=y,X=y,x=Math.min(z.o,z.c),k=Math.max(z.o,z.c),B=z.m;S.globals.isXNumeric&&(p=(S.globals.seriesX[H][R]-S.globals.minX)/this.invertedXRatio-m/2);var W=p+m*this.visibleI;null==this.series[T][R]?(x=y,k=y):(x=y+x/L,k=y+k/L,Y=y+z.h/L,X=y+z.l/L,B=y+z.m/L);var K=M.move(y,W),ve=M.move(x,W+m/2);return S.globals.previousPaths.length>0&&(ve=this.getPreviousPath(H,R,!0)),K=[M.move(x,W)+M.line(x,W+m/2)+M.line(Y,W+m/2)+M.line(Y,W+m/2-m/4)+M.line(Y,W+m/2+m/4)+M.line(Y,W+m/2)+M.line(x,W+m/2)+M.line(x,W+m)+M.line(B,W+m)+M.line(B,W)+M.line(x+w/2,W),M.move(B,W)+M.line(B,W+m)+M.line(k,W+m)+M.line(k,W+m/2)+M.line(X,W+m/2)+M.line(X,W+m-m/4)+M.line(X,W+m/4)+M.line(X,W+m/2)+M.line(k,W+m/2)+M.line(k,W)+M.line(B,W)+"z"],ve+=M.move(x,W),S.globals.isXNumeric||(p+=_),{pathTo:K,pathFrom:ve,x:k,y:p,barYPosition:W,color:O}}},{key:"getOHLCValue",value:function(u,f){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[u][f]:p.globals.seriesCandleO[u][f],h:this.isBoxPlot?p.globals.seriesCandleO[u][f]:p.globals.seriesCandleH[u][f],m:p.globals.seriesCandleM[u][f],l:this.isBoxPlot?p.globals.seriesCandleC[u][f]:p.globals.seriesCandleL[u][f],c:this.isBoxPlot?p.globals.seriesCandleL[u][f]:p.globals.seriesCandleC[u][f]}}}]),l}(),_g=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"checkColorRange",value:function(){var o=this.w,l=!1,u=o.config.plotOptions[o.config.chart.type];return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(f,p){f.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(o,l,u,f){var p=this.w,_=1,m=p.config.plotOptions[o].shadeIntensity,y=this.determineColor(o,l,u);p.globals.hasNegs||f?_=p.config.plotOptions[o].reverseNegativeShade?y.percent<0?y.percent/100*(1.25*m):1.25*m*(1-y.percent/100):y.percent<=0?1-(1+y.percent/100)*m:(1-y.percent/100)*m:(_=1-y.percent/100,"treemap"===o&&(_=1.25*m*(1-y.percent/100)));var w=y.color,S=new fe;return p.config.plotOptions[o].enableShades&&(w=fe.hexToRgba(S.shadeColor("dark"===this.w.config.theme.mode?-1*_:_,y.color),p.config.fill.opacity)),{color:w,colorProps:y}}},{key:"determineColor",value:function(o,l,u){var f=this.w,p=f.globals.series[l][u],_=f.config.plotOptions[o],m=_.colorScale.inverse?u:l;_.distributed&&"treemap"===f.config.chart.type&&(m=u);var y=f.globals.colors[m],w=null,S=Math.min.apply(Math,Ws(f.globals.series[l])),M=Math.max.apply(Math,Ws(f.globals.series[l]));_.distributed||"heatmap"!==o||(S=f.globals.minY,M=f.globals.maxY),void 0!==_.colorScale.min&&(S=_.colorScale.min<f.globals.minY?_.colorScale.min:f.globals.minY,M=_.colorScale.max>f.globals.maxY?_.colorScale.max:f.globals.maxY);var T=Math.abs(M)+Math.abs(S),R=100*p/(0===T?T-1e-6:T);return _.colorScale.ranges.length>0&&_.colorScale.ranges.map(function(O,L){if(p>=O.from&&p<=O.to){y=O.color,w=O.foreColor?O.foreColor:null,S=O.from,M=O.to;var H=Math.abs(M)+Math.abs(S);R=100*p/(0===H?H-1e-6:H)}}),{color:y,foreColor:w,percent:R}}},{key:"calculateDataLabels",value:function(o){var l=o.text,u=o.x,f=o.y,p=o.i,_=o.j,m=o.colorProps,y=o.fontSize,w=this.w.config.dataLabels,S=new He(this.ctx),M=new Vo(this.ctx),T=null;if(w.enabled){T=S.group({class:"apexcharts-data-labels"});var O=w.offsetY,L=u+w.offsetX,H=f+parseFloat(w.style.fontSize)/3+O;M.plotDataLabelsText({x:L,y:H,text:l,i:p,j:_,color:m.foreColor,parent:T,fontSize:y,dataLabelsConfig:w})}return T}},{key:"addListeners",value:function(o){var l=new He(this.ctx);o.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,o)),o.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,o)),o.node.addEventListener("mousedown",l.pathMouseDown.bind(this,o))}}]),U}(),gb=function(){function U(o,l){Le(this,U),this.ctx=o,this.w=o.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new _g(o),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return st(U,[{key:"draw",value:function(o){var l=this.w,u=new He(this.ctx),f=u.group({class:"apexcharts-heatmap"});f.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,_=l.globals.gridHeight/l.globals.series.length,m=0,y=!1;this.negRange=this.helpers.checkColorRange();var w=o.slice();l.config.yaxis[0].reversed&&(y=!0,w.reverse());for(var S=y?0:w.length-1;y?S<w.length:S>=0;y?S++:S--){var M=u.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:fe.escapeString(l.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});if(this.ctx.series.addCollapsedClassToSeries(M,S),l.config.chart.dropShadow.enabled){var T=l.config.chart.dropShadow;new En(this.ctx).dropShadow(M,T,S)}for(var R=0,O=l.config.plotOptions.heatmap.shadeIntensity,L=0;L<w[S].length;L++){var H=this.helpers.getShadeColor(l.config.chart.type,S,L,this.negRange),z=H.color,Y=H.colorProps;"image"===l.config.fill.type&&(z=new Jt(this.ctx).fillPath({seriesNumber:S,dataPointIndex:L,opacity:l.globals.hasNegs?Y.percent<0?1-(1+Y.percent/100):O+Y.percent/100:Y.percent/100,patternID:fe.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:_}));var x=u.drawRect(R,m,p,_,this.rectRadius);if(x.attr({cx:R,cy:m}),x.node.classList.add("apexcharts-heatmap-rect"),M.add(x),x.attr({fill:z,i:S,index:S,j:L,val:w[S][L],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?z:l.globals.stroke.colors[0],color:z}),this.helpers.addListeners(x),l.config.chart.animations.enabled&&!l.globals.dataChanged){var k=1;l.globals.resized||(k=l.config.chart.animations.speed),this.animateHeatMap(x,R,m,p,_,k)}if(l.globals.dataChanged){var B=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){B=this.dynamicAnim.speed;var W=l.globals.previousPaths[S]&&l.globals.previousPaths[S][L]&&l.globals.previousPaths[S][L].color;W||(W="rgba(255, 255, 255, 0)"),this.animateHeatColor(x,fe.isColorHex(W)?W:fe.rgb2hex(W),fe.isColorHex(z)?z:fe.rgb2hex(z),B)}}var K=(0,l.config.dataLabels.formatter)(l.globals.series[S][L],{value:l.globals.series[S][L],seriesIndex:S,dataPointIndex:L,w:l}),ve=this.helpers.calculateDataLabels({text:K,x:R+p/2,y:m+_/2,i:S,j:L,colorProps:Y,series:w});null!==ve&&M.add(ve),R+=p}m+=_,f.add(M)}var te=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?te.unshift(""):te.push(""),l.globals.yAxisScale[0].result=te,l.config.yaxis[0].labels.offsetY=-l.globals.gridHeight/l.globals.series.length/2,f}},{key:"animateHeatMap",value:function(o,l,u,f,p,_){var m=new Fo(this.ctx);m.animateRect(o,{x:l+f/2,y:u+p/2,width:0,height:0},{x:l,y:u,width:f,height:p},_,function(){m.animationCompleted(o)})}},{key:"animateHeatColor",value:function(o,l,u,f){o.attr({fill:l}).animate(f).attr({fill:u})}}]),U}(),vg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"drawYAxisTexts",value:function(o,l,u,f){var p=this.w,_=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new He(this.ctx).drawText({x:o+_.labels.offsetX,y:l+_.labels.offsetY,text:m(f,u),textAnchor:"middle",fontSize:_.labels.style.fontSize,fontFamily:_.labels.style.fontFamily,foreColor:Array.isArray(_.labels.style.colors)?_.labels.style.colors[u]:_.labels.style.colors})}}]),U}(),yg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return st(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new He(this.ctx);if(this.ret=f.group({class:"apexcharts-pie"}),u.globals.noData)return this.ret;for(var p=0,_=0;_<o.length;_++)p+=fe.negToZero(o[_]);var m=[],y=f.group();0===p&&(p=1e-5),o.forEach(function(W){l.maxY=Math.max(l.maxY,W)}),u.config.yaxis[0].max&&(this.maxY=u.config.yaxis[0].max),"back"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var w=0;w<o.length;w++){var S=this.fullAngle*fe.negToZero(o[w])/p;m.push(S),"polarArea"===this.chartType?(m[w]=this.fullAngle/o.length,this.sliceSizes.push(u.globals.radialSize*o[w]/this.maxY)):this.sliceSizes.push(u.globals.radialSize)}if(u.globals.dataChanged){for(var M,T=0,R=0;R<u.globals.previousPaths.length;R++)T+=fe.negToZero(u.globals.previousPaths[R]);for(var O=0;O<u.globals.previousPaths.length;O++)M=this.fullAngle*fe.negToZero(u.globals.previousPaths[O])/T,this.prevSectorAngleArr.push(M)}this.donutSize<0&&(this.donutSize=0);var L=u.config.plotOptions.pie.customScale,Y=u.globals.gridWidth/2-u.globals.gridWidth/2*L,X=u.globals.gridHeight/2-u.globals.gridHeight/2*L;if("donut"===this.chartType){var x=f.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:u.config.plotOptions.pie.donut.background?u.config.plotOptions.pie.donut.background:"transparent"}),y.add(x)}var k=this.drawArcs(m,o);if(this.sliceLabels.forEach(function(W){k.add(W)}),y.attr({transform:"translate(".concat(Y,", ").concat(X,") scale(").concat(L,")")}),y.add(k),this.ret.add(y),this.donutDataLabels.show){var B=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Y,translateY:X});this.ret.add(B)}return"front"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(o,l){var u=this.w,f=new En(this.ctx),p=new He(this.ctx),_=new Jt(this.ctx),m=p.group({class:"apexcharts-slices"}),y=this.initialAngle,w=this.initialAngle,S=this.initialAngle,M=this.initialAngle;this.strokeWidth=u.config.stroke.show?u.config.stroke.width:0;for(var T=0;T<o.length;T++){var R=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:fe.escapeString(u.globals.seriesNames[T]),rel:T+1,"data:realIndex":T});m.add(R),S=(y=S)+o[T],M=(w=M)+this.prevSectorAngleArr[T];var O=S<y?this.fullAngle+S-y:S-y,L=_.fillPath({seriesNumber:T,size:this.sliceSizes[T],value:l[T]}),H=this.getChangedPath(w,M),z=p.drawPath({d:H,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[T]:this.lineColorArr,strokeWidth:0,fill:L,fillOpacity:u.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(T)});z.attr({index:0,j:T}),f.setSelectionFilter(z,0,T),u.config.chart.dropShadow.enabled&&f.dropShadow(z,u.config.chart.dropShadow,T),this.addListeners(z,this.donutDataLabels),He.setAttrs(z.node,{"data:angle":O,"data:startAngle":y,"data:strokeWidth":this.strokeWidth,"data:value":l[T]});var X={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?X=fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize/1.25+u.config.plotOptions.pie.dataLabels.offset,(y+O/2)%this.fullAngle):"donut"===this.chartType&&(X=fe.polarToCartesian(this.centerX,this.centerY,(u.globals.radialSize+this.donutSize)/2+u.config.plotOptions.pie.dataLabels.offset,(y+O/2)%this.fullAngle)),R.add(z);var x=0;if(!this.initialAnim||u.globals.resized||u.globals.dataChanged?this.animBeginArr.push(0):(0==(x=O/this.fullAngle*u.config.chart.animations.speed)&&(x=1),this.animDur=x+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(z,this.dynamicAnim&&u.globals.dataChanged?{size:this.sliceSizes[T],endAngle:S,startAngle:y,prevStartAngle:w,prevEndAngle:M,animateStartingPos:!0,i:T,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:u.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[T],endAngle:S,startAngle:y,i:T,totalItems:o.length-1,animBeginArr:this.animBeginArr,dur:x}),u.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&z.click(this.pieClicked.bind(this,T)),void 0!==u.globals.selectedDataPoints[0]&&u.globals.selectedDataPoints[0].indexOf(T)>-1&&this.pieClicked(T),u.config.dataLabels.enabled){var k=X.x,B=X.y,W=100*O/this.fullAngle+"%";if(0!==O&&u.config.plotOptions.pie.dataLabels.minAngleToShowLabel<o[T]){var K=u.config.dataLabels.formatter;void 0!==K&&(W=K(u.globals.seriesPercent[T][0],{seriesIndex:T,w:u}));var ve=u.globals.dataLabels.style.colors[T],te=p.group({class:"apexcharts-datalabels"}),Te=p.drawText({x:k,y:B,text:W,textAnchor:"middle",fontSize:u.config.dataLabels.style.fontSize,fontFamily:u.config.dataLabels.style.fontFamily,fontWeight:u.config.dataLabels.style.fontWeight,foreColor:ve});te.add(Te),u.config.dataLabels.dropShadow.enabled&&f.dropShadow(Te,u.config.dataLabels.dropShadow),Te.node.classList.add("apexcharts-pie-label"),u.config.chart.animations.animate&&!1===u.globals.resized&&(Te.node.classList.add("apexcharts-pie-label-delay"),Te.node.style.animationDelay=u.config.chart.animations.speed/940+"s"),this.sliceLabels.push(te)}}}return m}},{key:"addListeners",value:function(o,l){var u=new He(this.ctx);o.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this,o)),o.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this,o)),o.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,o.node,l)),o.node.addEventListener("mousedown",u.pathMouseDown.bind(this,o)),this.donutDataLabels.total.showAlways||(o.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,o.node,l)),o.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,o.node,l)))}},{key:"animatePaths",value:function(o,l){var f=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=f,_=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(_=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(f+m>this.fullAngle?l.endAngle=l.endAngle-(f+m):f+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(f+m)))),f===this.fullAngle&&(f=this.fullAngle-.01),this.animateArc(o,_,m,f,p,l)}},{key:"animateArc",value:function(o,l,u,f,p,_){var m,y=this,w=this.w,S=new Fo(this.ctx),M=_.size;(isNaN(l)||isNaN(p))&&(l=u,p=f,_.dur=0);var T=f,R=u,O=l<u?this.fullAngle+l-u:l-u;w.globals.dataChanged&&_.shouldSetPrevPaths&&_.prevEndAngle&&(m=y.getPiePath({me:y,startAngle:_.prevStartAngle,angle:_.prevEndAngle<_.prevStartAngle?this.fullAngle+_.prevEndAngle-_.prevStartAngle:_.prevEndAngle-_.prevStartAngle,size:M}),o.attr({d:m})),0!==_.dur?o.animate(_.dur,w.globals.easing,_.animBeginArr[_.i]).afterAll(function(){"pie"!==y.chartType&&"donut"!==y.chartType&&"polarArea"!==y.chartType||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":y.strokeWidth}),_.i===w.config.series.length-1&&S.animationCompleted(o)}).during(function(L){T=O+(f-O)*L,_.animateStartingPos&&(T=p+(f-p)*L,R=l-p+(u-(l-p))*L),m=y.getPiePath({me:y,startAngle:R,angle:T,size:M}),o.node.setAttribute("data:pathOrig",m),o.attr({d:m})}):(m=y.getPiePath({me:y,startAngle:R,angle:f,size:M}),_.isTrack||(w.globals.animationEnded=!0),o.node.setAttribute("data:pathOrig",m),o.attr({d:m,"stroke-width":y.strokeWidth}))}},{key:"pieClicked",value:function(o){var l,u=this.w,f=this,p=f.sliceSizes[o]+(u.config.plotOptions.pie.expandOnClick?4:0),_=u.globals.dom.Paper.select(".apexcharts-".concat(f.chartType.toLowerCase(),"-slice-").concat(o)).members[0];if("true"!==_.attr("data:pieClicked")){var m=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(M){M.setAttribute("data:pieClicked","false");var T=M.getAttribute("data:pathOrig");M.setAttribute("d",T)}),_.attr("data:pieClicked","true");var y=parseInt(_.attr("data:startAngle"),10),w=parseInt(_.attr("data:angle"),10);l=f.getPiePath({me:f,startAngle:y,angle:w,size:p}),360!==w&&_.plot(l)}else{_.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(_.node,this.donutDataLabels);var S=_.attr("data:pathOrig");_.attr({d:S})}}},{key:"getChangedPath",value:function(o,l){var u="";return this.dynamicAnim&&this.w.globals.dataChanged&&(u=this.getPiePath({me:this,startAngle:o,angle:l-o,size:this.size})),u}},{key:"getPiePath",value:function(o){var l=o.me,u=o.startAngle,f=o.angle,p=o.size,_=u,m=Math.PI*(_-90)/180,y=f+u;Math.ceil(y)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(y=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(y)>this.fullAngle&&(y-=this.fullAngle);var w=Math.PI*(y-90)/180,S=l.centerX+p*Math.cos(m),M=l.centerY+p*Math.sin(m),T=l.centerX+p*Math.cos(w),R=l.centerY+p*Math.sin(w),O=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,y),L=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,_),H=f>180?1:0,z=["M",S,M,"A",p,p,0,H,1,T,R];return"donut"===l.chartType?[].concat(z,["L",O.x,O.y,"A",l.donutSize,l.donutSize,0,H,0,L.x,L.y,"L",S,M,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(z,["L",l.centerX,l.centerY,"L",S,M]).join(" "):[].concat(z).join(" ")}},{key:"drawPolarElements",value:function(o){var l=this.w,u=new Ua(this.ctx),f=new He(this.ctx),p=new vg(this.ctx),_=f.group(),m=f.group(),y=u.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),w=y.result.reverse(),S=y.result.length;this.maxY=y.niceMax;for(var M=l.globals.radialSize,T=M/(S-1),R=0;R<S-1;R++){var O=f.drawCircle(M);if(O.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var L=p.drawYAxisTexts(this.centerX,this.centerY-M+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,R,w[R]);m.add(L)}_.add(O),M-=T}this.drawSpokes(o),o.add(_),o.add(m)}},{key:"renderInnerDataLabels",value:function(o,l){var u=this.w,f=new He(this.ctx),p=f.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(u.config.plotOptions.pie.customScale,")")}),_=o.total.show;p.node.style.opacity=l.opacity;var m,y,w=l.centerX,S=l.centerY;m=void 0===o.name.color?u.globals.colors[0]:o.name.color;var M=o.name.fontSize,T=o.name.fontFamily,R=o.name.fontWeight;y=void 0===o.value.color?u.config.chart.foreColor:o.value.color;var O=o.value.formatter,L="",H="";if(_?(m=o.total.color,M=o.total.fontSize,T=o.total.fontFamily,R=o.total.fontWeight,H=o.total.label,L=o.total.formatter(u)):1===u.globals.series.length&&(L=O(u.globals.series[0],u),H=u.globals.seriesNames[0]),H&&(H=o.name.formatter(H,o.total.show,u)),o.name.show){var z=f.drawText({x:w,y:S+parseFloat(o.name.offsetY),text:H,textAnchor:"middle",foreColor:m,fontSize:M,fontWeight:R,fontFamily:T});z.node.classList.add("apexcharts-datalabel-label"),p.add(z)}if(o.value.show){var Y=o.name.show?parseFloat(o.value.offsetY)+16:o.value.offsetY,X=f.drawText({x:w,y:S+Y,text:L,textAnchor:"middle",foreColor:y,fontWeight:o.value.fontWeight,fontSize:o.value.fontSize,fontFamily:o.value.fontFamily});X.node.classList.add("apexcharts-datalabel-value"),p.add(X)}return p}},{key:"printInnerLabels",value:function(o,l,u,f){var p,_=this.w;f?p=void 0===o.name.color?_.globals.colors[parseInt(f.parentNode.getAttribute("rel"),10)-1]:o.name.color:_.globals.series.length>1&&o.total.show&&(p=o.total.color);var m=_.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),y=_.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");u=(0,o.value.formatter)(u,_),f||"function"!=typeof o.total.formatter||(u=o.total.formatter(_)),l=o.name.formatter(l,l===o.total.label,_),null!==m&&(m.textContent=l),null!==y&&(y.textContent=u),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(o,l){var u=this.w,f=o.getAttribute("data:value"),p=u.globals.seriesNames[parseInt(o.parentNode.getAttribute("rel"),10)-1];u.globals.series.length>1&&this.printInnerLabels(l,p,f,o);var _=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==_&&(_.style.opacity=1)}},{key:"drawSpokes",value:function(o){var l=this,u=this.w,f=new He(this.ctx),p=u.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var _=[],m=360/u.globals.series.length,y=0;y<u.globals.series.length;y++)_.push(fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize,u.config.plotOptions.pie.startAngle+m*y));_.forEach(function(w,S){var M=f.drawLine(w.x,w.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[S]:p.connectorColors);o.add(M)})}}},{key:"revertDataLabelsInner",value:function(o,l,u){var f=this,p=this.w,_=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,y=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),w=function(T){var R=T.makeSliceOut,O=T.printLabel;Array.prototype.forEach.call(y,function(L){"true"===L.getAttribute("data:pieClicked")&&(R&&(m=!0),O&&f.printDataLabelsInner(L,l))})};if(w({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?w({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(w({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var S=p.globals.selectedDataPoints[0],M=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S));this.printDataLabelsInner(M,l)}else _&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(_.style.opacity=0);else _&&p.globals.series.length>1&&(_.style.opacity=0)}}]),U}(),bg=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new He(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new fn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return st(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new Jt(this.ctx),p=[],_=new Vo(this.ctx);o.length&&(this.dataPointsLen=o[u.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var S=u.globals.gridHeight/2+u.config.plotOptions.radar.offsetY,M=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u.globals.gridWidth/2+u.config.plotOptions.radar.offsetX||0,", ").concat(S||0,")")}),T=[],R=null,O=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),o.forEach(function(H,z){var Y=H.length===u.globals.dataPoints,X=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Y,seriesName:fe.escapeString(u.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});l.dataRadiusOfPercent[z]=[],l.dataRadius[z]=[],l.angleArr[z]=[],H.forEach(function(qe,kt){var Pi=Math.abs(l.maxValue-l.minValue);qe+=Math.abs(l.minValue),l.isLog&&(qe=l.coreUtils.getLogVal(qe,0)),l.dataRadiusOfPercent[z][kt]=qe/Pi,l.dataRadius[z][kt]=l.dataRadiusOfPercent[z][kt]*l.size,l.angleArr[z][kt]=kt*l.disAngle}),T=l.getDataPointsPos(l.dataRadius[z],l.angleArr[z]);var x=l.createPaths(T,{x:0,y:0});R=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),O=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":z}),u.globals.delayedElements.push({el:R.node,index:z});var k={i:z,realIndex:z,animationDelay:z,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:u.globals.stroke.colors[z],strokeLineCap:u.config.stroke.lineCap},B=null;u.globals.previousPaths.length>0&&(B=l.getPreviousPath(z));for(var W=0;W<x.linePathsTo.length;W++){var K=l.graphics.renderPaths(Gt(Gt({},k),{},{pathFrom:null===B?x.linePathsFrom[W]:B,pathTo:x.linePathsTo[W],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[z]:l.strokeWidth,fill:"none",drawShadow:!1}));X.add(K);var ve=f.fillPath({seriesNumber:z}),te=l.graphics.renderPaths(Gt(Gt({},k),{},{pathFrom:null===B?x.areaPathsFrom[W]:B,pathTo:x.areaPathsTo[W],strokeWidth:0,fill:ve,drawShadow:!1}));u.config.chart.dropShadow.enabled&&new En(l.ctx).dropShadow(te,Object.assign({},u.config.chart.dropShadow,{noUserSpaceOnUse:!0}),z),X.add(te)}H.forEach(function(qe,kt){var Pi=new Bo(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:z,dataPointIndex:kt}),Zt=l.graphics.drawMarker(T[kt].x,T[kt].y,Pi);Zt.attr("rel",kt),Zt.attr("j",kt),Zt.attr("index",z),Zt.node.setAttribute("default-marker-size",Pi.pSize);var cs=l.graphics.group({class:"apexcharts-series-markers"});cs&&cs.add(Zt),R.add(cs),X.add(R);var ps=u.config.dataLabels;if(ps.enabled){var dr=ps.formatter(u.globals.series[z][kt],{seriesIndex:z,dataPointIndex:kt,w:u});_.plotDataLabelsText({x:T[kt].x,y:T[kt].y,text:dr,textAnchor:"middle",i:z,j:z,parent:O,offsetCorrection:!1,dataLabelsConfig:Gt({},ps)})}X.add(O)}),p.push(X)}),this.drawPolygons({parent:M}),u.config.xaxis.labels.show){var L=this.drawXAxisTexts();M.add(L)}return p.forEach(function(H){M.add(H)}),M.add(this.yaxisLabels),M}},{key:"drawPolygons",value:function(o){for(var l=this,u=this.w,f=o.parent,p=new vg(this.ctx),_=u.globals.yAxisScale[0].result.reverse(),m=_.length,y=[],w=this.size/(m-1),S=0;S<m;S++)y[S]=w*S;y.reverse();var M=[],T=[];y.forEach(function(R,O){var L=fe.getPolygonPos(R,l.dataPointsLen),H="";L.forEach(function(z,Y){if(0===O){var X=l.graphics.drawLine(z.x,z.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[Y]:l.polygons.connectorColors);T.push(X)}0===Y&&l.yaxisLabelsTextsPos.push({x:z.x,y:z.y}),H+=z.x+","+z.y+" "}),M.push(H)}),M.forEach(function(R,O){var L=l.polygons.strokeColors,H=l.polygons.strokeWidth,z=l.graphics.drawPolygon(R,Array.isArray(L)?L[O]:L,Array.isArray(H)?H[O]:H,u.globals.radarPolygons.fill.colors[O]);f.add(z)}),T.forEach(function(R){f.add(R)}),u.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(R,O){var L=p.drawYAxisTexts(R.x,R.y,O,_[O]);l.yaxisLabels.add(L)})}},{key:"drawXAxisTexts",value:function(){var o=this,l=this.w,u=l.config.xaxis.labels,f=this.graphics.group({class:"apexcharts-xaxis"}),p=fe.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(_,m){var y=l.config.xaxis.labels.formatter,w=new Vo(o.ctx);if(p[m]){var S=o.getTextPos(p[m],o.size),M=y(_,{seriesIndex:-1,dataPointIndex:m,w:l});w.plotDataLabelsText({x:S.newX,y:S.newY,text:M,textAnchor:S.textAnchor,i:m,j:m,parent:f,color:Array.isArray(u.style.colors)&&u.style.colors[m]?u.style.colors[m]:"#a8a8a8",dataLabelsConfig:Gt({textAnchor:S.textAnchor,dropShadow:{enabled:!1}},u),offsetCorrection:!1})}}),f}},{key:"createPaths",value:function(o,l){var u=this,f=[],p=[],_=[],m=[];if(o.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var y=this.graphics.move(o[0].x,o[0].y),w=this.graphics.move(o[0].x,o[0].y);o.forEach(function(S,M){y+=u.graphics.line(S.x,S.y),w+=u.graphics.line(S.x,S.y),M===o.length-1&&(y+="Z",w+="Z")}),f.push(y),_.push(w)}return{linePathsFrom:p,linePathsTo:f,areaPathsFrom:m,areaPathsTo:_}}},{key:"getTextPos",value:function(o,l){var u="middle",f=o.x,p=o.y;return Math.abs(o.x)>=10?o.x>0?(u="start",f+=10):o.x<0&&(u="end",f-=10):u="middle",Math.abs(o.y)>=l-10&&(o.y<0?p-=10:o.y>0&&(p+=10)),{textAnchor:u,newX:f,newY:p}}},{key:"getPreviousPath",value:function(o){for(var l=this.w,u=null,f=0;f<l.globals.previousPaths.length;f++){var p=l.globals.previousPaths[f];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(o,10)&&void 0!==l.globals.previousPaths[f].paths[0]&&(u=l.globals.previousPaths[f].paths[0].d)}return u}},{key:"getDataPointsPos",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;o=o||[],l=l||[];for(var f=[],p=0;p<u;p++){var _={};_.x=o[p]*Math.sin(l[p]),_.y=-o[p]*Math.cos(l[p]),f.push(_)}return f}}]),U}(),mb=function(U){Us(l,yg);var o=Rl(l);function l(u){var f;Le(this,l),(f=o.call(this,u)).ctx=u,f.w=u.w,f.animBeginArr=[0],f.animDur=0;var p=f.w;return f.startAngle=p.config.plotOptions.radialBar.startAngle,f.endAngle=p.config.plotOptions.radialBar.endAngle,f.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),f.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,f.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,f.donutDataLabels=f.w.config.plotOptions.radialBar.dataLabels,f.radialDataLabels=f.donutDataLabels,f.trackStartAngle||(f.trackStartAngle=f.startAngle),f.trackEndAngle||(f.trackEndAngle=f.endAngle),360===f.endAngle&&(f.endAngle=359.99),f.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),f}return st(l,[{key:"draw",value:function(u){var f=this.w,p=new He(this.ctx),_=p.group({class:"apexcharts-radialbar"});if(f.globals.noData)return _;var m=p.group(),y=this.defaultSize/2,w=f.globals.gridWidth/2,S=this.defaultSize/2.05;f.config.chart.sparkline.enabled||(S=S-f.config.stroke.width-f.config.chart.dropShadow.blur);var M=f.globals.fill.colors;if(f.config.plotOptions.radialBar.track.show){var T=this.drawTracks({size:S,centerX:w,centerY:y,colorArr:M,series:u});m.add(T)}var R=this.drawArcs({size:S,centerX:w,centerY:y,colorArr:M,series:u}),O=360;f.config.plotOptions.radialBar.startAngle<0&&(O=this.totalAngle);var L=(360-O)/360;if(f.globals.radialSize=S-S*L,this.radialDataLabels.value.show){var H=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);f.globals.radialSize+=H*L}return m.add(R.g),"front"===f.config.plotOptions.radialBar.hollow.position&&(R.g.add(R.elHollow),R.dataLabels&&R.g.add(R.dataLabels)),_.add(m),_}},{key:"drawTracks",value:function(u){var f=this.w,p=new He(this.ctx),_=p.group({class:"apexcharts-tracks"}),m=new En(this.ctx),y=new Jt(this.ctx),w=this.getStrokeWidth(u);u.size=u.size-w/2;for(var S=0;S<u.series.length;S++){var M=p.group({class:"apexcharts-radialbar-track apexcharts-track"});_.add(M),M.attr({rel:S+1}),u.size=u.size-w-this.margin;var T=f.config.plotOptions.radialBar.track,R=y.fillPath({seriesNumber:0,size:u.size,fillColors:Array.isArray(T.background)?T.background[S]:T.background,solid:!0}),O=this.trackStartAngle,L=this.trackEndAngle;Math.abs(L)+Math.abs(O)>=360&&(L=360-Math.abs(this.startAngle)-.1);var H=p.drawPath({d:"",stroke:R,strokeWidth:w*parseInt(T.strokeWidth,10)/100,fill:"none",strokeOpacity:T.opacity,classes:"apexcharts-radialbar-area"});T.dropShadow.enabled&&m.dropShadow(H,T.dropShadow),M.add(H),H.attr("id","apexcharts-radialbarTrack-"+S),this.animatePaths(H,{centerX:u.centerX,centerY:u.centerY,endAngle:L,startAngle:O,size:u.size,i:S,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:f.globals.easing})}return _}},{key:"drawArcs",value:function(u){var f=this.w,p=new He(this.ctx),_=new Jt(this.ctx),m=new En(this.ctx),y=p.group(),w=this.getStrokeWidth(u);u.size=u.size-w/2;var S=f.config.plotOptions.radialBar.hollow.background,M=u.size-w*u.series.length-this.margin*u.series.length-w*parseInt(f.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,T=M-f.config.plotOptions.radialBar.hollow.margin;void 0!==f.config.plotOptions.radialBar.hollow.image&&(S=this.drawHollowImage(u,y,M,S));var R=this.drawHollow({size:T,centerX:u.centerX,centerY:u.centerY,fill:S||"transparent"});f.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(R,f.config.plotOptions.radialBar.hollow.dropShadow);var L=1;!this.radialDataLabels.total.show&&f.globals.series.length>1&&(L=0);var H=null;this.radialDataLabels.show&&(H=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:M,centerX:u.centerX,centerY:u.centerY,opacity:L})),"back"===f.config.plotOptions.radialBar.hollow.position&&(y.add(R),H&&y.add(H));var z=!1;f.config.plotOptions.radialBar.inverseOrder&&(z=!0);for(var Y=z?u.series.length-1:0;z?Y>=0:Y<u.series.length;z?Y--:Y++){var X=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:fe.escapeString(f.globals.seriesNames[Y])});y.add(X),X.attr({rel:Y+1,"data:realIndex":Y}),this.ctx.series.addCollapsedClassToSeries(X,Y),u.size=u.size-w-this.margin;var x=_.fillPath({seriesNumber:Y,size:u.size,value:u.series[Y]}),k=this.startAngle,B=void 0,W=fe.negToZero(u.series[Y]>100?100:u.series[Y])/100,K=Math.round(this.totalAngle*W)+this.startAngle,ve=void 0;f.globals.dataChanged&&(B=this.startAngle,ve=Math.round(this.totalAngle*fe.negToZero(f.globals.previousPaths[Y])/100)+B),Math.abs(K)+Math.abs(k)>=360&&(K-=.01),Math.abs(ve)+Math.abs(B)>=360&&(ve-=.01);var te=K-k,Te=Array.isArray(f.config.stroke.dashArray)?f.config.stroke.dashArray[Y]:f.config.stroke.dashArray,Fe=p.drawPath({d:"",stroke:x,strokeWidth:w,fill:"none",fillOpacity:f.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Y,strokeDashArray:Te});He.setAttrs(Fe.node,{"data:angle":te,"data:value":u.series[Y]}),f.config.chart.dropShadow.enabled&&m.dropShadow(Fe,f.config.chart.dropShadow,Y),m.setSelectionFilter(Fe,0,Y),this.addListeners(Fe,this.radialDataLabels),X.add(Fe),Fe.attr({index:0,j:Y});var kt=0;!this.initialAnim||f.globals.resized||f.globals.dataChanged||(kt=f.config.chart.animations.speed),f.globals.dataChanged&&(kt=f.config.chart.animations.dynamicAnimation.speed),this.animDur=kt/(1.2*u.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Fe,{centerX:u.centerX,centerY:u.centerY,endAngle:K,startAngle:k,prevEndAngle:ve,prevStartAngle:B,size:u.size,i:Y,totalItems:2,animBeginArr:this.animBeginArr,dur:kt,shouldSetPrevPaths:!0,easing:f.globals.easing})}return{g:y,elHollow:R,dataLabels:H}}},{key:"drawHollow",value:function(u){var f=new He(this.ctx).drawCircle(2*u.size);return f.attr({class:"apexcharts-radialbar-hollow",cx:u.centerX,cy:u.centerY,r:u.size,fill:u.fill}),f}},{key:"drawHollowImage",value:function(u,f,p,_){var m=this.w,y=new Jt(this.ctx),w=fe.randomId(),S=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)y.clippedImgArea({width:p,height:p,image:S,patternID:"pattern".concat(m.globals.cuid).concat(w)}),_="url(#pattern".concat(m.globals.cuid).concat(w,")");else{var M=m.config.plotOptions.radialBar.hollow.imageWidth,T=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===M&&void 0===T){var R=m.globals.dom.Paper.image(S).loaded(function(L){this.move(u.centerX-L.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-L.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});f.add(R)}else{var O=m.globals.dom.Paper.image(S).loaded(function(L){this.move(u.centerX-M/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-T/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(M,T)});f.add(O)}}return _}},{key:"getStrokeWidth",value:function(u){return u.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(u.series.length+1)-this.margin}}]),l}(),_b=function(){function U(o){Le(this,U),this.w=o.w,this.lineCtx=o}return st(U,[{key:"sameValueSeriesFix",value:function(o,l){var u=this.w;if("line"===u.config.chart.type&&("gradient"===u.config.fill.type||"gradient"===u.config.fill.type[o])&&new fn(this.lineCtx.ctx,u).seriesHaveSameValues(o)){var f=l[o].slice();f[f.length-1]=f[f.length-1]+1e-6,l[o]=f}return l}},{key:"calculatePoints",value:function(o){var l=o.series,f=o.x,p=o.y,_=o.i,m=o.j,y=o.prevY,w=this.w,S=[],M=[];if(0===m){var T=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(T=(w.globals.seriesX[o.realIndex][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),S.push(T),M.push(fe.isNumber(l[_][0])?y+w.config.markers.offsetY:null),S.push(f+w.config.markers.offsetX),M.push(fe.isNumber(l[_][m+1])?p+w.config.markers.offsetY:null)}else S.push(f+w.config.markers.offsetX),M.push(fe.isNumber(l[_][m+1])?p+w.config.markers.offsetY:null);return{x:S,y:M}}},{key:"checkPreviousPaths",value:function(o){for(var l=o.pathFromLine,u=o.pathFromArea,f=o.realIndex,p=this.w,_=0;_<p.globals.previousPaths.length;_++){var m=p.globals.previousPaths[_];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(f,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[_].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,u=p.globals.previousPaths[_].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[_].paths[1]&&(l=p.globals.previousPaths[_].paths[1].d)))}return{pathFromLine:l,pathFromArea:u}}},{key:"determineFirstPrevY",value:function(o){var l=o.i,u=o.series,f=o.prevY,p=o.lineYPosition,_=this.w;if(void 0!==u[l][0])f=(p=_.config.chart.stacked&&l>0?this.lineCtx.prevSeriesY[l-1][0]:this.lineCtx.zeroY)-u[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?u[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(_.config.chart.stacked&&l>0&&void 0===u[l][0])for(var m=l-1;m>=0;m--)if(null!=u[m][0]){f=p=this.lineCtx.prevSeriesY[m][0];break}return{prevY:f,lineYPosition:p}}}]),U}(),js=function(){function U(o,l,u){Le(this,U),this.ctx=o,this.w=o.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||u,this.scatter=new ag(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new _b(this),this.markers=new Bo(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return st(U,[{key:"draw",value:function(o,l,u){var f=this.w,p=new He(this.ctx),_=f.globals.comboCharts?l:f.config.chart.type,m=p.group({class:"apexcharts-".concat(_,"-series apexcharts-plot-series")}),y=new fn(this.ctx,f);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,o=y.getLogSeries(o),this.yRatio=y.getLogYRatios(this.yRatio);for(var w=[],S=0;S<o.length;S++){o=this.lineHelpers.sameValueSeriesFix(S,o);var M=f.globals.comboCharts?u[S]:S;this._initSerieVariables(o,S,M);var T=[],R=[],O=f.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,M),f.globals.isXNumeric&&f.globals.seriesX.length>0&&(O=(f.globals.seriesX[M][0]-f.globals.minX)/this.xRatio),R.push(O);var L,H=O,z=H,Y=this.zeroY;Y=this.lineHelpers.determineFirstPrevY({i:S,series:o,prevY:Y,lineYPosition:0}).prevY,T.push(Y),L=Y;var X=this._calculatePathsFrom({series:o,i:S,realIndex:M,prevX:z,prevY:Y}),x=this._iterateOverDataPoints({series:o,realIndex:M,i:S,x:O,y:1,pX:H,pY:L,pathsFrom:X,linePaths:[],areaPaths:[],seriesIndex:u,lineYPosition:0,xArrj:R,yArrj:T});this._handlePaths({type:_,realIndex:M,i:S,paths:x}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),w.push(this.elSeries)}if(f.config.chart.stacked)for(var k=w.length;k>0;k--)m.add(w[k-1]);else for(var B=0;B<w.length;B++)m.add(w[B]);return m}},{key:"_initSerieVariables",value:function(o,l,u){var f=this.w,p=new He(this.ctx);this.xDivision=f.globals.gridWidth/(f.globals.dataPoints-("on"===f.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(f.config.stroke.width)?f.config.stroke.width[u]:f.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=u),this.isReversed=f.config.yaxis[this.yaxisIndex]&&f.config.yaxis[this.yaxisIndex].reversed,this.zeroY=f.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?f.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>f.globals.gridHeight||"end"===f.config.plotOptions.area.fillTo)&&(this.areaBottomY=f.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",seriesName:fe.escapeString(f.globals.seriesNames[u])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":u}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":u}),this.elSeries.attr({"data:longestSeries":o[l].length===f.globals.dataPoints,rel:l+1,"data:realIndex":u}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(o){var l,u,f,p,_=o.series,m=o.i,y=o.realIndex,w=o.prevX,S=o.prevY,M=this.w,T=new He(this.ctx);if(null===_[m][0]){for(var R=0;R<_[m].length;R++)if(null!==_[m][R]){l=T.move(w=this.xDivision*R,S=this.zeroY-_[m][R]/this.yRatio[this.yaxisIndex]),u=T.move(w,this.areaBottomY);break}}else l=T.move(w,S),u=T.move(w,this.areaBottomY)+T.line(w,S);if(f=T.move(-1,this.zeroY)+T.line(-1,this.zeroY),p=T.move(-1,this.zeroY)+T.line(-1,this.zeroY),M.globals.previousPaths.length>0){var O=this.lineHelpers.checkPreviousPaths({pathFromLine:f,pathFromArea:p,realIndex:y});f=O.pathFromLine,p=O.pathFromArea}return{prevX:w,prevY:S,linePath:l,areaPath:u,pathFromLine:f,pathFromArea:p}}},{key:"_handlePaths",value:function(o){var l=o.type,u=o.realIndex,f=o.i,p=o.paths,_=this.w,m=new He(this.ctx),y=new Jt(this.ctx);this.prevSeriesY.push(p.yArrj),_.globals.seriesXvalues[u]=p.xArrj,_.globals.seriesYvalues[u]=p.yArrj;var w=_.config.forecastDataPoints;if(w.count>0){var S=_.globals.seriesXvalues[u][_.globals.seriesXvalues[u].length-w.count-1],M=m.drawRect(S,0,_.globals.gridWidth,_.globals.gridHeight,0);_.globals.dom.elForecastMask.appendChild(M.node);var T=m.drawRect(0,0,S,_.globals.gridHeight,0);_.globals.dom.elNonForecastMask.appendChild(T.node)}this.pointsChart||_.globals.delayedElements.push({el:this.elPointsMain.node,index:u});var R={i:f,realIndex:u,animationDelay:f,initialSpeed:_.config.chart.animations.speed,dataChangeSpeed:_.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var O=y.fillPath({seriesNumber:u}),L=0;L<p.areaPaths.length;L++){var H=m.renderPaths(Gt(Gt({},R),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[L],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:O}));this.elSeries.add(H)}if(_.config.stroke.show&&!this.pointsChart){var z=null;if("line"===l)z=y.fillPath({seriesNumber:u,i:f});else if("solid"===_.config.stroke.fill.type)z=_.globals.stroke.colors[u];else{var Y=_.config.fill;_.config.fill=_.config.stroke.fill,z=y.fillPath({seriesNumber:u,i:f}),_.config.fill=Y}for(var X=0;X<p.linePaths.length;X++){var x=Gt(Gt({},R),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[X],stroke:z,strokeWidth:this.strokeWidth,strokeLineCap:_.config.stroke.lineCap,fill:"none"}),k=m.renderPaths(x);if(this.elSeries.add(k),w.count>0){var B=m.renderPaths(x);B.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&B.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(B),B.attr("clip-path","url(#forecastMask".concat(_.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(_.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(o){for(var l=o.series,u=o.realIndex,f=o.i,p=o.x,_=o.y,m=o.pX,y=o.pY,w=o.pathsFrom,S=o.linePaths,M=o.areaPaths,T=o.seriesIndex,R=o.lineYPosition,O=o.xArrj,L=o.yArrj,H=this.w,z=new He(this.ctx),Y=this.yRatio,X=w.prevY,x=w.linePath,k=w.areaPath,B=w.pathFromLine,W=w.pathFromArea,K=fe.isNumber(H.globals.minYArr[u])?H.globals.minYArr[u]:H.globals.minY,ve=H.globals.dataPoints>1?H.globals.dataPoints-1:H.globals.dataPoints,te=0;te<ve;te++){var Te=null==l[f][te+1];if(H.globals.isXNumeric){var Fe=H.globals.seriesX[u][te+1];void 0===H.globals.seriesX[u][te+1]&&(Fe=H.globals.seriesX[u][ve-1]),p=(Fe-H.globals.minX)/this.xRatio}else p+=this.xDivision;R=H.config.chart.stacked&&f>0&&H.globals.collapsedSeries.length<H.config.series.length-1?this.prevSeriesY[function(Pi){for(var Zt=Pi,cs=0;cs<H.globals.series.length;cs++)if(H.globals.collapsedSeriesIndices.indexOf(Pi)>-1){Zt--;break}return Zt>=0?Zt:0}(f-1)][te+1]:this.zeroY,_=Te?R-K/Y[this.yaxisIndex]+2*(this.isReversed?K/Y[this.yaxisIndex]:0):R-l[f][te+1]/Y[this.yaxisIndex]+2*(this.isReversed?l[f][te+1]/Y[this.yaxisIndex]:0),O.push(p),L.push(_);var qe=this.lineHelpers.calculatePoints({series:l,x:p,y:_,realIndex:u,i:f,j:te,prevY:X}),kt=this._createPaths({series:l,i:f,realIndex:u,j:te,x:p,y:_,pX:m,pY:y,linePath:x,areaPath:k,linePaths:S,areaPaths:M,seriesIndex:T});M=kt.areaPaths,S=kt.linePaths,m=kt.pX,y=kt.pY,k=kt.areaPath,x=kt.linePath,this.appendPathFrom&&(B+=z.line(p,this.zeroY),W+=z.line(p,this.zeroY)),this.handleNullDataPoints(l,qe,f,te,u),this._handleMarkersAndLabels({pointsPos:qe,series:l,x:p,y:_,prevY:X,i:f,j:te,realIndex:u})}return{yArrj:L,xArrj:O,pathFromArea:W,areaPaths:M,pathFromLine:B,linePaths:S}}},{key:"_handleMarkersAndLabels",value:function(o){var l=o.pointsPos,u=o.i,f=o.j,p=o.realIndex,_=this.w,m=new Vo(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,f,{realIndex:p,pointsPos:l,zRatio:this.zRatio,elParent:this.elPointsMain});else{_.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var y=this.markers.plotChartMarkers(l,p,f+1);null!==y&&this.elPointsMain.add(y)}var w=m.drawDataLabel(l,p,f+1,null);null!==w&&this.elDataLabelsWrap.add(w)}},{key:"_createPaths",value:function(o){var l=o.series,u=o.i,f=o.realIndex,p=o.j,_=o.x,m=o.y,y=o.pX,w=o.pY,S=o.linePath,M=o.areaPath,T=o.linePaths,R=o.areaPaths,O=o.seriesIndex,L=this.w,H=new He(this.ctx),z=L.config.stroke.curve,Y=this.areaBottomY;if(Array.isArray(L.config.stroke.curve)&&(z=Array.isArray(O)?L.config.stroke.curve[O[u]]:L.config.stroke.curve[u]),"smooth"===z){var X=.35*(_-y);L.globals.hasNullValues?(null!==l[u][p]&&(null!==l[u][p+1]?(S=H.move(y,w)+H.curve(y+X,w,_-X,m,_+1,m),M=H.move(y+1,w)+H.curve(y+X,w,_-X,m,_+1,m)+H.line(_,Y)+H.line(y,Y)+"z"):(S=H.move(y,w),M=H.move(y,w)+"z")),T.push(S),R.push(M)):(S+=H.curve(y+X,w,_-X,m,_,m),M+=H.curve(y+X,w,_-X,m,_,m)),y=_,w=m,p===l[u].length-2&&(M=M+H.curve(y,w,_,m,_,Y)+H.move(_,m)+"z",L.globals.hasNullValues||(T.push(S),R.push(M)))}else null===l[u][p+1]&&(S+=H.move(_,m),M=M+H.line(L.globals.isXNumeric?(L.globals.seriesX[f][p]-L.globals.minX)/this.xRatio:_-this.xDivision,Y)+H.move(_,m)+"z"),null===l[u][p]&&(S+=H.move(_,m),M+=H.move(_,Y)),"stepline"===z?(S=S+H.line(_,null,"H")+H.line(null,m,"V"),M=M+H.line(_,null,"H")+H.line(null,m,"V")):"straight"===z&&(S+=H.line(_,m),M+=H.line(_,m)),p===l[u].length-2&&(M=M+H.line(_,Y)+H.move(_,m)+"z",T.push(S),R.push(M));return{linePaths:T,areaPaths:R,pX:y,pY:w,linePath:S,areaPath:M}}},{key:"handleNullDataPoints",value:function(o,l,u,f,p){var _=this.w;if(null===o[u][f]&&_.config.markers.showNullDataPoints||1===o[u].length){var m=this.markers.plotChartMarkers(l,p,f+1,this.strokeWidth-_.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),U}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function U(m,y,w,S){this.xoffset=m,this.yoffset=y,this.height=S,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(M){var T,R=[],O=this.xoffset,L=this.yoffset,H=p(M)/this.height,z=p(M)/this.width;if(this.width>=this.height)for(T=0;T<M.length;T++)R.push([O,L,O+H,L+M[T]/H]),L+=M[T]/H;else for(T=0;T<M.length;T++)R.push([O,L,O+M[T]/z,L+z]),O+=M[T]/z;return R},this.cutArea=function(M){var T;if(this.width>=this.height){var R=M/this.height;T=new U(this.xoffset+R,this.yoffset,this.width-R,this.height)}else{var L=M/this.width;T=new U(this.xoffset,this.yoffset+L,this.width,this.height-L)}return T}}function o(m,y,w,S,M){return S=void 0===S?0:S,M=void 0===M?0:M,function(T){var R,O,L=[];for(R=0;R<T.length;R++)for(O=0;O<T[R].length;O++)L.push(T[R][O]);return L}(l(function(T,R){var O,L=[],H=R/p(T);for(O=0;O<T.length;O++)L[O]=T[O]*H;return L}(m,y*w),[],new U(S,M,y,w),[]))}function l(m,y,w,S){var M,T,R,O,L,H,z;if(0!==m.length)return M=w.shortestEdge(),L=T=m[0],H=M,0===(O=y).length||((z=O.slice()).push(L),u(O,H)>=u(z,H))?(y.push(T),l(m.slice(1),y,w,S)):(R=w.cutArea(p(y),S),S.push(w.getCoordinates(y)),l(m,[],R,S)),S;S.push(w.getCoordinates(y))}function u(m,y){var w=Math.min.apply(Math,m),S=Math.max.apply(Math,m),M=p(m);return Math.max(Math.pow(y,2)*S/Math.pow(M,2),Math.pow(M,2)/(Math.pow(y,2)*w))}function f(m){return m&&m.constructor===Array}function p(m){var y,w=0;for(y=0;y<m.length;y++)w+=m[y];return w}function _(m){var y,w=0;if(f(m[0]))for(y=0;y<m.length;y++)w+=_(m[y]);else w=p(m);return w}return function m(y,w,S,M,T){M=void 0===M?0:M,T=void 0===T?0:T;var R,O,L=[],H=[];if(f(y[0])){for(O=0;O<y.length;O++)L[O]=_(y[O]);for(R=o(L,w,S,M,T),O=0;O<y.length;O++)H.push(m(y[O],R[O][2]-R[O][0],R[O][3]-R[O][1],R[O][0],R[O][1]))}else H=o(y,w,S,M,T);return H}}();var Ah,an,Ll=function(){function U(o,l){Le(this,U),this.ctx=o,this.w=o.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new _g(o),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return st(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new He(this.ctx),p=new Jt(this.ctx),_=f.group({class:"apexcharts-treemap"});if(u.globals.noData)return _;var m=[];return o.forEach(function(y){var w=y.map(function(S){return Math.abs(S)});m.push(w)}),this.negRange=this.helpers.checkColorRange(),u.config.series.forEach(function(y,w){y.data.forEach(function(S){Array.isArray(l.labels[w])||(l.labels[w]=[]),l.labels[w].push(S.x)})}),window.TreemapSquared.generate(m,u.globals.gridWidth,u.globals.gridHeight).forEach(function(y,w){var S=f.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:fe.escapeString(u.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(u.config.chart.dropShadow.enabled){var M=u.config.chart.dropShadow;new En(l.ctx).dropShadow(_,M,w)}var T=f.group({class:"apexcharts-data-labels"});y.forEach(function(R,O){var L=R[0],H=R[1],z=R[2],Y=R[3],X=f.drawRect(L,H,z-L,Y-H,0,"#fff",1,l.strokeWidth,u.config.plotOptions.treemap.useFillColorAsStroke?k:u.globals.stroke.colors[w]);X.attr({cx:L,cy:H,index:w,i:w,j:O,width:z-L,height:Y-H});var x=l.helpers.getShadeColor(u.config.chart.type,w,O,l.negRange),k=x.color;void 0!==u.config.series[w].data[O]&&u.config.series[w].data[O].fillColor&&(k=u.config.series[w].data[O].fillColor);var B=p.fillPath({color:k,seriesNumber:w,dataPointIndex:O});X.node.classList.add("apexcharts-treemap-rect"),X.attr({fill:B}),l.helpers.addListeners(X);var W={x:L+(z-L)/2,y:H+(Y-H)/2,width:0,height:0},K={x:L,y:H,width:z-L,height:Y-H};if(u.config.chart.animations.enabled&&!u.globals.dataChanged){var ve=1;u.globals.resized||(ve=u.config.chart.animations.speed),l.animateTreemap(X,W,K,ve)}u.globals.dataChanged&&l.dynamicAnim.enabled&&u.globals.shouldAnimate&&(u.globals.previousPaths[w]&&u.globals.previousPaths[w][O]&&u.globals.previousPaths[w][O].rect&&(W=u.globals.previousPaths[w][O].rect),l.animateTreemap(X,W,K,l.dynamicAnim.speed));var Te=l.getFontSize(R),Fe=u.config.dataLabels.formatter(l.labels[w][O],{value:u.globals.series[w][O],seriesIndex:w,dataPointIndex:O,w:u}),qe=l.helpers.calculateDataLabels({text:Fe,x:(L+z)/2,y:(H+Y)/2+l.strokeWidth/2+Te/3,i:w,j:O,colorProps:x,fontSize:Te,series:o});u.config.dataLabels.enabled&&qe&&l.rotateToFitLabel(qe,Fe,L,H,z,Y),S.add(X),null!==qe&&S.add(qe)}),S.add(T),_.add(S)}),_}},{key:"getFontSize",value:function(o){var _,l=this.w,m=function y(w){var S,M=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)M+=y(w[S]);else for(S=0;S<w.length;S++)M+=w[S].length;return M}(this.labels)/function y(w){var S,M=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)M+=y(w[S]);else for(S=0;S<w.length;S++)M+=1;return M}(this.labels);return _=Math.pow((o[2]-o[0])*(o[3]-o[1]),.5),Math.min(_/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(o,l,u,f,p,_){var m=new He(this.ctx),y=m.getTextRects(l);if(y.width+5>p-u&&y.width<=_-f){var w=m.rotateAroundCenter(o.node);o.node.setAttribute("transform","rotate(-90 ".concat(w.x," ").concat(w.y,")"))}}},{key:"animateTreemap",value:function(o,l,u,f){var p=new Fo(this.ctx);p.animateRect(o,{x:l.x,y:l.y,width:l.width,height:l.height},{x:u.x,y:u.y,width:u.width,height:u.height},f,function(){p.animationCompleted(o)})}}]),U}(),cr=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return st(U,[{key:"calculateTimeScaleTicks",value:function(o,l){var u=this,f=this.w;if(f.globals.allSeriesCollapsed)return f.globals.labels=[],f.globals.timescaleLabels=[],[];var p=new gi(this.ctx),_=(l-o)/864e5;this.determineInterval(_),f.globals.disableZoomIn=!1,f.globals.disableZoomOut=!1,_<.00011574074074074075?f.globals.disableZoomIn=!0:_>5e4&&(f.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(o,l,this.utc),y=f.globals.gridWidth/_,w=y/24,S=w/60,M=S/60,T=Math.floor(24*_),R=Math.floor(1440*_),O=Math.floor(86400*_),L=Math.floor(_),H=Math.floor(_/30),z=Math.floor(_/365),Y={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},X={firstVal:Y,currentMillisecond:Y.minMillisecond,currentSecond:Y.minSecond,currentMinute:Y.minMinute,currentHour:Y.minHour,currentMonthDate:Y.minDate,currentDate:Y.minDate,currentMonth:Y.minMonth,currentYear:Y.minYear,daysWidthOnXAxis:y,hoursWidthOnXAxis:w,minutesWidthOnXAxis:S,secondsWidthOnXAxis:M,numberOfSeconds:O,numberOfMinutes:R,numberOfHours:T,numberOfDays:L,numberOfMonths:H,numberOfYears:z};switch(this.tickInterval){case"years":this.generateYearScale(X);break;case"months":case"half_year":this.generateMonthScale(X);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(X);break;case"hours":this.generateHourScale(X);break;case"minutes_fives":case"minutes":this.generateMinuteScale(X);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(X)}var x=this.timeScaleArray.map(function(k){var B={position:k.position,unit:k.unit,year:k.year,day:k.day?k.day:1,hour:k.hour?k.hour:0,month:k.month+1};return"month"===k.unit?Gt(Gt({},B),{},{day:1,value:k.value+1}):"day"===k.unit||"hour"===k.unit?Gt(Gt({},B),{},{value:k.value}):"minute"===k.unit?Gt(Gt({},B),{},{value:k.value,minute:k.value}):"second"===k.unit?Gt(Gt({},B),{},{value:k.value,minute:k.minute,second:k.second}):k});return x.filter(function(k){var B=1,W=Math.ceil(f.globals.gridWidth/120),K=k.value;void 0!==f.config.xaxis.tickAmount&&(W=f.config.xaxis.tickAmount),x.length>W&&(B=Math.floor(x.length/W));var ve=!1,te=!1;switch(u.tickInterval){case"years":"year"===k.unit&&(ve=!0);break;case"half_year":B=7,"year"===k.unit&&(ve=!0);break;case"months":B=1,"year"===k.unit&&(ve=!0);break;case"months_fortnight":B=15,"year"!==k.unit&&"month"!==k.unit||(ve=!0),30===K&&(te=!0);break;case"months_days":B=10,"month"===k.unit&&(ve=!0),30===K&&(te=!0);break;case"week_days":B=8,"month"===k.unit&&(ve=!0);break;case"days":B=1,"month"===k.unit&&(ve=!0);break;case"hours":"day"===k.unit&&(ve=!0);break;case"minutes_fives":case"seconds_fives":K%5!=0&&(te=!0);break;case"seconds_tens":K%10!=0&&(te=!0)}if("hours"===u.tickInterval||"minutes_fives"===u.tickInterval||"seconds_tens"===u.tickInterval||"seconds_fives"===u.tickInterval){if(!te)return!0}else if((K%B==0||ve)&&!te)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(o,l){var u=this.w,f=this.formatDates(o),p=this.removeOverlappingTS(f);u.globals.timescaleLabels=p.slice(),new Ch(this.ctx).plotCoords()}},{key:"determineInterval",value:function(o){var l=24*o,u=60*l;switch(!0){case o/365>5:this.tickInterval="years";break;case o>800:this.tickInterval="half_year";break;case o>180:this.tickInterval="months";break;case o>90:this.tickInterval="months_fortnight";break;case o>60:this.tickInterval="months_days";break;case o>30:this.tickInterval="week_days";break;case o>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case u>15:this.tickInterval="minutes_fives";break;case u>5:this.tickInterval="minutes";break;case u>1:this.tickInterval="seconds_tens";break;case 60*u>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(o){var l=o.firstVal,u=o.currentMonth,f=o.currentYear,p=o.daysWidthOnXAxis,_=o.numberOfYears,m=l.minYear,y=0,w=new gi(this.ctx),S="year";if(l.minDate>1||l.minMonth>0){var M=w.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);y=(w.determineDaysOfYear(l.minYear)-M+1)*p,this.timeScaleArray.push({position:y,value:m=l.minYear+1,unit:S,year:m,month:fe.monthMod(u+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:y,value:m,unit:S,year:f,month:fe.monthMod(u+1)});for(var T=m,R=y,O=0;O<_;O++)T++,R=w.determineDaysOfYear(T-1)*p+R,this.timeScaleArray.push({position:R,value:T,unit:S,year:T,month:1})}},{key:"generateMonthScale",value:function(o){var l=o.firstVal,u=o.currentMonthDate,f=o.currentMonth,p=o.currentYear,_=o.daysWidthOnXAxis,m=o.numberOfMonths,y=f,w=0,S=new gi(this.ctx),M="month",T=0;if(l.minDate>1){w=(S.determineDaysOfMonths(f+1,l.minYear)-u+1)*_,y=fe.monthMod(f+1);var R=p+T,O=fe.monthMod(y),L=y;0===y&&(M="year",L=R,O=1,R+=T+=1),this.timeScaleArray.push({position:w,value:L,unit:M,year:R,month:O})}else this.timeScaleArray.push({position:w,value:y,unit:M,year:p,month:fe.monthMod(f)});for(var H=y+1,z=w,Y=0,X=1;Y<m;Y++,X++){0===(H=fe.monthMod(H))?(M="year",T+=1):M="month";var x=this._getYear(p,H,T);z=S.determineDaysOfMonths(H,x)*_+z,this.timeScaleArray.push({position:z,value:0===H?x:H,unit:M,year:x,month:0===H?1:H}),H++}}},{key:"generateDayScale",value:function(o){var l=o.firstVal,u=o.currentMonth,f=o.currentYear,p=o.hoursWidthOnXAxis,_=o.numberOfDays,m=new gi(this.ctx),y="day",w=l.minDate+1,S=w,M=function(X,x,k){return X>m.determineDaysOfMonths(x+1,k)&&(S=1,y="month",R=x+=1),x},T=(24-l.minHour)*p,R=w,O=M(S,u,f);0===l.minHour&&1===l.minDate?(T=0,R=fe.monthMod(l.minMonth),y="month",S=l.minDate,_++):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(T=0,R=w=l.minDate,O=M(S=w,u,f)),this.timeScaleArray.push({position:T,value:R,unit:y,year:this._getYear(f,O,0),month:fe.monthMod(O),day:S});for(var L=T,H=0;H<_;H++){y="day",O=M(S+=1,O,this._getYear(f,O,0));var z=this._getYear(f,O,0);L=24*p+L;var Y=1===S?fe.monthMod(O):S;this.timeScaleArray.push({position:L,value:Y,unit:y,year:z,month:fe.monthMod(O),day:Y})}}},{key:"generateHourScale",value:function(o){var l=o.firstVal,u=o.currentDate,f=o.currentMonth,p=o.currentYear,_=o.minutesWidthOnXAxis,m=o.numberOfHours,y=new gi(this.ctx),w="hour",M=function(B,W){return B>y.determineDaysOfMonths(W+1,p)?W+=1:W},T=60-(l.minMinute+l.minSecond/60),R=T*_,O=l.minHour+1,L=O+1;60===T&&(R=0,L=(O=l.minHour)+1);var B,W,H=u,z=M(H,f);this.timeScaleArray.push({position:R,value:O,unit:w,day:H,hour:L,year:p,month:fe.monthMod(z)});for(var Y=R,X=0;X<m;X++){w="hour",L>=24&&(L=0,w="day",z=(B=H+=1,W=z,B>y.determineDaysOfMonths(W+1,p)&&(H=1,W+=1),{month:W,date:H}).month,z=M(H,z));var x=this._getYear(p,z,0);this.timeScaleArray.push({position:Y=0===L&&0===X?T*_:60*_+Y,value:0===L?H:L,unit:w,hour:L,day:H,year:x,month:fe.monthMod(z)}),L++}}},{key:"generateMinuteScale",value:function(o){for(var w=o.minutesWidthOnXAxis,M=o.numberOfMinutes,T=o.currentMinute+1,R=o.currentDate,O=o.currentMonth,L=o.currentYear,H=o.currentHour,z=(60-o.currentSecond-o.currentMillisecond/1e3)*o.secondsWidthOnXAxis,Y=0;Y<M;Y++)T>=60&&(T=0,24===(H+=1)&&(H=0)),this.timeScaleArray.push({position:z,value:T,unit:"minute",hour:H,minute:T,day:R,year:this._getYear(L,O,0),month:fe.monthMod(O)}),z+=w,T++}},{key:"generateSecondScale",value:function(o){for(var w=o.secondsWidthOnXAxis,S=o.numberOfSeconds,M=o.currentSecond+1,T=o.currentMinute,R=o.currentDate,O=o.currentMonth,L=o.currentYear,H=o.currentHour,z=(1e3-o.currentMillisecond)/1e3*w,Y=0;Y<S;Y++)M>=60&&(M=0,++T>=60&&(T=0,24==++H&&(H=0))),this.timeScaleArray.push({position:z,value:M,unit:"second",hour:H,minute:T,second:M,day:R,year:this._getYear(L,O,0),month:fe.monthMod(O)}),z+=w,M++}},{key:"createRawDateString",value:function(o,l){var u=o.year;return 0===o.month&&(o.month=1),u+="-"+("0"+o.month.toString()).slice(-2),u+="day"===o.unit?"day"===o.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(o.day?o.day:"1")).slice(-2),u+="hour"===o.unit?"hour"===o.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(o.hour?o.hour:"0")).slice(-2),u+="minute"===o.unit?":"+("0"+l).slice(-2):":"+(o.minute?("0"+o.minute).slice(-2):"00"),u+="second"===o.unit?":"+("0"+l).slice(-2):":00",this.utc&&(u+=".000Z"),u}},{key:"formatDates",value:function(o){var l=this,u=this.w;return o.map(function(f){var p=f.value.toString(),_=new gi(l.ctx),m=l.createRawDateString(f,p),y=_.getDate(_.parseDate(m));if(l.utc||(y=_.getDate(_.parseDateWithTimezone(m))),void 0===u.config.xaxis.labels.format){var w="dd MMM",S=u.config.xaxis.labels.datetimeFormatter;"year"===f.unit&&(w=S.year),"month"===f.unit&&(w=S.month),"day"===f.unit&&(w=S.day),"hour"===f.unit&&(w=S.hour),"minute"===f.unit&&(w=S.minute),"second"===f.unit&&(w=S.second),p=_.formatDate(y,w)}else p=_.formatDate(y,u.config.xaxis.labels.format);return{dateString:m,position:f.position,value:p,unit:f.unit,year:f.year,month:f.month}})}},{key:"removeOverlappingTS",value:function(o){var l,u=this,f=new He(this.ctx),p=!1;o.length>0&&o[0].value&&o.every(function(y){return y.value.length===o[0].value.length})&&(p=!0,l=f.getTextRects(o[0].value).width);var _=0;return o.map(function(y,w){if(w>0&&u.w.config.xaxis.labels.hideOverlappingLabels){var S=p?l:f.getTextRects(o[_].value).width;return y.position>o[_].position+S+10?(_=w,y):null}return y}).filter(function(y){return null!==y})}},{key:"_getYear",value:function(o,l,u){return o+Math.floor(l/12)+u}}]),U}(),jD=function(){function U(o,l){Le(this,U),this.ctx=l,this.w=l.w,this.el=o}return st(U,[{key:"setupElements",value:function(){var o=this.w.globals,l=this.w.config,u=l.chart.type;o.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(u)>-1,o.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(u)>-1,o.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,o.chartClass=".apexcharts"+o.chartID,o.dom.baseEl=this.el,o.dom.elWrap=document.createElement("div"),He.setAttrs(o.dom.elWrap,{id:o.chartClass.substring(1),class:"apexcharts-canvas "+o.chartClass.substring(1)}),this.el.appendChild(o.dom.elWrap),o.dom.Paper=new window.SVG.Doc(o.dom.elWrap),o.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),o.dom.Paper.node.style.background=l.chart.background,this.setSVGDimensions(),o.dom.elGraphical=o.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),o.dom.elAnnotations=o.dom.Paper.group().attr({class:"apexcharts-annotations"}),o.dom.elDefs=o.dom.Paper.defs(),o.dom.elLegendWrap=document.createElement("div"),o.dom.elLegendWrap.classList.add("apexcharts-legend"),o.dom.elWrap.appendChild(o.dom.elLegendWrap),o.dom.Paper.add(o.dom.elGraphical),o.dom.elGraphical.add(o.dom.elDefs)}},{key:"plotChartType",value:function(o,l){var u=this.w,f=u.config,p=u.globals,_={series:[],i:[]},m={series:[],i:[]},y={series:[],i:[]},w={series:[],i:[]},S={series:[],i:[]},M={series:[],i:[]},T={series:[],i:[]};p.series.map(function(k,B){var W=0;void 0!==o[B].type?("column"===o[B].type||"bar"===o[B].type?(p.series.length>1&&f.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),S.series.push(k),S.i.push(B),W++,u.globals.columnSeries=S.series):"area"===o[B].type?(m.series.push(k),m.i.push(B),W++):"line"===o[B].type?(_.series.push(k),_.i.push(B),W++):"scatter"===o[B].type?(y.series.push(k),y.i.push(B)):"bubble"===o[B].type?(w.series.push(k),w.i.push(B),W++):"candlestick"===o[B].type?(M.series.push(k),M.i.push(B),W++):"boxPlot"===o[B].type?(T.series.push(k),T.i.push(B),W++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),W>1&&(p.comboCharts=!0)):(_.series.push(k),_.i.push(B))});var R=new js(this.ctx,l),O=new ls(this.ctx,l);this.ctx.pie=new yg(this.ctx);var L=new mb(this.ctx);this.ctx.rangeBar=new Bi(this.ctx,l);var H=new bg(this.ctx),z=[];if(p.comboCharts){if(m.series.length>0&&z.push(R.draw(m.series,"area",m.i)),S.series.length>0)if(u.config.chart.stacked){var Y=new Dh(this.ctx,l);z.push(Y.draw(S.series,S.i))}else this.ctx.bar=new za(this.ctx,l),z.push(this.ctx.bar.draw(S.series,S.i));if(_.series.length>0&&z.push(R.draw(_.series,"line",_.i)),M.series.length>0&&z.push(O.draw(M.series,M.i)),T.series.length>0&&z.push(O.draw(T.series,T.i)),y.series.length>0){var X=new js(this.ctx,l,!0);z.push(X.draw(y.series,"scatter",y.i))}if(w.series.length>0){var x=new js(this.ctx,l,!0);z.push(x.draw(w.series,"bubble",w.i))}}else switch(f.chart.type){case"line":z=R.draw(p.series,"line");break;case"area":z=R.draw(p.series,"area");break;case"bar":f.chart.stacked?z=new Dh(this.ctx,l).draw(p.series):(this.ctx.bar=new za(this.ctx,l),z=this.ctx.bar.draw(p.series));break;case"candlestick":case"boxPlot":z=new ls(this.ctx,l).draw(p.series);break;case"rangeBar":z=this.ctx.rangeBar.draw(p.series);break;case"heatmap":z=new gb(this.ctx,l).draw(p.series);break;case"treemap":z=new Ll(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":z=this.ctx.pie.draw(p.series);break;case"radialBar":z=L.draw(p.series);break;case"radar":z=H.draw(p.series);break;default:z=R.draw(p.series)}return z}},{key:"setSVGDimensions",value:function(){var o=this.w.globals,l=this.w.config;o.svgWidth=l.chart.width,o.svgHeight=l.chart.height;var u=fe.getDimensions(this.el),f=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===f?fe.isNumber(u[0])&&(0===u[0].width&&(u=fe.getDimensions(this.el.parentNode)),o.svgWidth=u[0]*parseInt(l.chart.width,10)/100):"px"!==f&&""!==f||(o.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==o.svgHeight&&""!==o.svgHeight)if("%"===p){var _=fe.getDimensions(this.el.parentNode);o.svgHeight=_[1]*parseInt(l.chart.height,10)/100}else o.svgHeight=parseInt(l.chart.height,10);else o.svgHeight=o.axisCharts?o.svgWidth/1.61:o.svgWidth/1.2;o.svgWidth<0&&(o.svgWidth=0),o.svgHeight<0&&(o.svgHeight=0),He.setAttrs(o.dom.Paper.node,{width:o.svgWidth,height:o.svgHeight}),"%"!==p&&(o.dom.Paper.node.parentNode.parentNode.style.minHeight=o.svgHeight+(l.chart.sparkline.enabled?0:o.axisCharts?l.chart.parentHeightOffset:0)+"px"),o.dom.elWrap.style.width=o.svgWidth+"px",o.dom.elWrap.style.height=o.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var o=this.w.globals;He.setAttrs(o.dom.elGraphical.node,{transform:"translate("+o.translateX+", "+o.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var o=this.w,l=o.globals,u=0,f=o.config.chart.sparkline.enabled?1:15;f+=o.config.grid.padding.bottom,"top"!==o.config.legend.position&&"bottom"!==o.config.legend.position||!o.config.legend.show||o.config.legend.floating||(u=new fb(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=o.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),_=2.05*o.globals.radialSize;if(p&&!o.config.chart.sparkline.enabled&&0!==o.config.plotOptions.radialBar.startAngle){var m=fe.getBoundingClientRect(p);_=m.bottom,_=Math.max(2.05*o.globals.radialSize,m.bottom-m.top)}var w=_+l.translateY+u+f;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",w),o.config.chart.height&&String(o.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=w+"px",He.setAttrs(l.dom.Paper.node,{height:w}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=w+"px")}},{key:"coreCalculations",value:function(){new dg(this.ctx).init()}},{key:"resetGlobals",value:function(){var o=this,l=function(){return o.w.config.series.map(function(p){return[]})},u=new ab,f=this.w.globals;u.initGlobalVars(f),f.seriesXvalues=l(),f.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var o=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new ug(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new ug(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new cr(this.ctx);var u=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(u)}o=new fn(this.ctx).getCalculatedRatios()}return o}},{key:"updateSourceChart",value:function(o){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:o.w.globals.minX,max:o.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var o=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var u=l.config.chart.brush.targets||[l.config.chart.brush.target];u.forEach(function(f){var p=ApexCharts.getChartByID(f);p.w.globals.brushSource=o.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){o.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){o.updateSourceChart(p)})}),l.config.chart.events.selection=function(f,p){u.forEach(function(_){var m=ApexCharts.getChartByID(_),y=fe.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var w=new Ua(m);y=w.autoScaleY(m,y,p)}var S=m.w.config.yaxis.reduce(function(M,T,R){return[].concat(Ws(M),[Gt(Gt({},m.w.config.yaxis[R]),{},{min:y[0].min,max:y[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:S},!1,!1,!1,!1)})}}}}]),U}(),vb=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"_updateOptions",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var y=[l.ctx];p&&(y=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(y=[l.ctx],l.ctx.w.globals.isExecCalled=!1),y.forEach(function(w,S){var M=w.w;if(M.globals.shouldAnimate=f,u||(M.globals.resized=!0,M.globals.dataChanged=!0,f&&w.series.getPreviousPaths()),o&&"object"===bn(o)&&(w.config=new Ga(o),o=fn.extendArrayProps(w.config,o,M),w.w.globals.chartID!==l.ctx.w.globals.chartID&&delete o.series,M.config=fe.extend(M.config,o),_&&(M.globals.lastXAxis=o.xaxis?fe.clone(o.xaxis):[],M.globals.lastYAxis=o.yaxis?fe.clone(o.yaxis):[],M.globals.initialConfig=fe.extend({},M.config),M.globals.initialSeries=fe.clone(M.config.series),o.series))){for(var T=0;T<M.globals.collapsedSeriesIndices.length;T++){var R=M.config.series[M.globals.collapsedSeriesIndices[T]];M.globals.collapsedSeries[T].data=M.globals.axisCharts?R.data.slice():R}for(var O=0;O<M.globals.ancillaryCollapsedSeriesIndices.length;O++){var L=M.config.series[M.globals.ancillaryCollapsedSeriesIndices[O]];M.globals.ancillaryCollapsedSeries[O].data=M.globals.axisCharts?L.data.slice():L}w.series.emptyCollapsedSeries(M.config.series)}return w.update(o).then(function(){S===y.length-1&&m(w)})})})}},{key:"_updateSeries",value:function(o,l){var u=this,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var _,m=u.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&u.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(_=o.map(function(y,w){return u._extendSeries(y,w)})).length&&(_=[{data:[]}]),m.config.series=_):m.config.series=o.slice(),f&&(m.globals.initialSeries=fe.clone(m.config.series)),u.ctx.update().then(function(){p(u.ctx)})})}},{key:"_extendSeries",value:function(o,l){var u=this.w,f=u.config.series[l];return Gt(Gt({},u.config.series[l]),{},{name:o.name?o.name:f&&f.name,color:o.color?o.color:f&&f.color,type:o.type?o.type:f&&f.type,data:o.data?o.data:f&&f.data})}},{key:"toggleDataPointSelection",value:function(o,l){var u=this.w,f=null,p=".apexcharts-series[data\\:realIndex='".concat(o,"']");return u.globals.axisCharts?f=u.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(f=u.globals.dom.Paper.select("".concat(p," path[j='").concat(o,"']")).members[0],"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"donut"!==u.config.chart.type||this.ctx.pie.pieClicked(o)),f?(new He(this.ctx).pathMouseDown(f,null),f.node?f.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(o){var l=this.w;if(["min","max"].forEach(function(f){void 0!==o.xaxis[f]&&(l.config.xaxis[f]=o.xaxis[f],l.globals.lastXAxis[f]=o.xaxis[f])}),o.xaxis.categories&&o.xaxis.categories.length&&(l.config.xaxis.categories=o.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var u=new jt(o);o=u.convertCatToNumericXaxis(o,this.ctx)}return o}},{key:"forceYAxisUpdate",value:function(o){var l=this.w;return l.config.chart.stacked&&"100%"===l.config.chart.stackType&&(Array.isArray(o.yaxis)?o.yaxis.forEach(function(u,f){o.yaxis[f].min=0,o.yaxis[f].max=100}):(o.yaxis.min=0,o.yaxis.max=100)),o}},{key:"revertDefaultAxisMinMax",value:function(o){var l=this,u=this.w,f=u.globals.lastXAxis,p=u.globals.lastYAxis;o&&o.xaxis&&(f=o.xaxis),o&&o.yaxis&&(p=o.yaxis),u.config.xaxis.min=f.min,u.config.xaxis.max=f.max,u.config.yaxis.map(function(m,y){u.globals.zoomed||void 0!==p[y]?function(m){void 0!==p[m]&&(u.config.yaxis[m].min=p[m].min,u.config.yaxis[m].max=p[m].max)}(y):void 0!==l.ctx.opts.yaxis[y]&&(m.min=l.ctx.opts.yaxis[y].min,m.max=l.ctx.opts.yaxis[y].max)})}}]),U}();Ah="undefined"!=typeof window?window:void 0,an=function(U,o){var l=(void 0!==this?this:U).SVG=function(x){if(l.supported)return x=new l.Doc(x),l.parser.draw||l.prepare(),x};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(x){return"Svgjs"+S(x)+l.did++},l.create=function(x){var k=o.createElementNS(this.ns,x);return k.setAttribute("id",this.eid(x)),k},l.extend=function(){var x,k;k=(x=[].slice.call(arguments)).pop();for(var B=x.length-1;B>=0;B--)if(x[B])for(var W in k)x[B].prototype[W]=k[W];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(x){var k="function"==typeof x.create?x.create:function(){this.constructor.call(this,l.create(x.create))};return x.inherit&&(k.prototype=new x.inherit),x.extend&&l.extend(k,x.extend),x.construct&&l.extend(x.parent||l.Container,x.construct),k},l.adopt=function(x){return x?x.instance?x.instance:((k="svg"==x.nodeName?x.parentNode instanceof U.SVGElement?new l.Nested:new l.Doc:"linearGradient"==x.nodeName?new l.Gradient("linear"):"radialGradient"==x.nodeName?new l.Gradient("radial"):l[S(x.nodeName)]?new(l[S(x.nodeName)]):new l.Element(x)).type=x.nodeName,k.node=x,x.instance=k,k instanceof l.Doc&&k.namespace().defs(),k.setData(JSON.parse(x.getAttribute("svgjs:data"))||{}),k):null;var k},l.prepare=function(){var x=o.getElementsByTagName("body")[0],k=(x?new l.Doc(x):l.adopt(o.documentElement).nested()).size(2,0);l.parser={body:x||o.documentElement,draw:k.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:k.polyline().node,path:k.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},o.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(x,k){for(var B=x.length,W=[],K=0;K<B;K++)W.push(k(x[K]));return W},filter:function(x,k){for(var B=x.length,W=[],K=0;K<B;K++)k(x[K])&&W.push(x[K]);return W},filterSVGElements:function(x){return this.filter(x,function(k){return k instanceof U.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(x){var k,B;this.r=0,this.g=0,this.b=0,x&&("string"==typeof x?l.regex.isRgb.test(x)?(k=l.regex.rgb.exec(x.replace(l.regex.whitespace,"")),this.r=parseInt(k[1]),this.g=parseInt(k[2]),this.b=parseInt(k[3])):l.regex.isHex.test(x)&&(k=l.regex.hex.exec(4==(B=x).length?["#",B.substring(1,2),B.substring(1,2),B.substring(2,3),B.substring(2,3),B.substring(3,4),B.substring(3,4)].join(""):B),this.r=parseInt(k[1],16),this.g=parseInt(k[2],16),this.b=parseInt(k[3],16)):"object"===bn(x)&&(this.r=x.r,this.g=x.g,this.b=x.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(x){return this.destination=new l.Color(x),this},at:function(x){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(x=x<0?0:x>1?1:x)),g:~~(this.g+(this.destination.g-this.g)*x),b:~~(this.b+(this.destination.b-this.b)*x)}):this}}),l.Color.test=function(x){return l.regex.isHex.test(x+="")||l.regex.isRgb.test(x)},l.Color.isRgb=function(x){return x&&"number"==typeof x.r&&"number"==typeof x.g&&"number"==typeof x.b},l.Color.isColor=function(x){return l.Color.isRgb(x)||l.Color.test(x)},l.Array=function(x,k){0==(x=(x||[]).valueOf()).length&&k&&(x=k.valueOf()),this.value=this.parse(x)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(x){return x=x.valueOf(),Array.isArray(x)?x:this.split(x)}}),l.PointArray=function(x,k){l.Array.call(this,x,k||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var u={M:function(x,k,B){return k.x=B.x=x[0],k.y=B.y=x[1],["M",k.x,k.y]},L:function(x,k){return k.x=x[0],k.y=x[1],["L",x[0],x[1]]},H:function(x,k){return k.x=x[0],["H",x[0]]},V:function(x,k){return k.y=x[0],["V",x[0]]},C:function(x,k){return k.x=x[4],k.y=x[5],["C",x[0],x[1],x[2],x[3],x[4],x[5]]},Q:function(x,k){return k.x=x[2],k.y=x[3],["Q",x[0],x[1],x[2],x[3]]},Z:function(x,k,B){return k.x=B.x,k.y=B.y,["Z"]}},f="mlhvqtcsaz".split(""),p=0,_=f.length;p<_;++p)u[f[p]]=function(x){return function(k,B,W){if("H"==x)k[0]=k[0]+B.x;else if("V"==x)k[0]=k[0]+B.y;else if("A"==x)k[5]=k[5]+B.x,k[6]=k[6]+B.y;else for(var K=0,ve=k.length;K<ve;++K)k[K]=k[K]+(K%2?B.y:B.x);if(u&&"function"==typeof u[x])return u[x](k,B,W)}}(f[p].toUpperCase());l.PathArray=function(x,k){l.Array.call(this,x,k||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(x){for(var k=0,B=x.length,W="";k<B;k++)W+=x[k][0],null!=x[k][1]&&(W+=x[k][1],null!=x[k][2]&&(W+=" ",W+=x[k][2],null!=x[k][3]&&(W+=" ",W+=x[k][3],W+=" ",W+=x[k][4],null!=x[k][5]&&(W+=" ",W+=x[k][5],W+=" ",W+=x[k][6],null!=x[k][7]&&(W+=" ",W+=x[k][7])))));return W+" "}(this.value)},move:function(x,k){return this.bbox(),this},at:function(x){if(!this.destination)return this;for(var k=this.value,B=this.destination.value,W=[],K=new l.PathArray,ve=0,te=k.length;ve<te;ve++){W[ve]=[k[ve][0]];for(var Te=1,Fe=k[ve].length;Te<Fe;Te++)W[ve][Te]=k[ve][Te]+(B[ve][Te]-k[ve][Te])*x;"A"===W[ve][0]&&(W[ve][4]=+(0!=W[ve][4]),W[ve][5]=+(0!=W[ve][5]))}return K.value=W,K},parse:function(x){if(x instanceof l.PathArray)return x.valueOf();var k,B={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};x="string"==typeof x?x.replace(l.regex.numbersWithDots,y).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):x.reduce(function(Fe,qe){return[].concat.call(Fe,qe)},[]);var W=[],K=new l.Point,ve=new l.Point,te=0,Te=x.length;do{l.regex.isPathLetter.test(x[te])?(k=x[te],++te):"M"==k?k="L":"m"==k&&(k="l"),W.push(u[k].call(null,x.slice(te,te+=B[k.toUpperCase()]).map(parseFloat),K,ve))}while(Te>te);return W},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(x,k){this.value=0,this.unit=k||"","number"==typeof x?this.value=isNaN(x)?0:isFinite(x)?x:x<0?-34e37:34e37:"string"==typeof x?(k=x.match(l.regex.numberAndUnit))&&(this.value=parseFloat(k[1]),"%"==k[5]?this.value/=100:"s"==k[5]&&(this.value*=1e3),this.unit=k[5]):x instanceof l.Number&&(this.value=x.valueOf(),this.unit=x.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(x){return x=new l.Number(x),new l.Number(this+x,this.unit||x.unit)},minus:function(x){return x=new l.Number(x),new l.Number(this-x,this.unit||x.unit)},times:function(x){return x=new l.Number(x),new l.Number(this*x,this.unit||x.unit)},divide:function(x){return x=new l.Number(x),new l.Number(this/x,this.unit||x.unit)},to:function(x){var k=new l.Number(this);return"string"==typeof x&&(k.unit=x),k},morph:function(x){return this.destination=new l.Number(x),x.relative&&(this.destination.value+=this.value),this},at:function(x){return this.destination?new l.Number(this.destination).minus(this).times(x).plus(this):this}}}),l.Element=l.invent({create:function(x){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=x)&&(this.type=x.nodeName,this.node.instance=this,this._stroke=x.getAttribute("stroke")||this._stroke)},extend:{x:function(x){return this.attr("x",x)},y:function(x){return this.attr("y",x)},cx:function(x){return null==x?this.x()+this.width()/2:this.x(x-this.width()/2)},cy:function(x){return null==x?this.y()+this.height()/2:this.y(x-this.height()/2)},move:function(x,k){return this.x(x).y(k)},center:function(x,k){return this.cx(x).cy(k)},width:function(x){return this.attr("width",x)},height:function(x){return this.attr("height",x)},size:function(x,k){var B=T(this,x,k);return this.width(new l.Number(B.width)).height(new l.Number(B.height))},clone:function(x){this.writeDataToDom();var k=L(this.node.cloneNode(!0));return x?x.add(k):this.after(k),k},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(x){return this.after(x).remove(),x},addTo:function(x){return x.put(this)},putIn:function(x){return x.add(this)},id:function(x){return this.attr("id",x)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var x=this.attr("class");return null==x?[]:x.trim().split(l.regex.delimiter)},hasClass:function(x){return-1!=this.classes().indexOf(x)},addClass:function(x){if(!this.hasClass(x)){var k=this.classes();k.push(x),this.attr("class",k.join(" "))}return this},removeClass:function(x){return this.hasClass(x)&&this.attr("class",this.classes().filter(function(k){return k!=x}).join(" ")),this},toggleClass:function(x){return this.hasClass(x)?this.removeClass(x):this.addClass(x)},reference:function(x){return l.get(this.attr(x))},parent:function(x){var k=this;if(!k.node.parentNode)return null;if(k=l.adopt(k.node.parentNode),!x)return k;for(;k&&k.node instanceof U.SVGElement;){if("string"==typeof x?k.matches(x):k instanceof x)return k;if(!k.node.parentNode||"#document"==k.node.parentNode.nodeName)return null;k=l.adopt(k.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(x){var k=[],B=this;do{if(!(B=B.parent(x))||!B.node)break;k.push(B)}while(B.parent);return k},matches:function(x){return((k=this.node).matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector).call(k,x);var k},native:function(){return this.node},svg:function(x){var k=o.createElement("svg");if(!(x&&this instanceof l.Parent))return k.appendChild(x=o.createElement("svg")),this.writeDataToDom(),x.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");k.innerHTML="<svg>"+x.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var B=0,W=k.firstChild.childNodes.length;B<W;B++)this.node.appendChild(k.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(x){return this.dom=x,this},is:function(x){return this instanceof x}}}),l.easing={"-":function(x){return x},"<>":function(x){return-Math.cos(x*Math.PI)/2+.5},">":function(x){return Math.sin(x*Math.PI/2)},"<":function(x){return 1-Math.cos(x*Math.PI/2)}},l.morph=function(x){return function(k,B){return new l.MorphObj(k,B).at(x)}},l.Situation=l.invent({create:function(x){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(x.duration).valueOf(),this.delay=new l.Number(x.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=x.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(x){this._target=x,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(x,k,B){"object"===bn(x)&&(k=x.ease,B=x.delay,x=x.duration);var W=new l.Situation({duration:x||1e3,delay:B||0,ease:l.easing[k||"-"]||k});return this.queue(W),this},target:function(x){return x&&x instanceof l.Element?(this._target=x,this):this._target},timeToAbsPos:function(x){return(x-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(x){return this.situation.duration/this._speed*x+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=U.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){U.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(x){return("function"==typeof x||x instanceof l.Situation)&&this.situations.push(x),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var x,k=this.situation;if(k.init)return this;for(var B in k.animations){x=this.target()[B](),Array.isArray(x)||(x=[x]),Array.isArray(k.animations[B])||(k.animations[B]=[k.animations[B]]);for(var W=x.length;W--;)k.animations[B][W]instanceof l.Number&&(x[W]=new l.Number(x[W])),k.animations[B][W]=x[W].morph(k.animations[B][W])}for(var B in k.attrs)k.attrs[B]=new l.MorphObj(this.target().attr(B),k.attrs[B]);for(var B in k.styles)k.styles[B]=new l.MorphObj(this.target().style(B),k.styles[B]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(x,k){var B=this.active;return this.active=!1,k&&this.clearQueue(),x&&this.situation&&(!B&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(x){var k=this.last();return this.target().on("finished.fx",function B(W){W.detail.situation==k&&(x.call(this,k),this.off("finished.fx",B))}),this._callStart()},during:function(x){var k=this.last(),B=function(W){W.detail.situation==k&&x.call(this,W.detail.pos,l.morph(W.detail.pos),W.detail.eased,k)};return this.target().off("during.fx",B).on("during.fx",B),this.after(function(){this.off("during.fx",B)}),this._callStart()},afterAll:function(x){var k=function B(W){x.call(this),this.off("allfinished.fx",B)};return this.target().off("allfinished.fx",k).on("allfinished.fx",k),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(x,k,B){return this.last()[B||"animations"][x]=k,this._callStart()},step:function(x){var k,B,W;x||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(k=Math.max(this.absPos,0),B=Math.floor(k),!0===this.situation.loops||B<this.situation.loops?(this.pos=k-B,W=this.situation.loop,this.situation.loop=B):(this.absPos=this.situation.loops,this.pos=1,W=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-W)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var K=this.situation.ease(this.pos);for(var ve in this.situation.once)ve>this.lastPos&&ve<=K&&(this.situation.once[ve].call(this.target(),this.pos,K),delete this.situation.once[ve]);return this.active&&this.target().fire("during",{pos:this.pos,eased:K,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=K,this):this},eachAt:function(){var x,k=this,B=this.target(),W=this.situation;for(var K in W.animations)x=[].concat(W.animations[K]).map(function(Te){return"string"!=typeof Te&&Te.at?Te.at(W.ease(k.pos),k.pos):Te}),B[K].apply(B,x);for(var K in W.attrs)x=[K].concat(W.attrs[K]).map(function(Fe){return"string"!=typeof Fe&&Fe.at?Fe.at(W.ease(k.pos),k.pos):Fe}),B.attr.apply(B,x);for(var K in W.styles)x=[K].concat(W.styles[K]).map(function(Fe){return"string"!=typeof Fe&&Fe.at?Fe.at(W.ease(k.pos),k.pos):Fe}),B.style.apply(B,x);if(W.transforms.length){x=W.initialTransformation,K=0;for(var ve=W.transforms.length;K<ve;K++){var te=W.transforms[K];te instanceof l.Matrix?x=te.relative?x.multiply((new l.Matrix).morph(te).at(W.ease(this.pos))):x.morph(te).at(W.ease(this.pos)):(te.relative||te.undo(x.extract()),x=x.multiply(te.at(W.ease(this.pos))))}B.matrix(x)}return this},once:function(x,k,B){var W=this.last();return B||(x=W.ease(x)),W.once[x]=k,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(x,k,B){return(this.fx||(this.fx=new l.FX(this))).animate(x,k,B)},delay:function(x){return(this.fx||(this.fx=new l.FX(this))).delay(x)},stop:function(x,k){return this.fx&&this.fx.stop(x,k),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(x,k){return l.Color.isColor(k)?new l.Color(x).morph(k):l.regex.delimiter.test(x)?l.regex.pathLetters.test(x)?new l.PathArray(x).morph(k):new l.Array(x).morph(k):l.regex.numberAndUnit.test(k)?new l.Number(x).morph(k):(this.value=x,void(this.destination=k))},extend:{at:function(x,k){return k<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(x,k,B){if("object"===bn(x))for(var W in x)this.attr(W,x[W]);else this.add(x,k,"attrs");return this},plot:function(x,k,B,W){return 4==arguments.length?this.plot([x,k,B,W]):this.add("plot",new(this.target().morphArray)(x))}}),l.Box=l.invent({create:function(x,k,B,W){if(!("object"!==bn(x)||x instanceof l.Element))return l.Box.call(this,null!=x.left?x.left:x.x,null!=x.top?x.top:x.y,x.width,x.height);4==arguments.length&&(this.x=x,this.y=k,this.width=B,this.height=W),H(this)}}),l.BBox=l.invent({create:function(x){if(l.Box.apply(this,[].slice.call(arguments)),x instanceof l.Element){var k;try{if(!o.documentElement.contains){for(var B=x.node;B.parentNode;)B=B.parentNode;if(B!=o)throw new Error("Element not in the dom")}k=x.node.getBBox()}catch(K){if(x instanceof l.Shape){l.parser.draw||l.prepare();var W=x.clone(l.parser.draw.instance).show();W&&W.node&&"function"==typeof W.node.getBBox&&(k=W.node.getBBox()),W&&"function"==typeof W.remove&&W.remove()}else k={x:x.node.clientLeft,y:x.node.clientTop,width:x.node.clientWidth,height:x.node.clientHeight}}l.Box.call(this,k)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(x){var k=O([1,0,0,1,0,0]);x=null===x?k:x instanceof l.Element?x.matrixify():"string"==typeof x?O(x.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?O([].slice.call(arguments)):Array.isArray(x)?O(x):x&&"object"===bn(x)?x:k;for(var B=Y.length-1;B>=0;--B)this[Y[B]]=null!=x[Y[B]]?x[Y[B]]:k[Y[B]]},extend:{extract:function(){var x=R(this,0,1);R(this,1,0);var k=180/Math.PI*Math.atan2(x.y,x.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(k*Math.PI/180)+this.f*Math.sin(k*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(k*Math.PI/180)+this.e*Math.sin(-k*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(x){return this.destination=new l.Matrix(x),this},multiply:function(x){return new l.Matrix(this.native().multiply((k=x,k instanceof l.Matrix||(k=new l.Matrix(k)),k).native()));var k},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(x,k){return new l.Matrix(this.native().translate(x||0,k||0))},native:function(){for(var x=l.parser.native.createSVGMatrix(),k=Y.length-1;k>=0;k--)x[Y[k]]=this[Y[k]];return x},toString:function(){return"matrix("+z(this.a)+","+z(this.b)+","+z(this.c)+","+z(this.d)+","+z(this.e)+","+z(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var x=this.rect(1,1),k=x.node.getScreenCTM();return x.remove(),new l.Matrix(k)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(x,k){var B;B=Array.isArray(x)?{x:x[0],y:x[1]}:"object"===bn(x)?{x:x.x,y:x.y}:null!=x?{x,y:null!=k?k:x}:{x:0,y:0},this.x=B.x,this.y=B.y},extend:{clone:function(){return new l.Point(this)},morph:function(x,k){return this.destination=new l.Point(x,k),this}}}),l.extend(l.Element,{point:function(x,k){return new l.Point(x,k).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(x,k,B){if(null==x){for(x={},B=(k=this.node.attributes).length-1;B>=0;B--)x[k[B].nodeName]=l.regex.isNumber.test(k[B].nodeValue)?parseFloat(k[B].nodeValue):k[B].nodeValue;return x}if("object"===bn(x))for(var W in x)this.attr(W,x[W]);else if(null===k)this.node.removeAttribute(x);else{if(null==k)return null==(k=this.node.getAttribute(x))?l.defaults.attrs[x]:l.regex.isNumber.test(k)?parseFloat(k):k;"stroke-width"==x?this.attr("stroke",parseFloat(k)>0?this._stroke:null):"stroke"==x&&(this._stroke=k),"fill"!=x&&"stroke"!=x||(l.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof l.Image&&(k=this.doc().defs().pattern(0,0,function(){this.add(k)}))),"number"==typeof k?k=new l.Number(k):l.Color.isColor(k)?k=new l.Color(k):Array.isArray(k)&&(k=new l.Array(k)),"leading"==x?this.leading&&this.leading(k):"string"==typeof B?this.node.setAttributeNS(B,x,k.toString()):this.node.setAttribute(x,k.toString()),!this.rebuild||"font-size"!=x&&"x"!=x||this.rebuild(x,k)}return this}}),l.extend(l.Element,{transform:function(x,k){var B;return"object"!==bn(x)?(B=new l.Matrix(this).extract(),"string"==typeof x?B[x]:B):(B=new l.Matrix(this),k=!!k||!!x.relative,null!=x.a&&(B=k?B.multiply(new l.Matrix(x)):new l.Matrix(x)),this.attr("transform",B))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(x){var k=x.trim().split("(");return[k[0],k[1].split(l.regex.delimiter).map(function(B){return parseFloat(B)})]}).reduce(function(x,k){return"matrix"==k[0]?x.multiply(O(k[1])):x[k[0]].apply(x,k[1])},new l.Matrix)},toParent:function(x){if(this==x)return this;var k=this.screenCTM(),B=x.screenCTM().inverse();return this.addTo(x).untransform().transform(B.multiply(k)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(x,k){if(arguments.length>1&&"boolean"!=typeof k)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(x))for(var B=0,W=this.arguments.length;B<W;++B)this[this.arguments[B]]=x[B];else if(x&&"object"===bn(x))for(B=0,W=this.arguments.length;B<W;++B)this[this.arguments[B]]=x[this.arguments[B]];this.inversed=!1,!0===k&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(x,k){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(x,k){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===bn(x))for(var B in x)this.style(B,x[B]);else{if(!l.regex.isCss.test(x))return this.node.style[w(x)];for(x=x.split(/\s*;\s*/).filter(function(W){return!!W}).map(function(W){return W.split(/\s*:\s*/)});k=x.pop();)this.style(k[0],k[1])}else this.node.style[w(x)]=null===k||l.regex.isBlank.test(k)?"":k;return this}}),l.Parent=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(x){return l.adopt(x)})},add:function(x,k){return null==k?this.node.appendChild(x.node):x.node!=this.node.childNodes[k]&&this.node.insertBefore(x.node,this.node.childNodes[k]),this},put:function(x,k){return this.add(x,k),x},has:function(x){return this.index(x)>=0},index:function(x){return[].slice.call(this.node.childNodes).indexOf(x.node)},get:function(x){return l.adopt(this.node.childNodes[x])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(x,k){for(var B=this.children(),W=0,K=B.length;W<K;W++)B[W]instanceof l.Element&&x.apply(B[W],[W,B]),k&&B[W]instanceof l.Container&&B[W].each(x,k);return this},removeElement:function(x){return this.node.removeChild(x.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(x,k){return 0===k||this instanceof l.Defs||this.node==l.parser.draw||(x=x||(this instanceof l.Doc?this:this.parent(l.Parent)),k=k||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(x,k-1):this.toParent(x)}),this.node.firstChild||this.remove()),this},flatten:function(x,k){return this.ungroup(x,k)}}),l.Container=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(x){l.Element.prototype[x]=function(k){return l.on(this.node,x,k),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(x,k,B,W,K){var ve=B.bind(W||x.instance||x),te=(l.handlerMap.indexOf(x)+1||l.handlerMap.push(x))-1,Te=k.split(".")[0],Fe=k.split(".")[1]||"*";l.listeners[te]=l.listeners[te]||{},l.listeners[te][Te]=l.listeners[te][Te]||{},l.listeners[te][Te][Fe]=l.listeners[te][Te][Fe]||{},B._svgjsListenerId||(B._svgjsListenerId=++l.listenerId),l.listeners[te][Te][Fe][B._svgjsListenerId]=ve,x.addEventListener(Te,ve,K||{passive:!0})},l.off=function(x,k,B){var W=l.handlerMap.indexOf(x),K=k&&k.split(".")[0],ve=k&&k.split(".")[1],te="";if(-1!=W)if(B){if("function"==typeof B&&(B=B._svgjsListenerId),!B)return;l.listeners[W][K]&&l.listeners[W][K][ve||"*"]&&(x.removeEventListener(K,l.listeners[W][K][ve||"*"][B],!1),delete l.listeners[W][K][ve||"*"][B])}else if(ve&&K){if(l.listeners[W][K]&&l.listeners[W][K][ve]){for(var Te in l.listeners[W][K][ve])l.off(x,[K,ve].join("."),Te);delete l.listeners[W][K][ve]}}else if(ve)for(var Fe in l.listeners[W])for(var te in l.listeners[W][Fe])ve===te&&l.off(x,[Fe,ve].join("."));else if(K){if(l.listeners[W][K]){for(var te in l.listeners[W][K])l.off(x,[K,te].join("."));delete l.listeners[W][K]}}else{for(var Fe in l.listeners[W])l.off(x,Fe);delete l.listeners[W],delete l.handlerMap[W]}},l.extend(l.Element,{on:function(x,k,B,W){return l.on(this.node,x,k,B,W),this},off:function(x,k){return l.off(this.node,x,k),this},fire:function(x,k){return this.node.dispatchEvent(x instanceof U.Event?x:x=new l.CustomEvent(x,{detail:k,cancelable:!0})),this._event=x,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(x){return null==x?this.transform("x"):this.transform({x:x-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(x){x&&("svg"==(x="string"==typeof x?o.getElementById(x):x).nodeName?this.constructor.call(this,x):(this.constructor.call(this,l.create("svg")),x.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var x;return this._defs||(this._defs=(x=this.node.getElementsByTagName("defs")[0])?l.adopt(x):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(x){this.writeDataToDom();var k=this.node,B=L(k.cloneNode(!0));return x?(x.node||x).appendChild(B.node):k.parentNode.insertBefore(B.node,k.nextSibling),B}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(x){this.constructor.call(this,l.create(x+"Gradient")),this.type=x},inherit:l.Container,extend:{at:function(x,k,B){return this.put(new l.Stop).update(x,k,B)},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(x,k,B){return"transform"==x&&(x="gradientTransform"),l.Container.prototype.attr.call(this,x,k,B)}},construct:{gradient:function(x,k){return this.defs().gradient(x,k)}}}),l.extend(l.Gradient,l.FX,{from:function(x,k){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(x),fy:new l.Number(k)}:{x1:new l.Number(x),y1:new l.Number(k)})},to:function(x,k){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(x),cy:new l.Number(k)}:{x2:new l.Number(x),y2:new l.Number(k)})}}),l.extend(l.Defs,{gradient:function(x,k){return this.put(new l.Gradient(x)).update(k)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(x){return("number"==typeof x||x instanceof l.Number)&&(x={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=x.opacity&&this.attr("stop-opacity",x.opacity),null!=x.color&&this.attr("stop-color",x.color),null!=x.offset&&this.attr("offset",new l.Number(x.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},toString:function(){return this.fill()},attr:function(x,k,B){return"transform"==x&&(x="patternTransform"),l.Container.prototype.attr.call(this,x,k,B)}},construct:{pattern:function(x,k,B){return this.defs().pattern(x,k,B)}}}),l.extend(l.Defs,{pattern:function(x,k,B){return this.put(new l.Pattern).update(B).attr({x:0,y:0,width:x,height:k,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(x,k){return this.attr("href",(k||"")+"#"+x,l.xlink)}},construct:{use:function(x,k){return this.put(new l.Use).element(x,k)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(x,k){return this.put(new l.Rect).size(x,k)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(x){return this.put(new l.Circle).rx(new l.Number(x).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(x){return this.attr("r",x)},ry:function(x){return this.rx(x)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(x,k){return this.put(new l.Ellipse).size(x,k).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(x){return this.attr("rx",x)},ry:function(x){return this.attr("ry",x)}}),l.extend(l.Circle,l.Ellipse,{x:function(x){return null==x?this.cx()-this.rx():this.cx(x+this.rx())},y:function(x){return null==x?this.cy()-this.ry():this.cy(x+this.ry())},cx:function(x){return null==x?this.attr("cx"):this.attr("cx",x)},cy:function(x){return null==x?this.attr("cy"):this.attr("cy",x)},width:function(x){return null==x?2*this.rx():this.rx(new l.Number(x).divide(2))},height:function(x){return null==x?2*this.ry():this.ry(new l.Number(x).divide(2))},size:function(x,k){var B=T(this,x,k);return this.rx(new l.Number(B.width).divide(2)).ry(new l.Number(B.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(x,k,B,W){return null==x?this.array():(x=void 0!==k?{x1:x,y1:k,x2:B,y2:W}:new l.PointArray(x).toLine(),this.attr(x))},move:function(x,k){return this.attr(this.array().move(x,k).toLine())},size:function(x,k){var B=T(this,x,k);return this.attr(this.array().size(B.width,B.height).toLine())}},construct:{line:function(x,k,B,W){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=x?[x,k,B,W]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(x){return this.put(new l.Polyline).plot(x||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(x){return this.put(new l.Polygon).plot(x||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(x){return null==x?this.array():this.clear().attr("points","string"==typeof x?x:this._array=new l.PointArray(x))},clear:function(){return delete this._array,this},move:function(x,k){return this.attr("points",this.array().move(x,k))},size:function(x,k){var B=T(this,x,k);return this.attr("points",this.array().size(B.width,B.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(x){return null==x?this.bbox().x:this.move(x,this.bbox().y)},y:function(x){return null==x?this.bbox().y:this.move(this.bbox().x,x)},width:function(x){var k=this.bbox();return null==x?k.width:this.size(x,k.height)},height:function(x){var k=this.bbox();return null==x?k.height:this.size(k.width,x)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(x){return null==x?this.array():this.clear().attr("d","string"==typeof x?x:this._array=new l.PathArray(x))},clear:function(){return delete this._array,this}},construct:{path:function(x){return this.put(new l.Path).plot(x||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(x){if(!x)return this;var k=this,B=new U.Image;return l.on(B,"load",function(){l.off(B);var W=k.parent(l.Pattern);null!==W&&(0==k.width()&&0==k.height()&&k.size(B.width,B.height),W&&0==W.width()&&0==W.height()&&W.size(k.width(),k.height()),"function"==typeof k._loaded&&k._loaded.call(k,{width:B.width,height:B.height,ratio:B.width/B.height,url:x}))}),l.on(B,"error",function(W){l.off(B),"function"==typeof k._error&&k._error.call(k,W)}),this.attr("href",B.src=this.src=x,l.xlink)},loaded:function(x){return this._loaded=x,this},error:function(x){return this._error=x,this}},construct:{image:function(x,k,B){return this.put(new l.Image).load(x).size(k||0,B||k||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(x){return null==x?this.attr("x"):this.attr("x",x)},text:function(x){if(void 0===x){x="";for(var k=this.node.childNodes,B=0,W=k.length;B<W;++B)0!=B&&3!=k[B].nodeType&&1==l.adopt(k[B]).dom.newLined&&(x+="\n"),x+=k[B].textContent;return x}if(this.clear().build(!0),"function"==typeof x)x.call(this,this);else{B=0;for(var K=(x=x.split("\n")).length;B<K;B++)this.tspan(x[B]).newLine()}return this.build(!1).rebuild()},size:function(x){return this.attr("font-size",x).rebuild()},leading:function(x){return null==x?this.dom.leading:(this.dom.leading=new l.Number(x),this.rebuild())},lines:function(){var x=(this.textPath&&this.textPath()||this).node,k=l.utils.map(l.utils.filterSVGElements(x.childNodes),function(B){return l.adopt(B)});return new l.Set(k)},rebuild:function(x){if("boolean"==typeof x&&(this._rebuild=x),this._rebuild){var k=this,B=0,W=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(k.textPath()||this.attr("x",k.attr("x")),"\n"==this.text()?B+=W:(this.attr("dy",W+B),B=0))}),this.fire("rebuild")}return this},build:function(x){return this._build=!!x,this},setData:function(x){return this.dom=x,this.dom.leading=new l.Number(x.leading||1.3),this}},construct:{text:function(x){return this.put(new l.Text).text(x)},plain:function(x){return this.put(new l.Text).plain(x)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(x){return null==x?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof x?x.call(this,this):this.plain(x),this)},dx:function(x){return this.attr("dx",x)},dy:function(x){return this.attr("dy",x)},newLine:function(){var x=this.parent(l.Text);return this.dom.newLined=!0,this.dy(x.dom.leading*x.attr("font-size")).attr("x",x.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(x){return!1===this._build&&this.clear(),this.node.appendChild(o.createTextNode(x)),this},tspan:function(x){var k=(this.textPath&&this.textPath()||this).node,B=new l.Tspan;return!1===this._build&&this.clear(),k.appendChild(B.node),B.text(x)},clear:function(){for(var x=(this.textPath&&this.textPath()||this).node;x.hasChildNodes();)x.removeChild(x.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var x=this.track();return x?x.array():null},plot:function(x){var k=this.track(),B=null;return k&&(B=k.plot(x)),null==x?B:this},track:function(){var x=this.textPath();if(x)return x.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(x,k){return"color"==k?x:x+"-"+k}};function y(x,k,B,W){return B+W.replace(l.regex.dots," .")}function w(x){return x.toLowerCase().replace(/-(.)/g,function(k,B){return B.toUpperCase()})}function S(x){return x.charAt(0).toUpperCase()+x.slice(1)}function M(x){var k=x.toString(16);return 1==k.length?"0"+k:k}function T(x,k,B){if(null==k||null==B){var W=x.bbox();null==k?k=W.width/W.height*B:null==B&&(B=W.height/W.width*k)}return{width:k,height:B}}function R(x,k,B){return{x:k*x.a+B*x.c+0,y:k*x.b+B*x.d+0}}function O(x){return{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}}function L(x){for(var k=x.childNodes.length-1;k>=0;k--)x.childNodes[k]instanceof U.SVGElement&&L(x.childNodes[k]);return l.adopt(x).id(l.eid(x.nodeName))}function H(x){return null==x.x&&(x.x=0,x.y=0,x.width=0,x.height=0),x.w=x.width,x.h=x.height,x.x2=x.x+x.width,x.y2=x.y+x.height,x.cx=x.x+x.width/2,x.cy=x.y+x.height/2,x}function z(x){return Math.abs(x)>1e-37?x:0}["fill","stroke"].forEach(function(x){var k={};k[x]=function(B){if(void 0===B)return this;if("string"==typeof B||l.Color.isRgb(B)||B&&"function"==typeof B.fill)this.attr(x,B);else for(var W=m[x].length-1;W>=0;W--)null!=B[m[x][W]]&&this.attr(m.prefix(x,m[x][W]),B[m[x][W]]);return this},l.extend(l.Element,l.FX,k)}),l.extend(l.Element,l.FX,{translate:function(x,k){return this.transform({x,y:k})},matrix:function(x){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):x))},opacity:function(x){return this.attr("opacity",x)},dx:function(x){return this.x(new l.Number(x).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(x){return this.y(new l.Number(x).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(x){return this.node.getPointAtLength(x)}}),l.Set=l.invent({create:function(x){Array.isArray(x)?this.members=x:this.clear()},extend:{add:function(){for(var x=[].slice.call(arguments),k=0,B=x.length;k<B;k++)this.members.push(x[k]);return this},remove:function(x){var k=this.index(x);return k>-1&&this.members.splice(k,1),this},each:function(x){for(var k=0,B=this.members.length;k<B;k++)x.apply(this.members[k],[k,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(x){return this.index(x)>=0},index:function(x){return this.members.indexOf(x)},get:function(x){return this.members[x]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(x){return new l.Set(x)}}}),l.FX.Set=l.invent({create:function(x){this.set=x}}),l.Set.inherit=function(){var x=[];for(var k in l.Shape.prototype)"function"==typeof l.Shape.prototype[k]&&"function"!=typeof l.Set.prototype[k]&&x.push(k);for(var k in x.forEach(function(W){l.Set.prototype[W]=function(){for(var K=0,ve=this.members.length;K<ve;K++)this.members[K]&&"function"==typeof this.members[K][W]&&this.members[K][W].apply(this.members[K],arguments);return"animate"==W?this.fx||(this.fx=new l.FX.Set(this)):this}}),x=[],l.FX.prototype)"function"==typeof l.FX.prototype[k]&&"function"!=typeof l.FX.Set.prototype[k]&&x.push(k);x.forEach(function(B){l.FX.Set.prototype[B]=function(){for(var W=0,K=this.set.members.length;W<K;W++)this.set.members[W].fx[B].apply(this.set.members[W].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(x,k){if("object"===bn(arguments[0]))for(var B in x)this.remember(B,x[B]);else{if(1==arguments.length)return this.memory()[x];this.memory()[x]=k}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var x=arguments.length-1;x>=0;x--)delete this.memory()[arguments[x]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(x){var k=o.getElementById(function(B){var W=(B||"").toString().match(l.regex.reference);if(W)return W[1]}(x)||x);return l.adopt(k)},l.select=function(x,k){return new l.Set(l.utils.map((k||o).querySelectorAll(x),function(B){return l.adopt(B)}))},l.extend(l.Parent,{select:function(x){return l.select(x,this.node)}});var Y="abcdef".split("");if("function"!=typeof U.CustomEvent){var X=function(x,k){k=k||{bubbles:!1,cancelable:!1,detail:void 0};var B=o.createEvent("CustomEvent");return B.initCustomEvent(x,k.bubbles,k.cancelable,k.detail),B};X.prototype=U.Event.prototype,l.CustomEvent=X}else l.CustomEvent=U.CustomEvent;return l},void 0!==(_i=function(){return an(Ah,Ah.document)}.call(_h,sg,_h,Tl))&&(Tl.exports=_i),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(m,y){return this.add(m,y),!m.attr("in")&&this.autoSetIn&&m.attr("in",this.source),m.attr("result")||m.attr("result",m),m},blend:function(m,y,w){return this.put(new SVG.BlendEffect(m,y,w))},colorMatrix:function(m,y){return this.put(new SVG.ColorMatrixEffect(m,y))},convolveMatrix:function(m){return this.put(new SVG.ConvolveMatrixEffect(m))},componentTransfer:function(m){return this.put(new SVG.ComponentTransferEffect(m))},composite:function(m,y,w){return this.put(new SVG.CompositeEffect(m,y,w))},flood:function(m,y){return this.put(new SVG.FloodEffect(m,y))},offset:function(m,y){return this.put(new SVG.OffsetEffect(m,y))},image:function(m){return this.put(new SVG.ImageEffect(m))},merge:function(){var m=[void 0];for(var y in arguments)m.push(arguments[y]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,m)))},gaussianBlur:function(m,y){return this.put(new SVG.GaussianBlurEffect(m,y))},morphology:function(m,y){return this.put(new SVG.MorphologyEffect(m,y))},diffuseLighting:function(m,y,w){return this.put(new SVG.DiffuseLightingEffect(m,y,w))},displacementMap:function(m,y,w,S,M){return this.put(new SVG.DisplacementMapEffect(m,y,w,S,M))},specularLighting:function(m,y,w,S){return this.put(new SVG.SpecularLightingEffect(m,y,w,S))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(m,y,w,S,M){return this.put(new SVG.TurbulenceEffect(m,y,w,S,M))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(m){var y=this.put(new SVG.Filter);return"function"==typeof m&&m.call(y,y),y}}),SVG.extend(SVG.Container,{filter:function(m){return this.defs().filter(m)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(m){return this.filterer=m instanceof SVG.Element?m:this.doc().filter(m),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(m){return this.filterer&&!0===m&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",m)},result:function(m){return null==m?this.attr("result"):this.attr("result",m)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",m)},result:function(m){return null==m?this.attr("result"):this.attr("result",m)},toString:function(){return this.result()}}});var U={blend:function(m,y){return this.parent()&&this.parent().blend(this,m,y)},colorMatrix:function(m,y){return this.parent()&&this.parent().colorMatrix(m,y).in(this)},convolveMatrix:function(m){return this.parent()&&this.parent().convolveMatrix(m).in(this)},componentTransfer:function(m){return this.parent()&&this.parent().componentTransfer(m).in(this)},composite:function(m,y){return this.parent()&&this.parent().composite(this,m,y)},flood:function(m,y){return this.parent()&&this.parent().flood(m,y)},offset:function(m,y){return this.parent()&&this.parent().offset(m,y).in(this)},image:function(m){return this.parent()&&this.parent().image(m)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(m,y){return this.parent()&&this.parent().gaussianBlur(m,y).in(this)},morphology:function(m,y){return this.parent()&&this.parent().morphology(m,y).in(this)},diffuseLighting:function(m,y,w){return this.parent()&&this.parent().diffuseLighting(m,y,w).in(this)},displacementMap:function(m,y,w,S){return this.parent()&&this.parent().displacementMap(this,m,y,w,S)},specularLighting:function(m,y,w,S){return this.parent()&&this.parent().specularLighting(m,y,w,S).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(m,y,w,S,M){return this.parent()&&this.parent().turbulence(m,y,w,S,M).in(this)}};SVG.extend(SVG.Effect,U),SVG.extend(SVG.ParentEffect,U),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(m){this.attr("in",m)}}});var o={blend:function(m,y,w){this.attr({in:m,in2:y,mode:w||"normal"})},colorMatrix:function(m,y){"matrix"==m&&(y=f(y)),this.attr({type:m,values:void 0===y?null:y})},convolveMatrix:function(m){m=f(m),this.attr({order:Math.sqrt(m.split(" ").length),kernelMatrix:m})},composite:function(m,y,w){this.attr({in:m,in2:y,operator:w})},flood:function(m,y){this.attr("flood-color",m),null!=y&&this.attr("flood-opacity",y)},offset:function(m,y){this.attr({dx:m,dy:y})},image:function(m){this.attr("href",m,SVG.xlink)},displacementMap:function(m,y,w,S,M){this.attr({in:m,in2:y,scale:w,xChannelSelector:S,yChannelSelector:M})},gaussianBlur:function(m,y){this.attr("stdDeviation",null!=m||null!=y?p(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(m,y){this.attr({operator:m,radius:y})},tile:function(){},turbulence:function(m,y,w,S,M){this.attr({numOctaves:y,seed:w,stitchTiles:S,baseFrequency:m,type:M})}},l={merge:function(){var m;if(arguments[0]instanceof SVG.Set){var y=this;arguments[0].each(function(S){this instanceof SVG.MergeNode?y.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&y.put(new SVG.MergeNode(this))})}else{m=Array.isArray(arguments[0])?arguments[0]:arguments;for(var w=0;w<m.length;w++)m[w]instanceof SVG.MergeNode?this.put(m[w]):this.put(new SVG.MergeNode(m[w]))}},componentTransfer:function(m){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(w){this[w]=new(SVG["Func"+w.toUpperCase()])("identity"),this.rgb.add(this[w]),this.node.appendChild(this[w].node)}.bind(this)),m)for(var y in m.rgb&&(["r","g","b"].forEach(function(w){this[w].attr(m.rgb)}.bind(this)),delete m.rgb),m)this[y].attr(m[y])},diffuseLighting:function(m,y,w){this.attr({surfaceScale:m,diffuseConstant:y,kernelUnitLength:w})},specularLighting:function(m,y,w,S){this.attr({surfaceScale:m,diffuseConstant:y,specularExponent:w,kernelUnitLength:S})}},u={distantLight:function(m,y){this.attr({azimuth:m,elevation:y})},pointLight:function(m,y,w){this.attr({x:m,y,z:w})},spotLight:function(m,y,w,S,M,T){this.attr({x:m,y,z:w,pointsAtX:S,pointsAtY:M,pointsAtZ:T})},mergeNode:function(m){this.attr("in",m)}};function f(m){return Array.isArray(m)&&(m=new SVG.Array(m)),m.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(m){if(!Array.isArray(m))return m;for(var y=0,w=m.length,S=[];y<w;y++)S.push(m[y]);return S.join(" ")}function _(){var m=function(){};for(var y in"function"==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var w in arguments[y])m(arguments[y][w],w,arguments[y])}["r","g","b","a"].forEach(function(m){u["Func"+m.toUpperCase()]=function(y){switch(this.attr("type",y),y){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),_(o,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),_(l,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),_(u,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(m){return m instanceof SVG.MergeNode?this.add(m,0):this.add(new SVG.MergeNode(m),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",m)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function U(p,_,m,y,w,S,M){for(var T=p.slice(_,m||M),R=y.slice(w,S||M),O=0,L={pos:[0,0],start:[0,0]},H={pos:[0,0],start:[0,0]};T[O]=o.call(L,T[O]),R[O]=o.call(H,R[O]),T[O][0]!=R[O][0]||"M"==T[O][0]||"A"==T[O][0]&&(T[O][4]!=R[O][4]||T[O][5]!=R[O][5])?(Array.prototype.splice.apply(T,[O,1].concat(u.call(L,T[O]))),Array.prototype.splice.apply(R,[O,1].concat(u.call(H,R[O])))):(T[O]=l.call(L,T[O]),R[O]=l.call(H,R[O])),++O!=T.length||O!=R.length;)O==T.length&&T.push(["C",L.pos[0],L.pos[1],L.pos[0],L.pos[1],L.pos[0],L.pos[1]]),O==R.length&&R.push(["C",H.pos[0],H.pos[1],H.pos[0],H.pos[1],H.pos[0],H.pos[1]]);return{start:T,dest:R}}function o(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var _=p.length;return this.pos=[p[_-2],p[_-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[_-4],2*this.pos[1]-p[_-3]]),p}function u(p){var _=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],_;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(_=function(m,y){var w,S,M,T,R,O,L,H,z,Y,X,x,k,B,W,K,ve,te,Te,Fe,qe,kt,Pi,Zt,cs,ps,dr=Math.abs(y[1]),Qn=Math.abs(y[2]),zo=y[3]%360,YD=y[4],xg=y[5],wg=y[6],Th=y[7],Ms=new SVG.Point(m),Jn=new SVG.Point(wg,Th),yb=[];if(0===dr||0===Qn||Ms.x===Jn.x&&Ms.y===Jn.y)return[["C",Ms.x,Ms.y,Jn.x,Jn.y,Jn.x,Jn.y]];for((S=(w=new SVG.Point((Ms.x-Jn.x)/2,(Ms.y-Jn.y)/2).transform((new SVG.Matrix).rotate(zo))).x*w.x/(dr*dr)+w.y*w.y/(Qn*Qn))>1&&(dr*=S=Math.sqrt(S),Qn*=S),M=(new SVG.Matrix).rotate(zo).scale(1/dr,1/Qn).rotate(-zo),Ms=Ms.transform(M),O=(T=[(Jn=Jn.transform(M)).x-Ms.x,Jn.y-Ms.y])[0]*T[0]+T[1]*T[1],R=Math.sqrt(O),T[0]/=R,T[1]/=R,L=O<4?Math.sqrt(1-O/4):0,YD===xg&&(L*=-1),H=new SVG.Point((Jn.x+Ms.x)/2+L*-T[1],(Jn.y+Ms.y)/2+L*T[0]),z=new SVG.Point(Ms.x-H.x,Ms.y-H.y),Y=new SVG.Point(Jn.x-H.x,Jn.y-H.y),X=Math.acos(z.x/Math.sqrt(z.x*z.x+z.y*z.y)),z.y<0&&(X*=-1),x=Math.acos(Y.x/Math.sqrt(Y.x*Y.x+Y.y*Y.y)),Y.y<0&&(x*=-1),xg&&X>x&&(x+=2*Math.PI),!xg&&X<x&&(x-=2*Math.PI),K=[],ve=X,k=(x-X)/(B=Math.ceil(2*Math.abs(X-x)/Math.PI)),W=4*Math.tan(k/4)/3,qe=0;qe<=B;qe++)Te=Math.cos(ve),te=Math.sin(ve),Fe=new SVG.Point(H.x+Te,H.y+te),K[qe]=[new SVG.Point(Fe.x+W*te,Fe.y-W*Te),Fe,new SVG.Point(Fe.x-W*te,Fe.y+W*Te)],ve+=k;for(K[0][0]=K[0][1].clone(),K[K.length-1][2]=K[K.length-1][1].clone(),M=(new SVG.Matrix).rotate(zo).scale(dr,Qn).rotate(-zo),qe=0,kt=K.length;qe<kt;qe++)K[qe][0]=K[qe][0].transform(M),K[qe][1]=K[qe][1].transform(M),K[qe][2]=K[qe][2].transform(M);for(qe=1,kt=K.length;qe<kt;qe++)Pi=(Fe=K[qe-1][2]).x,Zt=Fe.y,cs=(Fe=K[qe][0]).x,ps=Fe.y,wg=(Fe=K[qe][1]).x,yb.push(["C",Pi,Zt,cs,ps,wg,Th=Fe.y]);return yb}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],_}function f(p,_){if(!1===_)return!1;for(var m=_,y=p.length;m<y;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var _=this.value,m=this.parse(p),y=0,w=0,S=!1,M=!1;!1!==y||!1!==w;){var T;S=f(_,!1!==y&&y+1),M=f(m,!1!==w&&w+1),!1===y&&(y=0==(T=new SVG.PathArray(R.start).bbox()).height||0==T.width?_.push(_[0])-1:_.push(["M",T.x+T.width/2,T.y+T.height/2])-1),!1===w&&(w=0==(T=new SVG.PathArray(R.dest).bbox()).height||0==T.width?m.push(m[0])-1:m.push(["M",T.x+T.width/2,T.y+T.height/2])-1);var R=U(_,y,S,m,w,M);_=_.slice(0,y).concat(R.start,!1===S?[]:_.slice(S)),m=m.slice(0,w).concat(R.dest,!1===M?[]:m.slice(M)),y=!1!==S&&y+R.start.length,w=!1!==M&&w+R.dest.length}return this.value=_,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),function(){function U(o){o.remember("_draggable",this),this.el=o}U.prototype.init=function(o,l){var u=this;this.constraint=o,this.value=l,this.el.on("mousedown.drag",function(f){u.start(f)}),this.el.on("touchstart.drag",function(f){u.start(f)})},U.prototype.transformPoint=function(o,l){var u=(o=o||window.event).changedTouches&&o.changedTouches[0]||o;return this.p.x=u.clientX-(l||0),this.p.y=u.clientY,this.p.matrixTransform(this.m)},U.prototype.getBBox=function(){var o=this.el.bbox();return this.el instanceof SVG.Nested&&(o=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(o.x=this.el.x(),o.y=this.el.y()),o},U.prototype.start=function(o){if("click"!=o.type&&"mousedown"!=o.type&&"mousemove"!=o.type||1==(o.which||o.buttons)){var l=this;if(this.el.fire("beforedrag",{event:o,handler:this}),!this.el.event().defaultPrevented){o.preventDefault(),o.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var u,f=this.getBBox();if(this.el instanceof SVG.Text)switch(u=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":u/=2;break;case"start":u=0}this.startPoints={point:this.transformPoint(o,u),box:f,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:o,p:this.startPoints.point,m:this.m,handler:this})}}},U.prototype.drag=function(o){var l=this.getBBox(),u=this.transformPoint(o),f=this.startPoints.box.x+u.x-this.startPoints.point.x,p=this.startPoints.box.y+u.y-this.startPoints.point.y,_=this.constraint,m=u.x-this.startPoints.point.x,y=u.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:o,p:u,m:this.m,handler:this}),this.el.event().defaultPrevented)return u;if("function"==typeof _){var w=_.call(this.el,f,p,this.m);"boolean"==typeof w&&(w={x:w,y:w}),!0===w.x?this.el.x(f):!1!==w.x&&this.el.x(w.x),!0===w.y?this.el.y(p):!1!==w.y&&this.el.y(w.y)}else"object"==typeof _&&(null!=_.minX&&f<_.minX?m=(f=_.minX)-this.startPoints.box.x:null!=_.maxX&&f>_.maxX-l.width&&(m=(f=_.maxX-l.width)-this.startPoints.box.x),null!=_.minY&&p<_.minY?y=(p=_.minY)-this.startPoints.box.y:null!=_.maxY&&p>_.maxY-l.height&&(y=(p=_.maxY-l.height)-this.startPoints.box.y),null!=_.snapToGrid&&(f-=f%_.snapToGrid,p-=p%_.snapToGrid,m-=m%_.snapToGrid,y-=y%_.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y},!0):this.el.move(f,p));return u},U.prototype.end=function(o){var l=this.drag(o);this.el.fire("dragend",{event:o,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(o,l){"function"!=typeof o&&"object"!=typeof o||(l=o,o=!0);var u=this.remember("_draggable")||new U(this);return(o=void 0===o||o)?u.init(l||{},o):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function U(o){this.el=o,o.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,u,f){var p="string"!=typeof l?l:u[l];return f?p/2:p},this.pointCoords=function(l,u){var f=this.pointsList[l];return{x:this.pointCoord(f[0],u,"t"===l||"b"===l),y:this.pointCoord(f[1],u,"r"===l||"l"===l)}}}U.prototype.init=function(o,l){var u=this.el.bbox();this.options={};var f=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var _=["points","pointsExclude"];for(var p in _){var m=this.options[_[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===_[p]&&(m=m?f:[]),this.options[_[p]]=m}this.options.points=[f,this.options.points].reduce(function(y,w){return y.filter(function(S){return w.indexOf(S)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(y,w){return y.filter(function(S){return w.indexOf(S)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(u.x,u.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(o):this.selectRect(o),this.observe(),this.cleanup()},U.prototype.selectPoints=function(o){return this.pointSelection.isSelected=o,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},U.prototype.getPointArray=function(){var o=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-o.x,l[1]-o.y]})},U.prototype.drawPoints=function(){for(var o=this,l=this.getPointArray(),u=0,f=l.length;u<f;++u){var p=function(m){return function(y){(y=y||window.event).preventDefault?y.preventDefault():y.returnValue=!1,y.stopPropagation(),o.el.fire("point",{x:y.pageX||y.touches[0].pageX,y:y.pageY||y.touches[0].pageY,i:m,event:y})}}(u),_=this.drawPoint(l[u][0],l[u][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(_)}},U.prototype.drawPoint=function(o,l){var u=this.options.pointType;switch(u){case"circle":return this.drawCircle(o,l);case"rect":return this.drawRect(o,l);default:if("function"==typeof u)return u.call(this,o,l);throw new Error("Unknown "+u+" point type!")}},U.prototype.drawCircle=function(o,l){return this.nested.circle(this.options.pointSize).center(o,l)},U.prototype.drawRect=function(o,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(o,l)},U.prototype.updatePointSelection=function(){var o=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===o[l][0]&&this.cy()===o[l][1]||this.center(o[l][0],o[l][1])})},U.prototype.updateRectSelection=function(){var o=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(f,p){var _=o.pointCoords(f,l);o.rectSelection.set.get(p+1).center(_.x,_.y)}),this.options.rotationPoint){var u=this.rectSelection.set.length();this.rectSelection.set.get(u-1).center(l.width/2,20)}},U.prototype.selectRect=function(o){var l=this,u=this.el.bbox();function f(m){return function(y){(y=y||window.event).preventDefault?y.preventDefault():y.returnValue=!1,y.stopPropagation(),l.el.fire(m,{x:y.pageX||y.touches[0].pageX,y:y.pageY||y.touches[0].pageY,event:y})}}if(this.rectSelection.isSelected=o,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(u.width,u.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,y){var w=l.pointCoords(m,u),S=l.drawPoint(w.x,w.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",f(m)).on("touchstart",f(m));l.rectSelection.set.add(S)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},_=this.drawPoint(u.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(_)}},U.prototype.handler=function(){var o=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},U.prototype.observe=function(){var o=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){o.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(l){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){o.handler()})},U.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(o,l){return"object"==typeof o&&(l=o,o=!0),(this.remember("_selectHandler")||new U(this)).init(void 0===o||o,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function U(o){o.remember("_resizeHandler",this),this.el=o,this.parameters={},this.lastUpdateCall=null,this.p=o.doc().node.createSVGPoint()}U.prototype.transformPoint=function(o,l,u){return this.p.x=o-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(u||this.m)},U.prototype._extractPosition=function(o){return{x:null!=o.clientX?o.clientX:o.touches[0].clientX,y:null!=o.clientY?o.clientY:o.touches[0].clientY}},U.prototype.init=function(o){var l=this;if(this.stop(),"stop"!==o){for(var u in this.options={},this.el.resize.defaults)this.options[u]=this.el.resize.defaults[u],void 0!==o[u]&&(this.options[u]=o[u]);this.el.on("lt.resize",function(f){l.resize(f||window.event)}),this.el.on("rt.resize",function(f){l.resize(f||window.event)}),this.el.on("rb.resize",function(f){l.resize(f||window.event)}),this.el.on("lb.resize",function(f){l.resize(f||window.event)}),this.el.on("t.resize",function(f){l.resize(f||window.event)}),this.el.on("r.resize",function(f){l.resize(f||window.event)}),this.el.on("b.resize",function(f){l.resize(f||window.event)}),this.el.on("l.resize",function(f){l.resize(f||window.event)}),this.el.on("rot.resize",function(f){l.resize(f||window.event)}),this.el.on("point.resize",function(f){l.resize(f||window.event)}),this.update()}},U.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},U.prototype.resize=function(o){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var u=this._extractPosition(o.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(u.x,u.y),x:o.detail.x,y:o.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==o.detail.i){var f=this.el.array().valueOf();this.parameters.i=o.detail.i,this.parameters.pointCoords=[f[o.detail.i][0],f[o.detail.i][1]]}switch(o.type){case"lt":this.calc=function(p,_){var m=this.snapToGrid(p,_);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,_){var m=this.snapToGrid(p,_,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,_){var m=this.snapToGrid(p,_,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,_){var m=this.snapToGrid(p,_,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,_){var m=this.snapToGrid(p,_,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,_){var m=p+this.parameters.p.x,y=_+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),S=Math.atan2(y-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),M=this.parameters.rotation+180*(S-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(M-M%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,_){var m=this.snapToGrid(p,_,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),y=this.el.array().valueOf();y[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],y[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(y)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:o}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},U.prototype.update=function(o){if(o){var l=this._extractPosition(o),u=this.transformPoint(l.x,l.y),f=u.x-this.parameters.p.x,p=u.y-this.parameters.p.y;this.lastUpdateCall=[f,p],this.calc(f,p),this.el.fire("resizing",{dx:f,dy:p,event:o})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},U.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},U.prototype.snapToGrid=function(o,l,u,f){var p;return p=void 0!==f?[(u+o)%this.options.snapToGrid,(f+l)%this.options.snapToGrid]:[(this.parameters.box.x+o+(1&(u=null==u?3:u)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&u?0:this.parameters.box.height))%this.options.snapToGrid],o<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),o-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(o<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(o,l,u,f)},U.prototype.constraintToBox=function(o,l,u,f){var p,_,m=this.options.constraint||{};return void 0!==f?(p=u,_=f):(p=this.parameters.box.x+(1&u?0:this.parameters.box.width),_=this.parameters.box.y+(2&u?0:this.parameters.box.height)),void 0!==m.minX&&p+o<m.minX&&(o=m.minX-p),void 0!==m.maxX&&p+o>m.maxX&&(o=m.maxX-p),void 0!==m.minY&&_+l<m.minY&&(l=m.minY-_),void 0!==m.maxY&&_+l>m.maxY&&(l=m.maxY-_),[o,l]},U.prototype.checkAspectRatio=function(o,l){if(!this.options.saveAspectRatio)return o;var u=o.slice(),f=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+o[0],_=this.parameters.box.height-o[1],m=p/_;return m<f?(u[1]=p/f-this.parameters.box.height,l&&(u[1]=-u[1])):m>f&&(u[0]=this.parameters.box.width-_*f,l&&(u[0]=-u[0])),u},SVG.extend(SVG.Element,{resize:function(o){return(this.remember("_resizeHandler")||new U(this)).init(o||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Eh=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Fo(this.ctx),this.ctx.axes=new HD(this.ctx),this.ctx.core=new jD(this.ctx.el,this.ctx),this.ctx.config=new Ga({}),this.ctx.data=new ob(this.ctx),this.ctx.grid=new lb(this.ctx),this.ctx.graphics=new He(this.ctx),this.ctx.coreUtils=new fn(this.ctx),this.ctx.crosshairs=new ug(this.ctx),this.ctx.events=new cb(this.ctx),this.ctx.exports=new cg(this.ctx),this.ctx.localization=new VD(this.ctx),this.ctx.options=new No,this.ctx.responsive=new Wa(this.ctx),this.ctx.series=new Ge(this.ctx),this.ctx.theme=new db(this.ctx),this.ctx.formatters=new wh(this.ctx),this.ctx.titleSubtitle=new zD(this.ctx),this.ctx.legend=new fb(this.ctx),this.ctx.toolbar=new id(this.ctx),this.ctx.dimensions=new Ch(this.ctx),this.ctx.updateHelpers=new vb(this.ctx),this.ctx.zoomPanSelection=new hg(this.ctx),this.ctx.w.globals.tooltip=new mg(this.ctx)}}]),U}(),nd=function(){function U(o){Le(this,U),this.ctx=o,this.w=o.w}return st(U,[{key:"clear",value:function(o){var l=o.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(o){o.each(function(l,u){this.removeClass("*"),this.off(),this.stop()},!0),o.ungroup(),o.clear()}},{key:"clearDomElements",value:function(o){var l=this,f=this.w.globals.dom.Paper.node;f.parentNode&&f.parentNode.parentNode&&!o.isUpdating&&(f.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var _=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(_.Paper),_.Paper.remove(),_.elWrap=null,_.elGraphical=null,_.elAnnotations=null,_.elLegendWrap=null,_.baseEl=null,_.elGridRect=null,_.elGridRectMask=null,_.elGridRectMarkerMask=null,_.elForecastMask=null,_.elNonForecastMask=null,_.elDefs=null}}]),U}(),sd=new WeakMap,Ol=function(){function U(o,l){Le(this,U),this.opts=l,this.ctx=this,this.w=new lg(l).init(),this.el=o,this.w.globals.cuid=fe.randomId(),this.w.globals.chartID=this.w.config.chart.id?fe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Eh(this).initModules(),this.create=fe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return st(U,[{key:"render",value:function(){var o=this;return new Promise(function(l,u){if(null!==o.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),o.w.config.chart.id&&Apex._chartInstances.push({id:o.w.globals.chartID,group:o.w.config.chart.group,chart:o}),o.setLocale(o.w.config.chart.defaultLocale);var f=o.w.config.chart.events.beforeMount;if("function"==typeof f&&f(o,o.w),o.events.fireEvent("beforeMount",[o,o.w]),window.addEventListener("resize",o.windowResizeHandler),function(S,M){var T=!1,R=S.getBoundingClientRect();"none"!==S.style.display&&0!==R.width||(T=!0);var O=new ResizeObserver(function(L){T&&M.call(S,L),T=!0});S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(S.children).forEach(function(L){return O.observe(L)}):O.observe(S),sd.set(M,O)}(o.el.parentNode,o.parentResizeHandler),!o.css){var p=o.el.getRootNode&&o.el.getRootNode(),_=fe.is("ShadowRoot",p),m=o.el.ownerDocument,y=m.getElementById("apexcharts-css");!_&&y||(o.css=document.createElement("style"),o.css.id="apexcharts-css",o.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',_?p.prepend(o.css):m.head.appendChild(o.css))}var w=o.create(o.w.config.series,{});if(!w)return l(o);o.mount(w).then(function(){"function"==typeof o.w.config.chart.events.mounted&&o.w.config.chart.events.mounted(o,o.w),o.events.fireEvent("mounted",[o,o.w]),l(w)}).catch(function(S){u(S)})}else u(new Error("Element not found"))})}},{key:"create",value:function(o,l){var u=this.w;new Eh(this).initModules();var f=this.w.globals;if(f.noData=!1,f.animationEnded=!1,this.responsive.checkResponsiveConfig(l),u.config.xaxis.convertedCatToNumeric&&new jt(u.config).convertCatToNumericXaxis(u.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===u.config.chart.type&&(u.config.grid.show=!1,u.config.yaxis[0].show=!1),0===f.svgWidth))return f.animationEnded=!0,null;var p=fn.checkComboSeries(o);f.comboCharts=p.comboCharts,f.comboBarCount=p.comboBarCount;var _=o.every(function(M){return M.data&&0===M.data.length});(0===o.length||_)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Bo(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),f.noData&&f.collapsedSeries.length!==f.series.length&&!u.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),f.axisCharts&&(this.core.coreCalculations(),"category"!==u.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=u.globals.minX,this.ctx.toolbar.maxX=u.globals.maxX),this.formatters.heatmapLabelFormatters(),new fn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var y=this.core.plotChartType(o,m),w=new Vo(this);return w.bringForward(),u.config.dataLabels.background.enabled&&w.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:y,xyRatios:m,elInner:u.globals.dom.elGraphical,dimensions:{plot:{left:u.globals.translateX,top:u.globals.translateY,width:u.globals.gridWidth,height:u.globals.gridHeight}}}}},{key:"mount",value:function(){var o=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this,f=u.w;return new Promise(function(p,_){if(null===u.el)return _(new Error("Not enough data to display or target element not found"));(null===l||f.globals.allSeriesCollapsed)&&u.series.handleNoData(),"treemap"!==f.config.chart.type&&u.axes.drawAxis(f.config.chart.type,l.xyRatios),u.grid=new lb(u);var m=u.grid.drawGrid();u.annotations=new rg(u),u.annotations.drawImageAnnos(),u.annotations.drawTextAnnos(),"back"===f.config.grid.position&&m&&f.globals.dom.elGraphical.add(m.el);var y=new Pl(o.ctx),w=new td(o.ctx);if(null!==m&&(y.xAxisLabelCorrections(m.xAxisTickWidth),w.setYAxisTextAlignments(),f.config.yaxis.map(function(T,R){-1===f.globals.ignoreYAxisIndexes.indexOf(R)&&w.yAxisTitleRotate(R,T.opposite)})),"back"===f.config.annotations.position&&(f.globals.dom.Paper.add(f.globals.dom.elAnnotations),u.annotations.drawAxesAnnotations()),Array.isArray(l.elGraph))for(var S=0;S<l.elGraph.length;S++)f.globals.dom.elGraphical.add(l.elGraph[S]);else f.globals.dom.elGraphical.add(l.elGraph);if("front"===f.config.grid.position&&m&&f.globals.dom.elGraphical.add(m.el),"front"===f.config.xaxis.crosshairs.position&&u.crosshairs.drawXCrosshairs(),"front"===f.config.yaxis[0].crosshairs.position&&u.crosshairs.drawYCrosshairs(),"front"===f.config.annotations.position&&(f.globals.dom.Paper.add(f.globals.dom.elAnnotations),u.annotations.drawAxesAnnotations()),!f.globals.noData){if(f.config.tooltip.enabled&&!f.globals.noData&&u.w.globals.tooltip.drawTooltip(l.xyRatios),f.globals.axisCharts&&(f.globals.isXNumeric||f.config.xaxis.convertedCatToNumeric||f.globals.isRangeBar))(f.config.chart.zoom.enabled||f.config.chart.selection&&f.config.chart.selection.enabled||f.config.chart.pan&&f.config.chart.pan.enabled)&&u.zoomPanSelection.init({xyRatios:l.xyRatios});else{var M=f.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(T){M[T]=!1})}f.config.chart.toolbar.show&&!f.globals.allSeriesCollapsed&&u.toolbar.createToolbar()}f.globals.memory.methodsToExec.length>0&&f.globals.memory.methodsToExec.forEach(function(T){T.method(T.params,!1,T.context)}),f.globals.axisCharts||f.globals.noData||u.core.resizeNonAxisCharts(),p(u)})}},{key:"destroy",value:function(){var o,l;window.removeEventListener("resize",this.windowResizeHandler),(l=sd.get(o=this.parentResizeHandler))&&(l.disconnect(),sd.delete(o));var u=this.w.config.chart.id;u&&Apex._chartInstances.forEach(function(f,p){f.id===fe.escapeString(u)&&Apex._chartInstances.splice(p,1)}),new nd(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,o.series&&(this.series.resetSeries(!1,!0,!1),o.series.length&&o.series[0].data&&(o.series=o.series.map(function(y,w){return l.updateHelpers._extendSeries(y,w)})),this.updateHelpers.revertDefaultAxisMinMax()),o.xaxis&&(o=this.updateHelpers.forceXAxisUpdate(o)),o.yaxis&&(o=this.updateHelpers.forceYAxisUpdate(o)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),o.theme&&(o=this.theme.updateThemeOptions(o)),this.updateHelpers._updateOptions(o,u,f,p,_)}},{key:"updateSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(o,l,u)}},{key:"appendSeries",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=this.w.config.series.slice();return f.push(o),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(f,l,u)}},{key:"appendData",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this;u.w.globals.dataChanged=!0,u.series.getPreviousPaths();for(var f=u.w.config.series.slice(),p=0;p<f.length;p++)if(null!=o[p])for(var _=0;_<o[p].data.length;_++)f[p].data.push(o[p].data[_]);return u.w.config.series=f,l&&(u.w.globals.initialSeries=fe.clone(u.w.config.series)),this.update()}},{key:"update",value:function(o){var l=this;return new Promise(function(u,f){new nd(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,o);if(!p)return u(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,u(l)}).catch(function(_){f(_)})})}},{key:"getSyncedCharts",value:function(){var o=this.getGroupedCharts(),l=[this];return o.length&&(l=[],o.forEach(function(u){l.push(u)})),l}},{key:"getGroupedCharts",value:function(){var o=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return o.w.config.chart.group===l.group?l.chart:o})}},{key:"toggleSeries",value:function(o){return this.series.toggleSeries(o)}},{key:"highlightSeriesOnLegendHover",value:function(o,l){return this.series.toggleSeriesOnHover(o,l)}},{key:"showSeries",value:function(o){this.series.showSeries(o)}},{key:"hideSeries",value:function(o){this.series.hideSeries(o)}},{key:"resetSeries",value:function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(o,l)}},{key:"addEventListener",value:function(o,l){this.events.addEventListener(o,l)}},{key:"removeEventListener",value:function(o,l){this.events.removeEventListener(o,l)}},{key:"addXaxisAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addXaxisAnnotationExternal(o,l,f)}},{key:"addYaxisAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addYaxisAnnotationExternal(o,l,f)}},{key:"addPointAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addPointAnnotationExternal(o,l,f)}},{key:"clearAnnotations",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;o&&(l=o),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=this;l&&(u=l),u.annotations.removeAnnotation(u,o)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(o,l){return this.coreUtils.getSeriesTotalsXRange(o,l)}},{key:"getHighestValueInSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new dg(this.ctx);return l.getMinYMaxY(o).highestY}},{key:"getLowestValueInSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new dg(this.ctx);return l.getMinYMaxY(o).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(o,l){return this.updateHelpers.toggleDataPointSelection(o,l)}},{key:"zoomX",value:function(o,l){this.ctx.toolbar.zoomUpdateOptions(o,l)}},{key:"setLocale",value:function(o){this.localization.setCurrentLocaleValues(o)}},{key:"dataURI",value:function(o){return new cg(this.ctx).dataURI(o)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var o=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){o.w.globals.resized=!0,o.w.globals.dataChanged=!1,o.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var o=this.w.config.chart.redrawOnWindowResize;"function"==typeof o&&(o=o()),o&&this._windowResize()}}],[{key:"getChartByID",value:function(o){var l=fe.escapeString(o),u=Apex._chartInstances.filter(function(f){return f.id===l})[0];return u&&u.chart}},{key:"initOnLoad",value:function(){for(var o=document.querySelectorAll("[data-apexcharts]"),l=0;l<o.length;l++)new U(o[l],JSON.parse(o[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(o,l){var u=this.getChartByID(o);if(u){u.w.globals.isExecCalled=!0;var f=null;if(-1!==u.publicMethods.indexOf(l)){for(var p=arguments.length,_=new Array(p>2?p-2:0),m=2;m<p;m++)_[m-2]=arguments[m];f=u[l].apply(u,_)}return f}}},{key:"merge",value:function(o,l){return fe.extend(o,l)}}]),U}();Tl.exports=Ol}},Tl=>{Tl(Tl.s=378)}]);