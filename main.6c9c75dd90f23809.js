"use strict";(self.webpackChunkHackathon=self.webpackChunkHackathon||[]).push([[179],{68:(kl,gh,tg)=>{function mi(i){return"function"==typeof i}function Qc(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Gt=Qc(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function yn(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class Ie{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(mi(n))try{n()}catch(r){t=r instanceof Gt?r.errors:[r]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const r of s)try{Rl(r)}catch(a){t=null!=t?t:[],a instanceof Gt?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Gt(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Rl(t);else{if(t instanceof Ie){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&yn(e,t)}remove(t){const{_teardowns:e}=this;e&&yn(e,t),t instanceof Ie&&t._removeParent(this)}}Ie.EMPTY=(()=>{const i=new Ie;return i.closed=!0,i})();const mh=Ie.EMPTY;function nt(i){return i instanceof Ie||i&&"closed"in i&&mi(i.remove)&&mi(i.add)&&mi(i.unsubscribe)}function Rl(i){mi(i)?i():i.unsubscribe()}const Gs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Io={setTimeout(...i){const{delegate:t}=Io;return((null==t?void 0:t.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:t}=Io;return((null==t?void 0:t.clearTimeout)||clearTimeout)(i)},delegate:void 0};function _h(i){Io.setTimeout(()=>{const{onUnhandledError:t}=Gs;if(!t)throw i;t(i)})}function Po(){}const Il=Jc("C",void 0,void 0);function Jc(i,t,e){return{kind:i,value:t,error:e}}let Or=null;function fe(i){if(Gs.useDeprecatedSynchronousErrorHandling){const t=!Or;if(t&&(Or={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=Or;if(Or=null,e)throw n}}else i()}class An extends Ie{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,nt(t)&&t.add(this)):this.destination=ib}static create(t,e,n){return new Be(t,e,n)}next(t){this.isStopped?vh(function Us(i){return Jc("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?vh(function tb(i){return Jc("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?vh(Il,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Be extends An{constructor(t,e,n){let s;if(super(),mi(t))s=t;else if(t){let r;({next:s,error:e,complete:n}=t),this&&Gs.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe()):r=t,s=null==s?void 0:s.bind(r),e=null==e?void 0:e.bind(r),n=null==n?void 0:n.bind(r)}this.destination={next:s?hn(s):Po,error:hn(null!=e?e:Pl),complete:n?hn(n):Po}}}function hn(i,t){return(...e)=>{try{i(...e)}catch(n){Gs.useDeprecatedSynchronousErrorHandling?function Lo(i){Gs.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=i)}(n):_h(n)}}}function Pl(i){throw i}function vh(i,t){const{onStoppedNotification:e}=Gs;e&&Io.setTimeout(()=>e(i,t))}const ib={closed:!0,next:Po,error:Pl,complete:Po},yh="function"==typeof Symbol&&Symbol.observable||"@@observable";function Fr(i){return i}let Jt=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,s){const r=function No(i){return i&&i instanceof An||function ng(i){return i&&mi(i.next)&&mi(i.error)&&mi(i.complete)}(i)&&nt(i)}(e)?e:new Be(e,n,s);return fe(()=>{const{operator:a,source:c}=this;r.add(a?a.call(r,c):c?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=Fo(n))((s,r)=>{let a;a=this.subscribe(c=>{try{e(c)}catch(d){r(d),null==a||a.unsubscribe()}},r,s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[yh](){return this}pipe(...e){return function ig(i){return 0===i.length?Fr:1===i.length?i[0]:function(e){return i.reduce((n,s)=>s(n),e)}}(e)(this)}toPromise(e){return new(e=Fo(e))((n,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>n(r))})}}return i.create=t=>new i(t),i})();function Fo(i){var t;return null!==(t=null!=i?i:Gs.Promise)&&void 0!==t?t:Promise}const nb=Qc(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ge=(()=>{class i extends Jt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new sg(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new nb}next(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){const n=this.observers.slice();for(const s of n)s.next(e)}})}error(e){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){fe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:s,observers:r}=this;return n||s?mh:(r.push(e),new Ie(()=>yn(r,e)))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:s,isStopped:r}=this;n?e.error(s):r&&e.complete()}asObservable(){const e=new Jt;return e.source=this,e}}return i.create=(t,e)=>new sg(t,e),i})();class sg extends Ge{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:mh}}function za(i){return mi(null==i?void 0:i.lift)}function pi(i){return t=>{if(za(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ni extends An{constructor(t,e,n,s,r){super(t),this.onFinalize=r,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=s?function(a){try{s(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function jt(i,t){return pi((e,n)=>{let s=0;e.subscribe(new Ni(n,r=>{n.next(i.call(t,r,s++))}))})}function Wa(i){return this instanceof Wa?(this.v=i,this):new Wa(i)}function lb(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=e.apply(i,t||[]),r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(b){n[b]&&(s[b]=function(C){return new Promise(function(D,A){r.push([b,C,D,A])>1||c(b,C)})})}function c(b,C){try{!function d(b){b.value instanceof Wa?Promise.resolve(b.value.v).then(h,g):v(r[0][2],b)}(n[b](C))}catch(D){v(r[0][3],D)}}function h(b){c("next",b)}function g(b){c("throw",b)}function v(b,C){b(C),r.shift(),r.length&&c(r[0][0],r[0][1])}}function cb(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function ed(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=i[r]&&function(a){return new Promise(function(c,d){!function s(r,a,c,d){Promise.resolve(d).then(function(h){r({value:h,done:c})},a)}(c,d,(a=i[r](a)).done,a.value)})}}}const td=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function cg(i){return mi(null==i?void 0:i.then)}function wh(i){return mi(i[yh])}function dg(i){return Symbol.asyncIterator&&mi(null==i?void 0:i[Symbol.asyncIterator])}function Ch(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ug=function hb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hg(i){return mi(null==i?void 0:i[ug])}function fg(i){return lb(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:s}=yield Wa(e.read());if(s)return yield Wa(void 0);yield yield Wa(n)}}finally{e.releaseLock()}})}function Mh(i){return mi(null==i?void 0:i.getReader)}function os(i){if(i instanceof Jt)return i;if(null!=i){if(wh(i))return function pg(i){return new Jt(t=>{const e=i[yh]();if(mi(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(td(i))return function fb(i){return new Jt(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(cg(i))return function gg(i){return new Jt(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,_h)})}(i);if(dg(i))return _g(i);if(hg(i))return function mg(i){return new Jt(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(Mh(i))return function pb(i){return _g(fg(i))}(i)}throw Ch(i)}function _g(i){return new Jt(t=>{(function gb(i,t){var e,n,s,r;return function Ll(i,t,e,n){return new(e||(e=Promise))(function(r,a){function c(g){try{h(n.next(g))}catch(v){a(v)}}function d(g){try{h(n.throw(g))}catch(v){a(v)}}function h(g){g.done?r(g.value):function s(r){return r instanceof e?r:new e(function(a){a(r)})}(g.value).then(c,d)}h((n=n.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=cb(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(a){s={error:a}}finally{try{n&&!n.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Ws(i,t,e,n=0,s=!1){const r=t.schedule(function(){e(),s?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(r),!s)return r}function rn(i,t,e=1/0){return mi(t)?rn((n,s)=>jt((r,a)=>t(n,r,s,a))(os(i(n,s))),e):("number"==typeof t&&(e=t),pi((n,s)=>function Sh(i,t,e,n,s,r,a,c){const d=[];let h=0,g=0,v=!1;const b=()=>{v&&!d.length&&!h&&t.complete()},C=A=>h<n?D(A):d.push(A),D=A=>{r&&t.next(A),h++;let E=!1;os(e(A,g++)).subscribe(new Ni(t,I=>{null==s||s(I),r?C(I):t.next(I)},()=>{E=!0},void 0,()=>{if(E)try{for(h--;d.length&&h<n;){const I=d.shift();a?Ws(t,a,()=>D(I)):D(I)}b()}catch(I){t.error(I)}}))};return i.subscribe(new Ni(t,C,()=>{v=!0,b()})),()=>{null==c||c()}}(n,s,i,e)))}function Ol(i=1/0){return rn(Fr,i)}const cr=new Jt(i=>i.complete());function Dh(i){return i&&mi(i.schedule)}function id(i){return i[i.length-1]}function nd(i){return mi(id(i))?i.pop():void 0}function Fl(i){return Dh(id(i))?i.pop():void 0}function o(i,t=0){return pi((e,n)=>{e.subscribe(new Ni(n,s=>Ws(n,i,()=>n.next(s),t),()=>Ws(n,i,()=>n.complete(),t),s=>Ws(n,i,()=>n.error(s),t)))})}function l(i,t=0){return pi((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function m(i,t){if(!i)throw new Error("Iterable cannot be null");return new Jt(e=>{Ws(e,t,()=>{const n=i[Symbol.asyncIterator]();Ws(e,t,()=>{n.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function S(i,t){return t?function w(i,t){if(null!=i){if(wh(i))return function u(i,t){return os(i).pipe(l(t),o(t))}(i,t);if(td(i))return function p(i,t){return new Jt(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(cg(i))return function f(i,t){return os(i).pipe(l(t),o(t))}(i,t);if(dg(i))return m(i,t);if(hg(i))return function _(i,t){return new Jt(e=>{let n;return Ws(e,t,()=>{n=i[ug](),Ws(e,t,()=>{let s,r;try{({value:s,done:r}=n.next())}catch(a){return void e.error(a)}r?e.complete():e.next(s)},0,!0)}),()=>mi(null==n?void 0:n.return)&&n.return()})}(i,t);if(Mh(i))return function y(i,t){return m(fg(i),t)}(i,t)}throw Ch(i)}(i,t):os(i)}function M(...i){const t=Fl(i),e=function U(i,t){return"number"==typeof id(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?os(n[0]):Ol(e)(S(n,t)):cr}function T(i){return i<=0?()=>cr:pi((t,e)=>{let n=0;t.subscribe(new Ni(e,s=>{++n<=i&&(e.next(s),i<=n&&e.complete())}))})}function R(i={}){const{connector:t=(()=>new Ge),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=i;return r=>{let a=null,c=null,d=null,h=0,g=!1,v=!1;const b=()=>{null==c||c.unsubscribe(),c=null},C=()=>{b(),a=d=null,g=v=!1},D=()=>{const A=a;C(),null==A||A.unsubscribe()};return pi((A,E)=>{h++,!v&&!g&&b();const I=d=null!=d?d:t();E.add(()=>{h--,0===h&&!v&&!g&&(c=O(D,s))}),I.subscribe(E),a||(a=new Be({next:P=>I.next(P),error:P=>{v=!0,b(),c=O(C,e,P),I.error(P)},complete:()=>{g=!0,b(),c=O(C,n),I.complete()}}),S(A).subscribe(a))})(r)}}function O(i,t,...e){return!0===t?(i(),null):!1===t?null:t(...e).pipe(T(1)).subscribe(()=>i())}function L(i){for(let t in i)if(i[t]===L)return t;throw Error("Could not find renamed property on target object.")}function H(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function z(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(z).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Y(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const X=L({__forward_ref__:L});function x(i){return i.__forward_ref__=x,i.toString=function(){return z(this())},i}function k(i){return B(i)?i():i}function B(i){return"function"==typeof i&&i.hasOwnProperty(X)&&i.__forward_ref__===x}class K extends Error{constructor(t,e){super(function ve(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function te(i){return"string"==typeof i?i:null==i?"":String(i)}function Ee(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():te(i)}function Ii(i,t){const e=t?` in ${t}`:"";throw new K(-201,`No provider for ${Ee(i)} found${e}`)}function js(i,t){null==i&&function Zi(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function Pe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function it(i){return{providers:i.providers||[],imports:i.imports||[]}}function vb(i){return ZD(i,bg)||ZD(i,QD)}function ZD(i,t){return i.hasOwnProperty(t)?i[t]:null}function KD(i){return i&&(i.hasOwnProperty(yb)||i.hasOwnProperty(X3))?i[yb]:null}const bg=L({\u0275prov:L}),yb=L({\u0275inj:L}),QD=L({ngInjectableDef:L}),X3=L({ngInjectorDef:L});var ri=(()=>((ri=ri||{})[ri.Default=0]="Default",ri[ri.Host=1]="Host",ri[ri.Self=2]="Self",ri[ri.SkipSelf=4]="SkipSelf",ri[ri.Optional=8]="Optional",ri))();let bb;function Ho(i){const t=bb;return bb=i,t}function JD(i,t,e){const n=vb(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&ri.Optional?null:void 0!==t?t:void Ii(z(i),"Injector")}function zo(i){return{toString:i}.toString()}var Nr=(()=>((Nr=Nr||{})[Nr.OnPush=0]="OnPush",Nr[Nr.Default=1]="Default",Nr))(),Br=(()=>{return(i=Br||(Br={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Br;var i})();const q3="undefined"!=typeof globalThis&&globalThis,Z3="undefined"!=typeof window&&window,K3="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gi=q3||"undefined"!=typeof global&&global||Z3||K3,sd={},Wi=[],xg=L({\u0275cmp:L}),xb=L({\u0275dir:L}),wb=L({\u0275pipe:L}),eA=L({\u0275mod:L}),ja=L({\u0275fac:L}),Eh=L({__NG_ELEMENT_ID__:L});let Q3=0;function kt(i){return zo(()=>{const e={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Wi,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Br.Emulated,id:"c",styles:i.styles||Wi,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.directives,r=i.features,a=i.pipes;return n.id+=Q3++,n.inputs=sA(i.inputs,e),n.outputs=sA(i.outputs),r&&r.forEach(c=>c(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(tA):null,n.pipeDefs=a?()=>("function"==typeof a?a():a).map(iA):null,n})}function tA(i){return ps(i)||function Go(i){return i[xb]||null}(i)}function iA(i){return function Nl(i){return i[wb]||null}(i)}const nA={};function st(i){return zo(()=>{const t={type:i.type,bootstrap:i.bootstrap||Wi,declarations:i.declarations||Wi,imports:i.imports||Wi,exports:i.exports||Wi,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(nA[i.id]=i.type),t})}function sA(i,t){if(null==i)return sd;const e={};for(const n in i)if(i.hasOwnProperty(n)){let s=i[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=n,t&&(t[s]=r)}return e}const ge=kt;function Ls(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ps(i){return i[xg]||null}function ur(i,t){const e=i[eA]||null;if(!e&&!0===t)throw new Error(`Type ${z(i)} does not have '\u0275mod' property.`);return e}function ua(i){return Array.isArray(i)&&"object"==typeof i[1]}function Hr(i){return Array.isArray(i)&&!0===i[1]}function Sb(i){return 0!=(8&i.flags)}function Sg(i){return 2==(2&i.flags)}function Dg(i){return 1==(1&i.flags)}function zr(i){return null!==i.template}function sz(i){return 0!=(512&i[2])}function zl(i,t){return i.hasOwnProperty(ja)?i[ja]:null}class oz{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Bi(){return aA}function aA(i){return i.type.prototype.ngOnChanges&&(i.setInput=cz),lz}function lz(){const i=lA(this),t=null==i?void 0:i.current;if(t){const e=i.previous;if(e===sd)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function cz(i,t,e,n){const s=lA(i)||function dz(i,t){return i[oA]=t}(i,{previous:sd,current:null}),r=s.current||(s.current={}),a=s.previous,c=this.declaredInputs[e],d=a[c];r[c]=new oz(d&&d.currentValue,t,a===sd),i[n]=t}Bi.ngInherit=!0;const oA="__ngSimpleChanges__";function lA(i){return i[oA]||null}const cA="http://www.w3.org/2000/svg";let Eb;function fn(i){return!!i.listen}const uA={createRenderer:(i,t)=>function Tb(){return void 0!==Eb?Eb:"undefined"!=typeof document?document:void 0}()};function En(i){for(;Array.isArray(i);)i=i[0];return i}function Ag(i,t){return En(t[i])}function pr(i,t){return En(t[i.index])}function kb(i,t){return i.data[t]}function cd(i,t){return i[t]}function Xs(i,t){const e=t[i];return ua(e)?e:e[0]}function hA(i){return 4==(4&i[2])}function Rb(i){return 128==(128&i[2])}function Uo(i,t){return null==t?null:i[t]}function fA(i){i[18]=0}function Ib(i,t){i[5]+=t;let e=i,n=i[3];for(;null!==n&&(1===t&&1===e[5]||-1===t&&0===e[5]);)n[5]+=t,e=n,n=n[3]}const Kt={lFrame:xA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function pA(){return Kt.bindingsEnabled}function He(){return Kt.lFrame.lView}function Di(){return Kt.lFrame.tView}function $s(i){return Kt.lFrame.contextLView=i,i[8]}function Hn(){let i=gA();for(;null!==i&&64===i.type;)i=i.parent;return i}function gA(){return Kt.lFrame.currentTNode}function ha(i,t){const e=Kt.lFrame;e.currentTNode=i,e.isParent=t}function Pb(){return Kt.lFrame.isParent}function Lb(){Kt.lFrame.isParent=!1}function Eg(){return Kt.isInCheckNoChangesMode}function Tg(i){Kt.isInCheckNoChangesMode=i}function Cs(){const i=Kt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function dd(){return Kt.lFrame.bindingIndex++}function Xa(i){const t=Kt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function Mz(i,t){const e=Kt.lFrame;e.bindingIndex=e.bindingRootIndex=i,Ob(t)}function Ob(i){Kt.lFrame.currentDirectiveIndex=i}function Fb(i){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function vA(){return Kt.lFrame.currentQueryIndex}function Nb(i){Kt.lFrame.currentQueryIndex=i}function Dz(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function yA(i,t,e){if(e&ri.SkipSelf){let s=t,r=i;for(;!(s=s.parent,null!==s||e&ri.Host||(s=Dz(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,i=r}const n=Kt.lFrame=bA();return n.currentTNode=t,n.lView=i,!0}function kg(i){const t=bA(),e=i[1];Kt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function bA(){const i=Kt.lFrame,t=null===i?null:i.child;return null===t?xA(i):t}function xA(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function wA(){const i=Kt.lFrame;return Kt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const CA=wA;function Rg(){const i=wA();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Ms(){return Kt.lFrame.selectedIndex}function Wo(i){Kt.lFrame.selectedIndex=i}function pn(){const i=Kt.lFrame;return kb(i.tView,i.selectedIndex)}function ud(){Kt.lFrame.currentNamespace=cA}function Ig(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const r=i.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:g}=r;a&&(i.contentHooks||(i.contentHooks=[])).push(-e,a),c&&((i.contentHooks||(i.contentHooks=[])).push(e,c),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,c)),d&&(i.viewHooks||(i.viewHooks=[])).push(-e,d),h&&((i.viewHooks||(i.viewHooks=[])).push(e,h),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,h)),null!=g&&(i.destroyHooks||(i.destroyHooks=[])).push(e,g)}}function Pg(i,t,e){MA(i,t,3,e)}function Lg(i,t,e,n){(3&i[2])===e&&MA(i,t,e,n)}function Vb(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function MA(i,t,e,n){const r=null!=n?n:-1,a=t.length-1;let c=0;for(let d=void 0!==n?65535&i[18]:0;d<a;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=n&&c>=n)break}else t[d]<0&&(i[18]+=65536),(c<r||-1==r)&&(Pz(i,e,t,d),i[18]=(4294901760&i[18])+d+2),d++}function Pz(i,t,e,n){const s=e[n]<0,r=e[n+1],c=i[s?-e[n]:e[n]];if(s){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{r.call(c)}finally{}}}else try{r.call(c)}finally{}}class Ph{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Og(i,t,e){const n=fn(i);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],c=e[s++],d=e[s++];n?i.setAttribute(t,c,d,a):t.setAttributeNS(a,c,d)}else{const a=r,c=e[++s];zb(a)?n&&i.setProperty(t,a,c):n?i.setAttribute(t,a,c):t.setAttribute(a,c),s++}}return s}function SA(i){return 3===i||4===i||6===i}function zb(i){return 64===i.charCodeAt(0)}function Fg(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?e=s:0===e||DA(i,e,s,null,-1===e||2===e?t[++n]:null)}}return i}function DA(i,t,e,n,s){let r=0,a=i.length;if(-1===t)a=-1;else for(;r<i.length;){const c=i[r++];if("number"==typeof c){if(c===t){a=-1;break}if(c>t){a=r-1;break}}}for(;r<i.length;){const c=i[r];if("number"==typeof c)break;if(c===e){if(null===n)return void(null!==s&&(i[r+1]=s));if(n===i[r+1])return void(i[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==a&&(i.splice(a,0,t),r=a+1),i.splice(r++,0,e),null!==n&&i.splice(r++,0,n),null!==s&&i.splice(r++,0,s)}function AA(i){return-1!==i}function hd(i){return 32767&i}function fd(i,t){let e=function Bz(i){return i>>16}(i),n=t;for(;e>0;)n=n[15],e--;return n}let Gb=!0;function Ng(i){const t=Gb;return Gb=i,t}let Vz=0;function Oh(i,t){const e=Wb(i,t);if(-1!==e)return e;const n=t[1];n.firstCreatePass&&(i.injectorIndex=t.length,Ub(n.data,i),Ub(t,null),Ub(n.blueprint,null));const s=Bg(i,t),r=i.injectorIndex;if(AA(s)){const a=hd(s),c=fd(s,t),d=c[1].data;for(let h=0;h<8;h++)t[r+h]=c[a+h]|d[a+h]}return t[r+8]=s,r}function Ub(i,t){i.push(0,0,0,0,0,0,0,0,t)}function Wb(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function Bg(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(n=2===a?r.declTNode:1===a?s[6]:null,null===n)return-1;if(e++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function Vg(i,t,e){!function Hz(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Eh)&&(n=e[Eh]),null==n&&(n=e[Eh]=Vz++);const s=255&n;t.data[i+(s>>5)]|=1<<s}(i,t,e)}function kA(i,t,e){if(e&ri.Optional)return i;Ii(t,"NodeInjector")}function RA(i,t,e,n){if(e&ri.Optional&&void 0===n&&(n=null),0==(e&(ri.Self|ri.Host))){const s=i[9],r=Ho(void 0);try{return s?s.get(t,n,e&ri.Optional):JD(t,n,e&ri.Optional)}finally{Ho(r)}}return kA(n,t,e)}function IA(i,t,e,n=ri.Default,s){if(null!==i){const r=function Wz(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(Eh)?i[Eh]:void 0;return"number"==typeof t?t>=0?255&t:Gz:t}(e);if("function"==typeof r){if(!yA(t,i,n))return n&ri.Host?kA(s,e,n):RA(t,e,n,s);try{const a=r(n);if(null!=a||n&ri.Optional)return a;Ii(e)}finally{CA()}}else if("number"==typeof r){let a=null,c=Wb(i,t),d=-1,h=n&ri.Host?t[16][6]:null;for((-1===c||n&ri.SkipSelf)&&(d=-1===c?Bg(i,t):t[c+8],-1!==d&&OA(n,!1)?(a=t[1],c=hd(d),t=fd(d,t)):c=-1);-1!==c;){const g=t[1];if(LA(r,c,g.data)){const v=Uz(c,t,e,a,n,h);if(v!==PA)return v}d=t[c+8],-1!==d&&OA(n,t[1].data[c+8]===h)&&LA(r,c,t)?(a=g,c=hd(d),t=fd(d,t)):c=-1}}}return RA(t,e,n,s)}const PA={};function Gz(){return new pd(Hn(),He())}function Uz(i,t,e,n,s,r){const a=t[1],c=a.data[i+8],g=Hg(c,a,e,null==n?Sg(c)&&Gb:n!=a&&0!=(3&c.type),s&ri.Host&&r===c);return null!==g?Fh(t,a,g,c):PA}function Hg(i,t,e,n,s){const r=i.providerIndexes,a=t.data,c=1048575&r,d=i.directiveStart,g=r>>20,b=s?c+g:i.directiveEnd;for(let C=n?c:c+g;C<b;C++){const D=a[C];if(C<d&&e===D||C>=d&&D.type===e)return C}if(s){const C=a[d];if(C&&zr(C)&&C.type===e)return d}return null}function Fh(i,t,e,n){let s=i[e];const r=t.data;if(function Lz(i){return i instanceof Ph}(s)){const a=s;a.resolving&&function Le(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new K(-200,`Circular dependency in DI detected for ${i}${e}`)}(Ee(r[e]));const c=Ng(a.canSeeViewProviders);a.resolving=!0;const d=a.injectImpl?Ho(a.injectImpl):null;yA(i,n,ri.Default);try{s=i[e]=a.factory(void 0,r,i,n),t.firstCreatePass&&e>=n.directiveStart&&function Iz(i,t,e){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(n){const a=aA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,r))}(e,r[e],t)}finally{null!==d&&Ho(d),Ng(c),a.resolving=!1,CA()}}return s}function LA(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function OA(i,t){return!(i&ri.Self||i&ri.Host&&t)}class pd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return IA(this._tNode,this._lView,t,n,e)}}function et(i){return zo(()=>{const t=i.prototype.constructor,e=t[ja]||jb(t),n=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==n;){const r=s[ja]||jb(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function jb(i){return B(i)?()=>{const t=jb(k(i));return t&&t()}:zl(i)}function cs(i){return function zz(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let s=0;for(;s<n;){const r=e[s];if(SA(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<n&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(Hn(),i)}const md="__parameters__";function vd(i,t,e){return zo(()=>{const n=function Yb(i){return function(...e){if(i){const n=i(...e);for(const s in n)this[s]=n[s]}}}(t);function s(...r){if(this instanceof s)return n.apply(this,r),this;const a=new s(...r);return c.annotation=a,c;function c(d,h,g){const v=d.hasOwnProperty(md)?d[md]:Object.defineProperty(d,md,{value:[]})[md];for(;v.length<=g;)v.push(null);return(v[g]=v[g]||[]).push(a),d}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}class Me{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Yz=new Me("AnalyzeForEntryComponents");function gr(i,t){void 0===t&&(t=i);for(let e=0;e<i.length;e++){let n=i[e];Array.isArray(n)?(t===i&&(t=i.slice(0,e)),gr(n,t)):t!==i&&t.push(n)}return t}function fa(i,t){i.forEach(e=>Array.isArray(e)?fa(e,t):t(e))}function NA(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function zg(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Vh(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function qs(i,t,e){let n=yd(i,t);return n>=0?i[1|n]=e:(n=~n,function qz(i,t,e,n){let s=i.length;if(s==t)i.push(e,n);else if(1===s)i.push(n,i[0]),i[0]=e;else{for(s--,i.push(i[s-1],i[s]);s>t;)i[s]=i[s-2],s--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function $b(i,t){const e=yd(i,t);if(e>=0)return i[1|e]}function yd(i,t){return function HA(i,t,e){let n=0,s=i.length>>e;for(;s!==n;){const r=n+(s-n>>1),a=i[r<<e];if(t===a)return r<<e;a>t?s=r:n=r+1}return~(s<<e)}(i,t,1)}const Hh={},Zb="__NG_DI_FLAG__",Ug="ngTempTokenPath",iG=/\n/gm,GA="__source",sG=L({provide:String,useValue:L});let zh;function UA(i){const t=zh;return zh=i,t}function rG(i,t=ri.Default){if(void 0===zh)throw new K(203,"");return null===zh?JD(i,void 0,t):zh.get(i,t&ri.Optional?null:void 0,t)}function me(i,t=ri.Default){return(function $3(){return bb}()||rG)(k(i),t)}const bd=me;function Kb(i){const t=[];for(let e=0;e<i.length;e++){const n=k(i[e]);if(Array.isArray(n)){if(0===n.length)throw new K(900,"");let s,r=ri.Default;for(let a=0;a<n.length;a++){const c=n[a],d=aG(c);"number"==typeof d?-1===d?s=c.token:r|=d:s=c}t.push(me(s,r))}else t.push(me(n))}return t}function Gh(i,t){return i[Zb]=t,i.prototype[Zb]=t,i}function aG(i){return i[Zb]}const Uh=Gh(vd("Inject",i=>({token:i})),-1),Gn=Gh(vd("Optional"),8),Zs=Gh(vd("SkipSelf"),4);let jg;function wd(i){var t;return(null===(t=function Jb(){if(void 0===jg&&(jg=null,Gi.trustedTypes))try{jg=Gi.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return jg}())||void 0===t?void 0:t.createHTML(i))||i}class Gl{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yG extends Gl{getTypeName(){return"HTML"}}class bG extends Gl{getTypeName(){return"Style"}}class xG extends Gl{getTypeName(){return"Script"}}class wG extends Gl{getTypeName(){return"URL"}}class CG extends Gl{getTypeName(){return"ResourceURL"}}function Ks(i){return i instanceof Gl?i.changingThisBreaksApplicationSecurity:i}function pa(i,t){const e=QA(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function QA(i){return i instanceof Gl&&i.getTypeName()||null}class TG{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(wd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class kG{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const n=this.inertDocument.createElement("body");e.appendChild(n)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=wd(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=wd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const a=e.item(s).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const IG=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,PG=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jh(i){return(i=String(i)).match(IG)||i.match(PG)?i:"unsafe:"+i}function ga(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Yh(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const tE=ga("area,br,col,hr,img,wbr"),iE=ga("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nE=ga("rp,rt"),tx=Yh(tE,Yh(iE,ga("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yh(nE,ga("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yh(nE,iE)),ix=ga("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nx=ga("srcset"),sE=Yh(ix,nx,ga("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ga("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),LG=ga("script,style,template");class OG{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tx.hasOwnProperty(e))return this.sanitizedSomething=!0,!LG.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let s=0;s<n.length;s++){const r=n.item(s),a=r.name,c=a.toLowerCase();if(!sE.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let d=r.value;ix[c]&&(d=jh(d)),nx[c]&&(i=d,d=(i=String(i)).split(",").map(t=>jh(t.trim())).join(", ")),this.buf.push(" ",a,'="',rE(d),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tx.hasOwnProperty(e)&&!tE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rE(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const FG=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,NG=/([^\#-~ |!])/g;function rE(i){return i.replace(/&/g,"&amp;").replace(FG,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(NG,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xg;function aE(i,t){let e=null;try{Xg=Xg||function JA(i){const t=new kG(i);return function RG(){try{return!!(new window.DOMParser).parseFromString(wd(""),"text/html")}catch(i){return!1}}()?new TG(t):t}(i);let n=t?String(t):"";e=Xg.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=e.innerHTML,e=Xg.getInertBodyElement(n)}while(n!==r);return wd((new OG).sanitizeChildren(sx(e)||e))}finally{if(e){const n=sx(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function sx(i){return"content"in i&&function BG(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Ti=(()=>((Ti=Ti||{})[Ti.NONE=0]="NONE",Ti[Ti.HTML=1]="HTML",Ti[Ti.STYLE=2]="STYLE",Ti[Ti.SCRIPT=3]="SCRIPT",Ti[Ti.URL=4]="URL",Ti[Ti.RESOURCE_URL=5]="RESOURCE_URL",Ti))();function Cd(i){const t=function Xh(){const i=He();return i&&i[12]}();return t?t.sanitize(Ti.URL,i)||"":pa(i,"URL")?Ks(i):jh(te(i))}const cE="__ngContext__";function ms(i,t){i[cE]=t}function ax(i){const t=function $h(i){return i[cE]||null}(i);return t?Array.isArray(t)?t:t.lView:null}function lx(i){return i.ngOriginalError}function tU(i,...t){i.error(...t)}class $a{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=function eU(i){return i&&i.ngErrorLogger||tU}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&lx(t);for(;e&&lx(e);)e=lx(e);return e||null}}const pE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gi))();function ma(i){return i instanceof Function?i():i}var Qs=(()=>((Qs=Qs||{})[Qs.Important=1]="Important",Qs[Qs.DashCase=2]="DashCase",Qs))();function dx(i,t){return undefined(i,t)}function qh(i){const t=i[3];return Hr(t)?t[3]:t}function ux(i){return yE(i[13])}function hx(i){return yE(i[4])}function yE(i){for(;null!==i&&!Hr(i);)i=i[4];return i}function Sd(i,t,e,n,s){if(null!=n){let r,a=!1;Hr(n)?r=n:ua(n)&&(a=!0,n=n[0]);const c=En(n);0===i&&null!==e?null==s?SE(t,e,c):Ul(t,e,c,s||null,!0):1===i&&null!==e?Ul(t,e,c,s||null,!0):2===i?function IE(i,t,e){const n=$g(i,t);n&&function MU(i,t,e,n){fn(i)?i.removeChild(t,e,n):t.removeChild(e)}(i,n,t,e)}(t,c,a):3===i&&t.destroyNode(c),null!=r&&function AU(i,t,e,n,s){const r=e[7];r!==En(e)&&Sd(t,i,n,r,s);for(let c=10;c<e.length;c++){const d=e[c];Zh(d[1],d,i,t,n,r)}}(t,i,r,e,s)}}function px(i,t,e){return fn(i)?i.createElement(t,e):null===e?i.createElement(t):i.createElementNS(e,t)}function xE(i,t){const e=i[9],n=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Ib(s,-1)),e.splice(n,1)}function gx(i,t){if(i.length<=10)return;const e=10+t,n=i[e];if(n){const s=n[17];null!==s&&s!==i&&xE(s,n),t>0&&(i[e-1][4]=n[4]);const r=zg(i,10+t);!function mU(i,t){Zh(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const a=r[19];null!==a&&a.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function wE(i,t){if(!(256&t[2])){const e=t[11];fn(e)&&e.destroyNode&&Zh(i,t,e,3,null,null),function yU(i){let t=i[13];if(!t)return mx(i[1],i);for(;t;){let e=null;if(ua(t))e=t[13];else{const n=t[10];n&&(e=n)}if(!e){for(;t&&!t[4]&&t!==i;)ua(t)&&mx(t[1],t),t=t[3];null===t&&(t=i),ua(t)&&mx(t[1],t),e=t&&t[4]}t=e}}(t)}}function mx(i,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function CU(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const s=t[e[n]];if(!(s instanceof Ph)){const r=e[n+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const c=s[r[a]],d=r[a+1];try{d.call(c)}finally{}}else try{r.call(s)}finally{}}}}(i,t),function wU(i,t){const e=i.cleanup,n=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],c="function"==typeof a?a(t):En(t[a]),d=n[s=e[r+2]],h=e[r+3];"boolean"==typeof h?c.removeEventListener(e[r],d,h):h>=0?n[s=h]():n[s=-h].unsubscribe(),r+=2}else{const a=n[s=e[r+1]];e[r].call(a)}if(null!==n){for(let r=s+1;r<n.length;r++)n[r]();t[7]=null}}(i,t),1===t[1].type&&fn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Hr(t[3])){e!==t[3]&&xE(e,t);const n=t[19];null!==n&&n.detachView(i)}}}function CE(i,t,e){return function ME(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[0];if(2&n.flags){const s=i.data[n.directiveStart].encapsulation;if(s===Br.None||s===Br.Emulated)return null}return pr(n,e)}(i,t.parent,e)}function Ul(i,t,e,n,s){fn(i)?i.insertBefore(t,e,n,s):t.insertBefore(e,n,s)}function SE(i,t,e){fn(i)?i.appendChild(t,e):t.appendChild(e)}function DE(i,t,e,n,s){null!==n?Ul(i,t,e,n,s):SE(i,t,e)}function $g(i,t){return fn(i)?i.parentNode(t):t.parentNode}function AE(i,t,e){return TE(i,t,e)}let TE=function EE(i,t,e){return 40&i.type?pr(i,e):null};function qg(i,t,e,n){const s=CE(i,n,t),r=t[11],c=AE(n.parent||t[6],n,t);if(null!=s)if(Array.isArray(e))for(let d=0;d<e.length;d++)DE(r,s,e[d],c,!1);else DE(r,s,e,c,!1)}function Zg(i,t){if(null!==t){const e=t.type;if(3&e)return pr(t,i);if(4&e)return vx(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Zg(i,n);{const s=i[t.index];return Hr(s)?vx(-1,s):En(s)}}if(32&e)return dx(t,i)()||En(i[t.index]);{const n=RE(i,t);return null!==n?Array.isArray(n)?n[0]:Zg(qh(i[16]),n):Zg(i,t.next)}}return null}function RE(i,t){return null!==t?i[16][6].projection[t.projection]:null}function vx(i,t){const e=10+i+1;if(e<t.length){const n=t[e],s=n[1].firstChild;if(null!==s)return Zg(n,s)}return t[7]}function yx(i,t,e,n,s,r,a){for(;null!=e;){const c=n[e.index],d=e.type;if(a&&0===t&&(c&&ms(En(c),n),e.flags|=4),64!=(64&e.flags))if(8&d)yx(i,t,e.child,n,s,r,!1),Sd(t,i,s,c,r);else if(32&d){const h=dx(e,n);let g;for(;g=h();)Sd(t,i,s,g,r);Sd(t,i,s,c,r)}else 16&d?PE(i,t,n,e,s,r):Sd(t,i,s,c,r);e=a?e.projectionNext:e.next}}function Zh(i,t,e,n,s,r){yx(e,n,i.firstChild,t,s,r,!1)}function PE(i,t,e,n,s,r){const a=e[16],d=a[6].projection[n.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++)Sd(t,i,s,d[h],r);else yx(i,t,d,a[3],s,r,!0)}function LE(i,t,e){fn(i)?i.setAttribute(t,"style",e):t.style.cssText=e}function bx(i,t,e){fn(i)?""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e):t.className=e}function OE(i,t,e){let n=i.length;for(;;){const s=i.indexOf(t,e);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const r=t.length;if(s+r===n||i.charCodeAt(s+r)<=32)return s}e=s+1}}const FE="ng-template";function TU(i,t,e){let n=0;for(;n<i.length;){let s=i[n++];if(e&&"class"===s){if(s=i[n],-1!==OE(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<i.length&&"string"==typeof(s=i[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function NE(i){return 4===i.type&&i.value!==FE}function kU(i,t,e){return t===(4!==i.type||e?i.value:FE)}function RU(i,t,e){let n=4;const s=i.attrs||[],r=function LU(i){for(let t=0;t<i.length;t++)if(SA(i[t]))return t;return i.length}(s);let a=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!a)if(4&n){if(n=2|1&n,""!==d&&!kU(i,d,e)||""===d&&1===t.length){if(Gr(n))return!1;a=!0}}else{const h=8&n?d:t[++c];if(8&n&&null!==i.attrs){if(!TU(i.attrs,h,e)){if(Gr(n))return!1;a=!0}continue}const v=IU(8&n?"class":d,s,NE(i),e);if(-1===v){if(Gr(n))return!1;a=!0;continue}if(""!==h){let b;b=v>r?"":s[v+1].toLowerCase();const C=8&n?b:null;if(C&&-1!==OE(C,h,0)||2&n&&h!==b){if(Gr(n))return!1;a=!0}}}}else{if(!a&&!Gr(n)&&!Gr(d))return!1;if(a&&Gr(d))continue;a=!1,n=d|1&n}}return Gr(n)||a}function Gr(i){return 0==(1&i)}function IU(i,t,e,n){if(null===t)return-1;let s=0;if(n||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===i)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let c=t[++s];for(;"string"==typeof c;)c=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function OU(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function BE(i,t,e=!1){for(let n=0;n<t.length;n++)if(RU(i,t[n],e))return!0;return!1}function FU(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let s=0;s<i.length;s++)if(i[s]!==n[s])continue e;return!0}}return!1}function VE(i,t){return i?":not("+t.trim()+")":t}function NU(i){let t=i[0],e=1,n=2,s="",r=!1;for(;e<i.length;){let a=i[e];if("string"==typeof a)if(2&n){const c=i[++e];s+="["+a+(c.length>0?'="'+c+'"':"")+"]"}else 8&n?s+="."+a:4&n&&(s+=" "+a);else""!==s&&!Gr(a)&&(t+=VE(r,s),s=""),n=a,r=r||!Gr(n);e++}return""!==s&&(t+=VE(r,s)),t}const ti={};function ze(i){HE(Di(),He(),Ms()+i,Eg())}function HE(i,t,e,n){if(!n)if(3==(3&t[2])){const r=i.preOrderCheckHooks;null!==r&&Pg(t,r,e)}else{const r=i.preOrderHooks;null!==r&&Lg(t,r,0,e)}Wo(e)}function Kg(i,t){return i<<17|t<<2}function Ur(i){return i>>17&32767}function xx(i){return 2|i}function qa(i){return(131068&i)>>2}function wx(i,t){return-131069&i|t<<2}function Cx(i){return 1|i}function KE(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const s=e[n],r=e[n+1];if(-1!==r){const a=i.data[r];Nb(s),a.contentQueries(2,t[r],r)}}}function Kh(i,t,e,n,s,r,a,c,d,h){const g=t.blueprint.slice();return g[0]=s,g[2]=140|n,fA(g),g[3]=g[15]=i,g[8]=e,g[10]=a||i&&i[10],g[11]=c||i&&i[11],g[12]=d||i&&i[12]||null,g[9]=h||i&&i[9]||null,g[6]=r,g[16]=2==t.type?i[16]:g,g}function Dd(i,t,e,n,s){let r=i.data[t];if(null===r)r=function Ix(i,t,e,n,s){const r=gA(),a=Pb(),d=i.data[t]=function t5(i,t,e,n,s,r){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,n,s);return null===i.firstChild&&(i.firstChild=d),null!==r&&(a?null==r.child&&null!==d.parent&&(r.child=d):null===r.next&&(r.next=d)),d}(i,t,e,n,s),function Cz(){return Kt.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=n,r.attrs=s;const a=function Ih(){const i=Kt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return ha(r,!0),r}function Ad(i,t,e,n){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(n),i.blueprint.push(n),i.data.push(null);return s}function Qh(i,t,e){kg(t);try{const n=i.viewQuery;null!==n&&zx(1,n,e);const s=i.template;null!==s&&QE(i,t,s,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&KE(i,t),i.staticViewQueries&&zx(2,i.viewQuery,e);const r=i.components;null!==r&&function QU(i,t){for(let e=0;e<t.length;e++)b5(i,t[e])}(t,r)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[2]&=-5,Rg()}}function Ed(i,t,e,n){const s=t[2];if(256==(256&s))return;kg(t);const r=Eg();try{fA(t),function mA(i){return Kt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&QE(i,t,e,2,n);const a=3==(3&s);if(!r)if(a){const h=i.preOrderCheckHooks;null!==h&&Pg(t,h,null)}else{const h=i.preOrderHooks;null!==h&&Lg(t,h,0,null),Vb(t,0)}if(function v5(i){for(let t=ux(i);null!==t;t=hx(t)){if(!t[2])continue;const e=t[9];for(let n=0;n<e.length;n++){const s=e[n],r=s[3];0==(1024&s[2])&&Ib(r,1),s[2]|=1024}}}(t),function _5(i){for(let t=ux(i);null!==t;t=hx(t))for(let e=10;e<t.length;e++){const n=t[e],s=n[1];Rb(n)&&Ed(s,n,s.template,n[8])}}(t),null!==i.contentQueries&&KE(i,t),!r)if(a){const h=i.contentCheckHooks;null!==h&&Pg(t,h)}else{const h=i.contentHooks;null!==h&&Lg(t,h,1),Vb(t,1)}!function ZU(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const s=e[n];if(s<0)Wo(~s);else{const r=s,a=e[++n],c=e[++n];Mz(a,r),c(2,t[r])}}}finally{Wo(-1)}}(i,t);const c=i.components;null!==c&&function KU(i,t){for(let e=0;e<t.length;e++)y5(i,t[e])}(t,c);const d=i.viewQuery;if(null!==d&&zx(2,d,n),!r)if(a){const h=i.viewCheckHooks;null!==h&&Pg(t,h)}else{const h=i.viewHooks;null!==h&&Lg(t,h,2),Vb(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ib(t[3],-1))}finally{Rg()}}function JU(i,t,e,n){const s=t[10],r=!Eg(),a=hA(t);try{r&&!a&&s.begin&&s.begin(),a&&Qh(i,t,n),Ed(i,t,e,n)}finally{r&&!a&&s.end&&s.end()}}function QE(i,t,e,n,s){const r=Ms(),a=2&n;try{Wo(-1),a&&t.length>20&&HE(i,t,20,Eg()),e(n,s)}finally{Wo(r)}}function JE(i,t,e){if(Sb(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=i.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function Px(i,t,e){!pA()||(function c5(i,t,e,n){const s=e.directiveStart,r=e.directiveEnd;i.firstCreatePass||Oh(e,t),ms(n,t);const a=e.initialInputs;for(let c=s;c<r;c++){const d=i.data[c],h=zr(d);h&&p5(t,e,d);const g=Fh(t,i,c,e);ms(g,t),null!==a&&g5(0,c-s,g,d,0,a),h&&(Xs(e.index,t)[8]=g)}}(i,t,e,pr(e,t)),128==(128&e.flags)&&function d5(i,t,e){const n=e.directiveStart,s=e.directiveEnd,a=e.index,c=function Sz(){return Kt.lFrame.currentDirectiveIndex}();try{Wo(a);for(let d=n;d<s;d++){const h=i.data[d],g=t[d];Ob(d),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&oT(h,g)}}finally{Wo(-1),Ob(c)}}(i,t,e))}function Lx(i,t,e=pr){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const a=n[r+1],c=-1===a?e(t,i):i[a];i[s++]=c}}}function eT(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=em(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function em(i,t,e,n,s,r,a,c,d,h){const g=20+n,v=g+s,b=function e5(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:ti);return e}(g,v),C="function"==typeof h?h():h;return b[1]={type:i,blueprint:b,template:e,queries:null,viewQuery:c,declTNode:t,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:d,consts:C,incompleteFirstPass:!1}}function nT(i,t,e,n){const s=fT(t);null===e?s.push(n):(s.push(e),i.firstCreatePass&&pT(i).push(n,s.length-1))}function sT(i,t,e){for(let n in i)if(i.hasOwnProperty(n)){const s=i[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}return e}function Js(i,t,e,n,s,r,a,c){const d=pr(t,e);let g,h=t.inputs;!c&&null!=h&&(g=h[n])?(_T(i,e,g,n,s),Sg(t)&&function r5(i,t){const e=Xs(t,i);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(n=function s5(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),s=null!=a?a(s,t.value||"",n):s,fn(r)?r.setProperty(d,n,s):zb(n)||(d.setProperty?d.setProperty(n,s):d[n]=s))}function Ox(i,t,e,n){let s=!1;if(pA()){const r=function u5(i,t,e){const n=i.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const a=n[r];BE(e,a.selectors,!1)&&(s||(s=[]),Vg(Oh(e,t),i,a.type),zr(a)?(lT(i,e),s.unshift(a)):s.push(a))}return s}(i,t,e),a=null===n?null:{"":-1};if(null!==r){s=!0,cT(e,i.data.length,r.length);for(let g=0;g<r.length;g++){const v=r[g];v.providersResolver&&v.providersResolver(v)}let c=!1,d=!1,h=Ad(i,t,r.length,null);for(let g=0;g<r.length;g++){const v=r[g];e.mergedAttrs=Fg(e.mergedAttrs,v.hostAttrs),dT(i,e,t,h,v),f5(h,v,a),null!==v.contentQueries&&(e.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(e.flags|=128);const b=v.type.prototype;!c&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),c=!0),!d&&(b.ngOnChanges||b.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),d=!0),h++}!function n5(i,t){const n=t.directiveEnd,s=i.data,r=t.attrs,a=[];let c=null,d=null;for(let h=t.directiveStart;h<n;h++){const g=s[h],v=g.inputs,b=null===r||NE(t)?null:m5(v,r);a.push(b),c=sT(v,h,c),d=sT(g.outputs,h,d)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=16),c.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=c,t.outputs=d}(i,e)}a&&function h5(i,t,e){if(t){const n=i.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new K(-301,`Export of name '${t[s+1]}' not found!`);n.push(t[s],r)}}}(e,n,a)}return e.mergedAttrs=Fg(e.mergedAttrs,e.attrs),s}function aT(i,t,e,n,s,r){const a=r.hostBindings;if(a){let c=i.hostBindingOpCodes;null===c&&(c=i.hostBindingOpCodes=[]);const d=~t.index;(function l5(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(c)!=d&&c.push(d),c.push(n,s,a)}}function oT(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function lT(i,t){t.flags|=2,(i.components||(i.components=[])).push(t.index)}function f5(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;zr(t)&&(e[""]=i)}}function cT(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function dT(i,t,e,n,s){i.data[n]=s;const r=s.factory||(s.factory=zl(s.type)),a=new Ph(r,zr(s),null);i.blueprint[n]=a,e[n]=a,aT(i,t,0,n,Ad(i,e,s.hostVars,ti),s)}function p5(i,t,e){const n=pr(t,i),s=eT(e),r=i[10],a=tm(i,Kh(i,s,null,e.onPush?64:16,n,t,r,r.createRenderer(n,e),null,null));i[t.index]=a}function _a(i,t,e,n,s,r){const a=pr(i,t);!function Fx(i,t,e,n,s,r,a){if(null==r)fn(i)?i.removeAttribute(t,s,e):t.removeAttribute(s);else{const c=null==a?te(r):a(r,n||"",s);fn(i)?i.setAttribute(t,s,c,e):e?t.setAttributeNS(e,s,c):t.setAttribute(s,c)}}(t[11],a,r,i.value,e,n,s)}function g5(i,t,e,n,s,r){const a=r[t];if(null!==a){const c=n.setInput;for(let d=0;d<a.length;){const h=a[d++],g=a[d++],v=a[d++];null!==c?n.setInput(e,v,h,g):e[g]=v}}}function m5(i,t){let e=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;i.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,i[s],t[n+1])),n+=2}else n+=2;else n+=4}return e}function uT(i,t,e,n){return new Array(i,!0,!1,t,null,0,n,e,null,null)}function y5(i,t){const e=Xs(t,i);if(Rb(e)){const n=e[1];80&e[2]?Ed(n,e,n.template,e[8]):e[5]>0&&Nx(e)}}function Nx(i){for(let n=ux(i);null!==n;n=hx(n))for(let s=10;s<n.length;s++){const r=n[s];if(1024&r[2]){const a=r[1];Ed(a,r,a.template,r[8])}else r[5]>0&&Nx(r)}const e=i[1].components;if(null!==e)for(let n=0;n<e.length;n++){const s=Xs(e[n],i);Rb(s)&&s[5]>0&&Nx(s)}}function b5(i,t){const e=Xs(t,i),n=e[1];(function x5(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(n,e),Qh(n,e,e[8])}function tm(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function Bx(i){for(;i;){i[2]|=64;const t=qh(i);if(sz(i)&&!t)return i;i=t}return null}function Hx(i,t,e){const n=t[10];n.begin&&n.begin();try{Ed(i,t,i.template,e)}catch(s){throw mT(t,s),s}finally{n.end&&n.end()}}function hT(i){!function Vx(i){for(let t=0;t<i.components.length;t++){const e=i.components[t],n=ax(e),s=n[1];JU(s,n,s.template,e)}}(i[8])}function zx(i,t,e){Nb(0),t(i,e)}const S5=(()=>Promise.resolve(null))();function fT(i){return i[7]||(i[7]=[])}function pT(i){return i.cleanup||(i.cleanup=[])}function gT(i,t,e){return(null===i||zr(i))&&(e=function pz(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[t.index])),e[11]}function mT(i,t){const e=i[9],n=e?e.get($a,null):null;n&&n.handleError(t)}function _T(i,t,e,n,s){for(let r=0;r<e.length;){const a=e[r++],c=e[r++],d=t[a],h=i.data[a];null!==h.setInput?h.setInput(d,s,n,c):d[c]=s}}function Za(i,t,e){const n=Ag(t,i);!function bE(i,t,e){fn(i)?i.setValue(t,e):t.textContent=e}(i[11],n,e)}function im(i,t,e){let n=e?i.styles:null,s=e?i.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const c=t[a];"number"==typeof c?r=c:1==r?s=Y(s,c):2==r&&(n=Y(n,c+": "+t[++a]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=s:i.classesWithoutHost=s}const Gx=new Me("INJECTOR",-1);class vT{get(t,e=Hh){if(e===Hh){const n=new Error(`NullInjectorError: No provider for ${z(t)}!`);throw n.name="NullInjectorError",n}return e}}const Ux=new Me("Set Injector scope."),Jh={},E5={};let Wx;function yT(){return void 0===Wx&&(Wx=new vT),Wx}function bT(i,t=null,e=null,n){const s=xT(i,t,e,n);return s._resolveInjectorDefTypes(),s}function xT(i,t=null,e=null,n){return new T5(i,e,t||yT(),n)}class T5{constructor(t,e,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&fa(e,c=>this.processProvider(c,t,e)),fa([t],c=>this.processInjectorType(c,[],r)),this.records.set(Gx,Td(void 0,this));const a=this.records.get(Ux);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:z(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Hh,n=ri.Default){this.assertNotDestroyed();const s=UA(this),r=Ho(void 0);try{if(!(n&ri.SkipSelf)){let c=this.records.get(t);if(void 0===c){const d=function N5(i){return"function"==typeof i||"object"==typeof i&&i instanceof Me}(t)&&vb(t);c=d&&this.injectableDefInScope(d)?Td(jx(t),Jh):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(n&ri.Self?yT():this.parent).get(t,e=n&ri.Optional&&e===Hh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Ug]=a[Ug]||[]).unshift(z(t)),s)throw a;return function oG(i,t,e,n){const s=i[Ug];throw t[GA]&&s.unshift(t[GA]),i.message=function lG(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let s=z(t);if(Array.isArray(t))s=t.map(z).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let c=t[a];r.push(a+":"+("string"==typeof c?JSON.stringify(c):z(c)))}s=`{${r.join(", ")}}`}return`${e}${n?"("+n+")":""}[${s}]: ${i.replace(iG,"\n  ")}`}("\n"+i.message,s,e,n),i.ngTokenPath=s,i[Ug]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{Ho(r),UA(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((n,s)=>t.push(z(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,"")}processInjectorType(t,e,n){if(!(t=k(t)))return!1;let s=KD(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,c=-1!==n.indexOf(a);if(void 0!==r&&(s=KD(r)),null==s)return!1;if(null!=s.imports&&!c){let g;n.push(a);try{fa(s.imports,v=>{this.processInjectorType(v,e,n)&&(void 0===g&&(g=[]),g.push(v))})}finally{}if(void 0!==g)for(let v=0;v<g.length;v++){const{ngModule:b,providers:C}=g[v];fa(C,D=>this.processProvider(D,b,C||Wi))}}this.injectorDefTypes.add(a);const d=zl(a)||(()=>new a);this.records.set(a,Td(d,Jh));const h=s.providers;if(null!=h&&!c){const g=t;fa(h,v=>this.processProvider(v,g,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let s=kd(t=k(t))?t:k(t&&t.provide);const r=function R5(i,t,e){return CT(i)?Td(void 0,i.useValue):Td(wT(i),Jh)}(t);if(kd(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=Td(void 0,Jh,!0),a.factory=()=>Kb(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Jh&&(e.value=E5,e.value=e.factory()),"object"==typeof e.value&&e.value&&function F5(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=k(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function jx(i){const t=vb(i),e=null!==t?t.factory:zl(i);if(null!==e)return e;if(i instanceof Me)throw new K(204,"");if(i instanceof Function)return function k5(i){const t=i.length;if(t>0)throw Vh(t,"?"),new K(204,"");const e=function j3(i){const t=i&&(i[bg]||i[QD]);if(t){const e=function Y3(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new K(204,"")}function wT(i,t,e){let n;if(kd(i)){const s=k(i);return zl(s)||jx(s)}if(CT(i))n=()=>k(i.useValue);else if(function P5(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...Kb(i.deps||[]));else if(function I5(i){return!(!i||!i.useExisting)}(i))n=()=>me(k(i.useExisting));else{const s=k(i&&(i.useClass||i.provide));if(!function O5(i){return!!i.deps}(i))return zl(s)||jx(s);n=()=>new s(...Kb(i.deps))}return n}function Td(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function CT(i){return null!==i&&"object"==typeof i&&sG in i}function kd(i){return"function"==typeof i}let Tn=(()=>{class i{static create(e,n){var s;if(Array.isArray(e))return bT({name:""},n,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return bT({name:r},e.parent,e.providers,r)}}}return i.THROW_IF_NOT_FOUND=Hh,i.NULL=new vT,i.\u0275prov=Pe({token:i,providedIn:"any",factory:()=>me(Gx)}),i.__NG_ELEMENT_ID__=-1,i})();function j5(i,t){Ig(ax(i)[1],Hn())}function xe(i){let t=function OT(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let s;if(zr(i))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new K(903,"");s=t.\u0275dir}if(s){if(e){n.push(s);const a=i;a.inputs=$x(i.inputs),a.declaredInputs=$x(i.declaredInputs),a.outputs=$x(i.outputs);const c=s.hostBindings;c&&q5(i,c);const d=s.viewQuery,h=s.contentQueries;if(d&&X5(i,d),h&&$5(i,h),H(i.inputs,s.inputs),H(i.declaredInputs,s.declaredInputs),H(i.outputs,s.outputs),zr(s)&&s.data.animation){const g=i.data;g.animation=(g.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const c=r[a];c&&c.ngInherit&&c(i),c===xe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Y5(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const s=i[n];s.hostVars=t+=s.hostVars,s.hostAttrs=Fg(s.hostAttrs,e=Fg(e,s.hostAttrs))}}(n)}function $x(i){return i===sd?{}:i===Wi?[]:i}function X5(i,t){const e=i.viewQuery;i.viewQuery=e?(n,s)=>{t(n,s),e(n,s)}:t}function $5(i,t){const e=i.contentQueries;i.contentQueries=e?(n,s,r)=>{t(n,s,r),e(n,s,r)}:t}function q5(i,t){const e=i.hostBindings;i.hostBindings=e?(n,s)=>{t(n,s),e(n,s)}:t}let nm=null;function Rd(){if(!nm){const i=Gi.Symbol;if(i&&i.iterator)nm=i.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(nm=n)}}}return nm}function ef(i){return!!qx(i)&&(Array.isArray(i)||!(i instanceof Map)&&Rd()in i)}function qx(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function va(i,t,e){return i[t]=e}function _s(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Wl(i,t,e,n){const s=_s(i,t,e);return _s(i,t+1,n)||s}function Yt(i,t,e,n){const s=He();return _s(s,dd(),t)&&(Di(),_a(pn(),s,i,t,e,n)),Yt}function Pd(i,t,e,n){return _s(i,dd(),e)?t+te(e)+n:ti}function Dt(i,t,e,n,s,r,a,c){const d=He(),h=Di(),g=i+20,v=h.firstCreatePass?function n4(i,t,e,n,s,r,a,c,d){const h=t.consts,g=Dd(t,i,4,a||null,Uo(h,c));Ox(t,e,g,Uo(h,d)),Ig(t,g);const v=g.tViews=em(2,g,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,g),v.queries=t.queries.embeddedTView(g)),g}(g,h,d,t,e,n,s,r,a):h.data[g];ha(v,!1);const b=d[11].createComment("");qg(h,d,b,v),ms(b,d),tm(d,d[g]=uT(b,d,b,v)),Dg(v)&&Px(h,d,v),null!=a&&Lx(d,v,c)}function _r(i){return cd(function wz(){return Kt.lFrame.contextLView}(),20+i)}function F(i,t=ri.Default){const e=He();return null===e?me(i,t):IA(Hn(),e,k(i),t)}function Gd(){throw new Error("invalid")}function Ve(i,t,e){const n=He();return _s(n,dd(),t)&&Js(Di(),pn(),n,i,t,n[11],e,!1),Ve}function e0(i,t,e,n,s){const a=s?"class":"style";_T(i,e,t.inputs[a],a,n)}function ue(i,t,e,n){const s=He(),r=Di(),a=20+i,c=s[11],d=s[a]=px(c,t,function Rz(){return Kt.lFrame.currentNamespace}()),h=r.firstCreatePass?function M4(i,t,e,n,s,r,a){const c=t.consts,h=Dd(t,i,2,s,Uo(c,r));return Ox(t,e,h,Uo(c,a)),null!==h.attrs&&im(h,h.attrs,!1),null!==h.mergedAttrs&&im(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(a,r,s,0,t,e,n):r.data[a];ha(h,!0);const g=h.mergedAttrs;null!==g&&Og(c,d,g);const v=h.classes;null!==v&&bx(c,d,v);const b=h.styles;null!==b&&LE(c,d,b),64!=(64&h.flags)&&qg(r,s,d,h),0===function _z(){return Kt.lFrame.elementDepthCount}()&&ms(d,s),function vz(){Kt.lFrame.elementDepthCount++}(),Dg(h)&&(Px(r,s,h),JE(r,h,s)),null!==n&&Lx(s,h)}function he(){let i=Hn();Pb()?Lb():(i=i.parent,ha(i,!1));const t=i;!function yz(){Kt.lFrame.elementDepthCount--}();const e=Di();e.firstCreatePass&&(Ig(e,i),Sb(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function Fz(i){return 0!=(16&i.flags)}(t)&&e0(e,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Nz(i){return 0!=(32&i.flags)}(t)&&e0(e,t,He(),t.stylesWithoutHost,!1)}function _t(i,t,e,n){ue(i,t,e,n),he()}function $o(i,t,e){const n=He(),s=Di(),r=i+20,a=s.firstCreatePass?function S4(i,t,e,n,s){const r=t.consts,a=Uo(r,n),c=Dd(t,i,8,"ng-container",a);return null!==a&&im(c,a,!0),Ox(t,e,c,Uo(r,s)),null!==t.queries&&t.queries.elementStart(t,c),c}(r,s,n,t,e):s.data[r];ha(a,!0);const c=n[r]=n[11].createComment("");qg(s,n,c,a),ms(c,n),Dg(a)&&(Px(s,n,a),JE(s,a,n)),null!=e&&Lx(n,a)}function qo(){let i=Hn();const t=Di();Pb()?Lb():(i=i.parent,ha(i,!1)),t.firstCreatePass&&(Ig(t,i),Sb(i)&&t.queries.elementEnd(i))}function ds(i,t,e){$o(i,t,e),qo()}function ya(){return He()}function nf(i){return!!i&&"function"==typeof i.then}function t1(i){return!!i&&"function"==typeof i.subscribe}const t0=t1;function Mt(i,t,e,n){const s=He(),r=Di(),a=Hn();return n1(r,s,s[11],a,i,t,!!e,n),Mt}function n0(i,t){const e=Hn(),n=He(),s=Di();return n1(s,n,gT(Fb(s.data),e,n),e,i,t,!1),n0}function n1(i,t,e,n,s,r,a,c){const d=Dg(n),g=i.firstCreatePass&&pT(i),v=t[8],b=fT(t);let C=!0;if(3&n.type||c){const E=pr(n,t),I=c?c(E):E,P=b.length,N=c?V=>c(En(V[n.index])):n.index;if(fn(e)){let V=null;if(!c&&d&&(V=function D4(i,t,e,n){const s=i.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===n){const c=t[7],d=s[r+2];return c.length>d?c[d]:null}"string"==typeof a&&(r+=2)}return null}(i,t,s,n.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=r,V.__ngLastListenerFn__=r,C=!1;else{r=s0(n,t,v,r,!1);const G=e.listen(I,s,r);b.push(r,G),g&&g.push(s,N,P,P+1)}}else r=s0(n,t,v,r,!0),I.addEventListener(s,r,a),b.push(r),g&&g.push(s,N,P,a)}else r=s0(n,t,v,r,!1);const D=n.outputs;let A;if(C&&null!==D&&(A=D[s])){const E=A.length;if(E)for(let I=0;I<E;I+=2){const q=t[A[I]][A[I+1]].subscribe(r),ee=b.length;b.push(r,q),g&&g.push(s,n.index,ee,-(ee+1))}}}function s1(i,t,e,n){try{return!1!==e(n)}catch(s){return mT(i,s),!1}}function s0(i,t,e,n,s){return function r(a){if(a===Function)return n;const c=2&i.flags?Xs(i.index,t):t;0==(32&t[2])&&Bx(c);let d=s1(t,0,n,a),h=r.__ngNextListenerFn__;for(;h;)d=s1(t,0,h,a)&&d,h=h.__ngNextListenerFn__;return s&&!1===d&&(a.preventDefault(),a.returnValue=!1),d}}function ai(i=1){return function Az(i){return(Kt.lFrame.contextLView=function Ez(i,t){for(;i>0;)t=t[15],i--;return t}(i,Kt.lFrame.contextLView))[8]}(i)}function A4(i,t){let e=null;const n=function PU(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(i);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?BE(i,r,!0):FU(n,r))return s}else e=s}return e}function en(i){const t=He()[16][6];if(!t.projection){const n=t.projection=Vh(i?i.length:1,null),s=n.slice();let r=t.child;for(;null!==r;){const a=i?A4(r,i):0;null!==a&&(s[a]?s[a].projectionNext=r:n[a]=r,s[a]=r),r=r.next}}}function oi(i,t=0,e){const n=He(),s=Di(),r=Dd(s,20+i,16,null,e||null);null===r.projection&&(r.projection=t),Lb(),64!=(64&r.flags)&&function DU(i,t,e){PE(t[11],0,t,e,CE(i,e,t),AE(e.parent||t[6],e,t))}(s,n,r)}function p1(i,t,e,n,s){const r=i[e+1],a=null===t;let c=n?Ur(r):qa(r),d=!1;for(;0!==c&&(!1===d||a);){const g=i[c+1];k4(i[c],t)&&(d=!0,i[c+1]=n?Cx(g):xx(g)),c=n?Ur(g):qa(g)}d&&(i[e+1]=n?xx(r):Cx(r))}function k4(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&yd(i,t)>=0}const Un={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function g1(i){return i.substring(Un.key,Un.keyEnd)}function m1(i,t){const e=Un.textEnd;return e===t?-1:(t=Un.keyEnd=function L4(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}(i,Un.key=t,e),Ud(i,t,e))}function Ud(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function vr(i,t,e){return jr(i,t,e,!1),vr}function Qt(i,t){return jr(i,t,null,!0),Qt}function xa(i,t){for(let e=function I4(i){return function v1(i){Un.key=0,Un.keyEnd=0,Un.value=0,Un.valueEnd=0,Un.textEnd=i.length}(i),m1(i,Ud(i,0,Un.textEnd))}(t);e>=0;e=m1(t,e))qs(i,g1(t),!0)}function jr(i,t,e,n){const s=He(),r=Di(),a=Xa(2);r.firstUpdatePass&&w1(r,i,a,n),t!==ti&&_s(s,a,t)&&M1(r,r.data[Ms()],s,s[11],i,s[a+1]=function j4(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=z(Ks(i)))),i}(t,e),n,a)}function x1(i,t){return t>=i.expandoStartIndex}function w1(i,t,e,n){const s=i.data;if(null===s[e+1]){const r=s[Ms()],a=x1(i,e);D1(r,n)&&null===t&&!a&&(t=!1),t=function V4(i,t,e,n){const s=Fb(i);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(e=sf(e=a0(null,i,t,e,n),t.attrs,n),r=null);else{const a=t.directiveStylingLast;if(-1===a||i[a]!==s)if(e=a0(s,i,t,e,n),null===r){let d=function H4(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==qa(n))return i[Ur(n)]}(i,t,n);void 0!==d&&Array.isArray(d)&&(d=a0(null,i,t,d[1],n),d=sf(d,t.attrs,n),function z4(i,t,e,n){i[Ur(e?t.classBindings:t.styleBindings)]=n}(i,t,n,d))}else r=function G4(i,t,e){let n;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=sf(n,i[r].hostAttrs,e);return sf(n,t.attrs,e)}(i,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,n),function E4(i,t,e,n,s,r){let a=r?t.classBindings:t.styleBindings,c=Ur(a),d=qa(a);i[n]=e;let g,h=!1;if(Array.isArray(e)){const v=e;g=v[1],(null===g||yd(v,g)>0)&&(h=!0)}else g=e;if(s)if(0!==d){const b=Ur(i[c+1]);i[n+1]=Kg(b,c),0!==b&&(i[b+1]=wx(i[b+1],n)),i[c+1]=function HU(i,t){return 131071&i|t<<17}(i[c+1],n)}else i[n+1]=Kg(c,0),0!==c&&(i[c+1]=wx(i[c+1],n)),c=n;else i[n+1]=Kg(d,0),0===c?c=n:i[d+1]=wx(i[d+1],n),d=n;h&&(i[n+1]=xx(i[n+1])),p1(i,g,n,!0),p1(i,g,n,!1),function T4(i,t,e,n,s){const r=s?i.residualClasses:i.residualStyles;null!=r&&"string"==typeof t&&yd(r,t)>=0&&(e[n+1]=Cx(e[n+1]))}(t,g,i,n,r),a=Kg(c,d),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,n)}}function a0(i,t,e,n,s){let r=null;const a=e.directiveEnd;let c=e.directiveStylingLast;for(-1===c?c=e.directiveStart:c++;c<a&&(r=t[c],n=sf(n,r.hostAttrs,s),r!==i);)c++;return null!==i&&(e.directiveStylingLast=c),n}function sf(i,t,e){const n=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),qs(i,a,!!e||t[++r]))}return void 0===i?null:i}function M1(i,t,e,n,s,r,a,c){if(!(3&t.type))return;const d=i.data,h=d[c+1];am(function UE(i){return 1==(1&i)}(h)?S1(d,t,e,s,qa(h),a):void 0)||(am(r)||function GE(i){return 2==(2&i)}(h)&&(r=S1(d,null,e,s,c,a)),function EU(i,t,e,n,s){const r=fn(i);if(t)s?r?i.addClass(e,n):e.classList.add(n):r?i.removeClass(e,n):e.classList.remove(n);else{let a=-1===n.indexOf("-")?void 0:Qs.DashCase;if(null==s)r?i.removeStyle(e,n,a):e.style.removeProperty(n);else{const c="string"==typeof s&&s.endsWith("!important");c&&(s=s.slice(0,-10),a|=Qs.Important),r?i.setStyle(e,n,s,a):e.style.setProperty(n,s,c?"important":"")}}}(n,a,Ag(Ms(),e),s,r))}function S1(i,t,e,n,s,r){const a=null===t;let c;for(;s>0;){const d=i[s],h=Array.isArray(d),g=h?d[1]:d,v=null===g;let b=e[s+1];b===ti&&(b=v?Wi:void 0);let C=v?$b(b,n):g===n?b:void 0;if(h&&!am(C)&&(C=$b(d,n)),am(C)&&(c=C,a))return c;const D=i[s+1];s=a?Ur(D):qa(D)}if(null!==t){let d=r?t.residualClasses:t.residualStyles;null!=d&&(c=$b(d,n))}return c}function am(i){return void 0!==i}function D1(i,t){return 0!=(i.flags&(t?16:32))}function Rt(i,t=""){const e=He(),n=Di(),s=i+20,r=n.firstCreatePass?Dd(n,s,1,t,null):n.data[s],a=e[s]=function fx(i,t){return fn(i)?i.createText(t):i.createTextNode(t)}(e[11],t);qg(n,e,a,r),ha(r,!1)}function Fs(i){return Ns("",i,""),Fs}function Ns(i,t,e){const n=He(),s=Pd(n,i,t,e);return s!==ti&&Za(n,Ms(),s),Ns}function O1(i,t,e){!function Yr(i,t,e,n){const s=Di(),r=Xa(2);s.firstUpdatePass&&w1(s,null,r,n);const a=He();if(e!==ti&&_s(a,r,e)){const c=s.data[Ms()];if(D1(c,n)&&!x1(s,r)){let d=n?c.classesWithoutHost:c.stylesWithoutHost;null!==d&&(e=Y(d,e||"")),e0(s,c,a,e,n)}else!function W4(i,t,e,n,s,r,a,c){s===ti&&(s=Wi);let d=0,h=0,g=0<s.length?s[0]:null,v=0<r.length?r[0]:null;for(;null!==g||null!==v;){const b=d<s.length?s[d+1]:void 0,C=h<r.length?r[h+1]:void 0;let A,D=null;g===v?(d+=2,h+=2,b!==C&&(D=v,A=C)):null===v||null!==g&&g<v?(d+=2,D=g):(h+=2,D=v,A=C),null!==D&&M1(i,t,e,n,D,A,a,c),g=d<s.length?s[d]:null,v=h<r.length?r[h]:null}}(s,c,a,a[11],a[r+1],a[r+1]=function U4(i,t,e){if(null==e||""===e)return Wi;const n=[],s=Ks(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)i(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&i(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(i,t,e),n,r)}}(qs,xa,Pd(He(),i,t,e),!0)}function wa(i,t,e){const n=He();return _s(n,dd(),t)&&Js(Di(),pn(),n,i,t,n[11],e,!0),wa}function o0(i,t,e){const n=He();if(_s(n,dd(),t)){const r=Di(),a=pn();Js(r,a,n,i,t,gT(Fb(r.data),a,n),e,!0)}return o0}const jl=void 0;var dW=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function cW(i){const e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Wd={};function Ds(i){const t=function uW(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=Y1(t);if(e)return e;const n=t.split("-")[0];if(e=Y1(n),e)return e;if("en"===n)return dW;throw new Error(`Missing locale data for the locale "${i}".`)}function Y1(i){return i in Wd||(Wd[i]=Gi.ng&&Gi.ng.common&&Gi.ng.common.locales&&Gi.ng.common.locales[i]),Wd[i]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const om="en-US";let X1=om;function d0(i,t,e,n,s){if(i=k(i),Array.isArray(i))for(let r=0;r<i.length;r++)d0(i[r],t,e,n,s);else{const r=Di(),a=He();let c=kd(i)?i:k(i.provide),d=wT(i);const h=Hn(),g=1048575&h.providerIndexes,v=h.directiveStart,b=h.providerIndexes>>20;if(kd(i)||!i.multi){const C=new Ph(d,s,F),D=h0(c,t,s?g:g+b,v);-1===D?(Vg(Oh(h,a),r,c),u0(r,i,t.length),t.push(c),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(C),a.push(C)):(e[D]=C,a[D]=C)}else{const C=h0(c,t,g+b,v),D=h0(c,t,g,g+b),A=C>=0&&e[C],E=D>=0&&e[D];if(s&&!E||!s&&!A){Vg(Oh(h,a),r,c);const I=function cj(i,t,e,n,s){const r=new Ph(i,e,F);return r.multi=[],r.index=t,r.componentProviders=0,_k(r,s,n&&!e),r}(s?lj:oj,e.length,s,n,d);!s&&E&&(e[D].providerFactory=I),u0(r,i,t.length,0),t.push(c),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(I),a.push(I)}else u0(r,i,C>-1?C:D,_k(e[s?D:C],d,!s&&n));!s&&n&&E&&e[D].componentProviders++}}}function u0(i,t,e,n){const s=kd(t),r=function L5(i){return!!i.useClass}(t);if(s||r){const d=(r?k(t.useClass):t).prototype.ngOnDestroy;if(d){const h=i.destroyHooks||(i.destroyHooks=[]);if(!s&&t.multi){const g=h.indexOf(e);-1===g?h.push(e,[n,d]):h[g+1].push(n,d)}else h.push(e,d)}}}function _k(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function h0(i,t,e,n){for(let s=e;s<n;s++)if(t[s]===i)return s;return-1}function oj(i,t,e,n){return f0(this.multi,[])}function lj(i,t,e,n){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=Fh(e,e[1],this.providerFactory.index,n);r=c.slice(0,a),f0(s,r);for(let d=a;d<c.length;d++)r.push(c[d])}else r=[],f0(s,r);return r}function f0(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function mt(i,t=[]){return e=>{e.providersResolver=(n,s)=>function aj(i,t,e){const n=Di();if(n.firstCreatePass){const s=zr(i);d0(e,n.data,n.blueprint,s,!0),d0(t,n.data,n.blueprint,s,!1)}}(n,s?s(i):i,t)}}class vk{}class hj{resolveComponentFactory(t){throw function uj(i){const t=Error(`No component factory found for ${z(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let Ka=(()=>{class i{}return i.NULL=new hj,i})();function fj(){return Yd(Hn(),He())}function Yd(i,t){return new je(pr(i,t))}let je=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=fj,i})();function pj(i){return i instanceof je?i.nativeElement:i}class df{}let Xr=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function mj(){const i=He(),e=Xs(Hn().index,i);return function gj(i){return i[11]}(ua(e)?e:i)}(),i})(),_j=(()=>{class i{}return i.\u0275prov=Pe({token:i,providedIn:"root",factory:()=>null}),i})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vj=new Zo("13.1.3"),p0={};function hm(i,t,e,n,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&n.push(En(r)),Hr(r))for(let c=10;c<r.length;c++){const d=r[c],h=d[1].firstChild;null!==h&&hm(d[1],d,h,n)}const a=e.type;if(8&a)hm(i,t,e.child,n);else if(32&a){const c=dx(e,t);let d;for(;d=c();)n.push(d)}else if(16&a){const c=RE(t,e);if(Array.isArray(c))n.push(...c);else{const d=qh(t[16]);hm(d[1],d,c,n,!0)}}e=s?e.projectionNext:e.next}return n}class uf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return hm(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Hr(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(gx(t,n),zg(e,n))}this._attachedToViewContainer=!1}wE(this._lView[1],this._lView)}onDestroy(t){nT(this._lView[1],this._lView,null,t)}markForCheck(){Bx(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hx(this._lView[1],this._lView,this.context)}checkNoChanges(){!function C5(i,t,e){Tg(!0);try{Hx(i,t,e)}finally{Tg(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new K(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vU(i,t){Zh(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new K(902,"");this._appRef=t}}class yj extends uf{constructor(t){super(t),this._view=t}detectChanges(){hT(this._view)}checkNoChanges(){!function M5(i){Tg(!0);try{hT(i)}finally{Tg(!1)}}(this._view)}get context(){return null}}class bk extends Ka{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ps(t);return new g0(e,this.ngModule)}}function xk(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}const xj=new Me("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pE});class g0 extends vk{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function BU(i){return i.map(NU).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return xk(this.componentDef.inputs)}get outputs(){return xk(this.componentDef.outputs)}create(t,e,n,s){const r=(s=s||this.ngModule)?function wj(i,t){return{get:(e,n,s)=>{const r=i.get(e,p0,s);return r!==p0||n===p0?r:t.get(e,n,s)}}}(t,s.injector):t,a=r.get(df,uA),c=r.get(_j,null),d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",g=n?function iT(i,t,e){if(fn(i))return i.selectRootElement(t,e===Br.ShadowDom);let n="string"==typeof t?i.querySelector(t):t;return n.textContent="",n}(d,n,this.componentDef.encapsulation):px(a.createRenderer(null,this.componentDef),h,function bj(i){const t=i.toLowerCase();return"svg"===t?cA:"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),v=this.componentDef.onPush?576:528,b=function LT(i,t){return{components:[],scheduler:i||pE,clean:S5,playerHandler:t||null,flags:0}}(),C=em(0,null,null,1,0,null,null,null,null,null),D=Kh(null,C,b,v,null,null,a,d,c,r);let A,E;kg(D);try{const I=function IT(i,t,e,n,s,r){const a=e[1];e[20]=i;const d=Dd(a,20,2,"#host",null),h=d.mergedAttrs=t.hostAttrs;null!==h&&(im(d,h,!0),null!==i&&(Og(s,i,h),null!==d.classes&&bx(s,i,d.classes),null!==d.styles&&LE(s,i,d.styles)));const g=n.createRenderer(i,t),v=Kh(e,eT(t),null,t.onPush?64:16,e[20],d,n,g,r||null,null);return a.firstCreatePass&&(Vg(Oh(d,e),a,t.type),lT(a,d),cT(d,e.length,1)),tm(e,v),e[20]=v}(g,this.componentDef,D,a,d);if(g)if(n)Og(d,g,["ng-version",vj.full]);else{const{attrs:P,classes:N}=function VU(i){const t=[],e=[];let n=1,s=2;for(;n<i.length;){let r=i[n];if("string"==typeof r)2===s?""!==r&&t.push(r,i[++n]):8===s&&e.push(r);else{if(!Gr(s))break;s=r}n++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);P&&Og(d,g,P),N&&N.length>0&&bx(d,g,N.join(" "))}if(E=kb(C,20),void 0!==e){const P=E.projection=[];for(let N=0;N<this.ngContentSelectors.length;N++){const V=e[N];P.push(null!=V?Array.from(V):null)}}A=function PT(i,t,e,n,s){const r=e[1],a=function o5(i,t,e){const n=Hn();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),dT(i,n,t,Ad(i,t,1,null),e));const s=Fh(t,i,n.directiveStart,n);ms(s,t);const r=pr(n,t);return r&&ms(r,t),s}(r,e,t);if(n.components.push(a),i[8]=a,s&&s.forEach(d=>d(a,t)),t.contentQueries){const d=Hn();t.contentQueries(1,a,d.directiveStart)}const c=Hn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Wo(c.index),aT(e[1],c,0,c.directiveStart,c.directiveEnd,t),oT(t,a)),a}(I,this.componentDef,D,b,[j5]),Qh(C,D,null)}finally{Rg()}return new Mj(this.componentType,A,Yd(E,D),D,E)}}class Mj extends class dj{}{constructor(t,e,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new yj(s),this.componentType=t}get injector(){return new pd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Qa{}class wk{}const Xd=new Map;class Sk extends Qa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bk(this);const n=ur(t);this._bootstrapComponents=ma(n.bootstrap),this._r3Injector=xT(t,e,[{provide:Qa,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],z(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Tn.THROW_IF_NOT_FOUND,n=ri.Default){return t===Tn||t===Qa||t===Gx?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class m0 extends wk{constructor(t){super(),this.moduleType=t,null!==ur(t)&&function Dj(i){const t=new Set;!function e(n){const s=ur(n,!0),r=s.id;null!==r&&(function Ck(i,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${i} - ${z(t)} vs ${z(t.name)}`)}(r,Xd.get(r),n),Xd.set(r,n));const a=ma(s.imports);for(const c of a)t.has(c)||(t.add(c),e(c))}(i)}(t)}create(t){return new Sk(this.moduleType,t)}}function Ek(i,t,e,n,s,r,a){return function Ik(i,t,e,n,s,r,a,c,d){const h=t+e;return function mr(i,t,e,n,s,r){const a=Wl(i,t,e,n);return Wl(i,t+2,s,r)||a}(i,h,s,r,a,c)?va(i,h+4,d?n.call(d,s,r,a,c):n(s,r,a,c)):ff(i,h+4)}(He(),Cs(),i,t,e,n,s,r,a)}function ff(i,t){const e=i[t];return e===ti?void 0:e}function Tk(i,t,e,n,s,r){const a=t+e;return _s(i,a,s)?va(i,a+1,r?n.call(r,s):n(s)):ff(i,a+1)}function kk(i,t,e,n,s,r,a){const c=t+e;return Wl(i,c,s,r)?va(i,c+2,a?n.call(a,s,r):n(s,r)):ff(i,c+2)}function _0(i,t){const e=Di();let n;const s=i+20;e.firstCreatePass?(n=function Pj(i,t){if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(i===n.name)return n}}(t,e.pipeRegistry),e.data[s]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,n.onDestroy)):n=e.data[s];const r=n.factory||(n.factory=zl(n.type)),a=Ho(F);try{const c=Ng(!1),d=r();return Ng(c),function s4(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}(e,He(),s,d),d}finally{Ho(a)}}function pf(i,t){return i[1].data[t].pure}function v0(i){return t=>{setTimeout(i,void 0,t)}}const ft=class Nj extends Ge{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var s,r,a;let c=t,d=e||(()=>null),h=n;if(t&&"object"==typeof t){const v=t;c=null===(s=v.next)||void 0===s?void 0:s.bind(v),d=null===(r=v.error)||void 0===r?void 0:r.bind(v),h=null===(a=v.complete)||void 0===a?void 0:a.bind(v)}this.__isAsync&&(d=v0(d),c&&(c=v0(c)),h&&(h=v0(h)));const g=super.subscribe({next:c,error:d,complete:h});return t instanceof Ie&&t.add(g),g}};function Bj(){return this._results[Rd()]()}class Yl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Rd(),n=Yl.prototype;n[e]||(n[e]=Bj)}get changes(){return this._changes||(this._changes=new ft)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const s=gr(t);(this._changesDetected=!function Xz(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let s=i[n],r=t[n];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(n._results,s,e))&&(n._results=s,n.length=s.length,n.last=s[this.length-1],n.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xn=(()=>{class i{}return i.__NG_ELEMENT_ID__=zj,i})();const Vj=xn,Hj=class extends Vj{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Kh(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qh(e,n,t),new uf(n)}};function zj(){return fm(Hn(),He())}function fm(i,t){return 4&i.type?new Hj(t,i,Yd(i,t)):null}let an=(()=>{class i{}return i.__NG_ELEMENT_ID__=Gj,i})();function Gj(){return Bk(Hn(),He())}const Uj=an,Fk=class extends Uj{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new pd(this._hostTNode,this._hostLView)}get parentInjector(){const t=Bg(this._hostTNode,this._hostLView);if(AA(t)){const e=fd(t,this._hostLView),n=hd(t);return new pd(e[1].data[n+8],e)}return new pd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Nk(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,r){const a=t&&!function Bh(i){return"function"==typeof i}(t);let c;if(a)c=e;else{const v=e||{};c=v.index,n=v.injector,s=v.projectableNodes,r=v.ngModuleRef}const d=a?t:new g0(ps(t)),h=n||this.parentInjector;if(!r&&null==d.ngModule&&h){const v=h.get(Qa,null);v&&(r=v)}const g=d.create(h,s,void 0,r);return this.insert(g.hostView,c),g}insert(t,e){const n=t._lView,s=n[1];if(function mz(i){return Hr(i[3])}(n)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const v=n[3],b=new Fk(v,v[6],v[3]);b.detach(b.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function bU(i,t,e,n){const s=10+n,r=e.length;n>0&&(e[s-1][4]=t),n<r-10?(t[4]=e[s],NA(e,10+n,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function xU(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(a,t);const c=t[19];null!==c&&c.insertView(i),t[2]|=128}(s,n,a,r);const c=vx(r,a),d=n[11],h=$g(d,a[7]);return null!==h&&function _U(i,t,e,n,s,r){n[0]=s,n[6]=t,Zh(i,n,e,1,s,r)}(s,a[6],d,n,h,c),t.attachToViewContainerRef(),NA(y0(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Nk(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=gx(this._lContainer,e);n&&(zg(y0(this._lContainer),e),wE(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=gx(this._lContainer,e);return n&&null!=zg(y0(this._lContainer),e)?new uf(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Nk(i){return i[8]}function y0(i){return i[8]||(i[8]=[])}function Bk(i,t){let e;const n=t[i.index];if(Hr(n))e=n;else{let s;if(8&i.type)s=En(n);else{const r=t[11];s=r.createComment("");const a=pr(i,t);Ul(r,$g(r,a),s,function SU(i,t){return fn(i)?i.nextSibling(t):t.nextSibling}(r,a),!1)}t[i.index]=e=uT(n,t,s,i),tm(t,e)}return new Fk(e,i,t)}class b0{constructor(t){this.queryList=t,this.matches=null}clone(){return new b0(this.queryList)}setDirty(){this.queryList.setDirty()}}class x0{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<n;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new x0(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Uk(t,e).matches&&this.queries[e].setDirty()}}class Vk{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class w0{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const s=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new w0(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class C0{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new C0(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const r=n[s];this.matchTNodeWithReadOption(t,e,Yj(e,r)),this.matchTNodeWithReadOption(t,e,Hg(e,t,r,!1,!1))}else n===xn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Hg(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===je||s===an||s===xn&&4&e.type)this.addMatch(e.index,-2);else{const r=Hg(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Yj(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function $j(i,t,e,n){return-1===e?function Xj(i,t){return 11&i.type?Yd(i,t):4&i.type?fm(i,t):null}(t,i):-2===e?function qj(i,t,e){return e===je?Yd(t,i):e===xn?fm(t,i):e===an?Bk(t,i):void 0}(i,t,n):Fh(i,i[1],e,t)}function Hk(i,t,e,n){const s=t[19].queries[n];if(null===s.matches){const r=i.data,a=e.matches,c=[];for(let d=0;d<a.length;d+=2){const h=a[d];c.push(h<0?null:$j(t,r[h],a[d+1],e.metadata.read))}s.matches=c}return s.matches}function M0(i,t,e,n){const s=i.queries.getByIndex(e),r=s.matches;if(null!==r){const a=Hk(i,t,s,e);for(let c=0;c<r.length;c+=2){const d=r[c];if(d>0)n.push(a[c/2]);else{const h=r[c+1],g=t[-d];for(let v=10;v<g.length;v++){const b=g[v];b[17]===b[3]&&M0(b[1],b,h,n)}if(null!==g[9]){const v=g[9];for(let b=0;b<v.length;b++){const C=v[b];M0(C[1],C,h,n)}}}}}return n}function Ze(i){const t=He(),e=Di(),n=vA();Nb(n+1);const s=Uk(e,n);if(i.dirty&&hA(t)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const r=s.crossesNgTemplate?M0(e,t,n,[]):Hk(e,t,s,n);i.reset(r,pj),i.notifyOnChanges()}return!0}return!1}function li(i,t,e){const n=Di();n.firstCreatePass&&(Gk(n,new Vk(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),zk(n,He(),t)}function ii(i,t,e,n){const s=Di();if(s.firstCreatePass){const r=Hn();Gk(s,new Vk(t,e,n),r.index),function Kj(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(s,i),2==(2&e)&&(s.staticContentQueries=!0)}zk(s,He(),e)}function Ke(){return function Zj(i,t){return i[19].queries[t].queryList}(He(),vA())}function zk(i,t,e){const n=new Yl(4==(4&e));nT(i,t,n,n.destroy),null===t[19]&&(t[19]=new x0),t[19].queries.push(new b0(n))}function Gk(i,t,e){null===i.queries&&(i.queries=new w0),i.queries.track(new C0(t,e))}function Uk(i,t){return i.queries.getByIndex(t)}function Wk(i,t){return fm(i,t)}function mm(...i){}const _m=new Me("Application Initializer");let qd=(()=>{class i{constructor(e){this.appInits=e,this.resolve=mm,this.reject=mm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(nf(r))e.push(r);else if(t0(r)){const a=new Promise((c,d)=>{r.subscribe({complete:c,error:d})});e.push(a)}}Promise.all(e).then(()=>{n()}).catch(s=>{this.reject(s)}),0===e.length&&n(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)(me(_m,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const mf=new Me("AppId"),m8={provide:mf,useFactory:function g8(){return`${k0()}${k0()}${k0()}`},deps:[]};function k0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oR=new Me("Platform Initializer"),er=new Me("Platform ID"),R0=new Me("appBootstrapListener");let lR=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const Ja=new Me("LocaleId"),cR=new Me("DefaultCurrencyCode");class _8{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let vm=(()=>{class i{compileModuleSync(e){return new m0(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),r=ma(ur(e).declarations).reduce((a,c)=>{const d=ps(c);return d&&a.push(new g0(d)),a},[]);return new _8(n,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const y8=(()=>Promise.resolve(0))();function I0(i){"undefined"==typeof Zone?y8.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class At{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&e,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function b8(){let i=Gi.requestAnimationFrame,t=Gi.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function C8(i){const t=()=>{!function w8(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Gi,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,L0(i),i.isCheckStableRunning=!0,P0(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),L0(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,s,r,a,c)=>{try{return dR(i),e.invokeTask(s,r,a,c)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||i.shouldCoalesceRunChangeDetection)&&t(),uR(i)}},onInvoke:(e,n,s,r,a,c,d)=>{try{return dR(i),e.invoke(s,r,a,c,d)}finally{i.shouldCoalesceRunChangeDetection&&t(),uR(i)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(i._hasPendingMicrotasks=r.microTask,L0(i),P0(i)):"macroTask"==r.change&&(i.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),i.runOutsideAngular(()=>i.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!At.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(At.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,x8,mm,mm);try{return r.runTask(a,e,n)}finally{r.cancelTask(a)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const x8={};function P0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function L0(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function dR(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function uR(i){i._nesting--,P0(i)}class M8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,s){return t.apply(e,n)}}let O0=(()=>{class i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{At.assertNotInAngularZone(),I0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())I0(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,s){let r=-1;n&&n>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,n,s){return[]}}return i.\u0275fac=function(e){return new(e||i)(me(At))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),hR=(()=>{class i{constructor(){this._applications=new Map,F0.addToWindow(this)}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return F0.findTestabilityInTree(this,e,n)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class S8{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let $r,F0=new S8;const fR=new Me("AllowMultipleToken");class pR{constructor(t,e){this.name=t,this.token=e}}function gR(i,t,e=[]){const n=`Platform: ${t}`,s=new Me(n);return(r=[])=>{let a=mR();if(!a||a.injector.get(fR,!1))if(i)i(e.concat(r).concat({provide:s,useValue:!0}));else{const c=e.concat(r).concat({provide:s,useValue:!0},{provide:Ux,useValue:"platform"});!function T8(i){if($r&&!$r.destroyed&&!$r.injector.get(fR,!1))throw new K(400,"");$r=i.get(_R);const t=i.get(oR,null);t&&t.forEach(e=>e())}(Tn.create({providers:c,name:n}))}return function k8(i){const t=mR();if(!t)throw new K(401,"");return t}()}}function mR(){return $r&&!$r.destroyed?$r:null}let _R=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const c=function R8(i,t){let e;return e="noop"===i?new M8:("zone.js"===i?void 0:i)||new At({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),d=[{provide:At,useValue:c}];return c.run(()=>{const h=Tn.create({providers:d,parent:this.injector,name:e.moduleType.name}),g=e.create(h),v=g.injector.get($a,null);if(!v)throw new K(402,"");return c.runOutsideAngular(()=>{const b=c.onError.subscribe({next:C=>{v.handleError(C)}});g.onDestroy(()=>{N0(this._modules,g),b.unsubscribe()})}),function I8(i,t,e){try{const n=e();return nf(n)?n.catch(s=>{throw t.runOutsideAngular(()=>i.handleError(s)),s}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(v,c,()=>{const b=g.injector.get(qd);return b.runInitializers(),b.donePromise.then(()=>(function gW(i){js(i,"Expected localeId to be defined"),"string"==typeof i&&(X1=i.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Ja,om)||om),this._moduleDoBootstrap(g),g))})})}bootstrapModule(e,n=[]){const s=vR({},n);return function A8(i,t,e){const n=new m0(e);return Promise.resolve(n)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const n=e.injector.get(Zd);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new K(403,"");e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)(me(Tn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function vR(i,t){return Array.isArray(t)?t.reduce(vR,i):Object.assign(Object.assign({},i),t)}let Zd=(()=>{class i{constructor(e,n,s,r,a){this._zone=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new Jt(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),d=new Jt(h=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{At.assertNotInAngularZone(),I0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{At.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});this.isStable=M(c,d.pipe(R()))}bootstrap(e,n){if(!this._initStatus.done)throw new K(405,"");let s;s=e instanceof vk?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function E8(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Qa),c=s.create(Tn.NULL,[],n||s.selector,r),d=c.location.nativeElement,h=c.injector.get(O0,null),g=h&&c.injector.get(hR);return h&&g&&g.registerApplication(d,h),c.onDestroy(()=>{this.detachView(c.hostView),N0(this.components,c),g&&g.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new K(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;N0(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(R0,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(e){return new(e||i)(me(At),me(Tn),me($a),me(Ka),me(qd))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function N0(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let bR=!0,Pi=(()=>{class i{}return i.__NG_ELEMENT_ID__=O8,i})();function O8(i){return function F8(i,t,e){if(Sg(i)&&!e){const n=Xs(i.index,t);return new uf(n,n)}return 47&i.type?new uf(t[16],t):null}(Hn(),He(),16==(16&i))}class AR{constructor(){}supports(t){return ef(t)}create(t){return new G8(t)}}const z8=(i,t)=>t;class G8{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||z8}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,r=null;for(;e||n;){const a=!n||e&&e.currentIndex<TR(n,s,r)?e:n,c=TR(a,s,r),d=a.currentIndex;if(a===n)s--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const h=c-s,g=d-s;if(h!=g){for(let b=0;b<h;b++){const C=b<r.length?r[b]:r[b]=0,D=C+b;g<=D&&D<h&&(r[b]=C+1)}r[a.previousIndex]=g-h}}c!==d&&t(a,c,d)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ef(t))throw new K(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let c=0;c<this.length;c++)r=t[c],a=this._trackByFn(c,r),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,r,a,c)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,c),n=!0),e=e._next}else s=0,function t4(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Rd()]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,c=>{a=this._trackByFn(s,c),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,c,a,s)),Object.is(e.item,c)||this._addIdentityChange(e,c)):(e=this._mismatch(e,c,a,s),n=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new U8(e,n),r,s),t}_verifyReinsertion(t,e,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ER),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ER),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class U8{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class W8{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ER{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new W8,this.map.set(e,n)),n.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TR(i,t,e){const n=i.previousIndex;if(null===n)return n;let s=0;return e&&n<e.length&&(s=e[n]),n+t+s}class kR{constructor(){}supports(t){return t instanceof Map||qx(t)}create(){return new j8}}class j8{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||qx(t)))throw new K(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,n);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const n=new Y8(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Y8{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function RR(){return new Bs([new AR])}let Bs=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(null!=n){const s=n.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||RR()),deps:[[i,new Zs,new Gn]]}}find(e){const n=this.factories.find(s=>s.supports(e));if(null!=n)return n;throw new K(901,"")}}return i.\u0275prov=Pe({token:i,providedIn:"root",factory:RR}),i})();function IR(){return new Ko([new kR])}let Ko=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(n){const s=n.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||IR()),deps:[[i,new Zs,new Gn]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new K(901,"")}}return i.\u0275prov=Pe({token:i,providedIn:"root",factory:IR}),i})();const X8=[new kR],q8=new Bs([new AR]),Z8=new Ko(X8),K8=gR(null,"core",[{provide:er,useValue:"unknown"},{provide:_R,deps:[Tn]},{provide:hR,deps:[]},{provide:lR,deps:[]}]),n6=[{provide:Zd,useClass:Zd,deps:[At,Tn,$a,Ka,qd]},{provide:xj,deps:[At],useFactory:function s6(i){let t=[];return i.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:qd,useClass:qd,deps:[[new Gn,_m]]},{provide:vm,useClass:vm,deps:[]},m8,{provide:Bs,useFactory:function Q8(){return q8},deps:[]},{provide:Ko,useFactory:function J8(){return Z8},deps:[]},{provide:Ja,useFactory:function e6(i){return i||function t6(){return"undefined"!=typeof $localize&&$localize.locale||om}()},deps:[[new Uh(Ja),new Gn,new Zs]]},{provide:cR,useValue:"USD"}];let r6=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)(me(Zd))},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:n6}),i})(),bm=null;function Ca(){return bm}const Bt=new Me("DocumentToken");let $l=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:function(){return function c6(){return me(PR)}()},providedIn:"platform"}),i})();const d6=new Me("Location Initialized");let PR=(()=>{class i extends $l{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ca().getBaseHref(this._doc)}onPopState(e){const n=Ca().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Ca().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,s){LR()?this._history.pushState(e,n,s):this.location.hash=s}replaceState(e,n,s){LR()?this._history.replaceState(e,n,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:function(){return function u6(){return new PR(me(Bt))}()},providedIn:"platform"}),i})();function LR(){return!!window.history.pushState}function G0(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function OR(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function eo(i){return i&&"?"!==i[0]?"?"+i:i}let Kd=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:function(){return function h6(i){const t=me(Bt).location;return new FR(me($l),t&&t.origin||"")}()},providedIn:"root"}),i})();const U0=new Me("appBaseHref");let FR=(()=>{class i extends Kd{constructor(e,n){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return G0(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+eo(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${n}${s}`:n}pushState(e,n,s,r){const a=this.prepareExternalUrl(s+eo(r));this._platformLocation.pushState(e,n,a)}replaceState(e,n,s,r){const a=this.prepareExternalUrl(s+eo(r));this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,e)}}return i.\u0275fac=function(e){return new(e||i)(me($l),me(U0,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),f6=(()=>{class i extends Kd{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=G0(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,s,r){let a=this.prepareExternalUrl(s+eo(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,n,a)}replaceState(e,n,s,r){let a=this.prepareExternalUrl(s+eo(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,e)}}return i.\u0275fac=function(e){return new(e||i)(me($l),me(U0,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),xm=(()=>{class i{constructor(e,n){this._subject=new ft,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=OR(NR(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+eo(n))}normalize(e){return i.stripTrailingSlash(function g6(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,NR(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,n="",s=null){this._platformStrategy.pushState(s,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eo(n)),s)}replaceState(e,n="",s=null){this._platformStrategy.replaceState(s,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+eo(n)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformStrategy).historyGo)||void 0===s||s.call(n,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(s=>s(e,n))}subscribe(e,n,s){return this._subject.subscribe({next:e,error:n,complete:s})}}return i.normalizeQueryParams=eo,i.joinWithSlash=G0,i.stripTrailingSlash=OR,i.\u0275fac=function(e){return new(e||i)(me(Kd),me($l))},i.\u0275prov=Pe({token:i,factory:function(){return function p6(){return new xm(me(Kd),me($l))}()},providedIn:"root"}),i})();function NR(i){return i.replace(/\/index.html$/,"")}var kn=(()=>((kn=kn||{})[kn.Zero=0]="Zero",kn[kn.One=1]="One",kn[kn.Two=2]="Two",kn[kn.Few=3]="Few",kn[kn.Many=4]="Many",kn[kn.Other=5]="Other",kn))(),wn=(()=>((wn=wn||{})[wn.Format=0]="Format",wn[wn.Standalone=1]="Standalone",wn))(),xi=(()=>((xi=xi||{})[xi.Narrow=0]="Narrow",xi[xi.Abbreviated=1]="Abbreviated",xi[xi.Wide=2]="Wide",xi[xi.Short=3]="Short",xi))(),on=(()=>((on=on||{})[on.Short=0]="Short",on[on.Medium=1]="Medium",on[on.Long=2]="Long",on[on.Full=3]="Full",on))(),Vt=(()=>((Vt=Vt||{})[Vt.Decimal=0]="Decimal",Vt[Vt.Group=1]="Group",Vt[Vt.List=2]="List",Vt[Vt.PercentSign=3]="PercentSign",Vt[Vt.PlusSign=4]="PlusSign",Vt[Vt.MinusSign=5]="MinusSign",Vt[Vt.Exponential=6]="Exponential",Vt[Vt.SuperscriptingExponent=7]="SuperscriptingExponent",Vt[Vt.PerMille=8]="PerMille",Vt[Vt.Infinity=9]="Infinity",Vt[Vt.NaN=10]="NaN",Vt[Vt.TimeSeparator=11]="TimeSeparator",Vt[Vt.CurrencyDecimal=12]="CurrencyDecimal",Vt[Vt.CurrencyGroup=13]="CurrencyGroup",Vt))();function wm(i,t){return br(Ds(i)[ht.DateFormat],t)}function Cm(i,t){return br(Ds(i)[ht.TimeFormat],t)}function Mm(i,t){return br(Ds(i)[ht.DateTimeFormat],t)}function yr(i,t){const e=Ds(i),n=e[ht.NumberSymbols][t];if(void 0===n){if(t===Vt.CurrencyDecimal)return e[ht.NumberSymbols][Vt.Decimal];if(t===Vt.CurrencyGroup)return e[ht.NumberSymbols][Vt.Group]}return n}const w6=function j1(i){return Ds(i)[ht.PluralCase]};function VR(i){if(!i[ht.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[ht.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function br(i,t){for(let e=t;e>-1;e--)if(void 0!==i[e])return i[e];throw new Error("Locale data API: locale data undefined")}function j0(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const E6=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_f={},T6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wn=(()=>((Wn=Wn||{})[Wn.Short=0]="Short",Wn[Wn.ShortGMT=1]="ShortGMT",Wn[Wn.Long=2]="Long",Wn[Wn.Extended=3]="Extended",Wn))(),Ut=(()=>((Ut=Ut||{})[Ut.FullYear=0]="FullYear",Ut[Ut.Month=1]="Month",Ut[Ut.Date=2]="Date",Ut[Ut.Hours=3]="Hours",Ut[Ut.Minutes=4]="Minutes",Ut[Ut.Seconds=5]="Seconds",Ut[Ut.FractionalSeconds=6]="FractionalSeconds",Ut[Ut.Day=7]="Day",Ut))(),hi=(()=>((hi=hi||{})[hi.DayPeriods=0]="DayPeriods",hi[hi.Days=1]="Days",hi[hi.Months=2]="Months",hi[hi.Eras=3]="Eras",hi))();function k6(i,t,e,n){let s=function V6(i){if(GR(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[s,r=1,a=1]=i.split("-").map(c=>+c);return Sm(s,r-1,a)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(E6))return function H6(i){const t=new Date(0);let e=0,n=0;const s=i[8]?t.setUTCFullYear:t.setFullYear,r=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),s.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const a=Number(i[4]||0)-e,c=Number(i[5]||0)-n,d=Number(i[6]||0),h=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return r.call(t,a,c,d,h),t}(n)}const t=new Date(i);if(!GR(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=to(e,t)||t;let c,a=[];for(;t;){if(c=T6.exec(t),!c){a.push(t);break}{a=a.concat(c.slice(1));const g=a.pop();if(!g)break;t=g}}let d=s.getTimezoneOffset();n&&(d=zR(n,d),s=function B6(i,t,e){const n=e?-1:1,s=i.getTimezoneOffset();return function N6(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,n*(zR(t,s)-s))}(s,n,!0));let h="";return a.forEach(g=>{const v=function F6(i){if(X0[i])return X0[i];let t;switch(i){case"G":case"GG":case"GGG":t=Yi(hi.Eras,xi.Abbreviated);break;case"GGGG":t=Yi(hi.Eras,xi.Wide);break;case"GGGGG":t=Yi(hi.Eras,xi.Narrow);break;case"y":t=Rn(Ut.FullYear,1,0,!1,!0);break;case"yy":t=Rn(Ut.FullYear,2,0,!0,!0);break;case"yyy":t=Rn(Ut.FullYear,3,0,!1,!0);break;case"yyyy":t=Rn(Ut.FullYear,4,0,!1,!0);break;case"Y":t=Tm(1);break;case"YY":t=Tm(2,!0);break;case"YYY":t=Tm(3);break;case"YYYY":t=Tm(4);break;case"M":case"L":t=Rn(Ut.Month,1,1);break;case"MM":case"LL":t=Rn(Ut.Month,2,1);break;case"MMM":t=Yi(hi.Months,xi.Abbreviated);break;case"MMMM":t=Yi(hi.Months,xi.Wide);break;case"MMMMM":t=Yi(hi.Months,xi.Narrow);break;case"LLL":t=Yi(hi.Months,xi.Abbreviated,wn.Standalone);break;case"LLLL":t=Yi(hi.Months,xi.Wide,wn.Standalone);break;case"LLLLL":t=Yi(hi.Months,xi.Narrow,wn.Standalone);break;case"w":t=Y0(1);break;case"ww":t=Y0(2);break;case"W":t=Y0(1,!0);break;case"d":t=Rn(Ut.Date,1);break;case"dd":t=Rn(Ut.Date,2);break;case"c":case"cc":t=Rn(Ut.Day,1);break;case"ccc":t=Yi(hi.Days,xi.Abbreviated,wn.Standalone);break;case"cccc":t=Yi(hi.Days,xi.Wide,wn.Standalone);break;case"ccccc":t=Yi(hi.Days,xi.Narrow,wn.Standalone);break;case"cccccc":t=Yi(hi.Days,xi.Short,wn.Standalone);break;case"E":case"EE":case"EEE":t=Yi(hi.Days,xi.Abbreviated);break;case"EEEE":t=Yi(hi.Days,xi.Wide);break;case"EEEEE":t=Yi(hi.Days,xi.Narrow);break;case"EEEEEE":t=Yi(hi.Days,xi.Short);break;case"a":case"aa":case"aaa":t=Yi(hi.DayPeriods,xi.Abbreviated);break;case"aaaa":t=Yi(hi.DayPeriods,xi.Wide);break;case"aaaaa":t=Yi(hi.DayPeriods,xi.Narrow);break;case"b":case"bb":case"bbb":t=Yi(hi.DayPeriods,xi.Abbreviated,wn.Standalone,!0);break;case"bbbb":t=Yi(hi.DayPeriods,xi.Wide,wn.Standalone,!0);break;case"bbbbb":t=Yi(hi.DayPeriods,xi.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":t=Yi(hi.DayPeriods,xi.Abbreviated,wn.Format,!0);break;case"BBBB":t=Yi(hi.DayPeriods,xi.Wide,wn.Format,!0);break;case"BBBBB":t=Yi(hi.DayPeriods,xi.Narrow,wn.Format,!0);break;case"h":t=Rn(Ut.Hours,1,-12);break;case"hh":t=Rn(Ut.Hours,2,-12);break;case"H":t=Rn(Ut.Hours,1);break;case"HH":t=Rn(Ut.Hours,2);break;case"m":t=Rn(Ut.Minutes,1);break;case"mm":t=Rn(Ut.Minutes,2);break;case"s":t=Rn(Ut.Seconds,1);break;case"ss":t=Rn(Ut.Seconds,2);break;case"S":t=Rn(Ut.FractionalSeconds,1);break;case"SS":t=Rn(Ut.FractionalSeconds,2);break;case"SSS":t=Rn(Ut.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Am(Wn.Short);break;case"ZZZZZ":t=Am(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Am(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Am(Wn.Long);break;default:return null}return X0[i]=t,t}(g);h+=v?v(s,e,d):"''"===g?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Sm(i,t,e){const n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function to(i,t){const e=function m6(i){return Ds(i)[ht.LocaleId]}(i);if(_f[e]=_f[e]||{},_f[e][t])return _f[e][t];let n="";switch(t){case"shortDate":n=wm(i,on.Short);break;case"mediumDate":n=wm(i,on.Medium);break;case"longDate":n=wm(i,on.Long);break;case"fullDate":n=wm(i,on.Full);break;case"shortTime":n=Cm(i,on.Short);break;case"mediumTime":n=Cm(i,on.Medium);break;case"longTime":n=Cm(i,on.Long);break;case"fullTime":n=Cm(i,on.Full);break;case"short":const s=to(i,"shortTime"),r=to(i,"shortDate");n=Dm(Mm(i,on.Short),[s,r]);break;case"medium":const a=to(i,"mediumTime"),c=to(i,"mediumDate");n=Dm(Mm(i,on.Medium),[a,c]);break;case"long":const d=to(i,"longTime"),h=to(i,"longDate");n=Dm(Mm(i,on.Long),[d,h]);break;case"full":const g=to(i,"fullTime"),v=to(i,"fullDate");n=Dm(Mm(i,on.Full),[g,v])}return n&&(_f[e][t]=n),n}function Dm(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),i}function qr(i,t,e="-",n,s){let r="";(i<0||s&&i<=0)&&(s?i=1-i:(i=-i,r=e));let a=String(i);for(;a.length<t;)a="0"+a;return n&&(a=a.substr(a.length-t)),r+a}function Rn(i,t,e=0,n=!1,s=!1){return function(r,a){let c=function I6(i,t){switch(i){case Ut.FullYear:return t.getFullYear();case Ut.Month:return t.getMonth();case Ut.Date:return t.getDate();case Ut.Hours:return t.getHours();case Ut.Minutes:return t.getMinutes();case Ut.Seconds:return t.getSeconds();case Ut.FractionalSeconds:return t.getMilliseconds();case Ut.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,r);if((e>0||c>-e)&&(c+=e),i===Ut.Hours)0===c&&-12===e&&(c=12);else if(i===Ut.FractionalSeconds)return function R6(i,t){return qr(i,3).substr(0,t)}(c,t);const d=yr(a,Vt.MinusSign);return qr(c,t,d,n,s)}}function Yi(i,t,e=wn.Format,n=!1){return function(s,r){return function P6(i,t,e,n,s,r){switch(e){case hi.Months:return function y6(i,t,e){const n=Ds(i),r=br([n[ht.MonthsFormat],n[ht.MonthsStandalone]],t);return br(r,e)}(t,s,n)[i.getMonth()];case hi.Days:return function v6(i,t,e){const n=Ds(i),r=br([n[ht.DaysFormat],n[ht.DaysStandalone]],t);return br(r,e)}(t,s,n)[i.getDay()];case hi.DayPeriods:const a=i.getHours(),c=i.getMinutes();if(r){const h=function C6(i){const t=Ds(i);return VR(t),(t[ht.ExtraData][2]||[]).map(n=>"string"==typeof n?j0(n):[j0(n[0]),j0(n[1])])}(t),g=function M6(i,t,e){const n=Ds(i);VR(n);const r=br([n[ht.ExtraData][0],n[ht.ExtraData][1]],t)||[];return br(r,e)||[]}(t,s,n),v=h.findIndex(b=>{if(Array.isArray(b)){const[C,D]=b,A=a>=C.hours&&c>=C.minutes,E=a<D.hours||a===D.hours&&c<D.minutes;if(C.hours<D.hours){if(A&&E)return!0}else if(A||E)return!0}else if(b.hours===a&&b.minutes===c)return!0;return!1});if(-1!==v)return g[v]}return function _6(i,t,e){const n=Ds(i),r=br([n[ht.DayPeriodsFormat],n[ht.DayPeriodsStandalone]],t);return br(r,e)}(t,s,n)[a<12?0:1];case hi.Eras:return function b6(i,t){return br(Ds(i)[ht.Eras],t)}(t,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,r,i,t,e,n)}}function Am(i){return function(t,e,n){const s=-1*n,r=yr(e,Vt.MinusSign),a=s>0?Math.floor(s/60):Math.ceil(s/60);switch(i){case Wn.Short:return(s>=0?"+":"")+qr(a,2,r)+qr(Math.abs(s%60),2,r);case Wn.ShortGMT:return"GMT"+(s>=0?"+":"")+qr(a,1,r);case Wn.Long:return"GMT"+(s>=0?"+":"")+qr(a,2,r)+":"+qr(Math.abs(s%60),2,r);case Wn.Extended:return 0===n?"Z":(s>=0?"+":"")+qr(a,2,r)+":"+qr(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${i}"`)}}}function HR(i){return Sm(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Y0(i,t=!1){return function(e,n){let s;if(t){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();s=1+Math.floor((a+r)/7)}else{const r=HR(e),a=function O6(i){const t=Sm(i,0,1).getDay();return Sm(i,0,1+(t<=4?4:11)-t)}(r.getFullYear()),c=r.getTime()-a.getTime();s=1+Math.round(c/6048e5)}return qr(s,i,yr(n,Vt.MinusSign))}}function Tm(i,t=!1){return function(e,n){return qr(HR(e).getFullYear(),i,yr(n,Vt.MinusSign),t)}}const X0={};function zR(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function GR(i){return i instanceof Date&&!isNaN(i.valueOf())}class Rm{}let K6=(()=>{class i extends Rm{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(w6(n||this.locale)(e)){case kn.Zero:return"zero";case kn.One:return"one";case kn.Two:return"two";case kn.Few:return"few";case kn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(me(Ja))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function YR(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[s,r]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let Qd=(()=>{class i{constructor(e,n,s,r){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ef(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${z(n.item)}`);this._toggleClass(n.item,!0)}),e.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!1)):Object.keys(e).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(e){return new(e||i)(F(Bs),F(Ko),F(je),F(Xr))},i.\u0275dir=ge({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class J6{constructor(t,e,n,s){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jd=(()=>{class i{constructor(e,n,s){this._viewContainer=e,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((s,r,a)=>{if(null==s.previousIndex)n.createEmbeddedView(this._template,new J6(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)n.remove(null===r?void 0:r);else if(null!==r){const c=n.get(r);n.move(c,a),XR(c,s)}});for(let s=0,r=n.length;s<r;s++){const c=n.get(s).context;c.index=s,c.count=r,c.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{XR(n.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(xn),F(Bs))},i.\u0275dir=ge({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function XR(i,t){i.context.$implicit=t.item}let Hs=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new eY,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$R("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$R("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(xn))},i.\u0275dir=ge({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class eY{constructor(){this.$implicit=null,this.ngIf=null}}function $R(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${z(t)}'.`)}class Q0{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let eu=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Im=(()=>{class i{constructor(e,n,s){this.ngSwitch=s,s._addCase(),this._view=new Q0(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(xn),F(eu,9))},i.\u0275dir=ge({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),qR=(()=>{class i{constructor(e,n,s){s._addDefault(new Q0(e,n))}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(xn),F(eu,9))},i.\u0275dir=ge({type:i,selectors:[["","ngSwitchDefault",""]]}),i})();function Zr(i,t){return new K(2100,"")}class nY{createSubscription(t,e){return t.subscribe({next:e,error:n=>{throw n}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class sY{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}onDestroy(t){}}const rY=new sY,aY=new nY;let KR=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(nf(e))return rY;if(t1(e))return aY;throw Zr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(F(Pi,16))},i.\u0275pipe=Ls({name:"async",type:i,pure:!1}),i})();const uY=new Me("DATE_PIPE_DEFAULT_TIMEZONE");let QR=(()=>{class i{constructor(e,n){this.locale=e,this.defaultTimezone=n}transform(e,n="mediumDate",s,r){var a;if(null==e||""===e||e!=e)return null;try{return k6(e,n,r||this.locale,null!==(a=null!=s?s:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(c){throw Zr()}}}return i.\u0275fac=function(e){return new(e||i)(F(Ja,16),F(uY,24))},i.\u0275pipe=Ls({name:"date",type:i,pure:!0}),i})(),In=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[{provide:Rm,useClass:K6}]}),i})();const eI="browser";function ql(i){return i===eI}function tu(i){return"server"===i}let SY=(()=>{class i{}return i.\u0275prov=Pe({token:i,providedIn:"root",factory:()=>new DY(me(Bt),window)}),i})();class DY{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function AY(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const r=s.shadowRoot;if(r){const a=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(a)return a}s=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=tI(this.window.history)||tI(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function tI(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class iI{}class tw extends class EY extends class l6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function o6(i){bm||(bm=i)}(new tw)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function TY(){return yf=yf||document.querySelector("base"),yf?yf.getAttribute("href"):null}();return null==e?null:function kY(i){Lm=Lm||document.createElement("a"),Lm.setAttribute("href",i);const t=Lm.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){yf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return YR(document.cookie,t)}}let Lm,yf=null;const nI=new Me("TRANSITION_ID"),IY=[{provide:_m,useFactory:function RY(i,t,e){return()=>{e.get(qd).donePromise.then(()=>{const n=Ca(),s=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let r=0;r<s.length;r++)n.remove(s[r])})}},deps:[nI,Bt,Tn],multi:!0}];class iw{static init(){!function D8(i){F0=i}(new iw)}addToWindow(t){Gi.getAngularTestability=(n,s=!0)=>{const r=t.findTestabilityInTree(n,s);if(null==r)throw new Error("Could not find testability for element.");return r},Gi.getAllAngularTestabilities=()=>t.getAllTestabilities(),Gi.getAllAngularRootElements=()=>t.getAllRootElements(),Gi.frameworkStabilizers||(Gi.frameworkStabilizers=[]),Gi.frameworkStabilizers.push(n=>{const s=Gi.getAllAngularTestabilities();let r=s.length,a=!1;const c=function(d){a=a||d,r--,0==r&&n(a)};s.forEach(function(d){d.whenStable(c)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?Ca().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let PY=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const Om=new Me("EventManagerPlugins");let Fm=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,s){return this._findPluginFor(n).addEventListener(e,n,s)}addGlobalEventListener(e,n,s){return this._findPluginFor(n).addGlobalEventListener(e,n,s)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(me(Om),me(At))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class sI{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=Ca().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}let rI=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),n.add(s))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),bf=(()=>{class i extends rI{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(n.appendChild(a))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(aI),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,s)=>{this._addStylesToHost(e,s,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(aI))}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function aI(i){Ca().remove(i)}const nw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},sw=/%COMP%/g;function Nm(i,t,e){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?Nm(i,s,e):(s=s.replace(sw,i),e.push(s))}return e}function cI(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Bm=(()=>{class i{constructor(e,n,s){this.eventManager=e,this.sharedStylesHost=n,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new rw(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case Br.Emulated:{let s=this.rendererByCompId.get(n.id);return s||(s=new VY(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,s)),s.applyToHost(e),s}case 1:case Br.ShadowDom:return new HY(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const s=Nm(n.id,n.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(me(Fm),me(bf),me(mf))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class rw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(nw[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=s+":"+e;const r=nw[s];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=nw[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&(Qs.DashCase|Qs.Important)?t.style.setProperty(e,n,s&Qs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Qs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,cI(n)):this.eventManager.addEventListener(t,e,cI(n))}}class VY extends rw{constructor(t,e,n,s){super(t),this.component=n;const r=Nm(s+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr=function FY(i){return"_ngcontent-%COMP%".replace(sw,i)}(s+"-"+n.id),this.hostAttr=function NY(i){return"_nghost-%COMP%".replace(sw,i)}(s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class HY extends rw{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Nm(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const c=document.createElement("style");c.textContent=r[a],this.shadowRoot.appendChild(c)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zY=(()=>{class i extends sI{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,s){return e.addEventListener(n,s,!1),()=>this.removeEventListener(e,n,s)}removeEventListener(e,n,s){return e.removeEventListener(n,s)}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const uI=["alt","control","meta","shift"],UY={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hI={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},WY={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let jY=(()=>{class i extends sI{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,s){const r=i.parseEventName(n),a=i.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ca().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const n=e.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const r=i._normalizeKey(n.pop());let a="";if(uI.forEach(d=>{const h=n.indexOf(d);h>-1&&(n.splice(h,1),a+=d+".")}),a+=r,0!=n.length||0===r.length)return null;const c={};return c.domEventName=s,c.fullKey=a,c}static getEventFullKey(e){let n="",s=function YY(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&hI.hasOwnProperty(t)&&(t=hI[t]))}return UY[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),uI.forEach(r=>{r!=s&&WY[r](e)&&(n+=r+".")}),n+=s,n}static eventCallback(e,n,s){return r=>{i.getEventFullKey(r)===e&&s.runGuarded(()=>n(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const ZY=gR(K8,"browser",[{provide:er,useValue:eI},{provide:oR,useValue:function XY(){tw.makeCurrent(),iw.init()},multi:!0},{provide:Bt,useFactory:function qY(){return function hz(i){Eb=i}(document),document},deps:[]}]),KY=[{provide:Ux,useValue:"root"},{provide:$a,useFactory:function $Y(){return new $a},deps:[]},{provide:Om,useClass:zY,multi:!0,deps:[Bt,At,er]},{provide:Om,useClass:jY,multi:!0,deps:[Bt]},{provide:Bm,useClass:Bm,deps:[Fm,bf,mf]},{provide:df,useExisting:Bm},{provide:rI,useExisting:bf},{provide:bf,useClass:bf,deps:[Bt]},{provide:O0,useClass:O0,deps:[At]},{provide:Fm,useClass:Fm,deps:[Om,At]},{provide:iI,useClass:PY,deps:[]}];let fI=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:mf,useValue:e.appId},{provide:nI,useExisting:mf},IY]}}}return i.\u0275fac=function(e){return new(e||i)(me(i,12))},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:KY,imports:[In,r6]}),i})();"undefined"!=typeof window&&window;let Vm=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:function(e){let n=null;return n=e?new(e||i):me(mI),n},providedIn:"root"}),i})(),mI=(()=>{class i extends Vm{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case Ti.NONE:return n;case Ti.HTML:return pa(n,"HTML")?Ks(n):aE(this._doc,String(n)).toString();case Ti.STYLE:return pa(n,"Style")?Ks(n):n;case Ti.SCRIPT:if(pa(n,"Script"))return Ks(n);throw new Error("unsafe value used in a script context");case Ti.URL:return QA(n),pa(n,"URL")?Ks(n):jh(String(n));case Ti.RESOURCE_URL:if(pa(n,"ResourceURL"))return Ks(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function MG(i){return new yG(i)}(e)}bypassSecurityTrustStyle(e){return function SG(i){return new bG(i)}(e)}bypassSecurityTrustScript(e){return function DG(i){return new xG(i)}(e)}bypassSecurityTrustUrl(e){return function AG(i){return new wG(i)}(e)}bypassSecurityTrustResourceUrl(e){return function EG(i){return new CG(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:function(e){let n=null;return n=e?new e:function oX(i){return new mI(i.get(Bt))}(me(Tn)),n},providedIn:"root"}),i})();function Pt(...i){return S(i,Fl(i))}class Es extends Ge{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const{isArray:lX}=Array,{getPrototypeOf:cX,prototype:dX,keys:uX}=Object;function _I(i){if(1===i.length){const t=i[0];if(lX(t))return{args:t,keys:null};if(function hX(i){return i&&"object"==typeof i&&cX(i)===dX}(t)){const e=uX(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:fX}=Array;function ow(i){return jt(t=>function pX(i,t){return fX(t)?i(...t):i(t)}(i,t))}function vI(i,t){return i.reduce((e,n,s)=>(e[n]=t[s],e),{})}function yI(i,t,e){i?Ws(e,i,t):t()}const Hm=Qc(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function zm(...i){return function _X(){return Ol(1)}()(S(i,Fl(i)))}function Gm(i){return new Jt(t=>{os(i()).subscribe(t)})}function bI(){return pi((i,t)=>{let e=null;i._refCount++;const n=new Ni(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const s=i._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class vX extends Jt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,za(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ie;const e=this.getSubject();t.add(this.source.subscribe(new Ni(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ie.EMPTY)}return t}refCount(){return bI()(this)}}function xr(i,t){return pi((e,n)=>{let s=null,r=0,a=!1;const c=()=>a&&!s&&n.complete();e.subscribe(new Ni(n,d=>{null==s||s.unsubscribe();let h=0;const g=r++;os(i(d,g)).subscribe(s=new Ni(n,v=>n.next(t?t(d,v,g,h++):v),()=>{s=null,c()}))},()=>{a=!0,c()}))})}function zs(...i){const t=Fl(i);return pi((e,n)=>{(t?zm(i,e,t):zm(i,e)).subscribe(n)})}function yX(i,t,e,n,s){return(r,a)=>{let c=e,d=t,h=0;r.subscribe(new Ni(a,g=>{const v=h++;d=c?i(d,g,v):(c=!0,g),n&&a.next(d)},s&&(()=>{c&&a.next(d),a.complete()})))}}function xI(i,t){return pi(yX(i,t,arguments.length>=2,!0))}function tn(i,t){return pi((e,n)=>{let s=0;e.subscribe(new Ni(n,r=>i.call(t,r,s++)&&n.next(r)))})}function io(i){return pi((t,e)=>{let r,n=null,s=!1;n=t.subscribe(new Ni(e,void 0,void 0,a=>{r=os(i(a,io(i)(t))),n?(n.unsubscribe(),n=null,r.subscribe(e)):s=!0})),s&&(n.unsubscribe(),n=null,r.subscribe(e))})}function iu(i,t){return mi(t)?rn(i,t,1):rn(i,1)}function lw(i){return i<=0?()=>cr:pi((t,e)=>{let n=[];t.subscribe(new Ni(e,s=>{n.push(s),i<n.length&&n.shift()},()=>{for(const s of n)e.next(s);e.complete()},void 0,()=>{n=null}))})}function wI(i=bX){return pi((t,e)=>{let n=!1;t.subscribe(new Ni(e,s=>{n=!0,e.next(s)},()=>n?e.complete():e.error(i())))})}function bX(){return new Hm}function CI(i){return pi((t,e)=>{let n=!1;t.subscribe(new Ni(e,s=>{n=!0,e.next(s)},()=>{n||e.next(i),e.complete()}))})}function nu(i,t){const e=arguments.length>=2;return n=>n.pipe(i?tn((s,r)=>i(s,r,n)):Fr,T(1),e?CI(t):wI(()=>new Hm))}function jn(i,t,e){const n=mi(i)||t||e?{next:i,error:t,complete:e}:i;return n?pi((s,r)=>{var a;null===(a=n.subscribe)||void 0===a||a.call(n);let c=!0;s.subscribe(new Ni(r,d=>{var h;null===(h=n.next)||void 0===h||h.call(n,d),r.next(d)},()=>{var d;c=!1,null===(d=n.complete)||void 0===d||d.call(n),r.complete()},d=>{var h;c=!1,null===(h=n.error)||void 0===h||h.call(n,d),r.error(d)},()=>{var d,h;c&&(null===(d=n.unsubscribe)||void 0===d||d.call(n)),null===(h=n.finalize)||void 0===h||h.call(n)}))}):Fr}function cw(i){return pi((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}class no{constructor(t,e){this.id=t,this.url=e}}class Um extends no{constructor(t,e,n="imperative",s=null){super(t,e),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xf extends no{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class MI extends no{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wX extends no{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CX extends no{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MX extends no{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX extends no{constructor(t,e,n,s,r){super(t,e),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DX extends no{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AX extends no{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SI{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DI{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EX{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TX{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kX{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AI{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const vi="primary";class IX{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function su(i){return new IX(i)}const EI="ngNavigationCancelingError";function dw(i){const t=Error("NavigationCancelingError: "+i);return t[EI]=!0,t}function LX(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const s={};for(let r=0;r<n.length;r++){const a=n[r],c=i[r];if(a.startsWith(":"))s[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:i.slice(0,n.length),posParams:s}}function Ma(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!TI(i[s],t[s]))return!1;return!0}function TI(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((s,r)=>n[r]===s)}return i===t}function kI(i){return Array.prototype.concat.apply([],i)}function RI(i){return i.length>0?i[i.length-1]:null}function us(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Sa(i){return t0(i)?i:nf(i)?S(Promise.resolve(i)):Pt(i)}const NX={exact:function LI(i,t,e){if(!Kl(i.segments,t.segments)||!Wm(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!LI(i.children[n],t.children[n],e))return!1;return!0},subset:OI},II={exact:function BX(i,t){return Ma(i,t)},subset:function VX(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>TI(i[e],t[e]))},ignored:()=>!0};function PI(i,t,e){return NX[e.paths](i.root,t.root,e.matrixParams)&&II[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function OI(i,t,e){return FI(i,t,t.segments,e)}function FI(i,t,e,n){if(i.segments.length>e.length){const s=i.segments.slice(0,e.length);return!(!Kl(s,e)||t.hasChildren()||!Wm(s,e,n))}if(i.segments.length===e.length){if(!Kl(i.segments,e)||!Wm(i.segments,e,n))return!1;for(const s in t.children)if(!i.children[s]||!OI(i.children[s],t.children[s],n))return!1;return!0}{const s=e.slice(0,i.segments.length),r=e.slice(i.segments.length);return!!(Kl(i.segments,s)&&Wm(i.segments,s,n)&&i.children[vi])&&FI(i.children[vi],t,r,n)}}function Wm(i,t,e){return t.every((n,s)=>II[e](i[s].parameters,n.parameters))}class Zl{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return GX.serialize(this)}}class Ci{constructor(t,e){this.segments=t,this.children=e,this.parent=null,us(e,(n,s)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jm(this)}}class wf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=su(this.parameters)),this._parameterMap}toString(){return zI(this)}}function Kl(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}class NI{}class BI{parse(t){const e=new KX(t);return new Zl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Cf(t.root,!0)}`,n=function jX(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(s=>`${Ym(e)}=${Ym(s)}`).join("&"):`${Ym(e)}=${Ym(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function UX(i){return encodeURI(i)}(t.fragment)}`:""}`}}const GX=new BI;function jm(i){return i.segments.map(t=>zI(t)).join("/")}function Cf(i,t){if(!i.hasChildren())return jm(i);if(t){const e=i.children[vi]?Cf(i.children[vi],!1):"",n=[];return us(i.children,(s,r)=>{r!==vi&&n.push(`${r}:${Cf(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function zX(i,t){let e=[];return us(i.children,(n,s)=>{s===vi&&(e=e.concat(t(n,s)))}),us(i.children,(n,s)=>{s!==vi&&(e=e.concat(t(n,s)))}),e}(i,(n,s)=>s===vi?[Cf(i.children[vi],!1)]:[`${s}:${Cf(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[vi]?`${jm(i)}/${e[0]}`:`${jm(i)}/(${e.join("//")})`}}function VI(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ym(i){return VI(i).replace(/%3B/gi,";")}function uw(i){return VI(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xm(i){return decodeURIComponent(i)}function HI(i){return Xm(i.replace(/\+/g,"%20"))}function zI(i){return`${uw(i.path)}${function WX(i){return Object.keys(i).map(t=>`;${uw(t)}=${uw(i[t])}`).join("")}(i.parameters)}`}const YX=/^[^\/()?;=#]+/;function $m(i){const t=i.match(YX);return t?t[0]:""}const XX=/^[^=?&#]+/,qX=/^[^&#]+/;class KX{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[vi]=new Ci(t,e)),n}parseSegment(){const t=$m(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wf(Xm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=$m(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=$m(this.remaining);s&&(n=s,this.capture(n))}t[Xm(e)]=Xm(n)}parseQueryParam(t){const e=function $X(i){const t=i.match(XX);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const a=function ZX(i){const t=i.match(qX);return t?t[0]:""}(this.remaining);a&&(n=a,this.capture(n))}const s=HI(e),r=HI(n);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=$m(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=vi);const a=this.parseChildren();e[r]=1===Object.keys(a).length?a[vi]:new Ci([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class GI{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=hw(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=hw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=fw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return fw(t,this._root).map(e=>e.value)}}function hw(i,t){if(i===t.value)return t;for(const e of t.children){const n=hw(i,e);if(n)return n}return null}function fw(i,t){if(i===t.value)return[t];for(const e of t.children){const n=fw(i,e);if(n.length)return n.unshift(t),n}return[]}class so{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ru(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class UI extends GI{constructor(t,e){super(t),this.snapshot=e,pw(this,t)}toString(){return this.snapshot.toString()}}function WI(i,t){const e=function QX(i,t){const a=new qm([],{},{},"",{},vi,t,null,i.root,-1,{});return new YI("",new so(a,[]))}(i,t),n=new Es([new wf("",{})]),s=new Es({}),r=new Es({}),a=new Es({}),c=new Es(""),d=new Jo(n,s,a,c,r,vi,t,e.root);return d.snapshot=e.root,new UI(new so(d,[]),e)}class Jo{constructor(t,e,n,s,r,a,c,d){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=a,this.component=c,this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(jt(t=>su(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(jt(t=>su(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jI(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const s=e[n],r=e[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(r.component)break;n--}}return function JX(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(n))}class qm{constructor(t,e,n,s,r,a,c,d,h,g,v){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=a,this.component=c,this.routeConfig=d,this._urlSegment=h,this._lastPathIndex=g,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YI extends GI{constructor(t,e){super(e),this.url=t,pw(this,e)}toString(){return XI(this._root)}}function pw(i,t){t.value._routerState=i,t.children.forEach(e=>pw(i,e))}function XI(i){const t=i.children.length>0?` { ${i.children.map(XI).join(", ")} } `:"";return`${i.value}${t}`}function gw(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Ma(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Ma(t.params,e.params)||i.params.next(e.params),function OX(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Ma(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Ma(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function mw(i,t){const e=Ma(i.params,t.params)&&function HX(i,t){return Kl(i,t)&&i.every((e,n)=>Ma(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||mw(i.parent,t.parent))}function Mf(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const s=function t$(i,t,e){return t.children.map(n=>{for(const s of e.children)if(i.shouldReuseRoute(n.value,s.value.snapshot))return Mf(i,n,s);return Mf(i,n)})}(i,t,e);return new so(n,s)}{if(i.shouldAttach(t.value)){const r=i.retrieve(t.value);if(null!==r){const a=r.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(c=>Mf(i,c)),a}}const n=function i$(i){return new Jo(new Es(i.url),new Es(i.params),new Es(i.queryParams),new Es(i.fragment),new Es(i.data),i.outlet,i.component,i)}(t.value),s=t.children.map(r=>Mf(i,r));return new so(n,s)}}function Zm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Sf(i){return"object"==typeof i&&null!=i&&i.outlets}function _w(i,t,e,n,s){let r={};return n&&us(n,(a,c)=>{r[c]=Array.isArray(a)?a.map(d=>`${d}`):`${a}`}),new Zl(e.root===i?t:$I(e.root,i,t),r,s)}function $I(i,t,e){const n={};return us(i.children,(s,r)=>{n[r]=s===t?e:$I(s,t,e)}),new Ci(i.segments,n)}class qI{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Zm(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(Sf);if(s&&s!==RI(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ZI(i,t,e){if(i||(i=new Ci([],{})),0===i.segments.length&&i.hasChildren())return Km(i,t,e);const n=function l$(i,t,e){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(n>=e.length)return r;const a=i.segments[s],c=e[n];if(Sf(c))break;const d=`${c}`,h=n<e.length-1?e[n+1]:null;if(s>0&&void 0===d)break;if(d&&h&&"object"==typeof h&&void 0===h.outlets){if(!QI(d,h,a))return r;n+=2}else{if(!QI(d,{},a))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(i,t,e),s=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const r=new Ci(i.segments.slice(0,n.pathIndex),{});return r.children[vi]=new Ci(i.segments.slice(n.pathIndex),i.children),Km(r,0,s)}return n.match&&0===s.length?new Ci(i.segments,{}):n.match&&!i.hasChildren()?yw(i,t,e):n.match?Km(i,0,s):yw(i,t,e)}function Km(i,t,e){if(0===e.length)return new Ci(i.segments,{});{const n=function o$(i){return Sf(i[0])?i[0].outlets:{[vi]:i}}(e),s={};return us(n,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[a]=ZI(i.children[a],t,r))}),us(i.children,(r,a)=>{void 0===n[a]&&(s[a]=r)}),new Ci(i.segments,s)}}function yw(i,t,e){const n=i.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(Sf(r)){const d=c$(r.outlets);return new Ci(n,d)}if(0===s&&Zm(e[0])){n.push(new wf(i.segments[t].path,KI(e[0]))),s++;continue}const a=Sf(r)?r.outlets[vi]:`${r}`,c=s<e.length-1?e[s+1]:null;a&&c&&Zm(c)?(n.push(new wf(a,KI(c))),s+=2):(n.push(new wf(a,{})),s++)}return new Ci(n,{})}function c$(i){const t={};return us(i,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=yw(new Ci([],{}),0,e))}),t}function KI(i){const t={};return us(i,(e,n)=>t[n]=`${e}`),t}function QI(i,t,e){return i==e.path&&Ma(t,e.parameters)}class u${constructor(t,e,n,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),gw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const s=ru(e);t.children.forEach(r=>{const a=r.value.outlet;this.deactivateRoutes(r,s[a],n),delete s[a]}),us(s,(r,a)=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const a=n.getContext(s.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),s=n&&t.value.component?n.children:e,r=ru(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);if(n&&n.outlet){const a=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),s=n&&t.value.component?n.children:e,r=ru(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const s=ru(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new RX(r.value.snapshot))}),t.children.length&&this.forwardEvent(new TX(t.value.snapshot))}activateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(gw(s),s===r)if(s.component){const a=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(s.component){const a=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),gw(c.route.value),this.activateChildRoutes(t,null,a.children)}else{const c=function h$(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),d=c?c.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=d,a.outlet&&a.outlet.activateWith(s,d),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}class bw{constructor(t,e){this.routes=t,this.module=e}}function el(i){return"function"==typeof i}function Ql(i){return i instanceof Zl}const Df=Symbol("INITIAL_VALUE");function Af(){return xr(i=>function gX(...i){const t=Fl(i),e=nd(i),{args:n,keys:s}=_I(i);if(0===n.length)return S([],t);const r=new Jt(function mX(i,t,e=Fr){return n=>{yI(t,()=>{const{length:s}=i,r=new Array(s);let a=s,c=s;for(let d=0;d<s;d++)yI(t,()=>{const h=S(i[d],t);let g=!1;h.subscribe(new Ni(n,v=>{r[d]=v,g||(g=!0,c--),c||n.next(e(r.slice()))},()=>{--a||n.complete()}))},n)},n)}}(n,t,s?a=>vI(s,a):Fr));return e?r.pipe(ow(e)):r}(i.map(t=>t.pipe(T(1),zs(Df)))).pipe(xI((t,e)=>{let n=!1;return e.reduce((s,r,a)=>s!==Df?s:(r===Df&&(n=!0),n||!1!==r&&a!==e.length-1&&!Ql(r)?s:r),t)},Df),tn(t=>t!==Df),jt(t=>Ql(t)?t:!0===t),T(1)))}class v${constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ef,this.attachRef=null}}class Ef{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new v$,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let xw=(()=>{class i{constructor(e,n,s,r,a){this.parentContexts=e,this.location=n,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.name=r||vi,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(n=n||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),c=this.parentContexts.getOrCreateContext(this.name).children,d=new y$(e,c,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,d),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(F(Ef),F(an),F(Ka),cs("name"),F(Pi))},i.\u0275dir=ge({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class y${constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Jo?this.route:t===Ef?this.childContexts:this.parent.get(t,e)}}let JI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&_t(0,"router-outlet")},directives:[xw],encapsulation:2}),i})();function eP(i,t=""){for(let e=0;e<i.length;e++){const n=i[e];b$(n,x$(t,n))}}function b$(i,t){i.children&&eP(i.children,t)}function x$(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function ww(i){const t=i.children&&i.children.map(ww),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==vi&&(e.component=JI),e}function wr(i){return i.outlet||vi}function tP(i,t){const e=i.filter(n=>wr(n)===t);return e.push(...i.filter(n=>wr(n)!==t)),e}const iP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Qm(i,t,e){var n;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},iP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||LX)(e,i,t);if(!r)return Object.assign({},iP);const a={};us(r.posParams,(d,h)=>{a[h]=d.path});const c=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:c,positionalParamSegments:null!==(n=r.posParams)&&void 0!==n?n:{}}}function Jm(i,t,e,n,s="corrected"){if(e.length>0&&function M$(i,t,e){return e.some(n=>e_(i,t,n)&&wr(n)!==vi)}(i,e,n)){const a=new Ci(t,function C$(i,t,e,n){const s={};s[vi]=n,n._sourceSegment=i,n._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&wr(r)!==vi){const a=new Ci([],{});a._sourceSegment=i,a._segmentIndexShift=t.length,s[wr(r)]=a}return s}(i,t,n,new Ci(e,i.children)));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function S$(i,t,e){return e.some(n=>e_(i,t,n))}(i,e,n)){const a=new Ci(i.segments,function w$(i,t,e,n,s,r){const a={};for(const c of n)if(e_(i,e,c)&&!s[wr(c)]){const d=new Ci([],{});d._sourceSegment=i,d._segmentIndexShift="legacy"===r?i.segments.length:t.length,a[wr(c)]=d}return Object.assign(Object.assign({},s),a)}(i,t,e,n,i.children,s));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const r=new Ci(i.segments,i.children);return r._sourceSegment=i,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function e_(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function nP(i,t,e,n){return!!(wr(i)===n||n!==vi&&e_(t,e,i))&&("**"===i.path||Qm(t,i,e).matched)}function sP(i,t,e){return 0===t.length&&!i.children[e]}class Tf{constructor(t){this.segmentGroup=t||null}}class rP{constructor(t){this.urlTree=t}}function t_(i){return new Jt(t=>t.error(new Tf(i)))}function aP(i){return new Jt(t=>t.error(new rP(i)))}function D$(i){return new Jt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class T${constructor(t,e,n,s,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Qa)}apply(){const t=Jm(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ci(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,vi).pipe(jt(r=>this.createUrlTree(Cw(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(io(r=>{if(r instanceof rP)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Tf?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,vi).pipe(jt(s=>this.createUrlTree(Cw(s),t.queryParams,t.fragment))).pipe(io(s=>{throw s instanceof Tf?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const s=t.segments.length>0?new Ci([],{[vi]:t}):t;return new Zl(s,e,n)}expandSegmentGroup(t,e,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(jt(r=>new Ci([],r))):this.expandSegment(t,n,e,n.segments,s,!0)}expandChildren(t,e,n){const s=[];for(const r of Object.keys(n.children))"primary"===r?s.unshift(r):s.push(r);return S(s).pipe(iu(r=>{const a=n.children[r],c=tP(e,r);return this.expandSegmentGroup(t,c,a,r).pipe(jt(d=>({segment:d,outlet:r})))}),xI((r,a)=>(r[a.outlet]=a.segment,r),{}),function xX(i,t){const e=arguments.length>=2;return n=>n.pipe(i?tn((s,r)=>i(s,r,n)):Fr,lw(1),e?CI(t):wI(()=>new Hm))}())}expandSegment(t,e,n,s,r,a){return S(n).pipe(iu(c=>this.expandSegmentAgainstRoute(t,e,n,c,s,r,a).pipe(io(h=>{if(h instanceof Tf)return Pt(null);throw h}))),nu(c=>!!c),io((c,d)=>{if(c instanceof Hm||"EmptyError"===c.name){if(sP(e,s,r))return Pt(new Ci([],{}));throw new Tf(e)}throw c}))}expandSegmentAgainstRoute(t,e,n,s,r,a,c){return nP(s,e,r,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,a):c&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a):t_(e):t_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,s){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?aP(r):this.lineralizeSegments(n,r).pipe(rn(a=>{const c=new Ci(a,{});return this.expandSegment(t,c,e,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a){const{matched:c,consumedSegments:d,lastChild:h,positionalParamSegments:g}=Qm(e,s,r);if(!c)return t_(e);const v=this.applyRedirectCommands(d,s.redirectTo,g);return s.redirectTo.startsWith("/")?aP(v):this.lineralizeSegments(s,v).pipe(rn(b=>this.expandSegment(t,e,n,b.concat(r.slice(h)),a,!1)))}matchSegmentAgainstRoute(t,e,n,s,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Pt(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(jt(b=>(n._loadedConfig=b,new Ci(s,{})))):Pt(new Ci(s,{}));const{matched:a,consumedSegments:c,lastChild:d}=Qm(e,n,s);if(!a)return t_(e);const h=s.slice(d);return this.getChildConfig(t,n,s).pipe(rn(v=>{const b=v.module,C=v.routes,{segmentGroup:D,slicedSegments:A}=Jm(e,c,h,C),E=new Ci(D.segments,D.children);if(0===A.length&&E.hasChildren())return this.expandChildren(b,C,E).pipe(jt(V=>new Ci(c,V)));if(0===C.length&&0===A.length)return Pt(new Ci(c,{}));const I=wr(n)===r;return this.expandSegment(b,E,C,A,I?vi:r,!0).pipe(jt(N=>new Ci(c.concat(N.segments),N.children)))}))}getChildConfig(t,e,n){return e.children?Pt(new bw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Pt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(rn(s=>s?this.configLoader.load(t.injector,e).pipe(jt(r=>(e._loadedConfig=r,r))):function A$(i){return new Jt(t=>t.error(dw(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):Pt(new bw([],t))}runCanLoadGuards(t,e,n){const s=e.canLoad;return s&&0!==s.length?Pt(s.map(a=>{const c=t.get(a);let d;if(function p$(i){return i&&el(i.canLoad)}(c))d=c.canLoad(e,n);else{if(!el(c))throw new Error("Invalid CanLoad guard");d=c(e,n)}return Sa(d)})).pipe(Af(),jn(a=>{if(!Ql(a))return;const c=dw(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw c.url=a,c}),jt(a=>!0===a)):Pt(!0)}lineralizeSegments(t,e){let n=[],s=e.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return Pt(n);if(s.numberOfChildren>1||!s.children[vi])return D$(t.redirectTo);s=s.children[vi]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,s){const r=this.createSegmentGroup(t,e.root,n,s);return new Zl(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return us(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const c=s.substring(1);n[r]=e[c]}else n[r]=s}),n}createSegmentGroup(t,e,n,s){const r=this.createSegments(t,e.segments,n,s);let a={};return us(e.children,(c,d)=>{a[d]=this.createSegmentGroup(t,c,n,s)}),new Ci(r,a)}createSegments(t,e,n,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,n))}findPosParam(t,e,n){const s=n[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let n=0;for(const s of e){if(s.path===t.path)return e.splice(n),s;n++}return t}}function Cw(i){const t={};for(const n of Object.keys(i.children)){const r=Cw(i.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function k$(i){if(1===i.numberOfChildren&&i.children[vi]){const t=i.children[vi];return new Ci(i.segments.concat(t.segments),t.children)}return i}(new Ci(i.segments,t))}class oP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class i_{constructor(t,e){this.component=t,this.route=e}}function I$(i,t,e){const n=i._root;return kf(n,t?t._root:null,e,[n.value])}function n_(i,t,e){const n=function L$(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:e).get(i)}function kf(i,t,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=ru(t);return i.children.forEach(a=>{(function O$(i,t,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=i.value,a=t?t.value:null,c=e?e.getContext(i.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const d=function F$(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Kl(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Kl(i.url,t.url)||!Ma(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mw(i,t)||!Ma(i.queryParams,t.queryParams);default:return!mw(i,t)}}(a,r,r.routeConfig.runGuardsAndResolvers);d?s.canActivateChecks.push(new oP(n)):(r.data=a.data,r._resolvedData=a._resolvedData),kf(i,t,r.component?c?c.children:null:e,n,s),d&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new i_(c.outlet.component,a))}else a&&Rf(t,c,s),s.canActivateChecks.push(new oP(n)),kf(i,null,r.component?c?c.children:null:e,n,s)})(a,r[a.value.outlet],e,n.concat([a.value]),s),delete r[a.value.outlet]}),us(r,(a,c)=>Rf(a,e.getContext(c),s)),s}function Rf(i,t,e){const n=ru(i),s=i.value;us(n,(r,a)=>{Rf(r,s.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new i_(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class j${}function lP(i){return new Jt(t=>t.error(i))}class X${constructor(t,e,n,s,r,a){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=a}recognize(){const t=Jm(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,vi);if(null===e)return null;const n=new qm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},vi,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new so(n,e),r=new YI(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=jI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const a=e.children[r],c=tP(t,r),d=this.processSegmentGroup(c,a,r);if(null===d)return null;n.push(...d)}const s=cP(n);return function $$(i){i.sort((t,e)=>t.value.outlet===vi?-1:e.value.outlet===vi?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,n,s){for(const r of t){const a=this.processSegmentAgainstRoute(r,e,n,s);if(null!==a)return a}return sP(e,n,s)?[]:null}processSegmentAgainstRoute(t,e,n,s){if(t.redirectTo||!nP(t,e,n,s))return null;let r,a=[],c=[];if("**"===t.path){const C=n.length>0?RI(n).parameters:{};r=new qm(n,C,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hP(t),wr(t),t.component,t,dP(e),uP(e)+n.length,fP(t))}else{const C=Qm(e,t,n);if(!C.matched)return null;a=C.consumedSegments,c=n.slice(C.lastChild),r=new qm(a,C.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hP(t),wr(t),t.component,t,dP(e),uP(e)+a.length,fP(t))}const d=function q$(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:h,slicedSegments:g}=Jm(e,a,c,d.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution);if(0===g.length&&h.hasChildren()){const C=this.processChildren(d,h);return null===C?null:[new so(r,C)]}if(0===d.length&&0===g.length)return[new so(r,[])];const v=wr(t)===s,b=this.processSegment(d,h,g,v?vi:s);return null===b?null:[new so(r,b)]}}function Z$(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function cP(i){const t=[],e=new Set;for(const n of i){if(!Z$(n)){t.push(n);continue}const s=t.find(r=>n.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...n.children),e.add(s)):t.push(n)}for(const n of e){const s=cP(n.children);t.push(new so(n.value,s))}return t.filter(n=>!e.has(n))}function dP(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function uP(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function hP(i){return i.data||{}}function fP(i){return i.resolve||{}}function Mw(i){return xr(t=>{const e=i(t);return e?S(e).pipe(jt(()=>t)):Pt(t)})}class sq extends class nq{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sw=new Me("ROUTES");class pP{constructor(t,e,n,s){this.injector=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(jt(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=r.create(t);return new bw(kI(a.injector.get(Sw,void 0,ri.Self|ri.Optional)).map(ww),a)}),io(r=>{throw e._loader$=void 0,r}));return e._loader$=new vX(s,()=>new Ge).pipe(bI()),e._loader$}loadModuleFactory(t){return Sa(t()).pipe(rn(e=>e instanceof wk?Pt(e):S(this.compiler.compileModuleAsync(e))))}}class aq{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function oq(i){throw i}function lq(i,t,e){return t.parse("/")}function gP(i,t){return Pt(null)}const cq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let es=(()=>{class i{constructor(e,n,s,r,a,c,d){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=s,this.location=r,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge,this.errorHandler=oq,this.malformedUriErrorHandler=lq,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:gP,afterPreactivation:gP},this.urlHandlingStrategy=new aq,this.routeReuseStrategy=new sq,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Qa),this.console=a.get(lR);const v=a.get(At);this.isNgZoneEnabled=v instanceof At&&At.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function FX(){return new Zl(new Ci([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pP(a,c,b=>this.triggerEvent(new SI(b)),b=>this.triggerEvent(new DI(b))),this.routerState=WI(this.currentUrlTree,this.rootComponentType),this.transitions=new Es({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const n=this.events;return e.pipe(tn(s=>0!==s.id),jt(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xr(s=>{let r=!1,a=!1;return Pt(s).pipe(jn(c=>{this.currentNavigation={id:c.id,initialUrl:c.currentRawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xr(c=>{const d=this.browserUrlTree.toString(),h=!this.navigated||c.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return s_(c.source)&&(this.browserUrlTree=c.extractedUrl),Pt(c).pipe(xr(v=>{const b=this.transitions.getValue();return n.next(new Um(v.id,this.serializeUrl(v.extractedUrl),v.source,v.restoredState)),b!==this.transitions.getValue()?cr:Promise.resolve(v)}),function R$(i,t,e,n){return xr(s=>function E$(i,t,e,n,s){return new T$(i,t,e,n,s).apply()}(i,t,e,s.extractedUrl,n).pipe(jt(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),jn(v=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:v.urlAfterRedirects})}),function K$(i,t,e,n,s){return rn(r=>function Y$(i,t,e,n,s="emptyOnly",r="legacy"){try{const a=new X$(i,t,e,n,s,r).recognize();return null===a?lP(new j$):Pt(a)}catch(a){return lP(a)}}(i,t,r.urlAfterRedirects,e(r.urlAfterRedirects),n,s).pipe(jt(a=>Object.assign(Object.assign({},r),{targetSnapshot:a}))))}(this.rootComponentType,this.config,v=>this.serializeUrl(v),this.paramsInheritanceStrategy,this.relativeLinkResolution),jn(v=>{if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const C=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(C,v)}this.browserUrlTree=v.urlAfterRedirects}const b=new CX(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);n.next(b)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:b,extractedUrl:C,source:D,restoredState:A,extras:E}=c,I=new Um(b,this.serializeUrl(C),D,A);n.next(I);const P=WI(C,this.rootComponentType).snapshot;return Pt(Object.assign(Object.assign({},c),{targetSnapshot:P,urlAfterRedirects:C,extras:Object.assign(Object.assign({},E),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=c.rawUrl,c.resolve(null),cr}),Mw(c=>{const{targetSnapshot:d,id:h,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:C}}=c;return this.hooks.beforePreactivation(d,{navigationId:h,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!C})}),jn(c=>{const d=new MX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(d)}),jt(c=>Object.assign(Object.assign({},c),{guards:I$(c.targetSnapshot,c.currentSnapshot,this.rootContexts)})),function N$(i,t){return rn(e=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return 0===a.length&&0===r.length?Pt(Object.assign(Object.assign({},e),{guardsResult:!0})):function B$(i,t,e,n){return S(i).pipe(rn(s=>function W$(i,t,e,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Pt(r.map(c=>{const d=n_(c,t,s);let h;if(function _$(i){return i&&el(i.canDeactivate)}(d))h=Sa(d.canDeactivate(i,t,e,n));else{if(!el(d))throw new Error("Invalid CanDeactivate guard");h=Sa(d(i,t,e,n))}return h.pipe(nu())})).pipe(Af()):Pt(!0)}(s.component,s.route,e,t,n)),nu(s=>!0!==s,!0))}(a,n,s,i).pipe(rn(c=>c&&function f$(i){return"boolean"==typeof i}(c)?function V$(i,t,e,n){return S(t).pipe(iu(s=>zm(function z$(i,t){return null!==i&&t&&t(new EX(i)),Pt(!0)}(s.route.parent,n),function H$(i,t){return null!==i&&t&&t(new kX(i)),Pt(!0)}(s.route,n),function U$(i,t,e){const n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(a=>function P$(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Gm(()=>Pt(a.guards.map(d=>{const h=n_(d,a.node,e);let g;if(function m$(i){return i&&el(i.canActivateChild)}(h))g=Sa(h.canActivateChild(n,i));else{if(!el(h))throw new Error("Invalid CanActivateChild guard");g=Sa(h(n,i))}return g.pipe(nu())})).pipe(Af())));return Pt(r).pipe(Af())}(i,s.path,e),function G$(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return Pt(!0);const s=n.map(r=>Gm(()=>{const a=n_(r,t,e);let c;if(function g$(i){return i&&el(i.canActivate)}(a))c=Sa(a.canActivate(t,i));else{if(!el(a))throw new Error("Invalid CanActivate guard");c=Sa(a(t,i))}return c.pipe(nu())}));return Pt(s).pipe(Af())}(i,s.route,e))),nu(s=>!0!==s,!0))}(n,r,i,t):Pt(c)),jt(c=>Object.assign(Object.assign({},e),{guardsResult:c})))})}(this.ngModule.injector,c=>this.triggerEvent(c)),jn(c=>{if(Ql(c.guardsResult)){const h=dw(`Redirecting to "${this.serializeUrl(c.guardsResult)}"`);throw h.url=c.guardsResult,h}const d=new SX(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.triggerEvent(d)}),tn(c=>!!c.guardsResult||(this.restoreHistory(c),this.cancelNavigationTransition(c,""),!1)),Mw(c=>{if(c.guards.canActivateChecks.length)return Pt(c).pipe(jn(d=>{const h=new DX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}),xr(d=>{let h=!1;return Pt(d).pipe(function Q$(i,t){return rn(e=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=e;if(!s.length)return Pt(e);let r=0;return S(s).pipe(iu(a=>function J$(i,t,e,n){return function eq(i,t,e,n){const s=Object.keys(i);if(0===s.length)return Pt({});const r={};return S(s).pipe(rn(a=>function tq(i,t,e,n){const s=n_(i,t,n);return Sa(s.resolve?s.resolve(t,e):s(t,e))}(i[a],t,e,n).pipe(jn(c=>{r[a]=c}))),lw(1),rn(()=>Object.keys(r).length===s.length?Pt(r):cr))}(i._resolve,i,t,n).pipe(jt(r=>(i._resolvedData=r,i.data=Object.assign(Object.assign({},i.data),jI(i,e).resolve),null)))}(a.route,n,i,t)),jn(()=>r++),lw(1),rn(a=>r===s.length?Pt(e):cr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),jn({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(d),this.cancelNavigationTransition(d,"At least one route resolver didn't emit any value."))}}))}),jn(d=>{const h=new AX(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(h)}))}),Mw(c=>{const{targetSnapshot:d,id:h,extractedUrl:g,rawUrl:v,extras:{skipLocationChange:b,replaceUrl:C}}=c;return this.hooks.afterPreactivation(d,{navigationId:h,appliedUrlTree:g,rawUrlTree:v,skipLocationChange:!!b,replaceUrl:!!C})}),jt(c=>{const d=function e$(i,t,e){const n=Mf(i,t._root,e?e._root:void 0);return new UI(n,t)}(this.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return Object.assign(Object.assign({},c),{targetRouterState:d})}),jn(c=>{this.currentUrlTree=c.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),this.routerState=c.targetRouterState,"deferred"===this.urlUpdateStrategy&&(c.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,c),this.browserUrlTree=c.urlAfterRedirects)}),((i,t,e)=>jt(n=>(new u$(t,n.targetRouterState,n.currentRouterState,e).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,c=>this.triggerEvent(c)),jn({next(){r=!0},complete(){r=!0}}),cw(()=>{var c;r||a||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(c=this.currentNavigation)||void 0===c?void 0:c.id)===s.id&&(this.currentNavigation=null)}),io(c=>{if(a=!0,function PX(i){return i&&i[EI]}(c)){const d=Ql(c.url);d||(this.navigated=!0,this.restoreHistory(s,!0));const h=new MI(s.id,this.serializeUrl(s.extractedUrl),c.message);n.next(h),d?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(c.url,this.rawUrlTree),v={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||s_(s.source)};this.scheduleNavigation(g,"imperative",null,v,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const d=new wX(s.id,this.serializeUrl(s.extractedUrl),c);n.next(d);try{s.resolve(this.errorHandler(c))}catch(h){s.reject(h)}}return cr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var s;const r={replaceUrl:!0},a=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(a){const d=Object.assign({},a);delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,n,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){eP(e),this.config=e.map(ww),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:s,queryParams:r,fragment:a,queryParamsHandling:c,preserveFragment:d}=n,h=s||this.routerState.root,g=d?this.currentUrlTree.fragment:a;let v=null;switch(c){case"merge":v=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=r||null}return null!==v&&(v=this.removeEmptyProps(v)),function n$(i,t,e,n,s){if(0===e.length)return _w(t.root,t.root,t,n,s);const r=function s$(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new qI(!0,0,i);let t=0,e=!1;const n=i.reduce((s,r,a)=>{if("object"==typeof r&&null!=r){if(r.outlets){const c={};return us(r.outlets,(d,h)=>{c[h]="string"==typeof d?d.split("/"):d}),[...s,{outlets:c}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===a?(r.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?e=!0:".."===c?t++:""!=c&&s.push(c))}),s):[...s,r]},[]);return new qI(e,t,n)}(e);if(r.toRoot())return _w(t.root,new Ci([],{}),t,n,s);const a=function r$(i,t,e){if(i.isAbsolute)return new vw(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new vw(r,r===t.root,0)}const n=Zm(i.commands[0])?0:1;return function a$(i,t,e){let n=i,s=t,r=e;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new vw(n,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+n,i.numberOfDoubleDots)}(r,t,i),c=a.processChildren?Km(a.segmentGroup,a.index,r.commands):ZI(a.segmentGroup,a.index,r.commands);return _w(a.segmentGroup,c,t,n,s)}(h,this.currentUrlTree,e,v,null!=g?g:null)}navigateByUrl(e,n={skipLocationChange:!1}){const s=Ql(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function uq(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return n}isActive(e,n){let s;if(s=!0===n?Object.assign({},cq):!1===n?Object.assign({},dq):n,Ql(e))return PI(this.currentUrlTree,e,s);const r=this.parseUrl(e);return PI(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((n,s)=>{const r=e[s];return null!=r&&(n[s]=r),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new xf(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,n,s,r,a){var c,d,h;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,v=s_(n)&&g&&!s_(g.source),b=g.rawUrl.toString()===e.toString(),C=g.id===(null===(c=this.currentNavigation)||void 0===c?void 0:c.id);if(v&&b&&C)return Promise.resolve(!0);let A,E,I;a?(A=a.resolve,E=a.reject,I=a.promise):I=new Promise((V,G)=>{A=V,E=G});const P=++this.navigationId;let N;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),N=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):N=0,this.setTransition({id:P,targetPageId:N,source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:A,reject:E,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(V=>Promise.reject(V))}setBrowserUrl(e,n){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,n=!1){var s,r;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===a?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,n){const s=new MI(e.id,this.serializeUrl(e.extractedUrl),n);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return i.\u0275fac=function(e){Gd()},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function s_(i){return"imperative"!==i}let r_=(()=>{class i{constructor(e,n,s,r,a){this.router=e,this.route=n,this.tabIndexAttribute=s,this.renderer=r,this.el=a,this.commands=null,this.onChanges=new Ge,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const n=this.renderer,s=this.el.nativeElement;null!==e?n.setAttribute(s,"tabindex",e):n.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:au(this.skipLocationChange),replaceUrl:au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:au(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(F(es),F(Jo),cs("tabindex"),F(Xr),F(je))},i.\u0275dir=ge({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,n){1&e&&Mt("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Bi]}),i})(),a_=(()=>{class i{constructor(e,n,s){this.router=e,this.route=n,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Ge,this.subscription=e.events.subscribe(r=>{r instanceof xf&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,s,r,a){if(0!==e||n||s||r||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const c={skipLocationChange:au(this.skipLocationChange),replaceUrl:au(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,c),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:au(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(F(es),F(Jo),F(Kd))},i.\u0275dir=ge({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,n){1&e&&Mt("click",function(r){return n.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&Yt("target",n.target)("href",n.href,Cd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Bi]}),i})();function au(i){return""===i||!!i}let mP=(()=>{class i{constructor(e,n,s,r,a,c){this.router=e,this.element=n,this.renderer=s,this.cdr=r,this.link=a,this.linkWithHref=c,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ft,this.routerEventsSubscription=e.events.subscribe(d=>{d instanceof xf&&this.update()})}ngAfterContentInit(){Pt(this.links.changes,this.linksWithHrefs.changes,Pt(null)).pipe(Ol()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=S(n).pipe(Ol()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function hq(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(F(es),F(je),F(Xr),F(Pi),F(r_,8),F(a_,8))},i.\u0275dir=ge({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,s){if(1&e&&(ii(s,r_,5),ii(s,a_,5)),2&e){let r;Ze(r=Ke())&&(n.links=r),Ze(r=Ke())&&(n.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Bi]}),i})();class _P{}class vP{preload(t,e){return Pt(null)}}let yP=(()=>{class i{constructor(e,n,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new pP(s,n,d=>e.triggerEvent(new SI(d)),d=>e.triggerEvent(new DI(d)))}setUpPreloading(){this.subscription=this.router.events.pipe(tn(e=>e instanceof xf),iu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Qa);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const s=[];for(const r of n)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const a=r._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return S(s).pipe(Ol(),jt(r=>{}))}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?Pt(n._loadedConfig):this.loader.load(e.injector,n)).pipe(rn(r=>(n._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(me(es),me(vm),me(Tn),me(_P))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),Dw=(()=>{class i{constructor(e,n,s={}){this.router=e,this.viewportScroller=n,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Um?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof xf&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof AI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new AI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){Gd()},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const Jl=new Me("ROUTER_CONFIGURATION"),bP=new Me("ROUTER_FORROOT_GUARD"),pq=[xm,{provide:NI,useClass:BI},{provide:es,useFactory:function yq(i,t,e,n,s,r,a={},c,d){const h=new es(null,i,t,e,n,s,kI(r));return c&&(h.urlHandlingStrategy=c),d&&(h.routeReuseStrategy=d),function bq(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(a,h),a.enableTracing&&h.events.subscribe(g=>{var v,b;null===(v=console.group)||void 0===v||v.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(b=console.groupEnd)||void 0===b||b.call(console)}),h},deps:[NI,Ef,xm,Tn,vm,Sw,Jl,[class rq{},new Gn],[class iq{},new Gn]]},Ef,{provide:Jo,useFactory:function xq(i){return i.routerState.root},deps:[es]},yP,vP,class fq{preload(t,e){return e().pipe(io(()=>Pt(null)))}},{provide:Jl,useValue:{enableTracing:!1}}];function gq(){return new pR("Router",es)}let xP=(()=>{class i{constructor(e,n){}static forRoot(e,n){return{ngModule:i,providers:[pq,wP(e),{provide:bP,useFactory:vq,deps:[[es,new Gn,new Zs]]},{provide:Jl,useValue:n||{}},{provide:Kd,useFactory:_q,deps:[$l,[new Uh(U0),new Gn],Jl]},{provide:Dw,useFactory:mq,deps:[es,SY,Jl]},{provide:_P,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vP},{provide:pR,multi:!0,useFactory:gq},[Aw,{provide:_m,multi:!0,useFactory:wq,deps:[Aw]},{provide:CP,useFactory:Cq,deps:[Aw]},{provide:R0,multi:!0,useExisting:CP}]]}}static forChild(e){return{ngModule:i,providers:[wP(e)]}}}return i.\u0275fac=function(e){return new(e||i)(me(bP,8),me(es,8))},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})();function mq(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Dw(i,t,e)}function _q(i,t,e={}){return e.useHash?new f6(i,t):new FR(i,t)}function vq(i){return"guarded"}function wP(i){return[{provide:Yz,multi:!0,useValue:i},{provide:Sw,multi:!0,useValue:i}]}let Aw=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ge}appInitializer(){return this.injector.get(d6,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const s=new Promise(c=>n=c),r=this.injector.get(es),a=this.injector.get(Jl);return"disabled"===a.initialNavigation?(r.setUpLocationChangeListener(),n(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?Pt(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),r.initialNavigation()):n(!0),s})}bootstrapListener(e){const n=this.injector.get(Jl),s=this.injector.get(yP),r=this.injector.get(Dw),a=this.injector.get(es),c=this.injector.get(Zd);e===c.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),r.init(),a.resetRootComponentType(c.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(me(Tn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();function wq(i){return i.appInitializer.bind(i)}function Cq(i){return i.bootstrapListener.bind(i)}const CP=new Me("Router Initializer");let Sq=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["app-about"]],decls:2,vars:0,template:function(e,n){1&e&&(ue(0,"p"),Rt(1,"about works!"),he())},styles:[""]}),i})();function MP(...i){const t=nd(i),{args:e,keys:n}=_I(i),s=new Jt(r=>{const{length:a}=e;if(!a)return void r.complete();const c=new Array(a);let d=a,h=a;for(let g=0;g<a;g++){let v=!1;os(e[g]).subscribe(new Ni(r,b=>{v||(v=!0,h--),c[g]=b},()=>d--,void 0,()=>{(!d||!v)&&(h||r.next(n?vI(n,c):c),r.complete())}))}});return t?s.pipe(ow(t)):s}let SP=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(F(Xr),F(je))},i.\u0275dir=ge({type:i}),i})(),ec=(()=>{class i extends SP{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,features:[xe]}),i})();const ts=new Me("NgValueAccessor"),Aq={provide:ts,useExisting:x(()=>o_),multi:!0},Tq=new Me("CompositionEventMode");let o_=(()=>{class i extends SP{constructor(e,n,s){super(e,n),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Eq(){const i=Ca()?Ca().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(F(Xr),F(je),F(Tq,8))},i.\u0275dir=ge({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&Mt("input",function(r){return n._handleInput(r.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(r){return n._compositionEnd(r.target.value)})},features:[mt([Aq]),xe]}),i})();function tl(i){return null==i||0===i.length}function AP(i){return null!=i&&"number"==typeof i.length}const Yn=new Me("NgValidators"),il=new Me("NgAsyncValidators"),kq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class tc{static min(t){return function EP(i){return t=>{if(tl(t.value)||tl(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function TP(i){return t=>{if(tl(t.value)||tl(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return kP(t)}static requiredTrue(t){return function RP(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function IP(i){return tl(i.value)||kq.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function PP(i){return t=>tl(t.value)||!AP(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function LP(i){return t=>AP(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function OP(i){if(!i)return If;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(tl(n.value))return null;const s=n.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return zP(t)}static composeAsync(t){return GP(t)}}function kP(i){return tl(i.value)?{required:!0}:null}function If(i){return null}function FP(i){return null!=i}function NP(i){const t=nf(i)?S(i):i;return t0(t),t}function BP(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function VP(i,t){return t.map(e=>e(i))}function HP(i){return i.map(t=>function Rq(i){return!i.validate}(t)?t:e=>t.validate(e))}function zP(i){if(!i)return null;const t=i.filter(FP);return 0==t.length?null:function(e){return BP(VP(e,t))}}function Ew(i){return null!=i?zP(HP(i)):null}function GP(i){if(!i)return null;const t=i.filter(FP);return 0==t.length?null:function(e){return MP(VP(e,t).map(NP)).pipe(jt(BP))}}function Tw(i){return null!=i?GP(HP(i)):null}function UP(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function WP(i){return i._rawValidators}function jP(i){return i._rawAsyncValidators}function kw(i){return i?Array.isArray(i)?i:[i]:[]}function l_(i,t){return Array.isArray(i)?i.includes(t):i===t}function YP(i,t){const e=kw(t);return kw(i).forEach(s=>{l_(e,s)||e.push(s)}),e}function XP(i,t){return kw(t).filter(e=>!l_(i,e))}class $P{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ew(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Tw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Kr extends $P{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ts extends $P{get formDirective(){return null}get path(){return null}}class qP{constructor(t){this._cd=t}is(t){var e,n,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===s?void 0:s[t])}}let ZP=(()=>{class i extends qP{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(F(Kr,2))},i.\u0275dir=ge({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&Qt("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[xe]}),i})(),c_=(()=>{class i extends qP{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(F(Ts,10))},i.\u0275dir=ge({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&Qt("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))("ng-submitted",n.is("submitted"))},features:[xe]}),i})();function Pf(i,t){Pw(i,t),t.valueAccessor.writeValue(i.value),function Vq(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&QP(i,t)})}(i,t),function zq(i,t){const e=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function Hq(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&QP(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function Bq(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function h_(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),p_(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function f_(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Pw(i,t){const e=WP(i);null!==t.validator?i.setValidators(UP(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=jP(i);null!==t.asyncValidator?i.setAsyncValidators(UP(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const s=()=>i.updateValueAndValidity();f_(t._rawValidators,s),f_(t._rawAsyncValidators,s)}function p_(i,t){let e=!1;if(null!==i){if(null!==t.validator){const s=WP(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,i.setValidators(r))}}if(null!==t.asyncValidator){const s=jP(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,i.setAsyncValidators(r))}}}const n=()=>{};return f_(t._rawValidators,n),f_(t._rawAsyncValidators,n),e}function QP(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function JP(i,t){Pw(i,t)}function eL(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function g_(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Lf="VALID",m_="INVALID",ou="PENDING",Of="DISABLED";function Nw(i){return(Vw(i)?i.validators:i)||null}function tL(i){return Array.isArray(i)?Ew(i):i||null}function Bw(i,t){return(Vw(t)?t.asyncValidators:i)||null}function iL(i){return Array.isArray(i)?Tw(i):i||null}function Vw(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const nL=i=>i instanceof Ff,Hw=i=>i instanceof __;function sL(i){return nL(i)?i.value:i.getRawValue()}function rL(i,t){const e=Hw(i),n=i.controls;if(!(e?Object.keys(n):n).length)throw new K(1e3,"");if(!n[t])throw new K(1001,"")}function aL(i,t){Hw(i),i._forEachChild((n,s)=>{if(void 0===t[s])throw new K(1002,"")})}class zw{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=tL(this._rawValidators),this._composedAsyncValidatorFn=iL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Lf}get invalid(){return this.status===m_}get pending(){return this.status==ou}get disabled(){return this.status===Of}get enabled(){return this.status!==Of}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=tL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=iL(t)}addValidators(t){this.setValidators(YP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(YP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(XP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(XP(t,this._rawAsyncValidators))}hasValidator(t){return l_(this._rawValidators,t)}hasAsyncValidator(t){return l_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ou,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Of,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lf,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lf||this.status===ou)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Of:Lf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ou,this._hasOwnPendingAsyncValidator=!0;const e=NP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function jq(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let n=i;return t.forEach(s=>{n=Hw(n)?n.controls.hasOwnProperty(s)?n.controls[s]:null:(i=>i instanceof Xq)(n)&&n.at(s)||null}),n}(this,t,".")}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?Of:this.errors?m_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ou)?ou:this._anyControlsHaveStatus(m_)?m_:Lf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ff extends zw{constructor(t=null,e,n){super(Nw(e),Bw(n,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){g_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){g_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class __ extends zw{constructor(t,e,n){super(Nw(e),Bw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){aL(this,t),Object.keys(t).forEach(n=>{rL(this,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=sL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((s,r)=>{n=e(n,s,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Xq extends zw{constructor(t,e,n){super(Nw(e),Bw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){aL(this,t),t.forEach((n,s)=>{rL(this,s),this.at(s).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,s)=>{this.at(s)&&this.at(s).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>sL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const $q={provide:Ts,useExisting:x(()=>nl)},Nf=(()=>Promise.resolve(null))();let nl=(()=>{class i extends Ts{constructor(e,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ft,this.form=new __({},Ew(e),Tw(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Nf.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Pf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Nf.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),g_(this._directives,e)})}addFormGroup(e){Nf.then(()=>{const n=this._findContainer(e.path),s=new __({});JP(s,e),n.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Nf.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Nf.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,eL(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(F(Yn,10),F(il,10))},i.\u0275dir=ge({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&Mt("submit",function(r){return n.onSubmit(r)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([$q]),xe]}),i})(),v_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),hL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})();const Gw=new Me("NgModelWithFormControlWarning"),n9={provide:Ts,useExisting:x(()=>ic)};let ic=(()=>{class i extends Ts{constructor(e,n){super(),this.validators=e,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ft,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(p_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Pf(n,e),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){h_(e.control||null,e,!1),g_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,eL(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,s=this.form.get(e.path);n!==s&&(h_(n||null,e),nL(s)&&(Pf(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);JP(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function Gq(i,t){return p_(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pw(this.form,this),this._oldForm&&p_(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(F(Yn,10),F(il,10))},i.\u0275dir=ge({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&Mt("submit",function(r){return n.onSubmit(r)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mt([n9]),xe,Bi]}),i})();const a9={provide:Kr,useExisting:x(()=>jw)};let jw=(()=>{class i extends Kr{constructor(e,n,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new ft,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=function Ow(i,t){if(!t)return null;let e,n,s;return Array.isArray(t),t.forEach(r=>{r.constructor===o_?e=r:function Wq(i){return Object.getPrototypeOf(i.constructor)===ec}(r)?n=r:s=r}),s||n||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Lw(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function u_(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(F(Ts,13),F(Yn,10),F(il,10),F(ts,10),F(Gw,8))},i.\u0275dir=ge({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[mt([a9]),xe,Bi]}),i})();const g9={provide:Yn,useExisting:x(()=>y_),multi:!0};let y_=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?kP(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,n){2&e&&Yt("required",n.required?"":null)},inputs:{required:"required"},features:[mt([g9])]}),i})(),AL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[hL]]}),i})(),x9=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[AL]}),i})(),w9=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Gw,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[AL]}),i})();function EL(i,t,e,n,s,r,a){try{var c=i[r](a),d=c.value}catch(h){return void e(h)}c.done?t(d):Promise.resolve(d).then(n,s)}const oc=1e3,ks=1001,Pn=1003,Xi=1006,rl=1008,lc=1009,Uf=1012,Qr=1015,Da=1016,hu=1020,Mr=1023,cc=1026,fu=1027,Wf=2300,pu=2301,gu=2400,mu=2401,Jr=3e3,ki=3001,ao="srgb",uc="srgb-linear",jf=35044,Yf=35048;class al{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const s=this._listeners[t];if(void 0!==s){const r=s.indexOf(e);-1!==r&&s.splice(r,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const s=n.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,t);t.target=null}}}const hs=[];for(let i=0;i<256;i++)hs[i]=(i<16?"0":"")+i.toString(16);let cO=1234567;const hc=Math.PI/180,Xf=180/Math.PI;function tr(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(hs[255&i]+hs[i>>8&255]+hs[i>>16&255]+hs[i>>24&255]+"-"+hs[255&t]+hs[t>>8&255]+"-"+hs[t>>16&15|64]+hs[t>>24&255]+"-"+hs[63&e|128]+hs[e>>8&255]+"-"+hs[e>>16&255]+hs[e>>24&255]+hs[255&n]+hs[n>>8&255]+hs[n>>16&255]+hs[n>>24&255]).toLowerCase()}function Cn(i,t,e){return Math.max(t,Math.min(e,i))}function aC(i,t){return(i%t+t)%t}function $f(i,t,e){return(1-e)*i+e*t}function oC(i){return 0==(i&i-1)&&0!==i}function dO(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function A_(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}var V7=Object.freeze({__proto__:null,DEG2RAD:hc,RAD2DEG:Xf,generateUUID:tr,clamp:Cn,euclideanModulo:aC,mapLinear:function M7(i,t,e,n,s){return n+(i-t)*(s-n)/(e-t)},inverseLerp:function S7(i,t,e){return i!==t?(e-i)/(t-i):0},lerp:$f,damp:function D7(i,t,e,n){return $f(i,t,1-Math.exp(-e*n))},pingpong:function A7(i,t=1){return t-Math.abs(aC(i,2*t)-t)},smoothstep:function E7(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*(3-2*i)},smootherstep:function T7(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*i*(i*(6*i-15)+10)},randInt:function k7(i,t){return i+Math.floor(Math.random()*(t-i+1))},randFloat:function R7(i,t){return i+Math.random()*(t-i)},randFloatSpread:function I7(i){return i*(.5-Math.random())},seededRandom:function P7(i){void 0!==i&&(cO=i);let t=cO+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function L7(i){return i*hc},radToDeg:function O7(i){return i*Xf},isPowerOfTwo:oC,ceilPowerOfTwo:dO,floorPowerOfTwo:A_,setQuaternionFromProperEuler:function F7(i,t,e,n,s){const r=Math.cos,a=Math.sin,c=r(e/2),d=a(e/2),h=r((t+n)/2),g=a((t+n)/2),v=r((t-n)/2),b=a((t-n)/2),C=r((n-t)/2),D=a((n-t)/2);switch(s){case"XYX":i.set(c*g,d*v,d*b,c*h);break;case"YZY":i.set(d*b,c*g,d*v,c*h);break;case"ZXZ":i.set(d*v,d*b,c*g,c*h);break;case"XZX":i.set(c*g,d*D,d*C,c*h);break;case"YXY":i.set(d*C,c*g,d*D,c*h);break;case"ZYZ":i.set(d*D,d*C,c*g,c*h);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:function B7(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}},denormalize:function N7(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}});class Te{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6],this.y=s[1]*e+s[4]*n+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*s+t.x,this.y=r*s+a*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}Te.prototype.isVector2=!0;class is{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,s,r,a,c,d,h){const g=this.elements;return g[0]=t,g[1]=s,g[2]=c,g[3]=e,g[4]=r,g[5]=d,g[6]=n,g[7]=a,g[8]=h,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,s=e.elements,r=this.elements,a=n[0],c=n[3],d=n[6],h=n[1],g=n[4],v=n[7],b=n[2],C=n[5],D=n[8],A=s[0],E=s[3],I=s[6],P=s[1],N=s[4],V=s[7],G=s[2],q=s[5],ee=s[8];return r[0]=a*A+c*P+d*G,r[3]=a*E+c*N+d*q,r[6]=a*I+c*V+d*ee,r[1]=h*A+g*P+v*G,r[4]=h*E+g*N+v*q,r[7]=h*I+g*V+v*ee,r[2]=b*A+C*P+D*G,r[5]=b*E+C*N+D*q,r[8]=b*I+C*V+D*ee,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8];return e*a*g-e*c*h-n*r*g+n*c*d+s*r*h-s*a*d}invert(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8],v=g*a-c*h,b=c*d-g*r,C=h*r-a*d,D=e*v+n*b+s*C;if(0===D)return this.set(0,0,0,0,0,0,0,0,0);const A=1/D;return t[0]=v*A,t[1]=(s*h-g*n)*A,t[2]=(c*n-s*a)*A,t[3]=b*A,t[4]=(g*e-s*d)*A,t[5]=(s*r-c*e)*A,t[6]=C*A,t[7]=(n*d-h*e)*A,t[8]=(a*e-n*r)*A,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,s,r,a,c){const d=Math.cos(r),h=Math.sin(r);return this.set(n*d,n*h,-n*(d*a+h*c)+a+t,-s*h,s*d,-s*(-h*a+d*c)+c+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),s=this.elements,r=s[0],a=s[3],c=s[6],d=s[1],h=s[4],g=s[7];return s[0]=e*r+n*d,s[3]=e*a+n*h,s[6]=e*c+n*g,s[1]=-n*r+e*d,s[4]=-n*a+e*h,s[7]=-n*c+e*g,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let s=0;s<9;s++)if(e[s]!==n[s])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function uO(i){for(let t=i.length-1;t>=0;--t)if(i[t]>65535)return!0;return!1}function qf(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function fc(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function E_(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}is.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const lC={[ao]:{[uc]:fc},[uc]:{[ao]:E_}},ea={legacyMode:!0,get workingColorSpace(){return uc},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,t,e){if(this.legacyMode||t===e||!t||!e)return i;if(lC[t]&&void 0!==lC[t][e]){const n=lC[t][e];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,t){return this.convert(i,this.workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this.workingColorSpace)}},hO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Xn={r:0,g:0,b:0},ta={h:0,s:0,l:0},T_={h:0,s:0,l:0};function cC(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}function k_(i,t){return t.r=i.r,t.g=i.g,t.b=i.b,t}let vu,Qe=(()=>{class i{constructor(e,n,s){return void 0===n&&void 0===s?this.set(e):this.setRGB(e,n,s)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ao){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,ea.toWorkingColorSpace(this,n),this}setRGB(e,n,s,r=uc){return this.r=e,this.g=n,this.b=s,ea.toWorkingColorSpace(this,r),this}setHSL(e,n,s,r=uc){if(e=aC(e,1),n=Cn(n,0,1),s=Cn(s,0,1),0===n)this.r=this.g=this.b=s;else{const a=s<=.5?s*(1+n):s+n-s*n,c=2*s-a;this.r=cC(c,a,e+1/3),this.g=cC(c,a,e),this.b=cC(c,a,e-1/3)}return ea.toWorkingColorSpace(this,r),this}setStyle(e,n=ao){function s(a){void 0!==a&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const d=r[2];switch(r[1]){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,ea.toWorkingColorSpace(this,n),s(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,ea.toWorkingColorSpace(this,n),s(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d)){const h=parseFloat(a[1])/360,g=parseInt(a[2],10)/100,v=parseInt(a[3],10)/100;return s(a[4]),this.setHSL(h,g,v,n)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],c=a.length;if(3===c)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,ea.toWorkingColorSpace(this,n),this;if(6===c)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,ea.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=ao){const s=hO[e.toLowerCase()];return void 0!==s?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fc(e.r),this.g=fc(e.g),this.b=fc(e.b),this}copyLinearToSRGB(e){return this.r=E_(e.r),this.g=E_(e.g),this.b=E_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ao){return ea.fromWorkingColorSpace(k_(this,Xn),e),Cn(255*Xn.r,0,255)<<16^Cn(255*Xn.g,0,255)<<8^Cn(255*Xn.b,0,255)<<0}getHexString(e=ao){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=uc){ea.fromWorkingColorSpace(k_(this,Xn),n);const s=Xn.r,r=Xn.g,a=Xn.b,c=Math.max(s,r,a),d=Math.min(s,r,a);let h,g;const v=(d+c)/2;if(d===c)h=0,g=0;else{const b=c-d;switch(g=v<=.5?b/(c+d):b/(2-c-d),c){case s:h=(r-a)/b+(r<a?6:0);break;case r:h=(a-s)/b+2;break;case a:h=(s-r)/b+4}h/=6}return e.h=h,e.s=g,e.l=v,e}getRGB(e,n=uc){return ea.fromWorkingColorSpace(k_(this,Xn),n),e.r=Xn.r,e.g=Xn.g,e.b=Xn.b,e}getStyle(e=ao){return ea.fromWorkingColorSpace(k_(this,Xn),e),e!==ao?`color(${e} ${Xn.r} ${Xn.g} ${Xn.b})`:`rgb(${255*Xn.r|0},${255*Xn.g|0},${255*Xn.b|0})`}offsetHSL(e,n,s){return this.getHSL(ta),ta.h+=e,ta.s+=n,ta.l+=s,this.setHSL(ta.h,ta.s,ta.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(ta),e.getHSL(T_);const s=$f(ta.h,T_.h,n),r=$f(ta.s,T_.s,n),a=$f(ta.l,T_.l,n);return this.setHSL(s,r,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return i.NAMES=hO,i})();Qe.prototype.isColor=!0,Qe.prototype.r=1,Qe.prototype.g=1,Qe.prototype.b=1;class pc{static getDataURL(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===vu&&(vu=qf("canvas")),vu.width=t.width,vu.height=t.height;const n=vu.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=vu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=qf("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const s=n.getImageData(0,0,t.width,t.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=255*fc(r[a]/255);return n.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*fc(e[n]/255)):fc(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class yu{constructor(t=null){this.uuid=tr(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let a=0,c=s.length;a<c;a++)r.push(dC(s[a].isDataTexture?s[a].image:s[a]))}else r=dC(s);n.url=r}return e||(t.images[this.uuid]=n),n}}function dC(i){return"undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap?pc.getDataURL(i):i.data?{data:Array.prototype.slice.call(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}yu.prototype.isSource=!0;let z7=0,vs=(()=>{class i extends al{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,s=ks,r=ks,a=Xi,c=rl,d=Mr,h=lc,g=1,v=Jr){super(),Object.defineProperty(this,"id",{value:z7++}),this.uuid=tr(),this.name="",this.source=new yu(e),this.mipmaps=[],this.mapping=n,this.wrapS=s,this.wrapT=r,this.magFilter=a,this.minFilter=c,this.anisotropy=g,this.format=d,this.internalFormat=null,this.type=h,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new is,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=v,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case oc:e.x=e.x-Math.floor(e.x);break;case ks:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case oc:e.y=e.y-Math.floor(e.y);break;case ks:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i})();vs.prototype.isTexture=!0;class Vi{constructor(t=0,e=0,n=0,s=1){this.x=t,this.y=e,this.z=n,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,s){return this.x=t,this.y=e,this.z=n,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,s=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*s+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*s+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*s+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*s+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,s,r;const a=.01,c=.1,d=t.elements,h=d[0],g=d[4],v=d[8],b=d[1],C=d[5],D=d[9],A=d[2],E=d[6],I=d[10];if(Math.abs(g-b)<a&&Math.abs(v-A)<a&&Math.abs(D-E)<a){if(Math.abs(g+b)<c&&Math.abs(v+A)<c&&Math.abs(D+E)<c&&Math.abs(h+C+I-3)<c)return this.set(1,0,0,0),this;e=Math.PI;const N=(h+1)/2,V=(C+1)/2,G=(I+1)/2,q=(g+b)/4,ee=(v+A)/4,se=(D+E)/4;return N>V&&N>G?N<a?(n=0,s=.707106781,r=.707106781):(n=Math.sqrt(N),s=q/n,r=ee/n):V>G?V<a?(n=.707106781,s=0,r=.707106781):(s=Math.sqrt(V),n=q/s,r=se/s):G<a?(n=.707106781,s=.707106781,r=0):(r=Math.sqrt(G),n=ee/r,s=se/r),this.set(n,s,r,e),this}let P=Math.sqrt((E-D)*(E-D)+(v-A)*(v-A)+(b-g)*(b-g));return Math.abs(P)<.001&&(P=1),this.x=(E-D)/P,this.y=(v-A)/P,this.z=(b-g)/P,this.w=Math.acos((h+C+I-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}Vi.prototype.isVector4=!0;class ir extends al{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new Vi(0,0,t,e),this.scissorTest=!1,this.viewport=new Vi(0,0,t,e),this.texture=new vs({width:t,height:e,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Xi,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}ir.prototype.isWebGLRenderTarget=!0;class R_ extends vs{constructor(t=null,e=1,n=1,s=1){super(null),this.image={data:t,width:e,height:n,depth:s},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}R_.prototype.isDataArrayTexture=!0,class G7 extends ir{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new R_(null,t,e,n),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGLArrayRenderTarget=!0;class uC extends vs{constructor(t=null,e=1,n=1,s=1){super(null),this.image={data:t,width:e,height:n,depth:s},this.magFilter=Pn,this.minFilter=Pn,this.wrapR=ks,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}uC.prototype.isData3DTexture=!0,class U7 extends ir{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new uC(null,t,e,n),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGL3DRenderTarget=!0,class W7 extends ir{constructor(t,e,n,s={}){super(t,e,s);const r=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=r.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let s=0,r=this.texture.length;s<r;s++)this.texture[s].image.width=t,this.texture[s].image.height=e,this.texture[s].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,n=t.texture.length;e<n;e++)this.texture[e]=t.texture[e].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class $n{constructor(t=0,e=0,n=0,s=1){this._x=t,this._y=e,this._z=n,this._w=s}static slerp(t,e,n,s){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,s)}static slerpFlat(t,e,n,s,r,a,c){let d=n[s+0],h=n[s+1],g=n[s+2],v=n[s+3];const b=r[a+0],C=r[a+1],D=r[a+2],A=r[a+3];if(0===c)return t[e+0]=d,t[e+1]=h,t[e+2]=g,void(t[e+3]=v);if(1===c)return t[e+0]=b,t[e+1]=C,t[e+2]=D,void(t[e+3]=A);if(v!==A||d!==b||h!==C||g!==D){let E=1-c;const I=d*b+h*C+g*D+v*A,P=I>=0?1:-1,N=1-I*I;if(N>Number.EPSILON){const G=Math.sqrt(N),q=Math.atan2(G,I*P);E=Math.sin(E*q)/G,c=Math.sin(c*q)/G}const V=c*P;if(d=d*E+b*V,h=h*E+C*V,g=g*E+D*V,v=v*E+A*V,E===1-c){const G=1/Math.sqrt(d*d+h*h+g*g+v*v);d*=G,h*=G,g*=G,v*=G}}t[e]=d,t[e+1]=h,t[e+2]=g,t[e+3]=v}static multiplyQuaternionsFlat(t,e,n,s,r,a){const c=n[s],d=n[s+1],h=n[s+2],g=n[s+3],v=r[a],b=r[a+1],C=r[a+2],D=r[a+3];return t[e]=c*D+g*v+d*C-h*b,t[e+1]=d*D+g*b+h*v-c*C,t[e+2]=h*D+g*C+c*b-d*v,t[e+3]=g*D-c*v-d*b-h*C,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,s){return this._x=t,this._y=e,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,s=t._y,r=t._z,a=t._order,c=Math.cos,d=Math.sin,h=c(n/2),g=c(s/2),v=c(r/2),b=d(n/2),C=d(s/2),D=d(r/2);switch(a){case"XYZ":this._x=b*g*v+h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v-b*C*D;break;case"YXZ":this._x=b*g*v+h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v+b*C*D;break;case"ZXY":this._x=b*g*v-h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v-b*C*D;break;case"ZYX":this._x=b*g*v-h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v+b*C*D;break;case"YZX":this._x=b*g*v+h*C*D,this._y=h*C*v+b*g*D,this._z=h*g*D-b*C*v,this._w=h*g*v-b*C*D;break;case"XZY":this._x=b*g*v-h*C*D,this._y=h*C*v-b*g*D,this._z=h*g*D+b*C*v,this._w=h*g*v+b*C*D;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],s=e[4],r=e[8],a=e[1],c=e[5],d=e[9],h=e[2],g=e[6],v=e[10],b=n+c+v;if(b>0){const C=.5/Math.sqrt(b+1);this._w=.25/C,this._x=(g-d)*C,this._y=(r-h)*C,this._z=(a-s)*C}else if(n>c&&n>v){const C=2*Math.sqrt(1+n-c-v);this._w=(g-d)/C,this._x=.25*C,this._y=(s+a)/C,this._z=(r+h)/C}else if(c>v){const C=2*Math.sqrt(1+c-n-v);this._w=(r-h)/C,this._x=(s+a)/C,this._y=.25*C,this._z=(d+g)/C}else{const C=2*Math.sqrt(1+v-n-c);this._w=(a-s)/C,this._x=(r+h)/C,this._y=(d+g)/C,this._z=.25*C}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Cn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const s=Math.min(1,e/n);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,s=t._y,r=t._z,a=t._w,c=e._x,d=e._y,h=e._z,g=e._w;return this._x=n*g+a*c+s*h-r*d,this._y=s*g+a*d+r*c-n*h,this._z=r*g+a*h+n*d-s*c,this._w=a*g-n*c-s*d-r*h,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,s=this._y,r=this._z,a=this._w;let c=a*t._w+n*t._x+s*t._y+r*t._z;if(c<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,c=-c):this.copy(t),c>=1)return this._w=a,this._x=n,this._y=s,this._z=r,this;const d=1-c*c;if(d<=Number.EPSILON){const C=1-e;return this._w=C*a+e*this._w,this._x=C*n+e*this._x,this._y=C*s+e*this._y,this._z=C*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const h=Math.sqrt(d),g=Math.atan2(h,c),v=Math.sin((1-e)*g)/h,b=Math.sin(e*g)/h;return this._w=a*v+this._w*b,this._x=n*v+this._x*b,this._y=s*v+this._y*b,this._z=r*v+this._z*b,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(s),n*Math.sin(r),n*Math.cos(r),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}$n.prototype.isQuaternion=!0;class ${constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(fO.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(fO.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*s,this.y=r[1]*e+r[4]*n+r[7]*s,this.z=r[2]*e+r[5]*n+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,s=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*s+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*s+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*s+r[14])*a,this}applyQuaternion(t){const e=this.x,n=this.y,s=this.z,r=t.x,a=t.y,c=t.z,d=t.w,h=d*e+a*s-c*n,g=d*n+c*e-r*s,v=d*s+r*n-a*e,b=-r*e-a*n-c*s;return this.x=h*d+b*-r+g*-c-v*-a,this.y=g*d+b*-a+v*-r-h*-c,this.z=v*d+b*-c+h*-a-g*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*s,this.y=r[1]*e+r[5]*n+r[9]*s,this.z=r[2]*e+r[6]*n+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,s=t.y,r=t.z,a=e.x,c=e.y,d=e.z;return this.x=s*d-r*c,this.y=r*a-n*d,this.z=n*c-s*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return hC.copy(this).projectOnVector(t),this.sub(hC)}reflect(t){return this.sub(hC.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(Cn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,s=this.z-t.z;return e*e+n*n+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const s=Math.sin(e)*t;return this.x=s*Math.sin(n),this.y=Math.cos(e)*t,this.z=s*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}$.prototype.isVector3=!0;const hC=new $,fO=new $n;class nr{constructor(t=new $(1/0,1/0,1/0),e=new $(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,s=1/0,r=-1/0,a=-1/0,c=-1/0;for(let d=0,h=t.length;d<h;d+=3){const g=t[d],v=t[d+1],b=t[d+2];g<e&&(e=g),v<n&&(n=v),b<s&&(s=b),g>r&&(r=g),v>a&&(a=v),b>c&&(c=b)}return this.min.set(e,n,s),this.max.set(r,a,c),this}setFromBufferAttribute(t){let e=1/0,n=1/0,s=1/0,r=-1/0,a=-1/0,c=-1/0;for(let d=0,h=t.count;d<h;d++){const g=t.getX(d),v=t.getY(d),b=t.getZ(d);g<e&&(e=g),v<n&&(n=v),b<s&&(s=b),g>r&&(r=g),v>a&&(a=v),b>c&&(c=b)}return this.min.set(e,n,s),this.max.set(r,a,c),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=gc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n)if(e&&null!=n.attributes&&void 0!==n.attributes.position){const r=n.attributes.position;for(let a=0,c=r.count;a<c;a++)gc.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(gc)}else null===n.boundingBox&&n.computeBoundingBox(),fC.copy(n.boundingBox),fC.applyMatrix4(t.matrixWorld),this.union(fC);const s=t.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,gc),gc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Zf),I_.subVectors(this.max,Zf),bu.subVectors(t.a,Zf),xu.subVectors(t.b,Zf),wu.subVectors(t.c,Zf),ol.subVectors(xu,bu),ll.subVectors(wu,xu),mc.subVectors(bu,wu);let e=[0,-ol.z,ol.y,0,-ll.z,ll.y,0,-mc.z,mc.y,ol.z,0,-ol.x,ll.z,0,-ll.x,mc.z,0,-mc.x,-ol.y,ol.x,0,-ll.y,ll.x,0,-mc.y,mc.x,0];return!(!pC(e,bu,xu,wu,I_)||(e=[1,0,0,0,1,0,0,0,1],!pC(e,bu,xu,wu,I_)))&&(P_.crossVectors(ol,ll),e=[P_.x,P_.y,P_.z],pC(e,bu,xu,wu,I_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return gc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(gc).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(oo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),oo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),oo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),oo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),oo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),oo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),oo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),oo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(oo)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}nr.prototype.isBox3=!0;const oo=[new $,new $,new $,new $,new $,new $,new $,new $],gc=new $,fC=new nr,bu=new $,xu=new $,wu=new $,ol=new $,ll=new $,mc=new $,Zf=new $,I_=new $,P_=new $,_c=new $;function pC(i,t,e,n,s){for(let r=0,a=i.length-3;r<=a;r+=3){_c.fromArray(i,r);const c=s.x*Math.abs(_c.x)+s.y*Math.abs(_c.y)+s.z*Math.abs(_c.z),d=t.dot(_c),h=e.dot(_c),g=n.dot(_c);if(Math.max(-Math.max(d,h,g),Math.min(d,h,g))>c)return!1}return!0}const j7=new nr,pO=new $,L_=new $,gC=new $;class cl{constructor(t=new $,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):j7.setFromPoints(t).getCenter(n);let s=0;for(let r=0,a=t.length;r<a;r++)s=Math.max(s,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){gC.subVectors(t,this.center);const e=gC.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),s=.5*(n-this.radius);this.center.add(gC.multiplyScalar(s/n)),this.radius+=s}return this}union(t){return!0===this.center.equals(t.center)?L_.set(0,0,1).multiplyScalar(t.radius):L_.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(pO.copy(t.center).add(L_)),this.expandByPoint(pO.copy(t.center).sub(L_)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const lo=new $,mC=new $,O_=new $,dl=new $,_C=new $,F_=new $,vC=new $;class vc{constructor(t=new $,e=new $(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,lo)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=lo.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(lo.copy(this.direction).multiplyScalar(e).add(this.origin),lo.distanceToSquared(t))}distanceSqToSegment(t,e,n,s){mC.copy(t).add(e).multiplyScalar(.5),O_.copy(e).sub(t).normalize(),dl.copy(this.origin).sub(mC);const r=.5*t.distanceTo(e),a=-this.direction.dot(O_),c=dl.dot(this.direction),d=-dl.dot(O_),h=dl.lengthSq(),g=Math.abs(1-a*a);let v,b,C,D;if(g>0)if(v=a*d-c,b=a*c-d,D=r*g,v>=0)if(b>=-D)if(b<=D){const A=1/g;v*=A,b*=A,C=v*(v+a*b+2*c)+b*(a*v+b+2*d)+h}else b=r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;else b=-r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;else b<=-D?(v=Math.max(0,-(-a*r+c)),b=v>0?-r:Math.min(Math.max(-r,-d),r),C=-v*v+b*(b+2*d)+h):b<=D?(v=0,b=Math.min(Math.max(-r,-d),r),C=b*(b+2*d)+h):(v=Math.max(0,-(a*r+c)),b=v>0?r:Math.min(Math.max(-r,-d),r),C=-v*v+b*(b+2*d)+h);else b=a>0?-r:r,v=Math.max(0,-(a*b+c)),C=-v*v+b*(b+2*d)+h;return n&&n.copy(this.direction).multiplyScalar(v).add(this.origin),s&&s.copy(O_).multiplyScalar(b).add(mC),C}intersectSphere(t,e){lo.subVectors(t.center,this.origin);const n=lo.dot(this.direction),s=lo.dot(lo)-n*n,r=t.radius*t.radius;if(s>r)return null;const a=Math.sqrt(r-s),c=n-a,d=n+a;return c<0&&d<0?null:this.at(c<0?d:c,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,s,r,a,c,d;const h=1/this.direction.x,g=1/this.direction.y,v=1/this.direction.z,b=this.origin;return h>=0?(n=(t.min.x-b.x)*h,s=(t.max.x-b.x)*h):(n=(t.max.x-b.x)*h,s=(t.min.x-b.x)*h),g>=0?(r=(t.min.y-b.y)*g,a=(t.max.y-b.y)*g):(r=(t.max.y-b.y)*g,a=(t.min.y-b.y)*g),n>a||r>s||((r>n||n!=n)&&(n=r),(a<s||s!=s)&&(s=a),v>=0?(c=(t.min.z-b.z)*v,d=(t.max.z-b.z)*v):(c=(t.max.z-b.z)*v,d=(t.min.z-b.z)*v),n>d||c>s)||((c>n||n!=n)&&(n=c),(d<s||s!=s)&&(s=d),s<0)?null:this.at(n>=0?n:s,e)}intersectsBox(t){return null!==this.intersectBox(t,lo)}intersectTriangle(t,e,n,s,r){_C.subVectors(e,t),F_.subVectors(n,t),vC.crossVectors(_C,F_);let c,a=this.direction.dot(vC);if(a>0){if(s)return null;c=1}else{if(!(a<0))return null;c=-1,a=-a}dl.subVectors(this.origin,t);const d=c*this.direction.dot(F_.crossVectors(dl,F_));if(d<0)return null;const h=c*this.direction.dot(_C.cross(dl));if(h<0||d+h>a)return null;const g=-c*dl.dot(vC);return g<0?null:this.at(g/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Ct{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,s,r,a,c,d,h,g,v,b,C,D,A,E){const I=this.elements;return I[0]=t,I[4]=e,I[8]=n,I[12]=s,I[1]=r,I[5]=a,I[9]=c,I[13]=d,I[2]=h,I[6]=g,I[10]=v,I[14]=b,I[3]=C,I[7]=D,I[11]=A,I[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ct).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,s=1/Cu.setFromMatrixColumn(t,0).length(),r=1/Cu.setFromMatrixColumn(t,1).length(),a=1/Cu.setFromMatrixColumn(t,2).length();return e[0]=n[0]*s,e[1]=n[1]*s,e[2]=n[2]*s,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,s=t.y,r=t.z,a=Math.cos(n),c=Math.sin(n),d=Math.cos(s),h=Math.sin(s),g=Math.cos(r),v=Math.sin(r);if("XYZ"===t.order){const b=a*g,C=a*v,D=c*g,A=c*v;e[0]=d*g,e[4]=-d*v,e[8]=h,e[1]=C+D*h,e[5]=b-A*h,e[9]=-c*d,e[2]=A-b*h,e[6]=D+C*h,e[10]=a*d}else if("YXZ"===t.order){const b=d*g,C=d*v,D=h*g,A=h*v;e[0]=b+A*c,e[4]=D*c-C,e[8]=a*h,e[1]=a*v,e[5]=a*g,e[9]=-c,e[2]=C*c-D,e[6]=A+b*c,e[10]=a*d}else if("ZXY"===t.order){const b=d*g,C=d*v,D=h*g,A=h*v;e[0]=b-A*c,e[4]=-a*v,e[8]=D+C*c,e[1]=C+D*c,e[5]=a*g,e[9]=A-b*c,e[2]=-a*h,e[6]=c,e[10]=a*d}else if("ZYX"===t.order){const b=a*g,C=a*v,D=c*g,A=c*v;e[0]=d*g,e[4]=D*h-C,e[8]=b*h+A,e[1]=d*v,e[5]=A*h+b,e[9]=C*h-D,e[2]=-h,e[6]=c*d,e[10]=a*d}else if("YZX"===t.order){const b=a*d,C=a*h,D=c*d,A=c*h;e[0]=d*g,e[4]=A-b*v,e[8]=D*v+C,e[1]=v,e[5]=a*g,e[9]=-c*g,e[2]=-h*g,e[6]=C*v+D,e[10]=b-A*v}else if("XZY"===t.order){const b=a*d,C=a*h,D=c*d,A=c*h;e[0]=d*g,e[4]=-v,e[8]=h*g,e[1]=b*v+A,e[5]=a*g,e[9]=C*v-D,e[2]=D*v-C,e[6]=c*g,e[10]=A*v+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(Y7,t,X7)}lookAt(t,e,n){const s=this.elements;return sr.subVectors(t,e),0===sr.lengthSq()&&(sr.z=1),sr.normalize(),ul.crossVectors(n,sr),0===ul.lengthSq()&&(1===Math.abs(n.z)?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),ul.crossVectors(n,sr)),ul.normalize(),N_.crossVectors(sr,ul),s[0]=ul.x,s[4]=N_.x,s[8]=sr.x,s[1]=ul.y,s[5]=N_.y,s[9]=sr.y,s[2]=ul.z,s[6]=N_.z,s[10]=sr.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,s=e.elements,r=this.elements,a=n[0],c=n[4],d=n[8],h=n[12],g=n[1],v=n[5],b=n[9],C=n[13],D=n[2],A=n[6],E=n[10],I=n[14],P=n[3],N=n[7],V=n[11],G=n[15],q=s[0],ee=s[4],se=s[8],ce=s[12],oe=s[1],j=s[5],ie=s[9],Ce=s[13],pe=s[2],_e=s[6],ae=s[10],de=s[14],re=s[3],be=s[7],Ae=s[11],Ue=s[15];return r[0]=a*q+c*oe+d*pe+h*re,r[4]=a*ee+c*j+d*_e+h*be,r[8]=a*se+c*ie+d*ae+h*Ae,r[12]=a*ce+c*Ce+d*de+h*Ue,r[1]=g*q+v*oe+b*pe+C*re,r[5]=g*ee+v*j+b*_e+C*be,r[9]=g*se+v*ie+b*ae+C*Ae,r[13]=g*ce+v*Ce+b*de+C*Ue,r[2]=D*q+A*oe+E*pe+I*re,r[6]=D*ee+A*j+E*_e+I*be,r[10]=D*se+A*ie+E*ae+I*Ae,r[14]=D*ce+A*Ce+E*de+I*Ue,r[3]=P*q+N*oe+V*pe+G*re,r[7]=P*ee+N*j+V*_e+G*be,r[11]=P*se+N*ie+V*ae+G*Ae,r[15]=P*ce+N*Ce+V*de+G*Ue,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],s=t[8],r=t[12],a=t[1],c=t[5],d=t[9],h=t[13],g=t[2],v=t[6],b=t[10],C=t[14];return t[3]*(+r*d*v-s*h*v-r*c*b+n*h*b+s*c*C-n*d*C)+t[7]*(+e*d*C-e*h*b+r*a*b-s*a*C+s*h*g-r*d*g)+t[11]*(+e*h*v-e*c*C-r*a*v+n*a*C+r*c*g-n*h*g)+t[15]*(-s*c*g-e*d*v+e*c*b+s*a*v-n*a*b+n*d*g)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],c=t[5],d=t[6],h=t[7],g=t[8],v=t[9],b=t[10],C=t[11],D=t[12],A=t[13],E=t[14],I=t[15],P=v*E*h-A*b*h+A*d*C-c*E*C-v*d*I+c*b*I,N=D*b*h-g*E*h-D*d*C+a*E*C+g*d*I-a*b*I,V=g*A*h-D*v*h+D*c*C-a*A*C-g*c*I+a*v*I,G=D*v*d-g*A*d-D*c*b+a*A*b+g*c*E-a*v*E,q=e*P+n*N+s*V+r*G;if(0===q)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ee=1/q;return t[0]=P*ee,t[1]=(A*b*r-v*E*r-A*s*C+n*E*C+v*s*I-n*b*I)*ee,t[2]=(c*E*r-A*d*r+A*s*h-n*E*h-c*s*I+n*d*I)*ee,t[3]=(v*d*r-c*b*r-v*s*h+n*b*h+c*s*C-n*d*C)*ee,t[4]=N*ee,t[5]=(g*E*r-D*b*r+D*s*C-e*E*C-g*s*I+e*b*I)*ee,t[6]=(D*d*r-a*E*r-D*s*h+e*E*h+a*s*I-e*d*I)*ee,t[7]=(a*b*r-g*d*r+g*s*h-e*b*h-a*s*C+e*d*C)*ee,t[8]=V*ee,t[9]=(D*v*r-g*A*r-D*n*C+e*A*C+g*n*I-e*v*I)*ee,t[10]=(a*A*r-D*c*r+D*n*h-e*A*h-a*n*I+e*c*I)*ee,t[11]=(g*c*r-a*v*r-g*n*h+e*v*h+a*n*C-e*c*C)*ee,t[12]=G*ee,t[13]=(g*A*s-D*v*s+D*n*b-e*A*b-g*n*E+e*v*E)*ee,t[14]=(D*c*s-a*A*s-D*n*d+e*A*d+a*n*E-e*c*E)*ee,t[15]=(a*v*s-g*c*s+g*n*d-e*v*d-a*n*b+e*c*b)*ee,this}scale(t){const e=this.elements,n=t.x,s=t.y,r=t.z;return e[0]*=n,e[4]*=s,e[8]*=r,e[1]*=n,e[5]*=s,e[9]*=r,e[2]*=n,e[6]*=s,e[10]*=r,e[3]*=n,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),s=Math.sin(e),r=1-n,a=t.x,c=t.y,d=t.z,h=r*a,g=r*c;return this.set(h*a+n,h*c-s*d,h*d+s*c,0,h*c+s*d,g*c+n,g*d-s*a,0,h*d-s*c,g*d+s*a,r*d*d+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,s,r,a){return this.set(1,n,r,0,t,1,a,0,e,s,1,0,0,0,0,1),this}compose(t,e,n){const s=this.elements,r=e._x,a=e._y,c=e._z,d=e._w,h=r+r,g=a+a,v=c+c,b=r*h,C=r*g,D=r*v,A=a*g,E=a*v,I=c*v,P=d*h,N=d*g,V=d*v,G=n.x,q=n.y,ee=n.z;return s[0]=(1-(A+I))*G,s[1]=(C+V)*G,s[2]=(D-N)*G,s[3]=0,s[4]=(C-V)*q,s[5]=(1-(b+I))*q,s[6]=(E+P)*q,s[7]=0,s[8]=(D+N)*ee,s[9]=(E-P)*ee,s[10]=(1-(b+A))*ee,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,n){const s=this.elements;let r=Cu.set(s[0],s[1],s[2]).length();const a=Cu.set(s[4],s[5],s[6]).length(),c=Cu.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],ia.copy(this);const h=1/r,g=1/a,v=1/c;return ia.elements[0]*=h,ia.elements[1]*=h,ia.elements[2]*=h,ia.elements[4]*=g,ia.elements[5]*=g,ia.elements[6]*=g,ia.elements[8]*=v,ia.elements[9]*=v,ia.elements[10]*=v,e.setFromRotationMatrix(ia),n.x=r,n.y=a,n.z=c,this}makePerspective(t,e,n,s,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const c=this.elements,h=2*r/(n-s),g=(e+t)/(e-t),v=(n+s)/(n-s),b=-(a+r)/(a-r),C=-2*a*r/(a-r);return c[0]=2*r/(e-t),c[4]=0,c[8]=g,c[12]=0,c[1]=0,c[5]=h,c[9]=v,c[13]=0,c[2]=0,c[6]=0,c[10]=b,c[14]=C,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(t,e,n,s,r,a){const c=this.elements,d=1/(e-t),h=1/(n-s),g=1/(a-r),v=(e+t)*d,b=(n+s)*h,C=(a+r)*g;return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-v,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-b,c[2]=0,c[6]=0,c[10]=-2*g,c[14]=-C,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let s=0;s<16;s++)if(e[s]!==n[s])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}Ct.prototype.isMatrix4=!0;const Cu=new $,ia=new Ct,Y7=new $(0,0,0),X7=new $(1,1,1),ul=new $,N_=new $,sr=new $,gO=new Ct,mO=new $n;class yc{constructor(t=0,e=0,n=0,s=yc.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,s=this._order){return this._x=t,this._y=e,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const s=t.elements,r=s[0],a=s[4],c=s[8],d=s[1],h=s[5],g=s[9],v=s[2],b=s[6],C=s[10];switch(e){case"XYZ":this._y=Math.asin(Cn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-g,C),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(b,h),this._z=0);break;case"YXZ":this._x=Math.asin(-Cn(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(c,C),this._z=Math.atan2(d,h)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(Cn(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,C),this._z=Math.atan2(-a,h)):(this._y=0,this._z=Math.atan2(d,r));break;case"ZYX":this._y=Math.asin(-Cn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,C),this._z=Math.atan2(d,r)):(this._x=0,this._z=Math.atan2(-a,h));break;case"YZX":this._z=Math.asin(Cn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,h),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(c,C));break;case"XZY":this._z=Math.asin(-Cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(b,h),this._y=Math.atan2(c,r)):(this._x=Math.atan2(-g,C),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return gO.makeRotationFromQuaternion(t),this.setFromRotationMatrix(gO,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return mO.setFromEuler(this),this.setFromQuaternion(mO,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}yc.prototype.isEuler=!0,yc.DefaultOrder="XYZ",yc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class yC{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let $7=0;const _O=new $,Mu=new $n,co=new Ct,B_=new $,Kf=new $,q7=new $,Z7=new $n,vO=new $(1,0,0),yO=new $(0,1,0),bO=new $(0,0,1),K7={type:"added"},xO={type:"removed"};class Li extends al{constructor(){super(),Object.defineProperty(this,"id",{value:$7++}),this.uuid=tr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Li.DefaultUp.clone();const t=new $,e=new yc,n=new $n,s=new $(1,1,1);e._onChange(function r(){n.setFromEuler(e,!1)}),n._onChange(function a(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Ct},normalMatrix:{value:new is}}),this.matrix=new Ct,this.matrixWorld=new Ct,this.matrixAutoUpdate=Li.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new yC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return Mu.setFromAxisAngle(t,e),this.quaternion.multiply(Mu),this}rotateOnWorldAxis(t,e){return Mu.setFromAxisAngle(t,e),this.quaternion.premultiply(Mu),this}rotateX(t){return this.rotateOnAxis(vO,t)}rotateY(t){return this.rotateOnAxis(yO,t)}rotateZ(t){return this.rotateOnAxis(bO,t)}translateOnAxis(t,e){return _O.copy(t).applyQuaternion(this.quaternion),this.position.add(_O.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(vO,t)}translateY(t){return this.translateOnAxis(yO,t)}translateZ(t){return this.translateOnAxis(bO,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(co.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?B_.copy(t):B_.set(t,e,n);const s=this.parent;this.updateWorldMatrix(!0,!1),Kf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?co.lookAt(Kf,B_,this.up):co.lookAt(B_,Kf,this.up),this.quaternion.setFromRotationMatrix(co),s&&(co.extractRotation(s.matrixWorld),Mu.setFromRotationMatrix(co),this.quaternion.premultiply(Mu.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(K7)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(xO)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(xO)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),co.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),co.multiply(t.parent.matrixWorld)),t.applyMatrix4(co),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,s=this.children.length;n<s;n++){const a=this.children[n].getObjectByProperty(t,e);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kf,t,q7),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Kf,Z7,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function r(c,d){return void 0===c[d.uuid]&&(c[d.uuid]=d.toJSON(t)),d.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const c=this.geometry.parameters;if(void 0!==c&&void 0!==c.shapes){const d=c.shapes;if(Array.isArray(d))for(let h=0,g=d.length;h<g;h++)r(t.shapes,d[h]);else r(t.shapes,d)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const c=[];for(let d=0,h=this.material.length;d<h;d++)c.push(r(t.materials,this.material[d]));s.material=c}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let c=0;c<this.children.length;c++)s.children.push(this.children[c].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let c=0;c<this.animations.length;c++)s.animations.push(r(t.animations,this.animations[c]))}if(e){const c=a(t.geometries),d=a(t.materials),h=a(t.textures),g=a(t.images),v=a(t.shapes),b=a(t.skeletons),C=a(t.animations),D=a(t.nodes);c.length>0&&(n.geometries=c),d.length>0&&(n.materials=d),h.length>0&&(n.textures=h),g.length>0&&(n.images=g),v.length>0&&(n.shapes=v),b.length>0&&(n.skeletons=b),C.length>0&&(n.animations=C),D.length>0&&(n.nodes=D)}return n.object=s,n;function a(c){const d=[];for(const h in c){const g=c[h];delete g.metadata,d.push(g)}return d}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}Li.DefaultUp=new $(0,1,0),Li.DefaultMatrixAutoUpdate=!0,Li.prototype.isObject3D=!0;const na=new $,uo=new $,bC=new $,ho=new $,Su=new $,Du=new $,wO=new $,xC=new $,wC=new $,CC=new $;class Ln{constructor(t=new $,e=new $,n=new $){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,s){s.subVectors(n,e),na.subVectors(t,e),s.cross(na);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,n,s,r){na.subVectors(s,e),uo.subVectors(n,e),bC.subVectors(t,e);const a=na.dot(na),c=na.dot(uo),d=na.dot(bC),h=uo.dot(uo),g=uo.dot(bC),v=a*h-c*c;if(0===v)return r.set(-2,-1,-1);const b=1/v,C=(h*d-c*g)*b,D=(a*g-c*d)*b;return r.set(1-C-D,D,C)}static containsPoint(t,e,n,s){return this.getBarycoord(t,e,n,s,ho),ho.x>=0&&ho.y>=0&&ho.x+ho.y<=1}static getUV(t,e,n,s,r,a,c,d){return this.getBarycoord(t,e,n,s,ho),d.set(0,0),d.addScaledVector(r,ho.x),d.addScaledVector(a,ho.y),d.addScaledVector(c,ho.z),d}static isFrontFacing(t,e,n,s){return na.subVectors(n,e),uo.subVectors(t,e),na.cross(uo).dot(s)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,s){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,n,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return na.subVectors(this.c,this.b),uo.subVectors(this.a,this.b),.5*na.cross(uo).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Ln.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Ln.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,s,r){return Ln.getUV(t,this.a,this.b,this.c,e,n,s,r)}containsPoint(t){return Ln.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Ln.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,s=this.b,r=this.c;let a,c;Su.subVectors(s,n),Du.subVectors(r,n),xC.subVectors(t,n);const d=Su.dot(xC),h=Du.dot(xC);if(d<=0&&h<=0)return e.copy(n);wC.subVectors(t,s);const g=Su.dot(wC),v=Du.dot(wC);if(g>=0&&v<=g)return e.copy(s);const b=d*v-g*h;if(b<=0&&d>=0&&g<=0)return a=d/(d-g),e.copy(n).addScaledVector(Su,a);CC.subVectors(t,r);const C=Su.dot(CC),D=Du.dot(CC);if(D>=0&&C<=D)return e.copy(r);const A=C*h-d*D;if(A<=0&&h>=0&&D<=0)return c=h/(h-D),e.copy(n).addScaledVector(Du,c);const E=g*D-C*v;if(E<=0&&v-g>=0&&C-D>=0)return wO.subVectors(r,s),c=(v-g)/(v-g+(C-D)),e.copy(s).addScaledVector(wO,c);const I=1/(E+A+b);return a=A*I,c=b*I,e.copy(n).addScaledVector(Su,a).addScaledVector(Du,c)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Q7=0;class ln extends al{constructor(){super(),Object.defineProperty(this,"id",{value:Q7++}),this.uuid=tr(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(r){const a=[];for(const c in r){const d=r[c];delete d.metadata,a.push(d)}return a}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const r=s(t.textures),a=s(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const s=e.length;n=new Array(s);for(let r=0;r!==s;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}ln.prototype.isMaterial=!0,ln.fromType=function(){return null};class rr extends ln{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}rr.prototype.isMeshBasicMaterial=!0;const On=new $,V_=new Te;class Ui{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=jf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[n+s];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),a=new Qe),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),a=new Te),e[n++]=a.x,e[n++]=a.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),a=new $),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),a=new Vi),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)V_.fromBufferAttribute(this,e),V_.applyMatrix3(t),this.setXY(e,V_.x,V_.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)On.fromBufferAttribute(this,e),On.applyMatrix3(t),this.setXYZ(e,On.x,On.y,On.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)On.fromBufferAttribute(this,e),On.applyMatrix4(t),this.setXYZ(e,On.x,On.y,On.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)On.fromBufferAttribute(this,e),On.applyNormalMatrix(t),this.setXYZ(e,On.x,On.y,On.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)On.fromBufferAttribute(this,e),On.transformDirection(t),this.setXYZ(e,On.x,On.y,On.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this}setXYZ(t,e,n,s){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=s,this}setXYZW(t,e,n,s,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==jf&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}Ui.prototype.isBufferAttribute=!0;class CO extends Ui{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class MO extends Ui{constructor(t,e,n){super(new Uint32Array(t),e,n)}}(class J7 extends Ui{constructor(t,e,n){super(new Uint16Array(t),e,n)}}).prototype.isFloat16BufferAttribute=!0;class St extends Ui{constructor(t,e,n){super(new Float32Array(t),e,n)}}let eZ=0;const Sr=new Ct,MC=new Li,Au=new $,ar=new nr,Qf=new nr,ns=new $;class Xt extends al{constructor(){super(),Object.defineProperty(this,"id",{value:eZ++}),this.uuid=tr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(uO(t)?MO:CO)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const r=(new is).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return Sr.makeRotationFromQuaternion(t),this.applyMatrix4(Sr),this}rotateX(t){return Sr.makeRotationX(t),this.applyMatrix4(Sr),this}rotateY(t){return Sr.makeRotationY(t),this.applyMatrix4(Sr),this}rotateZ(t){return Sr.makeRotationZ(t),this.applyMatrix4(Sr),this}translate(t,e,n){return Sr.makeTranslation(t,e,n),this.applyMatrix4(Sr),this}scale(t,e,n){return Sr.makeScale(t,e,n),this.applyMatrix4(Sr),this}lookAt(t){return MC.lookAt(t),MC.updateMatrix(),this.applyMatrix4(MC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Au).negate(),this.translate(Au.x,Au.y,Au.z),this}setFromPoints(t){const e=[];for(let n=0,s=t.length;n<s;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new St(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new nr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,s=e.length;n<s;n++)ar.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(ns.addVectors(this.boundingBox.min,ar.min),this.boundingBox.expandByPoint(ns),ns.addVectors(this.boundingBox.max,ar.max),this.boundingBox.expandByPoint(ns)):(this.boundingBox.expandByPoint(ar.min),this.boundingBox.expandByPoint(ar.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new cl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new $,1/0);if(t){const n=this.boundingSphere.center;if(ar.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++)Qf.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(ns.addVectors(ar.min,Qf.min),ar.expandByPoint(ns),ns.addVectors(ar.max,Qf.max),ar.expandByPoint(ns)):(ar.expandByPoint(Qf.min),ar.expandByPoint(Qf.max));ar.getCenter(n);let s=0;for(let r=0,a=t.count;r<a;r++)ns.fromBufferAttribute(t,r),s=Math.max(s,n.distanceToSquared(ns));if(e)for(let r=0,a=e.length;r<a;r++){const c=e[r],d=this.morphTargetsRelative;for(let h=0,g=c.count;h<g;h++)ns.fromBufferAttribute(c,h),d&&(Au.fromBufferAttribute(t,h),ns.add(Au)),s=Math.max(s,n.distanceToSquared(ns))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,s=e.position.array,r=e.normal.array,a=e.uv.array,c=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Ui(new Float32Array(4*c),4));const d=this.getAttribute("tangent").array,h=[],g=[];for(let oe=0;oe<c;oe++)h[oe]=new $,g[oe]=new $;const v=new $,b=new $,C=new $,D=new Te,A=new Te,E=new Te,I=new $,P=new $;function N(oe,j,ie){v.fromArray(s,3*oe),b.fromArray(s,3*j),C.fromArray(s,3*ie),D.fromArray(a,2*oe),A.fromArray(a,2*j),E.fromArray(a,2*ie),b.sub(v),C.sub(v),A.sub(D),E.sub(D);const Ce=1/(A.x*E.y-E.x*A.y);!isFinite(Ce)||(I.copy(b).multiplyScalar(E.y).addScaledVector(C,-A.y).multiplyScalar(Ce),P.copy(C).multiplyScalar(A.x).addScaledVector(b,-E.x).multiplyScalar(Ce),h[oe].add(I),h[j].add(I),h[ie].add(I),g[oe].add(P),g[j].add(P),g[ie].add(P))}let V=this.groups;0===V.length&&(V=[{start:0,count:n.length}]);for(let oe=0,j=V.length;oe<j;++oe){const ie=V[oe],Ce=ie.start;for(let _e=Ce,ae=Ce+ie.count;_e<ae;_e+=3)N(n[_e+0],n[_e+1],n[_e+2])}const G=new $,q=new $,ee=new $,se=new $;function ce(oe){ee.fromArray(r,3*oe),se.copy(ee);const j=h[oe];G.copy(j),G.sub(ee.multiplyScalar(ee.dot(j))).normalize(),q.crossVectors(se,j);const Ce=q.dot(g[oe])<0?-1:1;d[4*oe]=G.x,d[4*oe+1]=G.y,d[4*oe+2]=G.z,d[4*oe+3]=Ce}for(let oe=0,j=V.length;oe<j;++oe){const ie=V[oe],Ce=ie.start;for(let _e=Ce,ae=Ce+ie.count;_e<ae;_e+=3)ce(n[_e+0]),ce(n[_e+1]),ce(n[_e+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new Ui(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let b=0,C=n.count;b<C;b++)n.setXYZ(b,0,0,0);const s=new $,r=new $,a=new $,c=new $,d=new $,h=new $,g=new $,v=new $;if(t)for(let b=0,C=t.count;b<C;b+=3){const D=t.getX(b+0),A=t.getX(b+1),E=t.getX(b+2);s.fromBufferAttribute(e,D),r.fromBufferAttribute(e,A),a.fromBufferAttribute(e,E),g.subVectors(a,r),v.subVectors(s,r),g.cross(v),c.fromBufferAttribute(n,D),d.fromBufferAttribute(n,A),h.fromBufferAttribute(n,E),c.add(g),d.add(g),h.add(g),n.setXYZ(D,c.x,c.y,c.z),n.setXYZ(A,d.x,d.y,d.z),n.setXYZ(E,h.x,h.y,h.z)}else for(let b=0,C=e.count;b<C;b+=3)s.fromBufferAttribute(e,b+0),r.fromBufferAttribute(e,b+1),a.fromBufferAttribute(e,b+2),g.subVectors(a,r),v.subVectors(s,r),g.cross(v),n.setXYZ(b+0,g.x,g.y,g.z),n.setXYZ(b+1,g.x,g.y,g.z),n.setXYZ(b+2,g.x,g.y,g.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const s in n){if(void 0===t.attributes[s])continue;const a=n[s].array,c=t.attributes[s],d=c.array,h=c.itemSize*e,g=Math.min(d.length,a.length-h);for(let v=0,b=h;v<g;v++,b++)a[b]=d[v]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)ns.fromBufferAttribute(t,e),ns.normalize(),t.setXYZ(e,ns.x,ns.y,ns.z)}toNonIndexed(){function t(c,d){const h=c.array,g=c.itemSize,v=c.normalized,b=new h.constructor(d.length*g);let C=0,D=0;for(let A=0,E=d.length;A<E;A++){C=c.isInterleavedBufferAttribute?d[A]*c.data.stride+c.offset:d[A]*g;for(let I=0;I<g;I++)b[D++]=h[C++]}return new Ui(b,g,v)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Xt,n=this.index.array,s=this.attributes;for(const c in s){const h=t(s[c],n);e.setAttribute(c,h)}const r=this.morphAttributes;for(const c in r){const d=[],h=r[c];for(let g=0,v=h.length;g<v;g++){const C=t(h[g],n);d.push(C)}e.morphAttributes[c]=d}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let c=0,d=a.length;c<d;c++){const h=a[c];e.addGroup(h.start,h.count,h.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const d=this.parameters;for(const h in d)void 0!==d[h]&&(t[h]=d[h]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const d in n)t.data.attributes[d]=n[d].toJSON(t.data);const s={};let r=!1;for(const d in this.morphAttributes){const h=this.morphAttributes[d],g=[];for(let v=0,b=h.length;v<b;v++)g.push(h[v].toJSON(t.data));g.length>0&&(s[d]=g,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const s=t.attributes;for(const h in s)this.setAttribute(h,s[h].clone(e));const r=t.morphAttributes;for(const h in r){const g=[],v=r[h];for(let b=0,C=v.length;b<C;b++)g.push(v[b].clone(e));this.morphAttributes[h]=g}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let h=0,g=a.length;h<g;h++){const v=a[h];this.addGroup(v.start,v.count,v.materialIndex)}const c=t.boundingBox;null!==c&&(this.boundingBox=c.clone());const d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}Xt.prototype.isBufferGeometry=!0;const SO=new Ct,Eu=new vc,SC=new cl,hl=new $,fl=new $,pl=new $,DC=new $,AC=new $,EC=new $,H_=new $,z_=new $,G_=new $,U_=new Te,W_=new Te,j_=new Te,TC=new $,Y_=new $;class qn extends Li{constructor(t=new Xt,e=new rr){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,s=this.material,r=this.matrixWorld;if(void 0===s||(null===n.boundingSphere&&n.computeBoundingSphere(),SC.copy(n.boundingSphere),SC.applyMatrix4(r),!1===t.ray.intersectsSphere(SC))||(SO.copy(r).invert(),Eu.copy(t.ray).applyMatrix4(SO),null!==n.boundingBox&&!1===Eu.intersectsBox(n.boundingBox)))return;let a;if(n.isBufferGeometry){const c=n.index,d=n.attributes.position,h=n.morphAttributes.position,g=n.morphTargetsRelative,v=n.attributes.uv,b=n.attributes.uv2,C=n.groups,D=n.drawRange;if(null!==c)if(Array.isArray(s))for(let A=0,E=C.length;A<E;A++){const I=C[A],P=s[I.materialIndex];for(let G=Math.max(I.start,D.start),q=Math.min(c.count,Math.min(I.start+I.count,D.start+D.count));G<q;G+=3){const ee=c.getX(G),se=c.getX(G+1),ce=c.getX(G+2);a=X_(this,P,t,Eu,d,h,g,v,b,ee,se,ce),a&&(a.faceIndex=Math.floor(G/3),a.face.materialIndex=I.materialIndex,e.push(a))}}else for(let I=Math.max(0,D.start),P=Math.min(c.count,D.start+D.count);I<P;I+=3){const N=c.getX(I),V=c.getX(I+1),G=c.getX(I+2);a=X_(this,s,t,Eu,d,h,g,v,b,N,V,G),a&&(a.faceIndex=Math.floor(I/3),e.push(a))}else if(void 0!==d)if(Array.isArray(s))for(let A=0,E=C.length;A<E;A++){const I=C[A],P=s[I.materialIndex];for(let G=Math.max(I.start,D.start),q=Math.min(d.count,Math.min(I.start+I.count,D.start+D.count));G<q;G+=3)a=X_(this,P,t,Eu,d,h,g,v,b,G,G+1,G+2),a&&(a.faceIndex=Math.floor(G/3),a.face.materialIndex=I.materialIndex,e.push(a))}else for(let I=Math.max(0,D.start),P=Math.min(d.count,D.start+D.count);I<P;I+=3)a=X_(this,s,t,Eu,d,h,g,v,b,I,I+1,I+2),a&&(a.faceIndex=Math.floor(I/3),e.push(a))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function X_(i,t,e,n,s,r,a,c,d,h,g,v){hl.fromBufferAttribute(s,h),fl.fromBufferAttribute(s,g),pl.fromBufferAttribute(s,v);const b=i.morphTargetInfluences;if(r&&b){H_.set(0,0,0),z_.set(0,0,0),G_.set(0,0,0);for(let D=0,A=r.length;D<A;D++){const E=b[D],I=r[D];0!==E&&(DC.fromBufferAttribute(I,h),AC.fromBufferAttribute(I,g),EC.fromBufferAttribute(I,v),a?(H_.addScaledVector(DC,E),z_.addScaledVector(AC,E),G_.addScaledVector(EC,E)):(H_.addScaledVector(DC.sub(hl),E),z_.addScaledVector(AC.sub(fl),E),G_.addScaledVector(EC.sub(pl),E)))}hl.add(H_),fl.add(z_),pl.add(G_)}i.isSkinnedMesh&&(i.boneTransform(h,hl),i.boneTransform(g,fl),i.boneTransform(v,pl));const C=function tZ(i,t,e,n,s,r,a,c){let d;if(d=1===t.side?n.intersectTriangle(a,r,s,!0,c):n.intersectTriangle(s,r,a,2!==t.side,c),null===d)return null;Y_.copy(c),Y_.applyMatrix4(i.matrixWorld);const h=e.ray.origin.distanceTo(Y_);return h<e.near||h>e.far?null:{distance:h,point:Y_.clone(),object:i}}(i,t,e,n,hl,fl,pl,TC);if(C){c&&(U_.fromBufferAttribute(c,h),W_.fromBufferAttribute(c,g),j_.fromBufferAttribute(c,v),C.uv=Ln.getUV(TC,hl,fl,pl,U_,W_,j_,new Te)),d&&(U_.fromBufferAttribute(d,h),W_.fromBufferAttribute(d,g),j_.fromBufferAttribute(d,v),C.uv2=Ln.getUV(TC,hl,fl,pl,U_,W_,j_,new Te));const D={a:h,b:g,c:v,normal:new $,materialIndex:0};Ln.getNormal(hl,fl,pl,D.normal),C.face=D}return C}qn.prototype.isMesh=!0;class bc extends Xt{constructor(t=1,e=1,n=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:s,heightSegments:r,depthSegments:a};const c=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const d=[],h=[],g=[],v=[];let b=0,C=0;function D(A,E,I,P,N,V,G,q,ee,se,ce){const oe=V/ee,j=G/se,ie=V/2,Ce=G/2,pe=q/2,_e=ee+1,ae=se+1;let de=0,re=0;const be=new $;for(let Ae=0;Ae<ae;Ae++){const Ue=Ae*j-Ce;for(let Oe=0;Oe<_e;Oe++)be[A]=(Oe*oe-ie)*P,be[E]=Ue*N,be[I]=pe,h.push(be.x,be.y,be.z),be[A]=0,be[E]=0,be[I]=q>0?1:-1,g.push(be.x,be.y,be.z),v.push(Oe/ee),v.push(1-Ae/se),de+=1}for(let Ae=0;Ae<se;Ae++)for(let Ue=0;Ue<ee;Ue++){const xt=b+Ue+_e*(Ae+1),bt=b+(Ue+1)+_e*(Ae+1),Ht=b+(Ue+1)+_e*Ae;d.push(b+Ue+_e*Ae,xt,Ht),d.push(xt,bt,Ht),re+=6}c.addGroup(C,re,ce),C+=re,b+=de}D("z","y","x",-1,-1,n,e,t,a,r,0),D("z","y","x",1,-1,n,e,-t,a,r,1),D("x","z","y",1,1,t,n,e,s,a,2),D("x","z","y",1,-1,t,n,-e,s,a,3),D("x","y","z",1,-1,t,e,n,s,r,4),D("x","y","z",-1,-1,t,e,-n,s,r,5),this.setIndex(d),this.setAttribute("position",new St(h,3)),this.setAttribute("normal",new St(g,3)),this.setAttribute("uv",new St(v,2))}static fromJSON(t){return new bc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Tu(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const s=i[e][n];t[e][n]=s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.clone():Array.isArray(s)?s.slice():s}}return t}function ys(i){const t={};for(let e=0;e<i.length;e++){const n=Tu(i[e]);for(const s in n)t[s]=n[s]}return t}const iZ={clone:Tu,merge:ys};class sa extends ln{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Tu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;e.uniforms[s]=a&&a.isTexture?{type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const s in this.extensions)!0===this.extensions[s]&&(n[s]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}sa.prototype.isShaderMaterial=!0;class $_ extends Li{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new Ct,this.projectionMatrix=new Ct,this.projectionMatrixInverse=new Ct}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}$_.prototype.isCamera=!0;class Zn extends $_{constructor(t=50,e=1,n=.1,s=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Xf*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*hc*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Xf*Math.atan(Math.tan(.5*hc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,s,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*hc*this.fov)/this.zoom,n=2*e,s=this.aspect*n,r=-.5*s;const a=this.view;if(null!==this.view&&this.view.enabled){const d=a.fullWidth,h=a.fullHeight;r+=a.offsetX*s/d,e-=a.offsetY*n/h,s*=a.width/d,n*=a.height/h}const c=this.filmOffset;0!==c&&(r+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}Zn.prototype.isPerspectiveCamera=!0;class kC extends Li{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const s=new Zn(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new $(1,0,0)),this.add(s);const r=new Zn(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new $(-1,0,0)),this.add(r);const a=new Zn(90,1,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new $(0,1,0)),this.add(a);const c=new Zn(90,1,t,e);c.layers=this.layers,c.up.set(0,0,-1),c.lookAt(new $(0,-1,0)),this.add(c);const d=new Zn(90,1,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new $(0,0,1)),this.add(d);const h=new Zn(90,1,t,e);h.layers=this.layers,h.up.set(0,-1,0),h.lookAt(new $(0,0,-1)),this.add(h)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[s,r,a,c,d,h]=this.children,g=t.getRenderTarget(),v=t.outputEncoding,b=t.toneMapping,C=t.xr.enabled;t.outputEncoding=Jr,t.toneMapping=0,t.xr.enabled=!1;const D=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,s),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,a),t.setRenderTarget(n,3),t.render(e,c),t.setRenderTarget(n,4),t.render(e,d),n.texture.generateMipmaps=D,t.setRenderTarget(n,5),t.render(e,h),t.setRenderTarget(g),t.outputEncoding=v,t.toneMapping=b,t.xr.enabled=C,n.texture.needsPMREMUpdate=!0}}class Jf extends vs{constructor(t,e,n,s,r,a,c,d,h,g){super(t=void 0!==t?t:[],e=void 0!==e?e:301,n,s,r,a,c,d,h,g),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Jf.prototype.isCubeTexture=!0;class DO extends ir{constructor(t,e={}){super(t,t,e);const n={width:t,height:t,depth:1};this.texture=new Jf([n,n,n,n,n,n],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Xi}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new bc(5,5,5),r=new sa({name:"CubemapFromEquirect",uniforms:Tu(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const a=new qn(s,r),c=e.minFilter;return e.minFilter===rl&&(e.minFilter=Xi),new kC(1,10,this).update(t,a),e.minFilter=c,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,n,s){const r=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,s);t.setRenderTarget(r)}}DO.prototype.isWebGLCubeRenderTarget=!0;const RC=new $,rZ=new $,aZ=new is;class fo{constructor(t=new $(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,s){return this.normal.set(t,e,n),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const s=RC.subVectors(n,e).cross(rZ.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(RC),s=this.normal.dot(n);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||aZ.getNormalMatrix(t),s=this.coplanarPoint(RC).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}fo.prototype.isPlane=!0;const Iu=new cl,q_=new $;class Z_{constructor(t=new fo,e=new fo,n=new fo,s=new fo,r=new fo,a=new fo){this.planes=[t,e,n,s,r,a]}set(t,e,n,s,r,a){const c=this.planes;return c[0].copy(t),c[1].copy(e),c[2].copy(n),c[3].copy(s),c[4].copy(r),c[5].copy(a),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,s=n[0],r=n[1],a=n[2],c=n[3],d=n[4],h=n[5],g=n[6],v=n[7],b=n[8],C=n[9],D=n[10],A=n[11],E=n[12],I=n[13],P=n[14],N=n[15];return e[0].setComponents(c-s,v-d,A-b,N-E).normalize(),e[1].setComponents(c+s,v+d,A+b,N+E).normalize(),e[2].setComponents(c+r,v+h,A+C,N+I).normalize(),e[3].setComponents(c-r,v-h,A-C,N-I).normalize(),e[4].setComponents(c-a,v-g,A-D,N-P).normalize(),e[5].setComponents(c+a,v+g,A+D,N+P).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Iu.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Iu)}intersectsSprite(t){return Iu.center.set(0,0,0),Iu.radius=.7071067811865476,Iu.applyMatrix4(t.matrixWorld),this.intersectsSphere(Iu)}intersectsSphere(t){const e=this.planes,n=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(n)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const s=e[n];if(q_.x=s.normal.x>0?t.max.x:t.min.x,q_.y=s.normal.y>0?t.max.y:t.min.y,q_.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(q_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function AO(){let i=null,t=!1,e=null,n=null;function s(r,a){e(r,a),n=i.requestAnimationFrame(s)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(s),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){i=r}}}function oZ(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function a(h){return h.isInterleavedBufferAttribute&&(h=h.data),n.get(h)},remove:function c(h){h.isInterleavedBufferAttribute&&(h=h.data);const g=n.get(h);g&&(i.deleteBuffer(g.buffer),n.delete(h))},update:function d(h,g){if(h.isGLBufferAttribute){const b=n.get(h);return void((!b||b.version<h.version)&&n.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version}))}h.isInterleavedBufferAttribute&&(h=h.data);const v=n.get(h);void 0===v?n.set(h,function s(h,g){const v=h.array,b=h.usage,C=i.createBuffer();let D;if(i.bindBuffer(g,C),i.bufferData(g,v,b),h.onUploadCallback(),v instanceof Float32Array)D=5126;else if(v instanceof Uint16Array)if(h.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");D=5131}else D=5123;else if(v instanceof Int16Array)D=5122;else if(v instanceof Uint32Array)D=5125;else if(v instanceof Int32Array)D=5124;else if(v instanceof Int8Array)D=5120;else if(v instanceof Uint8Array)D=5121;else{if(!(v instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);D=5121}return{buffer:C,type:D,bytesPerElement:v.BYTES_PER_ELEMENT,version:h.version}}(h,g)):v.version<h.version&&(function r(h,g,v){const b=g.array,C=g.updateRange;i.bindBuffer(v,h),-1===C.count?i.bufferSubData(v,0,b):(e?i.bufferSubData(v,C.offset*b.BYTES_PER_ELEMENT,b,C.offset,C.count):i.bufferSubData(v,C.offset*b.BYTES_PER_ELEMENT,b.subarray(C.offset,C.offset+C.count)),C.count=-1)}(v.buffer,h,g),v.version=h.version)}}}class ep extends Xt{constructor(t=1,e=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:s};const r=t/2,a=e/2,c=Math.floor(n),d=Math.floor(s),h=c+1,g=d+1,v=t/c,b=e/d,C=[],D=[],A=[],E=[];for(let I=0;I<g;I++){const P=I*b-a;for(let N=0;N<h;N++)D.push(N*v-r,-P,0),A.push(0,0,1),E.push(N/c),E.push(1-I/d)}for(let I=0;I<d;I++)for(let P=0;P<c;P++){const V=P+h*(I+1),G=P+1+h*(I+1),q=P+1+h*I;C.push(P+h*I,V,q),C.push(V,G,q)}this.setIndex(C),this.setAttribute("position",new St(D,3)),this.setAttribute("normal",new St(A,3)),this.setAttribute("uv",new St(E,2))}static fromJSON(t){return new ep(t.width,t.height,t.widthSegments,t.heightSegments)}}const wi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},ot={common:{diffuse:{value:new Qe(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new is},uv2Transform:{value:new is},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Qe(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Qe(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new is}},sprite:{diffuse:{value:new Qe(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new is}}},Aa={basic:{uniforms:ys([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.fog]),vertexShader:wi.meshbasic_vert,fragmentShader:wi.meshbasic_frag},lambert:{uniforms:ys([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.fog,ot.lights,{emissive:{value:new Qe(0)}}]),vertexShader:wi.meshlambert_vert,fragmentShader:wi.meshlambert_frag},phong:{uniforms:ys([ot.common,ot.specularmap,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,ot.lights,{emissive:{value:new Qe(0)},specular:{value:new Qe(1118481)},shininess:{value:30}}]),vertexShader:wi.meshphong_vert,fragmentShader:wi.meshphong_frag},standard:{uniforms:ys([ot.common,ot.envmap,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.roughnessmap,ot.metalnessmap,ot.fog,ot.lights,{emissive:{value:new Qe(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag},toon:{uniforms:ys([ot.common,ot.aomap,ot.lightmap,ot.emissivemap,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.gradientmap,ot.fog,ot.lights,{emissive:{value:new Qe(0)}}]),vertexShader:wi.meshtoon_vert,fragmentShader:wi.meshtoon_frag},matcap:{uniforms:ys([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,ot.fog,{matcap:{value:null}}]),vertexShader:wi.meshmatcap_vert,fragmentShader:wi.meshmatcap_frag},points:{uniforms:ys([ot.points,ot.fog]),vertexShader:wi.points_vert,fragmentShader:wi.points_frag},dashed:{uniforms:ys([ot.common,ot.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wi.linedashed_vert,fragmentShader:wi.linedashed_frag},depth:{uniforms:ys([ot.common,ot.displacementmap]),vertexShader:wi.depth_vert,fragmentShader:wi.depth_frag},normal:{uniforms:ys([ot.common,ot.bumpmap,ot.normalmap,ot.displacementmap,{opacity:{value:1}}]),vertexShader:wi.meshnormal_vert,fragmentShader:wi.meshnormal_frag},sprite:{uniforms:ys([ot.sprite,ot.fog]),vertexShader:wi.sprite_vert,fragmentShader:wi.sprite_frag},background:{uniforms:{uvTransform:{value:new is},t2D:{value:null}},vertexShader:wi.background_vert,fragmentShader:wi.background_frag},cube:{uniforms:ys([ot.envmap,{opacity:{value:1}}]),vertexShader:wi.cube_vert,fragmentShader:wi.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wi.equirect_vert,fragmentShader:wi.equirect_frag},distanceRGBA:{uniforms:ys([ot.common,ot.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wi.distanceRGBA_vert,fragmentShader:wi.distanceRGBA_frag},shadow:{uniforms:ys([ot.lights,ot.fog,{color:{value:new Qe(0)},opacity:{value:1}}]),vertexShader:wi.shadow_vert,fragmentShader:wi.shadow_frag}};function nQ(i,t,e,n,s,r){const a=new Qe(0);let d,h,c=!0===s?0:1,g=null,v=0,b=null;function D(A,E){e.buffers.color.setClear(A.r,A.g,A.b,E,r)}return{getClearColor:function(){return a},setClearColor:function(A,E=1){a.set(A),c=E,D(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(A){c=A,D(a,c)},render:function C(A,E){let I=!1,P=!0===E.isScene?E.background:null;P&&P.isTexture&&(P=t.get(P));const N=i.xr,V=N.getSession&&N.getSession();V&&"additive"===V.environmentBlendMode&&(P=null),null===P?D(a,c):P&&P.isColor&&(D(P,1),I=!0),(i.autoClear||I)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),P&&(P.isCubeTexture||306===P.mapping)?(void 0===h&&(h=new qn(new bc(1,1,1),new sa({name:"BackgroundCubeMaterial",uniforms:Tu(Aa.cube.uniforms),vertexShader:Aa.cube.vertexShader,fragmentShader:Aa.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(G,q,ee){this.matrixWorld.copyPosition(ee.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(h)),h.material.uniforms.envMap.value=P,h.material.uniforms.flipEnvMap.value=P.isCubeTexture&&!1===P.isRenderTargetTexture?-1:1,(g!==P||v!==P.version||b!==i.toneMapping)&&(h.material.needsUpdate=!0,g=P,v=P.version,b=i.toneMapping),A.unshift(h,h.geometry,h.material,0,0,null)):P&&P.isTexture&&(void 0===d&&(d=new qn(new ep(2,2),new sa({name:"BackgroundMaterial",uniforms:Tu(Aa.background.uniforms),vertexShader:Aa.background.vertexShader,fragmentShader:Aa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(d)),d.material.uniforms.t2D.value=P,!0===P.matrixAutoUpdate&&P.updateMatrix(),d.material.uniforms.uvTransform.value.copy(P.matrix),(g!==P||v!==P.version||b!==i.toneMapping)&&(d.material.needsUpdate=!0,g=P,v=P.version,b=i.toneMapping),A.unshift(d,d.geometry,d.material,0,0,null))}}}function sQ(i,t,e,n){const s=i.getParameter(34921),r=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||null!==r,c={},d=E(null);let h=d,g=!1;function C(pe){return n.isWebGL2?i.bindVertexArray(pe):r.bindVertexArrayOES(pe)}function D(pe){return n.isWebGL2?i.deleteVertexArray(pe):r.deleteVertexArrayOES(pe)}function E(pe){const _e=[],ae=[],de=[];for(let re=0;re<s;re++)_e[re]=0,ae[re]=0,de[re]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:_e,enabledAttributes:ae,attributeDivisors:de,object:pe,attributes:{},index:null}}function N(){const pe=h.newAttributes;for(let _e=0,ae=pe.length;_e<ae;_e++)pe[_e]=0}function V(pe){G(pe,0)}function G(pe,_e){const de=h.enabledAttributes,re=h.attributeDivisors;h.newAttributes[pe]=1,0===de[pe]&&(i.enableVertexAttribArray(pe),de[pe]=1),re[pe]!==_e&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](pe,_e),re[pe]=_e)}function q(){const pe=h.newAttributes,_e=h.enabledAttributes;for(let ae=0,de=_e.length;ae<de;ae++)_e[ae]!==pe[ae]&&(i.disableVertexAttribArray(ae),_e[ae]=0)}function ee(pe,_e,ae,de,re,be){!0!==n.isWebGL2||5124!==ae&&5125!==ae?i.vertexAttribPointer(pe,_e,ae,de,re,be):i.vertexAttribIPointer(pe,_e,ae,re,be)}function ie(){Ce(),g=!0,h!==d&&(h=d,C(h.object))}function Ce(){d.geometry=null,d.program=null,d.wireframe=!1}return{setup:function v(pe,_e,ae,de,re){let be=!1;if(a){const Ae=function A(pe,_e,ae){const de=!0===ae.wireframe;let re=c[pe.id];void 0===re&&(re={},c[pe.id]=re);let be=re[_e.id];void 0===be&&(be={},re[_e.id]=be);let Ae=be[de];return void 0===Ae&&(Ae=E(function b(){return n.isWebGL2?i.createVertexArray():r.createVertexArrayOES()}()),be[de]=Ae),Ae}(de,ae,_e);h!==Ae&&(h=Ae,C(h.object)),be=function I(pe,_e){const ae=h.attributes,de=pe.attributes;let re=0;for(const be in de){const Ae=ae[be],Ue=de[be];if(void 0===Ae||Ae.attribute!==Ue||Ae.data!==Ue.data)return!0;re++}return h.attributesNum!==re||h.index!==_e}(de,re),be&&function P(pe,_e){const ae={},de=pe.attributes;let re=0;for(const be in de){const Ae=de[be],Ue={};Ue.attribute=Ae,Ae.data&&(Ue.data=Ae.data),ae[be]=Ue,re++}h.attributes=ae,h.attributesNum=re,h.index=_e}(de,re)}else{const Ae=!0===_e.wireframe;(h.geometry!==de.id||h.program!==ae.id||h.wireframe!==Ae)&&(h.geometry=de.id,h.program=ae.id,h.wireframe=Ae,be=!0)}!0===pe.isInstancedMesh&&(be=!0),null!==re&&e.update(re,34963),(be||g)&&(g=!1,function se(pe,_e,ae,de){if(!1===n.isWebGL2&&(pe.isInstancedMesh||de.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;N();const re=de.attributes,be=ae.getAttributes(),Ae=_e.defaultAttributeValues;for(const Ue in be){const Oe=be[Ue];if(Oe.location>=0){let xt=re[Ue];if(void 0===xt&&("instanceMatrix"===Ue&&pe.instanceMatrix&&(xt=pe.instanceMatrix),"instanceColor"===Ue&&pe.instanceColor&&(xt=pe.instanceColor)),void 0!==xt){const bt=xt.normalized,Ht=xt.itemSize,ke=e.get(xt);if(void 0===ke)continue;const $t=ke.buffer,zt=ke.type,Ot=ke.bytesPerElement;if(xt.isInterleavedBufferAttribute){const Xe=xt.data,ni=Xe.stride,Re=xt.offset;if(Xe.isInstancedInterleavedBuffer){for(let Fe=0;Fe<Oe.locationSize;Fe++)G(Oe.location+Fe,Xe.meshPerAttribute);!0!==pe.isInstancedMesh&&void 0===de._maxInstanceCount&&(de._maxInstanceCount=Xe.meshPerAttribute*Xe.count)}else for(let Fe=0;Fe<Oe.locationSize;Fe++)V(Oe.location+Fe);i.bindBuffer(34962,$t);for(let Fe=0;Fe<Oe.locationSize;Fe++)ee(Oe.location+Fe,Ht/Oe.locationSize,zt,bt,ni*Ot,(Re+Ht/Oe.locationSize*Fe)*Ot)}else{if(xt.isInstancedBufferAttribute){for(let Xe=0;Xe<Oe.locationSize;Xe++)G(Oe.location+Xe,xt.meshPerAttribute);!0!==pe.isInstancedMesh&&void 0===de._maxInstanceCount&&(de._maxInstanceCount=xt.meshPerAttribute*xt.count)}else for(let Xe=0;Xe<Oe.locationSize;Xe++)V(Oe.location+Xe);i.bindBuffer(34962,$t);for(let Xe=0;Xe<Oe.locationSize;Xe++)ee(Oe.location+Xe,Ht/Oe.locationSize,zt,bt,Ht*Ot,Ht/Oe.locationSize*Xe*Ot)}}else if(void 0!==Ae){const bt=Ae[Ue];if(void 0!==bt)switch(bt.length){case 2:i.vertexAttrib2fv(Oe.location,bt);break;case 3:i.vertexAttrib3fv(Oe.location,bt);break;case 4:i.vertexAttrib4fv(Oe.location,bt);break;default:i.vertexAttrib1fv(Oe.location,bt)}}}}q()}(pe,_e,ae,de),null!==re&&i.bindBuffer(34963,e.get(re).buffer))},reset:ie,resetDefaultState:Ce,dispose:function ce(){ie();for(const pe in c){const _e=c[pe];for(const ae in _e){const de=_e[ae];for(const re in de)D(de[re].object),delete de[re];delete _e[ae]}delete c[pe]}},releaseStatesOfGeometry:function oe(pe){if(void 0===c[pe.id])return;const _e=c[pe.id];for(const ae in _e){const de=_e[ae];for(const re in de)D(de[re].object),delete de[re];delete _e[ae]}delete c[pe.id]},releaseStatesOfProgram:function j(pe){for(const _e in c){const ae=c[_e];if(void 0===ae[pe.id])continue;const de=ae[pe.id];for(const re in de)D(de[re].object),delete de[re];delete ae[pe.id]}},initAttributes:N,enableAttribute:V,disableUnusedAttributes:q}}function rQ(i,t,e,n){const s=n.isWebGL2;let r;this.setMode=function a(h){r=h},this.render=function c(h,g){i.drawArrays(r,h,g),e.update(g,r,1)},this.renderInstances=function d(h,g,v){if(0===v)return;let b,C;if(s)b=i,C="drawArraysInstanced";else if(b=t.get("ANGLE_instanced_arrays"),C="drawArraysInstancedANGLE",null===b)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");b[C](r,h,g,v),e.update(g,r,v)}}function aQ(i,t,e){let n;function r(ee){if("highp"===ee){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ee="mediump"}return"mediump"===ee&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&i instanceof WebGL2ComputeRenderingContext;let c=void 0!==e.precision?e.precision:"highp";const d=r(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=a||t.has("WEBGL_draw_buffers"),g=!0===e.logarithmicDepthBuffer,v=i.getParameter(34930),b=i.getParameter(35660),C=i.getParameter(3379),D=i.getParameter(34076),A=i.getParameter(34921),E=i.getParameter(36347),I=i.getParameter(36348),P=i.getParameter(36349),N=b>0,V=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:h,getMaxAnisotropy:function s(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const ee=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(ee.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:r,precision:c,logarithmicDepthBuffer:g,maxTextures:v,maxVertexTextures:b,maxTextureSize:C,maxCubemapSize:D,maxAttributes:A,maxVertexUniforms:E,maxVaryings:I,maxFragmentUniforms:P,vertexTextures:N,floatFragmentTextures:V,floatVertexTextures:N&&V,maxSamples:a?i.getParameter(36183):0}}function oQ(i){const t=this;let e=null,n=0,s=!1,r=!1;const a=new fo,c=new is,d={value:null,needsUpdate:!1};function h(){d.value!==e&&(d.value=e,d.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function g(v,b,C,D){const A=null!==v?v.length:0;let E=null;if(0!==A){if(E=d.value,!0!==D||null===E){const I=C+4*A,P=b.matrixWorldInverse;c.getNormalMatrix(P),(null===E||E.length<I)&&(E=new Float32Array(I));for(let N=0,V=C;N!==A;++N,V+=4)a.copy(v[N]).applyMatrix4(P,c),a.normal.toArray(E,V),E[V+3]=a.constant}d.value=E,d.needsUpdate=!0}return t.numPlanes=A,t.numIntersection=0,E}this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b,C){const D=0!==v.length||b||0!==n||s;return s=b,e=g(v,C,0),n=v.length,D},this.beginShadows=function(){r=!0,g(null)},this.endShadows=function(){r=!1,h()},this.setState=function(v,b,C){const D=v.clippingPlanes,A=v.clipIntersection,E=v.clipShadows,I=i.get(v);if(!s||null===D||0===D.length||r&&!E)r?g(null):h();else{const P=r?0:n,N=4*P;let V=I.clippingState||null;d.value=V,V=g(D,b,N,C);for(let G=0;G!==N;++G)V[G]=e[G];I.clippingState=V,this.numIntersection=A?this.numPlanes:0,this.numPlanes+=P}}}function lQ(i){let t=new WeakMap;function e(a,c){return 303===c?a.mapping=301:304===c&&(a.mapping=302),a}function s(a){const c=a.target;c.removeEventListener("dispose",s);const d=t.get(c);void 0!==d&&(t.delete(c),d.dispose())}return{get:function n(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const c=a.mapping;if(303===c||304===c){if(t.has(a))return e(t.get(a).texture,a.mapping);{const d=a.image;if(d&&d.height>0){const h=new DO(d.height/2);return h.fromEquirectangularTexture(i,a),t.set(a,h),a.addEventListener("dispose",s),e(h.texture,a.mapping)}return null}}}return a},dispose:function r(){t=new WeakMap}}}Aa.physical={uniforms:ys([Aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Te(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Qe(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Qe(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Qe(1,1,1)},specularColorMap:{value:null}}]),vertexShader:wi.meshphysical_vert,fragmentShader:wi.meshphysical_frag};class tp extends $_{constructor(t=-1,e=1,n=1,s=-1,r=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,s,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=n-t,a=n+t,c=s+e,d=s-e;if(null!==this.view&&this.view.enabled){const h=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=h*this.view.offsetX,a=r+h*this.view.width,c-=g*this.view.offsetY,d=c-g*this.view.height}this.projectionMatrix.makeOrthographic(r,a,c,d,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}tp.prototype.isOrthographicCamera=!0;const EO=[.125,.215,.35,.446,.526,.582],IC=new tp,TO=new Qe;let PC=null;const wc=(1+Math.sqrt(5))/2,Lu=1/wc,kO=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,wc,Lu),new $(0,wc,-Lu),new $(Lu,0,wc),new $(-Lu,0,wc),new $(wc,Lu,0),new $(-wc,Lu,0)];class RO{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,s=100){PC=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,n,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=LO(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=PO(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(PC),t.scissorTest=!1,K_(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),PC=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,n={magFilter:Xi,minFilter:Xi,generateMipmaps:!1,type:Da,format:Mr,encoding:Jr,depthBuffer:!1},s=IO(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=IO(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function cQ(i){const t=[],e=[],n=[];let s=i;const r=i-4+1+EO.length;for(let a=0;a<r;a++){const c=Math.pow(2,s);e.push(c);let d=1/c;a>i-4?d=EO[a-i+4-1]:0===a&&(d=0),n.push(d);const h=1/(c-1),g=-h/2,v=1+h/2,b=[g,g,v,g,v,v,g,g,v,v,g,v],C=6,D=6,A=3,E=2,I=1,P=new Float32Array(A*D*C),N=new Float32Array(E*D*C),V=new Float32Array(I*D*C);for(let q=0;q<C;q++){const ee=q%3*2/3-1,se=q>2?0:-1;P.set([ee,se,0,ee+2/3,se,0,ee+2/3,se+1,0,ee,se,0,ee+2/3,se+1,0,ee,se+1,0],A*D*q),N.set(b,E*D*q),V.set([q,q,q,q,q,q],I*D*q)}const G=new Xt;G.setAttribute("position",new Ui(P,A)),G.setAttribute("uv",new Ui(N,E)),G.setAttribute("faceIndex",new Ui(V,I)),t.push(G),s>4&&s--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(r)),this._blurMaterial=function dQ(i,t,e){const n=new Float32Array(20),s=new $(0,1,0);return new sa({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,t,e)}return s}_compileMaterial(t){const e=new qn(this._lodPlanes[0],t);this._renderer.compile(e,IC)}_sceneToCubeUV(t,e,n,s){const c=new Zn(90,1,e,n),d=[1,-1,1,1,1,1],h=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,b=g.toneMapping;g.getClearColor(TO),g.toneMapping=0,g.autoClear=!1;const C=new rr({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),D=new qn(new bc,C);let A=!1;const E=t.background;E?E.isColor&&(C.color.copy(E),t.background=null,A=!0):(C.color.copy(TO),A=!0);for(let I=0;I<6;I++){const P=I%3;0===P?(c.up.set(0,d[I],0),c.lookAt(h[I],0,0)):1===P?(c.up.set(0,0,d[I]),c.lookAt(0,h[I],0)):(c.up.set(0,d[I],0),c.lookAt(0,0,h[I]));const N=this._cubeSize;K_(s,P*N,I>2?N:0,N,N),g.setRenderTarget(s),A&&g.render(D,c),g.render(t,c)}D.geometry.dispose(),D.material.dispose(),g.toneMapping=b,g.autoClear=v,t.background=E}_textureToCubeUV(t,e){const n=this._renderer,s=301===t.mapping||302===t.mapping;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=LO()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=PO());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new qn(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const d=this._cubeSize;K_(e,0,0,3*d,2*d),n.setRenderTarget(e),n.render(a,IC)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,r,kO[(s-1)%kO.length])}e.autoClear=n}_blur(t,e,n,s,r){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,s,"latitudinal",r),this._halfBlur(a,t,n,n,s,"longitudinal",r)}_halfBlur(t,e,n,s,r,a,c){const d=this._renderer,h=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const v=new qn(this._lodPlanes[s],h),b=h.uniforms,C=this._sizeLods[n]-1,D=isFinite(r)?Math.PI/(2*C):2*Math.PI/39,A=r/D,E=isFinite(r)?1+Math.floor(3*A):20;E>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to 20`);const I=[];let P=0;for(let ee=0;ee<20;++ee){const se=ee/A,ce=Math.exp(-se*se/2);I.push(ce),0===ee?P+=ce:ee<E&&(P+=2*ce)}for(let ee=0;ee<I.length;ee++)I[ee]=I[ee]/P;b.envMap.value=t.texture,b.samples.value=E,b.weights.value=I,b.latitudinal.value="latitudinal"===a,c&&(b.poleAxis.value=c);const{_lodMax:N}=this;b.dTheta.value=D,b.mipInt.value=N-n;const V=this._sizeLods[s];K_(e,3*V*(s>N-4?s-N+4:0),4*(this._cubeSize-V),3*V,2*V),d.setRenderTarget(e),d.render(v,IC)}}function IO(i,t,e){const n=new ir(i,t,e);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function K_(i,t,e,n,s){i.viewport.set(t,e,n,s),i.scissor.set(t,e,n,s)}function PO(){return new sa({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function LO(){return new sa({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function uQ(i){let t=new WeakMap,e=null;function r(c){const d=c.target;d.removeEventListener("dispose",r);const h=t.get(d);void 0!==h&&(t.delete(d),h.dispose())}return{get:function n(c){if(c&&c.isTexture){const d=c.mapping,h=303===d||304===d,g=301===d||302===d;if(h||g){if(c.isRenderTargetTexture&&!0===c.needsPMREMUpdate){c.needsPMREMUpdate=!1;let v=t.get(c);return null===e&&(e=new RO(i)),v=h?e.fromEquirectangular(c,v):e.fromCubemap(c,v),t.set(c,v),v.texture}if(t.has(c))return t.get(c).texture;{const v=c.image;if(h&&v&&v.height>0||g&&v&&function s(c){let d=0;for(let g=0;g<6;g++)void 0!==c[g]&&d++;return 6===d}(v)){null===e&&(e=new RO(i));const b=h?e.fromEquirectangular(c):e.fromCubemap(c);return t.set(c,b),c.addEventListener("dispose",r),b.texture}return null}}}return c},dispose:function a(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function hQ(i){const t={};function e(n){if(void 0!==t[n])return t[n];let s;switch(n){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(n)}return t[n]=s,s}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const s=e(n);return null===s&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),s}}}function fQ(i,t,e,n){const s={},r=new WeakMap;function a(v){const b=v.target;null!==b.index&&t.remove(b.index);for(const D in b.attributes)t.remove(b.attributes[D]);b.removeEventListener("dispose",a),delete s[b.id];const C=r.get(b);C&&(t.remove(C),r.delete(b)),n.releaseStatesOfGeometry(b),!0===b.isInstancedBufferGeometry&&delete b._maxInstanceCount,e.memory.geometries--}function h(v){const b=[],C=v.index,D=v.attributes.position;let A=0;if(null!==C){const P=C.array;A=C.version;for(let N=0,V=P.length;N<V;N+=3){const G=P[N+0],q=P[N+1],ee=P[N+2];b.push(G,q,q,ee,ee,G)}}else{A=D.version;for(let N=0,V=D.array.length/3-1;N<V;N+=3){const G=N+0,q=N+1,ee=N+2;b.push(G,q,q,ee,ee,G)}}const E=new(uO(b)?MO:CO)(b,1);E.version=A;const I=r.get(v);I&&t.remove(I),r.set(v,E)}return{get:function c(v,b){return!0===s[b.id]||(b.addEventListener("dispose",a),s[b.id]=!0,e.memory.geometries++),b},update:function d(v){const b=v.attributes;for(const D in b)t.update(b[D],34962);const C=v.morphAttributes;for(const D in C){const A=C[D];for(let E=0,I=A.length;E<I;E++)t.update(A[E],34962)}},getWireframeAttribute:function g(v){const b=r.get(v);if(b){const C=v.index;null!==C&&b.version<C.version&&h(v)}else h(v);return r.get(v)}}}function pQ(i,t,e,n){const s=n.isWebGL2;let r,c,d;this.setMode=function a(b){r=b},this.setIndex=function h(b){c=b.type,d=b.bytesPerElement},this.render=function g(b,C){i.drawElements(r,C,c,b*d),e.update(C,r,1)},this.renderInstances=function v(b,C,D){if(0===D)return;let A,E;if(s)A=i,E="drawElementsInstanced";else if(A=t.get("ANGLE_instanced_arrays"),E="drawElementsInstancedANGLE",null===A)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");A[E](r,C,c,b*d,D),e.update(C,r,D)}}function gQ(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function s(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(r,a,c){switch(e.calls++,a){case 4:e.triangles+=c*(r/3);break;case 1:e.lines+=c*(r/2);break;case 3:e.lines+=c*(r-1);break;case 2:e.lines+=c*r;break;case 0:e.points+=c*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function mQ(i,t){return i[0]-t[0]}function _Q(i,t){return Math.abs(t[1])-Math.abs(i[1])}function OC(i,t){let e=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?e=127:n instanceof Int16Array?e=32767:n instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(e)}function vQ(i,t,e){const n={},s=new Float32Array(8),r=new WeakMap,a=new Vi,c=[];for(let h=0;h<8;h++)c[h]=[h,0];return{update:function d(h,g,v,b){const C=h.morphTargetInfluences;if(!0===t.isWebGL2){const D=g.morphAttributes.position||g.morphAttributes.normal||g.morphAttributes.color,A=void 0!==D?D.length:0;let E=r.get(g);if(void 0===E||E.count!==A){let _e=function(){Ce.dispose(),r.delete(g),g.removeEventListener("dispose",_e)};void 0!==E&&E.texture.dispose();const N=void 0!==g.morphAttributes.position,V=void 0!==g.morphAttributes.normal,G=void 0!==g.morphAttributes.color,q=g.morphAttributes.position||[],ee=g.morphAttributes.normal||[],se=g.morphAttributes.color||[];let ce=0;!0===N&&(ce=1),!0===V&&(ce=2),!0===G&&(ce=3);let oe=g.attributes.position.count*ce,j=1;oe>t.maxTextureSize&&(j=Math.ceil(oe/t.maxTextureSize),oe=t.maxTextureSize);const ie=new Float32Array(oe*j*4*A),Ce=new R_(ie,oe,j,A);Ce.type=Qr,Ce.needsUpdate=!0;const pe=4*ce;for(let ae=0;ae<A;ae++){const de=q[ae],re=ee[ae],be=se[ae],Ae=oe*j*4*ae;for(let Ue=0;Ue<de.count;Ue++){const Oe=Ue*pe;!0===N&&(a.fromBufferAttribute(de,Ue),!0===de.normalized&&OC(a,de),ie[Ae+Oe+0]=a.x,ie[Ae+Oe+1]=a.y,ie[Ae+Oe+2]=a.z,ie[Ae+Oe+3]=0),!0===V&&(a.fromBufferAttribute(re,Ue),!0===re.normalized&&OC(a,re),ie[Ae+Oe+4]=a.x,ie[Ae+Oe+5]=a.y,ie[Ae+Oe+6]=a.z,ie[Ae+Oe+7]=0),!0===G&&(a.fromBufferAttribute(be,Ue),!0===be.normalized&&OC(a,be),ie[Ae+Oe+8]=a.x,ie[Ae+Oe+9]=a.y,ie[Ae+Oe+10]=a.z,ie[Ae+Oe+11]=4===be.itemSize?a.w:1)}}E={count:A,texture:Ce,size:new Te(oe,j)},r.set(g,E),g.addEventListener("dispose",_e)}let I=0;for(let N=0;N<C.length;N++)I+=C[N];const P=g.morphTargetsRelative?1:1-I;b.getUniforms().setValue(i,"morphTargetBaseInfluence",P),b.getUniforms().setValue(i,"morphTargetInfluences",C),b.getUniforms().setValue(i,"morphTargetsTexture",E.texture,e),b.getUniforms().setValue(i,"morphTargetsTextureSize",E.size)}else{const D=void 0===C?0:C.length;let A=n[g.id];if(void 0===A||A.length!==D){A=[];for(let V=0;V<D;V++)A[V]=[V,0];n[g.id]=A}for(let V=0;V<D;V++){const G=A[V];G[0]=V,G[1]=C[V]}A.sort(_Q);for(let V=0;V<8;V++)V<D&&A[V][1]?(c[V][0]=A[V][0],c[V][1]=A[V][1]):(c[V][0]=Number.MAX_SAFE_INTEGER,c[V][1]=0);c.sort(mQ);const E=g.morphAttributes.position,I=g.morphAttributes.normal;let P=0;for(let V=0;V<8;V++){const G=c[V],q=G[0],ee=G[1];q!==Number.MAX_SAFE_INTEGER&&ee?(E&&g.getAttribute("morphTarget"+V)!==E[q]&&g.setAttribute("morphTarget"+V,E[q]),I&&g.getAttribute("morphNormal"+V)!==I[q]&&g.setAttribute("morphNormal"+V,I[q]),s[V]=ee,P+=ee):(E&&!0===g.hasAttribute("morphTarget"+V)&&g.deleteAttribute("morphTarget"+V),I&&!0===g.hasAttribute("morphNormal"+V)&&g.deleteAttribute("morphNormal"+V),s[V]=0)}const N=g.morphTargetsRelative?1:1-P;b.getUniforms().setValue(i,"morphTargetBaseInfluence",N),b.getUniforms().setValue(i,"morphTargetInfluences",s)}}}}function yQ(i,t,e,n){let s=new WeakMap;function c(d){const h=d.target;h.removeEventListener("dispose",c),e.remove(h.instanceMatrix),null!==h.instanceColor&&e.remove(h.instanceColor)}return{update:function r(d){const h=n.render.frame,v=t.get(d,d.geometry);return s.get(v)!==h&&(t.update(v),s.set(v,h)),d.isInstancedMesh&&(!1===d.hasEventListener("dispose",c)&&d.addEventListener("dispose",c),e.update(d.instanceMatrix,34962),null!==d.instanceColor&&e.update(d.instanceColor,34962)),v},dispose:function a(){s=new WeakMap}}}const OO=new vs,FO=new R_,NO=new uC,BO=new Jf,VO=[],HO=[],zO=new Float32Array(16),GO=new Float32Array(9),UO=new Float32Array(4);function Ou(i,t,e){const n=i[0];if(n<=0||n>0)return i;const s=t*e;let r=VO[s];if(void 0===r&&(r=new Float32Array(s),VO[s]=r),0!==t){n.toArray(r,0);for(let a=1,c=0;a!==t;++a)c+=e,i[a].toArray(r,c)}return r}function Rs(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function bs(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function Q_(i,t){let e=HO[t];void 0===e&&(e=new Int32Array(t),HO[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function bQ(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function xQ(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(Rs(e,t))return;i.uniform2fv(this.addr,t),bs(e,t)}}function wQ(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(Rs(e,t))return;i.uniform3fv(this.addr,t),bs(e,t)}}function CQ(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(Rs(e,t))return;i.uniform4fv(this.addr,t),bs(e,t)}}function MQ(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Rs(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),bs(e,t)}else{if(Rs(e,n))return;UO.set(n),i.uniformMatrix2fv(this.addr,!1,UO),bs(e,n)}}function SQ(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Rs(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),bs(e,t)}else{if(Rs(e,n))return;GO.set(n),i.uniformMatrix3fv(this.addr,!1,GO),bs(e,n)}}function DQ(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(Rs(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),bs(e,t)}else{if(Rs(e,n))return;zO.set(n),i.uniformMatrix4fv(this.addr,!1,zO),bs(e,n)}}function AQ(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function EQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform2iv(this.addr,t),bs(e,t))}function TQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform3iv(this.addr,t),bs(e,t))}function kQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform4iv(this.addr,t),bs(e,t))}function RQ(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function IQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform2uiv(this.addr,t),bs(e,t))}function PQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform3uiv(this.addr,t),bs(e,t))}function LQ(i,t){const e=this.cache;Rs(e,t)||(i.uniform4uiv(this.addr,t),bs(e,t))}function OQ(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture2D(t||OO,s)}function FQ(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture3D(t||NO,s)}function NQ(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTextureCube(t||BO,s)}function BQ(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture2DArray(t||FO,s)}function HQ(i,t){i.uniform1fv(this.addr,t)}function zQ(i,t){const e=Ou(t,this.size,2);i.uniform2fv(this.addr,e)}function GQ(i,t){const e=Ou(t,this.size,3);i.uniform3fv(this.addr,e)}function UQ(i,t){const e=Ou(t,this.size,4);i.uniform4fv(this.addr,e)}function WQ(i,t){const e=Ou(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function jQ(i,t){const e=Ou(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function YQ(i,t){const e=Ou(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function XQ(i,t){i.uniform1iv(this.addr,t)}function $Q(i,t){i.uniform2iv(this.addr,t)}function qQ(i,t){i.uniform3iv(this.addr,t)}function ZQ(i,t){i.uniform4iv(this.addr,t)}function KQ(i,t){i.uniform1uiv(this.addr,t)}function QQ(i,t){i.uniform2uiv(this.addr,t)}function JQ(i,t){i.uniform3uiv(this.addr,t)}function eJ(i,t){i.uniform4uiv(this.addr,t)}function tJ(i,t,e){const n=t.length,s=Q_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture2D(t[r]||OO,s[r])}function iJ(i,t,e){const n=t.length,s=Q_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture3D(t[r]||NO,s[r])}function nJ(i,t,e){const n=t.length,s=Q_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTextureCube(t[r]||BO,s[r])}function sJ(i,t,e){const n=t.length,s=Q_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture2DArray(t[r]||FO,s[r])}function aJ(i,t,e){this.id=i,this.addr=e,this.cache=[],this.setValue=function VQ(i){switch(i){case 5126:return bQ;case 35664:return xQ;case 35665:return wQ;case 35666:return CQ;case 35674:return MQ;case 35675:return SQ;case 35676:return DQ;case 5124:case 35670:return AQ;case 35667:case 35671:return EQ;case 35668:case 35672:return TQ;case 35669:case 35673:return kQ;case 5125:return RQ;case 36294:return IQ;case 36295:return PQ;case 36296:return LQ;case 35678:case 36198:case 36298:case 36306:case 35682:return OQ;case 35679:case 36299:case 36307:return FQ;case 35680:case 36300:case 36308:case 36293:return NQ;case 36289:case 36303:case 36311:case 36292:return BQ}}(t.type)}function WO(i,t,e){this.id=i,this.addr=e,this.cache=[],this.size=t.size,this.setValue=function rJ(i){switch(i){case 5126:return HQ;case 35664:return zQ;case 35665:return GQ;case 35666:return UQ;case 35674:return WQ;case 35675:return jQ;case 35676:return YQ;case 5124:case 35670:return XQ;case 35667:case 35671:return $Q;case 35668:case 35672:return qQ;case 35669:case 35673:return ZQ;case 5125:return KQ;case 36294:return QQ;case 36295:return JQ;case 36296:return eJ;case 35678:case 36198:case 36298:case 36306:case 35682:return tJ;case 35679:case 36299:case 36307:return iJ;case 35680:case 36300:case 36308:case 36293:return nJ;case 36289:case 36303:case 36311:case 36292:return sJ}}(t.type)}function jO(i){this.id=i,this.seq=[],this.map={}}WO.prototype.updateCache=function(i){const t=this.cache;i instanceof Float32Array&&t.length!==i.length&&(this.cache=new Float32Array(i.length)),bs(t,i)},jO.prototype.setValue=function(i,t,e){const n=this.seq;for(let s=0,r=n.length;s!==r;++s){const a=n[s];a.setValue(i,t[a.id],e)}};const FC=/(\w+)(\])?(\[|\.)?/g;function YO(i,t){i.seq.push(t),i.map[t.id]=t}function oJ(i,t,e){const n=i.name,s=n.length;for(FC.lastIndex=0;;){const r=FC.exec(n),a=FC.lastIndex;let c=r[1];const h=r[3];if("]"===r[2]&&(c|=0),void 0===h||"["===h&&a+2===s){YO(e,void 0===h?new aJ(c,i,t):new WO(c,i,t));break}{let v=e.map[c];void 0===v&&(v=new jO(c),YO(e,v)),e=v}}}function gl(i,t){this.seq=[],this.map={};const e=i.getProgramParameter(t,35718);for(let n=0;n<e;++n){const s=i.getActiveUniform(t,n);oJ(s,i.getUniformLocation(t,s.name),this)}}function XO(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}gl.prototype.setValue=function(i,t,e,n){const s=this.map[t];void 0!==s&&s.setValue(i,e,n)},gl.prototype.setOptional=function(i,t,e){const n=t[e];void 0!==n&&this.setValue(i,e,n)},gl.upload=function(i,t,e,n){for(let s=0,r=t.length;s!==r;++s){const a=t[s],c=e[a.id];!1!==c.needsUpdate&&a.setValue(i,c.value,n)}},gl.seqWithValue=function(i,t){const e=[];for(let n=0,s=i.length;n!==s;++n){const r=i[n];r.id in t&&e.push(r)}return e};let lJ=0;function $O(i,t,e){const n=i.getShaderParameter(t,35713),s=i.getShaderInfoLog(t).trim();if(n&&""===s)return"";const r=parseInt(/ERROR: 0:(\d+)/.exec(s)[1]);return e.toUpperCase()+"\n\n"+s+"\n\n"+function cJ(i,t){const e=i.split("\n"),n=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let a=s;a<r;a++)n.push(a+1+": "+e[a]);return n.join("\n")}(i.getShaderSource(t),r)}function uJ(i,t){const e=function dJ(i){switch(i){case Jr:return["Linear","( value )"];case ki:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}(t);return"vec4 "+i+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function hJ(i,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function ip(i){return""!==i}function qO(i,t){return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ZO(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const mJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function NC(i){return i.replace(mJ,_J)}function _J(i,t){const e=wi[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return NC(e)}const vJ=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,yJ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function KO(i){return i.replace(yJ,QO).replace(vJ,bJ)}function bJ(i,t,e,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),QO(0,t,e,n)}function QO(i,t,e,n){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function JO(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function DJ(i,t,e,n){const s=i.getContext(),r=e.defines;let a=e.vertexShader,c=e.fragmentShader;const d=function xJ(i){let t="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),h=function wJ(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),g=function CJ(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&302===i.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),v=function MJ(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),b=function SJ(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t/32+1)+3,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),C=e.isWebGL2?"":function fJ(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ip).join("\n")}(e),D=function pJ(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(r),A=s.createProgram();let E,I,P=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(E=[D].filter(ip).join("\n"),E.length>0&&(E+="\n"),I=[C,D].filter(ip).join("\n"),I.length>0&&(I+="\n")):(E=[JO(e),"#define SHADER_NAME "+e.shaderName,D,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+g:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ip).join("\n"),I=[C,JO(e),"#define SHADER_NAME "+e.shaderName,D,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+h:"",e.envMap?"#define "+g:"",e.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+d:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?wi.tonemapping_pars_fragment:"",0!==e.toneMapping?hJ("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",wi.encodings_pars_fragment,uJ("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(ip).join("\n")),a=NC(a),a=qO(a,e),a=ZO(a,e),c=NC(c),c=qO(c,e),c=ZO(c,e),a=KO(a),c=KO(c),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(P="#version 300 es\n",E=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+E,I=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+I);const V=P+I+c,G=XO(s,35633,P+E+a),q=XO(s,35632,V);if(s.attachShader(A,G),s.attachShader(A,q),void 0!==e.index0AttributeName?s.bindAttribLocation(A,0,e.index0AttributeName):!0===e.morphTargets&&s.bindAttribLocation(A,0,"position"),s.linkProgram(A),i.debug.checkShaderErrors){const ce=s.getProgramInfoLog(A).trim(),oe=s.getShaderInfoLog(G).trim(),j=s.getShaderInfoLog(q).trim();let ie=!0,Ce=!0;if(!1===s.getProgramParameter(A,35714)){ie=!1;const pe=$O(s,G,"vertex"),_e=$O(s,q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(A,35715)+"\n\nProgram Info Log: "+ce+"\n"+pe+"\n"+_e)}else""!==ce?console.warn("THREE.WebGLProgram: Program Info Log:",ce):(""===oe||""===j)&&(Ce=!1);Ce&&(this.diagnostics={runnable:ie,programLog:ce,vertexShader:{log:oe,prefix:E},fragmentShader:{log:j,prefix:I}})}let ee,se;return s.deleteShader(G),s.deleteShader(q),this.getUniforms=function(){return void 0===ee&&(ee=new gl(s,A)),ee},this.getAttributes=function(){return void 0===se&&(se=function gJ(i,t){const e={},n=i.getProgramParameter(t,35721);for(let s=0;s<n;s++){const r=i.getActiveAttrib(t,s),a=r.name;let c=1;35674===r.type&&(c=2),35675===r.type&&(c=3),35676===r.type&&(c=4),e[a]={type:r.type,location:i.getAttribLocation(t,a),locationSize:c}}return e}(s,A)),se},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(A),this.program=void 0},this.name=e.shaderName,this.id=lJ++,this.cacheKey=t,this.usedTimes=1,this.program=A,this.vertexShader=G,this.fragmentShader=q,this}let AJ=0;class EJ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,s=this._getShaderStage(t.vertexShader),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return!1===a.has(s)&&(a.add(s),s.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const n=new TJ(t);e.set(t,n)}return e.get(t)}}class TJ{constructor(t){this.id=AJ++,this.code=t,this.usedTimes=0}}function kJ(i,t,e,n,s,r,a){const c=new yC,d=new EJ,h=[],g=s.isWebGL2,v=s.logarithmicDepthBuffer,b=s.floatVertexTextures,C=s.maxVertexUniforms,D=s.vertexTextures;let A=s.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function P(j,ie,Ce,pe,_e){const ae=pe.fog,de=_e.geometry,be=(j.isMeshStandardMaterial?e:t).get(j.envMap||(j.isMeshStandardMaterial?pe.environment:null)),Ae=be&&306===be.mapping?be.image.height:null,Ue=E[j.type],Oe=_e.isSkinnedMesh?function I(j){const Ce=j.skeleton.bones;if(b)return 1024;{const _e=Math.floor((C-20)/4),ae=Math.min(_e,Ce.length);return ae<Ce.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+Ce.length+" bones. This GPU supports "+ae+"."),0):ae}}(_e):0;null!==j.precision&&(A=s.getMaxPrecision(j.precision),A!==j.precision&&console.warn("THREE.WebGLProgram.getParameters:",j.precision,"not supported, using",A,"instead."));const xt=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,bt=void 0!==xt?xt.length:0;let ke,$t,zt,Ot,Ht=0;if(void 0!==de.morphAttributes.position&&(Ht=1),void 0!==de.morphAttributes.normal&&(Ht=2),void 0!==de.morphAttributes.color&&(Ht=3),Ue){const qe=Aa[Ue];ke=qe.vertexShader,$t=qe.fragmentShader}else ke=j.vertexShader,$t=j.fragmentShader,d.update(j),zt=d.getVertexShaderID(j),Ot=d.getFragmentShaderID(j);const Xe=i.getRenderTarget(),Re=j.clearcoat>0;return{isWebGL2:g,shaderID:Ue,shaderName:j.type,vertexShader:ke,fragmentShader:$t,defines:j.defines,customVertexShaderID:zt,customFragmentShaderID:Ot,isRawShaderMaterial:!0===j.isRawShaderMaterial,glslVersion:j.glslVersion,precision:A,instancing:!0===_e.isInstancedMesh,instancingColor:!0===_e.isInstancedMesh&&null!==_e.instanceColor,supportsVertexTextures:D,outputEncoding:null===Xe?i.outputEncoding:!0===Xe.isXRRenderTarget?Xe.texture.encoding:Jr,map:!!j.map,matcap:!!j.matcap,envMap:!!be,envMapMode:be&&be.mapping,envMapCubeUVHeight:Ae,lightMap:!!j.lightMap,aoMap:!!j.aoMap,emissiveMap:!!j.emissiveMap,bumpMap:!!j.bumpMap,normalMap:!!j.normalMap,objectSpaceNormalMap:1===j.normalMapType,tangentSpaceNormalMap:0===j.normalMapType,decodeVideoTexture:!!j.map&&!0===j.map.isVideoTexture&&j.map.encoding===ki,clearcoat:Re,clearcoatMap:Re&&!!j.clearcoatMap,clearcoatRoughnessMap:Re&&!!j.clearcoatRoughnessMap,clearcoatNormalMap:Re&&!!j.clearcoatNormalMap,displacementMap:!!j.displacementMap,roughnessMap:!!j.roughnessMap,metalnessMap:!!j.metalnessMap,specularMap:!!j.specularMap,specularIntensityMap:!!j.specularIntensityMap,specularColorMap:!!j.specularColorMap,opaque:!1===j.transparent&&1===j.blending,alphaMap:!!j.alphaMap,alphaTest:j.alphaTest>0,gradientMap:!!j.gradientMap,sheen:j.sheen>0,sheenColorMap:!!j.sheenColorMap,sheenRoughnessMap:!!j.sheenRoughnessMap,transmission:j.transmission>0,transmissionMap:!!j.transmissionMap,thicknessMap:!!j.thicknessMap,combine:j.combine,vertexTangents:!!j.normalMap&&!!de.attributes.tangent,vertexColors:j.vertexColors,vertexAlphas:!0===j.vertexColors&&!!de.attributes.color&&4===de.attributes.color.itemSize,vertexUvs:!!(j.map||j.bumpMap||j.normalMap||j.specularMap||j.alphaMap||j.emissiveMap||j.roughnessMap||j.metalnessMap||j.clearcoatMap||j.clearcoatRoughnessMap||j.clearcoatNormalMap||j.displacementMap||j.transmissionMap||j.thicknessMap||j.specularIntensityMap||j.specularColorMap||j.sheenColorMap||j.sheenRoughnessMap),uvsVertexOnly:!(j.map||j.bumpMap||j.normalMap||j.specularMap||j.alphaMap||j.emissiveMap||j.roughnessMap||j.metalnessMap||j.clearcoatNormalMap||j.transmission>0||j.transmissionMap||j.thicknessMap||j.specularIntensityMap||j.specularColorMap||j.sheen>0||j.sheenColorMap||j.sheenRoughnessMap||!j.displacementMap),fog:!!ae,useFog:j.fog,fogExp2:ae&&ae.isFogExp2,flatShading:!!j.flatShading,sizeAttenuation:j.sizeAttenuation,logarithmicDepthBuffer:v,skinning:!0===_e.isSkinnedMesh&&Oe>0,maxBones:Oe,useVertexTexture:b,morphTargets:void 0!==de.morphAttributes.position,morphNormals:void 0!==de.morphAttributes.normal,morphColors:void 0!==de.morphAttributes.color,morphTargetsCount:bt,morphTextureStride:Ht,numDirLights:ie.directional.length,numPointLights:ie.point.length,numSpotLights:ie.spot.length,numRectAreaLights:ie.rectArea.length,numHemiLights:ie.hemi.length,numDirLightShadows:ie.directionalShadowMap.length,numPointLightShadows:ie.pointShadowMap.length,numSpotLightShadows:ie.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:j.dithering,shadowMapEnabled:i.shadowMap.enabled&&Ce.length>0,shadowMapType:i.shadowMap.type,toneMapping:j.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:j.premultipliedAlpha,doubleSided:2===j.side,flipSided:1===j.side,depthPacking:void 0!==j.depthPacking&&j.depthPacking,index0AttributeName:j.index0AttributeName,extensionDerivatives:j.extensions&&j.extensions.derivatives,extensionFragDepth:j.extensions&&j.extensions.fragDepth,extensionDrawBuffers:j.extensions&&j.extensions.drawBuffers,extensionShaderTextureLOD:j.extensions&&j.extensions.shaderTextureLOD,rendererExtensionFragDepth:g||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:g||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:g||n.has("EXT_shader_texture_lod"),customProgramCacheKey:j.customProgramCacheKey()}},getProgramCacheKey:function N(j){const ie=[];if(j.shaderID?ie.push(j.shaderID):(ie.push(j.customVertexShaderID),ie.push(j.customFragmentShaderID)),void 0!==j.defines)for(const Ce in j.defines)ie.push(Ce),ie.push(j.defines[Ce]);return!1===j.isRawShaderMaterial&&(function V(j,ie){j.push(ie.precision),j.push(ie.outputEncoding),j.push(ie.envMapMode),j.push(ie.envMapCubeUVHeight),j.push(ie.combine),j.push(ie.vertexUvs),j.push(ie.fogExp2),j.push(ie.sizeAttenuation),j.push(ie.maxBones),j.push(ie.morphTargetsCount),j.push(ie.morphAttributeCount),j.push(ie.numDirLights),j.push(ie.numPointLights),j.push(ie.numSpotLights),j.push(ie.numHemiLights),j.push(ie.numRectAreaLights),j.push(ie.numDirLightShadows),j.push(ie.numPointLightShadows),j.push(ie.numSpotLightShadows),j.push(ie.shadowMapType),j.push(ie.toneMapping),j.push(ie.numClippingPlanes),j.push(ie.numClipIntersection)}(ie,j),function G(j,ie){c.disableAll(),ie.isWebGL2&&c.enable(0),ie.supportsVertexTextures&&c.enable(1),ie.instancing&&c.enable(2),ie.instancingColor&&c.enable(3),ie.map&&c.enable(4),ie.matcap&&c.enable(5),ie.envMap&&c.enable(6),ie.lightMap&&c.enable(7),ie.aoMap&&c.enable(8),ie.emissiveMap&&c.enable(9),ie.bumpMap&&c.enable(10),ie.normalMap&&c.enable(11),ie.objectSpaceNormalMap&&c.enable(12),ie.tangentSpaceNormalMap&&c.enable(13),ie.clearcoat&&c.enable(14),ie.clearcoatMap&&c.enable(15),ie.clearcoatRoughnessMap&&c.enable(16),ie.clearcoatNormalMap&&c.enable(17),ie.displacementMap&&c.enable(18),ie.specularMap&&c.enable(19),ie.roughnessMap&&c.enable(20),ie.metalnessMap&&c.enable(21),ie.gradientMap&&c.enable(22),ie.alphaMap&&c.enable(23),ie.alphaTest&&c.enable(24),ie.vertexColors&&c.enable(25),ie.vertexAlphas&&c.enable(26),ie.vertexUvs&&c.enable(27),ie.vertexTangents&&c.enable(28),ie.uvsVertexOnly&&c.enable(29),ie.fog&&c.enable(30),j.push(c.mask),c.disableAll(),ie.useFog&&c.enable(0),ie.flatShading&&c.enable(1),ie.logarithmicDepthBuffer&&c.enable(2),ie.skinning&&c.enable(3),ie.useVertexTexture&&c.enable(4),ie.morphTargets&&c.enable(5),ie.morphNormals&&c.enable(6),ie.morphColors&&c.enable(7),ie.premultipliedAlpha&&c.enable(8),ie.shadowMapEnabled&&c.enable(9),ie.physicallyCorrectLights&&c.enable(10),ie.doubleSided&&c.enable(11),ie.flipSided&&c.enable(12),ie.depthPacking&&c.enable(13),ie.dithering&&c.enable(14),ie.specularIntensityMap&&c.enable(15),ie.specularColorMap&&c.enable(16),ie.transmission&&c.enable(17),ie.transmissionMap&&c.enable(18),ie.thicknessMap&&c.enable(19),ie.sheen&&c.enable(20),ie.sheenColorMap&&c.enable(21),ie.sheenRoughnessMap&&c.enable(22),ie.decodeVideoTexture&&c.enable(23),ie.opaque&&c.enable(24),j.push(c.mask)}(ie,j),ie.push(i.outputEncoding)),ie.push(j.customProgramCacheKey),ie.join()},getUniforms:function q(j){const ie=E[j.type];let Ce;return Ce=ie?iZ.clone(Aa[ie].uniforms):j.uniforms,Ce},acquireProgram:function ee(j,ie){let Ce;for(let pe=0,_e=h.length;pe<_e;pe++){const ae=h[pe];if(ae.cacheKey===ie){Ce=ae,++Ce.usedTimes;break}}return void 0===Ce&&(Ce=new DJ(i,ie,j,r),h.push(Ce)),Ce},releaseProgram:function se(j){if(0==--j.usedTimes){const ie=h.indexOf(j);h[ie]=h[h.length-1],h.pop(),j.destroy()}},releaseShaderCache:function ce(j){d.remove(j)},programs:h,dispose:function oe(){d.dispose()}}}function RJ(){let i=new WeakMap;return{get:function t(r){let a=i.get(r);return void 0===a&&(a={},i.set(r,a)),a},remove:function e(r){i.delete(r)},update:function n(r,a,c){i.get(r)[a]=c},dispose:function s(){i=new WeakMap}}}function IJ(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function eF(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function tF(){const i=[];let t=0;const e=[],n=[],s=[];function a(v,b,C,D,A,E){let I=i[t];return void 0===I?(I={id:v.id,object:v,geometry:b,material:C,groupOrder:D,renderOrder:v.renderOrder,z:A,group:E},i[t]=I):(I.id=v.id,I.object=v,I.geometry=b,I.material=C,I.groupOrder=D,I.renderOrder=v.renderOrder,I.z=A,I.group=E),t++,I}return{opaque:e,transmissive:n,transparent:s,init:function r(){t=0,e.length=0,n.length=0,s.length=0},push:function c(v,b,C,D,A,E){const I=a(v,b,C,D,A,E);C.transmission>0?n.push(I):!0===C.transparent?s.push(I):e.push(I)},unshift:function d(v,b,C,D,A,E){const I=a(v,b,C,D,A,E);C.transmission>0?n.unshift(I):!0===C.transparent?s.unshift(I):e.unshift(I)},finish:function g(){for(let v=t,b=i.length;v<b;v++){const C=i[v];if(null===C.id)break;C.id=null,C.object=null,C.geometry=null,C.material=null,C.group=null}},sort:function h(v,b){e.length>1&&e.sort(v||IJ),n.length>1&&n.sort(b||eF),s.length>1&&s.sort(b||eF)}}}function PJ(){let i=new WeakMap;return{get:function t(n,s){let r;return!1===i.has(n)?(r=new tF,i.set(n,[r])):s>=i.get(n).length?(r=new tF,i.get(n).push(r)):r=i.get(n)[s],r},dispose:function e(){i=new WeakMap}}}function LJ(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new $,color:new Qe};break;case"SpotLight":e={position:new $,direction:new $,color:new Qe,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new $,color:new Qe,distance:0,decay:0};break;case"HemisphereLight":e={direction:new $,skyColor:new Qe,groundColor:new Qe};break;case"RectAreaLight":e={color:new Qe,position:new $,halfWidth:new $,halfHeight:new $}}return i[t.id]=e,e}}}let FJ=0;function NJ(i,t){return(t.castShadow?1:0)-(i.castShadow?1:0)}function BJ(i,t){const e=new LJ,n=function OJ(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let g=0;g<9;g++)s.probe.push(new $);const r=new $,a=new Ct,c=new Ct;return{setup:function d(g,v){let b=0,C=0,D=0;for(let ce=0;ce<9;ce++)s.probe[ce].set(0,0,0);let A=0,E=0,I=0,P=0,N=0,V=0,G=0,q=0;g.sort(NJ);const ee=!0!==v?Math.PI:1;for(let ce=0,oe=g.length;ce<oe;ce++){const j=g[ce],ie=j.color,Ce=j.intensity,pe=j.distance,_e=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)b+=ie.r*Ce*ee,C+=ie.g*Ce*ee,D+=ie.b*Ce*ee;else if(j.isLightProbe)for(let ae=0;ae<9;ae++)s.probe[ae].addScaledVector(j.sh.coefficients[ae],Ce);else if(j.isDirectionalLight){const ae=e.get(j);if(ae.color.copy(j.color).multiplyScalar(j.intensity*ee),j.castShadow){const de=j.shadow,re=n.get(j);re.shadowBias=de.bias,re.shadowNormalBias=de.normalBias,re.shadowRadius=de.radius,re.shadowMapSize=de.mapSize,s.directionalShadow[A]=re,s.directionalShadowMap[A]=_e,s.directionalShadowMatrix[A]=j.shadow.matrix,V++}s.directional[A]=ae,A++}else if(j.isSpotLight){const ae=e.get(j);if(ae.position.setFromMatrixPosition(j.matrixWorld),ae.color.copy(ie).multiplyScalar(Ce*ee),ae.distance=pe,ae.coneCos=Math.cos(j.angle),ae.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),ae.decay=j.decay,j.castShadow){const de=j.shadow,re=n.get(j);re.shadowBias=de.bias,re.shadowNormalBias=de.normalBias,re.shadowRadius=de.radius,re.shadowMapSize=de.mapSize,s.spotShadow[I]=re,s.spotShadowMap[I]=_e,s.spotShadowMatrix[I]=j.shadow.matrix,q++}s.spot[I]=ae,I++}else if(j.isRectAreaLight){const ae=e.get(j);ae.color.copy(ie).multiplyScalar(Ce),ae.halfWidth.set(.5*j.width,0,0),ae.halfHeight.set(0,.5*j.height,0),s.rectArea[P]=ae,P++}else if(j.isPointLight){const ae=e.get(j);if(ae.color.copy(j.color).multiplyScalar(j.intensity*ee),ae.distance=j.distance,ae.decay=j.decay,j.castShadow){const de=j.shadow,re=n.get(j);re.shadowBias=de.bias,re.shadowNormalBias=de.normalBias,re.shadowRadius=de.radius,re.shadowMapSize=de.mapSize,re.shadowCameraNear=de.camera.near,re.shadowCameraFar=de.camera.far,s.pointShadow[E]=re,s.pointShadowMap[E]=_e,s.pointShadowMatrix[E]=j.shadow.matrix,G++}s.point[E]=ae,E++}else if(j.isHemisphereLight){const ae=e.get(j);ae.skyColor.copy(j.color).multiplyScalar(Ce*ee),ae.groundColor.copy(j.groundColor).multiplyScalar(Ce*ee),s.hemi[N]=ae,N++}}P>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(s.rectAreaLTC1=ot.LTC_FLOAT_1,s.rectAreaLTC2=ot.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=ot.LTC_HALF_1,s.rectAreaLTC2=ot.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=b,s.ambient[1]=C,s.ambient[2]=D;const se=s.hash;(se.directionalLength!==A||se.pointLength!==E||se.spotLength!==I||se.rectAreaLength!==P||se.hemiLength!==N||se.numDirectionalShadows!==V||se.numPointShadows!==G||se.numSpotShadows!==q)&&(s.directional.length=A,s.spot.length=I,s.rectArea.length=P,s.point.length=E,s.hemi.length=N,s.directionalShadow.length=V,s.directionalShadowMap.length=V,s.pointShadow.length=G,s.pointShadowMap.length=G,s.spotShadow.length=q,s.spotShadowMap.length=q,s.directionalShadowMatrix.length=V,s.pointShadowMatrix.length=G,s.spotShadowMatrix.length=q,se.directionalLength=A,se.pointLength=E,se.spotLength=I,se.rectAreaLength=P,se.hemiLength=N,se.numDirectionalShadows=V,se.numPointShadows=G,se.numSpotShadows=q,s.version=FJ++)},setupView:function h(g,v){let b=0,C=0,D=0,A=0,E=0;const I=v.matrixWorldInverse;for(let P=0,N=g.length;P<N;P++){const V=g[P];if(V.isDirectionalLight){const G=s.directional[b];G.direction.setFromMatrixPosition(V.matrixWorld),r.setFromMatrixPosition(V.target.matrixWorld),G.direction.sub(r),G.direction.transformDirection(I),b++}else if(V.isSpotLight){const G=s.spot[D];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),G.direction.setFromMatrixPosition(V.matrixWorld),r.setFromMatrixPosition(V.target.matrixWorld),G.direction.sub(r),G.direction.transformDirection(I),D++}else if(V.isRectAreaLight){const G=s.rectArea[A];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),c.identity(),a.copy(V.matrixWorld),a.premultiply(I),c.extractRotation(a),G.halfWidth.set(.5*V.width,0,0),G.halfHeight.set(0,.5*V.height,0),G.halfWidth.applyMatrix4(c),G.halfHeight.applyMatrix4(c),A++}else if(V.isPointLight){const G=s.point[C];G.position.setFromMatrixPosition(V.matrixWorld),G.position.applyMatrix4(I),C++}else if(V.isHemisphereLight){const G=s.hemi[E];G.direction.setFromMatrixPosition(V.matrixWorld),G.direction.transformDirection(I),G.direction.normalize(),E++}}},state:s}}function iF(i,t){const e=new BJ(i,t),n=[],s=[];return{init:function r(){n.length=0,s.length=0},state:{lightsArray:n,shadowsArray:s,lights:e},setupLights:function d(v){e.setup(n,v)},setupLightsView:function h(v){e.setupView(n,v)},pushLight:function a(v){n.push(v)},pushShadow:function c(v){s.push(v)}}}function VJ(i,t){let e=new WeakMap;return{get:function n(r,a=0){let c;return!1===e.has(r)?(c=new iF(i,t),e.set(r,[c])):a>=e.get(r).length?(c=new iF(i,t),e.get(r).push(c)):c=e.get(r)[a],c},dispose:function s(){e=new WeakMap}}}class BC extends ln{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}BC.prototype.isMeshDepthMaterial=!0;class VC extends ln{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new $,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function nF(i,t,e){let n=new Z_;const s=new Te,r=new Te,a=new Vi,c=new BC({depthPacking:3201}),d=new VC,h={},g=e.maxTextureSize,v={0:1,1:0,2:2},b=new sa({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),C=b.clone();C.defines.HORIZONTAL_PASS=1;const D=new Xt;D.setAttribute("position",new Ui(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const A=new qn(D,b),E=this;function I(V,G){const q=t.update(A);b.defines.VSM_SAMPLES!==V.blurSamples&&(b.defines.VSM_SAMPLES=V.blurSamples,C.defines.VSM_SAMPLES=V.blurSamples,b.needsUpdate=!0,C.needsUpdate=!0),b.uniforms.shadow_pass.value=V.map.texture,b.uniforms.resolution.value=V.mapSize,b.uniforms.radius.value=V.radius,i.setRenderTarget(V.mapPass),i.clear(),i.renderBufferDirect(G,null,q,b,A,null),C.uniforms.shadow_pass.value=V.mapPass.texture,C.uniforms.resolution.value=V.mapSize,C.uniforms.radius.value=V.radius,i.setRenderTarget(V.map),i.clear(),i.renderBufferDirect(G,null,q,C,A,null)}function P(V,G,q,ee,se,ce){let oe=null;const j=!0===q.isPointLight?V.customDistanceMaterial:V.customDepthMaterial;if(oe=void 0!==j?j:!0===q.isPointLight?d:c,i.localClippingEnabled&&!0===G.clipShadows&&0!==G.clippingPlanes.length||G.displacementMap&&0!==G.displacementScale||G.alphaMap&&G.alphaTest>0){const ie=oe.uuid,Ce=G.uuid;let pe=h[ie];void 0===pe&&(pe={},h[ie]=pe);let _e=pe[Ce];void 0===_e&&(_e=oe.clone(),pe[Ce]=_e),oe=_e}return oe.visible=G.visible,oe.wireframe=G.wireframe,oe.side=3===ce?null!==G.shadowSide?G.shadowSide:G.side:null!==G.shadowSide?G.shadowSide:v[G.side],oe.alphaMap=G.alphaMap,oe.alphaTest=G.alphaTest,oe.clipShadows=G.clipShadows,oe.clippingPlanes=G.clippingPlanes,oe.clipIntersection=G.clipIntersection,oe.displacementMap=G.displacementMap,oe.displacementScale=G.displacementScale,oe.displacementBias=G.displacementBias,oe.wireframeLinewidth=G.wireframeLinewidth,oe.linewidth=G.linewidth,!0===q.isPointLight&&!0===oe.isMeshDistanceMaterial&&(oe.referencePosition.setFromMatrixPosition(q.matrixWorld),oe.nearDistance=ee,oe.farDistance=se),oe}function N(V,G,q,ee,se){if(!1===V.visible)return;if(V.layers.test(G.layers)&&(V.isMesh||V.isLine||V.isPoints)&&(V.castShadow||V.receiveShadow&&3===se)&&(!V.frustumCulled||n.intersectsObject(V))){V.modelViewMatrix.multiplyMatrices(q.matrixWorldInverse,V.matrixWorld);const j=t.update(V),ie=V.material;if(Array.isArray(ie)){const Ce=j.groups;for(let pe=0,_e=Ce.length;pe<_e;pe++){const ae=Ce[pe],de=ie[ae.materialIndex];if(de&&de.visible){const re=P(V,de,ee,q.near,q.far,se);i.renderBufferDirect(q,null,j,re,V,ae)}}}else if(ie.visible){const Ce=P(V,ie,ee,q.near,q.far,se);i.renderBufferDirect(q,null,j,Ce,V,null)}}const oe=V.children;for(let j=0,ie=oe.length;j<ie;j++)N(oe[j],G,q,ee,se)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(V,G,q){if(!1===E.enabled||!1===E.autoUpdate&&!1===E.needsUpdate||0===V.length)return;const ee=i.getRenderTarget(),se=i.getActiveCubeFace(),ce=i.getActiveMipmapLevel(),oe=i.state;oe.setBlending(0),oe.buffers.color.setClear(1,1,1,1),oe.buffers.depth.setTest(!0),oe.setScissorTest(!1);for(let j=0,ie=V.length;j<ie;j++){const Ce=V[j],pe=Ce.shadow;if(void 0===pe){console.warn("THREE.WebGLShadowMap:",Ce,"has no shadow.");continue}if(!1===pe.autoUpdate&&!1===pe.needsUpdate)continue;s.copy(pe.mapSize);const _e=pe.getFrameExtents();s.multiply(_e),r.copy(pe.mapSize),(s.x>g||s.y>g)&&(s.x>g&&(r.x=Math.floor(g/_e.x),s.x=r.x*_e.x,pe.mapSize.x=r.x),s.y>g&&(r.y=Math.floor(g/_e.y),s.y=r.y*_e.y,pe.mapSize.y=r.y)),null===pe.map&&!pe.isPointLightShadow&&3===this.type&&(pe.map=new ir(s.x,s.y),pe.map.texture.name=Ce.name+".shadowMap",pe.mapPass=new ir(s.x,s.y),pe.camera.updateProjectionMatrix()),null===pe.map&&(pe.map=new ir(s.x,s.y,{minFilter:Pn,magFilter:Pn,format:Mr}),pe.map.texture.name=Ce.name+".shadowMap",pe.camera.updateProjectionMatrix()),i.setRenderTarget(pe.map),i.clear();const ae=pe.getViewportCount();for(let de=0;de<ae;de++){const re=pe.getViewport(de);a.set(r.x*re.x,r.y*re.y,r.x*re.z,r.y*re.w),oe.viewport(a),pe.updateMatrices(Ce,de),n=pe.getFrustum(),N(G,q,pe.camera,Ce,this.type)}!pe.isPointLightShadow&&3===this.type&&I(pe,q),pe.needsUpdate=!1}E.needsUpdate=!1,i.setRenderTarget(ee,se,ce)}}function GJ(i,t,e){const n=e.isWebGL2,c=new function s(){let le=!1;const tt=new Vi;let Je=null;const qt=new Vi(0,0,0,0);return{setMask:function(pt){Je!==pt&&!le&&(i.colorMask(pt,pt,pt,pt),Je=pt)},setLocked:function(pt){le=pt},setClear:function(pt,It,at,di,Qi){!0===Qi&&(pt*=di,It*=di,at*=di),tt.set(pt,It,at,di),!1===qt.equals(tt)&&(i.clearColor(pt,It,at,di),qt.copy(tt))},reset:function(){le=!1,Je=null,qt.set(-1,0,0,0)}}},d=new function r(){let le=!1,tt=null,Je=null,qt=null;return{setTest:function(pt){pt?Ht(2929):ke(2929)},setMask:function(pt){tt!==pt&&!le&&(i.depthMask(pt),tt=pt)},setFunc:function(pt){if(Je!==pt){if(pt)switch(pt){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);Je=pt}},setLocked:function(pt){le=pt},setClear:function(pt){qt!==pt&&(i.clearDepth(pt),qt=pt)},reset:function(){le=!1,tt=null,Je=null,qt=null}}},h=new function a(){let le=!1,tt=null,Je=null,qt=null,pt=null,It=null,at=null,di=null,Qi=null;return{setTest:function(Ai){le||(Ai?Ht(2960):ke(2960))},setMask:function(Ai){tt!==Ai&&!le&&(i.stencilMask(Ai),tt=Ai)},setFunc:function(Ai,Na,Ba){(Je!==Ai||qt!==Na||pt!==Ba)&&(i.stencilFunc(Ai,Na,Ba),Je=Ai,qt=Na,pt=Ba)},setOp:function(Ai,Na,Ba){(It!==Ai||at!==Na||di!==Ba)&&(i.stencilOp(Ai,Na,Ba),It=Ai,at=Na,di=Ba)},setLocked:function(Ai){le=Ai},setClear:function(Ai){Qi!==Ai&&(i.clearStencil(Ai),Qi=Ai)},reset:function(){le=!1,tt=null,Je=null,qt=null,pt=null,It=null,at=null,di=null,Qi=null}}};let g={},v={},b=new WeakMap,C=[],D=null,A=!1,E=null,I=null,P=null,N=null,V=null,G=null,q=null,ee=!1,se=null,ce=null,oe=null,j=null,ie=null;const Ce=i.getParameter(35661);let pe=!1,_e=0;const ae=i.getParameter(7938);-1!==ae.indexOf("WebGL")?(_e=parseFloat(/^WebGL (\d)/.exec(ae)[1]),pe=_e>=1):-1!==ae.indexOf("OpenGL ES")&&(_e=parseFloat(/^OpenGL ES (\d)/.exec(ae)[1]),pe=_e>=2);let de=null,re={};const be=i.getParameter(3088),Ae=i.getParameter(2978),Ue=(new Vi).fromArray(be),Oe=(new Vi).fromArray(Ae);function xt(le,tt,Je){const qt=new Uint8Array(4),pt=i.createTexture();i.bindTexture(le,pt),i.texParameteri(le,10241,9728),i.texParameteri(le,10240,9728);for(let It=0;It<Je;It++)i.texImage2D(tt+It,0,6408,1,1,0,6408,5121,qt);return pt}const bt={};function Ht(le){!0!==g[le]&&(i.enable(le),g[le]=!0)}function ke(le){!1!==g[le]&&(i.disable(le),g[le]=!1)}bt[3553]=xt(3553,3553,1),bt[34067]=xt(34067,34069,6),c.setClear(0,0,0,1),d.setClear(1),h.setClear(0),Ht(2929),d.setFunc(3),qe(!1),wt(1),Ht(2884),Re(0);const Xe={100:32774,101:32778,102:32779};if(n)Xe[103]=32775,Xe[104]=32776;else{const le=t.get("EXT_blend_minmax");null!==le&&(Xe[103]=le.MIN_EXT,Xe[104]=le.MAX_EXT)}const ni={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Re(le,tt,Je,qt,pt,It,at,di){if(0!==le){if(!1===A&&(Ht(3042),A=!0),5===le)pt=pt||tt,It=It||Je,at=at||qt,(tt!==I||pt!==V)&&(i.blendEquationSeparate(Xe[tt],Xe[pt]),I=tt,V=pt),(Je!==P||qt!==N||It!==G||at!==q)&&(i.blendFuncSeparate(ni[Je],ni[qt],ni[It],ni[at]),P=Je,N=qt,G=It,q=at),E=le,ee=null;else if(le!==E||di!==ee){if((100!==I||100!==V)&&(i.blendEquation(32774),I=100,V=100),di)switch(le){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",le)}else switch(le){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",le)}P=null,N=null,G=null,q=null,E=le,ee=di}}else!0===A&&(ke(3042),A=!1)}function qe(le){se!==le&&(i.frontFace(le?2304:2305),se=le)}function wt(le){0!==le?(Ht(2884),le!==ce&&i.cullFace(1===le?1029:2===le?1028:1032)):ke(2884),ce=le}function si(le,tt,Je){le?(Ht(32823),(j!==tt||ie!==Je)&&(i.polygonOffset(tt,Je),j=tt,ie=Je)):ke(32823)}function Ft(le){void 0===le&&(le=33984+Ce-1),de!==le&&(i.activeTexture(le),de=le)}return{buffers:{color:c,depth:d,stencil:h},enable:Ht,disable:ke,bindFramebuffer:function $t(le,tt){return v[le]!==tt&&(i.bindFramebuffer(le,tt),v[le]=tt,n&&(36009===le&&(v[36160]=tt),36160===le&&(v[36009]=tt)),!0)},drawBuffers:function zt(le,tt){let Je=C,qt=!1;if(le)if(Je=b.get(tt),void 0===Je&&(Je=[],b.set(tt,Je)),le.isWebGLMultipleRenderTargets){const pt=le.texture;if(Je.length!==pt.length||36064!==Je[0]){for(let It=0,at=pt.length;It<at;It++)Je[It]=36064+It;Je.length=pt.length,qt=!0}}else 36064!==Je[0]&&(Je[0]=36064,qt=!0);else 1029!==Je[0]&&(Je[0]=1029,qt=!0);qt&&(e.isWebGL2?i.drawBuffers(Je):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Je))},useProgram:function Ot(le){return D!==le&&(i.useProgram(le),D=le,!0)},setBlending:Re,setMaterial:function Fe(le,tt){2===le.side?ke(2884):Ht(2884);let Je=1===le.side;tt&&(Je=!Je),qe(Je),1===le.blending&&!1===le.transparent?Re(0):Re(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.premultipliedAlpha),d.setFunc(le.depthFunc),d.setTest(le.depthTest),d.setMask(le.depthWrite),c.setMask(le.colorWrite);const qt=le.stencilWrite;h.setTest(qt),qt&&(h.setMask(le.stencilWriteMask),h.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),h.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),si(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),!0===le.alphaToCoverage?Ht(32926):ke(32926)},setFlipSided:qe,setCullFace:wt,setLineWidth:function ut(le){le!==oe&&(pe&&i.lineWidth(le),oe=le)},setPolygonOffset:si,setScissorTest:function Wt(le){le?Ht(3089):ke(3089)},activeTexture:Ft,bindTexture:function qi(le,tt){null===de&&Ft();let Je=re[de];void 0===Je&&(Je={type:void 0,texture:void 0},re[de]=Je),(Je.type!==le||Je.texture!==tt)&&(i.bindTexture(le,tt||bt[le]),Je.type=le,Je.texture=tt)},unbindTexture:function Oi(){const le=re[de];void 0!==le&&void 0!==le.type&&(i.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)},compressedTexImage2D:function ne(){try{i.compressedTexImage2D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texImage2D:function Nt(){try{i.texImage2D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texImage3D:function Q(){try{i.texImage3D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texStorage2D:function ct(){try{i.texStorage2D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texStorage3D:function vt(){try{i.texStorage3D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texSubImage2D:function Z(){try{i.texSubImage2D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},texSubImage3D:function Se(){try{i.texSubImage3D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},compressedTexSubImage2D:function We(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(le){console.error("THREE.WebGLState:",le)}},scissor:function Ye(le){!1===Ue.equals(le)&&(i.scissor(le.x,le.y,le.z,le.w),Ue.copy(le))},viewport:function Et(le){!1===Oe.equals(le)&&(i.viewport(le.x,le.y,le.z,le.w),Oe.copy(le))},reset:function rt(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),g={},de=null,re={},v={},b=new WeakMap,C=[],D=null,A=!1,E=null,I=null,P=null,N=null,V=null,G=null,q=null,ee=!1,se=null,ce=null,oe=null,j=null,ie=null,Ue.set(0,0,i.canvas.width,i.canvas.height),Oe.set(0,0,i.canvas.width,i.canvas.height),c.reset(),d.reset(),h.reset()}}}function UJ(i,t,e,n,s,r,a){const c=s.isWebGL2,d=s.maxTextures,h=s.maxCubemapSize,g=s.maxTextureSize,v=s.maxSamples,b=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,C=/OculusBrowser/g.test(navigator.userAgent),D=new WeakMap;let A;const E=new WeakMap;let I=!1;try{I="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(ne){}function P(ne,Z){return I?new OffscreenCanvas(ne,Z):qf("canvas")}function N(ne,Z,Se,We){let ct=1;if((ne.width>We||ne.height>We)&&(ct=We/Math.max(ne.width,ne.height)),ct<1||!0===Z){if("undefined"!=typeof HTMLImageElement&&ne instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&ne instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&ne instanceof ImageBitmap){const vt=Z?A_:Math.floor,Nt=vt(ct*ne.width),Q=vt(ct*ne.height);void 0===A&&(A=P(Nt,Q));const Ye=Se?P(Nt,Q):A;return Ye.width=Nt,Ye.height=Q,Ye.getContext("2d").drawImage(ne,0,0,Nt,Q),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ne.width+"x"+ne.height+") to ("+Nt+"x"+Q+")."),Ye}return"data"in ne&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ne.width+"x"+ne.height+")."),ne}return ne}function V(ne){return oC(ne.width)&&oC(ne.height)}function q(ne,Z){return ne.generateMipmaps&&Z&&ne.minFilter!==Pn&&ne.minFilter!==Xi}function ee(ne){i.generateMipmap(ne)}function se(ne,Z,Se,We,ct=!1){if(!1===c)return Z;if(null!==ne){if(void 0!==i[ne])return i[ne];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ne+"'")}let vt=Z;return 6403===Z&&(5126===Se&&(vt=33326),5131===Se&&(vt=33325),5121===Se&&(vt=33321)),33319===Z&&(5126===Se&&(vt=33328),5131===Se&&(vt=33327),5121===Se&&(vt=33323)),6408===Z&&(5126===Se&&(vt=34836),5131===Se&&(vt=34842),5121===Se&&(vt=We===ki&&!1===ct?35907:32856),32819===Se&&(vt=32854),32820===Se&&(vt=32855)),(33325===vt||33326===vt||33327===vt||33328===vt||34842===vt||34836===vt)&&t.get("EXT_color_buffer_float"),vt}function ce(ne,Z,Se){return!0===q(ne,Se)||ne.isFramebufferTexture&&ne.minFilter!==Pn&&ne.minFilter!==Xi?Math.log2(Math.max(Z.width,Z.height))+1:void 0!==ne.mipmaps&&ne.mipmaps.length>0?ne.mipmaps.length:ne.isCompressedTexture&&Array.isArray(ne.image)?Z.mipmaps.length:1}function oe(ne){return ne===Pn||1004===ne||1005===ne?9728:9729}function j(ne){const Z=ne.target;Z.removeEventListener("dispose",j),function Ce(ne){const Z=n.get(ne);if(void 0===Z.__webglInit)return;const Se=ne.source,We=E.get(Se);if(We){const ct=We[Z.__cacheKey];ct.usedTimes--,0===ct.usedTimes&&pe(ne),0===Object.keys(We).length&&E.delete(Se)}n.remove(ne)}(Z),Z.isVideoTexture&&D.delete(Z)}function ie(ne){const Z=ne.target;Z.removeEventListener("dispose",ie),function _e(ne){const Z=ne.texture,Se=n.get(ne),We=n.get(Z);if(void 0!==We.__webglTexture&&(i.deleteTexture(We.__webglTexture),a.memory.textures--),ne.depthTexture&&ne.depthTexture.dispose(),ne.isWebGLCubeRenderTarget)for(let ct=0;ct<6;ct++)i.deleteFramebuffer(Se.__webglFramebuffer[ct]),Se.__webglDepthbuffer&&i.deleteRenderbuffer(Se.__webglDepthbuffer[ct]);else i.deleteFramebuffer(Se.__webglFramebuffer),Se.__webglDepthbuffer&&i.deleteRenderbuffer(Se.__webglDepthbuffer),Se.__webglMultisampledFramebuffer&&i.deleteFramebuffer(Se.__webglMultisampledFramebuffer),Se.__webglColorRenderbuffer&&i.deleteRenderbuffer(Se.__webglColorRenderbuffer),Se.__webglDepthRenderbuffer&&i.deleteRenderbuffer(Se.__webglDepthRenderbuffer);if(ne.isWebGLMultipleRenderTargets)for(let ct=0,vt=Z.length;ct<vt;ct++){const Nt=n.get(Z[ct]);Nt.__webglTexture&&(i.deleteTexture(Nt.__webglTexture),a.memory.textures--),n.remove(Z[ct])}n.remove(Z),n.remove(ne)}(Z)}function pe(ne){const Z=n.get(ne);i.deleteTexture(Z.__webglTexture),delete E.get(ne.source)[Z.__cacheKey],a.memory.textures--}let ae=0;function Ae(ne,Z){const Se=n.get(ne);if(ne.isVideoTexture&&function qi(ne){const Z=a.render.frame;D.get(ne)!==Z&&(D.set(ne,Z),ne.update())}(ne),!1===ne.isRenderTargetTexture&&ne.version>0&&Se.__version!==ne.version){const We=ne.image;if(null===We)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==We.complete)return void zt(Se,ne,Z);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+Z),e.bindTexture(3553,Se.__webglTexture)}const bt={[oc]:10497,[ks]:33071,1002:33648},Ht={[Pn]:9728,1004:9984,1005:9986,[Xi]:9729,1007:9985,[rl]:9987};function ke(ne,Z,Se){if(Se?(i.texParameteri(ne,10242,bt[Z.wrapS]),i.texParameteri(ne,10243,bt[Z.wrapT]),(32879===ne||35866===ne)&&i.texParameteri(ne,32882,bt[Z.wrapR]),i.texParameteri(ne,10240,Ht[Z.magFilter]),i.texParameteri(ne,10241,Ht[Z.minFilter])):(i.texParameteri(ne,10242,33071),i.texParameteri(ne,10243,33071),(32879===ne||35866===ne)&&i.texParameteri(ne,32882,33071),(Z.wrapS!==ks||Z.wrapT!==ks)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(ne,10240,oe(Z.magFilter)),i.texParameteri(ne,10241,oe(Z.minFilter)),Z.minFilter!==Pn&&Z.minFilter!==Xi&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const We=t.get("EXT_texture_filter_anisotropic");if(Z.type===Qr&&!1===t.has("OES_texture_float_linear")||!1===c&&Z.type===Da&&!1===t.has("OES_texture_half_float_linear"))return;(Z.anisotropy>1||n.get(Z).__currentAnisotropy)&&(i.texParameterf(ne,We.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,s.getMaxAnisotropy())),n.get(Z).__currentAnisotropy=Z.anisotropy)}}function $t(ne,Z){let Se=!1;void 0===ne.__webglInit&&(ne.__webglInit=!0,Z.addEventListener("dispose",j));const We=Z.source;let ct=E.get(We);void 0===ct&&(ct={},E.set(We,ct));const vt=function be(ne){const Z=[];return Z.push(ne.wrapS),Z.push(ne.wrapT),Z.push(ne.magFilter),Z.push(ne.minFilter),Z.push(ne.anisotropy),Z.push(ne.internalFormat),Z.push(ne.format),Z.push(ne.type),Z.push(ne.generateMipmaps),Z.push(ne.premultiplyAlpha),Z.push(ne.flipY),Z.push(ne.unpackAlignment),Z.push(ne.encoding),Z.join()}(Z);if(vt!==ne.__cacheKey){void 0===ct[vt]&&(ct[vt]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,Se=!0),ct[vt].usedTimes++;const Nt=ct[ne.__cacheKey];void 0!==Nt&&(ct[ne.__cacheKey].usedTimes--,0===Nt.usedTimes&&pe(Z)),ne.__cacheKey=vt,ne.__webglTexture=ct[vt].texture}return Se}function zt(ne,Z,Se){let We=3553;Z.isDataArrayTexture&&(We=35866),Z.isData3DTexture&&(We=32879);const ct=$t(ne,Z),vt=Z.source;if(e.activeTexture(33984+Se),e.bindTexture(We,ne.__webglTexture),vt.version!==vt.__currentVersion||!0===ct){i.pixelStorei(37440,Z.flipY),i.pixelStorei(37441,Z.premultiplyAlpha),i.pixelStorei(3317,Z.unpackAlignment),i.pixelStorei(37443,0);const Nt=function G(ne){return!c&&(ne.wrapS!==ks||ne.wrapT!==ks||ne.minFilter!==Pn&&ne.minFilter!==Xi)}(Z)&&!1===V(Z.image);let Q=N(Z.image,Nt,!1,g);Q=Oi(Z,Q);const Ye=V(Q)||c,Et=r.convert(Z.format,Z.encoding);let tt,rt=r.convert(Z.type),le=se(Z.internalFormat,Et,rt,Z.encoding,Z.isVideoTexture);ke(We,Z,Ye);const Je=Z.mipmaps,qt=c&&!0!==Z.isVideoTexture,pt=void 0===ne.__version,It=ce(Z,Q,Ye);if(Z.isDepthTexture)le=6402,c?le=Z.type===Qr?36012:1014===Z.type?33190:Z.type===hu?35056:33189:Z.type===Qr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===cc&&6402===le&&Z.type!==Uf&&1014!==Z.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=Uf,rt=r.convert(Z.type)),Z.format===fu&&6402===le&&(le=34041,Z.type!==hu&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=hu,rt=r.convert(Z.type))),qt&&pt?e.texStorage2D(3553,1,le,Q.width,Q.height):e.texImage2D(3553,0,le,Q.width,Q.height,0,Et,rt,null);else if(Z.isDataTexture)if(Je.length>0&&Ye){qt&&pt&&e.texStorage2D(3553,It,le,Je[0].width,Je[0].height);for(let at=0,di=Je.length;at<di;at++)tt=Je[at],qt?e.texSubImage2D(3553,at,0,0,tt.width,tt.height,Et,rt,tt.data):e.texImage2D(3553,at,le,tt.width,tt.height,0,Et,rt,tt.data);Z.generateMipmaps=!1}else qt?(pt&&e.texStorage2D(3553,It,le,Q.width,Q.height),e.texSubImage2D(3553,0,0,0,Q.width,Q.height,Et,rt,Q.data)):e.texImage2D(3553,0,le,Q.width,Q.height,0,Et,rt,Q.data);else if(Z.isCompressedTexture){qt&&pt&&e.texStorage2D(3553,It,le,Je[0].width,Je[0].height);for(let at=0,di=Je.length;at<di;at++)tt=Je[at],Z.format!==Mr?null!==Et?qt?e.compressedTexSubImage2D(3553,at,0,0,tt.width,tt.height,Et,tt.data):e.compressedTexImage2D(3553,at,le,tt.width,tt.height,0,tt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):qt?e.texSubImage2D(3553,at,0,0,tt.width,tt.height,Et,rt,tt.data):e.texImage2D(3553,at,le,tt.width,tt.height,0,Et,rt,tt.data)}else if(Z.isDataArrayTexture)qt?(pt&&e.texStorage3D(35866,It,le,Q.width,Q.height,Q.depth),e.texSubImage3D(35866,0,0,0,0,Q.width,Q.height,Q.depth,Et,rt,Q.data)):e.texImage3D(35866,0,le,Q.width,Q.height,Q.depth,0,Et,rt,Q.data);else if(Z.isData3DTexture)qt?(pt&&e.texStorage3D(32879,It,le,Q.width,Q.height,Q.depth),e.texSubImage3D(32879,0,0,0,0,Q.width,Q.height,Q.depth,Et,rt,Q.data)):e.texImage3D(32879,0,le,Q.width,Q.height,Q.depth,0,Et,rt,Q.data);else if(Z.isFramebufferTexture)qt&&pt?e.texStorage2D(3553,It,le,Q.width,Q.height):e.texImage2D(3553,0,le,Q.width,Q.height,0,Et,rt,null);else if(Je.length>0&&Ye){qt&&pt&&e.texStorage2D(3553,It,le,Je[0].width,Je[0].height);for(let at=0,di=Je.length;at<di;at++)tt=Je[at],qt?e.texSubImage2D(3553,at,0,0,Et,rt,tt):e.texImage2D(3553,at,le,Et,rt,tt);Z.generateMipmaps=!1}else qt?(pt&&e.texStorage2D(3553,It,le,Q.width,Q.height),e.texSubImage2D(3553,0,0,0,Et,rt,Q)):e.texImage2D(3553,0,le,Et,rt,Q);q(Z,Ye)&&ee(We),vt.__currentVersion=vt.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}function Xe(ne,Z,Se,We,ct){const vt=r.convert(Se.format,Se.encoding),Nt=r.convert(Se.type),Q=se(Se.internalFormat,vt,Nt,Se.encoding);n.get(Z).__hasExternalTextures||(32879===ct||35866===ct?e.texImage3D(ct,0,Q,Z.width,Z.height,Z.depth,0,vt,Nt,null):e.texImage2D(ct,0,Q,Z.width,Z.height,0,vt,Nt,null)),e.bindFramebuffer(36160,ne),Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,We,ct,n.get(Se).__webglTexture,0,Wt(Z)):i.framebufferTexture2D(36160,We,ct,n.get(Se).__webglTexture,0),e.bindFramebuffer(36160,null)}function ni(ne,Z,Se){if(i.bindRenderbuffer(36161,ne),Z.depthBuffer&&!Z.stencilBuffer){let We=33189;if(Se||Ft(Z)){const ct=Z.depthTexture;ct&&ct.isDepthTexture&&(ct.type===Qr?We=36012:1014===ct.type&&(We=33190));const vt=Wt(Z);Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,vt,We,Z.width,Z.height):i.renderbufferStorageMultisample(36161,vt,We,Z.width,Z.height)}else i.renderbufferStorage(36161,We,Z.width,Z.height);i.framebufferRenderbuffer(36160,36096,36161,ne)}else if(Z.depthBuffer&&Z.stencilBuffer){const We=Wt(Z);Se&&!1===Ft(Z)?i.renderbufferStorageMultisample(36161,We,35056,Z.width,Z.height):Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,We,35056,Z.width,Z.height):i.renderbufferStorage(36161,34041,Z.width,Z.height),i.framebufferRenderbuffer(36160,33306,36161,ne)}else{const We=!0===Z.isWebGLMultipleRenderTargets?Z.texture[0]:Z.texture,ct=r.convert(We.format,We.encoding),vt=r.convert(We.type),Nt=se(We.internalFormat,ct,vt,We.encoding),Q=Wt(Z);Se&&!1===Ft(Z)?i.renderbufferStorageMultisample(36161,Q,Nt,Z.width,Z.height):Ft(Z)?b.renderbufferStorageMultisampleEXT(36161,Q,Nt,Z.width,Z.height):i.renderbufferStorage(36161,Nt,Z.width,Z.height)}i.bindRenderbuffer(36161,null)}function Fe(ne){const Z=n.get(ne),Se=!0===ne.isWebGLCubeRenderTarget;if(ne.depthTexture&&!Z.__autoAllocateDepthBuffer){if(Se)throw new Error("target.depthTexture not supported in Cube render targets");!function Re(ne,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,ne),!Z.depthTexture||!Z.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),Ae(Z.depthTexture,0);const We=n.get(Z.depthTexture).__webglTexture,ct=Wt(Z);if(Z.depthTexture.format===cc)Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,36096,3553,We,0,ct):i.framebufferTexture2D(36160,36096,3553,We,0);else{if(Z.depthTexture.format!==fu)throw new Error("Unknown depthTexture format");Ft(Z)?b.framebufferTexture2DMultisampleEXT(36160,33306,3553,We,0,ct):i.framebufferTexture2D(36160,33306,3553,We,0)}}(Z.__webglFramebuffer,ne)}else if(Se){Z.__webglDepthbuffer=[];for(let We=0;We<6;We++)e.bindFramebuffer(36160,Z.__webglFramebuffer[We]),Z.__webglDepthbuffer[We]=i.createRenderbuffer(),ni(Z.__webglDepthbuffer[We],ne,!1)}else e.bindFramebuffer(36160,Z.__webglFramebuffer),Z.__webglDepthbuffer=i.createRenderbuffer(),ni(Z.__webglDepthbuffer,ne,!1);e.bindFramebuffer(36160,null)}function Wt(ne){return Math.min(v,ne.samples)}function Ft(ne){const Z=n.get(ne);return c&&ne.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==Z.__useRenderToTexture}function Oi(ne,Z){const Se=ne.encoding,We=ne.format,ct=ne.type;return!0===ne.isCompressedTexture||!0===ne.isVideoTexture||1035===ne.format||Se!==Jr&&(Se===ki?!1===c?!0===t.has("EXT_sRGB")&&We===Mr?(ne.format=1035,ne.minFilter=Xi,ne.generateMipmaps=!1):Z=pc.sRGBToLinear(Z):(We!==Mr||ct!==lc)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Se)),Z}this.allocateTextureUnit=function re(){const ne=ae;return ne>=d&&console.warn("THREE.WebGLTextures: Trying to use "+ne+" texture units while this GPU supports only "+d),ae+=1,ne},this.resetTextureUnits=function de(){ae=0},this.setTexture2D=Ae,this.setTexture2DArray=function Ue(ne,Z){const Se=n.get(ne);ne.version>0&&Se.__version!==ne.version?zt(Se,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(35866,Se.__webglTexture))},this.setTexture3D=function Oe(ne,Z){const Se=n.get(ne);ne.version>0&&Se.__version!==ne.version?zt(Se,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(32879,Se.__webglTexture))},this.setTextureCube=function xt(ne,Z){const Se=n.get(ne);ne.version>0&&Se.__version!==ne.version?function Ot(ne,Z,Se){if(6!==Z.image.length)return;const We=$t(ne,Z),ct=Z.source;if(e.activeTexture(33984+Se),e.bindTexture(34067,ne.__webglTexture),ct.version!==ct.__currentVersion||!0===We){i.pixelStorei(37440,Z.flipY),i.pixelStorei(37441,Z.premultiplyAlpha),i.pixelStorei(3317,Z.unpackAlignment),i.pixelStorei(37443,0);const vt=Z.isCompressedTexture||Z.image[0].isCompressedTexture,Nt=Z.image[0]&&Z.image[0].isDataTexture,Q=[];for(let at=0;at<6;at++)Q[at]=vt||Nt?Nt?Z.image[at].image:Z.image[at]:N(Z.image[at],!1,!0,h),Q[at]=Oi(Z,Q[at]);const Ye=Q[0],Et=V(Ye)||c,rt=r.convert(Z.format,Z.encoding),le=r.convert(Z.type),tt=se(Z.internalFormat,rt,le,Z.encoding),Je=c&&!0!==Z.isVideoTexture,qt=void 0===ne.__version;let It,pt=ce(Z,Ye,Et);if(ke(34067,Z,Et),vt){Je&&qt&&e.texStorage2D(34067,pt,tt,Ye.width,Ye.height);for(let at=0;at<6;at++){It=Q[at].mipmaps;for(let di=0;di<It.length;di++){const Qi=It[di];Z.format!==Mr?null!==rt?Je?e.compressedTexSubImage2D(34069+at,di,0,0,Qi.width,Qi.height,rt,Qi.data):e.compressedTexImage2D(34069+at,di,tt,Qi.width,Qi.height,0,Qi.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Je?e.texSubImage2D(34069+at,di,0,0,Qi.width,Qi.height,rt,le,Qi.data):e.texImage2D(34069+at,di,tt,Qi.width,Qi.height,0,rt,le,Qi.data)}}}else{It=Z.mipmaps,Je&&qt&&(It.length>0&&pt++,e.texStorage2D(34067,pt,tt,Q[0].width,Q[0].height));for(let at=0;at<6;at++)if(Nt){Je?e.texSubImage2D(34069+at,0,0,0,Q[at].width,Q[at].height,rt,le,Q[at].data):e.texImage2D(34069+at,0,tt,Q[at].width,Q[at].height,0,rt,le,Q[at].data);for(let di=0;di<It.length;di++){const Ai=It[di].image[at].image;Je?e.texSubImage2D(34069+at,di+1,0,0,Ai.width,Ai.height,rt,le,Ai.data):e.texImage2D(34069+at,di+1,tt,Ai.width,Ai.height,0,rt,le,Ai.data)}}else{Je?e.texSubImage2D(34069+at,0,0,0,rt,le,Q[at]):e.texImage2D(34069+at,0,tt,rt,le,Q[at]);for(let di=0;di<It.length;di++){const Qi=It[di];Je?e.texSubImage2D(34069+at,di+1,0,0,rt,le,Qi.image[at]):e.texImage2D(34069+at,di+1,tt,rt,le,Qi.image[at])}}}q(Z,Et)&&ee(34067),ct.__currentVersion=ct.version,Z.onUpdate&&Z.onUpdate(Z)}ne.__version=Z.version}(Se,ne,Z):(e.activeTexture(33984+Z),e.bindTexture(34067,Se.__webglTexture))},this.rebindTextures=function qe(ne,Z,Se){const We=n.get(ne);void 0!==Z&&Xe(We.__webglFramebuffer,ne,ne.texture,36064,3553),void 0!==Se&&Fe(ne)},this.setupRenderTarget=function wt(ne){const Z=ne.texture,Se=n.get(ne),We=n.get(Z);ne.addEventListener("dispose",ie),!0!==ne.isWebGLMultipleRenderTargets&&(void 0===We.__webglTexture&&(We.__webglTexture=i.createTexture()),We.__version=Z.version,a.memory.textures++);const ct=!0===ne.isWebGLCubeRenderTarget,vt=!0===ne.isWebGLMultipleRenderTargets,Nt=V(ne)||c;if(ct){Se.__webglFramebuffer=[];for(let Q=0;Q<6;Q++)Se.__webglFramebuffer[Q]=i.createFramebuffer()}else if(Se.__webglFramebuffer=i.createFramebuffer(),vt)if(s.drawBuffers){const Q=ne.texture;for(let Ye=0,Et=Q.length;Ye<Et;Ye++){const rt=n.get(Q[Ye]);void 0===rt.__webglTexture&&(rt.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(c&&ne.samples>0&&!1===Ft(ne)){Se.__webglMultisampledFramebuffer=i.createFramebuffer(),Se.__webglColorRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(36161,Se.__webglColorRenderbuffer);const Q=r.convert(Z.format,Z.encoding),Ye=r.convert(Z.type),Et=se(Z.internalFormat,Q,Ye,Z.encoding),rt=Wt(ne);i.renderbufferStorageMultisample(36161,rt,Et,ne.width,ne.height),e.bindFramebuffer(36160,Se.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064,36161,Se.__webglColorRenderbuffer),i.bindRenderbuffer(36161,null),ne.depthBuffer&&(Se.__webglDepthRenderbuffer=i.createRenderbuffer(),ni(Se.__webglDepthRenderbuffer,ne,!0)),e.bindFramebuffer(36160,null)}if(ct){e.bindTexture(34067,We.__webglTexture),ke(34067,Z,Nt);for(let Q=0;Q<6;Q++)Xe(Se.__webglFramebuffer[Q],ne,Z,36064,34069+Q);q(Z,Nt)&&ee(34067),e.unbindTexture()}else if(vt){const Q=ne.texture;for(let Ye=0,Et=Q.length;Ye<Et;Ye++){const rt=Q[Ye],le=n.get(rt);e.bindTexture(3553,le.__webglTexture),ke(3553,rt,Nt),Xe(Se.__webglFramebuffer,ne,rt,36064+Ye,3553),q(rt,Nt)&&ee(3553)}e.unbindTexture()}else{let Q=3553;(ne.isWebGL3DRenderTarget||ne.isWebGLArrayRenderTarget)&&(c?Q=ne.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(Q,We.__webglTexture),ke(Q,Z,Nt),Xe(Se.__webglFramebuffer,ne,Z,36064,Q),q(Z,Nt)&&ee(Q),e.unbindTexture()}ne.depthBuffer&&Fe(ne)},this.updateRenderTargetMipmap=function ut(ne){const Z=V(ne)||c,Se=!0===ne.isWebGLMultipleRenderTargets?ne.texture:[ne.texture];for(let We=0,ct=Se.length;We<ct;We++){const vt=Se[We];if(q(vt,Z)){const Nt=ne.isWebGLCubeRenderTarget?34067:3553,Q=n.get(vt).__webglTexture;e.bindTexture(Nt,Q),ee(Nt),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function si(ne){if(c&&ne.samples>0&&!1===Ft(ne)){const Z=ne.width,Se=ne.height;let We=16384;const ct=[36064],vt=ne.stencilBuffer?33306:36096;ne.depthBuffer&&ct.push(vt);const Nt=n.get(ne),Q=void 0!==Nt.__ignoreDepthValues&&Nt.__ignoreDepthValues;!1===Q&&(ne.depthBuffer&&(We|=256),ne.stencilBuffer&&(We|=1024)),e.bindFramebuffer(36008,Nt.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Nt.__webglFramebuffer),!0===Q&&(i.invalidateFramebuffer(36008,[vt]),i.invalidateFramebuffer(36009,[vt])),i.blitFramebuffer(0,0,Z,Se,0,0,Z,Se,We,9728),C&&i.invalidateFramebuffer(36008,ct),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,Nt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=Ft}function WJ(i,t,e){const n=e.isWebGL2;return{convert:function s(r,a=null){let c;if(r===lc)return 5121;if(1017===r)return 32819;if(1018===r)return 32820;if(1010===r)return 5120;if(1011===r)return 5122;if(r===Uf)return 5123;if(1013===r)return 5124;if(1014===r)return 5125;if(r===Qr)return 5126;if(r===Da)return n?5131:(c=t.get("OES_texture_half_float"),null!==c?c.HALF_FLOAT_OES:null);if(1021===r)return 6406;if(r===Mr)return 6408;if(1024===r)return 6409;if(1025===r)return 6410;if(r===cc)return 6402;if(r===fu)return 34041;if(1028===r)return 6403;if(1022===r)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===r)return c=t.get("EXT_sRGB"),null!==c?c.SRGB_ALPHA_EXT:null;if(1029===r)return 36244;if(1030===r)return 33319;if(1031===r)return 33320;if(1033===r)return 36249;if(33776===r||33777===r||33778===r||33779===r)if(a===ki){if(c=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===c)return null;if(33776===r)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(c=t.get("WEBGL_compressed_texture_s3tc"),null===c)return null;if(33776===r)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(c=t.get("WEBGL_compressed_texture_pvrtc"),null===c)return null;if(35840===r)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return c=t.get("WEBGL_compressed_texture_etc1"),null!==c?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(c=t.get("WEBGL_compressed_texture_etc"),null===c)return null;if(37492===r)return a===ki?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(37496===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(c=t.get("WEBGL_compressed_texture_astc"),null===c)return null;if(37808===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return a===ki?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r){if(c=t.get("EXT_texture_compression_bptc"),null===c)return null;if(36492===r)return a===ki?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}return r===hu?n?34042:(c=t.get("WEBGL_depth_texture"),null!==c?c.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}VC.prototype.isMeshDistanceMaterial=!0;class sF extends Zn{constructor(t=[]){super(),this.cameras=t}}sF.prototype.isArrayCamera=!0;class po extends Li{constructor(){super(),this.type="Group"}}po.prototype.isGroup=!0;const jJ={type:"move"};class HC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new po,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new po,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new po,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let s=null,r=null,a=null;const c=this._targetRay,d=this._grip,h=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==c&&(s=e.getPose(t.targetRaySpace,n),null!==s&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(jJ))),h&&t.hand){a=!0;for(const A of t.hand.values()){const E=e.getJointPose(A,n);if(void 0===h.joints[A.jointName]){const P=new po;P.matrixAutoUpdate=!1,P.visible=!1,h.joints[A.jointName]=P,h.add(P)}const I=h.joints[A.jointName];null!==E&&(I.matrix.fromArray(E.transform.matrix),I.matrix.decompose(I.position,I.rotation,I.scale),I.jointRadius=E.radius),I.visible=null!==E}const b=h.joints["index-finger-tip"].position.distanceTo(h.joints["thumb-tip"].position),C=.02,D=.005;h.inputState.pinching&&b>C+D?(h.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!h.inputState.pinching&&b<=C-D&&(h.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==d&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(d.matrix.fromArray(r.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),r.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(r.linearVelocity)):d.hasLinearVelocity=!1,r.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(r.angularVelocity)):d.hasAngularVelocity=!1));return null!==c&&(c.visible=null!==s),null!==d&&(d.visible=null!==r),null!==h&&(h.visible=null!==a),this}}class rF extends vs{constructor(t,e,n,s,r,a,c,d,h,g){if((g=void 0!==g?g:cc)!==cc&&g!==fu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&g===cc&&(n=Uf),void 0===n&&g===fu&&(n=hu),super(null,s,r,a,c,d,g,n,h),this.image={width:t,height:e},this.magFilter=void 0!==c?c:Pn,this.minFilter=void 0!==d?d:Pn,this.flipY=!1,this.generateMipmaps=!1}}rF.prototype.isDepthTexture=!0;class YJ extends al{constructor(t,e){super();const n=this;let s=null,r=1,a=null,c="local-floor",d=null,h=null,g=null,v=null,b=null;const C=e.getContextAttributes();let D=null,A=null;const E=[],I=new Map,P=new Zn;P.layers.enable(1),P.viewport=new Vi;const N=new Zn;N.layers.enable(2),N.viewport=new Vi;const V=[P,N],G=new sF;G.layers.enable(1),G.layers.enable(2);let q=null,ee=null;function se(re){const be=I.get(re.inputSource);be&&be.dispatchEvent({type:re.type,data:re.inputSource})}function ce(){I.forEach(function(re,be){re.disconnect(be)}),I.clear(),q=null,ee=null,t.setRenderTarget(D),v=null,g=null,h=null,s=null,A=null,de.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function oe(re){const be=s.inputSources;for(let Ae=0;Ae<E.length;Ae++)I.set(be[Ae],E[Ae]);for(let Ae=0;Ae<re.removed.length;Ae++){const Ue=re.removed[Ae],Oe=I.get(Ue);Oe&&(Oe.dispatchEvent({type:"disconnected",data:Ue}),I.delete(Ue))}for(let Ae=0;Ae<re.added.length;Ae++){const Ue=re.added[Ae],Oe=I.get(Ue);Oe&&Oe.dispatchEvent({type:"connected",data:Ue})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let be=E[re];return void 0===be&&(be=new HC,E[re]=be),be.getTargetRaySpace()},this.getControllerGrip=function(re){let be=E[re];return void 0===be&&(be=new HC,E[re]=be),be.getGripSpace()},this.getHand=function(re){let be=E[re];return void 0===be&&(be=new HC,E[re]=be),be.getHandSpace()},this.setFramebufferScaleFactor=function(re){r=re,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){c=re,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==g?g:v},this.getBinding=function(){return h},this.getFrame=function(){return b},this.getSession=function(){return s},this.setSession=function(){var re=function C9(i){return function(){var t=this,e=arguments;return new Promise(function(n,s){var r=i.apply(t,e);function a(d){EL(r,n,s,a,c,"next",d)}function c(d){EL(r,n,s,a,c,"throw",d)}a(void 0)})}}(function*(be){if(s=be,null!==s){if(D=t.getRenderTarget(),s.addEventListener("select",se),s.addEventListener("selectstart",se),s.addEventListener("selectend",se),s.addEventListener("squeeze",se),s.addEventListener("squeezestart",se),s.addEventListener("squeezeend",se),s.addEventListener("end",ce),s.addEventListener("inputsourceschange",oe),!0!==C.xrCompatible&&(yield e.makeXRCompatible()),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2)v=new XRWebGLLayer(s,e,{antialias:void 0!==s.renderState.layers||C.antialias,alpha:C.alpha,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:v}),A=new ir(v.framebufferWidth,v.framebufferHeight,{format:Mr,type:lc,encoding:t.outputEncoding});else{let Ae=null,Ue=null,Oe=null;C.depth&&(Oe=C.stencil?35056:33190,Ae=C.stencil?fu:cc,Ue=C.stencil?hu:Uf);const xt={colorFormat:t.outputEncoding===ki?35907:32856,depthFormat:Oe,scaleFactor:r};h=new XRWebGLBinding(s,e),g=h.createProjectionLayer(xt),s.updateRenderState({layers:[g]}),A=new ir(g.textureWidth,g.textureHeight,{format:Mr,type:lc,depthTexture:new rF(g.textureWidth,g.textureHeight,Ue,void 0,void 0,void 0,void 0,void 0,void 0,Ae),stencilBuffer:C.stencil,encoding:t.outputEncoding,samples:C.antialias?4:0}),t.properties.get(A).__ignoreDepthValues=g.ignoreDepthValues}A.isXRRenderTarget=!0,this.setFoveation(1),a=yield s.requestReferenceSpace(c),de.setContext(s),de.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(be){return re.apply(this,arguments)}}();const j=new $,ie=new $;function pe(re,be){null===be?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(be.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(null===s)return;G.near=N.near=P.near=re.near,G.far=N.far=P.far=re.far,(q!==G.near||ee!==G.far)&&(s.updateRenderState({depthNear:G.near,depthFar:G.far}),q=G.near,ee=G.far);const be=re.parent,Ae=G.cameras;pe(G,be);for(let Oe=0;Oe<Ae.length;Oe++)pe(Ae[Oe],be);G.matrixWorld.decompose(G.position,G.quaternion,G.scale),re.position.copy(G.position),re.quaternion.copy(G.quaternion),re.scale.copy(G.scale),re.matrix.copy(G.matrix),re.matrixWorld.copy(G.matrixWorld);const Ue=re.children;for(let Oe=0,xt=Ue.length;Oe<xt;Oe++)Ue[Oe].updateMatrixWorld(!0);2===Ae.length?function Ce(re,be,Ae){j.setFromMatrixPosition(be.matrixWorld),ie.setFromMatrixPosition(Ae.matrixWorld);const Ue=j.distanceTo(ie),Oe=be.projectionMatrix.elements,xt=Ae.projectionMatrix.elements,bt=Oe[14]/(Oe[10]-1),Ht=Oe[14]/(Oe[10]+1),ke=(Oe[9]+1)/Oe[5],$t=(Oe[9]-1)/Oe[5],zt=(Oe[8]-1)/Oe[0],Ot=(xt[8]+1)/xt[0],Xe=bt*zt,ni=bt*Ot,Re=Ue/(-zt+Ot),Fe=Re*-zt;be.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Fe),re.translateZ(Re),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert();const qe=bt+Re,wt=Ht+Re;re.projectionMatrix.makePerspective(Xe-Fe,ni+(Ue-Fe),ke*Ht/wt*qe,$t*Ht/wt*qe,qe,wt)}(G,P,N):G.projectionMatrix.copy(P.projectionMatrix)},this.getCamera=function(){return G},this.getFoveation=function(){return null!==g?g.fixedFoveation:null!==v?v.fixedFoveation:void 0},this.setFoveation=function(re){null!==g&&(g.fixedFoveation=re),null!==v&&void 0!==v.fixedFoveation&&(v.fixedFoveation=re)};let _e=null;const de=new AO;de.setAnimationLoop(function ae(re,be){if(d=be.getViewerPose(a),b=be,null!==d){const Ue=d.views;null!==v&&(t.setRenderTargetFramebuffer(A,v.framebuffer),t.setRenderTarget(A));let Oe=!1;Ue.length!==G.cameras.length&&(G.cameras.length=0,Oe=!0);for(let xt=0;xt<Ue.length;xt++){const bt=Ue[xt];let Ht=null;if(null!==v)Ht=v.getViewport(bt);else{const $t=h.getViewSubImage(g,bt);Ht=$t.viewport,0===xt&&(t.setRenderTargetTextures(A,$t.colorTexture,g.ignoreDepthValues?void 0:$t.depthStencilTexture),t.setRenderTarget(A))}const ke=V[xt];ke.matrix.fromArray(bt.transform.matrix),ke.projectionMatrix.fromArray(bt.projectionMatrix),ke.viewport.set(Ht.x,Ht.y,Ht.width,Ht.height),0===xt&&G.matrix.copy(ke.matrix),!0===Oe&&G.cameras.push(ke)}}const Ae=s.inputSources;for(let Ue=0;Ue<E.length;Ue++)E[Ue].update(Ae[Ue],be,a);_e&&_e(re,be),b=null}),this.setAnimationLoop=function(re){_e=re},this.dispose=function(){}}}function XJ(i,t){function s(A,E){A.opacity.value=E.opacity,E.color&&A.diffuse.value.copy(E.color),E.emissive&&A.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.bumpMap&&(A.bumpMap.value=E.bumpMap,A.bumpScale.value=E.bumpScale,1===E.side&&(A.bumpScale.value*=-1)),E.displacementMap&&(A.displacementMap.value=E.displacementMap,A.displacementScale.value=E.displacementScale,A.displacementBias.value=E.displacementBias),E.emissiveMap&&(A.emissiveMap.value=E.emissiveMap),E.normalMap&&(A.normalMap.value=E.normalMap,A.normalScale.value.copy(E.normalScale),1===E.side&&A.normalScale.value.negate()),E.specularMap&&(A.specularMap.value=E.specularMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest);const I=t.get(E).envMap;if(I&&(A.envMap.value=I,A.flipEnvMap.value=I.isCubeTexture&&!1===I.isRenderTargetTexture?-1:1,A.reflectivity.value=E.reflectivity,A.ior.value=E.ior,A.refractionRatio.value=E.refractionRatio),E.lightMap){A.lightMap.value=E.lightMap;const V=!0!==i.physicallyCorrectLights?Math.PI:1;A.lightMapIntensity.value=E.lightMapIntensity*V}let P,N;E.aoMap&&(A.aoMap.value=E.aoMap,A.aoMapIntensity.value=E.aoMapIntensity),E.map?P=E.map:E.specularMap?P=E.specularMap:E.displacementMap?P=E.displacementMap:E.normalMap?P=E.normalMap:E.bumpMap?P=E.bumpMap:E.roughnessMap?P=E.roughnessMap:E.metalnessMap?P=E.metalnessMap:E.alphaMap?P=E.alphaMap:E.emissiveMap?P=E.emissiveMap:E.clearcoatMap?P=E.clearcoatMap:E.clearcoatNormalMap?P=E.clearcoatNormalMap:E.clearcoatRoughnessMap?P=E.clearcoatRoughnessMap:E.specularIntensityMap?P=E.specularIntensityMap:E.specularColorMap?P=E.specularColorMap:E.transmissionMap?P=E.transmissionMap:E.thicknessMap?P=E.thicknessMap:E.sheenColorMap?P=E.sheenColorMap:E.sheenRoughnessMap&&(P=E.sheenRoughnessMap),void 0!==P&&(P.isWebGLRenderTarget&&(P=P.texture),!0===P.matrixAutoUpdate&&P.updateMatrix(),A.uvTransform.value.copy(P.matrix)),E.aoMap?N=E.aoMap:E.lightMap&&(N=E.lightMap),void 0!==N&&(N.isWebGLRenderTarget&&(N=N.texture),!0===N.matrixAutoUpdate&&N.updateMatrix(),A.uv2Transform.value.copy(N.matrix))}return{refreshFogUniforms:function e(A,E){A.fogColor.value.copy(E.color),E.isFog?(A.fogNear.value=E.near,A.fogFar.value=E.far):E.isFogExp2&&(A.fogDensity.value=E.density)},refreshMaterialUniforms:function n(A,E,I,P,N){E.isMeshBasicMaterial||E.isMeshLambertMaterial?s(A,E):E.isMeshToonMaterial?(s(A,E),function g(A,E){E.gradientMap&&(A.gradientMap.value=E.gradientMap)}(A,E)):E.isMeshPhongMaterial?(s(A,E),function h(A,E){A.specular.value.copy(E.specular),A.shininess.value=Math.max(E.shininess,1e-4)}(A,E)):E.isMeshStandardMaterial?(s(A,E),function v(A,E){A.roughness.value=E.roughness,A.metalness.value=E.metalness,E.roughnessMap&&(A.roughnessMap.value=E.roughnessMap),E.metalnessMap&&(A.metalnessMap.value=E.metalnessMap),t.get(E).envMap&&(A.envMapIntensity.value=E.envMapIntensity)}(A,E),E.isMeshPhysicalMaterial&&function b(A,E,I){A.ior.value=E.ior,E.sheen>0&&(A.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),A.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(A.sheenColorMap.value=E.sheenColorMap),E.sheenRoughnessMap&&(A.sheenRoughnessMap.value=E.sheenRoughnessMap)),E.clearcoat>0&&(A.clearcoat.value=E.clearcoat,A.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(A.clearcoatMap.value=E.clearcoatMap),E.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap),E.clearcoatNormalMap&&(A.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),A.clearcoatNormalMap.value=E.clearcoatNormalMap,1===E.side&&A.clearcoatNormalScale.value.negate())),E.transmission>0&&(A.transmission.value=E.transmission,A.transmissionSamplerMap.value=I.texture,A.transmissionSamplerSize.value.set(I.width,I.height),E.transmissionMap&&(A.transmissionMap.value=E.transmissionMap),A.thickness.value=E.thickness,E.thicknessMap&&(A.thicknessMap.value=E.thicknessMap),A.attenuationDistance.value=E.attenuationDistance,A.attenuationColor.value.copy(E.attenuationColor)),A.specularIntensity.value=E.specularIntensity,A.specularColor.value.copy(E.specularColor),E.specularIntensityMap&&(A.specularIntensityMap.value=E.specularIntensityMap),E.specularColorMap&&(A.specularColorMap.value=E.specularColorMap)}(A,E,N)):E.isMeshMatcapMaterial?(s(A,E),function C(A,E){E.matcap&&(A.matcap.value=E.matcap)}(A,E)):E.isMeshDepthMaterial?s(A,E):E.isMeshDistanceMaterial?(s(A,E),function D(A,E){A.referencePosition.value.copy(E.referencePosition),A.nearDistance.value=E.nearDistance,A.farDistance.value=E.farDistance}(A,E)):E.isMeshNormalMaterial?s(A,E):E.isLineBasicMaterial?(function r(A,E){A.diffuse.value.copy(E.color),A.opacity.value=E.opacity}(A,E),E.isLineDashedMaterial&&function a(A,E){A.dashSize.value=E.dashSize,A.totalSize.value=E.dashSize+E.gapSize,A.scale.value=E.scale}(A,E)):E.isPointsMaterial?function c(A,E,I,P){let N;A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.size.value=E.size*I,A.scale.value=.5*P,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest),E.map?N=E.map:E.alphaMap&&(N=E.alphaMap),void 0!==N&&(!0===N.matrixAutoUpdate&&N.updateMatrix(),A.uvTransform.value.copy(N.matrix))}(A,E,I,P):E.isSpriteMaterial?function d(A,E){let I;A.diffuse.value.copy(E.color),A.opacity.value=E.opacity,A.rotation.value=E.rotation,E.map&&(A.map.value=E.map),E.alphaMap&&(A.alphaMap.value=E.alphaMap),E.alphaTest>0&&(A.alphaTest.value=E.alphaTest),E.map?I=E.map:E.alphaMap&&(I=E.alphaMap),void 0!==I&&(!0===I.matrixAutoUpdate&&I.updateMatrix(),A.uvTransform.value.copy(I.matrix))}(A,E):E.isShadowMaterial?(A.color.value.copy(E.color),A.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}}}function Hi(i={}){const t=void 0!==i.canvas?i.canvas:function $J(){const i=qf("canvas");return i.style.display="block",i}(),e=void 0!==i.context?i.context:null,n=void 0===i.depth||i.depth,s=void 0===i.stencil||i.stencil,r=void 0!==i.antialias&&i.antialias,a=void 0===i.premultipliedAlpha||i.premultipliedAlpha,c=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,d=void 0!==i.powerPreference?i.powerPreference:"default",h=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let g;g=void 0!==i.context?e.getContextAttributes().alpha:void 0!==i.alpha&&i.alpha;let v=null,b=null;const C=[],D=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Jr,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const A=this;let E=!1,I=0,P=0,N=null,V=-1,G=null;const q=new Vi,ee=new Vi;let se=null,ce=t.width,oe=t.height,j=1,ie=null,Ce=null;const pe=new Vi(0,0,ce,oe),_e=new Vi(0,0,ce,oe);let ae=!1;const de=new Z_;let re=!1,be=!1,Ae=null;const Ue=new Ct,Oe=new Te,xt=new $,bt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ht(){return null===N?j:1}let zt,Ot,Xe,ni,Re,Fe,qe,wt,ut,si,Wt,Ft,qi,Oi,ne,Z,Se,We,ct,vt,Nt,Q,Ye,ke=e;function $t(J,ye){for(let De=0;De<J.length;De++){const Ne=t.getContext(J[De],ye);if(null!==Ne)return Ne}return null}try{const J={alpha:!0,depth:n,stencil:s,antialias:r,premultipliedAlpha:a,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r139"),t.addEventListener("webglcontextlost",le,!1),t.addEventListener("webglcontextrestored",tt,!1),null===ke){const ye=["webgl2","webgl","experimental-webgl"];if(!0===A.isWebGL1Renderer&&ye.shift(),ke=$t(ye,J),null===ke)throw $t(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ke.getShaderPrecisionFormat&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(J){throw console.error("THREE.WebGLRenderer: "+J.message),J}function Et(){zt=new hQ(ke),Ot=new aQ(ke,zt,i),zt.init(Ot),Q=new WJ(ke,zt,Ot),Xe=new GJ(ke,zt,Ot),ni=new gQ(ke),Re=new RJ,Fe=new UJ(ke,zt,Xe,Re,Ot,Q,ni),qe=new lQ(A),wt=new uQ(A),ut=new oZ(ke,Ot),Ye=new sQ(ke,zt,ut,Ot),si=new fQ(ke,ut,ni,Ye),Wt=new yQ(ke,si,ut,ni),ct=new vQ(ke,Ot,Fe),Z=new oQ(Re),Ft=new kJ(A,qe,wt,zt,Ot,Ye,Z),qi=new XJ(A,Re),Oi=new PJ,ne=new VJ(zt,Ot),We=new nQ(A,qe,Xe,Wt,g,a),Se=new nF(A,Wt,Ot),vt=new rQ(ke,zt,ni,Ot),Nt=new pQ(ke,zt,ni,Ot),ni.programs=Ft.programs,A.capabilities=Ot,A.extensions=zt,A.properties=Re,A.renderLists=Oi,A.shadowMap=Se,A.state=Xe,A.info=ni}Et();const rt=new YJ(A,ke);function le(J){J.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),E=!0}function tt(){console.log("THREE.WebGLRenderer: Context Restored."),E=!1;const J=ni.autoReset,ye=Se.enabled,De=Se.autoUpdate,we=Se.needsUpdate,Ne=Se.type;Et(),ni.autoReset=J,Se.enabled=ye,Se.autoUpdate=De,Se.needsUpdate=we,Se.type=Ne}function Je(J){const ye=J.target;ye.removeEventListener("dispose",Je),function qt(J){(function pt(J){const ye=Re.get(J).programs;void 0!==ye&&(ye.forEach(function(De){Ft.releaseProgram(De)}),J.isShaderMaterial&&Ft.releaseShaderCache(J))})(J),Re.remove(J)}(ye)}this.xr=rt,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const J=zt.get("WEBGL_lose_context");J&&J.loseContext()},this.forceContextRestore=function(){const J=zt.get("WEBGL_lose_context");J&&J.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(J){void 0!==J&&(j=J,this.setSize(ce,oe,!1))},this.getSize=function(J){return J.set(ce,oe)},this.setSize=function(J,ye,De){rt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(ce=J,oe=ye,t.width=Math.floor(J*j),t.height=Math.floor(ye*j),!1!==De&&(t.style.width=J+"px",t.style.height=ye+"px"),this.setViewport(0,0,J,ye))},this.getDrawingBufferSize=function(J){return J.set(ce*j,oe*j).floor()},this.setDrawingBufferSize=function(J,ye,De){ce=J,oe=ye,j=De,t.width=Math.floor(J*De),t.height=Math.floor(ye*De),this.setViewport(0,0,J,ye)},this.getCurrentViewport=function(J){return J.copy(q)},this.getViewport=function(J){return J.copy(pe)},this.setViewport=function(J,ye,De,we){J.isVector4?pe.set(J.x,J.y,J.z,J.w):pe.set(J,ye,De,we),Xe.viewport(q.copy(pe).multiplyScalar(j).floor())},this.getScissor=function(J){return J.copy(_e)},this.setScissor=function(J,ye,De,we){J.isVector4?_e.set(J.x,J.y,J.z,J.w):_e.set(J,ye,De,we),Xe.scissor(ee.copy(_e).multiplyScalar(j).floor())},this.getScissorTest=function(){return ae},this.setScissorTest=function(J){Xe.setScissorTest(ae=J)},this.setOpaqueSort=function(J){ie=J},this.setTransparentSort=function(J){Ce=J},this.getClearColor=function(J){return J.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor.apply(We,arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha.apply(We,arguments)},this.clear=function(J=!0,ye=!0,De=!0){let we=0;J&&(we|=16384),ye&&(we|=256),De&&(we|=1024),ke.clear(we)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",le,!1),t.removeEventListener("webglcontextrestored",tt,!1),Oi.dispose(),ne.dispose(),Re.dispose(),qe.dispose(),wt.dispose(),Wt.dispose(),Ye.dispose(),Ft.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",di),rt.removeEventListener("sessionend",Qi),Ae&&(Ae.dispose(),Ae=null),Ai.stop()},this.renderBufferDirect=function(J,ye,De,we,Ne,ei){null===ye&&(ye=bt);const fi=Ne.isMesh&&Ne.matrixWorld.determinant()<0,bi=function mge(J,ye,De,we,Ne){!0!==ye.isScene&&(ye=bt),Fe.resetTextureUnits();const ei=ye.fog,bi=null===N?A.outputEncoding:!0===N.isXRRenderTarget?N.texture.encoding:Jr,gi=(we.isMeshStandardMaterial?wt:qe).get(we.envMap||(we.isMeshStandardMaterial?ye.environment:null)),zi=!0===we.vertexColors&&!!De.attributes.color&&4===De.attributes.color.itemSize,Ei=!!we.normalMap&&!!De.attributes.tangent,Ri=!!De.morphAttributes.position,vn=!!De.morphAttributes.normal,Kc=!!De.morphAttributes.color,hh=we.toneMapped?A.toneMapping:0,fh=De.morphAttributes.position||De.morphAttributes.normal||De.morphAttributes.color,Va=void 0!==fh?fh.length:0,Fi=Re.get(we),ph=b.state.lights;!0!==re||!0!==be&&J===G||Z.setState(we,J,J===G&&we.id===V);let Vn=!1;we.version===Fi.__version?(Fi.needsLights&&Fi.lightsStateVersion!==ph.state.version||Fi.outputEncoding!==bi||Ne.isInstancedMesh&&!1===Fi.instancing||!Ne.isInstancedMesh&&!0===Fi.instancing||Ne.isSkinnedMesh&&!1===Fi.skinning||!Ne.isSkinnedMesh&&!0===Fi.skinning||Fi.envMap!==gi||we.fog&&Fi.fog!==ei||void 0!==Fi.numClippingPlanes&&(Fi.numClippingPlanes!==Z.numPlanes||Fi.numIntersection!==Z.numIntersection)||Fi.vertexAlphas!==zi||Fi.vertexTangents!==Ei||Fi.morphTargets!==Ri||Fi.morphNormals!==vn||Fi.morphColors!==Kc||Fi.toneMapping!==hh||!0===Ot.isWebGL2&&Fi.morphTargetsCount!==Va)&&(Vn=!0):(Vn=!0,Fi.__version=we.version);let Ha=Fi.currentProgram;!0===Vn&&(Ha=VD(we,ye,Ne));let Tl=!1,Jp=!1,HD=!1;const xs=Ha.getUniforms(),eg=Fi.uniforms;if(Xe.useProgram(Ha.program)&&(Tl=!0,Jp=!0,HD=!0),we.id!==V&&(V=we.id,Jp=!0),Tl||G!==J){if(xs.setValue(ke,"projectionMatrix",J.projectionMatrix),Ot.logarithmicDepthBuffer&&xs.setValue(ke,"logDepthBufFC",2/(Math.log(J.far+1)/Math.LN2)),G!==J&&(G=J,Jp=!0,HD=!0),we.isShaderMaterial||we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshStandardMaterial||we.envMap){const da=xs.map.cameraPosition;void 0!==da&&da.setValue(ke,xt.setFromMatrixPosition(J.matrixWorld))}(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial)&&xs.setValue(ke,"isOrthographic",!0===J.isOrthographicCamera),(we.isMeshPhongMaterial||we.isMeshToonMaterial||we.isMeshLambertMaterial||we.isMeshBasicMaterial||we.isMeshStandardMaterial||we.isShaderMaterial||we.isShadowMaterial||Ne.isSkinnedMesh)&&xs.setValue(ke,"viewMatrix",J.matrixWorldInverse)}if(Ne.isSkinnedMesh){xs.setOptional(ke,Ne,"bindMatrix"),xs.setOptional(ke,Ne,"bindMatrixInverse");const da=Ne.skeleton;da&&(Ot.floatVertexTextures?(null===da.boneTexture&&da.computeBoneTexture(),xs.setValue(ke,"boneTexture",da.boneTexture,Fe),xs.setValue(ke,"boneTextureSize",da.boneTextureSize)):xs.setOptional(ke,da,"boneMatrices"))}const zD=De.morphAttributes;return(void 0!==zD.position||void 0!==zD.normal||void 0!==zD.color&&!0===Ot.isWebGL2)&&ct.update(Ne,De,we,Ha),(Jp||Fi.receiveShadow!==Ne.receiveShadow)&&(Fi.receiveShadow=Ne.receiveShadow,xs.setValue(ke,"receiveShadow",Ne.receiveShadow)),Jp&&(xs.setValue(ke,"toneMappingExposure",A.toneMappingExposure),Fi.needsLights&&function _ge(J,ye){J.ambientLightColor.needsUpdate=ye,J.lightProbe.needsUpdate=ye,J.directionalLights.needsUpdate=ye,J.directionalLightShadows.needsUpdate=ye,J.pointLights.needsUpdate=ye,J.pointLightShadows.needsUpdate=ye,J.spotLights.needsUpdate=ye,J.spotLightShadows.needsUpdate=ye,J.rectAreaLights.needsUpdate=ye,J.hemisphereLights.needsUpdate=ye}(eg,HD),ei&&we.fog&&qi.refreshFogUniforms(eg,ei),qi.refreshMaterialUniforms(eg,we,j,oe,Ae),gl.upload(ke,Fi.uniformsList,eg,Fe)),we.isShaderMaterial&&!0===we.uniformsNeedUpdate&&(gl.upload(ke,Fi.uniformsList,eg,Fe),we.uniformsNeedUpdate=!1),we.isSpriteMaterial&&xs.setValue(ke,"center",Ne.center),xs.setValue(ke,"modelViewMatrix",Ne.modelViewMatrix),xs.setValue(ke,"normalMatrix",Ne.normalMatrix),xs.setValue(ke,"modelMatrix",Ne.matrixWorld),Ha}(J,ye,De,we,Ne);Xe.setMaterial(we,fi);let gi=De.index;const zi=De.attributes.position;if(null===gi){if(void 0===zi||0===zi.count)return}else if(0===gi.count)return;let Ei=1;!0===we.wireframe&&(gi=si.getWireframeAttribute(De),Ei=2),Ye.setup(Ne,we,bi,De,gi);let Ri,vn=vt;null!==gi&&(Ri=ut.get(gi),vn=Nt,vn.setIndex(Ri));const Kc=null!==gi?gi.count:zi.count,hh=De.drawRange.start*Ei,fh=De.drawRange.count*Ei,Va=null!==ei?ei.start*Ei:0,Fi=null!==ei?ei.count*Ei:1/0,ph=Math.max(hh,Va),Vn=Math.min(Kc,hh+fh,Va+Fi)-1,Ha=Math.max(0,Vn-ph+1);if(0!==Ha){if(Ne.isMesh)!0===we.wireframe?(Xe.setLineWidth(we.wireframeLinewidth*Ht()),vn.setMode(1)):vn.setMode(4);else if(Ne.isLine){let Tl=we.linewidth;void 0===Tl&&(Tl=1),Xe.setLineWidth(Tl*Ht()),vn.setMode(Ne.isLineSegments?1:Ne.isLineLoop?2:3)}else Ne.isPoints?vn.setMode(0):Ne.isSprite&&vn.setMode(4);if(Ne.isInstancedMesh)vn.renderInstances(ph,Ha,Ne.count);else if(De.isInstancedBufferGeometry){const Tl=Math.min(De.instanceCount,De._maxInstanceCount);vn.renderInstances(ph,Ha,Tl)}else vn.render(ph,Ha)}},this.compile=function(J,ye){b=ne.get(J),b.init(),D.push(b),J.traverseVisible(function(De){De.isLight&&De.layers.test(ye.layers)&&(b.pushLight(De),De.castShadow&&b.pushShadow(De))}),b.setupLights(A.physicallyCorrectLights),J.traverse(function(De){const we=De.material;if(we)if(Array.isArray(we))for(let Ne=0;Ne<we.length;Ne++)VD(we[Ne],J,De);else VD(we,J,De)}),D.pop(),b=null};let It=null;function di(){Ai.stop()}function Qi(){Ai.start()}const Ai=new AO;function Na(J,ye,De,we){if(!1===J.visible)return;if(J.layers.test(ye.layers))if(J.isGroup)De=J.renderOrder;else if(J.isLOD)!0===J.autoUpdate&&J.update(ye);else if(J.isLight)b.pushLight(J),J.castShadow&&b.pushShadow(J);else if(J.isSprite){if(!J.frustumCulled||de.intersectsSprite(J)){we&&xt.setFromMatrixPosition(J.matrixWorld).applyMatrix4(Ue);const fi=Wt.update(J),bi=J.material;bi.visible&&v.push(J,fi,bi,De,xt.z,null)}}else if((J.isMesh||J.isLine||J.isPoints)&&(J.isSkinnedMesh&&J.skeleton.frame!==ni.render.frame&&(J.skeleton.update(),J.skeleton.frame=ni.render.frame),!J.frustumCulled||de.intersectsObject(J))){we&&xt.setFromMatrixPosition(J.matrixWorld).applyMatrix4(Ue);const fi=Wt.update(J),bi=J.material;if(Array.isArray(bi)){const gi=fi.groups;for(let zi=0,Ei=gi.length;zi<Ei;zi++){const Ri=gi[zi],vn=bi[Ri.materialIndex];vn&&vn.visible&&v.push(J,fi,vn,De,xt.z,Ri)}}else bi.visible&&v.push(J,fi,bi,De,xt.z,null)}const ei=J.children;for(let fi=0,bi=ei.length;fi<bi;fi++)Na(ei[fi],ye,De,we)}function Ba(J,ye,De,we){const Ne=J.opaque,ei=J.transmissive,fi=J.transparent;b.setupLightsView(De),ei.length>0&&function pge(J,ye,De){const we=Ot.isWebGL2;null===Ae&&(Ae=new ir(1,1,{generateMipmaps:!0,type:null!==Q.convert(Da)?Da:lc,minFilter:rl,samples:we&&!0===r?4:0})),A.getDrawingBufferSize(Oe),we?Ae.setSize(Oe.x,Oe.y):Ae.setSize(A_(Oe.x),A_(Oe.y));const Ne=A.getRenderTarget();A.setRenderTarget(Ae),A.clear();const ei=A.toneMapping;A.toneMapping=0,eb(J,ye,De),A.toneMapping=ei,Fe.updateMultisampleRenderTarget(Ae),Fe.updateRenderTargetMipmap(Ae),A.setRenderTarget(Ne)}(Ne,ye,De),we&&Xe.viewport(q.copy(we)),Ne.length>0&&eb(Ne,ye,De),ei.length>0&&eb(ei,ye,De),fi.length>0&&eb(fi,ye,De),Xe.buffers.depth.setTest(!0),Xe.buffers.depth.setMask(!0),Xe.buffers.color.setMask(!0),Xe.setPolygonOffset(!1)}function eb(J,ye,De){const we=!0===ye.isScene?ye.overrideMaterial:null;for(let Ne=0,ei=J.length;Ne<ei;Ne++){const fi=J[Ne],bi=fi.object,gi=fi.geometry,zi=null===we?fi.material:we,Ei=fi.group;bi.layers.test(De.layers)&&gge(bi,ye,De,gi,zi,Ei)}}function gge(J,ye,De,we,Ne,ei){J.onBeforeRender(A,ye,De,we,Ne,ei),J.modelViewMatrix.multiplyMatrices(De.matrixWorldInverse,J.matrixWorld),J.normalMatrix.getNormalMatrix(J.modelViewMatrix),Ne.onBeforeRender(A,ye,De,we,J,ei),!0===Ne.transparent&&2===Ne.side?(Ne.side=1,Ne.needsUpdate=!0,A.renderBufferDirect(De,ye,we,Ne,J,ei),Ne.side=0,Ne.needsUpdate=!0,A.renderBufferDirect(De,ye,we,Ne,J,ei),Ne.side=2):A.renderBufferDirect(De,ye,we,Ne,J,ei),J.onAfterRender(A,ye,De,we,Ne,ei)}function VD(J,ye,De){!0!==ye.isScene&&(ye=bt);const we=Re.get(J),Ne=b.state.lights,fi=Ne.state.version,bi=Ft.getParameters(J,Ne.state,b.state.shadowsArray,ye,De),gi=Ft.getProgramCacheKey(bi);let zi=we.programs;we.environment=J.isMeshStandardMaterial?ye.environment:null,we.fog=ye.fog,we.envMap=(J.isMeshStandardMaterial?wt:qe).get(J.envMap||we.environment),void 0===zi&&(J.addEventListener("dispose",Je),zi=new Map,we.programs=zi);let Ei=zi.get(gi);if(void 0!==Ei){if(we.currentProgram===Ei&&we.lightsStateVersion===fi)return W3(J,bi),Ei}else bi.uniforms=Ft.getUniforms(J),J.onBuild(De,bi,A),J.onBeforeCompile(bi,A),Ei=Ft.acquireProgram(bi,gi),zi.set(gi,Ei),we.uniforms=bi.uniforms;const Ri=we.uniforms;(!J.isShaderMaterial&&!J.isRawShaderMaterial||!0===J.clipping)&&(Ri.clippingPlanes=Z.uniform),W3(J,bi),we.needsLights=function vge(J){return J.isMeshLambertMaterial||J.isMeshToonMaterial||J.isMeshPhongMaterial||J.isMeshStandardMaterial||J.isShadowMaterial||J.isShaderMaterial&&!0===J.lights}(J),we.lightsStateVersion=fi,we.needsLights&&(Ri.ambientLightColor.value=Ne.state.ambient,Ri.lightProbe.value=Ne.state.probe,Ri.directionalLights.value=Ne.state.directional,Ri.directionalLightShadows.value=Ne.state.directionalShadow,Ri.spotLights.value=Ne.state.spot,Ri.spotLightShadows.value=Ne.state.spotShadow,Ri.rectAreaLights.value=Ne.state.rectArea,Ri.ltc_1.value=Ne.state.rectAreaLTC1,Ri.ltc_2.value=Ne.state.rectAreaLTC2,Ri.pointLights.value=Ne.state.point,Ri.pointLightShadows.value=Ne.state.pointShadow,Ri.hemisphereLights.value=Ne.state.hemi,Ri.directionalShadowMap.value=Ne.state.directionalShadowMap,Ri.directionalShadowMatrix.value=Ne.state.directionalShadowMatrix,Ri.spotShadowMap.value=Ne.state.spotShadowMap,Ri.spotShadowMatrix.value=Ne.state.spotShadowMatrix,Ri.pointShadowMap.value=Ne.state.pointShadowMap,Ri.pointShadowMatrix.value=Ne.state.pointShadowMatrix);const vn=Ei.getUniforms(),Kc=gl.seqWithValue(vn.seq,Ri);return we.currentProgram=Ei,we.uniformsList=Kc,Ei}function W3(J,ye){const De=Re.get(J);De.outputEncoding=ye.outputEncoding,De.instancing=ye.instancing,De.skinning=ye.skinning,De.morphTargets=ye.morphTargets,De.morphNormals=ye.morphNormals,De.morphColors=ye.morphColors,De.morphTargetsCount=ye.morphTargetsCount,De.numClippingPlanes=ye.numClippingPlanes,De.numIntersection=ye.numClipIntersection,De.vertexAlphas=ye.vertexAlphas,De.vertexTangents=ye.vertexTangents,De.toneMapping=ye.toneMapping}Ai.setAnimationLoop(function at(J){It&&It(J)}),"undefined"!=typeof self&&Ai.setContext(self),this.setAnimationLoop=function(J){It=J,rt.setAnimationLoop(J),null===J?Ai.stop():Ai.start()},rt.addEventListener("sessionstart",di),rt.addEventListener("sessionend",Qi),this.render=function(J,ye){if(void 0===ye||!0===ye.isCamera){if(!0!==E){if(!0===J.autoUpdate&&J.updateMatrixWorld(),null===ye.parent&&ye.updateMatrixWorld(),!0===rt.enabled&&!0===rt.isPresenting&&(!0===rt.cameraAutoUpdate&&rt.updateCamera(ye),ye=rt.getCamera()),!0===J.isScene&&J.onBeforeRender(A,J,ye,N),b=ne.get(J,D.length),b.init(),D.push(b),Ue.multiplyMatrices(ye.projectionMatrix,ye.matrixWorldInverse),de.setFromProjectionMatrix(Ue),be=this.localClippingEnabled,re=Z.init(this.clippingPlanes,be,ye),v=Oi.get(J,C.length),v.init(),C.push(v),Na(J,ye,0,A.sortObjects),v.finish(),!0===A.sortObjects&&v.sort(ie,Ce),!0===re&&Z.beginShadows(),Se.render(b.state.shadowsArray,J,ye),!0===re&&Z.endShadows(),!0===this.info.autoReset&&this.info.reset(),We.render(v,J),b.setupLights(A.physicallyCorrectLights),ye.isArrayCamera){const we=ye.cameras;for(let Ne=0,ei=we.length;Ne<ei;Ne++){const fi=we[Ne];Ba(v,J,fi,fi.viewport)}}else Ba(v,J,ye);null!==N&&(Fe.updateMultisampleRenderTarget(N),Fe.updateRenderTargetMipmap(N)),!0===J.isScene&&J.onAfterRender(A,J,ye),Ye.resetDefaultState(),V=-1,G=null,D.pop(),b=D.length>0?D[D.length-1]:null,C.pop(),v=C.length>0?C[C.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(J,ye,De){Re.get(J.texture).__webglTexture=ye,Re.get(J.depthTexture).__webglTexture=De;const we=Re.get(J);we.__hasExternalTextures=!0,we.__hasExternalTextures&&(we.__autoAllocateDepthBuffer=void 0===De,we.__autoAllocateDepthBuffer||!0===zt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),we.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(J,ye){const De=Re.get(J);De.__webglFramebuffer=ye,De.__useDefaultFramebuffer=void 0===ye},this.setRenderTarget=function(J,ye=0,De=0){N=J,I=ye,P=De;let we=!0;if(J){const gi=Re.get(J);void 0!==gi.__useDefaultFramebuffer?(Xe.bindFramebuffer(36160,null),we=!1):void 0===gi.__webglFramebuffer?Fe.setupRenderTarget(J):gi.__hasExternalTextures&&Fe.rebindTextures(J,Re.get(J.texture).__webglTexture,Re.get(J.depthTexture).__webglTexture)}let Ne=null,ei=!1,fi=!1;if(J){const gi=J.texture;(gi.isData3DTexture||gi.isDataArrayTexture)&&(fi=!0);const zi=Re.get(J).__webglFramebuffer;J.isWebGLCubeRenderTarget?(Ne=zi[ye],ei=!0):Ne=Ot.isWebGL2&&J.samples>0&&!1===Fe.useMultisampledRTT(J)?Re.get(J).__webglMultisampledFramebuffer:zi,q.copy(J.viewport),ee.copy(J.scissor),se=J.scissorTest}else q.copy(pe).multiplyScalar(j).floor(),ee.copy(_e).multiplyScalar(j).floor(),se=ae;if(Xe.bindFramebuffer(36160,Ne)&&Ot.drawBuffers&&we&&Xe.drawBuffers(J,Ne),Xe.viewport(q),Xe.scissor(ee),Xe.setScissorTest(se),ei){const gi=Re.get(J.texture);ke.framebufferTexture2D(36160,36064,34069+ye,gi.__webglTexture,De)}else if(fi){const gi=Re.get(J.texture);ke.framebufferTextureLayer(36160,36064,gi.__webglTexture,De||0,ye||0)}V=-1},this.readRenderTargetPixels=function(J,ye,De,we,Ne,ei,fi){if(!J||!J.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let bi=Re.get(J).__webglFramebuffer;if(J.isWebGLCubeRenderTarget&&void 0!==fi&&(bi=bi[fi]),bi){Xe.bindFramebuffer(36160,bi);try{const gi=J.texture,zi=gi.format,Ei=gi.type;if(zi!==Mr&&Q.convert(zi)!==ke.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Ri=Ei===Da&&(zt.has("EXT_color_buffer_half_float")||Ot.isWebGL2&&zt.has("EXT_color_buffer_float"));if(!(Ei===lc||Q.convert(Ei)===ke.getParameter(35738)||Ei===Qr&&(Ot.isWebGL2||zt.has("OES_texture_float")||zt.has("WEBGL_color_buffer_float"))||Ri))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ye>=0&&ye<=J.width-we&&De>=0&&De<=J.height-Ne&&ke.readPixels(ye,De,we,Ne,Q.convert(zi),Q.convert(Ei),ei)}finally{const gi=null!==N?Re.get(N).__webglFramebuffer:null;Xe.bindFramebuffer(36160,gi)}}},this.copyFramebufferToTexture=function(J,ye,De=0){if(!0!==ye.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const we=Math.pow(2,-De),Ne=Math.floor(ye.image.width*we),ei=Math.floor(ye.image.height*we);Fe.setTexture2D(ye,0),ke.copyTexSubImage2D(3553,De,0,0,J.x,J.y,Ne,ei),Xe.unbindTexture()},this.copyTextureToTexture=function(J,ye,De,we=0){const Ne=ye.image.width,ei=ye.image.height,fi=Q.convert(De.format),bi=Q.convert(De.type);Fe.setTexture2D(De,0),ke.pixelStorei(37440,De.flipY),ke.pixelStorei(37441,De.premultiplyAlpha),ke.pixelStorei(3317,De.unpackAlignment),ye.isDataTexture?ke.texSubImage2D(3553,we,J.x,J.y,Ne,ei,fi,bi,ye.image.data):ye.isCompressedTexture?ke.compressedTexSubImage2D(3553,we,J.x,J.y,ye.mipmaps[0].width,ye.mipmaps[0].height,fi,ye.mipmaps[0].data):ke.texSubImage2D(3553,we,J.x,J.y,fi,bi,ye.image),0===we&&De.generateMipmaps&&ke.generateMipmap(3553),Xe.unbindTexture()},this.copyTextureToTexture3D=function(J,ye,De,we,Ne=0){if(A.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const ei=J.max.x-J.min.x+1,fi=J.max.y-J.min.y+1,bi=J.max.z-J.min.z+1,gi=Q.convert(we.format),zi=Q.convert(we.type);let Ei;if(we.isData3DTexture)Fe.setTexture3D(we,0),Ei=32879;else{if(!we.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Fe.setTexture2DArray(we,0),Ei=35866}ke.pixelStorei(37440,we.flipY),ke.pixelStorei(37441,we.premultiplyAlpha),ke.pixelStorei(3317,we.unpackAlignment);const Ri=ke.getParameter(3314),vn=ke.getParameter(32878),Kc=ke.getParameter(3316),hh=ke.getParameter(3315),fh=ke.getParameter(32877),Va=De.isCompressedTexture?De.mipmaps[0]:De.image;ke.pixelStorei(3314,Va.width),ke.pixelStorei(32878,Va.height),ke.pixelStorei(3316,J.min.x),ke.pixelStorei(3315,J.min.y),ke.pixelStorei(32877,J.min.z),De.isDataTexture||De.isData3DTexture?ke.texSubImage3D(Ei,Ne,ye.x,ye.y,ye.z,ei,fi,bi,gi,zi,Va.data):De.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(Ei,Ne,ye.x,ye.y,ye.z,ei,fi,bi,gi,Va.data)):ke.texSubImage3D(Ei,Ne,ye.x,ye.y,ye.z,ei,fi,bi,gi,zi,Va),ke.pixelStorei(3314,Ri),ke.pixelStorei(32878,vn),ke.pixelStorei(3316,Kc),ke.pixelStorei(3315,hh),ke.pixelStorei(32877,fh),0===Ne&&we.generateMipmaps&&ke.generateMipmap(Ei),Xe.unbindTexture()},this.initTexture=function(J){Fe.setTexture2D(J,0),Xe.unbindTexture()},this.resetState=function(){I=0,P=0,N=null,Xe.reset(),Ye.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Hi.prototype.isWebGLRenderer=!0,class qJ extends Hi{}.prototype.isWebGL1Renderer=!0;class J_{constructor(t,e=25e-5){this.name="",this.color=new Qe(t),this.density=e}clone(){return new J_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}J_.prototype.isFogExp2=!0;class ev{constructor(t,e=1,n=1e3){this.name="",this.color=new Qe(t),this.near=e,this.far=n}clone(){return new ev(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}ev.prototype.isFog=!0;class tv extends Li{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}tv.prototype.isScene=!0;class Cc{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=jf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=tr()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[n+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tr()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=tr()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}Cc.prototype.isInterleavedBuffer=!0;const Is=new $;class ml{constructor(t,e,n,s=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.applyMatrix4(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.applyNormalMatrix(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Is.fromBufferAttribute(this,e),Is.transformDirection(t),this.setXYZ(e,Is.x,Is.y,Is.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,s){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=s,this}setXYZW(t,e,n,s,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new Ui(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new ml(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}ml.prototype.isInterleavedBufferAttribute=!0;class zC extends ln{constructor(t){super(),this.type="SpriteMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let Fu;zC.prototype.isSpriteMaterial=!0;const np=new $,Nu=new $,Bu=new $,Vu=new Te,sp=new Te,aF=new Ct,iv=new $,rp=new $,nv=new $,oF=new Te,GC=new Te,lF=new Te;function sv(i,t,e,n,s,r){Vu.subVectors(i,e).addScalar(.5).multiply(n),void 0!==s?(sp.x=r*Vu.x-s*Vu.y,sp.y=s*Vu.x+r*Vu.y):sp.copy(Vu),i.copy(t),i.x+=sp.x,i.y+=sp.y,i.applyMatrix4(aF)}(class cF extends Li{constructor(t){if(super(),this.type="Sprite",void 0===Fu){Fu=new Xt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new Cc(e,5);Fu.setIndex([0,1,2,0,2,3]),Fu.setAttribute("position",new ml(n,3,0,!1)),Fu.setAttribute("uv",new ml(n,2,3,!1))}this.geometry=Fu,this.material=void 0!==t?t:new zC,this.center=new Te(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Nu.setFromMatrixScale(this.matrixWorld),aF.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Bu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Nu.multiplyScalar(-Bu.z);const n=this.material.rotation;let s,r;0!==n&&(r=Math.cos(n),s=Math.sin(n));const a=this.center;sv(iv.set(-.5,-.5,0),Bu,a,Nu,s,r),sv(rp.set(.5,-.5,0),Bu,a,Nu,s,r),sv(nv.set(.5,.5,0),Bu,a,Nu,s,r),oF.set(0,0),GC.set(1,0),lF.set(1,1);let c=t.ray.intersectTriangle(iv,rp,nv,!1,np);if(null===c&&(sv(rp.set(-.5,.5,0),Bu,a,Nu,s,r),GC.set(0,1),c=t.ray.intersectTriangle(iv,nv,rp,!1,np),null===c))return;const d=t.ray.origin.distanceTo(np);d<t.near||d>t.far||e.push({distance:d,point:np.clone(),uv:Ln.getUV(np,iv,rp,nv,oF,GC,lF,new Te),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}).prototype.isSprite=!0;const uF=new $,hF=new Vi,fF=new Vi,KJ=new $,pF=new Ct;class av extends qn{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ct,this.bindMatrixInverse=new Ct}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Vi,e=this.geometry.attributes.skinWeight;for(let n=0,s=e.count;n<s;n++){t.fromBufferAttribute(e,n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,s=this.geometry;hF.fromBufferAttribute(s.attributes.skinIndex,t),fF.fromBufferAttribute(s.attributes.skinWeight,t),uF.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const a=fF.getComponent(r);if(0!==a){const c=hF.getComponent(r);pF.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),e.addScaledVector(KJ.copy(uF).applyMatrix4(pF),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}av.prototype.isSkinnedMesh=!0;class ov extends Li{constructor(){super(),this.type="Bone"}}ov.prototype.isBone=!0;class Hu extends vs{constructor(t=null,e=1,n=1,s,r,a,c,d,h=Pn,g=Pn,v,b){super(null,a,c,d,h,g,s,r,v,b),this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Hu.prototype.isDataTexture=!0;const gF=new Ct,QJ=new Ct;class lv{constructor(t=[],e=[]){this.uuid=tr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new Ct)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new Ct;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let r=0,a=t.length;r<a;r++)gF.multiplyMatrices(t[r]?t[r].matrixWorld:QJ,e[r]),gF.toArray(n,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new lv(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=dO(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Hu(e,t,t,Mr,Qr);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,s=t.bones.length;n<s;n++){const r=t.bones[n];let a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new ov),this.bones.push(a),this.boneInverses.push((new Ct).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let s=0,r=e.length;s<r;s++)t.bones.push(e[s].uuid),t.boneInverses.push(n[s].toArray());return t}}class zu extends Ui{constructor(t,e,n,s=1){"number"==typeof n&&(s=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}zu.prototype.isInstancedBufferAttribute=!0;const mF=new Ct,_F=new Ct,cv=[],ap=new qn;(class vF extends qn{constructor(t,e,n){super(t,e),this.instanceMatrix=new zu(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,s=this.count;if(ap.geometry=this.geometry,ap.material=this.material,void 0!==ap.material)for(let r=0;r<s;r++){this.getMatrixAt(r,mF),_F.multiplyMatrices(n,mF),ap.matrixWorld=_F,ap.raycast(t,cv);for(let a=0,c=cv.length;a<c;a++){const d=cv[a];d.instanceId=r,d.object=this,e.push(d)}cv.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new zu(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class ss extends ln{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Qe(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}ss.prototype.isLineBasicMaterial=!0;const yF=new $,bF=new $,xF=new Ct,UC=new vc,dv=new cl;class _l extends Li{constructor(t=new Xt,e=new ss){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let s=1,r=e.count;s<r;s++)yF.fromBufferAttribute(e,s-1),bF.fromBufferAttribute(e,s),n[s]=n[s-1],n[s]+=yF.distanceTo(bF);t.setAttribute("lineDistance",new St(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),dv.copy(n.boundingSphere),dv.applyMatrix4(s),dv.radius+=r,!1===t.ray.intersectsSphere(dv))return;xF.copy(s).invert(),UC.copy(t.ray).applyMatrix4(xF);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,h=new $,g=new $,v=new $,b=new $,C=this.isLineSegments?2:1;if(n.isBufferGeometry){const D=n.index,E=n.attributes.position;if(null!==D)for(let N=Math.max(0,a.start),V=Math.min(D.count,a.start+a.count)-1;N<V;N+=C){const G=D.getX(N),q=D.getX(N+1);if(h.fromBufferAttribute(E,G),g.fromBufferAttribute(E,q),UC.distanceSqToSegment(h,g,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const se=t.ray.origin.distanceTo(b);se<t.near||se>t.far||e.push({distance:se,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}else for(let N=Math.max(0,a.start),V=Math.min(E.count,a.start+a.count)-1;N<V;N+=C){if(h.fromBufferAttribute(E,N),g.fromBufferAttribute(E,N+1),UC.distanceSqToSegment(h,g,b,v)>d)continue;b.applyMatrix4(this.matrixWorld);const q=t.ray.origin.distanceTo(b);q<t.near||q>t.far||e.push({distance:q,point:v.clone().applyMatrix4(this.matrixWorld),index:N,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}_l.prototype.isLine=!0;const wF=new $,CF=new $;class Mc extends _l{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let s=0,r=e.count;s<r;s+=2)wF.fromBufferAttribute(e,s),CF.fromBufferAttribute(e,s+1),n[s]=0===s?0:n[s-1],n[s+1]=n[s]+wF.distanceTo(CF);t.setAttribute("lineDistance",new St(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Mc.prototype.isLineSegments=!0;class WC extends _l{constructor(t,e){super(t,e),this.type="LineLoop"}}WC.prototype.isLineLoop=!0;class uv extends ln{constructor(t){super(),this.type="PointsMaterial",this.color=new Qe(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}uv.prototype.isPointsMaterial=!0;const MF=new Ct,jC=new vc,hv=new cl,fv=new $;class YC extends Li{constructor(t=new Xt,e=new uv){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),hv.copy(n.boundingSphere),hv.applyMatrix4(s),hv.radius+=r,!1===t.ray.intersectsSphere(hv))return;MF.copy(s).invert(),jC.copy(t.ray).applyMatrix4(MF);const c=r/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c;if(n.isBufferGeometry){const h=n.index,v=n.attributes.position;if(null!==h)for(let D=Math.max(0,a.start),A=Math.min(h.count,a.start+a.count);D<A;D++){const E=h.getX(D);fv.fromBufferAttribute(v,E),SF(fv,E,d,s,t,e,this)}else for(let D=Math.max(0,a.start),A=Math.min(v.count,a.start+a.count);D<A;D++)fv.fromBufferAttribute(v,D),SF(fv,D,d,s,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const c=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function SF(i,t,e,n,s,r,a){const c=jC.distanceSqToPoint(i);if(c<e){const d=new $;jC.closestPointToPoint(i,d),d.applyMatrix4(n);const h=s.ray.origin.distanceTo(d);if(h<s.near||h>s.far)return;r.push({distance:h,distanceToRay:Math.sqrt(c),point:d,index:t,face:null,object:a})}}YC.prototype.isPoints=!0,class JJ extends vs{constructor(t,e,n,s,r,a,c,d,h){super(t,e,n,s,r,a,c,d,h),this.minFilter=void 0!==a?a:Xi,this.magFilter=void 0!==r?r:Xi,this.generateMipmaps=!1;const g=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function v(){g.needsUpdate=!0,t.requestVideoFrameCallback(v)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class eee extends vs{constructor(t,e,n){super({width:t,height:e}),this.format=n,this.magFilter=Pn,this.minFilter=Pn,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class DF extends vs{constructor(t,e,n,s,r,a,c,d,h,g,v,b){super(null,a,c,d,h,g,s,r,v,b),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class tee extends vs{constructor(t,e,n,s,r,a,c,d,h){super(t,e,n,s,r,a,c,d,h),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class Dr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,s=this.getPoint(0),r=0;e.push(0);for(let a=1;a<=t;a++)n=this.getPoint(a/t),r+=n.distanceTo(s),e.push(r),s=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let s=0;const r=n.length;let a;a=e||t*n[r-1];let h,c=0,d=r-1;for(;c<=d;)if(s=Math.floor(c+(d-c)/2),h=n[s]-a,h<0)c=s+1;else{if(!(h>0)){d=s;break}d=s-1}if(s=d,n[s]===a)return s/(r-1);const g=n[s];return(s+(a-g)/(n[s+1]-g))/(r-1)}getTangent(t,e){const n=1e-4;let s=t-n,r=t+n;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),c=this.getPoint(r),d=e||(a.isVector2?new Te:new $);return d.copy(c).sub(a).normalize(),d}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new $,s=[],r=[],a=[],c=new $,d=new Ct;for(let C=0;C<=t;C++)s[C]=this.getTangentAt(C/t,new $);r[0]=new $,a[0]=new $;let h=Number.MAX_VALUE;const g=Math.abs(s[0].x),v=Math.abs(s[0].y),b=Math.abs(s[0].z);g<=h&&(h=g,n.set(1,0,0)),v<=h&&(h=v,n.set(0,1,0)),b<=h&&n.set(0,0,1),c.crossVectors(s[0],n).normalize(),r[0].crossVectors(s[0],c),a[0].crossVectors(s[0],r[0]);for(let C=1;C<=t;C++){if(r[C]=r[C-1].clone(),a[C]=a[C-1].clone(),c.crossVectors(s[C-1],s[C]),c.length()>Number.EPSILON){c.normalize();const D=Math.acos(Cn(s[C-1].dot(s[C]),-1,1));r[C].applyMatrix4(d.makeRotationAxis(c,D))}a[C].crossVectors(s[C],r[C])}if(!0===e){let C=Math.acos(Cn(r[0].dot(r[t]),-1,1));C/=t,s[0].dot(c.crossVectors(r[0],r[t]))>0&&(C=-C);for(let D=1;D<=t;D++)r[D].applyMatrix4(d.makeRotationAxis(s[D],C*D)),a[D].crossVectors(s[D],r[D])}return{tangents:s,normals:r,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class pv extends Dr{constructor(t=0,e=0,n=1,s=1,r=0,a=2*Math.PI,c=!1,d=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=c,this.aRotation=d}getPoint(t,e){const n=e||new Te,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=a?0:s),!0===this.aClockwise&&!a&&(r===s?r=-s:r-=s);const c=this.aStartAngle+t*r;let d=this.aX+this.xRadius*Math.cos(c),h=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){const g=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=d-this.aX,C=h-this.aY;d=b*g-C*v+this.aX,h=b*v+C*g+this.aY}return n.set(d,h)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}pv.prototype.isEllipseCurve=!0;class AF extends pv{constructor(t,e,n,s,r,a){super(t,e,n,n,s,r,a),this.type="ArcCurve"}}function XC(){let i=0,t=0,e=0,n=0;function s(r,a,c,d){i=r,t=c,e=-3*r+3*a-2*c-d,n=2*r-2*a+c+d}return{initCatmullRom:function(r,a,c,d,h){s(a,c,h*(c-r),h*(d-a))},initNonuniformCatmullRom:function(r,a,c,d,h,g,v){let b=(a-r)/h-(c-r)/(h+g)+(c-a)/g,C=(c-a)/g-(d-a)/(g+v)+(d-c)/v;b*=g,C*=g,s(a,c,b,C)},calc:function(r){const a=r*r;return i+t*r+e*a+n*(a*r)}}}AF.prototype.isArcCurve=!0;const gv=new $,$C=new XC,qC=new XC,ZC=new XC;class EF extends Dr{constructor(t=[],e=!1,n="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=s}getPoint(t,e=new $){const n=e,s=this.points,r=s.length,a=(r-(this.closed?0:1))*t;let h,g,c=Math.floor(a),d=a-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/r)+1)*r:0===d&&c===r-1&&(c=r-2,d=1),this.closed||c>0?h=s[(c-1)%r]:(gv.subVectors(s[0],s[1]).add(s[0]),h=gv);const v=s[c%r],b=s[(c+1)%r];if(this.closed||c+2<r?g=s[(c+2)%r]:(gv.subVectors(s[r-1],s[r-2]).add(s[r-1]),g=gv),"centripetal"===this.curveType||"chordal"===this.curveType){const C="chordal"===this.curveType?.5:.25;let D=Math.pow(h.distanceToSquared(v),C),A=Math.pow(v.distanceToSquared(b),C),E=Math.pow(b.distanceToSquared(g),C);A<1e-4&&(A=1),D<1e-4&&(D=A),E<1e-4&&(E=A),$C.initNonuniformCatmullRom(h.x,v.x,b.x,g.x,D,A,E),qC.initNonuniformCatmullRom(h.y,v.y,b.y,g.y,D,A,E),ZC.initNonuniformCatmullRom(h.z,v.z,b.z,g.z,D,A,E)}else"catmullrom"===this.curveType&&($C.initCatmullRom(h.x,v.x,b.x,g.x,this.tension),qC.initCatmullRom(h.y,v.y,b.y,g.y,this.tension),ZC.initCatmullRom(h.z,v.z,b.z,g.z,this.tension));return n.set($C.calc(d),qC.calc(d),ZC.calc(d)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const s=t.points[e];this.points.push((new $).fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function TF(i,t,e,n,s){const r=.5*(n-t),a=.5*(s-e),c=i*i;return(2*e-2*n+r+a)*(i*c)+(-3*e+3*n-2*r-a)*c+r*i+e}function op(i,t,e,n){return function iee(i,t){const e=1-i;return e*e*t}(i,t)+function nee(i,t){return 2*(1-i)*i*t}(i,e)+function see(i,t){return i*i*t}(i,n)}function lp(i,t,e,n,s){return function ree(i,t){const e=1-i;return e*e*e*t}(i,t)+function aee(i,t){const e=1-i;return 3*e*e*i*t}(i,e)+function oee(i,t){return 3*(1-i)*i*i*t}(i,n)+function lee(i,t){return i*i*i*t}(i,s)}EF.prototype.isCatmullRomCurve3=!0;class KC extends Dr{constructor(t=new Te,e=new Te,n=new Te,s=new Te){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=s}getPoint(t,e=new Te){const n=e,s=this.v0,r=this.v1,a=this.v2,c=this.v3;return n.set(lp(t,s.x,r.x,a.x,c.x),lp(t,s.y,r.y,a.y,c.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}KC.prototype.isCubicBezierCurve=!0;class kF extends Dr{constructor(t=new $,e=new $,n=new $,s=new $){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=s}getPoint(t,e=new $){const n=e,s=this.v0,r=this.v1,a=this.v2,c=this.v3;return n.set(lp(t,s.x,r.x,a.x,c.x),lp(t,s.y,r.y,a.y,c.y),lp(t,s.z,r.z,a.z,c.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}kF.prototype.isCubicBezierCurve3=!0;class mv extends Dr{constructor(t=new Te,e=new Te){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Te){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new Te;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}mv.prototype.isLineCurve=!0;class QC extends Dr{constructor(t=new Te,e=new Te,n=new Te){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new Te){const n=e,s=this.v0,r=this.v1,a=this.v2;return n.set(op(t,s.x,r.x,a.x),op(t,s.y,r.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}QC.prototype.isQuadraticBezierCurve=!0;class JC extends Dr{constructor(t=new $,e=new $,n=new $){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new $){const n=e,s=this.v0,r=this.v1,a=this.v2;return n.set(op(t,s.x,r.x,a.x),op(t,s.y,r.y,a.y),op(t,s.z,r.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}JC.prototype.isQuadraticBezierCurve3=!0;class eM extends Dr{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new Te){const n=e,s=this.points,r=(s.length-1)*t,a=Math.floor(r),c=r-a,d=s[0===a?a:a-1],h=s[a],g=s[a>s.length-2?s.length-1:a+1],v=s[a>s.length-3?s.length-1:a+2];return n.set(TF(c,d.x,h.x,g.x,v.x),TF(c,d.y,h.y,g.y,v.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const s=t.points[e];this.points.push((new Te).fromArray(s))}return this}}eM.prototype.isSplineCurve=!0;var tM=Object.freeze({__proto__:null,ArcCurve:AF,CatmullRomCurve3:EF,CubicBezierCurve:KC,CubicBezierCurve3:kF,EllipseCurve:pv,LineCurve:mv,LineCurve3:class cee extends Dr{constructor(t=new $,e=new $){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new $){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:QC,QuadraticBezierCurve3:JC,SplineCurve:eM});class dee extends Dr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new mv(e,t))}getPoint(t,e){const n=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=n){const a=s[r]-n,c=this.curves[r],d=c.getLength();return c.getPointAt(0===d?0:1-a/d,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,s=this.curves.length;n<s;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],d=a.getPoints(a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t);for(let h=0;h<d.length;h++){const g=d[h];n&&n.equals(g)||(e.push(g),n=g)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const s=t.curves[e];this.curves.push((new tM[s.type]).fromJSON(s))}return this}}class cp extends dee{constructor(t){super(),this.type="Path",this.currentPoint=new Te,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new mv(this.currentPoint.clone(),new Te(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,s){const r=new QC(this.currentPoint.clone(),new Te(t,e),new Te(n,s));return this.curves.push(r),this.currentPoint.set(n,s),this}bezierCurveTo(t,e,n,s,r,a){const c=new KC(this.currentPoint.clone(),new Te(t,e),new Te(n,s),new Te(r,a));return this.curves.push(c),this.currentPoint.set(r,a),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new eM(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,s,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,s,r,a),this}absarc(t,e,n,s,r,a){return this.absellipse(t,e,n,n,s,r,a),this}ellipse(t,e,n,s,r,a,c,d){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,s,r,a,c,d),this}absellipse(t,e,n,s,r,a,c,d){const h=new pv(t,e,n,s,r,a,c,d);if(this.curves.length>0){const v=h.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(h);const g=h.getPoint(1);return this.currentPoint.copy(g),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new $,new $,new $,new Ln;class go extends cp{constructor(t){super(t),this.uuid=tr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,s=this.holes.length;n<s;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const s=t.holes[e];this.holes.push((new cp).fromJSON(s))}return this}}function IF(i,t,e,n,s){let r,a;if(s===function Aee(i,t,e,n){let s=0;for(let r=t,a=e-n;r<e;r+=n)s+=(i[a]-i[r])*(i[r+1]+i[a+1]),a=r;return s}(i,t,e,n)>0)for(r=t;r<e;r+=n)a=OF(r,i[r],i[r+1],a);else for(r=e-n;r>=t;r-=n)a=OF(r,i[r],i[r+1],a);return a&&Mv(a,a.next)&&(fp(a),a=a.next),a}function yl(i,t){if(!i)return i;t||(t=i);let n,e=i;do{if(n=!1,e.steiner||!Mv(e,e.next)&&0!==cn(e.prev,e,e.next))e=e.next;else{if(fp(e),e=t=e.prev,e===e.next)break;n=!0}}while(n||e!==t);return t}function up(i,t,e,n,s,r,a){if(!i)return;!a&&r&&function xee(i,t,e,n){let s=i;do{null===s.z&&(s.z=nM(s.x,s.y,t,e,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,function wee(i){let t,e,n,s,r,a,c,d,h=1;do{for(e=i,i=null,r=null,a=0;e;){for(a++,n=e,c=0,t=0;t<h&&(c++,n=n.nextZ,n);t++);for(d=h;c>0||d>0&&n;)0!==c&&(0===d||!n||e.z<=n.z)?(s=e,e=e.nextZ,c--):(s=n,n=n.nextZ,d--),r?r.nextZ=s:i=s,s.prevZ=r,r=s;e=n}r.nextZ=null,h*=2}while(a>1)}(s)}(i,n,s,r);let d,h,c=i;for(;i.prev!==i.next;)if(d=i.prev,h=i.next,r?fee(i,n,s,r):hee(i))t.push(d.i/e),t.push(i.i/e),t.push(h.i/e),fp(i),i=h.next,c=h.next;else if((i=h)===c){a?1===a?up(i=pee(yl(i),t,e),t,e,n,s,r,2):2===a&&gee(i,t,e,n,s,r):up(yl(i),t,e,n,s,r,1);break}}function hee(i){const t=i.prev,e=i,n=i.next;if(cn(t,e,n)>=0)return!1;let s=i.next.next;for(;s!==i.prev;){if(Uu(t.x,t.y,e.x,e.y,n.x,n.y,s.x,s.y)&&cn(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function fee(i,t,e,n){const s=i.prev,r=i,a=i.next;if(cn(s,r,a)>=0)return!1;const h=s.x>r.x?s.x>a.x?s.x:a.x:r.x>a.x?r.x:a.x,g=s.y>r.y?s.y>a.y?s.y:a.y:r.y>a.y?r.y:a.y,v=nM(s.x<r.x?s.x<a.x?s.x:a.x:r.x<a.x?r.x:a.x,s.y<r.y?s.y<a.y?s.y:a.y:r.y<a.y?r.y:a.y,t,e,n),b=nM(h,g,t,e,n);let C=i.prevZ,D=i.nextZ;for(;C&&C.z>=v&&D&&D.z<=b;){if(C!==i.prev&&C!==i.next&&Uu(s.x,s.y,r.x,r.y,a.x,a.y,C.x,C.y)&&cn(C.prev,C,C.next)>=0||(C=C.prevZ,D!==i.prev&&D!==i.next&&Uu(s.x,s.y,r.x,r.y,a.x,a.y,D.x,D.y)&&cn(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;C&&C.z>=v;){if(C!==i.prev&&C!==i.next&&Uu(s.x,s.y,r.x,r.y,a.x,a.y,C.x,C.y)&&cn(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;D&&D.z<=b;){if(D!==i.prev&&D!==i.next&&Uu(s.x,s.y,r.x,r.y,a.x,a.y,D.x,D.y)&&cn(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function pee(i,t,e){let n=i;do{const s=n.prev,r=n.next.next;!Mv(s,r)&&PF(s,n,n.next,r)&&hp(s,r)&&hp(r,s)&&(t.push(s.i/e),t.push(n.i/e),t.push(r.i/e),fp(n),fp(n.next),n=i=r),n=n.next}while(n!==i);return yl(n)}function gee(i,t,e,n,s,r){let a=i;do{let c=a.next.next;for(;c!==a.prev;){if(a.i!==c.i&&Mee(a,c)){let d=LF(a,c);return a=yl(a,a.next),d=yl(d,d.next),up(a,t,e,n,s,r),void up(d,t,e,n,s,r)}c=c.next}a=a.next}while(a!==i)}function _ee(i,t){return i.x-t.x}function vee(i,t){if(t=function yee(i,t){let e=t;const n=i.x,s=i.y;let a,r=-1/0;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const b=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(b<=n&&b>r){if(r=b,b===n){if(s===e.y)return e;if(s===e.next.y)return e.next}a=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!a)return null;if(n===r)return a;const c=a,d=a.x,h=a.y;let v,g=1/0;e=a;do{n>=e.x&&e.x>=d&&n!==e.x&&Uu(s<h?n:r,s,d,h,s<h?r:n,s,e.x,e.y)&&(v=Math.abs(s-e.y)/(n-e.x),hp(e,i)&&(v<g||v===g&&(e.x>a.x||e.x===a.x&&bee(a,e)))&&(a=e,g=v)),e=e.next}while(e!==c);return a}(i,t),t){const e=LF(t,i);yl(t,t.next),yl(e,e.next)}}function bee(i,t){return cn(i.prev,i,t.prev)<0&&cn(t.next,i,i.next)<0}function nM(i,t,e,n,s){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-e)*s)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*s)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Cee(i){let t=i,e=i;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==i);return e}function Uu(i,t,e,n,s,r,a,c){return(s-a)*(t-c)-(i-a)*(r-c)>=0&&(i-a)*(n-c)-(e-a)*(t-c)>=0&&(e-a)*(r-c)-(s-a)*(n-c)>=0}function Mee(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!function See(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&PF(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}(i,t)&&(hp(i,t)&&hp(t,i)&&function Dee(i,t){let e=i,n=!1;const s=(i.x+t.x)/2,r=(i.y+t.y)/2;do{e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next}while(e!==i);return n}(i,t)&&(cn(i.prev,i,t.prev)||cn(i,t.prev,t))||Mv(i,t)&&cn(i.prev,i,i.next)>0&&cn(t.prev,t,t.next)>0)}function cn(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function Mv(i,t){return i.x===t.x&&i.y===t.y}function PF(i,t,e,n){const s=Dv(cn(i,t,e)),r=Dv(cn(i,t,n)),a=Dv(cn(e,n,i)),c=Dv(cn(e,n,t));return!!(s!==r&&a!==c||0===s&&Sv(i,e,t)||0===r&&Sv(i,n,t)||0===a&&Sv(e,i,n)||0===c&&Sv(e,t,n))}function Sv(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function Dv(i){return i>0?1:i<0?-1:0}function hp(i,t){return cn(i.prev,i,i.next)<0?cn(i,t,i.next)>=0&&cn(i,i.prev,t)>=0:cn(i,t,i.prev)<0||cn(i,i.next,t)<0}function LF(i,t){const e=new sM(i.i,i.x,i.y),n=new sM(t.i,t.x,t.y),s=i.next,r=t.prev;return i.next=t,t.prev=i,e.next=s,s.prev=e,n.next=e,e.prev=n,r.next=n,n.prev=r,n}function OF(i,t,e,n){const s=new sM(i,t,e);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function fp(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function sM(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class mo{static area(t){const e=t.length;let n=0;for(let s=e-1,r=0;r<e;s=r++)n+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*n}static isClockWise(t){return mo.area(t)<0}static triangulateShape(t,e){const n=[],s=[],r=[];FF(t),NF(n,t);let a=t.length;e.forEach(FF);for(let d=0;d<e.length;d++)s.push(a),a+=e[d].length,NF(n,e[d]);const c=function(i,t,e=2){const n=t&&t.length,s=n?t[0]*e:i.length;let r=IF(i,0,s,e,!0);const a=[];if(!r||r.next===r.prev)return a;let c,d,h,g,v,b,C;if(n&&(r=function mee(i,t,e,n){const s=[];let r,a,c,d,h;for(r=0,a=t.length;r<a;r++)c=t[r]*n,d=r<a-1?t[r+1]*n:i.length,h=IF(i,c,d,n,!1),h===h.next&&(h.steiner=!0),s.push(Cee(h));for(s.sort(_ee),r=0;r<s.length;r++)vee(s[r],e),e=yl(e,e.next);return e}(i,t,r,e)),i.length>80*e){c=h=i[0],d=g=i[1];for(let D=e;D<s;D+=e)v=i[D],b=i[D+1],v<c&&(c=v),b<d&&(d=b),v>h&&(h=v),b>g&&(g=b);C=Math.max(h-c,g-d),C=0!==C?1/C:0}return up(r,a,e,c,d,C),a}(n,s);for(let d=0;d<c.length;d+=3)r.push(c.slice(d,d+3));return r}}function FF(i){const t=i.length;t>2&&i[t-1].equals(i[0])&&i.pop()}function NF(i,t){for(let e=0;e<t.length;e++)i.push(t[e].x),i.push(t[e].y)}class bl extends Xt{constructor(t=new go([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,s=[],r=[];for(let c=0,d=t.length;c<d;c++)a(t[c]);function a(c){const d=[],h=void 0!==e.curveSegments?e.curveSegments:12,g=void 0!==e.steps?e.steps:1;let v=void 0!==e.depth?e.depth:1,b=void 0===e.bevelEnabled||e.bevelEnabled,C=void 0!==e.bevelThickness?e.bevelThickness:.2,D=void 0!==e.bevelSize?e.bevelSize:C-.1,A=void 0!==e.bevelOffset?e.bevelOffset:0,E=void 0!==e.bevelSegments?e.bevelSegments:3;const I=e.extrudePath,P=void 0!==e.UVGenerator?e.UVGenerator:Eee;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),v=e.amount);let N,G,q,ee,se,V=!1;I&&(N=I.getSpacedPoints(g),V=!0,b=!1,G=I.computeFrenetFrames(g,!1),q=new $,ee=new $,se=new $),b||(E=0,C=0,D=0,A=0);const ce=c.extractPoints(h);let oe=ce.shape;const j=ce.holes;if(!mo.isClockWise(oe)){oe=oe.reverse();for(let Re=0,Fe=j.length;Re<Fe;Re++){const qe=j[Re];mo.isClockWise(qe)&&(j[Re]=qe.reverse())}}const Ce=mo.triangulateShape(oe,j),pe=oe;for(let Re=0,Fe=j.length;Re<Fe;Re++)oe=oe.concat(j[Re]);function _e(Re,Fe,qe){return Fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Fe.clone().multiplyScalar(qe).add(Re)}const ae=oe.length,de=Ce.length;function re(Re,Fe,qe){let wt,ut,si;const Wt=Re.x-Fe.x,Ft=Re.y-Fe.y,qi=qe.x-Re.x,Oi=qe.y-Re.y,ne=Wt*Wt+Ft*Ft;if(Math.abs(Wt*Oi-Ft*qi)>Number.EPSILON){const Se=Math.sqrt(ne),We=Math.sqrt(qi*qi+Oi*Oi),ct=Fe.x-Ft/Se,vt=Fe.y+Wt/Se,Ye=((qe.x-Oi/We-ct)*Oi-(qe.y+qi/We-vt)*qi)/(Wt*Oi-Ft*qi);wt=ct+Wt*Ye-Re.x,ut=vt+Ft*Ye-Re.y;const Et=wt*wt+ut*ut;if(Et<=2)return new Te(wt,ut);si=Math.sqrt(Et/2)}else{let Se=!1;Wt>Number.EPSILON?qi>Number.EPSILON&&(Se=!0):Wt<-Number.EPSILON?qi<-Number.EPSILON&&(Se=!0):Math.sign(Ft)===Math.sign(Oi)&&(Se=!0),Se?(wt=-Ft,ut=Wt,si=Math.sqrt(ne)):(wt=Wt,ut=Ft,si=Math.sqrt(ne/2))}return new Te(wt/si,ut/si)}const be=[];for(let Re=0,Fe=pe.length,qe=Fe-1,wt=Re+1;Re<Fe;Re++,qe++,wt++)qe===Fe&&(qe=0),wt===Fe&&(wt=0),be[Re]=re(pe[Re],pe[qe],pe[wt]);const Ae=[];let Ue,Oe=be.concat();for(let Re=0,Fe=j.length;Re<Fe;Re++){const qe=j[Re];Ue=[];for(let wt=0,ut=qe.length,si=ut-1,Wt=wt+1;wt<ut;wt++,si++,Wt++)si===ut&&(si=0),Wt===ut&&(Wt=0),Ue[wt]=re(qe[wt],qe[si],qe[Wt]);Ae.push(Ue),Oe=Oe.concat(Ue)}for(let Re=0;Re<E;Re++){const Fe=Re/E,qe=C*Math.cos(Fe*Math.PI/2),wt=D*Math.sin(Fe*Math.PI/2)+A;for(let ut=0,si=pe.length;ut<si;ut++){const Wt=_e(pe[ut],be[ut],wt);$t(Wt.x,Wt.y,-qe)}for(let ut=0,si=j.length;ut<si;ut++){const Wt=j[ut];Ue=Ae[ut];for(let Ft=0,qi=Wt.length;Ft<qi;Ft++){const Oi=_e(Wt[Ft],Ue[Ft],wt);$t(Oi.x,Oi.y,-qe)}}}const xt=D+A;for(let Re=0;Re<ae;Re++){const Fe=b?_e(oe[Re],Oe[Re],xt):oe[Re];V?(ee.copy(G.normals[0]).multiplyScalar(Fe.x),q.copy(G.binormals[0]).multiplyScalar(Fe.y),se.copy(N[0]).add(ee).add(q),$t(se.x,se.y,se.z)):$t(Fe.x,Fe.y,0)}for(let Re=1;Re<=g;Re++)for(let Fe=0;Fe<ae;Fe++){const qe=b?_e(oe[Fe],Oe[Fe],xt):oe[Fe];V?(ee.copy(G.normals[Re]).multiplyScalar(qe.x),q.copy(G.binormals[Re]).multiplyScalar(qe.y),se.copy(N[Re]).add(ee).add(q),$t(se.x,se.y,se.z)):$t(qe.x,qe.y,v/g*Re)}for(let Re=E-1;Re>=0;Re--){const Fe=Re/E,qe=C*Math.cos(Fe*Math.PI/2),wt=D*Math.sin(Fe*Math.PI/2)+A;for(let ut=0,si=pe.length;ut<si;ut++){const Wt=_e(pe[ut],be[ut],wt);$t(Wt.x,Wt.y,v+qe)}for(let ut=0,si=j.length;ut<si;ut++){const Wt=j[ut];Ue=Ae[ut];for(let Ft=0,qi=Wt.length;Ft<qi;Ft++){const Oi=_e(Wt[Ft],Ue[Ft],wt);V?$t(Oi.x,Oi.y+N[g-1].y,N[g-1].x+qe):$t(Oi.x,Oi.y,v+qe)}}}function ke(Re,Fe){let qe=Re.length;for(;--qe>=0;){const wt=qe;let ut=qe-1;ut<0&&(ut=Re.length-1);for(let si=0,Wt=g+2*E;si<Wt;si++){const Ft=ae*si,qi=ae*(si+1);Ot(Fe+wt+Ft,Fe+ut+Ft,Fe+ut+qi,Fe+wt+qi)}}}function $t(Re,Fe,qe){d.push(Re),d.push(Fe),d.push(qe)}function zt(Re,Fe,qe){Xe(Re),Xe(Fe),Xe(qe);const wt=s.length/3,ut=P.generateTopUV(n,s,wt-3,wt-2,wt-1);ni(ut[0]),ni(ut[1]),ni(ut[2])}function Ot(Re,Fe,qe,wt){Xe(Re),Xe(Fe),Xe(wt),Xe(Fe),Xe(qe),Xe(wt);const ut=s.length/3,si=P.generateSideWallUV(n,s,ut-6,ut-3,ut-2,ut-1);ni(si[0]),ni(si[1]),ni(si[3]),ni(si[1]),ni(si[2]),ni(si[3])}function Xe(Re){s.push(d[3*Re+0]),s.push(d[3*Re+1]),s.push(d[3*Re+2])}function ni(Re){r.push(Re.x),r.push(Re.y)}(function bt(){const Re=s.length/3;if(b){let Fe=0,qe=ae*Fe;for(let wt=0;wt<de;wt++){const ut=Ce[wt];zt(ut[2]+qe,ut[1]+qe,ut[0]+qe)}Fe=g+2*E,qe=ae*Fe;for(let wt=0;wt<de;wt++){const ut=Ce[wt];zt(ut[0]+qe,ut[1]+qe,ut[2]+qe)}}else{for(let Fe=0;Fe<de;Fe++){const qe=Ce[Fe];zt(qe[2],qe[1],qe[0])}for(let Fe=0;Fe<de;Fe++){const qe=Ce[Fe];zt(qe[0]+ae*g,qe[1]+ae*g,qe[2]+ae*g)}}n.addGroup(Re,s.length/3-Re,0)})(),function Ht(){const Re=s.length/3;let Fe=0;ke(pe,Fe),Fe+=pe.length;for(let qe=0,wt=j.length;qe<wt;qe++){const ut=j[qe];ke(ut,Fe),Fe+=ut.length}n.addGroup(Re,s.length/3-Re,1)}()}this.setAttribute("position",new St(s,3)),this.setAttribute("uv",new St(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function Tee(i,t,e){if(e.shapes=[],Array.isArray(i))for(let n=0,s=i.length;n<s;n++)e.shapes.push(i[n].uuid);else e.shapes.push(i.uuid);return void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let r=0,a=t.shapes.length;r<a;r++)n.push(e[t.shapes[r]]);const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new tM[s.type]).fromJSON(s)),new bl(n,t.options)}}const Eee={generateTopUV:function(i,t,e,n,s){const c=t[3*n],d=t[3*n+1],h=t[3*s],g=t[3*s+1];return[new Te(t[3*e],t[3*e+1]),new Te(c,d),new Te(h,g)]},generateSideWallUV:function(i,t,e,n,s,r){const a=t[3*e],c=t[3*e+1],d=t[3*e+2],h=t[3*n],g=t[3*n+1],v=t[3*n+2],b=t[3*s],C=t[3*s+1],D=t[3*s+2],A=t[3*r],E=t[3*r+1],I=t[3*r+2];return Math.abs(c-g)<Math.abs(a-h)?[new Te(a,1-d),new Te(h,1-v),new Te(b,1-D),new Te(A,1-I)]:[new Te(c,1-d),new Te(g,1-v),new Te(C,1-D),new Te(E,1-I)]}};class gp extends Xt{constructor(t=new go([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],s=[],r=[],a=[];let c=0,d=0;if(!1===Array.isArray(t))h(t);else for(let g=0;g<t.length;g++)h(t[g]),this.addGroup(c,d,g),c+=d,d=0;function h(g){const v=s.length/3,b=g.extractPoints(e);let C=b.shape;const D=b.holes;!1===mo.isClockWise(C)&&(C=C.reverse());for(let E=0,I=D.length;E<I;E++){const P=D[E];!0===mo.isClockWise(P)&&(D[E]=P.reverse())}const A=mo.triangulateShape(C,D);for(let E=0,I=D.length;E<I;E++)C=C.concat(D[E]);for(let E=0,I=C.length;E<I;E++){const P=C[E];s.push(P.x,P.y,0),r.push(0,0,1),a.push(P.x,P.y)}for(let E=0,I=A.length;E<I;E++){const P=A[E];n.push(P[0]+v,P[1]+v,P[2]+v),d+=3}}this.setIndex(n),this.setAttribute("position",new St(s,3)),this.setAttribute("normal",new St(r,3)),this.setAttribute("uv",new St(a,2))}toJSON(){const t=super.toJSON();return function kee(i,t){if(t.shapes=[],Array.isArray(i))for(let e=0,n=i.length;e<n;e++)t.shapes.push(i[e].uuid);else t.shapes.push(i.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let s=0,r=t.shapes.length;s<r;s++)n.push(e[t.shapes[s]]);return new gp(n,t.curveSegments)}}class zF extends ln{constructor(t){super(),this.type="ShadowMaterial",this.color=new Qe(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}zF.prototype.isShadowMaterial=!0;class GF extends sa{constructor(t){super(t),this.type="RawShaderMaterial"}}GF.prototype.isRawShaderMaterial=!0;class Wu extends ln{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Qe(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Wu.prototype.isMeshStandardMaterial=!0;class xl extends Wu{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Qe(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Qe(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Qe(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}xl.prototype.isMeshPhysicalMaterial=!0;class UF extends ln{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Qe(16777215),this.specular=new Qe(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}UF.prototype.isMeshPhongMaterial=!0;class WF extends ln{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Qe(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}WF.prototype.isMeshToonMaterial=!0;class jF extends ln{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}jF.prototype.isMeshNormalMaterial=!0;class YF extends ln{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Qe(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Qe(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}YF.prototype.isMeshLambertMaterial=!0;class XF extends ln{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Qe(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}XF.prototype.isMeshMatcapMaterial=!0;class $F extends ss{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}$F.prototype.isLineDashedMaterial=!0;const Ree={ShadowMaterial:zF,SpriteMaterial:zC,RawShaderMaterial:GF,ShaderMaterial:sa,PointsMaterial:uv,MeshPhysicalMaterial:xl,MeshStandardMaterial:Wu,MeshPhongMaterial:UF,MeshToonMaterial:WF,MeshNormalMaterial:jF,MeshLambertMaterial:YF,MeshDepthMaterial:BC,MeshDistanceMaterial:VC,MeshBasicMaterial:rr,MeshMatcapMaterial:XF,LineDashedMaterial:$F,LineBasicMaterial:ss,Material:ln};ln.fromType=function(i){return new Ree[i]};const nn={arraySlice:function(i,t,e){return nn.isTypedArray(i)?new i.constructor(i.subarray(t,void 0!==e?e:i.length)):i.slice(t,e)},convertArray:function(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){const e=i.length,n=new Array(e);for(let s=0;s!==e;++s)n[s]=s;return n.sort(function t(s,r){return i[s]-i[r]}),n},sortedArray:function(i,t,e){const n=i.length,s=new i.constructor(n);for(let r=0,a=0;a!==n;++r){const c=e[r]*t;for(let d=0;d!==t;++d)s[a++]=i[c+d]}return s},flattenJSON:function(i,t,e,n){let s=1,r=i[0];for(;void 0!==r&&void 0===r[n];)r=i[s++];if(void 0===r)return;let a=r[n];if(void 0!==a)if(Array.isArray(a))do{a=r[n],void 0!==a&&(t.push(r.time),e.push.apply(e,a)),r=i[s++]}while(void 0!==r);else if(void 0!==a.toArray)do{a=r[n],void 0!==a&&(t.push(r.time),a.toArray(e,e.length)),r=i[s++]}while(void 0!==r);else do{a=r[n],void 0!==a&&(t.push(r.time),e.push(a)),r=i[s++]}while(void 0!==r)},subclip:function(i,t,e,n,s=30){const r=i.clone();r.name=t;const a=[];for(let d=0;d<r.tracks.length;++d){const h=r.tracks[d],g=h.getValueSize(),v=[],b=[];for(let C=0;C<h.times.length;++C){const D=h.times[C]*s;if(!(D<e||D>=n)){v.push(h.times[C]);for(let A=0;A<g;++A)b.push(h.values[C*g+A])}}0!==v.length&&(h.times=nn.convertArray(v,h.times.constructor),h.values=nn.convertArray(b,h.values.constructor),a.push(h))}r.tracks=a;let c=1/0;for(let d=0;d<r.tracks.length;++d)c>r.tracks[d].times[0]&&(c=r.tracks[d].times[0]);for(let d=0;d<r.tracks.length;++d)r.tracks[d].shift(-1*c);return r.resetDuration(),r},makeClipAdditive:function(i,t=0,e=i,n=30){n<=0&&(n=30);const s=e.tracks.length,r=t/n;for(let a=0;a<s;++a){const c=e.tracks[a],d=c.ValueTypeName;if("bool"===d||"string"===d)continue;const h=i.tracks.find(function(I){return I.name===c.name&&I.ValueTypeName===d});if(void 0===h)continue;let g=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);let b=0;const C=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=C/3);const D=c.times.length-1;let A;if(r<=c.times[0])A=nn.arraySlice(c.values,g,v-g);else if(r>=c.times[D]){const I=D*v+g;A=nn.arraySlice(c.values,I,I+v-g)}else{const I=c.createInterpolant(),P=g,N=v-g;I.evaluate(r),A=nn.arraySlice(I.resultBuffer,P,N)}"quaternion"===d&&(new $n).fromArray(A).normalize().conjugate().toArray(A);const E=h.times.length;for(let I=0;I<E;++I){const P=I*C+b;if("quaternion"===d)$n.multiplyQuaternionsFlat(h.values,P,A,0,h.values,P);else{const N=C-2*b;for(let V=0;V<N;++V)h.values[P+V]-=A[V]}}}return i.blendMode=2501,i}};class _o{constructor(t,e,n,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,s=e[n],r=e[n-1];e:{t:{let a;i:{n:if(!(t<s)){for(let c=n+2;;){if(void 0===s){if(t<r)break n;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===c)break;if(r=s,s=e[++n],t<s)break t}a=e.length;break i}if(t>=r)break e;{const c=e[1];t<c&&(n=2,r=c);for(let d=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(n===d)break;if(s=r,r=e[--n-1],t>=r)break t}a=n,n=0}}for(;n<a;){const c=n+a>>>1;t<e[c]?a=c:n=c+1}if(s=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(void 0===s)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,s)}return this.interpolate_(n,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=t*s;for(let a=0;a!==s;++a)e[a]=n[r+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}_o.prototype.beforeStart_=_o.prototype.copySampleValue_,_o.prototype.afterEnd_=_o.prototype.copySampleValue_;class Iee extends _o{constructor(t,e,n,s){super(t,e,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:gu,endingEnd:gu}}intervalChanged_(t,e,n){const s=this.parameterPositions;let r=t-2,a=t+1,c=s[r],d=s[a];if(void 0===c)switch(this.getSettings_().endingStart){case mu:r=t,c=2*e-n;break;case 2402:r=s.length-2,c=e+s[r]-s[r+1];break;default:r=t,c=n}if(void 0===d)switch(this.getSettings_().endingEnd){case mu:a=t,d=2*n-e;break;case 2402:a=1,d=n+s[1]-s[0];break;default:a=t-1,d=e}const h=.5*(n-e),g=this.valueSize;this._weightPrev=h/(e-c),this._weightNext=h/(d-n),this._offsetPrev=r*g,this._offsetNext=a*g}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=t*c,h=d-c,g=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,C=this._weightNext,D=(n-e)/(s-e),A=D*D,E=A*D,I=-b*E+2*b*A-b*D,P=(1+b)*E+(-1.5-2*b)*A+(-.5+b)*D+1,N=(-1-C)*E+(1.5+C)*A+.5*D,V=C*E-C*A;for(let G=0;G!==c;++G)r[G]=I*a[g+G]+P*a[h+G]+N*a[d+G]+V*a[v+G];return r}}class qF extends _o{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=t*c,h=d-c,g=(n-e)/(s-e),v=1-g;for(let b=0;b!==c;++b)r[b]=a[h+b]*v+a[d+b]*g;return r}}class Pee extends _o{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ea{constructor(t,e,n,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=nn.convertArray(e,this.TimeBufferType),this.values=nn.convertArray(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:nn.convertArray(t.times,Array),values:nn.convertArray(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(n.interpolation=s)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Pee(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new qF(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Iee(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Wf:e=this.InterpolantFactoryMethodDiscrete;break;case pu:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Wf;case this.InterpolantFactoryMethodLinear:return pu;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,s=e.length;n!==s;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,s=e.length;n!==s;++n)e[n]*=t}return this}trim(t,e){const n=this.times,s=n.length;let r=0,a=s-1;for(;r!==s&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const c=this.getValueSize();this.times=nn.arraySlice(n,r,a),this.values=nn.arraySlice(this.values,r*c,a*c)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,s=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let c=0;c!==r;c++){const d=n[c];if("number"==typeof d&&isNaN(d)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,c,d),t=!1;break}if(null!==a&&a>d){console.error("THREE.KeyframeTrack: Out of order keys.",this,c,d,a),t=!1;break}a=d}if(void 0!==s&&nn.isTypedArray(s))for(let c=0,d=s.length;c!==d;++c){const h=s[c];if(isNaN(h)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,c,h),t=!1;break}}return t}optimize(){const t=nn.arraySlice(this.times),e=nn.arraySlice(this.values),n=this.getValueSize(),s=2302===this.getInterpolation(),r=t.length-1;let a=1;for(let c=1;c<r;++c){let d=!1;const h=t[c];if(h!==t[c+1]&&(1!==c||h!==t[0]))if(s)d=!0;else{const v=c*n,b=v-n,C=v+n;for(let D=0;D!==n;++D){const A=e[v+D];if(A!==e[b+D]||A!==e[C+D]){d=!0;break}}}if(d){if(c!==a){t[a]=t[c];const v=c*n,b=a*n;for(let C=0;C!==n;++C)e[b+C]=e[v+C]}++a}}if(r>0){t[a]=t[r];for(let c=r*n,d=a*n,h=0;h!==n;++h)e[d+h]=e[c+h];++a}return a!==t.length?(this.times=nn.arraySlice(t,0,a),this.values=nn.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this}clone(){const t=nn.arraySlice(this.times,0),e=nn.arraySlice(this.values,0),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Ea.prototype.TimeBufferType=Float32Array,Ea.prototype.ValueBufferType=Float32Array,Ea.prototype.DefaultInterpolation=pu;class ju extends Ea{}ju.prototype.ValueTypeName="bool",ju.prototype.ValueBufferType=Array,ju.prototype.DefaultInterpolation=Wf,ju.prototype.InterpolantFactoryMethodLinear=void 0,ju.prototype.InterpolantFactoryMethodSmooth=void 0;class ZF extends Ea{}ZF.prototype.ValueTypeName="color";class _p extends Ea{}_p.prototype.ValueTypeName="number";class Lee extends _o{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,c=this.valueSize,d=(n-e)/(s-e);let h=t*c;for(let g=h+c;h!==g;h+=4)$n.slerpFlat(r,0,a,h-c,a,h,d);return r}}class Sc extends Ea{InterpolantFactoryMethodLinear(t){return new Lee(this.times,this.values,this.getValueSize(),t)}}Sc.prototype.ValueTypeName="quaternion",Sc.prototype.DefaultInterpolation=pu,Sc.prototype.InterpolantFactoryMethodSmooth=void 0;class Yu extends Ea{}Yu.prototype.ValueTypeName="string",Yu.prototype.ValueBufferType=Array,Yu.prototype.DefaultInterpolation=Wf,Yu.prototype.InterpolantFactoryMethodLinear=void 0,Yu.prototype.InterpolantFactoryMethodSmooth=void 0;class vp extends Ea{}vp.prototype.ValueTypeName="vector";class yp{constructor(t,e=-1,n,s=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=s,this.uuid=tr(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,s=1/(t.fps||1);for(let a=0,c=n.length;a!==c;++a)e.push(Fee(n[a]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,a=n.length;r!==a;++r)e.push(Ea.toJSON(n[r]));return s}static CreateFromMorphTargetSequence(t,e,n,s){const r=e.length,a=[];for(let c=0;c<r;c++){let d=[],h=[];d.push((c+r-1)%r,c,(c+1)%r),h.push(0,1,0);const g=nn.getKeyframeOrder(d);d=nn.sortedArray(d,1,g),h=nn.sortedArray(h,1,g),!s&&0===d[0]&&(d.push(r),h.push(h[0])),a.push(new _p(".morphTargetInfluences["+e[c].name+"]",d,h).scale(1/n))}return new this(t,-1,a)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const s=t;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===e)return n[s];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const s={},r=/^([\w-]*?)([\d]+)$/;for(let c=0,d=t.length;c<d;c++){const h=t[c],g=h.name.match(r);if(g&&g.length>1){const v=g[1];let b=s[v];b||(s[v]=b=[]),b.push(h)}}const a=[];for(const c in s)a.push(this.CreateFromMorphTargetSequence(c,s[c],e,n));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(v,b,C,D,A){if(0!==C.length){const E=[],I=[];nn.flattenJSON(C,E,I,D),0!==E.length&&A.push(new v(b,E,I))}},s=[],r=t.name||"default",a=t.fps||30,c=t.blendMode;let d=t.length||-1;const h=t.hierarchy||[];for(let v=0;v<h.length;v++){const b=h[v].keys;if(b&&0!==b.length)if(b[0].morphTargets){const C={};let D;for(D=0;D<b.length;D++)if(b[D].morphTargets)for(let A=0;A<b[D].morphTargets.length;A++)C[b[D].morphTargets[A]]=-1;for(const A in C){const E=[],I=[];for(let P=0;P!==b[D].morphTargets.length;++P){const N=b[D];E.push(N.time),I.push(N.morphTarget===A?1:0)}s.push(new _p(".morphTargetInfluence["+A+"]",E,I))}d=C.length*a}else{const C=".bones["+e[v].name+"]";n(vp,C+".position",b,"pos",s),n(Sc,C+".quaternion",b,"rot",s),n(vp,C+".scale",b,"scl",s)}}return 0===s.length?null:new this(r,d,s,c)}resetDuration(){let e=0;for(let n=0,s=this.tracks.length;n!==s;++n){const r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Fee(i){if(void 0===i.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function Oee(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _p;case"vector":case"vector2":case"vector3":case"vector4":return vp;case"color":return ZF;case"quaternion":return Sc;case"bool":case"boolean":return ju;case"string":return Yu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(i.type);if(void 0===i.times){const e=[],n=[];nn.flattenJSON(i.keys,e,n,"value"),i.times=e,i.values=n}return void 0!==t.parse?t.parse(i):new t(i.name,i.times,i.values,i.interpolation)}const Xu={enabled:!1,files:{},add:function(i,t){!1!==this.enabled&&(this.files[i]=t)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class rM{constructor(t,e,n){const s=this;let d,r=!1,a=0,c=0;const h=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(g){c++,!1===r&&void 0!==s.onStart&&s.onStart(g,a,c),r=!0},this.itemEnd=function(g){a++,void 0!==s.onProgress&&s.onProgress(g,a,c),a===c&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(g){void 0!==s.onError&&s.onError(g)},this.resolveURL=function(g){return d?d(g):g},this.setURLModifier=function(g){return d=g,this},this.addHandler=function(g,v){return h.push(g,v),this},this.removeHandler=function(g){const v=h.indexOf(g);return-1!==v&&h.splice(v,2),this},this.getHandler=function(g){for(let v=0,b=h.length;v<b;v+=2){const C=h[v],D=h[v+1];if(C.global&&(C.lastIndex=0),C.test(g))return D}return null}}}const Nee=new rM;class Ta{constructor(t){this.manager=void 0!==t?t:Nee,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(s,r){n.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const vo={};class ka extends Ta{constructor(t){super(t)}load(t,e,n,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=Xu.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==vo[t])return void vo[t].push({onLoad:e,onProgress:n,onError:s});vo[t]=[],vo[t].push({onLoad:e,onProgress:n,onError:s});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),c=this.mimeType,d=this.responseType;fetch(a).then(h=>{if(200===h.status||0===h.status){if(0===h.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===h.body||void 0===h.body.getReader)return h;const g=vo[t],v=h.body.getReader(),b=h.headers.get("Content-Length"),C=b?parseInt(b):0,D=0!==C;let A=0;const E=new ReadableStream({start(I){!function P(){v.read().then(({done:N,value:V})=>{if(N)I.close();else{A+=V.byteLength;const G=new ProgressEvent("progress",{lengthComputable:D,loaded:A,total:C});for(let q=0,ee=g.length;q<ee;q++){const se=g[q];se.onProgress&&se.onProgress(G)}I.enqueue(V),P()}})}()}});return new Response(E)}throw Error(`fetch for "${h.url}" responded with ${h.status}: ${h.statusText}`)}).then(h=>{switch(d){case"arraybuffer":return h.arrayBuffer();case"blob":return h.blob();case"document":return h.text().then(g=>(new DOMParser).parseFromString(g,c));case"json":return h.json();default:if(void 0===c)return h.text();{const v=/charset="?([^;"\s]*)"?/i.exec(c),b=v&&v[1]?v[1].toLowerCase():void 0,C=new TextDecoder(b);return h.arrayBuffer().then(D=>C.decode(D))}}}).then(h=>{Xu.add(t,h);const g=vo[t];delete vo[t];for(let v=0,b=g.length;v<b;v++){const C=g[v];C.onLoad&&C.onLoad(h)}}).catch(h=>{const g=vo[t];if(void 0===g)throw this.manager.itemError(t),h;delete vo[t];for(let v=0,b=g.length;v<b;v++){const C=g[v];C.onError&&C.onError(h)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Pv extends Ta{constructor(t){super(t)}load(t,e,n,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=Xu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const c=qf("img");function d(){g(),Xu.add(t,this),e&&e(this),r.manager.itemEnd(t)}function h(v){g(),s&&s(v),r.manager.itemError(t),r.manager.itemEnd(t)}function g(){c.removeEventListener("load",d,!1),c.removeEventListener("error",h,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",h,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(c.crossOrigin=this.crossOrigin),r.manager.itemStart(t),c.src=t,c}}class Bee extends Ta{constructor(t){super(t)}load(t,e,n,s){const r=new Jf,a=new Pv(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let c=0;function d(h){a.load(t[h],function(g){r.images[h]=g,c++,6===c&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let h=0;h<t.length;++h)d(h);return r}}class Vee extends Ta{constructor(t){super(t)}load(t,e,n,s){const r=this,a=new Hu,c=new ka(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(r.withCredentials),c.load(t,function(d){const h=r.parse(d);!h||(void 0!==h.image?a.image=h.image:void 0!==h.data&&(a.image.width=h.width,a.image.height=h.height,a.image.data=h.data),a.wrapS=void 0!==h.wrapS?h.wrapS:ks,a.wrapT=void 0!==h.wrapT?h.wrapT:ks,a.magFilter=void 0!==h.magFilter?h.magFilter:Xi,a.minFilter=void 0!==h.minFilter?h.minFilter:Xi,a.anisotropy=void 0!==h.anisotropy?h.anisotropy:1,void 0!==h.encoding&&(a.encoding=h.encoding),void 0!==h.flipY&&(a.flipY=h.flipY),void 0!==h.format&&(a.format=h.format),void 0!==h.type&&(a.type=h.type),void 0!==h.mipmaps&&(a.mipmaps=h.mipmaps,a.minFilter=rl),1===h.mipmapCount&&(a.minFilter=Xi),void 0!==h.generateMipmaps&&(a.generateMipmaps=h.generateMipmaps),a.needsUpdate=!0,e&&e(a,h))},n,s),a}}class KF extends Ta{constructor(t){super(t)}load(t,e,n,s){const r=new vs,a=new Pv(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(c){r.image=c,r.needsUpdate=!0,void 0!==e&&e(r)},n,s),r}}class Ra extends Li{constructor(t,e=1){super(),this.type="Light",this.color=new Qe(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Ra.prototype.isLight=!0;class aM extends Ra{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(Li.DefaultUp),this.updateMatrix(),this.groundColor=new Qe(e)}copy(t){return Ra.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}aM.prototype.isHemisphereLight=!0;const QF=new Ct,JF=new $,e2=new $;class oM{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new Ct,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Z_,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new Vi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;JF.setFromMatrixPosition(t.matrixWorld),e.position.copy(JF),e2.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(e2),e.updateMatrixWorld(),QF.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(QF),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class t2 extends oM{constructor(){super(new Zn(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*Xf*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(n!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=n,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}t2.prototype.isSpotLightShadow=!0;class lM extends Ra{constructor(t,e,n=0,s=Math.PI/3,r=0,a=1){super(t,e),this.type="SpotLight",this.position.copy(Li.DefaultUp),this.updateMatrix(),this.target=new Li,this.distance=n,this.angle=s,this.penumbra=r,this.decay=a,this.shadow=new t2}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}lM.prototype.isSpotLight=!0;const n2=new Ct,bp=new $,cM=new $;class s2 extends oM{constructor(){super(new Zn(90,1,.5,500)),this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new Vi(2,1,1,1),new Vi(0,1,1,1),new Vi(3,1,1,1),new Vi(1,1,1,1),new Vi(3,0,1,1),new Vi(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,s=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),bp.setFromMatrixPosition(t.matrixWorld),n.position.copy(bp),cM.copy(n.position),cM.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(cM),n.updateMatrixWorld(),s.makeTranslation(-bp.x,-bp.y,-bp.z),n2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n2)}}s2.prototype.isPointLightShadow=!0;class dM extends Ra{constructor(t,e,n=0,s=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new s2}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}dM.prototype.isPointLight=!0;class r2 extends oM{constructor(){super(new tp(-5,5,5,-5,.5,500))}}r2.prototype.isDirectionalLightShadow=!0;class uM extends Ra{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(Li.DefaultUp),this.updateMatrix(),this.target=new Li,this.shadow=new r2}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}uM.prototype.isDirectionalLight=!0;class hM extends Ra{constructor(t,e){super(t,e),this.type="AmbientLight"}}hM.prototype.isAmbientLight=!0;(class a2 extends Ra{constructor(t,e,n=10,s=10){super(t,e),this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class o2{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new $)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*s),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*s*1.092548),e.addScaledVector(a[5],s*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-s*s)),e}getIrradianceAt(t,e){const n=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*s),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*s),e.addScaledVector(a[5],.858086*s*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const n=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-s*s)}}o2.prototype.isSphericalHarmonics3=!0;class Lv extends Ra{constructor(t=new o2,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Lv.prototype.isLightProbe=!0;class Ia{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,s=t.length;n<s;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(n){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}(class l2 extends Xt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}).prototype.isInstancedBufferGeometry=!0;class u2 extends Ta{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=Xu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const c={};c.credentials="anonymous"===this.crossOrigin?"same-origin":"include",c.headers=this.requestHeader,fetch(t,c).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(d){Xu.add(t,d),e&&e(d),r.manager.itemEnd(t)}).catch(function(d){s&&s(d),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let Ov;u2.prototype.isImageBitmapLoader=!0;class Uee extends Ta{constructor(t){super(t)}load(t,e,n,s){const r=this,a=new ka(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(c){try{const d=c.slice(0);(void 0===Ov&&(Ov=new(window.AudioContext||window.webkitAudioContext)),Ov).decodeAudioData(d,function(g){e(g)})}catch(d){s?s(d):console.error(d),r.manager.itemError(t)}},n,s)}}(class Wee extends Lv{constructor(t,e,n=1){super(void 0,n);const s=(new Qe).set(t),r=(new Qe).set(e),a=new $(s.r,s.g,s.b),c=new $(r.r,r.g,r.b),d=Math.sqrt(Math.PI),h=d*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(c).multiplyScalar(d),this.sh.coefficients[1].copy(a).sub(c).multiplyScalar(h)}}).prototype.isHemisphereLightProbe=!0,class jee extends Lv{constructor(t,e=1){super(void 0,e);const n=(new Qe).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class g2{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=m2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=m2();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function m2(){return("undefined"==typeof performance?Date:performance).now()}class Zee{constructor(t,e,n){let s,r,a;switch(this.binding=t,this.valueSize=n,e){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,s=this.valueSize,r=t*s+s;let a=this.cumulativeWeight;if(0===a){for(let c=0;c!==s;++c)n[r+c]=n[c];a=e}else a+=e,this._mixBufferRegion(n,r,0,e/a,s);this.cumulativeWeight=a}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,s=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,s=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,c=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,s,e*this._origIndex,1-r,e),a>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*e,1,e);for(let d=e,h=e+e;d!==h;++d)if(n[d]!==n[d+e]){c.setValue(n,s);break}}saveOriginalState(){const e=this.buffer,n=this.valueSize,s=n*this._origIndex;this.binding.getValue(e,s);for(let r=n,a=s;r!==a;++r)e[r]=e[s+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,s,r){if(s>=.5)for(let a=0;a!==r;++a)t[e+a]=t[n+a]}_slerp(t,e,n,s){$n.slerpFlat(t,e,t,e,t,n,s)}_slerpAdditive(t,e,n,s,r){const a=this._workIndex*r;$n.multiplyQuaternionsFlat(t,a,t,e,t,n),$n.slerpFlat(t,e,t,e,t,a,s)}_lerp(t,e,n,s,r){const a=1-s;for(let c=0;c!==r;++c){const d=e+c;t[d]=t[d]*a+t[n+c]*s}}_lerpAdditive(t,e,n,s,r){for(let a=0;a!==r;++a){const c=e+a;t[c]=t[c]+t[n+a]*s}}}const fM="\\[\\]\\.:\\/",Kee=new RegExp("["+fM+"]","g"),pM="[^"+fM+"]",Qee="[^"+fM.replace("\\.","")+"]",Jee=/((?:WC+[\/:])*)/.source.replace("WC",pM),ete=/(WCOD+)?/.source.replace("WCOD",Qee),tte=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",pM),ite=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",pM),nte=new RegExp("^"+Jee+ete+tte+ite+"$"),ste=["material","materials","bones"];class rte{constructor(t,e,n){const s=n||$i.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=n.length;s!==r;++s)n[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let $i=(()=>{class i{constructor(e,n,s){this.path=n,this.parsedPath=s||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,s){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,s):new i(e,n,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Kee,"")}static parseTrackName(e){const n=nte.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const a=s.nodeName.substring(r+1);-1!==ste.indexOf(a)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=a)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(n);if(void 0!==s)return s}if(e.children){const s=function(a){for(let c=0;c<a.length;c++){const d=a[c];if(d.name===n||d.uuid===n)return d;const h=s(d.children);if(h)return h}return null},r=s(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)e[n++]=s[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,s=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(s){let g=n.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let v=0;v<e.length;v++)if(e[v].name===g){g=v;break}break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==g){if(void 0===e[g])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[g]}}const c=e[r];if(void 0===c)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+r+" but it wasn't found.",e);let d=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?d=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(d=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=a}else void 0!==c.fromArray&&void 0!==c.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(h=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=rte,i})();$i.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},$i.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},$i.prototype.GetterByBindingType=[$i.prototype._getValue_direct,$i.prototype._getValue_array,$i.prototype._getValue_arrayElement,$i.prototype._getValue_toArray],$i.prototype.SetterByBindingTypeAndVersioning=[[$i.prototype._setValue_direct,$i.prototype._setValue_direct_setNeedsUpdate,$i.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_array,$i.prototype._setValue_array_setNeedsUpdate,$i.prototype._setValue_array_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_arrayElement,$i.prototype._setValue_arrayElement_setNeedsUpdate,$i.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[$i.prototype._setValue_fromArray,$i.prototype._setValue_fromArray_setNeedsUpdate,$i.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class ote{constructor(t,e,n=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=s;const r=e.tracks,a=r.length,c=new Array(a),d={endingStart:gu,endingEnd:gu};for(let h=0;h!==a;++h){const g=r[h].createInterpolant(null);c[h]=g,g.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const s=this._clip.duration,r=t._clip.duration,c=s/r;t.warp(1,r/s,e),this.warp(c,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const s=this._mixer,r=s.time,a=this.timeScale;let c=this._timeScaleInterpolant;null===c&&(c=s._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,h=c.sampleValues;return d[0]=r,d[1]=r+n,h[0]=t/a,h[1]=e/a,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const d=(t-r)*n;if(d<0||0===n)return;this._startTime=null,e=n*d}e*=this._updateTimeScale(t);const a=this._updateTime(e),c=this._updateWeight(t);if(c>0){const d=this._interpolants,h=this._propertyBindings;if(2501===this.blendMode)for(let g=0,v=d.length;g!==v;++g)d[g].evaluate(a),h[g].accumulateAdditive(c);else for(let g=0,v=d.length;g!==v;++g)d[g].evaluate(a),h[g].accumulate(s,c)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const s=n.evaluate(t)[0];e*=s,t>n.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let s=this.time+t,r=this._loopCount;const a=2202===n;if(0===t)return-1===r?s:a&&1==(1&r)?e-s:s;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break e}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),s>=e||s<0){const c=Math.floor(s/e);s-=e*c,r+=Math.abs(c);const d=this.repetitions-r;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===d){const h=t<0;this._setEndings(h,!h,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=s;if(a&&1==(1&r))return e-s}return s}_setEndings(t,e,n){const s=this._interpolantSettings;n?(s.endingStart=mu,s.endingEnd=mu):(s.endingStart=t?this.zeroSlopeAtStart?mu:gu:2402,s.endingEnd=e?this.zeroSlopeAtEnd?mu:gu:2402)}_scheduleFading(t,e,n){const s=this._mixer,r=s.time;let a=this._weightInterpolant;null===a&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const c=a.parameterPositions,d=a.sampleValues;return c[0]=r,d[0]=e,c[1]=r+t,d[1]=n,this}}class y2 extends al{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,s=t._clip.tracks,r=s.length,a=t._propertyBindings,c=t._interpolants,d=n.uuid,h=this._bindingsByRootAndName;let g=h[d];void 0===g&&(g={},h[d]=g);for(let v=0;v!==r;++v){const b=s[v],C=b.name;let D=g[C];if(void 0!==D)++D.referenceCount,a[v]=D;else{if(D=a[v],void 0!==D){null===D._cacheIndex&&(++D.referenceCount,this._addInactiveBinding(D,d,C));continue}D=new Zee($i.create(n,C,e&&e._propertyBindings[v].binding.parsedPath),b.ValueTypeName,b.getValueSize()),++D.referenceCount,this._addInactiveBinding(D,d,C),a[v]=D}c[v].resultBuffer=D.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const n=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,n)}const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const s=this._actions,r=this._actionsByClip;let a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{const c=a.knownActions;t._byClipCacheIndex=c.length,c.push(t)}t._cacheIndex=s.length,s.push(t),a.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],s=t._cacheIndex;n._cacheIndex=s,e[s]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,a=this._actionsByClip,c=a[r],d=c.knownActions,h=d[d.length-1],g=t._byClipCacheIndex;h._byClipCacheIndex=g,d[g]=h,d.pop(),t._byClipCacheIndex=null,delete c.actionByRoot[(t._localRoot||this._root).uuid],0===d.length&&delete a[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_addInactiveBinding(t,e,n){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[e];void 0===a&&(a={},s[e]=a),a[n]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,s=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,c=a[s],d=e[e.length-1],h=t._cacheIndex;d._cacheIndex=h,e[h]=d,e.pop(),delete c[r],0===Object.keys(c).length&&delete a[s]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new qF(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=n,e[n]=r}clipAction(t,e,n){const s=e||this._root,r=s.uuid;let a="string"==typeof t?yp.findByName(s,t):t;const c=null!==a?a.uuid:t,d=this._actionsByClip[c];let h=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==d){const v=d.actionByRoot[r];if(void 0!==v&&v.blendMode===n)return v;h=d.knownActions[0],null===a&&(a=h._clip)}if(null===a)return null;const g=new ote(this,a,e,n);return this._bindAction(g,h),this._addInactiveAction(g,c,r),g}existingAction(t,e){const n=e||this._root,s=n.uuid,r="string"==typeof t?yp.findByName(n,t):t,c=this._actionsByClip[r?r.uuid:t];return void 0!==c&&c.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)t[n].stop();return this}update(t){const e=this._actions,n=this._nActiveActions,s=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1;for(let h=0;h!==n;++h)e[h]._update(s,t,r,a);const c=this._bindings,d=this._nActiveBindings;for(let h=0;h!==d;++h)c[h].apply(a);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,s=this._actionsByClip,r=s[n];if(void 0!==r){const a=r.knownActions;for(let c=0,d=a.length;c!==d;++c){const h=a[c];this._deactivateAction(h);const g=h._cacheIndex,v=e[e.length-1];h._cacheIndex=null,h._byClipCacheIndex=null,v._cacheIndex=g,e[g]=v,e.pop(),this._removeInactiveBindingsForAction(h)}delete s[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const a in n){const d=n[a].actionByRoot[e];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const a in r){const c=r[a];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}y2.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class gM{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new gM(void 0===this.value.clone?this.value:this.value.clone())}}(class lte extends Cc{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}).prototype.isInstancedInterleavedBuffer=!0;class x2{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(Cn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const w2=new Te;class xp{constructor(t=new Te(1/0,1/0),e=new Te(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=w2.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return w2.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}xp.prototype.isBox2=!0;const wl=new $,Nv=new Ct,_M=new Ct;function S2(i){const t=[];!0===i.isBone&&t.push(i);for(let e=0;e<i.children.length;e++)t.push.apply(t,S2(i.children[e]));return t}class Gv{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Cn(t,-65504,65504),I2[0]=t;const e=P2[0],n=e>>23&511;return ra[n]+((8388607&e)>>aa[n])}static fromHalfFloat(t){const e=t>>10;return P2[0]=yM[L2[e]+(1023&t)]+$u[e],I2[0]}}const R2=new ArrayBuffer(4),I2=new Float32Array(R2),P2=new Uint32Array(R2),ra=new Uint32Array(512),aa=new Uint32Array(512);for(let i=0;i<256;++i){const t=i-127;t<-27?(ra[i]=0,ra[256|i]=32768,aa[i]=24,aa[256|i]=24):t<-14?(ra[i]=1024>>-t-14,ra[256|i]=1024>>-t-14|32768,aa[i]=-t-1,aa[256|i]=-t-1):t<=15?(ra[i]=t+15<<10,ra[256|i]=t+15<<10|32768,aa[i]=13,aa[256|i]=13):t<128?(ra[i]=31744,ra[256|i]=64512,aa[i]=24,aa[256|i]=24):(ra[i]=31744,ra[256|i]=64512,aa[i]=13,aa[256|i]=13)}const yM=new Uint32Array(2048),$u=new Uint32Array(64),L2=new Uint32Array(64);for(let i=1;i<1024;++i){let t=i<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,yM[i]=t|e}for(let i=1024;i<2048;++i)yM[i]=939524096+(i-1024<<13);for(let i=1;i<31;++i)$u[i]=i<<23;$u[31]=1199570944,$u[32]=2147483648;for(let i=33;i<63;++i)$u[i]=2147483648+(i-32<<23);$u[63]=3347054592;for(let i=1;i<64;++i)32!==i&&(L2[i]=1024);Dr.create=function(i,t){return console.log("THREE.Curve.create() has been deprecated"),i.prototype=Object.create(Dr.prototype),i.prototype.constructor=i,i.prototype.getPoint=t,i},cp.prototype.fromPoints=function(i){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(i)},class fte extends Mc{constructor(t=10,e=10,n=4473924,s=8947848){n=new Qe(n),s=new Qe(s);const r=e/2,a=t/e,c=t/2,d=[],h=[];for(let b=0,C=0,D=-c;b<=e;b++,D+=a){d.push(-c,0,D,c,0,D),d.push(D,0,-c,D,0,c);const A=b===r?n:s;A.toArray(h,C),C+=3,A.toArray(h,C),C+=3,A.toArray(h,C),C+=3,A.toArray(h,C),C+=3}const g=new Xt;g.setAttribute("position",new St(d,3)),g.setAttribute("color",new St(h,3)),super(g,new ss({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class ute extends Mc{constructor(t){const e=S2(t),n=new Xt,s=[],r=[],a=new Qe(0,0,1),c=new Qe(0,1,0);for(let h=0;h<e.length;h++){const g=e[h];g.parent&&g.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(c.r,c.g,c.b))}n.setAttribute("position",new St(s,3)),n.setAttribute("color",new St(r,3)),super(n,new ss({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,s=n.getAttribute("position");_M.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<e.length;r++){const c=e[r];c.parent&&c.parent.isBone&&(Nv.multiplyMatrices(_M,c.matrixWorld),wl.setFromMatrixPosition(Nv),s.setXYZ(a,wl.x,wl.y,wl.z),Nv.multiplyMatrices(_M,c.parent.matrixWorld),wl.setFromMatrixPosition(Nv),s.setXYZ(a+1,wl.x,wl.y,wl.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Ta.prototype.extractUrlBase=function(i){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ia.extractUrlBase(i)},Ta.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},xp.prototype.center=function(i){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(i)},xp.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},xp.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},xp.prototype.size=function(i){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(i)},nr.prototype.center=function(i){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(i)},nr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},nr.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},nr.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},nr.prototype.size=function(i){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(i)},yc.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},cl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Z_.prototype.setFromMatrix=function(i){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(i)},is.prototype.flattenToArrayOffset=function(i,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,t)},is.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},is.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},is.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},is.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},is.prototype.getInverse=function(i){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},Ct.prototype.extractPosition=function(i){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(i)},Ct.prototype.flattenToArrayOffset=function(i,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,t)},Ct.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new $).setFromMatrixColumn(this,3)},Ct.prototype.setRotationFromQuaternion=function(i){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(i)},Ct.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Ct.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ct.prototype.multiplyVector4=function(i){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ct.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Ct.prototype.rotateAxis=function(i){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),i.transformDirection(this)},Ct.prototype.crossVector=function(i){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ct.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Ct.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Ct.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Ct.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Ct.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Ct.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},Ct.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Ct.prototype.makeFrustum=function(i,t,e,n,s,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(i,t,n,e,s,r)},Ct.prototype.getInverse=function(i){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},fo.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},$n.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},$n.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},vc.prototype.isIntersectionBox=function(i){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},vc.prototype.isIntersectionPlane=function(i){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(i)},vc.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},Ln.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Ln.prototype.barycoordFromPoint=function(i,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(i,t)},Ln.prototype.midpoint=function(i){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(i)},Ln.prototypenormal=function(i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(i)},Ln.prototype.plane=function(i){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(i)},Ln.barycoordFromPoint=function(i,t,e,n,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Ln.getBarycoord(i,t,e,n,s)},Ln.normal=function(i,t,e,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Ln.getNormal(i,t,e,n)},go.prototype.extractAllPoints=function(i){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(i)},go.prototype.extrude=function(i){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new bl(this,i)},go.prototype.makeGeometry=function(i){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new gp(this,i)},Te.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},Te.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},Te.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},$.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},$.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},$.prototype.getPositionFromMatrix=function(i){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(i)},$.prototype.getScaleFromMatrix=function(i){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(i)},$.prototype.getColumnFromMatrix=function(i,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,i)},$.prototype.applyProjection=function(i){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(i)},$.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},$.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},$.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Vi.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},Vi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Li.prototype.getChildByName=function(i){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(i)},Li.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Li.prototype.translate=function(i,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,i)},Li.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Li.prototype.applyMatrix=function(i){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(Li.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(i){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=i}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),qn.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(qn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),av.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Zn.prototype.setLens=function(i,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(i)},Object.defineProperties(Ra.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(i){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=i}},shadowCameraLeft:{set:function(i){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=i}},shadowCameraRight:{set:function(i){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=i}},shadowCameraTop:{set:function(i){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=i}},shadowCameraBottom:{set:function(i){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=i}},shadowCameraNear:{set:function(i){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=i}},shadowCameraFar:{set:function(i){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=i}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(i){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=i}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(i){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=i}},shadowMapHeight:{set:function(i){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=i}}}),Object.defineProperties(Ui.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Yf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Yf)}}}),Ui.prototype.setDynamic=function(i){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?Yf:jf),this},Ui.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Ui.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Xt.prototype.addIndex=function(i){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(i)},Xt.prototype.addAttribute=function(i,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===i?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(i,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(i,new Ui(arguments[1],arguments[2])))},Xt.prototype.addDrawCall=function(i,t,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(i,t)},Xt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Xt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Xt.prototype.removeAttribute=function(i){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(i)},Xt.prototype.applyMatrix=function(i){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(Xt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Cc.prototype.setDynamic=function(i){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?Yf:jf),this},Cc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},bl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},bl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},bl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},tv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},gM.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(ln.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Qe}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(i){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(i){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=i}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(sa.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(i){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=i}}}),Hi.prototype.clearTarget=function(i,t,e,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(i),this.clear(t,e,n)},Hi.prototype.animate=function(i){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(i)},Hi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Hi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Hi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Hi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Hi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Hi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Hi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Hi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Hi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Hi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Hi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Hi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Hi.prototype.enableScissorTest=function(i){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(i)},Hi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Hi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Hi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Hi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Hi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Hi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Hi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Hi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Hi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Hi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Hi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=i}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=i}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(i){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===i?ki:Jr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(nF.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ir.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=i}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=i}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=i}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=i}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(i){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=i}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(i){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=i}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(i){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=i}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(i){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=i}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(i){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=i}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(i){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=i}}}),class Xee extends Li{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype.load=function(i){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Uee).load(i,function(n){t.setBuffer(n)}),this},kC.prototype.updateCubeMap=function(i,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,t)},kC.prototype.clear=function(i,t,e,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(i,t,e,n)},pc.crossOrigin=void 0,pc.loadTexture=function(i,t,e,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new KF;s.setCrossOrigin(this.crossOrigin);const r=s.load(i,e,void 0,n);return t&&(r.mapping=t),r},pc.loadTextureCube=function(i,t,e,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new Bee;s.setCrossOrigin(this.crossOrigin);const r=s.load(i,e,void 0,n);return t&&(r.mapping=t),r},pc.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},pc.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"139"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="139");class pte extends Ta{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new vte(e)}),this.register(function(e){return new Mte(e)}),this.register(function(e){return new Ste(e)}),this.register(function(e){return new yte(e)}),this.register(function(e){return new bte(e)}),this.register(function(e){return new xte(e)}),this.register(function(e){return new wte(e)}),this.register(function(e){return new Cte(e)}),this.register(function(e){return new mte(e)}),this.register(function(e){return new Dte(e)})}load(t,e,n,s){const r=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ia.extractUrlBase(t),this.manager.itemStart(t);const c=function(h){s?s(h):console.error(h),r.manager.itemError(t),r.manager.itemEnd(t)},d=new ka(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(this.withCredentials),d.load(t,function(h){try{r.parse(h,a,function(g){e(g),r.manager.itemEnd(t)},c)}catch(g){c(g)}},n,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,s){let r;const a={},c={};if("string"==typeof t)r=t;else if(Ia.decodeText(new Uint8Array(t,0,4))===O2){try{a[Si.KHR_BINARY_GLTF]=new Ate(t)}catch(v){return void(s&&s(v))}r=a[Si.KHR_BINARY_GLTF].content}else r=Ia.decodeText(new Uint8Array(t));const d=JSON.parse(r);if(void 0===d.asset||d.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const h=new Hte(d,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});h.fileLoader.setRequestHeader(this.requestHeader);for(let g=0;g<this.pluginCallbacks.length;g++){const v=this.pluginCallbacks[g](h);c[v.name]=v,a[v.name]=!0}if(d.extensionsUsed)for(let g=0;g<d.extensionsUsed.length;++g){const v=d.extensionsUsed[g],b=d.extensionsRequired||[];switch(v){case Si.KHR_MATERIALS_UNLIT:a[v]=new _te;break;case Si.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[v]=new kte;break;case Si.KHR_DRACO_MESH_COMPRESSION:a[v]=new Ete(d,this.dracoLoader);break;case Si.KHR_TEXTURE_TRANSFORM:a[v]=new Tte;break;case Si.KHR_MESH_QUANTIZATION:a[v]=new Rte;break;default:b.indexOf(v)>=0&&void 0===c[v]&&console.warn('THREE.GLTFLoader: Unknown extension "'+v+'".')}}h.setExtensions(a),h.setPlugins(c),h.parse(n,s)}parseAsync(t,e){const n=this;return new Promise(function(s,r){n.parse(t,e,s,r)})}}function gte(){let i={};return{get:function(t){return i[t]},add:function(t,e){i[t]=e},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const Si={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class mte{constructor(t){this.parser=t,this.name=Si.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,s=e.length;n<s;n++){const r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let s=e.cache.get(n);if(s)return s;const r=e.json,d=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let h;const g=new Qe(16777215);void 0!==d.color&&g.fromArray(d.color);const v=void 0!==d.range?d.range:0;switch(d.type){case"directional":h=new uM(g),h.target.position.set(0,0,-1),h.add(h.target);break;case"point":h=new dM(g),h.distance=v;break;case"spot":h=new lM(g),h.distance=v,d.spot=d.spot||{},d.spot.innerConeAngle=void 0!==d.spot.innerConeAngle?d.spot.innerConeAngle:0,d.spot.outerConeAngle=void 0!==d.spot.outerConeAngle?d.spot.outerConeAngle:Math.PI/4,h.angle=d.spot.outerConeAngle,h.penumbra=1-d.spot.innerConeAngle/d.spot.outerConeAngle,h.target.position.set(0,0,-1),h.add(h.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+d.type)}return h.position.set(0,0,0),h.decay=2,void 0!==d.intensity&&(h.intensity=d.intensity),h.name=e.createUniqueName(d.name||"light_"+t),s=Promise.resolve(h),e.cache.add(n,s),s}createNodeAttachment(t){const e=this,n=this.parser,r=n.json.nodes[t],c=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===c?null:this._loadLight(c).then(function(d){return n._getNodeRef(e.cache,c,d)})}}class _te{constructor(){this.name=Si.KHR_MATERIALS_UNLIT}getMaterialType(){return rr}extendParams(t,e,n){const s=[];t.color=new Qe(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==r.baseColorTexture&&s.push(n.assignTexture(t,"map",r.baseColorTexture,ki))}return Promise.all(s)}}class vte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const c=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new Te(c,c)}return Promise.all(r)}}class yte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new Qe(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=s.extensions[this.name];return void 0!==a.sheenColorFactor&&e.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(e.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&r.push(n.assignTexture(e,"sheenColorMap",a.sheenColorTexture,ki)),void 0!==a.sheenRoughnessTexture&&r.push(n.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class bte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class xte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&r.push(n.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||0;const c=a.attenuationColor||[1,1,1];return e.attenuationColor=new Qe(c[0],c[1],c[2]),Promise.all(r)}}class wte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class Cte{constructor(t){this.parser=t,this.name=Si.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?xl:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&r.push(n.assignTexture(e,"specularIntensityMap",a.specularTexture));const c=a.specularColorFactor||[1,1,1];return e.specularColor=new Qe(c[0],c[1],c[2]),void 0!==a.specularColorTexture&&r.push(n.assignTexture(e,"specularColorMap",a.specularColorTexture,ki)),Promise.all(r)}}class Mte{constructor(t){this.parser=t,this.name=Si.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,s=n.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,a)}}class Ste{constructor(t){this.parser=t,this.name=Si.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,s=n.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const a=r.extensions[e],c=s.images[a.source];let d=n.textureLoader;if(c.uri){const h=n.options.manager.getHandler(c.uri);null!==h&&(d=h)}return this.detectSupport().then(function(h){if(h)return n.loadTextureImage(t,a.source,d);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class Dte{constructor(t){this.name=Si.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const s=n.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,a.ready]).then(function(c){const d=s.byteOffset||0,h=s.byteLength||0,g=s.count,v=s.byteStride,b=new ArrayBuffer(g*v),C=new Uint8Array(c[0],d,h);return a.decodeGltfBuffer(new Uint8Array(b),g,v,C,s.mode,s.filter),b})}return null}}const O2="glTF";class Ate{constructor(t){this.name=Si.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:Ia.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==O2)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,s=new DataView(t,12);let r=0;for(;r<n;){const a=s.getUint32(r,!0);r+=4;const c=s.getUint32(r,!0);if(r+=4,1313821514===c){const d=new Uint8Array(t,12+r,a);this.content=Ia.decodeText(d)}else if(5130562===c){const d=12+r;this.body=t.slice(d,d+a)}r+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Ete{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Si.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,s=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,c={},d={},h={};for(const g in a){const v=xM[g]||g.toLowerCase();c[v]=a[g]}for(const g in t.attributes){const v=xM[g]||g.toLowerCase();if(void 0!==a[g]){const b=n.accessors[t.attributes[g]];h[v]=Cp[b.componentType],d[v]=!0===b.normalized}}return e.getDependency("bufferView",r).then(function(g){return new Promise(function(v){s.decodeDracoFile(g,function(b){for(const C in b.attributes){const D=b.attributes[C],A=d[C];void 0!==A&&(D.normalized=A)}v(b)},c,h)})})}}class Tte{constructor(){this.name=Si.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class bM extends Wu{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),c={specular:{value:(new Qe).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=c,this.onBeforeCompile=function(d){for(const h in c)d.uniforms[h]=c[h];d.fragmentShader=d.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return c.specular.value},set:function(d){c.specular.value=d}},specularMap:{get:function(){return c.specularMap.value},set:function(d){c.specularMap.value=d,d?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return c.glossiness.value},set:function(d){c.glossiness.value=d}},glossinessMap:{get:function(){return c.glossinessMap.value},set:function(d){c.glossinessMap.value=d,d?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class kte{constructor(){this.name=Si.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return bM}extendParams(t,e,n){const s=e.extensions[this.name];t.color=new Qe(1,1,1),t.opacity=1;const r=[];if(Array.isArray(s.diffuseFactor)){const a=s.diffuseFactor;t.color.fromArray(a),t.opacity=a[3]}if(void 0!==s.diffuseTexture&&r.push(n.assignTexture(t,"map",s.diffuseTexture,ki)),t.emissive=new Qe(0,0,0),t.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,t.specular=new Qe(1,1,1),Array.isArray(s.specularFactor)&&t.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){const a=s.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",a)),r.push(n.assignTexture(t,"specularMap",a,ki))}return Promise.all(r)}createMaterial(t){const e=new bM(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class Rte{constructor(){this.name=Si.KHR_MESH_QUANTIZATION}}class Rc extends _o{constructor(t,e,n,s){super(t,e,n,s)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=t*s*3+s;for(let a=0;a!==s;a++)e[a]=n[r+a];return e}}Rc.prototype.beforeStart_=Rc.prototype.copySampleValue_,Rc.prototype.afterEnd_=Rc.prototype.copySampleValue_,Rc.prototype.interpolate_=function(i,t,e,n){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,c=2*a,d=3*a,h=n-t,g=(e-t)/h,v=g*g,b=v*g,C=i*d,D=C-d,A=-2*b+3*v,E=b-v,I=1-A,P=E-v+g;for(let N=0;N!==a;N++)s[N]=I*r[D+N+a]+P*(r[D+N+c]*h)+A*r[C+N+a]+E*(r[C+N]*h);return s};const Ite=new $n;class Pte extends Rc{interpolate_(t,e,n,s){const r=super.interpolate_(t,e,n,s);return Ite.fromArray(r).normalize().toArray(r),r}}const Cp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},N2={9728:Pn,9729:Xi,9984:1004,9985:1007,9986:1005,9987:rl},B2={33071:ks,33648:1002,10497:oc},V2={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Cl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Lte={CUBICSPLINE:void 0,LINEAR:pu,STEP:Wf};function Mp(i,t,e){for(const n in e.extensions)void 0===i[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function Ic(i,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Nte(i,t){if(i.updateMorphTargets(),void 0!==t.weights)for(let e=0,n=t.weights.length;e<n;e++)i.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(i.morphTargetInfluences.length===e.length){i.morphTargetDictionary={};for(let n=0,s=e.length;n<s;n++)i.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Bte(i){const t=i.extensions&&i.extensions[Si.KHR_DRACO_MESH_COMPRESSION];let e;return e=t?"draco:"+t.bufferView+":"+t.indices+":"+H2(t.attributes):i.indices+":"+H2(i.attributes)+":"+i.mode,e}function H2(i){let t="";const e=Object.keys(i).sort();for(let n=0,s=e.length;n<s;n++)t+=e[n]+":"+i[e[n]]+";";return t}function CM(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Hte{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new gte,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?new u2(this.options.manager):new KF(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ka(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,s=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const c={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:n,userData:{}};Mp(r,c,s),Ic(c,s),Promise.all(n._invokeAll(function(d){return d.afterRoot&&d.afterRoot(c)})).then(function(){t(c)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let s=0,r=e.length;s<r;s++){const a=e[s].joints;for(let c=0,d=a.length;c<d;c++)t[a[c]].isBone=!0}for(let s=0,r=t.length;s<r;s++){const a=t[s];void 0!==a.mesh&&(this._addNodeRef(this.meshCache,a.mesh),void 0!==a.skin&&(n[a.mesh].isSkinnedMesh=!0)),void 0!==a.camera&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const s=n.clone(),r=(a,c)=>{const d=this.associations.get(a);null!=d&&this.associations.set(c,d);for(const[h,g]of a.children.entries())r(g,c.children[h])};return r(n,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const s=t(e[n]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let s=0;s<e.length;s++){const r=t(e[s]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let s=this.cache.get(n);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this.loadNode(e);break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this.loadAnimation(e);break;case"camera":s=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(r,a){return n.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Si.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){n.load(Ia.resolveURL(e.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const r=e.byteOffset||0;return n.slice(r,r+(e.byteLength||0))})}loadAccessor(t){const e=this,n=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);const r=[];return r.push(void 0!==s.bufferView?this.getDependency("bufferView",s.bufferView):null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const c=a[0],d=V2[s.type],h=Cp[s.componentType],g=h.BYTES_PER_ELEMENT,b=s.byteOffset||0,C=void 0!==s.bufferView?n.bufferViews[s.bufferView].byteStride:void 0,D=!0===s.normalized;let A,E;if(C&&C!==g*d){const I=Math.floor(b/C),P="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+I+":"+s.count;let N=e.cache.get(P);N||(A=new h(c,I*C,s.count*C/g),N=new Cc(A,C/g),e.cache.add(P,N)),E=new ml(N,d,b%C/g,D)}else A=null===c?new h(s.count*d):new h(c,b,s.count*d),E=new Ui(A,d,D);if(void 0!==s.sparse){const V=s.sparse.values.byteOffset||0,G=new(0,Cp[s.sparse.indices.componentType])(a[1],s.sparse.indices.byteOffset||0,s.sparse.count*V2.SCALAR),q=new h(a[2],V,s.sparse.count*d);null!==c&&(E=new Ui(E.array.slice(),E.itemSize,E.normalized));for(let ee=0,se=G.length;ee<se;ee++){const ce=G[ee];if(E.setX(ce,q[ee*d]),d>=2&&E.setY(ce,q[ee*d+1]),d>=3&&E.setZ(ce,q[ee*d+2]),d>=4&&E.setW(ce,q[ee*d+3]),d>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(t){const e=this.json,r=e.textures[t].source,a=e.images[r];let c=this.textureLoader;if(a.uri){const d=this.options.manager.getHandler(a.uri);null!==d&&(c=d)}return this.loadTextureImage(t,r,c)}loadTextureImage(t,e,n){const s=this,r=this.json,a=r.textures[t],c=r.images[e],d=(c.uri||c.bufferView)+":"+a.sampler;if(this.textureCache[d])return this.textureCache[d];const h=this.loadImageSource(e,n).then(function(g){g.flipY=!1,a.name&&(g.name=a.name);const b=(r.samplers||{})[a.sampler]||{};return g.magFilter=N2[b.magFilter]||Xi,g.minFilter=N2[b.minFilter]||rl,g.wrapS=B2[b.wrapS]||oc,g.wrapT=B2[b.wrapT]||oc,s.associations.set(g,{textures:t}),g}).catch(function(){return null});return this.textureCache[d]=h,h}loadImageSource(t,e){const s=this.json,r=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(v=>v.clone());const a=s.images[t],c=self.URL||self.webkitURL;let d=a.uri||"",h=!1;if(void 0!==a.bufferView)d=this.getDependency("bufferView",a.bufferView).then(function(v){h=!0;const b=new Blob([v],{type:a.mimeType});return d=c.createObjectURL(b),d});else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const g=Promise.resolve(d).then(function(v){return new Promise(function(b,C){let D=b;!0===e.isImageBitmapLoader&&(D=function(A){const E=new vs(A);E.needsUpdate=!0,b(E)}),e.load(Ia.resolveURL(v,r.path),D,void 0,C)})}).then(function(v){return!0===h&&c.revokeObjectURL(d),v.userData.mimeType=a.mimeType||function Vte(i){return i.search(/\.jpe?g($|\?)/i)>0||0===i.search(/^data\:image\/jpeg/)?"image/jpeg":i.search(/\.webp($|\?)/i)>0||0===i.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),v}).catch(function(v){throw console.error("THREE.GLTFLoader: Couldn't load texture",d),v});return this.sourceCache[t]=g,g}assignTexture(t,e,n,s){const r=this;return this.getDependency("texture",n.index).then(function(a){if(void 0!==n.texCoord&&0!=n.texCoord&&!("aoMap"===e&&1==n.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),r.extensions[Si.KHR_TEXTURE_TRANSFORM]){const c=void 0!==n.extensions?n.extensions[Si.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const d=r.associations.get(a);a=r.extensions[Si.KHR_TEXTURE_TRANSFORM].extendTexture(a,c),r.associations.set(a,d)}}return void 0!==s&&(a.encoding=s),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const s=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,a=void 0===e.attributes.normal;if(t.isPoints){const c="PointsMaterial:"+n.uuid;let d=this.cache.get(c);d||(d=new uv,ln.prototype.copy.call(d,n),d.color.copy(n.color),d.map=n.map,d.sizeAttenuation=!1,this.cache.add(c,d)),n=d}else if(t.isLine){const c="LineBasicMaterial:"+n.uuid;let d=this.cache.get(c);d||(d=new ss,ln.prototype.copy.call(d,n),d.color.copy(n.color),this.cache.add(c,d)),n=d}if(s||r||a){let c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),s&&(c+="derivative-tangents:"),r&&(c+="vertex-colors:"),a&&(c+="flat-shading:");let d=this.cache.get(c);d||(d=n.clone(),r&&(d.vertexColors=!0),a&&(d.flatShading=!0),s&&(d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Wu}loadMaterial(t){const e=this,s=this.extensions,r=this.json.materials[t];let a;const c={},d=r.extensions||{},h=[];if(d[Si.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const v=s[Si.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=v.getMaterialType(),h.push(v.extendParams(c,r,e))}else if(d[Si.KHR_MATERIALS_UNLIT]){const v=s[Si.KHR_MATERIALS_UNLIT];a=v.getMaterialType(),h.push(v.extendParams(c,r,e))}else{const v=r.pbrMetallicRoughness||{};if(c.color=new Qe(1,1,1),c.opacity=1,Array.isArray(v.baseColorFactor)){const b=v.baseColorFactor;c.color.fromArray(b),c.opacity=b[3]}void 0!==v.baseColorTexture&&h.push(e.assignTexture(c,"map",v.baseColorTexture,ki)),c.metalness=void 0!==v.metallicFactor?v.metallicFactor:1,c.roughness=void 0!==v.roughnessFactor?v.roughnessFactor:1,void 0!==v.metallicRoughnessTexture&&(h.push(e.assignTexture(c,"metalnessMap",v.metallicRoughnessTexture)),h.push(e.assignTexture(c,"roughnessMap",v.metallicRoughnessTexture))),a=this._invokeOne(function(b){return b.getMaterialType&&b.getMaterialType(t)}),h.push(Promise.all(this._invokeAll(function(b){return b.extendMaterialParams&&b.extendMaterialParams(t,c)})))}!0===r.doubleSided&&(c.side=2);const g=r.alphaMode||"OPAQUE";if("BLEND"===g?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,"MASK"===g&&(c.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&a!==rr&&(h.push(e.assignTexture(c,"normalMap",r.normalTexture)),c.normalScale=new Te(1,1),void 0!==r.normalTexture.scale)){const v=r.normalTexture.scale;c.normalScale.set(v,v)}return void 0!==r.occlusionTexture&&a!==rr&&(h.push(e.assignTexture(c,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(c.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&a!==rr&&(c.emissive=(new Qe).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&a!==rr&&h.push(e.assignTexture(c,"emissiveMap",r.emissiveTexture,ki)),Promise.all(h).then(function(){let v;return v=a===bM?s[Si.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(c):new a(c),r.name&&(v.name=r.name),Ic(v,r),e.associations.set(v,{materials:t}),r.extensions&&Mp(s,v,r),v})}createUniqueName(t){const e=$i.sanitizeNodeName(t||"");let n=e;for(let s=1;this.nodeNamesUsed[n];++s)n=e+"_"+s;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,s=this.primitiveCache;function r(c){return n[Si.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,e).then(function(d){return G2(d,c,e)})}const a=[];for(let c=0,d=t.length;c<d;c++){const h=t[c],g=Bte(h),v=s[g];if(v)a.push(v.promise);else{let b;b=h.extensions&&h.extensions[Si.KHR_DRACO_MESH_COMPRESSION]?r(h):G2(new Xt,h,e),s[g]={primitive:h,promise:b},a.push(b)}}return Promise.all(a)}loadMesh(t){const e=this,s=this.extensions,r=this.json.meshes[t],a=r.primitives,c=[];for(let d=0,h=a.length;d<h;d++){const g=void 0===a[d].material?(void 0===(i=this.cache).DefaultMaterial&&(i.DefaultMaterial=new Wu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),i.DefaultMaterial):this.getDependency("material",a[d].material);c.push(g)}var i;return c.push(e.loadGeometries(a)),Promise.all(c).then(function(d){const h=d.slice(0,d.length-1),g=d[d.length-1],v=[];for(let C=0,D=g.length;C<D;C++){const A=g[C],E=a[C];let I;const P=h[C];if(4===E.mode||5===E.mode||6===E.mode||void 0===E.mode)I=!0===r.isSkinnedMesh?new av(A,P):new qn(A,P),!0===I.isSkinnedMesh&&!I.geometry.attributes.skinWeight.normalized&&I.normalizeSkinWeights(),5===E.mode?I.geometry=U2(I.geometry,1):6===E.mode&&(I.geometry=U2(I.geometry,2));else if(1===E.mode)I=new Mc(A,P);else if(3===E.mode)I=new _l(A,P);else if(2===E.mode)I=new WC(A,P);else{if(0!==E.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);I=new YC(A,P)}Object.keys(I.geometry.morphAttributes).length>0&&Nte(I,r),I.name=e.createUniqueName(r.name||"mesh_"+t),Ic(I,r),E.extensions&&Mp(s,I,E),e.assignFinalMaterial(I),v.push(I)}for(let C=0,D=v.length;C<D;C++)e.associations.set(v[C],{meshes:t,primitives:C});if(1===v.length)return v[0];const b=new po;e.associations.set(b,{meshes:t});for(let C=0,D=v.length;C<D;C++)b.add(v[C]);return b})}loadCamera(t){let e;const n=this.json.cameras[t],s=n[n.type];if(s)return"perspective"===n.type?e=new Zn(V7.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===n.type&&(e=new tp(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),Ic(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then(function(s){return n.inverseBindMatrices=s,n})}loadAnimation(t){const n=this.json.animations[t],s=[],r=[],a=[],c=[],d=[];for(let h=0,g=n.channels.length;h<g;h++){const v=n.channels[h],b=n.samplers[v.sampler],C=v.target,A=void 0!==n.parameters?n.parameters[b.input]:b.input,E=void 0!==n.parameters?n.parameters[b.output]:b.output;s.push(this.getDependency("node",void 0!==C.node?C.node:C.id)),r.push(this.getDependency("accessor",A)),a.push(this.getDependency("accessor",E)),c.push(b),d.push(C)}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(a),Promise.all(c),Promise.all(d)]).then(function(h){const g=h[0],v=h[1],b=h[2],C=h[3],D=h[4],A=[];for(let I=0,P=g.length;I<P;I++){const N=g[I],V=v[I],G=b[I],q=C[I],ee=D[I];if(void 0===N)continue;let se;switch(N.updateMatrix(),N.matrixAutoUpdate=!0,Cl[ee.path]){case Cl.weights:se=_p;break;case Cl.rotation:se=Sc;break;default:se=vp}const ce=N.name?N.name:N.uuid,oe=void 0!==q.interpolation?Lte[q.interpolation]:pu,j=[];Cl[ee.path]===Cl.weights?N.traverse(function(Ce){Ce.morphTargetInfluences&&j.push(Ce.name?Ce.name:Ce.uuid)}):j.push(ce);let ie=G.array;if(G.normalized){const Ce=CM(ie.constructor),pe=new Float32Array(ie.length);for(let _e=0,ae=ie.length;_e<ae;_e++)pe[_e]=ie[_e]*Ce;ie=pe}for(let Ce=0,pe=j.length;Ce<pe;Ce++){const _e=new se(j[Ce]+"."+Cl[ee.path],V.array,ie,oe);"CUBICSPLINE"===q.interpolation&&(_e.createInterpolant=function(de){return new(this instanceof Sc?Pte:Rc)(this.times,this.values,this.getValueSize()/3,de)},_e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),A.push(_e)}}return new yp(n.name?n.name:"animation_"+t,void 0,A)})}createNodeMesh(t){const n=this,s=this.json.nodes[t];return void 0===s.mesh?null:n.getDependency("mesh",s.mesh).then(function(r){const a=n._getNodeRef(n.meshCache,s.mesh,r);return void 0!==s.weights&&a.traverse(function(c){if(c.isMesh)for(let d=0,h=s.weights.length;d<h;d++)c.morphTargetInfluences[d]=s.weights[d]}),a})}loadNode(t){const n=this.extensions,s=this,r=this.json.nodes[t],a=r.name?s.createUniqueName(r.name):"";return function(){const c=[],d=s._invokeOne(function(h){return h.createNodeMesh&&h.createNodeMesh(t)});return d&&c.push(d),void 0!==r.camera&&c.push(s.getDependency("camera",r.camera).then(function(h){return s._getNodeRef(s.cameraCache,r.camera,h)})),s._invokeAll(function(h){return h.createNodeAttachment&&h.createNodeAttachment(t)}).forEach(function(h){c.push(h)}),Promise.all(c)}().then(function(c){let d;if(d=!0===r.isBone?new ov:c.length>1?new po:1===c.length?c[0]:new Li,d!==c[0])for(let h=0,g=c.length;h<g;h++)d.add(c[h]);if(r.name&&(d.userData.name=r.name,d.name=a),Ic(d,r),r.extensions&&Mp(n,d,r),void 0!==r.matrix){const h=new Ct;h.fromArray(r.matrix),d.applyMatrix4(h)}else void 0!==r.translation&&d.position.fromArray(r.translation),void 0!==r.rotation&&d.quaternion.fromArray(r.rotation),void 0!==r.scale&&d.scale.fromArray(r.scale);return s.associations.has(d)||s.associations.set(d,{}),s.associations.get(d).nodes=t,d})}loadScene(t){const e=this.json,n=this.extensions,s=this.json.scenes[t],r=this,a=new po;s.name&&(a.name=r.createUniqueName(s.name)),Ic(a,s),s.extensions&&Mp(n,a,s);const c=s.nodes||[],d=[];for(let h=0,g=c.length;h<g;h++)d.push(z2(c[h],a,e,r));return Promise.all(d).then(function(){return r.associations=(g=>{const v=new Map;for(const[b,C]of r.associations)(b instanceof ln||b instanceof vs)&&v.set(b,C);return g.traverse(b=>{const C=r.associations.get(b);null!=C&&v.set(b,C)}),v})(a),a})}}function z2(i,t,e,n){const s=e.nodes[i];return n.getDependency("node",i).then(function(r){if(void 0===s.skin)return r;let a;return n.getDependency("skin",s.skin).then(function(c){a=c;const d=[];for(let h=0,g=a.joints.length;h<g;h++)d.push(n.getDependency("node",a.joints[h]));return Promise.all(d)}).then(function(c){return r.traverse(function(d){if(!d.isMesh)return;const h=[],g=[];for(let v=0,b=c.length;v<b;v++){const C=c[v];if(C){h.push(C);const D=new Ct;void 0!==a.inverseBindMatrices&&D.fromArray(a.inverseBindMatrices.array,16*v),g.push(D)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[v])}d.bind(new lv(h,g),d.matrixWorld)}),r})}).then(function(r){t.add(r);const a=[];if(s.children){const c=s.children;for(let d=0,h=c.length;d<h;d++)a.push(z2(c[d],r,e,n))}return Promise.all(a)})}function G2(i,t,e){const n=t.attributes,s=[];function r(a,c){return e.getDependency("accessor",a).then(function(d){i.setAttribute(c,d)})}for(const a in n){const c=xM[a]||a.toLowerCase();c in i.attributes||s.push(r(n[a],c))}if(void 0!==t.indices&&!i.index){const a=e.getDependency("accessor",t.indices).then(function(c){i.setIndex(c)});s.push(a)}return Ic(i,t),function zte(i,t,e){const n=t.attributes,s=new nr;if(void 0===n.POSITION)return;{const c=e.json.accessors[n.POSITION],d=c.min,h=c.max;if(void 0===d||void 0===h)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new $(d[0],d[1],d[2]),new $(h[0],h[1],h[2])),c.normalized){const g=CM(Cp[c.componentType]);s.min.multiplyScalar(g),s.max.multiplyScalar(g)}}const r=t.targets;if(void 0!==r){const c=new $,d=new $;for(let h=0,g=r.length;h<g;h++){const v=r[h];if(void 0!==v.POSITION){const b=e.json.accessors[v.POSITION],C=b.min,D=b.max;if(void 0!==C&&void 0!==D){if(d.setX(Math.max(Math.abs(C[0]),Math.abs(D[0]))),d.setY(Math.max(Math.abs(C[1]),Math.abs(D[1]))),d.setZ(Math.max(Math.abs(C[2]),Math.abs(D[2]))),b.normalized){const A=CM(Cp[b.componentType]);d.multiplyScalar(A)}c.max(d)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(c)}i.boundingBox=s;const a=new cl;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,i.boundingSphere=a}(i,t,e),Promise.all(s).then(function(){return void 0!==t.targets?function Fte(i,t,e){let n=!1,s=!1,r=!1;for(let h=0,g=t.length;h<g;h++){const v=t[h];if(void 0!==v.POSITION&&(n=!0),void 0!==v.NORMAL&&(s=!0),void 0!==v.COLOR_0&&(r=!0),n&&s&&r)break}if(!n&&!s&&!r)return Promise.resolve(i);const a=[],c=[],d=[];for(let h=0,g=t.length;h<g;h++){const v=t[h];if(n){const b=void 0!==v.POSITION?e.getDependency("accessor",v.POSITION):i.attributes.position;a.push(b)}if(s){const b=void 0!==v.NORMAL?e.getDependency("accessor",v.NORMAL):i.attributes.normal;c.push(b)}if(r){const b=void 0!==v.COLOR_0?e.getDependency("accessor",v.COLOR_0):i.attributes.color;d.push(b)}}return Promise.all([Promise.all(a),Promise.all(c),Promise.all(d)]).then(function(h){const v=h[1],b=h[2];return n&&(i.morphAttributes.position=h[0]),s&&(i.morphAttributes.normal=v),r&&(i.morphAttributes.color=b),i.morphTargetsRelative=!0,i})}(i,t.targets,e):i})}function U2(i,t){let e=i.getIndex();if(null===e){const a=[],c=i.getAttribute("position");if(void 0===c)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i;for(let d=0;d<c.count;d++)a.push(d);i.setIndex(a),e=i.getIndex()}const n=e.count-2,s=[];if(2===t)for(let a=1;a<=n;a++)s.push(e.getX(0)),s.push(e.getX(a)),s.push(e.getX(a+1));else for(let a=0;a<n;a++)a%2==0?(s.push(e.getX(a)),s.push(e.getX(a+1)),s.push(e.getX(a+2))):(s.push(e.getX(a+2)),s.push(e.getX(a+1)),s.push(e.getX(a)));s.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=i.clone();return r.setIndex(s),r}const W2={type:"change"},MM={type:"start"},j2={type:"end"};class Gte extends al{constructor(t,e){super(),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new $,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(Q){Q.addEventListener("keydown",Oi),this._domElementKeyEvents=Q},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(W2),n.update(),r=s.NONE},this.update=function(){const Q=new $,Ye=(new $n).setFromUnitVectors(t.up,new $(0,1,0)),Et=Ye.clone().invert(),rt=new $,le=new $n,tt=2*Math.PI;return function(){const qt=n.object.position;Q.copy(qt).sub(n.target),Q.applyQuaternion(Ye),c.setFromVector3(Q),n.autoRotate&&r===s.NONE&&ce(function ee(){return 2*Math.PI/60/60*n.autoRotateSpeed}()),n.enableDamping?(c.theta+=d.theta*n.dampingFactor,c.phi+=d.phi*n.dampingFactor):(c.theta+=d.theta,c.phi+=d.phi);let pt=n.minAzimuthAngle,It=n.maxAzimuthAngle;return isFinite(pt)&&isFinite(It)&&(pt<-Math.PI?pt+=tt:pt>Math.PI&&(pt-=tt),It<-Math.PI?It+=tt:It>Math.PI&&(It-=tt),c.theta=pt<=It?Math.max(pt,Math.min(It,c.theta)):c.theta>(pt+It)/2?Math.max(pt,c.theta):Math.min(It,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=h,c.radius=Math.max(n.minDistance,Math.min(n.maxDistance,c.radius)),!0===n.enableDamping?n.target.addScaledVector(g,n.dampingFactor):n.target.add(g),Q.setFromSpherical(c),Q.applyQuaternion(Et),qt.copy(n.target).add(Q),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,g.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),g.set(0,0,0)),h=1,!!(v||rt.distanceToSquared(n.object.position)>a||8*(1-le.dot(n.object.quaternion))>a)&&(n.dispatchEvent(W2),rt.copy(n.object.position),le.copy(n.object.quaternion),v=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Se),n.domElement.removeEventListener("pointerdown",qe),n.domElement.removeEventListener("pointercancel",si),n.domElement.removeEventListener("wheel",qi),n.domElement.removeEventListener("pointermove",wt),n.domElement.removeEventListener("pointerup",ut),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Oi)};const n=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=s.NONE;const a=1e-6,c=new x2,d=new x2;let h=1;const g=new $;let v=!1;const b=new Te,C=new Te,D=new Te,A=new Te,E=new Te,I=new Te,P=new Te,N=new Te,V=new Te,G=[],q={};function se(){return Math.pow(.95,n.zoomSpeed)}function ce(Q){d.theta-=Q}function oe(Q){d.phi-=Q}const j=function(){const Q=new $;return function(Et,rt){Q.setFromMatrixColumn(rt,0),Q.multiplyScalar(-Et),g.add(Q)}}(),ie=function(){const Q=new $;return function(Et,rt){!0===n.screenSpacePanning?Q.setFromMatrixColumn(rt,1):(Q.setFromMatrixColumn(rt,0),Q.crossVectors(n.object.up,Q)),Q.multiplyScalar(Et),g.add(Q)}}(),Ce=function(){const Q=new $;return function(Et,rt){const le=n.domElement;if(n.object.isPerspectiveCamera){Q.copy(n.object.position).sub(n.target);let Je=Q.length();Je*=Math.tan(n.object.fov/2*Math.PI/180),j(2*Et*Je/le.clientHeight,n.object.matrix),ie(2*rt*Je/le.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(j(Et*(n.object.right-n.object.left)/n.object.zoom/le.clientWidth,n.object.matrix),ie(rt*(n.object.top-n.object.bottom)/n.object.zoom/le.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function pe(Q){n.object.isPerspectiveCamera?h/=Q:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*Q)),n.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function _e(Q){n.object.isPerspectiveCamera?h*=Q:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/Q)),n.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function ae(Q){b.set(Q.clientX,Q.clientY)}function re(Q){A.set(Q.clientX,Q.clientY)}function bt(){1===G.length?b.set(G[0].pageX,G[0].pageY):b.set(.5*(G[0].pageX+G[1].pageX),.5*(G[0].pageY+G[1].pageY))}function Ht(){1===G.length?A.set(G[0].pageX,G[0].pageY):A.set(.5*(G[0].pageX+G[1].pageX),.5*(G[0].pageY+G[1].pageY))}function ke(){const Q=G[0].pageX-G[1].pageX,Ye=G[0].pageY-G[1].pageY,Et=Math.sqrt(Q*Q+Ye*Ye);P.set(0,Et)}function Ot(Q){if(1==G.length)C.set(Q.pageX,Q.pageY);else{const Et=Nt(Q);C.set(.5*(Q.pageX+Et.x),.5*(Q.pageY+Et.y))}D.subVectors(C,b).multiplyScalar(n.rotateSpeed);const Ye=n.domElement;ce(2*Math.PI*D.x/Ye.clientHeight),oe(2*Math.PI*D.y/Ye.clientHeight),b.copy(C)}function Xe(Q){if(1===G.length)E.set(Q.pageX,Q.pageY);else{const Ye=Nt(Q);E.set(.5*(Q.pageX+Ye.x),.5*(Q.pageY+Ye.y))}I.subVectors(E,A).multiplyScalar(n.panSpeed),Ce(I.x,I.y),A.copy(E)}function ni(Q){const Ye=Nt(Q),Et=Q.pageX-Ye.x,rt=Q.pageY-Ye.y,le=Math.sqrt(Et*Et+rt*rt);N.set(0,le),V.set(0,Math.pow(N.y/P.y,n.zoomSpeed)),pe(V.y),P.copy(N)}function qe(Q){!1!==n.enabled&&(0===G.length&&(n.domElement.setPointerCapture(Q.pointerId),n.domElement.addEventListener("pointermove",wt),n.domElement.addEventListener("pointerup",ut)),function We(Q){G.push(Q)}(Q),"touch"===Q.pointerType?function ne(Q){switch(vt(Q),G.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;bt(),r=s.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;Ht(),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function $t(){n.enableZoom&&ke(),n.enablePan&&Ht()})(),r=s.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function zt(){n.enableZoom&&ke(),n.enableRotate&&bt()})(),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent(MM)}(Q):function Wt(Q){let Ye;switch(Q.button){case 0:Ye=n.mouseButtons.LEFT;break;case 1:Ye=n.mouseButtons.MIDDLE;break;case 2:Ye=n.mouseButtons.RIGHT;break;default:Ye=-1}switch(Ye){case 1:if(!1===n.enableZoom)return;(function de(Q){P.set(Q.clientX,Q.clientY)})(Q),r=s.DOLLY;break;case 0:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(!1===n.enablePan)return;re(Q),r=s.PAN}else{if(!1===n.enableRotate)return;ae(Q),r=s.ROTATE}break;case 2:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(!1===n.enableRotate)return;ae(Q),r=s.ROTATE}else{if(!1===n.enablePan)return;re(Q),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent(MM)}(Q))}function wt(Q){!1!==n.enabled&&("touch"===Q.pointerType?function Z(Q){switch(vt(Q),r){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;Ot(Q),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;Xe(Q),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function Re(Q){n.enableZoom&&ni(Q),n.enablePan&&Xe(Q)})(Q),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function Fe(Q){n.enableZoom&&ni(Q),n.enableRotate&&Ot(Q)})(Q),n.update();break;default:r=s.NONE}}(Q):function Ft(Q){if(!1!==n.enabled)switch(r){case s.ROTATE:if(!1===n.enableRotate)return;!function be(Q){C.set(Q.clientX,Q.clientY),D.subVectors(C,b).multiplyScalar(n.rotateSpeed);const Ye=n.domElement;ce(2*Math.PI*D.x/Ye.clientHeight),oe(2*Math.PI*D.y/Ye.clientHeight),b.copy(C),n.update()}(Q);break;case s.DOLLY:if(!1===n.enableZoom)return;!function Ae(Q){N.set(Q.clientX,Q.clientY),V.subVectors(N,P),V.y>0?pe(se()):V.y<0&&_e(se()),P.copy(N),n.update()}(Q);break;case s.PAN:if(!1===n.enablePan)return;!function Ue(Q){E.set(Q.clientX,Q.clientY),I.subVectors(E,A).multiplyScalar(n.panSpeed),Ce(I.x,I.y),A.copy(E),n.update()}(Q)}}(Q))}function ut(Q){ct(Q),0===G.length&&(n.domElement.releasePointerCapture(Q.pointerId),n.domElement.removeEventListener("pointermove",wt),n.domElement.removeEventListener("pointerup",ut)),n.dispatchEvent(j2),r=s.NONE}function si(Q){ct(Q)}function qi(Q){!1===n.enabled||!1===n.enableZoom||r!==s.NONE||(Q.preventDefault(),n.dispatchEvent(MM),function Oe(Q){Q.deltaY<0?_e(se()):Q.deltaY>0&&pe(se()),n.update()}(Q),n.dispatchEvent(j2))}function Oi(Q){!1===n.enabled||!1===n.enablePan||function xt(Q){let Ye=!1;switch(Q.code){case n.keys.UP:Ce(0,n.keyPanSpeed),Ye=!0;break;case n.keys.BOTTOM:Ce(0,-n.keyPanSpeed),Ye=!0;break;case n.keys.LEFT:Ce(n.keyPanSpeed,0),Ye=!0;break;case n.keys.RIGHT:Ce(-n.keyPanSpeed,0),Ye=!0}Ye&&(Q.preventDefault(),n.update())}(Q)}function Se(Q){!1!==n.enabled&&Q.preventDefault()}function ct(Q){delete q[Q.pointerId];for(let Ye=0;Ye<G.length;Ye++)if(G[Ye].pointerId==Q.pointerId)return void G.splice(Ye,1)}function vt(Q){let Ye=q[Q.pointerId];void 0===Ye&&(Ye=new Te,q[Q.pointerId]=Ye),Ye.set(Q.pageX,Q.pageY)}function Nt(Q){return q[(Q.pointerId===G[0].pointerId?G[1]:G[0]).pointerId]}n.domElement.addEventListener("contextmenu",Se),n.domElement.addEventListener("pointerdown",qe),n.domElement.addEventListener("pointercancel",si),n.domElement.addEventListener("wheel",qi,{passive:!1}),this.update()}}class Ute extends Vee{constructor(t){super(t),this.type=Da}parse(t){const c=function(N,V){switch(N){case 1:console.error("THREE.RGBELoader Read Error: "+(V||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(V||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(V||""));break;default:console.error("THREE.RGBELoader: Error: "+(V||""))}return-1},b=function(N,V,G){V=V||1024;let ee=N.pos,se=-1,ce=0,oe="",j=String.fromCharCode.apply(null,new Uint16Array(N.subarray(ee,ee+128)));for(;0>(se=j.indexOf("\n"))&&ce<V&&ee<N.byteLength;)oe+=j,ce+=j.length,ee+=128,j+=String.fromCharCode.apply(null,new Uint16Array(N.subarray(ee,ee+128)));return-1<se&&(!1!==G&&(N.pos+=ce+se+1),oe+j.slice(0,se))},A=function(N,V,G,q){const se=Math.pow(2,N[V+3]-128)/255;G[q+0]=N[V+0]*se,G[q+1]=N[V+1]*se,G[q+2]=N[V+2]*se,G[q+3]=1},E=function(N,V,G,q){const se=Math.pow(2,N[V+3]-128)/255;G[q+0]=Gv.toHalfFloat(Math.min(N[V+0]*se,65504)),G[q+1]=Gv.toHalfFloat(Math.min(N[V+1]*se,65504)),G[q+2]=Gv.toHalfFloat(Math.min(N[V+2]*se,65504)),G[q+3]=Gv.toHalfFloat(1)},I=new Uint8Array(t);I.pos=0;const P=function(N){const G=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,ee=/^\s*FORMAT=(\S+)\s*$/,se=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,ce={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let oe,j;if(N.pos>=N.byteLength||!(oe=b(N)))return c(1,"no header found");if(!(j=oe.match(/^#\?(\S+)/)))return c(3,"bad initial token");for(ce.valid|=1,ce.programtype=j[1],ce.string+=oe+"\n";oe=b(N),!1!==oe;)if(ce.string+=oe+"\n","#"!==oe.charAt(0)){if((j=oe.match(G))&&(ce.gamma=parseFloat(j[1])),(j=oe.match(q))&&(ce.exposure=parseFloat(j[1])),(j=oe.match(ee))&&(ce.valid|=2,ce.format=j[1]),(j=oe.match(se))&&(ce.valid|=4,ce.height=parseInt(j[1],10),ce.width=parseInt(j[2],10)),2&ce.valid&&4&ce.valid)break}else ce.comments+=oe+"\n";return 2&ce.valid?4&ce.valid?ce:c(3,"missing image size specifier"):c(3,"missing format specifier")}(I);if(-1!==P){const N=P.width,V=P.height,G=function(N,V,G){const q=V;if(q<8||q>32767||2!==N[0]||2!==N[1]||128&N[2])return new Uint8Array(N);if(q!==(N[2]<<8|N[3]))return c(3,"wrong scanline width");const ee=new Uint8Array(4*V*G);if(!ee.length)return c(4,"unable to allocate buffer space");let se=0,ce=0;const oe=4*q,j=new Uint8Array(4),ie=new Uint8Array(oe);let Ce=G;for(;Ce>0&&ce<N.byteLength;){if(ce+4>N.byteLength)return c(1);if(j[0]=N[ce++],j[1]=N[ce++],j[2]=N[ce++],j[3]=N[ce++],2!=j[0]||2!=j[1]||(j[2]<<8|j[3])!=q)return c(3,"bad rgbe scanline format");let _e,pe=0;for(;pe<oe&&ce<N.byteLength;){_e=N[ce++];const de=_e>128;if(de&&(_e-=128),0===_e||pe+_e>oe)return c(3,"bad scanline data");if(de){const re=N[ce++];for(let be=0;be<_e;be++)ie[pe++]=re}else ie.set(N.subarray(ce,ce+_e),pe),pe+=_e,ce+=_e}const ae=q;for(let de=0;de<ae;de++){let re=0;ee[se]=ie[de+re],re+=q,ee[se+1]=ie[de+re],re+=q,ee[se+2]=ie[de+re],re+=q,ee[se+3]=ie[de+re],se+=4}Ce--}return ee}(I.subarray(I.pos),N,V);if(-1!==G){let q,ee,se,ce;switch(this.type){case Qr:ce=G.length/4;const oe=new Float32Array(4*ce);for(let ie=0;ie<ce;ie++)A(G,4*ie,oe,4*ie);q=oe,se=Qr;break;case Da:ce=G.length/4;const j=new Uint16Array(4*ce);for(let ie=0;ie<ce;ie++)E(G,4*ie,j,4*ie);q=j,se=Da;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:N,height:V,data:q,header:P.string,gamma:P.gamma,exposure:P.exposure,format:ee,type:se}}}return null}setDataType(t){return this.type=t,this}load(t,e,n,s){return super.load(t,function r(a,c){switch(a.type){case Qr:case Da:a.encoding=Jr,a.minFilter=Xi,a.magFilter=Xi,a.generateMipmaps=!1,a.flipY=!0}e&&e(a,c)},n,s)}}let SM=(()=>{class i{constructor(){this.deltaX=.01,this.deltaY=.01,this.deltaZ=.01,this.far=100,this.fov=35,this.gammaFactor=2.2,this.gammaOutput=!0,this.near=1,this.physicallyCorrectLights=!0,this.sceneBackground=9419988,this.renderer=new Hi({antialias:!0}),this.clock=new g2,this.mixers=new Array,this.modelPosition=new $(0,-1,0),this.modelScale=new $(.01,.01,.01),this.loadingManager=new rM,this.directionalLightOptions={color:15524284,intensity:20},this.hemisphereOptions={skyColor:16772785,groundColor:32800,intensity:4},this.createCamera=()=>{this.camera=new Zn(this.fov,this.aspect,this.near,this.far),this.camera.position.set(7,4,9.5)},this.createControls=()=>this.controls=new Gte(this.camera,this.container),this.createLight=()=>{this.hemisphere=new aM(this.hemisphereOptions.skyColor,this.hemisphereOptions.groundColor,this.hemisphereOptions.intensity),this.mainLight=new hM(this.directionalLightOptions.color,this.directionalLightOptions.intensity),this.mainLight.position.set(-7,-4,-9.5),this.scene.add(this.hemisphere)},this.createModels=(e,n,s)=>{this.loader=new pte(this.loadingManager);const r=a=>{const c=a.scene.children[0];c.position.copy(n),c.scale.copy(s);const d=a.animations[0];if(d){const h=new y2(c);this.mixers.push(h),h.clipAction(d).play()}this.scene.add(c),console.log(this.scene)};this.loader.load(e,a=>{r(a)},()=>{},a=>console.log(a))},this.onWindowResize=()=>{this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer&&this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)},this.createRenderer=()=>{this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=ki,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize)},this.update=()=>{const e=this.clock.getDelta();this.mixers.forEach(n=>n.update(e))},this.render=()=>this.renderer.render(this.scene,this.camera),this.start=()=>this.renderer.setAnimationLoop(()=>{this.update(),this.render()}),this.stop=()=>this.renderer.setAnimationLoop(()=>{}),this.initialize=(e,n)=>{this.container=e,this.scene=new tv,this.scene.background=new Qe(this.sceneBackground),this.aspect=e.clientWidth/e.clientHeight,this.createCamera(),this.createControls(),this.createLight(),this.initializeLoadingManager(),this.createModels(n.modelUrl,n.modelPosition,n.modelScale),this.createRenderer(),this.setEnviromentLighting().then(s=>{this.scene.environment=s}),this.start()}}setEnviromentLighting(){return new Promise((e,n)=>{new Ute(this.loadingManager).load("./assets/hdr/venice_sunset.hdr",s=>{s.mapping=303,e(s)})})}initializeLoadingManager(){this.loadingManager.onStart=(e,n,s)=>{var r,a;(null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild).classList.remove("fade-out")},this.loadingManager.onLoad=()=>{var e,n;(null===(n=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.lastChild).classList.add("fade-out")},this.loadingManager.onProgress=(e,n,s)=>{var r,a;const c=null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild;(null==c?void 0:c.lastChild).innerText=Math.round(n/s*100)+"%"},this.loadingManager.onError=e=>{console.log("There was an error loading "+e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class Y2{}class X2{}class bo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const s=e.slice(0,n),r=s.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const s=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===r.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Wte{encodeKey(t){return $2(t)}encodeValue(t){return $2(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Yte=/%(\d[a-f0-9])/gi,Xte={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $2(i){return encodeURIComponent(i).replace(Yte,(t,e)=>{var n;return null!==(n=Xte[e])&&void 0!==n?n:t})}function q2(i){return`${i}`}class Ml{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wte,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function jte(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,c]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],d=e.get(a)||[];d.push(c),e.set(a,d)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const s=t[n];Array.isArray(s)?s.forEach(r=>{e.push({param:n,value:r,op:"a"})}):e.push({param:n,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ml({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(q2(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const s=n.indexOf(q2(t.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $te{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Z2(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function K2(i){return"undefined"!=typeof Blob&&i instanceof Blob}function Q2(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Sp{constructor(t,e,n,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qte(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new bo),this.context||(this.context=new $te),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new Ml,this.urlWithParams=e}serializeBody(){return null===this.body?null:Z2(this.body)||K2(this.body)||Q2(this.body)||function Zte(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ml?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q2(this.body)?null:K2(this.body)?this.body.type||null:Z2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ml?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,g=t.params||this.params;const v=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((b,C)=>b.set(C,t.setHeaders[C]),h)),t.setParams&&(g=Object.keys(t.setParams).reduce((b,C)=>b.set(C,t.setParams[C]),g)),new Sp(n,s,a,{params:g,headers:h,context:v,reportProgress:d,responseType:r,withCredentials:c})}}var Fn=(()=>((Fn=Fn||{})[Fn.Sent=0]="Sent",Fn[Fn.UploadProgress=1]="UploadProgress",Fn[Fn.ResponseHeader=2]="ResponseHeader",Fn[Fn.DownloadProgress=3]="DownloadProgress",Fn[Fn.Response=4]="Response",Fn[Fn.User=5]="User",Fn))();class DM{constructor(t,e=200,n="OK"){this.headers=t.headers||new bo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class AM extends DM{constructor(t={}){super(t),this.type=Fn.ResponseHeader}clone(t={}){return new AM({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Uv extends DM{constructor(t={}){super(t),this.type=Fn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Uv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class J2 extends DM{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function EM(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Wv=(()=>{class i{constructor(e){this.handler=e}request(e,n,s={}){let r;if(e instanceof Sp)r=e;else{let d,h;d=s.headers instanceof bo?s.headers:new bo(s.headers),s.params&&(h=s.params instanceof Ml?s.params:new Ml({fromObject:s.params})),r=new Sp(e,n,void 0!==s.body?s.body:null,{headers:d,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=Pt(r).pipe(iu(d=>this.handler.handle(d)));if(e instanceof Sp||"events"===s.observe)return a;const c=a.pipe(tn(d=>d instanceof Uv));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(jt(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe(jt(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe(jt(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe(jt(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new Ml).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,s={}){return this.request("PATCH",e,EM(s,n))}post(e,n,s={}){return this.request("POST",e,EM(s,n))}put(e,n,s={}){return this.request("PUT",e,EM(s,n))}}return i.\u0275fac=function(e){return new(e||i)(me(Y2))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class eN{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const TM=new Me("HTTP_INTERCEPTORS");let Kte=(()=>{class i{intercept(e,n){return n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const Qte=/^\)\]\}',?\n/;let tN=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jt(n=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,D)=>s.setRequestHeader(C,D.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const r=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const C=1223===s.status?204:s.status,D=s.statusText||"OK",A=new bo(s.getAllResponseHeaders()),E=function Jte(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new AM({headers:A,status:C,statusText:D,url:E}),a},d=()=>{let{headers:C,status:D,statusText:A,url:E}=c(),I=null;204!==D&&(I=void 0===s.response?s.responseText:s.response),0===D&&(D=I?200:0);let P=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof I){const N=I;I=I.replace(Qte,"");try{I=""!==I?JSON.parse(I):null}catch(V){I=N,P&&(P=!1,I={error:V,text:I})}}P?(n.next(new Uv({body:I,headers:C,status:D,statusText:A,url:E||void 0})),n.complete()):n.error(new J2({error:I,headers:C,status:D,statusText:A,url:E||void 0}))},h=C=>{const{url:D}=c(),A=new J2({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});n.error(A)};let g=!1;const v=C=>{g||(n.next(c()),g=!0);let D={type:Fn.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),"text"===e.responseType&&!!s.responseText&&(D.partialText=s.responseText),n.next(D)},b=C=>{let D={type:Fn.UploadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),n.next(D)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",v),null!==r&&s.upload&&s.upload.addEventListener("progress",b)),s.send(r),n.next({type:Fn.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",v),null!==r&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(me(iI))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const kM=new Me("XSRF_COOKIE_NAME"),RM=new Me("XSRF_HEADER_NAME");class iN{}let eie=(()=>{class i{constructor(e,n,s){this.doc=e,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=YR(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(er),me(kM))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),IM=(()=>{class i{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return n.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(me(iN),me(RM))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),tie=(()=>{class i{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=this.injector.get(TM,[]);this.chain=n.reduceRight((s,r)=>new eN(s,r),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(me(X2),me(Tn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),iie=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:IM,useClass:Kte}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:kM,useValue:e.cookieName}:[],e.headerName?{provide:RM,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[IM,{provide:TM,useExisting:IM,multi:!0},{provide:iN,useClass:eie},{provide:kM,useValue:"XSRF-TOKEN"},{provide:RM,useValue:"X-XSRF-TOKEN"}]}),i})(),nie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Wv,{provide:Y2,useClass:tie},tN,{provide:X2,useExisting:tN}],imports:[[iie.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),Dp=(()=>{class i{constructor(e){this.http=e,this.url="https://cryptic-falls-04173.herokuapp.com/api"}getMachines(){return this.http.get(this.url+"/machine")}getMachineDetails(e){return this.http.get(this.url+`/machine/${e}`)}createDigitalTwin(e){return this.http.post(this.url+"/digital-twin",e)}getDigitalTwins(){return this.http.get(this.url+"/digital-twin")}getDigitalTwinDetails(e){return this.http.get(this.url+`/digital-twin/${e}`)}deletDigitalTwin(e){return this.http.delete(this.url+`/digital-twin/${e}`)}getTurbofanSensorData(e){return this.http.get(this.url+`/digital-twin/turbofan/${e}`)}getSensorList(e){return this.http.get(this.url+`/digital-twin/sensordata/${e}`)}}return i.\u0275fac=function(e){return new(e||i)(me(Wv))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class sie extends Ie{constructor(t,e){super()}schedule(t,e=0){return this}}const jv={setInterval(...i){const{delegate:t}=jv;return((null==t?void 0:t.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:t}=jv;return((null==t?void 0:t.clearInterval)||clearInterval)(i)},delegate:void 0};class PM extends sie{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,n=0){return jv.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;jv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,n=!1;try{this.work(t)}catch(r){n=!0,s=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,yn(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const nN={now:()=>(nN.delegate||Date).now(),delegate:void 0};class Ap{constructor(t,e=Ap.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Ap.now=nN.now;class LM extends Ap{constructor(t,e=Ap.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Yv=new LM(PM),sN=Yv;function Ep(i=0,t,e=sN){let n=-1;return null!=t&&(Dh(t)?e=t:n=t),new Jt(s=>{let r=function rie(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;r<0&&(r=0);let a=0;return e.schedule(function(){s.closed||(s.next(a++),0<=n?this.schedule(void 0,n):s.complete())},r)})}let OM=(()=>{class i{constructor(e){this.router=e,this.subject=new Ge,this.keepAfterNavigationChange=!1,this.isActive=!1,e.events.subscribe(n=>{n instanceof Um&&(this.keepAfterNavigationChange?this.keepAfterNavigationChange=!1:this.subject.next(null))})}success(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"success",text:e}),this.isActive=!0,this.hide(n))}error(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"error",text:e}),this.isActive=!0,this.hide(n))}info(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"info",text:e}),this.isActive=!0,this.hide(n))}getMessage(){return this.subject.asObservable()}hide(e){Ep(1e3*e).subscribe(()=>{this.subject.next(null),this.isActive=!1})}}return i.\u0275fac=function(e){return new(e||i)(me(es))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const aie=new Me("cdk-dir-doc",{providedIn:"root",factory:function oie(){return bd(Bt)}}),lie=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rs=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new ft,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function cie(i){const t=(null==i?void 0:i.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?lie.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(me(aie,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Pc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})();function rN(i){for(let t in i){let e=i[t]||"";switch(t){case"display":i.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",i["-webkit-flex-direction"]=e,i["flex-direction"]=e;break;case"order":i.order=i["-webkit-"+t]=isNaN(+e)?"0":e}}return i}const FM="inline",Xv=["row","column","row-reverse","column-reverse"];function aN(i){let[t,e,n]=oN(i);return function uie(i,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":t||null}}(t,e,n)}function oN(i){var t;i=null!==(t=null==i?void 0:i.toLowerCase())&&void 0!==t?t:"";let[e,n,s]=i.split(" ");return Xv.find(r=>r===e)||(e=Xv[0]),n===FM&&(n=s!==FM?s:"",s=FM),[e,die(n),!!s]}function Tp(i){let[t]=oN(i);return t.indexOf("row")>-1}function die(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}function xo(i,...t){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}const fie={provide:R0,useFactory:function hie(i,t){return()=>{if(ql(t)){const e=Array.from(i.querySelectorAll(`[class*=${lN}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(s=>{s.classList.contains(`${lN}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(n,"")})}}},deps:[Bt,er],multi:!0},lN="flex-layout-";let NM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[fie]}),i})();class Lc{constructor(t=!1,e="all",n="",s="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=s,this.priority=r,this.property=""}clone(){return new Lc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let pie=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(e,n,s){const r=this.stylesheet.get(e);r?r.set(n,s):this.stylesheet.set(e,new Map([[n,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,n){const s=this.stylesheet.get(e);let r="";if(s){const a=s.get(n);("number"==typeof a||"string"==typeof a)&&(r=a+"")}return r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const BM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},oa=new Me("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>BM}),qu=new Me("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),VM=new Me("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function cN(i,t){return i=i?i.clone():new Lc,t&&(i.mqAlias=t.alias,i.mediaQuery=t.mediaQuery,i.suffix=t.suffix,i.priority=t.priority),i}class _n{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}let Ki=(()=>{class i{constructor(e,n,s,r){this._serverStylesheet=e,this._serverModuleLoaded=n,this._platformId=s,this.layoutConfig=r}applyStyleToElement(e,n,s=null){let r={};"string"==typeof n&&(r[n]=s,n=r),r=this.layoutConfig.disableVendorPrefixes?n:rN(n),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,n=[]){const s=this.layoutConfig.disableVendorPrefixes?e:rN(e);n.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(e){const n="flex-direction";let s=this.lookupStyle(e,n);return[s||"row",this.lookupInlineStyle(e,n)||tu(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,n){var s;return null!==(s=e.getAttribute(n))&&void 0!==s?s:""}lookupInlineStyle(e,n){return ql(this._platformId)?e.style.getPropertyValue(n):function gie(i,t){var e;return null!==(e=dN(i)[t])&&void 0!==e?e:""}(e,n)}lookupStyle(e,n,s=!1){let r="";return e&&((r=this.lookupInlineStyle(e,n))||(ql(this._platformId)?s||(r=getComputedStyle(e).getPropertyValue(n)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,n)))),r?r.trim():""}_applyMultiValueStyleToElement(e,n){Object.keys(e).sort().forEach(s=>{const r=e[s],a=Array.isArray(r)?r:[r];a.sort();for(let c of a)c=c?c+"":"",ql(this._platformId)||!this._serverModuleLoaded?ql(this._platformId)?n.style.setProperty(s,c):mie(n,s,c):this._serverStylesheet.addStyleToElement(n,s,c)})}}return i.\u0275fac=function(e){return new(e||i)(me(pie),me(qu),me(er),me(oa))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mie(i,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const n=dN(i);n[t]=null!=e?e:"",function _ie(i,t){let e="";for(const n in t)t[n]&&(e+=`${n}:${t[n]};`);i.setAttribute("style",e)}(i,n)}function dN(i){const t={},e=i.getAttribute("style");if(e){const n=e.split(/;+/g);for(let s=0;s<n.length;s++){const r=n[s].trim();if(r.length>0){const a=r.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${r}`);t[r.substr(0,a).trim()]=r.substr(a+1).trim()}}}return t}function kp(i,t){return(t&&t.priority||0)-(i&&i.priority||0)}function vie(i,t){return(i.priority||0)-(t.priority||0)}let HM=(()=>{class i{constructor(e,n,s){this._zone=e,this._platformId=n,this._document=s,this.source=new Es(new Lc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((n,s)=>{n.matches&&e.push(s)}),e}isActive(e){var n;const s=this.registry.get(e);return null!==(n=null==s?void 0:s.matches)&&void 0!==n?n:this.registerQuery(e).some(r=>r.matches)}observe(e,n=!1){if(e&&e.length){const s=this._observable$.pipe(tn(a=>!n||e.indexOf(a.mediaQuery)>-1));return M(new Jt(a=>{const c=this.registerQuery(e);if(c.length){const d=c.pop();c.forEach(h=>{a.next(h)}),this.source.next(d)}a.complete()}),s)}return this._observable$}registerQuery(e){const n=Array.isArray(e)?e:[e],s=[];return function yie(i,t){const e=i.filter(n=>!uN[n]);if(e.length>0){const n=e.join(", ");try{const s=t.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${n} {.fx-query-test{ }}\n`)),t.head.appendChild(s),e.forEach(r=>uN[r]=s)}catch(s){console.error(s)}}}(n,this._document),n.forEach(r=>{const a=d=>{this._zone.run(()=>this.source.next(new Lc(d.matches,r)))};let c=this.registry.get(r);c||(c=this.buildMQL(r),c.addListener(a),this.pendingRemoveListenerFns.push(()=>c.removeListener(a)),this.registry.set(r,c)),c.matches&&s.push(new Lc(!0,r))}),s}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function bie(i,t){return t&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,ql(this._platformId))}}return i.\u0275fac=function(e){return new(e||i)(me(At),me(er),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uN={},xie=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],hN="(orientation: portrait) and (max-width: 599.98px)",fN="(orientation: landscape) and (max-width: 959.98px)",pN="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",gN="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",mN="(orientation: portrait) and (min-width: 840px)",_N="(orientation: landscape) and (min-width: 1280px)",wo={HANDSET:`${hN}, ${fN}`,TABLET:`${pN} , ${gN}`,WEB:`${mN}, ${_N} `,HANDSET_PORTRAIT:`${hN}`,TABLET_PORTRAIT:`${pN} `,WEB_PORTRAIT:`${mN}`,HANDSET_LANDSCAPE:`${fN}`,TABLET_LANDSCAPE:`${gN}`,WEB_LANDSCAPE:`${_N}`},wie=[{alias:"handset",priority:2e3,mediaQuery:wo.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:wo.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:wo.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:wo.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:wo.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:wo.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:wo.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:wo.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:wo.WEB_PORTRAIT,overlapping:!0}],Cie=/(\.|-|_)/g;function Mie(i){let t=i.length>0?i.charAt(0):"",e=i.length>1?i.slice(1):"";return t.toUpperCase()+e}const Eie=new Me("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=bd(VM),t=bd(oa),e=[].concat.apply([],(i||[]).map(s=>Array.isArray(s)?s:[s]));return function Aie(i,t=[]){const e={};return i.forEach(n=>{e[n.alias]=n}),t.forEach(n=>{e[n.alias]?xo(e[n.alias],n):e[n.alias]=n}),function Die(i){return i.forEach(t=>{t.suffix||(t.suffix=function Sie(i){return i.replace(Cie,"|").split("|").map(Mie).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i}(Object.keys(e).map(n=>e[n]))}((t.disableDefaultBps?[]:xie).concat(t.addOrientationBps?wie:[]),e)}});let zM=(()=>{class i{constructor(e){this.findByMap=new Map,this.items=[...e].sort(vie)}findByAlias(e){return e?this.findWithPredicate(e,n=>n.alias===e):null}findByQuery(e){return this.findWithPredicate(e,n=>n.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var n;return null!==(n=null==e?void 0:e.suffix)&&void 0!==n?n:""})}findWithPredicate(e,n){var s;let r=this.findByMap.get(e);return r||(r=null!==(s=this.items.find(n))&&void 0!==s?s:null,this.findByMap.set(e,r)),null!=r?r:null}}return i.\u0275fac=function(e){return new(e||i)(me(Eie))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Zu="print",Tie={alias:Zu,mediaQuery:Zu,priority:1e3};let kie=(()=>{class i{constructor(e,n,s){this.breakpoints=e,this.layoutConfig=n,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Rie,this.deactivations=[]}withPrintQuery(e){return[...e,Zu]}isPrintEvent(e){return e.mediaQuery.startsWith(Zu)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const n=this.breakpoints.findByQuery(e);return(n?[...this.printBreakPoints,n]:this.printBreakPoints).sort(kp)}updateEvent(e){var n;let s=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(s=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(n=null==s?void 0:s.mediaQuery)&&void 0!==n?n:""),cN(e,s)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const n=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Lc(!0,Zu))),e.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",n),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(n),this.afterPrintEventListeners.push(s)}interceptEvents(e){return n=>{this.isPrintEvent(n)?n.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(n)),e.updateStyles()):!n.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,n)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,n){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(n)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!n.matches){const s=this.breakpoints.findByQuery(n.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),a=!this.formerActivations&&e.activatedBreakpoints.includes(s);(r||a)&&(this.deactivations.push(s),this.deactivations.sort(kp))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return i.\u0275fac=function(e){return new(e||i)(me(zM),me(oa),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Rie{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(Tie),t.sort(kp),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(n=>n.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Iie(i){var t;return null!==(t=null==i?void 0:i.mediaQuery.startsWith(Zu))&&void 0!==t&&t}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let sn=(()=>{class i{constructor(e,n,s){this.matchMedia=e,this.breakpoints=n,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Ge,this.observeActivations()}get activatedAlias(){var e,n;return null!==(n=null===(e=this.activatedBreakpoints[0])||void 0===e?void 0:e.alias)&&void 0!==n?n:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const n=this.findByQuery(e.mediaQuery);if(n){e=cN(e,n);const s=this.activatedBreakpoints.indexOf(n);e.matches&&-1===s?(this._activatedBreakpoints.push(n),this._activatedBreakpoints.sort(kp),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(kp),this.updateStyles())}}init(e,n,s,r,a=[]){vN(this.updateMap,e,n,s),vN(this.clearMap,e,n,r),this.buildElementKeyMap(e,n),this.watchExtraTriggers(e,n,a)}getValue(e,n,s){const r=this.elementMap.get(e);if(r){const a=void 0!==s?r.get(s):this.getActivatedValues(r,n);if(a)return a.get(n)}}hasValue(e,n){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,n);if(r)return void 0!==r.get(n)||!1}return!1}setValue(e,n,s,r){var a;let c=this.elementMap.get(e);if(c){const h=(null!==(a=c.get(r))&&void 0!==a?a:new Map).set(n,s);c.set(r,h),this.elementMap.set(e,c)}else c=(new Map).set(r,(new Map).set(n,s)),this.elementMap.set(e,c);const d=this.getValue(e,n);void 0!==d&&this.updateElement(e,n,d)}trackValue(e,n){return this.subject.asObservable().pipe(tn(s=>s.element===e&&s.key===n))}updateStyles(){this.elementMap.forEach((e,n)=>{const s=new Set(this.elementKeyMap.get(n));let r=this.getActivatedValues(e);r&&r.forEach((a,c)=>{this.updateElement(n,c,a),s.delete(c)}),s.forEach(a=>{if(r=this.getActivatedValues(e,a),r){const c=r.get(a);this.updateElement(n,a,c)}else this.clearElement(n,a)})})}clearElement(e,n){const s=this.clearMap.get(e);if(s){const r=s.get(n);r&&(r(),this.subject.next({element:e,key:n,value:""}))}}updateElement(e,n,s){const r=this.updateMap.get(e);if(r){const a=r.get(n);a&&(a(s),this.subject.next({element:e,key:n,value:s}))}}releaseElement(e){const n=this.watcherMap.get(e);n&&(n.forEach(r=>r.unsubscribe()),this.watcherMap.delete(e));const s=this.elementMap.get(e);s&&(s.forEach((r,a)=>s.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,n){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,n);r&&(n?this.updateElement(e,n,r.get(n)):r.forEach((a,c)=>this.updateElement(e,c,a)))}}buildElementKeyMap(e,n){let s=this.elementKeyMap.get(e);s||(s=new Set,this.elementKeyMap.set(e,s)),s.add(n)}watchExtraTriggers(e,n,s){if(s&&s.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(n)){const c=M(...s).subscribe(()=>{const d=this.getValue(e,n);this.updateElement(e,n,d)});r.set(n,c)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,n){for(let r=0;r<this.activatedBreakpoints.length;r++){const c=e.get(this.activatedBreakpoints[r].alias);if(c&&(void 0===n||c.has(n)&&null!=c.get(n)))return c}if(!this._useFallbacks)return;const s=e.get("");return void 0===n||s&&s.has(n)?s:void 0}observeActivations(){const e=this.breakpoints.items.map(n=>n.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(jn(this.hook.interceptEvents(this)),tn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(e){return new(e||i)(me(HM),me(zM),me(kie))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function vN(i,t,e,n){var s;if(void 0!==n){const r=null!==(s=i.get(t))&&void 0!==s?s:new Map;r.set(e,n),i.set(t,r)}}let dn=(()=>{class i{constructor(e,n,s,r){this.elementRef=e,this.styleBuilder=n,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Ge,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(n=>{if(-1!==this.inputs.indexOf(n)){const s=n.split(".").slice(1).join(".");this.setValue(e[n].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,n){const s=this.styleBuilder,r=s.shouldCache;let a=this.styleCache.get(e);(!a||!r)&&(a=s.buildStyles(e,n),r&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),s.sideEffect(e,a,n)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,n=!1){if(e){const[s,r]=this.styler.getFlowDirection(e);if(!r&&n){const a=aN(s);this.styler.applyStyleToElements(a,[e])}return s.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,n,s=this.nativeElement){this.styler.applyStyleToElement(s,e,n)}setValue(e,n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,n)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(_n),F(Ki),F(sn))},i.\u0275dir=ge({type:i,features:[Bi]}),i})();function yN(i,t="1",e="1"){let n=[t,e,i],s=i.indexOf("calc");if(s>0){n[2]=bN(i.substring(s).trim());let r=i.substr(0,s).trim().split(" ");2==r.length&&(n[0]=r[0],n[1]=r[1])}else if(0==s)n[2]=bN(i.trim());else{let r=i.split(" ");n=3===r.length?r:[t,e,i]}return n}function bN(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function $v(i,t){if(void 0===t)return i;const e=n=>{const s=+n.slice(0,-"x".length);return i.endsWith("x")&&!isNaN(s)?`${s*t.value}${t.unit}`:i};return i.includes(" ")?i.split(" ").map(e).join(" "):e(i)}function Lt(i){return pi((t,e)=>{os(i).subscribe(new Ni(e,()=>e.complete(),Po)),!e.closed&&t.subscribe(e)})}let Oie=(()=>{class i extends _n{buildStyles(e,{display:n}){const s=aN(e);return Object.assign(Object.assign({},s),{display:"none"===n?n:s.display})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Fie=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Nie=(()=>{class i extends dn{constructor(e,n,s,r,a){super(e,s,n,r),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){var n;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(n=wN.get(r))&&void 0!==n?n:new Map,wN.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Ki),F(Oie),F(sn),F(oa))},i.\u0275dir=ge({type:i,features:[xe]}),i})(),Sl=(()=>{class i extends Nie{constructor(){super(...arguments),this.inputs=Fie}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[xe]}),i})();const wN=new Map,CN={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Bie=(()=>{class i extends _n{constructor(e,n){super(),this._styler=e,this._config=n}buildStyles(e,n){return e.endsWith(Zv)?function Yie(i,t){const[e,n]=i.split(" "),r=h=>`-${h}`;let a="0px",c=r(null!=n?n:e),d="0px";return"rtl"===t?d=r(e):a=r(e),{margin:`0px ${a} ${c} ${d}`}}(e=$v(e=e.slice(0,e.indexOf(Zv)),this._config.multiplier),n.directionality):{}}sideEffect(e,n,s){const r=s.items;if(e.endsWith(Zv)){const a=function jie(i,t){const[e,n]=i.split(" ");let r="0px",c="0px";return"rtl"===t?c=e:r=e,{padding:`0px ${r} ${null!=n?n:e} ${c}`}}(e=$v(e=e.slice(0,e.indexOf(Zv)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(a,s.items)}else{e=$v(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=r.pop(),c=function Xie(i,t){const e=MN(t.directionality,t.layout),n=Object.assign({},CN);return n[e]=i,n}(e,s);this._styler.applyStyleToElements(c,r),this._styler.applyStyleToElements(CN,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return i.\u0275fac=function(e){return new(e||i)(me(Ki),me(oa))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Vie=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Hie=(()=>{class i extends dn{constructor(e,n,s,r,a,c){super(e,a,r,c),this.zone=n,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new Ge;const d=[this.directionality.change,this.observerSubject.asObservable()];this.init(d),this.marshal.trackValue(this.nativeElement,"layout").pipe(Lt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,n=[];for(let s=e.length;s--;)n[s]=e[s];return n}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const s=e.value.split(" ");this.layout=s[0],Xv.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const n=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const a=+this.styler.lookupStyle(s,"order"),c=+this.styler.lookupStyle(r,"order");return isNaN(a)||isNaN(c)||a===c?0:a>c?1:-1});if(n.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=zie:"row"===r&&"rtl"!==s?this.styleCache=Uie:"column"===r&&"rtl"===s?this.styleCache=Gie:"column"===r&&"rtl"!==s&&(this.styleCache=Wie),this.addStyles(e,{directionality:s,items:n,layout:r})}}clearStyles(){const e=Object.keys(this.mru).length>0,n=e?"padding":MN(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[n]:""},this.childrenNodes)}willDisplay(e){const n=this.marshal.getValue(e,"show-hide");return!0===n||void 0===n&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(At),F(rs),F(Ki),F(Bie),F(sn))},i.\u0275dir=ge({type:i,features:[xe]}),i})(),qv=(()=>{class i extends Hie{constructor(){super(...arguments),this.inputs=Vie}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[xe]}),i})();const zie=new Map,Gie=new Map,Uie=new Map,Wie=new Map,Zv=" grid";function MN(i,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===i?"margin-left":"margin-right";case"row-reverse":return"rtl"===i?"margin-right":"margin-left"}}let $ie=(()=>{class i extends _n{constructor(e){super(),this.layoutConfig=e}buildStyles(e,n){let[s,r,...a]=e.split(" "),c=a.join(" ");const d=n.direction.indexOf("column")>-1?"column":"row",h=Tp(d)?"max-width":"max-height",g=Tp(d)?"min-width":"min-height",v=String(c).indexOf("calc")>-1,b=v||"auto"===c,C=String(c).indexOf("%")>-1&&!v,D=String(c).indexOf("px")>-1||String(c).indexOf("rem")>-1||String(c).indexOf("em")>-1||String(c).indexOf("vw")>-1||String(c).indexOf("vh")>-1;let A=v||D;s="0"==s?0:s,r="0"==r?0:r;const E=!s&&!r;let I={};const P={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(c||""){case"":const N=!1!==this.layoutConfig.useColumnBasisZero;c="row"===d?"0%":N?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,c="auto";break;case"grow":c="100%";break;case"noshrink":r=0,c="auto";break;case"auto":break;case"none":s=0,r=0,c="auto";break;default:!A&&!C&&!isNaN(c)&&(c+="%"),"0%"===c&&(A=!0),"0px"===c&&(c="0%"),I=xo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":A?c:"100%"}:{flex:`${s} ${r} ${A?c:"100%"}`})}return I.flex||I["flex-grow"]||(I=xo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`})),"0%"!==c&&"0px"!==c&&"0.000000001px"!==c&&"auto"!==c&&(I[g]=E||A&&s?c:null,I[h]=E||!b&&r?c:null),I[g]||I[h]?n.hasWrap&&(I[v?"flex-basis":"flex"]=I[h]?v?I[h]:`${s} ${r} ${I[h]}`:v?I[g]:`${s} ${r} ${I[g]}`):I=xo(P,v?{"flex-grow":s,"flex-shrink":r,"flex-basis":c}:{flex:`${s} ${r} ${c}`}),xo(I,{"box-sizing":"border-box"})}}return i.\u0275fac=function(e){return new(e||i)(me(oa))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const qie=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Zie=(()=>{class i extends dn{constructor(e,n,s,r,a){super(e,r,n,a),this.layoutConfig=s,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Lt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Lt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const s=e.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),a=this.wrap;r&&a?this.styleCache=Jie:r&&!a?this.styleCache=Kie:!r&&a?this.styleCache=ene:!r&&!a&&(this.styleCache=Qie);const d=yN(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(d.join(" "),{direction:s,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const n=yN(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,n.join(" "))}}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Ki),F(oa),F($ie),F(sn))},i.\u0275dir=ge({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[xe]}),i})(),Rp=(()=>{class i extends Zie{constructor(){super(...arguments),this.inputs=qie}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[xe]}),i})();const Kie=new Map,Qie=new Map,Jie=new Map,ene=new Map;let Cne=(()=>{class i extends _n{buildStyles(e,n){const s={},[r,a]=e.split(" ");switch(r){case"center":s["justify-content"]="center";break;case"space-around":s["justify-content"]="space-around";break;case"space-between":s["justify-content"]="space-between";break;case"space-evenly":s["justify-content"]="space-evenly";break;case"end":case"flex-end":s["justify-content"]="flex-end";break;default:s["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":s["align-items"]=s["align-content"]="flex-start";break;case"center":s["align-items"]=s["align-content"]="center";break;case"end":case"flex-end":s["align-items"]=s["align-content"]="flex-end";break;case"space-between":s["align-content"]="space-between",s["align-items"]="stretch";break;case"space-around":s["align-content"]="space-around",s["align-items"]="stretch";break;case"baseline":s["align-content"]="stretch",s["align-items"]="baseline";break;default:s["align-items"]=s["align-content"]="stretch"}return xo(s,{display:n.inline?"inline-flex":"flex","flex-direction":n.layout,"box-sizing":"border-box","max-width":"stretch"===a?Tp(n.layout)?null:"100%":null,"max-height":"stretch"===a&&Tp(n.layout)?"100%":null})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Mne=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Sne=(()=>{class i extends dn{constructor(e,n,s,r){super(e,s,n,r),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Lt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const n=this.layout||"row",s=this.inline;"row"===n&&s?this.styleCache=kne:"row"!==n||s?"row-reverse"===n&&s?this.styleCache=Ine:"row-reverse"!==n||s?"column"===n&&s?this.styleCache=Rne:"column"!==n||s?"column-reverse"===n&&s?this.styleCache=Pne:"column-reverse"===n&&!s&&(this.styleCache=Tne):this.styleCache=Ane:this.styleCache=Ene:this.styleCache=Dne,this.addStyles(e,{layout:n,inline:s})}onLayoutChange(e){const n=e.value.split(" ");this.layout=n[0],this.inline=e.value.includes("inline"),Xv.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Ki),F(Cne),F(sn))},i.\u0275dir=ge({type:i,features:[xe]}),i})(),Ku=(()=>{class i extends Sne{constructor(){super(...arguments),this.inputs=Mne}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[xe]}),i})();const Dne=new Map,Ane=new Map,Ene=new Map,Tne=new Map,kne=new Map,Rne=new Map,Ine=new Map,Pne=new Map;let SN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[NM,Pc]]}),i})();class DN{}const Co="*";function un(i,t){return{type:7,name:i,definitions:t,options:{}}}function Mi(i,t=null){return{type:4,styles:t,timings:i}}function EN(i,t=null){return{type:2,steps:i,options:t}}function gt(i){return{type:6,styles:i,offset:null}}function ci(i,t,e){return{type:0,name:i,styles:t,options:e}}function yi(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Kv(i=null){return{type:9,options:i}}function Qv(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function TN(i){Promise.resolve(null).then(i)}class Qu{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){TN(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class kN{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,s=0;const r=this.players.length;0==r?TN(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++n==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,c)=>Math.max(a,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(s)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function RN(){return"undefined"!=typeof window&&void 0!==window.document}function UM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Dl(i){switch(i.length){case 0:return new Qu;case 1:return i[0];default:return new kN(i)}}function IN(i,t,e,n,s={},r={}){const a=[],c=[];let d=-1,h=null;if(n.forEach(g=>{const v=g.offset,b=v==d,C=b&&h||{};Object.keys(g).forEach(D=>{let A=D,E=g[D];if("offset"!==D)switch(A=t.normalizePropertyName(A,a),E){case"!":E=s[D];break;case Co:E=r[D];break;default:E=t.normalizeStyleValue(D,A,E,a)}C[A]=E}),b||c.push(C),h=C,d=v}),a.length){const g="\n - ";throw new Error(`Unable to animate due to the following errors:${g}${a.join(g)}`)}return c}function WM(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&jM(e,"start",i)));break;case"done":i.onDone(()=>n(e&&jM(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&jM(e,"destroy",i)))}}function jM(i,t,e){const n=e.totalTime,r=YM(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==n?i.totalTime:n,!!e.disabled),a=i._data;return null!=a&&(r._data=a),r}function YM(i,t,e,n,s="",r=0,a){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:s,totalTime:r,disabled:!!a}}function or(i,t,e){let n;return i instanceof Map?(n=i.get(t),n||i.set(t,n=e)):(n=i[t],n||(n=i[t]=e)),n}function PN(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let XM=(i,t)=>!1,LN=(i,t,e)=>[];(UM()||"undefined"!=typeof Element)&&(XM=RN()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),LN=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]});let Fc=null,ON=!1;function $M(i){Fc||(Fc=function Fne(){return"undefined"!=typeof document?document.body:null}()||{},ON=!!Fc.style&&"WebkitAppearance"in Fc.style);let t=!0;return Fc.style&&!function One(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Fc.style,!t&&ON&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Fc.style)),t}const qM=XM,ZM=LN;function FN(i){const t={};return Object.keys(i).forEach(e=>{const n=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=i[e]}),t}let NN=(()=>{class i{validateStyleProperty(e){return $M(e)}matchesElement(e,n){return!1}containsElement(e,n){return qM(e,n)}query(e,n,s){return ZM(e,n,s)}computeStyle(e,n,s){return s||""}animate(e,n,s,r,a,c=[],d){return new Qu(s,r)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),KM=(()=>{class i{}return i.NOOP=new NN,i})();const QM="ng-enter",Jv="ng-leave",ey="ng-trigger",ty=".ng-trigger",VN="ng-animating",JM=".ng-animating";function Nc(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:eS(parseFloat(t[1]),t[2])}function eS(i,t){return"s"===t?1e3*i:i}function iy(i,t,e){return i.hasOwnProperty("duration")?i:function Vne(i,t,e){let s,r=0,a="";if("string"==typeof i){const c=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===c)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=eS(parseFloat(c[1]),c[2]);const d=c[3];null!=d&&(r=eS(parseFloat(d),c[4]));const h=c[5];h&&(a=h)}else s=i;if(!e){let c=!1,d=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(d,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:r,easing:a}}(i,t,e)}function Ju(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function Al(i,t,e={}){if(t)for(let n in i)e[n]=i[n];else Ju(i,e);return e}function zN(i,t,e){return e?t+":"+e+";":""}function GN(i){let t="";for(let e=0;e<i.style.length;e++){const n=i.style.item(e);t+=zN(0,n,i.style.getPropertyValue(n))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=zN(0,Gne(e),i.style[e]));i.setAttribute("style",t)}function Pa(i,t,e){i.style&&(Object.keys(t).forEach(n=>{const s=iS(n);e&&!e.hasOwnProperty(n)&&(e[n]=i.style[s]),i.style[s]=t[n]}),UM()&&GN(i))}function Bc(i,t){i.style&&(Object.keys(t).forEach(e=>{const n=iS(e);i.style[n]=""}),UM()&&GN(i))}function Ip(i){return Array.isArray(i)?1==i.length?i[0]:EN(i):i}const tS=new RegExp("{{\\s*(.+?)\\s*}}","g");function UN(i){let t=[];if("string"==typeof i){let e;for(;e=tS.exec(i);)t.push(e[1]);tS.lastIndex=0}return t}function ny(i,t,e){const n=i.toString(),s=n.replace(tS,(r,a)=>{let c=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),c=""),c.toString()});return s==n?i:s}function sy(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const zne=/-+([a-z0-9])/g;function iS(i){return i.replace(zne,(...t)=>t[1].toUpperCase())}function Gne(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function WN(i,t){return 0===i||0===t}function jN(i,t,e){const n=Object.keys(e);if(n.length&&t.length){let r=t[0],a=[];if(n.forEach(c=>{r.hasOwnProperty(c)||a.push(c),r[c]=e[c]}),a.length)for(var s=1;s<t.length;s++){let c=t[s];a.forEach(function(d){c[d]=nS(i,d)})}}return t}function lr(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function nS(i,t){return window.getComputedStyle(i)[t]}function Une(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function Wne(i,t,e){if(":"==i[0]){const d=function jne(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof d)return void t.push(d);i=d}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const s=n[1],r=n[2],a=n[3];t.push(YN(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(YN(a,s))}(n,e,t)):e.push(i),e}const ay=new Set(["true","1"]),oy=new Set(["false","0"]);function YN(i,t){const e=ay.has(i)||oy.has(i),n=ay.has(t)||oy.has(t);return(s,r)=>{let a="*"==i||i==s,c="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?ay.has(i):oy.has(i)),!c&&n&&"boolean"==typeof r&&(c=r?ay.has(t):oy.has(t)),a&&c}}const Yne=new RegExp("s*:selfs*,?","g");function sS(i,t,e){return new Xne(i).build(t,e)}class Xne{constructor(t){this._driver=t}build(t,e){const n=new Zne(e);return this._resetContextStyleTimingState(n),lr(this,Ip(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),0==c.type){const d=c,h=d.name;h.toString().split(/\s*,\s*/).forEach(g=>{d.name=g,r.push(this.visitState(d,e))}),d.name=h}else if(1==c.type){const d=this.visitTransition(c,e);n+=d.queryCount,s+=d.depCount,a.push(d)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:n,depCount:s,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,a=s||{};if(n.styles.forEach(c=>{if(ly(c)){const d=c;Object.keys(d).forEach(h=>{UN(d[h]).forEach(g=>{a.hasOwnProperty(g)||r.add(g)})})}}),r.size){const c=sy(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${c.join(", ")}`)}}return{type:0,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=lr(this,Ip(t.animation),e);return{type:1,matchers:Une(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Vc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>lr(this,n,e)),options:Vc(t.options)}}visitGroup(t,e){const n=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=n;const c=lr(this,a,e);return s=Math.max(s,e.currentTime),c});return e.currentTime=s,{type:3,steps:r,options:Vc(t.options)}}visitAnimate(t,e){const n=function Qne(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return rS(iy(i,t).duration,0,"");const n=i;if(n.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=rS(0,0,"");return r.dynamic=!0,r.strValue=n,r}return e=e||iy(n,t),rS(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let s,r=t.styles?t.styles:gt({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,c=!1;if(!a){c=!0;const h={};n.easing&&(h.easing=n.easing),a=gt(h)}e.currentTime+=n.duration+n.delay;const d=this.visitStyle(a,e);d.isEmptyStep=c,s=d}return e.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==Co?n.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):n.push(a)}):n.push(t.styles);let s=!1,r=null;return n.forEach(a=>{if(ly(a)){const c=a,d=c.easing;if(d&&(r=d,delete c.easing),!s)for(let h in c)if(c[h].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(c=>{if(!this._driver.validateStyleProperty(c))return void e.errors.push(`The provided animation property "${c}" is not a supported CSS property for animations`);const d=e.collectedStyles[e.currentQuerySelector],h=d[c];let g=!0;h&&(r!=s&&r>=h.startTime&&s<=h.endTime&&(e.errors.push(`The CSS property "${c}" that exists between the times of "${h.startTime}ms" and "${h.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),g=!1),r=h.startTime),g&&(d[c]={startTime:r,endTime:s}),e.options&&function Hne(i,t,e){const n=t.params||{},s=UN(i);s.length&&s.forEach(r=>{n.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[c],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const a=[];let c=!1,d=!1,h=0;const g=t.steps.map(I=>{const P=this._makeStyleAst(I,e);let N=null!=P.offset?P.offset:function Kne(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(ly(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(ly(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(P.styles),V=0;return null!=N&&(r++,V=P.offset=N),d=d||V<0||V>1,c=c||V<h,h=V,a.push(V),P});d&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),c&&e.errors.push("Please ensure that all keyframe offsets are in order");const v=t.steps.length;let b=0;r>0&&r<v?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(b=1/(v-1));const C=v-1,D=e.currentTime,A=e.currentAnimateTimings,E=A.duration;return g.forEach((I,P)=>{const N=b>0?P==C?1:b*P:a[P],V=N*E;e.currentTime=D+A.delay+V,A.duration=V,this._validateStyleAst(I,e),I.offset=N,n.styles.push(I)}),n}visitReference(t,e){return{type:8,animation:lr(this,Ip(t.animation),e),options:Vc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Vc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Vc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function $ne(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(Yne,"")),i=i.replace(/@\*/g,ty).replace(/@\w+/g,e=>ty+"-"+e.substr(1)).replace(/:animating/g,JM),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,or(e.collectedStyles,e.currentQuerySelector,{});const c=lr(this,Ip(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:c,originalSelector:t.selector,options:Vc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:iy(t.timings,e.errors,!0);return{type:12,animation:lr(this,Ip(t.animation),e),timings:n,options:null}}}class Zne{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ly(i){return!Array.isArray(i)&&"object"==typeof i}function Vc(i){return i?(i=Ju(i)).params&&(i.params=function qne(i){return i?Ju(i):null}(i.params)):i={},i}function rS(i,t,e){return{duration:i,delay:t,easing:e}}function aS(i,t,e,n,s,r,a=null,c=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:c}}class cy{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const tse=new RegExp(":enter","g"),nse=new RegExp(":leave","g");function oS(i,t,e,n,s,r={},a={},c,d,h=[]){return(new sse).buildKeyframes(i,t,e,n,s,r,a,c,d,h)}class sse{buildKeyframes(t,e,n,s,r,a,c,d,h,g=[]){h=h||new cy;const v=new lS(t,e,h,s,r,g,[]);v.options=d,v.currentTimeline.setStyles([a],null,v.errors,d),lr(this,n,v);const b=v.timelines.filter(C=>C.containsAnimation());if(Object.keys(c).length){let C;for(let D=b.length-1;D>=0;D--){const A=b[D];if(A.element===e){C=A;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([c],null,v.errors,d)}return b.length?b.map(C=>C.buildKeyframes()):[aS(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const a=null!=n.duration?Nc(n.duration):null,c=null!=n.delay?Nc(n.delay):null;return 0!==a&&t.forEach(d=>{const h=e.appendInstructionToTimeline(d,a,c);r=Math.max(r,h.duration+h.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),lr(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=dy);const a=Nc(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>lr(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Nc(t.options.delay):0;t.steps.forEach(a=>{const c=e.createSubContext(t.options);r&&c.delayNextStep(r),lr(this,a,c),s=Math.max(s,c.currentTimeline.currentTime),n.push(c.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return iy(e.params?ny(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,s=e.currentTimeline.duration,r=n.duration,c=e.createSubContext().currentTimeline;c.easing=n.easing,t.styles.forEach(d=>{c.forwardTime((d.offset||0)*r),c.setStyles(d.styles,d.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Nc(s.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dy);let a=n;const c=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=c.length;let d=null;c.forEach((h,g)=>{e.currentQueryIndex=g;const v=e.createSubContext(t.options,h);r&&v.delayNextStep(r),h===e.element&&(d=v.currentTimeline),lr(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,v.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),d&&(e.currentTimeline.mergeTimelineCollectedStyles(d),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),c=a*(e.currentQueryTotal-1);let d=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":d=c-d;break;case"full":d=n.currentStaggerTime}const g=e.currentTimeline;d&&g.delayNextStep(d);const v=g.currentTime;lr(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-v+(s.startTime-n.currentTimeline.startTime)}}const dy={};class lS{constructor(t,e,n,s,r,a,c,d){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=c,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=d||new uy(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let s=this.options;null!=n.duration&&(s.duration=Nc(n.duration)),null!=n.delay&&(s.delay=Nc(n.delay));const r=n.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(c=>{(!e||!a.hasOwnProperty(c))&&(a[c]=ny(r[c],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(s=>{n[s]=e[s]})}}return t}createSubContext(t=null,e,n){const s=e||this.element,r=new lS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=dy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new rse(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,r,a){let c=[];if(s&&c.push(this.element),t.length>0){t=(t=t.replace(tse,"."+this._enterClassName)).replace(nse,"."+this._leaveClassName);let h=this._driver.query(this.element,t,1!=n);0!==n&&(h=n<0?h.slice(h.length+n,h.length):h.slice(0,n)),c.push(...h)}return!r&&0==c.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),c}}class uy{constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Co,this._currentKeyframe[e]=Co}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function ase(i,t){const e={};let n;return i.forEach(s=>{"*"===s?(n=n||Object.keys(t),n.forEach(r=>{e[r]=Co})):Al(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(c=>{const d=ny(a[c],r,n);this._pendingStyles[c]=d,this._localTimelineStyles.hasOwnProperty(c)||(this._backFill[c]=this._globalTimelineStyles.hasOwnProperty(c)?this._globalTimelineStyles[c]:Co),this._updateStyle(c,d)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(n=>{this._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],s=t._styleSummary[e];(!n||s.time>n.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((c,d)=>{const h=Al(c,!0);Object.keys(h).forEach(g=>{const v=h[g];"!"==v?t.add(g):v==Co&&e.add(g)}),n||(h.offset=d/this.duration),s.push(h)});const r=t.size?sy(t.values()):[],a=e.size?sy(e.values()):[];if(n){const c=s[0],d=Ju(c);c.offset=0,d.offset=1,s=[c,d]}return aS(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class rse extends uy{constructor(t,e,n,s,r,a,c=!1){super(t,e,a.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=c,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=n+e,c=e/a,d=Al(t[0],!1);d.offset=0,r.push(d);const h=Al(t[0],!1);h.offset=qN(c),r.push(h);const g=t.length-1;for(let v=1;v<=g;v++){let b=Al(t[v],!1);b.offset=qN((e+b.offset*n)/a),r.push(b)}n=a,e=0,s="",t=r}return aS(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}}function qN(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class cS{}class ose extends cS{normalizePropertyName(t,e){return iS(t)}normalizeStyleValue(t,e,n,s){let r="";const a=n.toString().trim();if(lse[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const c=n.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&0==c[1].length&&s.push(`Please provide a CSS unit value for ${t}:${n}`)}return a+r}}const lse=(()=>function cse(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ZN(i,t,e,n,s,r,a,c,d,h,g,v,b){return{type:0,element:i,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:n,toStyles:a,timelines:c,queriedElements:d,preStyleProps:h,postStyleProps:g,totalTime:v,errors:b}}const dS={};class KN{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return function dse(i,t,e,n,s){return i.some(r=>r(t,e,n,s))}(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,n):{};return r?r.buildStyles(e,n):a}build(t,e,n,s,r,a,c,d,h,g){const v=[],b=this.ast.options&&this.ast.options.params||dS,D=this.buildStyles(n,c&&c.params||dS,v),A=d&&d.params||dS,E=this.buildStyles(s,A,v),I=new Set,P=new Map,N=new Map,V="void"===s,G={params:Object.assign(Object.assign({},b),A)},q=g?[]:oS(t,e,this.ast.animation,r,a,D,E,G,h,v);let ee=0;if(q.forEach(ce=>{ee=Math.max(ce.duration+ce.delay,ee)}),v.length)return ZN(e,this._triggerName,n,s,V,D,E,[],[],P,N,ee,v);q.forEach(ce=>{const oe=ce.element,j=or(P,oe,{});ce.preStyleProps.forEach(Ce=>j[Ce]=!0);const ie=or(N,oe,{});ce.postStyleProps.forEach(Ce=>ie[Ce]=!0),oe!==e&&I.add(oe)});const se=sy(I.values());return ZN(e,this._triggerName,n,s,V,D,E,q,se,P,N,ee)}}class use{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},s=Ju(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(c=>{let d=a[c];d.length>1&&(d=ny(d,s,e));const h=this.normalizer.normalizePropertyName(c,e);d=this.normalizer.normalizeStyleValue(c,h,d,e),n[h]=d})}}),n}}class fse{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new use(s.style,s.options&&s.options.params||{},n)}),QN(this.states,"true","1"),QN(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new KN(t,s,this.states))}),this.fallbackTransition=function pse(i,t,e){return new KN(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,c)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(a=>a.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function QN(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const gse=new cy;class mse{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],s=sS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,n){const s=t.element,r=IN(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const s=[],r=this._animations[t];let a;const c=new Map;if(r?(a=oS(this._driver,e,r,QM,Jv,{},{},n,gse,s),a.forEach(g=>{const v=or(c,g.element,{});g.postStyleProps.forEach(b=>v[b]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);c.forEach((g,v)=>{Object.keys(g).forEach(b=>{g[b]=this._driver.computeStyle(v,b,Co)})});const h=Dl(a.map(g=>{const v=c.get(g.element);return this._buildPlayer(g,{},v)}));return this._playersById[t]=h,h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,s){const r=YM(e,"","","");return WM(this._getPlayer(t),n,r,s),()=>{}}command(t,e,n,s){if("register"==n)return void this.register(t,s[0]);if("create"==n)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const JN="ng-animate-queued",uS="ng-animate-disabled",xse=[],eB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wse={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ar="__ng_removed";class hS{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Dse(i){return null!=i?i:null}(n?t.value:t),n){const r=Ju(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(s=>{null==n[s]&&(n[s]=e[s])})}}}const Pp="void",fS=new hS(Pp);class Cse{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Er(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function Ase(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const r=or(this._elementListeners,t,[]),a={name:e,phase:n,callback:s};r.push(a);const c=or(this._engine.statesByElement,t,{});return c.hasOwnProperty(e)||(Er(t,ey),Er(t,ey+"-"+e),c[e]=fS),()=>{this._engine.afterFlush(()=>{const d=r.indexOf(a);d>=0&&r.splice(d,1),this._triggers[e]||delete c[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,s=!0){const r=this._getTrigger(e),a=new pS(this.id,e,t);let c=this._engine.statesByElement.get(t);c||(Er(t,ey),Er(t,ey+"-"+e),this._engine.statesByElement.set(t,c={}));let d=c[e];const h=new hS(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&d&&h.absorbOptions(d.options),c[e]=h,d||(d=fS),h.value!==Pp&&d.value===h.value){if(!function kse(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||i[r]!==t[r])return!1}return!0}(d.params,h.params)){const A=[],E=r.matchStyles(d.value,d.params,A),I=r.matchStyles(h.value,h.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{Bc(t,E),Pa(t,I)})}return}const b=or(this._engine.playersByElement,t,[]);b.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let C=r.matchTransition(d.value,h.value,t,h.params),D=!1;if(!C){if(!s)return;C=r.fallbackTransition,D=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:C,fromState:d,toState:h,player:a,isFallbackTransition:D}),D||(Er(t,JN),a.onStart(()=>{eh(t,JN)})),a.onDone(()=>{let A=this.players.indexOf(a);A>=0&&this.players.splice(A,1);const E=this._engine.playersByElement.get(t);if(E){let I=E.indexOf(a);I>=0&&E.splice(I,1)}}),this.players.push(a),b.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,ty,!0);n.forEach(s=>{if(s[Ar])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,n,s){const r=this._engine.statesByElement.get(t),a=new Map;if(r){const c=[];if(Object.keys(r).forEach(d=>{if(a.set(d,r[d].value),this._triggers[d]){const h=this.trigger(t,d,Pp,s);h&&c.push(h)}}),c.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),n&&Dl(c).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const d=this._triggers[a].fallbackTransition,h=n[a]||fS,g=new hS(Pp),v=new pS(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:d,fromState:h,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){const r=n.players.length?n.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(n.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t[Ar];(!r||r===eB)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Er(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,a=this._elementListeners.get(r);a&&a.forEach(c=>{if(c.name==n.triggerName){const d=YM(r,n.triggerName,n.fromState.value,n.toState.value);d._data=t,WM(n.player,c.phase,d,c.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((n,s)=>{const r=n.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class Mse{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Cse(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const s=Object.keys(n);for(let r=0;r<s.length;r++){const a=n[s[r]].namespaceId;if(a){const c=this._fetchNamespace(a);c&&e.add(c)}}}return e}trigger(t,e,n,s){if(hy(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!hy(e))return;const r=e[Ar];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Er(t,uS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),eh(t,uS))}removeNode(t,e,n,s){if(hy(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),n){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,n,s,r){this.collectedLeaveElements.push(e),e[Ar]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,n,s,r){return hy(e)?this._fetchNamespace(t).listen(e,n,s,r):()=>{}}_buildInstruction(t,e,n,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,ty,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,JM,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Dl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const n=t[Ar];if(n&&n.setForRemoval){if(t[Ar]=eB,n.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(uS))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Er(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?Dl(e).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new cy,s=[],r=new Map,a=[],c=new Map,d=new Map,h=new Map,g=new Set;this.disabledNodes.forEach(ae=>{g.add(ae);const de=this.driver.query(ae,".ng-animate-queued",!0);for(let re=0;re<de.length;re++)g.add(de[re])});const v=this.bodyNode,b=Array.from(this.statesByElement.keys()),C=nB(b,this.collectedEnterElements),D=new Map;let A=0;C.forEach((ae,de)=>{const re=QM+A++;D.set(de,re),ae.forEach(be=>Er(be,re))});const E=[],I=new Set,P=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){const de=this.collectedLeaveElements[ae],re=de[Ar];re&&re.setForRemoval&&(E.push(de),I.add(de),re.hasAnimation?this.driver.query(de,".ng-star-inserted",!0).forEach(be=>I.add(be)):P.add(de))}const N=new Map,V=nB(b,Array.from(I));V.forEach((ae,de)=>{const re=Jv+A++;N.set(de,re),ae.forEach(be=>Er(be,re))}),t.push(()=>{C.forEach((ae,de)=>{const re=D.get(de);ae.forEach(be=>eh(be,re))}),V.forEach((ae,de)=>{const re=N.get(de);ae.forEach(be=>eh(be,re))}),E.forEach(ae=>{this.processLeaveNode(ae)})});const G=[],q=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(e).forEach(re=>{const be=re.player,Ae=re.element;if(G.push(be),this.collectedEnterElements.length){const $t=Ae[Ar];if($t&&$t.setForMove){if($t.previousTriggersValues&&$t.previousTriggersValues.has(re.triggerName)){const zt=$t.previousTriggersValues.get(re.triggerName),Ot=this.statesByElement.get(re.element);Ot&&Ot[re.triggerName]&&(Ot[re.triggerName].value=zt)}return void be.destroy()}}const Ue=!v||!this.driver.containsElement(v,Ae),Oe=N.get(Ae),xt=D.get(Ae),bt=this._buildInstruction(re,n,xt,Oe,Ue);if(bt.errors&&bt.errors.length)return void q.push(bt);if(Ue)return be.onStart(()=>Bc(Ae,bt.fromStyles)),be.onDestroy(()=>Pa(Ae,bt.toStyles)),void s.push(be);if(re.isFallbackTransition)return be.onStart(()=>Bc(Ae,bt.fromStyles)),be.onDestroy(()=>Pa(Ae,bt.toStyles)),void s.push(be);const Ht=[];bt.timelines.forEach($t=>{$t.stretchStartingKeyframe=!0,this.disabledNodes.has($t.element)||Ht.push($t)}),bt.timelines=Ht,n.append(Ae,bt.timelines),a.push({instruction:bt,player:be,element:Ae}),bt.queriedElements.forEach($t=>or(c,$t,[]).push(be)),bt.preStyleProps.forEach(($t,zt)=>{const Ot=Object.keys($t);if(Ot.length){let Xe=d.get(zt);Xe||d.set(zt,Xe=new Set),Ot.forEach(ni=>Xe.add(ni))}}),bt.postStyleProps.forEach(($t,zt)=>{const Ot=Object.keys($t);let Xe=h.get(zt);Xe||h.set(zt,Xe=new Set),Ot.forEach(ni=>Xe.add(ni))})});if(q.length){const ae=[];q.forEach(de=>{ae.push(`@${de.triggerName} has failed due to:\n`),de.errors.forEach(re=>ae.push(`- ${re}\n`))}),G.forEach(de=>de.destroy()),this.reportError(ae)}const ee=new Map,se=new Map;a.forEach(ae=>{const de=ae.element;n.has(de)&&(se.set(de,de),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,ee))}),s.forEach(ae=>{const de=ae.element;this._getPreviousPlayers(de,!1,ae.namespaceId,ae.triggerName,null).forEach(be=>{or(ee,de,[]).push(be),be.destroy()})});const ce=E.filter(ae=>rB(ae,d,h)),oe=new Map;iB(oe,this.driver,P,h,Co).forEach(ae=>{rB(ae,d,h)&&ce.push(ae)});const ie=new Map;C.forEach((ae,de)=>{iB(ie,this.driver,new Set(ae),d,"!")}),ce.forEach(ae=>{const de=oe.get(ae),re=ie.get(ae);oe.set(ae,Object.assign(Object.assign({},de),re))});const Ce=[],pe=[],_e={};a.forEach(ae=>{const{element:de,player:re,instruction:be}=ae;if(n.has(de)){if(g.has(de))return re.onDestroy(()=>Pa(de,be.toStyles)),re.disabled=!0,re.overrideTotalTime(be.totalTime),void s.push(re);let Ae=_e;if(se.size>1){let Oe=de;const xt=[];for(;Oe=Oe.parentNode;){const bt=se.get(Oe);if(bt){Ae=bt;break}xt.push(Oe)}xt.forEach(bt=>se.set(bt,Ae))}const Ue=this._buildAnimation(re.namespaceId,be,ee,r,ie,oe);if(re.setRealPlayer(Ue),Ae===_e)Ce.push(re);else{const Oe=this.playersByElement.get(Ae);Oe&&Oe.length&&(re.parentPlayer=Dl(Oe)),s.push(re)}}else Bc(de,be.fromStyles),re.onDestroy(()=>Pa(de,be.toStyles)),pe.push(re),g.has(de)&&s.push(re)}),pe.forEach(ae=>{const de=r.get(ae.element);if(de&&de.length){const re=Dl(de);ae.setRealPlayer(re)}}),s.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<E.length;ae++){const de=E[ae],re=de[Ar];if(eh(de,Jv),re&&re.hasAnimation)continue;let be=[];if(c.size){let Ue=c.get(de);Ue&&Ue.length&&be.push(...Ue);let Oe=this.driver.query(de,JM,!0);for(let xt=0;xt<Oe.length;xt++){let bt=c.get(Oe[xt]);bt&&bt.length&&be.push(...bt)}}const Ae=be.filter(Ue=>!Ue.destroyed);Ae.length?Ese(this,de,Ae):this.processLeaveNode(de)}return E.length=0,Ce.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();const de=this.players.indexOf(ae);this.players.splice(de,1)}),ae.play()}),Ce}elementContainsData(t,e){let n=!1;const s=e[Ar];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,r){let a=[];if(e){const c=this.playersByQueriedElement.get(t);c&&(a=c)}else{const c=this.playersByElement.get(t);if(c){const d=!r||r==Pp;c.forEach(h=>{h.queued||!d&&h.triggerName!=s||a.push(h)})}}return(n||s)&&(a=a.filter(c=>!(n&&n!=c.namespaceId||s&&s!=c.triggerName))),a}_beforeAnimationBuild(t,e,n){const r=e.element,a=e.isRemovalTransition?void 0:t,c=e.isRemovalTransition?void 0:e.triggerName;for(const d of e.timelines){const h=d.element,g=h!==r,v=or(n,h,[]);this._getPreviousPlayers(h,g,a,c,e.toState).forEach(C=>{const D=C.getRealPlayer();D.beforeDestroy&&D.beforeDestroy(),C.destroy(),v.push(C)})}Bc(r,e.fromStyles)}_buildAnimation(t,e,n,s,r,a){const c=e.triggerName,d=e.element,h=[],g=new Set,v=new Set,b=e.timelines.map(D=>{const A=D.element;g.add(A);const E=A[Ar];if(E&&E.removedBeforeQueried)return new Qu(D.duration,D.delay);const I=A!==d,P=function Tse(i){const t=[];return sB(i,t),t}((n.get(A)||xse).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===A),N=r.get(A),V=a.get(A),G=IN(0,this._normalizer,0,D.keyframes,N,V),q=this._buildPlayer(D,G,P);if(D.subTimeline&&s&&v.add(A),I){const ee=new pS(t,c,A);ee.setRealPlayer(q),h.push(ee)}return q});h.forEach(D=>{or(this.playersByQueriedElement,D.element,[]).push(D),D.onDone(()=>function Sse(i,t,e){let n;if(i instanceof Map){if(n=i.get(t),n){if(n.length){const s=n.indexOf(e);n.splice(s,1)}0==n.length&&i.delete(t)}}else if(n=i[t],n){if(n.length){const s=n.indexOf(e);n.splice(s,1)}0==n.length&&delete i[t]}return n}(this.playersByQueriedElement,D.element,D))}),g.forEach(D=>Er(D,VN));const C=Dl(b);return C.onDestroy(()=>{g.forEach(D=>eh(D,VN)),Pa(d,e.toStyles)}),v.forEach(D=>{or(s,D,[]).push(C)}),C}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Qu(t.duration,t.delay)}}class pS{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Qu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>WM(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){or(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hy(i){return i&&1===i.nodeType}function tB(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function iB(i,t,e,n,s){const r=[];e.forEach(d=>r.push(tB(d)));const a=[];n.forEach((d,h)=>{const g={};d.forEach(v=>{const b=g[v]=t.computeStyle(h,v,s);(!b||0==b.length)&&(h[Ar]=wse,a.push(h))}),i.set(h,g)});let c=0;return e.forEach(d=>tB(d,r[c++])),a}function nB(i,t){const e=new Map;if(i.forEach(c=>e.set(c,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(c){if(!c)return 1;let d=r.get(c);if(d)return d;const h=c.parentNode;return d=e.has(h)?h:s.has(h)?1:a(h),r.set(c,d),d}return t.forEach(c=>{const d=a(c);1!==d&&e.get(d).push(c)}),e}function Er(i,t){var e;null===(e=i.classList)||void 0===e||e.add(t)}function eh(i,t){var e;null===(e=i.classList)||void 0===e||e.remove(t)}function Ese(i,t,e){Dl(e).onDone(()=>i.processLeaveNode(t))}function sB(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof kN?sB(n.players,t):t.push(n)}}function rB(i,t,e){const n=e.get(i);if(!n)return!1;let s=t.get(i);return s?n.forEach(r=>s.add(r)):t.set(i,n),e.delete(i),!0}class fy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Mse(t,e,n),this._timelineEngine=new mse(t,e,n),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,n,s,r){const a=t+"-"+s;let c=this._triggerCache[a];if(!c){const d=[],h=sS(this._driver,r,d);if(d.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${d.join("\n - ")}`);c=function hse(i,t,e){return new fse(i,t,e)}(s,h,this._normalizer),this._triggerCache[a]=c}this._transitionEngine.registerTrigger(e,s,c)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n,s){this._transitionEngine.removeNode(t,e,s||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if("@"==n.charAt(0)){const[r,a]=PN(n);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,r){if("@"==n.charAt(0)){const[a,c]=PN(n);return this._timelineEngine.listen(a,e,c,r)}return this._transitionEngine.listen(t,e,n,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function aB(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=gS(t[0]),t.length>1&&(n=gS(t[t.length-1]))):t&&(e=gS(t)),e||n?new Rse(i,e,n):null}let Rse=(()=>{class i{constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s,this._state=0;let r=i.initialStylesByElement.get(e);r||i.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Pa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pa(this._element,this._initialStyles),this._endStyles&&(Pa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Bc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Bc(this._element,this._endStyles),this._endStyles=null),Pa(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function gS(i){let t=null;const e=Object.keys(i);for(let n=0;n<e.length;n++){const s=e[n];Ise(s)&&(t=t||{},t[s]=i[s])}return t}function Ise(i){return"display"===i||"position"===i}const oB="animation",lB="animationend";class Ose{constructor(t,e,n,s,r,a,c){this._element=t,this._name=e,this._duration=n,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=c,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=d=>this._handleCallback(d)}apply(){(function Fse(i,t){const e=_S(i,"").trim();let n=0;e.length&&(n=function Bse(i,t){let e=0;for(let n=0;n<i.length;n++)i.charAt(n)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),py(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),uB(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){cB(this._element,this._name,"paused")}resume(){cB(this._element,this._name,"running")}setPosition(t){const e=dB(this._element,this._name);this._position=t*this._duration,py(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),uB(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Nse(i,t){const n=_S(i,"").split(","),s=mS(n,t);s>=0&&(n.splice(s,1),py(i,"",n.join(",")))}(this._element,this._name))}}function cB(i,t,e){py(i,"PlayState",e,dB(i,t))}function dB(i,t){const e=_S(i,"");return e.indexOf(",")>0?mS(e.split(","),t):mS([e],t)}function mS(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function uB(i,t,e){e?i.removeEventListener(lB,t):i.addEventListener(lB,t)}function py(i,t,e,n){const s=oB+t;if(null!=n){const r=i.style[s];if(r.length){const a=r.split(",");a[n]=e,e=a.join(",")}}i.style[s]=e}function _S(i,t){return i.style[oB+t]||""}class hB{constructor(t,e,n,s,r,a,c,d){this.element=t,this.keyframes=e,this.animationName=n,this._duration=s,this._delay=r,this._finalStyles=c,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Ose(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:nS(this.element,n))})}this.currentSnapshot=t}}class zse extends Qu{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=FN(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class pB{constructor(){this._count=0}validateStyleProperty(t){return $M(t)}matchesElement(t,e){return!1}containsElement(t,e){return qM(t,e)}query(t,e,n){return ZM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(c=>FN(c));let s=`@keyframes ${e} {\n`,r="";n.forEach(c=>{r=" ";const d=parseFloat(c.offset);s+=`${r}${100*d}% {\n`,r+=" ",Object.keys(c).forEach(h=>{const g=c[h];switch(h){case"offset":return;case"easing":return void(g&&(s+=`${r}animation-timing-function: ${g};\n`));default:return void(s+=`${r}${h}: ${g};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,n,s,r,a=[],c){const d=a.filter(E=>E instanceof hB),h={};WN(n,s)&&d.forEach(E=>{let I=E.currentSnapshot;Object.keys(I).forEach(P=>h[P]=I[P])});const g=function Wse(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(s=>{"offset"==s||"easing"==s||(t[s]=n[s])})}),t}(e=jN(t,e,h));if(0==n)return new zse(t,g);const v="gen_css_kf_"+this._count++,b=this.buildKeyframeElement(t,v,e);(function Use(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(b);const D=aB(t,e),A=new hB(t,e,v,n,s,r,g,D);return A.onDestroy(()=>function jse(i){i.parentNode.removeChild(i)}(b)),A}}class mB{constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(n=>{"offset"!=n&&(t[n]=this._finished?e[n]:nS(this.element,n))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Yse{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_B().toString()),this._cssKeyframesDriver=new pB}validateStyleProperty(t){return $M(t)}matchesElement(t,e){return!1}containsElement(t,e){return qM(t,e)}query(t,e,n){return ZM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,s,r,a=[],c){if(!c&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,s,r,a);const g={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(g.easing=r);const v={},b=a.filter(D=>D instanceof mB);WN(n,s)&&b.forEach(D=>{let A=D.currentSnapshot;Object.keys(A).forEach(E=>v[E]=A[E])});const C=aB(t,e=jN(t,e=e.map(D=>Al(D,!1)),v));return new mB(t,e,g,C)}}function _B(){return RN()&&Element.prototype.animate||{}}let $se=(()=>{class i extends DN{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Br.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?EN(e):e;return vB(this._renderer,null,n,"register",[s]),new qse(n,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(me(df),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class qse extends class Lne{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Zse(this._id,t,e||{},this._renderer)}}class Zse{constructor(t,e,n,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return vB(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function vB(i,t,e,n,s){return i.setProperty(t,`@@${e}:${n}`,s)}const yB="@.disabled";let Kse=(()=>{class i{constructor(e,n,s){this.delegate=e,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(r,a)=>{const c=null==a?void 0:a.parentNode(r);c&&a.removeChild(c,r)}}createRenderer(e,n){const r=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let g=this._rendererCache.get(r);return g||(g=new bB("",r,this.engine),this._rendererCache.set(r,g)),g}const a=n.id,c=n.id+"-"+this._currentId;this._currentId++,this.engine.register(c,e);const d=g=>{Array.isArray(g)?g.forEach(d):this.engine.registerTrigger(a,c,e,g.name,g)};return n.data.animation.forEach(d),new Qse(this,c,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,s){e>=0&&e<this._microtaskId?this._zone.run(()=>n(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,c]=r;a(c)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(me(df),me(fy),me(At))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();class bB{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,s=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==yB?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Qse extends bB{constructor(t,e,n,s){super(e,n,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==yB?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const s=function Jse(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function ere(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,c=>{this.factory.scheduleListenerCallback(c._data||-1,n,c)})}return this.delegate.listen(t,e,n)}}let tre=(()=>{class i extends fy{constructor(e,n,s){super(e.body,n,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(KM),me(cS))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const Nn=new Me("AnimationModuleType"),xB=[{provide:DN,useClass:$se},{provide:cS,useFactory:function nre(){return new ose}},{provide:fy,useClass:tre},{provide:df,useFactory:function sre(i,t,e){return new Kse(i,t,e)},deps:[Bm,fy,At]}],wB=[{provide:KM,useFactory:function ire(){return function Xse(){return"function"==typeof _B()}()?new Yse:new pB}},{provide:Nn,useValue:"BrowserAnimations"},...xB],rre=[{provide:KM,useClass:NN},{provide:Nn,useValue:"NoopAnimations"},...xB];let vS,are=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?rre:wB}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:wB,imports:[fI]}),i})();try{vS="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){vS=!1}let th,Sn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?ql(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vS)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(me(er))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const MB=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function SB(){if(th)return th;if("object"!=typeof document||!document)return th=new Set(MB),th;let i=document.createElement("input");return th=new Set(MB.filter(t=>(i.setAttribute("type",t),i.type===t))),th}let Lp,my,Hc,yS;function la(i){return function ore(){if(null==Lp&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Lp=!0}))}finally{Lp=Lp||!1}return Lp}()?i:!!i.capture}function DB(){if(null==Hc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Hc=!1,Hc;if("scrollBehavior"in document.documentElement.style)Hc=!0;else{const i=Element.prototype.scrollTo;Hc=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Hc}function Op(){if("object"!=typeof document||!document)return 0;if(null==my){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),my=0,0===i.scrollLeft&&(i.scrollLeft=1,my=0===i.scrollLeft?1:2),i.remove()}return my}function _y(i){if(function lre(){if(null==yS){const i="undefined"!=typeof document?document.head:null;yS=!(!i||!i.createShadowRoot&&!i.attachShadow)}return yS}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Tr(i){return i.composedPath?i.composedPath()[0]:i.target}function bS(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Ps(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function DS(i,t=Yv){return pi((e,n)=>{let s=null,r=null,a=null;const c=()=>{if(s){s.unsubscribe(),s=null;const h=r;r=null,n.next(h)}};function d(){const h=a+i,g=t.now();if(g<h)return s=this.schedule(void 0,h-g),void n.add(s);c()}e.subscribe(new Ni(n,h=>{r=h,a=t.now(),s||(s=t.schedule(d,i),n.add(s))},()=>{c(),n.complete()},void 0,()=>{r=s=null}))})}function yy(i,t=Fr){return i=null!=i?i:xre,pi((e,n)=>{let s,r=!0;e.subscribe(new Ni(n,a=>{const c=t(a);(r||!i(s,c))&&(r=!1,s=c,n.next(a))}))})}function xre(i,t){return i===t}function lt(i){return null!=i&&"false"!=`${i}`}function as(i,t=0){return function wre(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function TB(i){return Array.isArray(i)?i:[i]}function Bn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Dn(i){return i instanceof je?i.nativeElement:i}let kB=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Cre=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=Dn(e);return new Jt(s=>{const a=this._observeElement(n).subscribe(s);return()=>{a.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new Ge,s=this._mutationObserverFactory.create(r=>n.next(r));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:s}=this._observedElements.get(e);n&&n.disconnect(),s.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(me(kB))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),by=(()=>{class i{constructor(e,n,s){this._contentObserver=e,this._elementRef=n,this._ngZone=s,this.event=new ft,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=lt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=as(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(DS(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(F(Cre),F(je),F(At))},i.\u0275dir=ge({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Fp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[kB]}),i})();class PB{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ge,this._typeaheadSubscription=Ie.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Ge,this.change=new Ge,t instanceof Yl&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(jn(e=>this._pressedLetters.push(e)),DS(t),tn(()=>this._pressedLetters.length>0),jt(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let s=1;s<n.length+1;s++){const r=(this._activeItemIndex+s)%n.length,a=n[r];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Ps(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),s=e[n];this._activeItem=null==s?null:s,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const s=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Yl?this._items.toArray():this._items}}class Dre extends PB{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class AS extends PB{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let LB=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ere(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function Are(i){try{return i.frameElement}catch(t){return null}}(function Fre(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===FB(n)||!this.isVisible(n)))return!1;let s=e.nodeName.toLowerCase(),r=FB(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Lre(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function Ore(i){return!function kre(i){return function Ire(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function Tre(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function Rre(i){return function Pre(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||OB(i))}(e)&&!this.isDisabled(e)&&((null==n?void 0:n.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(me(Sn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function OB(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function FB(i){if(!OB(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Nre{constructor(t,e,n,s,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const s=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const s=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(T(1)).subscribe(t)}}let Bre=(()=>{class i{constructor(e,n,s){this._checker=e,this._ngZone=n,this._document=s}create(e,n=!1){return new Nre(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)(me(LB),me(At),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ES(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function TS(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Vre=new Me("cdk-input-modality-detector-options"),Hre={ignoreKeys:[18,17,224,91,16]},nh=la({passive:!0,capture:!0});let zre=(()=>{class i{constructor(e,n,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Es(null),this._lastTouchMs=0,this._onKeydown=a=>{var c,d;(null===(d=null===(c=this._options)||void 0===c?void 0:c.ignoreKeys)||void 0===d?void 0:d.some(h=>h===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Tr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(ES(a)?"keyboard":"mouse"),this._mostRecentTarget=Tr(a))},this._onTouchstart=a=>{TS(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Tr(a))},this._options=Object.assign(Object.assign({},Hre),r),this.modalityDetected=this._modality.pipe(function bre(i){return tn((t,e)=>i<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(yy()),e.isBrowser&&n.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,nh),s.addEventListener("mousedown",this._onMousedown,nh),s.addEventListener("touchstart",this._onTouchstart,nh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,nh),document.removeEventListener("mousedown",this._onMousedown,nh),document.removeEventListener("touchstart",this._onTouchstart,nh))}}return i.\u0275fac=function(e){return new(e||i)(me(Sn),me(At),me(Bt),me(Vre,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Gre=new Me("liveAnnouncerElement",{providedIn:"root",factory:function Ure(){return null}}),Wre=new Me("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let jre=(()=>{class i{constructor(e,n,s,r){this._ngZone=n,this._defaultOptions=r,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...n){const s=this._defaultOptions;let r,a;return 1===n.length&&"number"==typeof n[0]?a=n[0]:[r,a]=n,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),null==a&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,n;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(n=this._currentResolve)||void 0===n||n.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let r=0;r<n.length;r++)n[r].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return i.\u0275fac=function(e){return new(e||i)(me(Gre,8),me(At),me(Bt),me(Wre,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yre=new Me("cdk-focus-monitor-default-options"),xy=la({passive:!0,capture:!0});let Mo=(()=>{class i{constructor(e,n,s,r,a){this._ngZone=e,this._platform=n,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ge,this._rootNodeFocusAndBlurListener=c=>{const d=Tr(c),h="focus"===c.type?this._onFocus:this._onBlur;for(let g=d;g;g=g.parentElement)h.call(this,c,g)},this._document=r,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,n=!1){const s=Dn(e);if(!this._platform.isBrowser||1!==s.nodeType)return Pt(null);const r=_y(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return n&&(a.checkChildren=!0),a.subject;const c={checkChildren:n,subject:new Ge,rootNode:r};return this._elementInfo.set(s,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){const n=Dn(e),s=this._elementInfo.get(n);s&&(s.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(s))}focusVia(e,n,s){const r=Dn(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([c,d])=>this._originChanged(c,n,d)):(this._setOrigin(n),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const s=this._elementInfo.get(n),r=Tr(e);!s||!s.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),s)}_onBlur(e,n){const s=this._elementInfo.get(n);!s||s.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(s.subject,null))}_emitOrigin(e,n){this._ngZone.run(()=>e.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,s=this._rootNodeFocusListenerCount.get(n)||0;s||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,xy),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,xy)}),this._rootNodeFocusListenerCount.set(n,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Lt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const s=this._rootNodeFocusListenerCount.get(n);s>1?this._rootNodeFocusListenerCount.set(n,s-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xy),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xy),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,s){this._setClasses(e,n),this._emitOrigin(s.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&n.push([r,s])}),n}}return i.\u0275fac=function(e){return new(e||i)(me(At),me(Sn),me(zre),me(Bt,8),me(Yre,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Xre=(()=>{class i{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new ft}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Mo))},i.\u0275dir=ge({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),i})();const BB="cdk-high-contrast-black-on-white",VB="cdk-high-contrast-white-on-black",kS="cdk-high-contrast-active";let HB=(()=>{class i{constructor(e,n){this._platform=e,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(kS),e.remove(BB),e.remove(VB),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(e.add(kS),e.add(BB)):2===n&&(e.add(kS),e.add(VB))}}}return i.\u0275fac=function(e){return new(e||i)(me(Sn),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),wy=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)(me(HB))},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Fp]]}),i})();function $re(i,t){if(1&i&&_t(0,"mat-pseudo-checkbox",4),2&i){const e=ai();Ve("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function qre(i,t){if(1&i&&(ue(0,"span",5),Rt(1),he()),2&i){const e=ai();ze(1),Ns("(",e.group.label,")")}}const Zre=["*"],Qre=new Me("mat-sanity-checks",{providedIn:"root",factory:function Kre(){return!0}});let yt=(()=>{class i{constructor(e,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!bS()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)(me(HB),me(Qre,8),me(Bt))},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Pc],Pc]}),i})();function So(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=lt(t)}}}function Do(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function kr(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=lt(t)}}}function Wc(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?as(e):this.defaultTabIndex}}}function PS(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new Ge,this.errorState=!1}updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}}}const Jre=new Me("MAT_DATE_LOCALE",{providedIn:"root",factory:function eae(){return bd(Ja)}});class La{constructor(){this._localeChanges=new Ge,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),s=this.isValid(e);return n&&s?!this.compareDate(t,e):n==s}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const LS=new Me("mat-date-formats"),tae=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function OS(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let iae=(()=>{class i extends La{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return OS(12,s=>this._format(n,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return OS(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return OS(7,s=>this._format(n,new Date(2017,0,s+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,s){let r=this._createDateWithOverflow(e,n,s);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},n),{timeZone:"utc"}));return this._format(s,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+n)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(tae.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,s){const r=new Date;return r.setFullYear(e,n,s),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const s=new Date;return s.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),s.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(s)}}return i.\u0275fac=function(e){return new(e||i)(me(Jre,8),me(Sn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const nae={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let sae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[{provide:La,useClass:iae}]}),i})(),GB=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[{provide:LS,useValue:nae}],imports:[[sae]]}),i})(),sh=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),FS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function Np(i,t,e){i.nativeElement.classList.toggle(t,e)}let Cy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})();class rae{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const WB={enterDuration:225,exitDuration:150},NS=la({passive:!0}),jB=["mousedown","touchstart"],YB=["mouseup","mouseleave","touchend","touchcancel"];class XB{constructor(t,e,n,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Dn(n))}fadeInRipple(t,e,n={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},WB),n.animation);n.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const a=n.radius||function lae(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+s*s)}(t,e,s),c=t-s.left,d=e-s.top,h=r.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=c-a+"px",g.style.top=d-a+"px",g.style.height=2*a+"px",g.style.width=2*a+"px",null!=n.color&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(g),function oae(i){window.getComputedStyle(i).getPropertyValue("opacity")}(g),g.style.transform="scale(1)";const v=new rae(this,g,n);return v.state=0,this._activeRipples.add(v),n.persistent||(this._mostRecentTransientRipple=v),this._runTimeoutOutsideZone(()=>{const b=v===this._mostRecentTransientRipple;v.state=1,!n.persistent&&(!b||!this._isPointerDown)&&v.fadeOut()},h),v}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,s=Object.assign(Object.assign({},WB),t.config.animation);n.style.transitionDuration=`${s.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Dn(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(jB))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(YB),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=ES(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!TS(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,NS)})})}_removeTriggerEvents(){this._triggerElement&&(jB.forEach(t=>{this._triggerElement.removeEventListener(t,this,NS)}),this._pointerUpEventsRegistered&&YB.forEach(t=>{this._triggerElement.removeEventListener(t,this,NS)}))}}const $B=new Me("mat-ripple-global-options");let Rr=(()=>{class i{constructor(e,n,s,r,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new XB(this,n,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(At),F(Sn),F($B,8),F(Nn,8))},i.\u0275dir=ge({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Ir=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})(),qB=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(e){return new(e||i)(F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,n){2&e&&Qt("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),BS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt]]}),i})();const ZB=new Me("MAT_OPTION_PARENT_COMPONENT"),KB=new Me("MatOptgroup");let cae=0;class QB{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let dae=(()=>{class i{constructor(e,n,s,r){this._element=e,this._changeDetectorRef=n,this._parent=s,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+cae++,this.onSelectionChange=new ft,this._stateChanges=new Ge}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=lt(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,n){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ps(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new QB(this,e))}}return i.\u0275fac=function(e){Gd()},i.\u0275dir=ge({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),VS=(()=>{class i extends dae{constructor(e,n,s,r){super(e,n,s,r)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(ZB,8),F(KB,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,n){1&e&&Mt("click",function(){return n._selectViaInteraction()})("keydown",function(r){return n._handleKeydown(r)}),2&e&&(wa("id",n.id),Yt("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),Qt("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[xe],ngContentSelectors:Zre,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,n){1&e&&(en(),Dt(0,$re,1,2,"mat-pseudo-checkbox",0),ue(1,"span",1),oi(2),he(),Dt(3,qre,2,1,"span",2),_t(4,"div",3)),2&e&&(Ve("ngIf",n.multiple),ze(3),Ve("ngIf",n.group&&n.group._inert),ze(1),Ve("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},directives:[qB,Hs,Rr],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function HS(i,t,e){if(e.length){let n=t.toArray(),s=e.toArray(),r=0;for(let a=0;a<i+1;a++)n[a].group&&n[a].group===s[r]&&r++;return r}return 0}let My=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Ir,In,yt,BS]]}),i})();const uae=["*",[["mat-card-footer"]]],hae=["*","mat-card-footer"],fae=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],pae=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let eV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),zS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),tV=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("_mat-animation-noopable","NoopAnimations"===n._animationMode)},exportAs:["matCard"],ngContentSelectors:hae,decls:2,vars:0,template:function(e,n){1&e&&(en(uae),oi(0),oi(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),iV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:pae,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,n){1&e&&(en(fae),oi(0),ue(1,"div",0),oi(2,1),he(),oi(3,2))},encapsulation:2,changeDetection:0}),i})(),nV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})();const gae=["addListener","removeListener"],mae=["addEventListener","removeEventListener"],_ae=["on","off"];function Pr(i,t,e,n){if(mi(e)&&(n=e,e=void 0),n)return Pr(i,t,e).pipe(ow(n));const[s,r]=function bae(i){return mi(i.addEventListener)&&mi(i.removeEventListener)}(i)?mae.map(a=>c=>i[a](t,c,e)):function vae(i){return mi(i.addListener)&&mi(i.removeListener)}(i)?gae.map(sV(i,t)):function yae(i){return mi(i.on)&&mi(i.off)}(i)?_ae.map(sV(i,t)):[];if(!s&&td(i))return rn(a=>Pr(a,t,e))(os(i));if(!s)throw new TypeError("Invalid event target");return new Jt(a=>{const c=(...d)=>a.next(1<d.length?d:d[0]);return s(c),()=>r(c)})}function sV(i,t){return e=>n=>i[e](t,n)}const xae=["connectionContainer"],wae=["inputContainer"],Cae=["label"];function Mae(i,t){1&i&&($o(0),ue(1,"div",14),_t(2,"div",15),_t(3,"div",16),_t(4,"div",17),he(),ue(5,"div",18),_t(6,"div",15),_t(7,"div",16),_t(8,"div",17),he(),qo())}function Sae(i,t){if(1&i){const e=ya();ue(0,"div",19),Mt("cdkObserveContent",function(){return $s(e),ai().updateOutlineGap()}),oi(1,1),he()}2&i&&Ve("cdkObserveContentDisabled","outline"!=ai().appearance)}function Dae(i,t){if(1&i&&($o(0),oi(1,2),ue(2,"span"),Rt(3),he(),qo()),2&i){const e=ai(2);ze(3),Fs(e._control.placeholder)}}function Aae(i,t){1&i&&oi(0,3,["*ngSwitchCase","true"])}function Eae(i,t){1&i&&(ue(0,"span",23),Rt(1," *"),he())}function Tae(i,t){if(1&i){const e=ya();ue(0,"label",20,21),Mt("cdkObserveContent",function(){return $s(e),ai().updateOutlineGap()}),Dt(2,Dae,4,1,"ng-container",12),Dt(3,Aae,1,0,"ng-content",12),Dt(4,Eae,2,0,"span",22),he()}if(2&i){const e=ai();Qt("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),Ve("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Yt("for",e._control.id)("aria-owns",e._control.id),ze(2),Ve("ngSwitchCase",!1),ze(1),Ve("ngSwitchCase",!0),ze(1),Ve("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function kae(i,t){1&i&&(ue(0,"div",24),oi(1,4),he())}function Rae(i,t){if(1&i&&(ue(0,"div",25),_t(1,"span",26),he()),2&i){const e=ai();ze(1),Qt("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Iae(i,t){1&i&&(ue(0,"div"),oi(1,5),he()),2&i&&Ve("@transitionMessages",ai()._subscriptAnimationState)}function Pae(i,t){if(1&i&&(ue(0,"div",30),Rt(1),he()),2&i){const e=ai(2);Ve("id",e._hintLabelId),ze(1),Fs(e.hintLabel)}}function Lae(i,t){if(1&i&&(ue(0,"div",27),Dt(1,Pae,2,2,"div",28),oi(2,6),_t(3,"div",29),oi(4,7),he()),2&i){const e=ai();Ve("@transitionMessages",e._subscriptAnimationState),ze(1),Ve("ngIf",e.hintLabel)}}const Oae=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Fae=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Nae=new Me("MatError"),Bae={transitionMessages:un("transitionMessages",[ci("enter",gt({opacity:1,transform:"translateY(0%)"})),yi("void => enter",[gt({opacity:0,transform:"translateY(-5px)"}),Mi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Bp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i}),i})();const Vae=new Me("MatHint");let Sy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["mat-label"]]}),i})(),Hae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["mat-placeholder"]]}),i})();const zae=new Me("MatPrefix"),Gae=new Me("MatSuffix");let rV=0;const Wae=Do(class{constructor(i){this._elementRef=i}},"primary"),jae=new Me("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Vp=new Me("MatFormField");let oV=(()=>{class i extends Wae{constructor(e,n,s,r,a,c,d){super(e),this._changeDetectorRef=n,this._dir=s,this._defaults=r,this._platform=a,this._ngZone=c,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ge,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+rV++,this._labelId="mat-form-field-label-"+rV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==d,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=lt(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(zs(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Lt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Lt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),M(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(zs(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(zs(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Lt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Pr(this._label.nativeElement,"transitionend").pipe(T(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(r=>"start"===r.align):null,s=this._hintChildren?this._hintChildren.find(r=>"end"===r.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,n=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",r=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const g=n.querySelectorAll(`${s}, ${r}`);for(let v=0;v<g.length;v++)g[v].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,c=0;const d=n.querySelectorAll(s),h=n.querySelectorAll(r);if(this._label&&this._label.nativeElement.children.length){const g=n.getBoundingClientRect();if(0===g.width&&0===g.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const v=this._getStartEnd(g),b=e.children,C=this._getStartEnd(b[0].getBoundingClientRect());let D=0;for(let A=0;A<b.length;A++)D+=b[A].offsetWidth;a=Math.abs(C-v)-5,c=D>0?.75*D+10:0}for(let g=0;g<d.length;g++)d[g].style.width=`${a}px`;for(let g=0;g<h.length;g++)h[g].style.width=`${c}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(rs,8),F(jae,8),F(Sn),F(At),F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,s){if(1&e&&(ii(s,Bp,5),ii(s,Bp,7),ii(s,Sy,5),ii(s,Sy,7),ii(s,Hae,5),ii(s,Nae,5),ii(s,Vae,5),ii(s,zae,5),ii(s,Gae,5)),2&e){let r;Ze(r=Ke())&&(n._controlNonStatic=r.first),Ze(r=Ke())&&(n._controlStatic=r.first),Ze(r=Ke())&&(n._labelChildNonStatic=r.first),Ze(r=Ke())&&(n._labelChildStatic=r.first),Ze(r=Ke())&&(n._placeholderChild=r.first),Ze(r=Ke())&&(n._errorChildren=r),Ze(r=Ke())&&(n._hintChildren=r),Ze(r=Ke())&&(n._prefixChildren=r),Ze(r=Ke())&&(n._suffixChildren=r)}},viewQuery:function(e,n){if(1&e&&(li(xae,7),li(wae,5),li(Cae,5)),2&e){let s;Ze(s=Ke())&&(n._connectionContainerRef=s.first),Ze(s=Ke())&&(n._inputContainerRef=s.first),Ze(s=Ke())&&(n._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,n){2&e&&Qt("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[mt([{provide:Vp,useExisting:i}]),xe],ngContentSelectors:Fae,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,n){1&e&&(en(Oae),ue(0,"div",0),ue(1,"div",1,2),Mt("click",function(r){return n._control.onContainerClick&&n._control.onContainerClick(r)}),Dt(3,Mae,9,0,"ng-container",3),Dt(4,Sae,2,1,"div",4),ue(5,"div",5,6),oi(7),ue(8,"span",7),Dt(9,Tae,5,16,"label",8),he(),he(),Dt(10,kae,2,0,"div",9),he(),Dt(11,Rae,2,4,"div",10),ue(12,"div",11),Dt(13,Iae,2,1,"div",12),Dt(14,Lae,5,2,"div",13),he(),he()),2&e&&(ze(3),Ve("ngIf","outline"==n.appearance),ze(1),Ve("ngIf",n._prefixChildren.length),ze(5),Ve("ngIf",n._hasFloatingLabel()),ze(1),Ve("ngIf",n._suffixChildren.length),ze(1),Ve("ngIf","outline"!=n.appearance),ze(1),Ve("ngSwitch",n._getDisplayedMessages()),ze(1),Ve("ngSwitchCase","error"),ze(1),Ve("ngSwitchCase","hint"))},directives:[Hs,by,eu,Im],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Bae.transitionMessages]},changeDetection:0}),i})(),Hp=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt,Fp],yt]}),i})();const zp={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=zp;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const s=t(r=>{e=void 0,i(r)});return new Ie(()=>null==e?void 0:e(s))},requestAnimationFrame(...i){const{delegate:t}=zp;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=zp;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0},lV=new class Xae extends LM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let n,s=-1;t=t||e.shift();const r=e.length;do{if(n=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,n){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class Yae extends PM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=zp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(zp.cancelAnimationFrame(e),t._scheduled=void 0)}});let GS,$ae=1;const Dy={};function cV(i){return i in Dy&&(delete Dy[i],!0)}const qae={setImmediate(i){const t=$ae++;return Dy[t]=!0,GS||(GS=Promise.resolve()),GS.then(()=>cV(t)&&i()),t},clearImmediate(i){cV(i)}},{setImmediate:Zae,clearImmediate:Kae}=qae,Ay={setImmediate(...i){const{delegate:t}=Ay;return((null==t?void 0:t.setImmediate)||Zae)(...i)},clearImmediate(i){const{delegate:t}=Ay;return((null==t?void 0:t.clearImmediate)||Kae)(i)},delegate:void 0},US=new class Jae extends LM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let n,s=-1;t=t||e.shift();const r=e.length;do{if(n=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,n){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class Qae extends PM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Ay.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Ay.clearImmediate(e),t._scheduled=void 0)}});function dV(i,t=sN){return function eoe(i){return pi((t,e)=>{let n=!1,s=null,r=null,a=!1;const c=()=>{if(null==r||r.unsubscribe(),r=null,n){n=!1;const h=s;s=null,e.next(h)}a&&e.complete()},d=()=>{r=null,a&&e.complete()};t.subscribe(new Ni(e,h=>{n=!0,s=h,r||os(i(h)).subscribe(r=new Ni(e,c,d))},()=>{a=!0,(!n||!r||r.closed)&&e.complete()}))})}(()=>Ep(i,t))}let WS=(()=>{class i{constructor(e,n,s){this._ngZone=e,this._platform=n,this._scrolled=new Ge,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Jt(n=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(dV(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Pt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const s=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(tn(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&n.push(r)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let s=Dn(n),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Pr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(me(At),me(Sn),me(Bt,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),jS=(()=>{class i{constructor(e,n,s,r){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=s,this.dir=r,this._destroyed=new Ge,this._elementScrolled=new Jt(a=>this.ngZone.runOutsideAngular(()=>Pr(this.elementRef.nativeElement,"scroll").pipe(Lt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),s&&0!=Op()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Op()?e.left=e.right:1==Op()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;DB()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",s="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?s:n:"end"==e&&(e=a?n:s),a&&2==Op()?e==n?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&1==Op()?e==n?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==n?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(WS),F(At),F(rs,8))},i.\u0275dir=ge({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),ca=(()=>{class i{constructor(e,n,s){this._platform=e,this._change=new Ge,this._changeListener=r=>{this._change.next(r)},this._document=s,n.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+n,height:s,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||n.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||n.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(me(Sn),me(At),me(Bt,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Oa=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),YS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Pc,Oa],Pc,Oa]}),i})();class XS{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class noe extends XS{constructor(t,e,n,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=s}}class Ey extends XS{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class soe extends XS{constructor(t){super(),this.element=t instanceof je?t.nativeElement:t}}class uV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof noe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Ey?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof soe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class roe extends uV{constructor(t,e,n,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=s,this.attachDomPortal=a=>{const c=a.element,d=this._document.createComment("dom-portal");c.parentNode.insertBefore(d,c),this.outletElement.appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=n.create(t.injector||this._defaultInjector||Tn.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(s=>this.outletElement.appendChild(s)),n.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(n);-1!==s&&e.remove(s)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let $S=(()=>{class i extends uV{constructor(e,n,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ft,this.attachDomPortal=r=>{const a=r.element,c=this._document.createComment("dom-portal");r.setAttachedHost(this),a.parentNode.insertBefore(c,a),this._getRootNode().appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=n.createComponent(r,n.length,e.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(F(Ka),F(an),F(Bt))},i.\u0275dir=ge({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[xe]}),i})(),jc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})();const hV=DB();class ooe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Bn(-this._previousScrollPosition.left),t.style.top=Bn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,s=this._document.body.style,r=n.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),hV&&(n.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hV&&(n.scrollBehavior=r,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class loe{constructor(t,e,n,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fV{enable(){}disable(){}attach(){}}function qS(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function pV(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class coe{constructor(t,e,n,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:s}=this._viewportRuler.getViewportSize();qS(e,[{width:n,height:s,bottom:s,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let doe=(()=>{class i{constructor(e,n,s,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=s,this.noop=()=>new fV,this.close=a=>new loe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ooe(this._viewportRuler,this._document),this.reposition=a=>new coe(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}}return i.\u0275fac=function(e){return new(e||i)(me(WS),me(ca),me(At),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ZS{constructor(t){if(this.scrollStrategy=new fV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class uoe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class hoe{constructor(t,e,n,s,r,a,c,d,h){this._portalOutlet=t,this._host=e,this._pane=n,this._config=s,this._ngZone=r,this._keyboardDispatcher=a,this._document=c,this._location=d,this._outsideClickDispatcher=h,this._backdropElement=null,this._backdropClick=new Ge,this._attachments=new Ge,this._detachments=new Ge,this._locationChanges=Ie.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new Ge,this._outsidePointerEvents=new Ge,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Bn(this._config.width),t.height=Bn(this._config.height),t.minWidth=Bn(this._config.minWidth),t.minHeight=Bn(this._config.minHeight),t.maxWidth=Bn(this._config.maxWidth),t.maxHeight=Bn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,n){const s=TB(e||[]).filter(r=>!!r);s.length&&(n?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Lt(M(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let gV=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bS()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const n=this._document.createElement("div");n.classList.add(e),bS()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(Sn))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const mV="cdk-overlay-connected-position-bounding-box",foe=/([A-Za-z%]+)$/;class poe{constructor(t,e,n,s,r){this._viewportRuler=e,this._document=n,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ge,this._resizeSubscription=Ie.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(mV),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,s=this._containerRect,r=[];let a;for(let c of this._preferredPositions){let d=this._getOriginPoint(t,s,c),h=this._getOverlayPoint(d,e,c),g=this._getOverlayFit(h,e,n,c);if(g.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,d);this._canFitWithFlexibleDimensions(g,h,n)?r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)}):(!a||a.overlayFit.visibleArea<g.visibleArea)&&(a={overlayFit:g,overlayPoint:h,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(const h of r){const g=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);g>d&&(d=g,c=h)}return this._isPushed=!1,void this._applyPosition(c.position,c.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let s,r;if("center"==n.originX)s=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;s="start"==n.originX?a:c}return e.left<0&&(s-=e.left),r="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,n){let s,r;return s="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,n,s){const r=vV(e);let{x:a,y:c}=t,d=this._getOffset(s,"x"),h=this._getOffset(s,"y");d&&(a+=d),h&&(c+=h);let b=0-c,C=c+r.height-n.height,D=this._subtractOverflows(r.width,0-a,a+r.width-n.width),A=this._subtractOverflows(r.height,b,C),E=D*A;return{visibleArea:E,isCompletelyWithinViewport:r.width*r.height===E,fitsInViewportVertically:A===r.height,fitsInViewportHorizontally:D==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const s=n.bottom-e.y,r=n.right-e.x,a=_V(this._overlayRef.getConfig().minHeight),c=_V(this._overlayRef.getConfig().minWidth),h=t.fitsInViewportHorizontally||null!=c&&c<=r;return(t.fitsInViewportVertically||null!=a&&a<=s)&&h}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=vV(e),r=this._viewportRect,a=Math.max(t.x+s.width-r.width,0),c=Math.max(t.y+s.height-r.height,0),d=Math.max(r.top-n.top-t.y,0),h=Math.max(r.left-n.left-t.x,0);let g=0,v=0;return g=s.width<=r.width?h||-a:t.x<this._viewportMargin?r.left-n.left-t.x:0,v=s.height<=r.height?d||-c:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:g,y:v},{x:t.x+g,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),s=new uoe(t,n);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,s=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${s}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,s=this._isRtl();let r,a,c,g,v,b;if("top"===e.overlayY)a=t.y,r=n.height-a+this._viewportMargin;else if("bottom"===e.overlayY)c=n.height-t.y+2*this._viewportMargin,r=n.height-c+this._viewportMargin;else{const C=Math.min(n.bottom-t.y+n.top,t.y),D=this._lastBoundingBoxSize.height;r=2*C,a=t.y-C,r>D&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-D/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)b=n.width-t.x+this._viewportMargin,g=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)v=t.x,g=n.right-t.x;else{const C=Math.min(n.right-t.x+n.left,t.x),D=this._lastBoundingBoxSize.width;g=2*C,v=t.x-C,g>D&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-D/2)}return{top:a,left:v,bottom:c,right:b,width:g,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=Bn(n.height),s.top=Bn(n.top),s.bottom=Bn(n.bottom),s.width=Bn(n.width),s.left=Bn(n.left),s.right=Bn(n.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=Bn(r)),a&&(s.maxWidth=Bn(a))}this._lastBoundingBoxSize=n,Yc(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Yc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const g=this._viewportRuler.getViewportScrollPosition();Yc(n,this._getExactOverlayY(e,t,g)),Yc(n,this._getExactOverlayX(e,t,g))}else n.position="static";let c="",d=this._getOffset(e,"x"),h=this._getOffset(e,"y");d&&(c+=`translateX(${d}px) `),h&&(c+=`translateY(${h}px)`),n.transform=c.trim(),a.maxHeight&&(s?n.maxHeight=Bn(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(s?n.maxWidth=Bn(a.maxWidth):r&&(n.maxWidth="")),Yc(this._pane.style,n)}_getExactOverlayY(t,e,n){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=Bn(r.y),s}_getExactOverlayX(t,e,n){let a,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=Bn(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pV(t,n),isOriginOutsideView:qS(t,n),isOverlayClipped:pV(e,n),isOverlayOutsideView:qS(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,s)=>n-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&TB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof je)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Yc(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function _V(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(foe);return e&&"px"!==e?null:parseFloat(t)}return i||null}function vV(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const yV="cdk-global-overlay-wrapper";class goe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(yV),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:a,maxHeight:c}=n,d=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),h=!("100%"!==r&&"100vh"!==r||c&&"100%"!==c&&"100vh"!==c);t.position=this._cssPosition,t.marginLeft=d?"0":this._leftOffset,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,d?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(yV),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let moe=(()=>{class i{constructor(e,n,s,r){this._viewportRuler=e,this._document=n,this._platform=s,this._overlayContainer=r}global(){return new goe}flexibleConnectedTo(e){return new poe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(me(ca),me(Bt),me(Sn),me(gV))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),bV=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_oe=(()=>{class i extends bV{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=s=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){const c=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>c.next(s)):c.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(At,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),voe=(()=>{class i extends bV{constructor(e,n,s){super(e),this._platform=n,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=Tr(r)},this._clickListener=r=>{const a=Tr(r),c="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){const g=d[h];if(g._outsidePointerEvents.observers.length<1||!g.hasAttached())continue;if(g.overlayElement.contains(a)||g.overlayElement.contains(c))break;const v=g._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>v.next(r)):v.next(r)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(Sn),me(At,8))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yoe=0,Ao=(()=>{class i{constructor(e,n,s,r,a,c,d,h,g,v,b){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=c,this._ngZone=d,this._document=h,this._directionality=g,this._location=v,this._outsideClickDispatcher=b}create(e){const n=this._createHostElement(),s=this._createPaneElement(n),r=this._createPortalOutlet(s),a=new ZS(e);return a.direction=a.direction||this._directionality.value,new hoe(r,n,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+yoe++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Zd)),new roe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(me(doe),me(gV),me(Ka),me(moe),me(_oe),me(Tn),me(At),me(Bt),me(rs),me(xm),me(voe))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})();const boe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],xV=new Me("cdk-connected-overlay-scroll-strategy");let wV=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(F(je))},i.\u0275dir=ge({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),CV=(()=>{class i{constructor(e,n,s,r,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ie.EMPTY,this._attachSubscription=Ie.EMPTY,this._detachSubscription=Ie.EMPTY,this._positionSubscription=Ie.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ft,this.positionChange=new ft,this.attach=new ft,this.detach=new ft,this.overlayKeydown=new ft,this.overlayOutsideClick=new ft,this._templatePortal=new Ey(n,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=lt(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=lt(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=lt(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=lt(e)}get push(){return this._push}set push(e){this._push=lt(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=boe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!Ps(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new ZS({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof wV?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function aoe(i,t=!1){return pi((e,n)=>{let s=0;e.subscribe(new Ni(n,r=>{const a=i(r,s++);(a||t)&&n.next(r),!a&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(F(Ao),F(xn),F(an),F(xV),F(rs,8))},i.\u0275dir=ge({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Bi]}),i})();const woe={provide:xV,deps:[Ao],useFactory:function xoe(i){return()=>i.scrollStrategies.reposition()}};let Xc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Ao,woe],imports:[[Pc,jc,YS],YS]}),i})();function Ty(i){return i&&"function"==typeof i.connect}class MV{applyChanges(t,e,n,s,r){t.forEachOperation((a,c,d)=>{let h,g;if(null==a.previousIndex){const v=n(a,c,d);h=e.createEmbeddedView(v.templateRef,v.context,v.index),g=1}else null==d?(e.remove(c),g=3):(h=e.get(c),e.move(h,d),g=2);r&&r({context:null==h?void 0:h.context,operation:g,record:a})})}detach(){}}class Gp{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ge,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Up=new Me("_ViewRepeater"),Moe=["trigger"],Soe=["panel"];function Doe(i,t){if(1&i&&(ue(0,"span",8),Rt(1),he()),2&i){const e=ai();ze(1),Fs(e.placeholder)}}function Aoe(i,t){if(1&i&&(ue(0,"span",12),Rt(1),he()),2&i){const e=ai(2);ze(1),Fs(e.triggerValue)}}function Eoe(i,t){1&i&&oi(0,0,["*ngSwitchCase","true"])}function Toe(i,t){1&i&&(ue(0,"span",9),Dt(1,Aoe,2,1,"span",10),Dt(2,Eoe,1,0,"ng-content",11),he()),2&i&&(Ve("ngSwitch",!!ai().customTrigger),ze(2),Ve("ngSwitchCase",!0))}function koe(i,t){if(1&i){const e=ya();ue(0,"div",13),ue(1,"div",14,15),Mt("@transformPanel.done",function(s){return $s(e),ai()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return $s(e),ai()._handleKeydown(s)}),oi(3,1),he(),he()}if(2&i){const e=ai();Ve("@transformPanelWrap",void 0),ze(1),O1("mat-select-panel ",e._getPanelTheme(),""),vr("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),Ve("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Yt("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Roe=[[["mat-select-trigger"]],"*"],Ioe=["mat-select-trigger","*"],DV={transformPanelWrap:un("transformPanelWrap",[yi("* => void",Qv("@transformPanel",[Kv()],{optional:!0}))]),transformPanel:un("transformPanel",[ci("void",gt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ci("showing",gt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ci("showing-multiple",gt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),yi("void => *",Mi("120ms cubic-bezier(0, 0, 0.2, 1)")),yi("* => void",Mi("100ms 25ms linear",gt({opacity:0})))])};let AV=0;const TV=new Me("mat-select-scroll-strategy"),Foe=new Me("MAT_SELECT_CONFIG"),Noe={provide:TV,deps:[Ao],useFactory:function Ooe(i){return()=>i.scrollStrategies.reposition()}};class Boe{constructor(t,e){this.source=t,this.value=e}}const Voe=kr(Wc(So(PS(class{constructor(i,t,e,n,s){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=s}})))),Hoe=new Me("MatSelectTrigger");let zoe=(()=>{class i extends Voe{constructor(e,n,s,r,a,c,d,h,g,v,b,C,D,A){var E,I,P;super(a,r,d,h,v),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=s,this._dir=c,this._parentFormField=g,this._liveAnnouncer=D,this._defaultOptions=A,this._panelOpen=!1,this._compareWith=(N,V)=>N===V,this._uid="mat-select-"+AV++,this._triggerAriaLabelledBy=null,this._destroy=new Ge,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+AV++,this._panelDoneAnimatingStream=new Ge,this._overlayPanelClass=(null===(E=this._defaultOptions)||void 0===E?void 0:E.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(P=null===(I=this._defaultOptions)||void 0===I?void 0:I.disableOptionCentering)&&void 0!==P&&P,this.ariaLabel="",this.optionSelectionChanges=Gm(()=>{const N=this.options;return N?N.changes.pipe(zs(N),xr(()=>M(...N.map(V=>V.onSelectionChange)))):this._ngZone.onStable.pipe(T(1),xr(()=>this.optionSelectionChanges))}),this.openedChange=new ft,this._openedStream=this.openedChange.pipe(tn(N=>N),jt(()=>{})),this._closedStream=this.openedChange.pipe(tn(N=>!N),jt(()=>{})),this.selectionChange=new ft,this.valueChange=new ft,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==A?void 0:A.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._scrollStrategyFactory=C,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(b)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,n,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===s?void 0:s.hasValidator(tc.required))&&void 0!==r&&r}set required(e){this._required=lt(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=lt(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=lt(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=as(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Gp(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(yy(),Lt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Lt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(zs(null),Lt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,n;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,s=40===n||38===n||37===n||39===n,r=13===n||32===n,a=this._keyManager;if(!a.isTyping()&&r&&!Ps(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;a.onKeydown(e);const d=this.selected;d&&c!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,s=e.keyCode,r=40===s||38===s,a=n.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(a||13!==s&&32!==s||!n.activeItem||Ps(e))if(!a&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const c=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(c?d.select():d.deselect())})}else{const c=n.activeItemIndex;n.onKeydown(e),this._multiple&&r&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==c&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(T(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(r){return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Dre(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Lt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Lt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=M(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Lt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),M(...this.options.map(n=>n._stateChanges)).pipe(Lt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,n){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,s)=>this.sortComparator?this.sortComparator(n,s,e):e.indexOf(n)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const n=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const n=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(F(ca),F(Pi),F(At),F(sh),F(je),F(rs,8),F(nl,8),F(ic,8),F(Vp,8),F(Kr,10),cs("tabindex"),F(TV),F(jre),F(Foe,8))},i.\u0275dir=ge({type:i,viewQuery:function(e,n){if(1&e&&(li(Moe,5),li(Soe,5),li(CV,5)),2&e){let s;Ze(s=Ke())&&(n.trigger=s.first),Ze(s=Ke())&&(n.panel=s.first),Ze(s=Ke())&&(n._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[xe,Bi]}),i})(),kV=(()=>{class i extends zoe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,n,s){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-n+r/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Lt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const n=HS(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===n?0:function JB(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}((e+n)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Boe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),s=this._isRtl(),r=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let h=this._selectionModel.selected[0]||this.options.first;a=h&&h.group?32:16}s||(a*=-1);const c=0-(e.left+a-(s?r:0)),d=e.right+a-n.width+(s?0:r);c>0?a+=c+8:d>0&&(a-=d+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,n,s){const r=this._getItemHeight(),a=(r-this._triggerRect.height)/2,c=Math.floor(256/r);let d;return this.disableOptionCentering?0:(d=0===this._scrollTop?e*r:this._scrollTop===s?(e-(this._getItemCount()-c))*r+(r-(this._getItemCount()*r-256)%r):n-r/2,Math.round(-1*d-a))}_checkOverlayWithinViewport(e){const n=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,a=s.height-this._triggerRect.bottom-8,c=Math.abs(this._offsetY),h=Math.min(this._getItemCount()*n,256)-c-this._triggerRect.height;h>a?this._adjustPanelUp(h,a):c>r?this._adjustPanelDown(c,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,n){const s=Math.round(e-n);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,n,s){const r=Math.round(e-n);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),n=this._getItemCount(),s=Math.min(n*e,256),a=n*e-s;let c;c=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),c+=HS(c,this.options,this.optionGroups);const d=s/2;this._scrollTop=this._calculateOverlayScroll(c,d,a),this._offsetY=this._calculateOverlayOffsetY(c,d,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),n=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-select"]],contentQueries:function(e,n,s){if(1&e&&(ii(s,Hoe,5),ii(s,VS,5),ii(s,KB,5)),2&e){let r;Ze(r=Ke())&&(n.customTrigger=r.first),Ze(r=Ke())&&(n.options=r),Ze(r=Ke())&&(n.optionGroups=r)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,n){1&e&&Mt("keydown",function(r){return n._handleKeydown(r)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(Yt("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),Qt("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[mt([{provide:Bp,useExisting:i},{provide:ZB,useExisting:i}]),xe],ngContentSelectors:Ioe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(en(Roe),ue(0,"div",0,1),Mt("click",function(){return n.toggle()}),ue(3,"div",2),Dt(4,Doe,2,1,"span",3),Dt(5,Toe,3,2,"span",4),he(),ue(6,"div",5),_t(7,"div",6),he(),he(),Dt(8,koe,4,14,"ng-template",7),Mt("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const s=_r(1);Yt("aria-owns",n.panelOpen?n.id+"-panel":null),ze(3),Ve("ngSwitch",n.empty),Yt("id",n._valueId),ze(1),Ve("ngSwitchCase",!0),ze(1),Ve("ngSwitchCase",!1),ze(3),Ve("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[wV,eu,Im,qR,CV,Qd],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[DV.transformPanelWrap,DV.transformPanel]},changeDetection:0}),i})(),KS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Noe],imports:[[In,Xc,My,yt],Oa,Hp,My,yt]}),i})();const RV=la({passive:!0});let Goe=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return cr;const n=Dn(e),s=this._monitoredElements.get(n);if(s)return s.subject;const r=new Ge,a="cdk-text-field-autofilled",c=d=>{"cdk-text-field-autofill-start"!==d.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===d.animationName&&n.classList.contains(a)&&(n.classList.remove(a),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!1}))):(n.classList.add(a),this._ngZone.run(()=>r.next({target:d.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",c,RV),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:()=>{n.removeEventListener("animationstart",c,RV)}}),r}stopMonitoring(e){const n=Dn(e),s=this._monitoredElements.get(n);s&&(s.unlisten(),s.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(e){return new(e||i)(me(Sn),me(At))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),IV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})();const PV=new Me("MAT_INPUT_VALUE_ACCESSOR"),Uoe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Woe=0;const joe=PS(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n}});let Yoe=(()=>{class i extends joe{constructor(e,n,s,r,a,c,d,h,g,v){super(c,r,a,s),this._elementRef=e,this._platform=n,this._autofillMonitor=h,this._formField=v,this._uid="mat-input-"+Woe++,this.focused=!1,this.stateChanges=new Ge,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(D=>SB().has(D)),this._iOSKeyupListener=D=>{const A=D.target;!A.value&&0===A.selectionStart&&0===A.selectionEnd&&(A.setSelectionRange(1,1),A.setSelectionRange(0,0))};const b=this._elementRef.nativeElement,C=b.nodeName.toLowerCase();this._inputValueAccessor=d||b,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&g.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===C,this._isTextarea="textarea"===C,this._isInFormField=!!v,this._isNativeSelect&&(this.controlType=b.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=lt(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,n,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===s?void 0:s.hasValidator(tc.required))&&void 0!==r&&r}set required(e){this._required=lt(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&SB().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=lt(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,n;const s=(null===(n=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===n?void 0:n.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=s,s?r.setAttribute("placeholder",s):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Uoe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Sn),F(Kr,10),F(nl,8),F(ic,8),F(sh),F(PV,10),F(Goe),F(At),F(Vp,8))},i.\u0275dir=ge({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,n){1&e&&Mt("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(wa("disabled",n.disabled)("required",n.required),Yt("id",n.id)("data-placeholder",n.placeholder)("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),Qt("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[mt([{provide:Bp,useExisting:i}]),xe,Bi]}),i})(),LV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[sh],imports:[[IV,Hp,yt],IV,Hp]}),i})();const Xoe=["mat-button",""],$oe=["*"],Zoe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Koe=Do(So(kr(class{constructor(i){this._elementRef=i}})));let Ry=(()=>{class i extends Koe{constructor(e,n,s){super(e),this._focusMonitor=n,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Zoe)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(n=>this._getHostElement().hasAttribute(n))}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Mo),F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,n){if(1&e&&li(Rr,5),2&e){let s;Ze(s=Ke())&&(n.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,n){2&e&&(Yt("disabled",n.disabled||null),Qt("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[xe],attrs:Xoe,ngContentSelectors:$oe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,n){1&e&&(en(),ue(0,"span",0),oi(1),he(),_t(2,"span",1),_t(3,"span",2)),2&e&&(ze(2),Qt("mat-button-ripple-round",n.isRoundButton||n.isIconButton),Ve("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},directives:[Rr],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),$c=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Ir,yt],yt]}),i})();const Qoe=["container"];function Joe(i,t){1&i&&(ue(0,"mat-option",18),Rt(1,"No Data"),he())}function ele(i,t){if(1&i&&(ue(0,"mat-option",19),Rt(1),he()),2&i){const e=t.$implicit;Ve("value",e),ze(1),Fs(e)}}function tle(i,t){1&i&&(ue(0,"mat-option",18),Rt(1,"No Data"),he())}function ile(i,t){if(1&i&&(ue(0,"mat-option",19),Rt(1),he()),2&i){const e=t.$implicit;Ve("value",e.id),ze(1),Ns("",e.name," ")}}let nle=(()=>{class i{constructor(e,n,s,r,a){this.scene=e,this.route=n,this.router=s,this.httpService=r,this.alertService=a,this.machineId="",this.connectionUrls=["192.162.78.21","192.162.78.22"],this.mappedmachines=[],this.machineForm=new __({connectionUrl:new Ff("",[tc.required]),mappedMachine:new Ff("",[tc.required]),name:new Ff("",[tc.required])}),this.route.params.subscribe(c=>{this.machineId=c.id,this.machine=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))))})}ngOnInit(){this.httpService.getMachines().subscribe(e=>{console.log(e)})}set container(e){const n=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))));this.scene.initialize(e.nativeElement,n)}createDigitalTwin(){const e=this.machineForm.value,n={machineId:this.machineId,name:e.name,connectionUrl:e.connectionUrl,mappedMachine:e.mappedMachine};console.log(this.machineForm.value),console.log(n),this.httpService.createDigitalTwin(n).subscribe(s=>{this.alertService.success("Digital Twin created",3,!0),this.router.navigateByUrl("/digital-twin")})}connectionUrlChanged(){this.mappedmachines=[{name:"Turbofan 45",id:1},{name:"Turbofan 56 ",id:2},{name:"Turbofan 34",id:3},{name:"Turbofan 33",id:4}]}}return i.\u0275fac=function(e){return new(e||i)(F(SM),F(Jo),F(es),F(Dp),F(OM))},i.\u0275cmp=kt({type:i,selectors:[["app-create-digital-twin"]],viewQuery:function(e,n){if(1&e&&li(Qoe,5),2&e){let s;Ze(s=Ke())&&(n.container=s.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","75",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","24","fxLayout","column","fxLayoutAlign","start center",1,"right-content"],[1,"machine-name"],["matCardImage","",1,"machine-image",3,"src"],["fxLayout","column","fxLayoutAlign","start center",1,"form","create-twin",3,"formGroup"],["appearance","outline"],["required","","formControlName","connectionUrl",3,"selectionChange"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","mappedMachine"],["required","","matInput","","formControlName","name"],["mat-flat-button","",1,"button",3,"disabled","click"],["disabled",""],[3,"value"]],template:function(e,n){1&e&&(ue(0,"div",0),ue(1,"div",1),_t(2,"div",2,3),ue(4,"div",4),_t(5,"div",5),_t(6,"div",6),he(),he(),ue(7,"div",7),ue(8,"h1",8),Rt(9),he(),_t(10,"img",9),ue(11,"form",10),ue(12,"mat-form-field",11),ue(13,"mat-label"),Rt(14,"Connection url"),he(),ue(15,"mat-select",12),Mt("selectionChange",function(){return n.connectionUrlChanged()}),Dt(16,Joe,2,0,"mat-option",13),Dt(17,ele,2,2,"mat-option",14),he(),he(),ue(18,"mat-form-field",11),ue(19,"mat-label"),Rt(20,"Select Machine"),he(),ue(21,"mat-select",15),Dt(22,tle,2,0,"mat-option",13),Dt(23,ile,2,2,"mat-option",14),he(),he(),ue(24,"mat-form-field",11),ue(25,"mat-label"),Rt(26,"Name"),he(),_t(27,"input",16),he(),he(),ue(28,"button",17),Mt("click",function(){return n.createDigitalTwin()}),Rt(29,"Create Digital Twin"),he(),he(),he()),2&e&&(ze(9),Fs(null==n.machine?null:n.machine.name),ze(1),Ve("src",n.machine.imageUrl,Cd),ze(1),Ve("formGroup",n.machineForm),ze(5),Ve("ngIf",n.connectionUrls.length<1),ze(1),Ve("ngForOf",n.connectionUrls),ze(5),Ve("ngIf",n.mappedmachines.length<1),ze(1),Ve("ngForOf",n.mappedmachines),ze(5),Ve("disabled",n.machineForm.invalid))},directives:[Sl,Ku,Rp,zS,v_,c_,ic,oV,Sy,kV,y_,ZP,jw,Hs,VS,Jd,Yoe,o_,Ry],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.right-content[_ngcontent-%COMP%]{background:#fff;height:100vh;padding:20px 0}.form[_ngcontent-%COMP%]{width:80%}.mat-form-field[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{width:50%;height:60px;font-size:20px;color:#fff;background:#16c3d5}.form.create-twin[_ngcontent-%COMP%]{margin-top:20px}.machine-image[_ngcontent-%COMP%]{width:90%}"]}),i})();function sle(i,t){1&i&&oi(0)}const OV=["*"];function rle(i,t){}const ale=function(i){return{animationDuration:i}},ole=function(i,t){return{value:i,params:t}},lle=["tabListContainer"],cle=["tabList"],dle=["tabListInner"],ule=["nextPaginator"],hle=["previousPaginator"],fle=["tabBodyWrapper"],ple=["tabHeader"];function gle(i,t){}function mle(i,t){1&i&&Dt(0,gle,0,0,"ng-template",10),2&i&&Ve("cdkPortalOutlet",ai().$implicit.templateLabel)}function _le(i,t){1&i&&Rt(0),2&i&&Fs(ai().$implicit.textLabel)}function vle(i,t){if(1&i){const e=ya();ue(0,"div",6),Mt("click",function(){const s=$s(e),r=s.$implicit,a=s.index,c=ai(),d=_r(1);return c._handleClick(r,d,a)})("cdkFocusChange",function(s){const a=$s(e).index;return ai()._tabFocusChanged(s,a)}),ue(1,"div",7),Dt(2,mle,1,1,"ng-template",8),Dt(3,_le,1,1,"ng-template",null,9,Wk),he(),he()}if(2&i){const e=t.$implicit,n=t.index,s=_r(4),r=ai();Qt("mat-tab-label-active",r.selectedIndex===n),Ve("id",r._getTabLabelId(n))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),Yt("tabIndex",r._getTabIndex(e,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),ze(2),Ve("ngIf",e.templateLabel)("ngIfElse",s)}}function yle(i,t){if(1&i){const e=ya();ue(0,"mat-tab-body",11),Mt("_onCentered",function(){return $s(e),ai()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return $s(e),ai()._setTabBodyWrapperHeight(s)}),he()}if(2&i){const e=t.$implicit,n=t.index,s=ai();Qt("mat-tab-body-active",s.selectedIndex===n),Ve("id",s._getTabContentId(n))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),Yt("tabindex",null!=s.contentTabIndex&&s.selectedIndex===n?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(n))}}const ble=new Me("MatInkBarPositioner",{providedIn:"root",factory:function xle(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let FV=(()=>{class i{constructor(e,n,s,r){this._elementRef=e,this._ngZone=n,this._inkBarPositioner=s,this._animationMode=r}alignToElement(e){this.show(),this._ngZone.onStable.pipe(T(1)).subscribe(()=>{const n=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=n.left,s.style.width=n.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(At),F(ble),F(Nn,8))},i.\u0275dir=ge({type:i,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("_mat-animation-noopable","NoopAnimations"===n._animationMode)}}),i})();const wle=new Me("MatTabContent"),Cle=new Me("MatTabLabel"),Mle=new Me("MAT_TAB"),Sle=So(class{}),NV=new Me("MAT_TAB_GROUP");let BV=(()=>{class i extends Sle{constructor(e,n){super(),this._viewContainerRef=e,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new Ge,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Ey(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(NV,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab"]],contentQueries:function(e,n,s){if(1&e&&(ii(s,Cle,5),ii(s,wle,7,xn)),2&e){let r;Ze(r=Ke())&&(n.templateLabel=r.first),Ze(r=Ke())&&(n._explicitContent=r.first)}},viewQuery:function(e,n){if(1&e&&li(xn,7),2&e){let s;Ze(s=Ke())&&(n._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[mt([{provide:Mle,useExisting:i}]),xe,Bi],ngContentSelectors:OV,decls:1,vars:0,template:function(e,n){1&e&&(en(),Dt(0,sle,1,0,"ng-template"))},encapsulation:2}),i})();const Dle={translateTab:un("translateTab",[ci("center, void, left-origin-center, right-origin-center",gt({transform:"none"})),ci("left",gt({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),ci("right",gt({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),yi("* => left, * => right, left => center, right => center",Mi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),yi("void => left-origin-center",[gt({transform:"translate3d(-100%, 0, 0)"}),Mi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),yi("void => right-origin-center",[gt({transform:"translate3d(100%, 0, 0)"}),Mi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Ale=(()=>{class i extends $S{constructor(e,n,s,r){super(e,n,r),this._host=s,this._centeringSub=Ie.EMPTY,this._leavingSub=Ie.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(zs(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(F(Ka),F(an),F(x(()=>VV)),F(Bt))},i.\u0275dir=ge({type:i,selectors:[["","matTabBodyHost",""]],features:[xe]}),i})(),Ele=(()=>{class i{constructor(e,n,s){this._elementRef=e,this._dir=n,this._dirChangeSubscription=Ie.EMPTY,this._translateTabComplete=new Ge,this._onCentering=new ft,this._beforeCentering=new ft,this._afterLeavingCenter=new ft,this._onCentered=new ft(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe(r=>{this._computePositionAnimationState(r),s.markForCheck()})),this._translateTabComplete.pipe(yy((r,a)=>r.fromState===a.fromState&&r.toState===a.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const n=this._getLayoutDirection();return"ltr"==n&&e<=0||"rtl"==n&&e>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(rs,8),F(Pi))},i.\u0275dir=ge({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),VV=(()=>{class i extends Ele{constructor(e,n,s){super(e,n,s)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(rs,8),F(Pi))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-body"]],viewQuery:function(e,n){if(1&e&&li($S,5),2&e){let s;Ze(s=Ke())&&(n._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[xe],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,n){1&e&&(ue(0,"div",0,1),Mt("@translateTab.start",function(r){return n._onTranslateTabStarted(r)})("@translateTab.done",function(r){return n._translateTabComplete.next(r)}),Dt(2,rle,0,0,"ng-template",2),he()),2&e&&Ve("@translateTab",function Ak(i,t,e,n,s){return kk(He(),Cs(),i,t,e,n,s)}(3,ole,n._position,function hf(i,t,e,n){return Tk(He(),Cs(),i,t,e,n)}(1,ale,n.animationDuration)))},directives:[Ale],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[Dle.translateTab]}}),i})();const HV=new Me("MAT_TABS_CONFIG"),Tle=So(class{});let zV=(()=>{class i extends Tle{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(e){return new(e||i)(F(je))},i.\u0275dir=ge({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,n){2&e&&(Yt("aria-disabled",!!n.disabled),Qt("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[xe]}),i})();const GV=la({passive:!0});let Ile=(()=>{class i{constructor(e,n,s,r,a,c,d){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=s,this._dir=r,this._ngZone=a,this._platform=c,this._animationMode=d,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Ge,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Ge,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ft,this.indexFocused=new ft,a.runOutsideAngular(()=>{Pr(e.nativeElement,"mouseleave").pipe(Lt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=as(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Pr(this._previousPaginator.nativeElement,"touchstart",GV).pipe(Lt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Pr(this._nextPaginator.nativeElement,"touchstart",GV).pipe(Lt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Pt("ltr"),n=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new AS(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(T(1)).subscribe(s),M(e,n,this._items.changes).pipe(Lt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Lt(this._destroyed)).subscribe(r=>{this.indexFocused.emit(r),this._setTabFocus(r)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Ps(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const n=this._items?this._items.toArray()[e]:null;return!!n&&!n.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const n=this._items?this._items.toArray()[e]:null;if(!n)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=n.elementRef.nativeElement;let c,d;"ltr"==this._getLayoutDirection()?(c=r,d=c+a):(d=this._tabListInner.nativeElement.offsetWidth-r,c=d-a);const h=this.scrollDistance,g=this.scrollDistance+s;c<h?this.scrollDistance-=h-c+60:d>g&&(this.scrollDistance+=d-g+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Ep(650,100).pipe(Lt(M(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:r}=this._scrollHeader(e);(0===r||r>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(ca),F(rs,8),F(At),F(Sn),F(Nn,8))},i.\u0275dir=ge({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),Ple=(()=>{class i extends Ile{constructor(e,n,s,r,a,c,d){super(e,n,s,r,a,c,d),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=lt(e)}_itemSelected(e){e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(ca),F(rs,8),F(At),F(Sn),F(Nn,8))},i.\u0275dir=ge({type:i,inputs:{disableRipple:"disableRipple"},features:[xe]}),i})(),Lle=(()=>{class i extends Ple{constructor(e,n,s,r,a,c,d){super(e,n,s,r,a,c,d)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(ca),F(rs,8),F(At),F(Sn),F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-header"]],contentQueries:function(e,n,s){if(1&e&&ii(s,zV,4),2&e){let r;Ze(r=Ke())&&(n._items=r)}},viewQuery:function(e,n){if(1&e&&(li(FV,7),li(lle,7),li(cle,7),li(dle,7),li(ule,5),li(hle,5)),2&e){let s;Ze(s=Ke())&&(n._inkBar=s.first),Ze(s=Ke())&&(n._tabListContainer=s.first),Ze(s=Ke())&&(n._tabList=s.first),Ze(s=Ke())&&(n._tabListInner=s.first),Ze(s=Ke())&&(n._nextPaginator=s.first),Ze(s=Ke())&&(n._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,n){2&e&&Qt("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[xe],ngContentSelectors:OV,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,n){1&e&&(en(),ue(0,"button",0,1),Mt("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(r){return n._handlePaginatorPress("before",r)})("touchend",function(){return n._stopInterval()}),_t(2,"div",2),he(),ue(3,"div",3,4),Mt("keydown",function(r){return n._handleKeydown(r)}),ue(5,"div",5,6),Mt("cdkObserveContent",function(){return n._onContentChanges()}),ue(7,"div",7,8),oi(9),he(),_t(10,"mat-ink-bar"),he(),he(),ue(11,"button",9,10),Mt("mousedown",function(r){return n._handlePaginatorPress("after",r)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),_t(13,"div",2),he()),2&e&&(Qt("mat-tab-header-pagination-disabled",n._disableScrollBefore),Ve("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),ze(5),Qt("_mat-animation-noopable","NoopAnimations"===n._animationMode),ze(6),Qt("mat-tab-header-pagination-disabled",n._disableScrollAfter),Ve("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},directives:[Rr,by,FV],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),i})(),Ole=0;class Fle{}const Nle=Do(kr(class{constructor(i){this._elementRef=i}}),"primary");let Ble=(()=>{class i extends Nle{constructor(e,n,s,r){var a;super(e),this._changeDetectorRef=n,this._animationMode=r,this._tabs=new Yl,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ie.EMPTY,this._tabLabelSubscription=Ie.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new ft,this.focusChange=new ft,this.animationDone=new ft,this.selectedTabChange=new ft(!0),this._groupId=Ole++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(a=null==s?void 0:s.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=lt(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=as(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=as(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const n=this._elementRef.nativeElement;n.classList.remove(`mat-background-${this.backgroundColor}`),e&&n.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,r)=>s.isActive=r===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,s)=>{n.position=s-e,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const n=this._tabs.toArray();let s;for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,s=n[r];break}!s&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(zs(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const n=new Fle;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=M(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,s){e.disabled||(this.selectedIndex=n.focusIndex=s)}_getTabIndex(e,n){var s;return e.disabled?null:n===(null!==(s=this._lastFocusedTabIndex)&&void 0!==s?s:this.selectedIndex)?0:-1}_tabFocusChanged(e,n){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=n)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(HV,8),F(Nn,8))},i.\u0275dir=ge({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[xe]}),i})(),Vle=(()=>{class i extends Ble{constructor(e,n,s,r){super(e,n,s,r)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(HV,8),F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-tab-group"]],contentQueries:function(e,n,s){if(1&e&&ii(s,BV,5),2&e){let r;Ze(r=Ke())&&(n._allTabs=r)}},viewQuery:function(e,n){if(1&e&&(li(fle,5),li(ple,5)),2&e){let s;Ze(s=Ke())&&(n._tabBodyWrapper=s.first),Ze(s=Ke())&&(n._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,n){2&e&&Qt("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[mt([{provide:NV,useExisting:i}]),xe],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,n){1&e&&(ue(0,"mat-tab-header",0,1),Mt("indexFocused",function(r){return n._focusChanged(r)})("selectFocusedIndex",function(r){return n.selectedIndex=r}),Dt(2,vle,5,15,"div",2),he(),ue(3,"div",3,4),Dt(5,yle,1,10,"mat-tab-body",5),he()),2&e&&(Ve("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),ze(2),Ve("ngForOf",n._tabs),ze(1),Qt("_mat-animation-noopable","NoopAnimations"===n._animationMode),ze(2),Ve("ngForOf",n._tabs))},directives:[Lle,VV,Jd,zV,Rr,Xre,Qd,Hs,$S],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),i})(),WV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt,jc,Ir,Fp,wy],yt]}),i})();var jV=tg(597);const Hle=["chart"];let YV=(()=>{class i{constructor(e){this.ngZone=e,this.autoUpdateSeries=!0}ngOnInit(){US.schedule(()=>{this.createElement()})}ngOnChanges(e){US.schedule(()=>{this.autoUpdateSeries&&0===Object.keys(e).filter(n=>"series"!==n).length?this.updateSeries(this.series,!0):this.createElement()})}ngOnDestroy(){this.chartObj&&this.chartObj.destroy()}createElement(){const e={};this.annotations&&(e.annotations=this.annotations),this.chart&&(e.chart=this.chart),this.colors&&(e.colors=this.colors),this.dataLabels&&(e.dataLabels=this.dataLabels),this.series&&(e.series=this.series),this.stroke&&(e.stroke=this.stroke),this.labels&&(e.labels=this.labels),this.legend&&(e.legend=this.legend),this.fill&&(e.fill=this.fill),this.tooltip&&(e.tooltip=this.tooltip),this.plotOptions&&(e.plotOptions=this.plotOptions),this.responsive&&(e.responsive=this.responsive),this.markers&&(e.markers=this.markers),this.noData&&(e.noData=this.noData),this.xaxis&&(e.xaxis=this.xaxis),this.yaxis&&(e.yaxis=this.yaxis),this.grid&&(e.grid=this.grid),this.states&&(e.states=this.states),this.title&&(e.title=this.title),this.subtitle&&(e.subtitle=this.subtitle),this.theme&&(e.theme=this.theme),this.chartObj&&this.chartObj.destroy(),this.ngZone.runOutsideAngular(()=>{this.chartObj=new jV(this.chartElement.nativeElement,e)}),this.render()}render(){return this.ngZone.runOutsideAngular(()=>this.chartObj.render())}updateOptions(e,n,s,r){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateOptions(e,n,s,r))}updateSeries(e,n){return this.ngZone.runOutsideAngular(()=>this.chartObj.updateSeries(e,n))}appendSeries(e,n){this.ngZone.runOutsideAngular(()=>this.chartObj.appendSeries(e,n))}appendData(e){this.ngZone.runOutsideAngular(()=>this.chartObj.appendData(e))}toggleSeries(e){return this.ngZone.runOutsideAngular(()=>this.chartObj.toggleSeries(e))}showSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.showSeries(e))}hideSeries(e){this.ngZone.runOutsideAngular(()=>this.chartObj.hideSeries(e))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartObj.resetSeries())}zoomX(e,n){this.ngZone.runOutsideAngular(()=>this.chartObj.zoomX(e,n))}toggleDataPointSelection(e,n){this.ngZone.runOutsideAngular(()=>this.chartObj.toggleDataPointSelection(e,n))}destroy(){this.chartObj.destroy()}setLocale(e){this.ngZone.runOutsideAngular(()=>this.chartObj.setLocale(e))}paper(){this.ngZone.runOutsideAngular(()=>this.chartObj.paper())}addXaxisAnnotation(e,n,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addXaxisAnnotation(e,n,s))}addYaxisAnnotation(e,n,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addYaxisAnnotation(e,n,s))}addPointAnnotation(e,n,s){this.ngZone.runOutsideAngular(()=>this.chartObj.addPointAnnotation(e,n,s))}removeAnnotation(e,n){this.ngZone.runOutsideAngular(()=>this.chartObj.removeAnnotation(e,n))}clearAnnotations(e){this.ngZone.runOutsideAngular(()=>this.chartObj.clearAnnotations(e))}dataURI(e){return this.chartObj.dataURI(e)}}return i.\u0275fac=function(e){return new(e||i)(F(At))},i.\u0275cmp=kt({type:i,selectors:[["apx-chart"]],viewQuery:function(e,n){if(1&e&&li(Hle,7),2&e){let s;Ze(s=Ke())&&(n.chartElement=s.first)}},inputs:{chart:"chart",annotations:"annotations",colors:"colors",dataLabels:"dataLabels",series:"series",stroke:"stroke",labels:"labels",legend:"legend",markers:"markers",noData:"noData",fill:"fill",tooltip:"tooltip",plotOptions:"plotOptions",responsive:"responsive",xaxis:"xaxis",yaxis:"yaxis",grid:"grid",states:"states",title:"title",subtitle:"subtitle",theme:"theme",autoUpdateSeries:"autoUpdateSeries"},features:[Bi],decls:2,vars:0,consts:[["chart",""]],template:function(e,n){1&e&&_t(0,"div",null,0)},styles:[""],changeDetection:0}),i})();window.ApexCharts=jV;let zle=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[]]}),i})();const Gle=["chart"];function Ule(i,t){if(1&i&&(ue(0,"div",1),_t(1,"apx-chart",2),he()),2&i){const e=ai();ze(1),Ve("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("dataLabels",e.chartOptions.dataLabels)("grid",e.chartOptions.grid)("stroke",e.chartOptions.stroke)("title",e.chartOptions.title)}}let Wle=(()=>{class i{constructor(){this.chartEnabled=!1}ngOnChanges(e){console.log(this.chartData),this.setChartData()}ngOnInit(){console.log(this.chartData)}setChartData(){this.chartOptions={series:[{name:this.chartData.name,data:this.chartData.series}],chart:{height:350,type:"line",zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight"},grid:{row:{colors:["#f3f3f3","transparent"],opacity:.5}},xaxis:{categories:this.chartData.timeLine,labels:{show:!1},title:{text:"Cycle"}}},this.chartEnabled=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["app-model-bar-chart"]],viewQuery:function(e,n){if(1&e&&li(Gle,5),2&e){let s;Ze(s=Ke())&&(n.chart=s.first)}},inputs:{chartData:["data","chartData"]},features:[Bi],decls:1,vars:1,consts:[["id","chart",4,"ngIf"],["id","chart"],[3,"series","chart","xaxis","dataLabels","grid","stroke","title"]],template:function(e,n){1&e&&Dt(0,Ule,2,7,"div",0),2&e&&Ve("ngIf",n.chartEnabled)},directives:[Hs,YV],styles:["#chart[_ngcontent-%COMP%]{max-width:650px;margin:35px auto}"]}),i})();function jle(i,t){if(1&i&&(ue(0,"mat-option",8),Rt(1),he()),2&i){const e=t.$implicit;Ve("value",e),ze(1),Fs(e.name)}}let Yle=(()=>{class i{constructor(e){this.httpService=e,this.selectedSensorData=[],this.chartData={},this.sensors=[]}ngOnInit(){this.getSensorList()}getSensorSelection(e){this.getSensorData(e)}getSensorList(){var e,n;this.httpService.getSensorList(null===(n=null===(e=this.digitalTwin)||void 0===e?void 0:e.machine)||void 0===n?void 0:n.name).subscribe(s=>{this.sensors=s.data[0].sensor})}getSensorData(e){this.httpService.getTurbofanSensorData(e.value).subscribe(n=>{this.selectedSensorData=n.data;const s=[],r=[];this.selectedSensorData.map((a,c)=>{s.push(a[e.value]),r.push(c+1)}),this.chartData={name:e.name,series:s,timeLine:r}})}}return i.\u0275fac=function(e){return new(e||i)(F(Dp))},i.\u0275cmp=kt({type:i,selectors:[["app-overview"]],inputs:{digitalTwin:"digitalTwin"},decls:16,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start stretch",1,"overview"],[1,"item"],["src","assets/images/turbo-schematics.png","alt","","srcset","",1,"image-details"],[1,"sensor-overview"],["appearance","outline",1,"sensor-dropdown"],["panelClass","select-panel",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"data"],[3,"value"]],template:function(e,n){1&e&&(ue(0,"div",0),ue(1,"div",1),Rt(2),he(),ue(3,"div",1),Rt(4),he(),_t(5,"img",2),ue(6,"h2",3),Rt(7," Sensor Overview "),he(),ue(8,"h5"),Rt(9," Select a senor to generate overview graph "),he(),ue(10,"mat-form-field",4),ue(11,"mat-label"),Rt(12,"Select Sensor Data"),he(),ue(13,"mat-select",5),Mt("selectionChange",function(r){return n.getSensorSelection(r.value)}),Dt(14,jle,2,2,"mat-option",6),he(),he(),_t(15,"app-model-bar-chart",7),he()),2&e&&(ze(2),Ns("Name : ",n.digitalTwin.name,""),ze(2),Ns("Type : ",n.digitalTwin.machine.name,""),ze(10),Ve("ngForOf",n.sensors),ze(1),Ve("data",n.chartData))},directives:[Sl,Ku,oV,Sy,kV,Jd,VS,Wle],styles:[".overview[_ngcontent-%COMP%]{margin:10px}.overview[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px}.sensor-dropdown[_ngcontent-%COMP%]{width:50%;margin-bottom:0}.image-details[_ngcontent-%COMP%]{width:40%;margin:20px auto}.sensor-overview[_ngcontent-%COMP%]{margin-bottom:0;padding-bottom:0}"]}),i})();const Xle=[[["caption"]],[["colgroup"],["col"]]],$le=["caption","colgroup, col"];function JS(i){return class extends i{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=lt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const ah=new Me("CDK_TABLE");let oh=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(F(xn))},i.\u0275dir=ge({type:i,selectors:[["","cdkCellDef",""]]}),i})(),lh=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(F(xn))},i.\u0275dir=ge({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),Iy=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(F(xn))},i.\u0275dir=ge({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class Qle{}const Jle=JS(Qle);let Eo=(()=>{class i extends Jle{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=lt(e),this._hasStickyChanged=n!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(F(ah,8))},i.\u0275dir=ge({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,s){if(1&e&&(ii(s,oh,5),ii(s,lh,5),ii(s,Iy,5)),2&e){let r;Ze(r=Ke())&&(n.cell=r.first),Ze(r=Ke())&&(n.headerCell=r.first),Ze(r=Ke())&&(n.footerCell=r.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[mt([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),xe]}),i})();class eD{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let tD=(()=>{class i extends eD{constructor(e,n){super(e,n)}}return i.\u0275fac=function(e){return new(e||i)(F(Eo),F(je))},i.\u0275dir=ge({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[xe]}),i})(),iD=(()=>{class i extends eD{constructor(e,n){var s;if(super(e,n),1===(null===(s=e._table)||void 0===s?void 0:s._elementRef.nativeElement.nodeType)){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(F(Eo),F(je))},i.\u0275dir=ge({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[xe]}),i})();class $V{constructor(){this.tasks=[],this.endTasks=[]}}const nD=new Me("_COALESCED_STYLE_SCHEDULER");let qV=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Ge}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new $V,this._getScheduleObservable().pipe(Lt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new $V;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?S(Promise.resolve(void 0)):this._ngZone.onStable.pipe(T(1))}}return i.\u0275fac=function(e){return new(e||i)(me(At))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),sD=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof jp?e.headerCell.template:this instanceof Yp?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(F(xn),F(Bs))},i.\u0275dir=ge({type:i,features:[Bi]}),i})();class ece extends sD{}const tce=JS(ece);let jp=(()=>{class i extends tce{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(F(xn),F(Bs),F(ah,8))},i.\u0275dir=ge({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[xe,Bi]}),i})();class ice extends sD{}const nce=JS(ice);let Yp=(()=>{class i extends nce{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(F(xn),F(Bs),F(ah,8))},i.\u0275dir=ge({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[xe,Bi]}),i})(),Py=(()=>{class i extends sD{constructor(e,n,s){super(e,n),this._table=s}}return i.\u0275fac=function(e){return new(e||i)(F(xn),F(Bs),F(ah,8))},i.\u0275dir=ge({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[xe]}),i})(),To=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(F(an))},i.\u0275dir=ge({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),rD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&ds(0,0)},directives:[To],encapsulation:2}),i})(),oD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&ds(0,0)},directives:[To],encapsulation:2}),i})(),Ly=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(F(xn))},i.\u0275dir=ge({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const ZV=["top","bottom","left","right"];class sce{constructor(t,e,n,s,r=!0,a=!0,c){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=s,this._isBrowser=r,this._needsPositionStickyOnElement=a,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){n.push(s);for(let r=0;r<s.children.length;r++)n.push(s.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(const s of n)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,n,s=!0){if(!t.length||!this._isBrowser||!e.some(b=>b)&&!n.some(b=>b))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=t[0],a=r.children.length,c=this._getCellWidths(r,s),d=this._getStickyStartColumnPositions(c,e),h=this._getStickyEndColumnPositions(c,n),g=e.lastIndexOf(!0),v=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const b="rtl"===this.direction,C=b?"right":"left",D=b?"left":"right";for(const A of t)for(let E=0;E<a;E++){const I=A.children[E];e[E]&&this._addStickyStyle(I,C,d[E],E===g),n[E]&&this._addStickyStyle(I,D,h[E],E===v)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===g?[]:c.slice(0,g+1).map((A,E)=>e[E]?A:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===v?[]:c.slice(v).map((A,E)=>n[E+v]?A:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const s="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,a=[],c=[],d=[];for(let g=0,v=0;g<s.length;g++){if(!r[g])continue;a[g]=v;const b=s[g];d[g]=this._isNativeHtmlTable?Array.from(b.children):[b];const C=b.getBoundingClientRect().height;v+=C,c[g]=C}const h=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var g,v;for(let b=0;b<s.length;b++){if(!r[b])continue;const C=a[b],D=b===h;for(const A of d[b])this._addStickyStyle(A,n,C,D)}"top"===n?null===(g=this._positionListener)||void 0===g||g.stickyHeaderRowsUpdated({sizes:c,offsets:a,elements:d}):null===(v=this._positionListener)||void 0===v||v.stickyFooterRowsUpdated({sizes:c,offsets:a,elements:d})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);ZV.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const s of ZV)t.style[s]&&(n+=e[s]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],s=t.children;for(let r=0;r<s.length;r++)n.push(s[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let s=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=s,s+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let s=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=s,s+=t[r]);return n}}const lD=new Me("CDK_SPL");let Oy=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(je))},i.\u0275dir=ge({type:i,selectors:[["","rowOutlet",""]]}),i})(),Fy=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(je))},i.\u0275dir=ge({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),Ny=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(je))},i.\u0275dir=ge({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),By=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(F(an),F(je))},i.\u0275dir=ge({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),Vy=(()=>{class i{constructor(e,n,s,r,a,c,d,h,g,v,b,C){this._differs=e,this._changeDetectorRef=n,this._elementRef=s,this._dir=a,this._platform=d,this._viewRepeater=h,this._coalescedStyleScheduler=g,this._viewportRuler=v,this._stickyPositioningListener=b,this._ngZone=C,this._onDestroy=new Ge,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new ft,this.viewChange=new Es({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=c,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=lt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=lt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(Lt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ty(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(s,r,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{n.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&At.isInAngularZone()?this._ngZone.onStable.pipe(T(1),Lt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const r=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const r=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,a)=>{this._addStickyColumnStyles([r],this._headerRowDefs[a])}),this._rowDefs.forEach(r=>{const a=[];for(let c=0;c<n.length;c++)this._renderRows[c].rowDef===r&&a.push(n[c]);this._addStickyColumnStyles(a,r)}),s.forEach((r,a)=>{this._addStickyColumnStyles([r],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let r=this._data[s];const a=this._getRenderRowsForData(r,s,n.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let c=0;c<a.length;c++){let d=a[c];const h=this._cachedRenderRowsMap.get(d.data);h.has(d.rowDef)?h.get(d.rowDef).push(d):h.set(d.rowDef,[d]),e.push(d)}}return e}_getRenderRowsForData(e,n,s){return this._getRowDefs(e,n).map(a=>{const c=s&&s.has(a)?s.get(a):[];if(c.length){const d=c.shift();return d.dataIndex=n,d}return{data:e,rowDef:a,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Hy(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=Hy(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Hy(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Hy(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,c)=>a||!!c.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),n||s||r}_switchDataSource(e){this._data=[],Ty(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ty(this.dataSource)?e=this.dataSource.connect(this):function QS(i){return!!i&&(i instanceof Jt||mi(i.lift)&&mi(i.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Pt(this.dataSource)),this._renderChangeSubscription=e.pipe(Lt(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const s=Array.from(n.columns||[]).map(c=>this._columnDefsByName.get(c)),r=s.map(c=>c.sticky),a=s.map(c=>c.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let s=0;s<e.viewContainer.length;s++){const r=e.viewContainer.get(s);n.push(r.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(r=>!r.when||r.when(n,e));else{let r=this._rowDefs.find(a=>a.when&&a.when(n,e))||this._defaultRowDef;r&&s.push(r)}return s}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,s,r={}){const a=e.viewContainer.createEmbeddedView(n.template,r,s);return this._renderCellTemplateForItem(n,r),a}_renderCellTemplateForItem(e,n){for(let s of this._getCellTemplates(e))To.mostRecentCellOutlet&&To.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,s=e.length;n<s;n++){const a=e.get(n).context;a.count=s,a.first=0===n,a.last=n===s-1,a.even=n%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[n].dataIndex,a.renderIndex=n):a.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const s=this._columnDefsByName.get(n);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of n){const r=this._document.createElement(s.tag);r.setAttribute("role","rowgroup");for(const a of s.outlets)r.appendChild(a.elementRef.nativeElement);e.appendChild(r)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,s)=>n||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new sce(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Pt()).pipe(Lt(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(n){const r=s.createEmbeddedView(e.templateRef),a=r.rootNodes[0];1===r.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else s.clear();this._isShowingNoDataRow=n}}return i.\u0275fac=function(e){return new(e||i)(F(Bs),F(Pi),F(je),cs("role"),F(rs,8),F(Bt),F(Sn),F(Up),F(nD),F(ca),F(lD,12),F(At,8))},i.\u0275cmp=kt({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,s){if(1&e&&(ii(s,Ly,5),ii(s,Eo,5),ii(s,Py,5),ii(s,jp,5),ii(s,Yp,5)),2&e){let r;Ze(r=Ke())&&(n._noDataRow=r.first),Ze(r=Ke())&&(n._contentColumnDefs=r),Ze(r=Ke())&&(n._contentRowDefs=r),Ze(r=Ke())&&(n._contentHeaderRowDefs=r),Ze(r=Ke())&&(n._contentFooterRowDefs=r)}},viewQuery:function(e,n){if(1&e&&(li(Oy,7),li(Fy,7),li(Ny,7),li(By,7)),2&e){let s;Ze(s=Ke())&&(n._rowOutlet=s.first),Ze(s=Ke())&&(n._headerRowOutlet=s.first),Ze(s=Ke())&&(n._footerRowOutlet=s.first),Ze(s=Ke())&&(n._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[mt([{provide:ah,useExisting:i},{provide:Up,useClass:MV},{provide:nD,useClass:qV},{provide:lD,useValue:null}])],ngContentSelectors:$le,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(en(Xle),oi(0),oi(1,1),ds(2,0),ds(3,1),ds(4,2),ds(5,3))},directives:[Fy,Oy,By,Ny],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function Hy(i,t){return i.concat(Array.from(t))}let ace=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[YS]]}),i})();const oce=[[["caption"]],[["colgroup"],["col"]]],lce=["caption","colgroup, col"];let QV=(()=>{class i extends Vy{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("mat-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[mt([{provide:Up,useClass:MV},{provide:Vy,useExisting:i},{provide:ah,useExisting:i},{provide:nD,useClass:qV},{provide:lD,useValue:null}]),xe],ngContentSelectors:lce,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(en(oce),oi(0),oi(1,1),ds(2,0),ds(3,1),ds(4,2),ds(5,3))},directives:[Fy,Oy,By,Ny],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})(),cD=(()=>{class i extends oh{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","matCellDef",""]],features:[mt([{provide:oh,useExisting:i}]),xe]}),i})(),dD=(()=>{class i extends lh{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","matHeaderCellDef",""]],features:[mt([{provide:lh,useExisting:i}]),xe]}),i})(),uD=(()=>{class i extends Eo{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[mt([{provide:Eo,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),xe]}),i})(),hD=(()=>{class i extends tD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[xe]}),i})(),fD=(()=>{class i extends iD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[xe]}),i})(),JV=(()=>{class i extends jp{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[mt([{provide:jp,useExisting:i}]),xe]}),i})(),eH=(()=>{class i extends Py{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[mt([{provide:Py,useExisting:i}]),xe]}),i})(),tH=(()=>{class i extends rD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[mt([{provide:rD,useExisting:i}]),xe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&ds(0,0)},directives:[To],encapsulation:2}),i})(),iH=(()=>{class i extends oD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[mt([{provide:oD,useExisting:i}]),xe],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&ds(0,0)},directives:[To],encapsulation:2}),i})(),nH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[ace,yt],yt]}),i})();function yce(i,t){1&i&&(ue(0,"th",13),Rt(1," Name "),he())}function bce(i,t){if(1&i&&(ue(0,"td",14),Rt(1),he()),2&i){const e=t.$implicit;ze(1),Ns(" ",e.name," ")}}function xce(i,t){1&i&&(ue(0,"th",13),Rt(1," Value "),he())}function wce(i,t){if(1&i&&(ue(0,"td",14),Rt(1),he()),2&i){const e=t.$implicit;ze(1),Ns(" ",e.value," ")}}function Cce(i,t){1&i&&_t(0,"tr",15)}function Mce(i,t){1&i&&_t(0,"tr",16)}function Sce(i,t){if(1&i&&(ue(0,"table",6),$o(1,7),Dt(2,yce,2,0,"th",8),Dt(3,bce,2,1,"td",9),qo(),$o(4,10),Dt(5,xce,2,0,"th",8),Dt(6,wce,2,1,"td",9),qo(),Dt(7,Cce,1,0,"tr",11),Dt(8,Mce,1,0,"tr",12),he()),2&i){const e=ai();Ve("dataSource",e.trainData),ze(7),Ve("matHeaderRowDef",e.displayedColumns),ze(1),Ve("matRowDefColumns",e.displayedColumns)}}function Dce(i,t){if(1&i&&(ue(0,"span"),Rt(1),_0(2,"date"),he()),2&i){const e=ai();ze(1),Ns(" Last Updated : ",function Ok(i,t,e,n){const s=i+20,r=He(),a=cd(r,s);return pf(r,s)?kk(r,Cs(),t,a.transform,e,n,a):a.transform(e,n)}(2,1,e.lastUpdatedTime,"dd/MM/yyyy hh:mm a"),"\n")}}function Ace(i,t){if(1&i){const e=ya();ue(0,"button",17),Mt("click",function(){return $s(e),ai().train()}),Rt(1,"Train"),he()}2&i&&Ve("disabled",!ai().isLatestData)}let Ece=(()=>{class i{constructor(e){this.alertService=e,this.trainData=[],this.isLatestData=!1,this.lastUpdatedTime=null,this.displayedColumns=["name","value"]}ngOnInit(){console.log(this.digitalTwin)}train(){this.alertService.info("Please wait, computation in progress...",3,!0)}getLatestData(){this.trainData=[],this.isLatestData=!0,this.lastUpdatedTime=new Date(Date.now())}}return i.\u0275fac=function(e){return new(e||i)(F(OM))},i.\u0275cmp=kt({type:i,selectors:[["app-predict"]],inputs:{digitalTwin:"digitalTwin"},decls:7,vars:3,consts:[["div","","fxLayout","column","fxLayoutAlign","space-around start","fxLayoutGap","20px",1,"content"],["mat-button","",1,"button-basic",3,"click"],[1,"table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-button","","class","button-basic",3,"disabled","click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","","class","table-header",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"table-header"],["mat-row",""],["mat-button","",1,"button-basic",3,"disabled","click"]],template:function(e,n){1&e&&(ue(0,"div",0),ue(1,"button",1),Mt("click",function(){return n.getLatestData()}),Rt(2,"Get Latest Data"),he(),ue(3,"div",2),Dt(4,Sce,9,3,"table",3),he(),Dt(5,Dce,3,4,"span",4),Dt(6,Ace,2,1,"button",5),he()),2&e&&(ze(4),Ve("ngIf",n.isLatestData),ze(1),Ve("ngIf",n.isLatestData),ze(1),Ve("ngIf",n.isLatestData))},directives:[Sl,Ku,qv,Ry,Hs,QV,uD,dD,hD,cD,fD,JV,tH,eH,iH],pipes:[QR],styles:[".content[_ngcontent-%COMP%]{margin:20px 10px}.table-container[_ngcontent-%COMP%]{margin-top:10px;max-height:calc(100vh - 300px);overflow:auto;width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}th.mat-header-cell.cdk-header-cell[_ngcontent-%COMP%]{font-size:20px}"]}),i})(),Tce=(()=>{class i{constructor(e,n){this.httpService=e,this.router=n}ngOnInit(){}delete(){this.httpService.deletDigitalTwin(this.digitalTwin._id).subscribe(e=>{localStorage.removeItem(this.digitalTwin._id),this.router.navigateByUrl("digital-twin")})}}return i.\u0275fac=function(e){return new(e||i)(F(Dp),F(es))},i.\u0275cmp=kt({type:i,selectors:[["app-twin-setting"]],inputs:{digitalTwin:"digitalTwin"},decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"delete"],["mat-raised-button","",1,"button-basic",3,"click"]],template:function(e,n){1&e&&(ue(0,"div",0),ue(1,"button",1),Mt("click",function(){return n.delete()}),Rt(2,"Delete"),he(),he())},directives:[Sl,Ku,Ry],styles:[".delete[_ngcontent-%COMP%]{width:100%;margin-top:50px}"]}),i})();const kce=["container"];let Rce=(()=>{class i{constructor(e,n){this.scene=e,this.route=n,this.digitalTwinId="",this.digitalTwin=null,this.route.params.subscribe(s=>{this.digitalTwinId=s.id}),this.digitalTwin=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))))}ngOnInit(){console.log(this.digitalTwin)}set container(e){const n=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))));console.log(n),this.scene.initialize(e.nativeElement,n.machine)}}return i.\u0275fac=function(e){return new(e||i)(F(SM),F(Jo))},i.\u0275cmp=kt({type:i,selectors:[["app-digital-twin-overview"]],viewQuery:function(e,n){if(1&e&&li(kce,5),2&e){let s;Ze(s=Ke())&&(n.container=s.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","50",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","49",1,"right-content"],["animationDuration","1000ms"],["label","Overview"],[3,"digitalTwin"],["label","Predict"],["label","Setting"]],template:function(e,n){1&e&&(ue(0,"div",0),ue(1,"div",1),_t(2,"div",2,3),ue(4,"div",4),_t(5,"div",5),_t(6,"div",6),he(),he(),ue(7,"div",7),ue(8,"mat-tab-group",8),ue(9,"mat-tab",9),_t(10,"app-overview",10),he(),ue(11,"mat-tab",11),_t(12,"app-predict",10),he(),ue(13,"mat-tab",12),_t(14,"app-twin-setting",10),he(),he(),he(),he()),2&e&&(ze(10),Ve("digitalTwin",n.digitalTwin),ze(2),Ve("digitalTwin",n.digitalTwin),ze(2),Ve("digitalTwin",n.digitalTwin))},directives:[Sl,Ku,Rp,Vle,BV,Yle,Ece,Tce],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.loading-screen[_ngcontent-%COMP%]{width:50%}.right-content[_ngcontent-%COMP%]{background-color:#fff;height:100%}"]}),i})();function Ice(i,t){if(1&i){const e=ya();ue(0,"div",7),ue(1,"mat-card",8),Mt("click",function(){const r=$s(e).$implicit;return ai().navigateTo(r)}),ue(2,"mat-card-header"),ue(3,"mat-card-title"),Rt(4),he(),he(),_t(5,"img",9),he(),he()}if(2&i){const e=t.$implicit;Ve("fxFlex","14%"),ze(4),Fs(e.name),ze(1),Ve("src",e.machine.imageUrl,Cd)}}function Pce(i,t){1&i&&(ue(0,"div",10),ue(1,"h2"),Rt(2,"No Data"),he(),he())}let Lce=(()=>{class i{constructor(e,n){this.router=e,this.httpService=n,this.digitalTwin=[],this.filteredList=[]}ngOnInit(){this.httpService.getDigitalTwins().subscribe(e=>{e.data.map(n=>{n.machine.modelPosition=this.convertToVector(n.machine.modelPosition),n.machine.modelScale=this.convertToVector(n.machine.modelScale),this.digitalTwin.push(n)}),this.filteredList=this.digitalTwin})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/digital-twin/${e._id}`,{state:e})}search(e){const n=e.target.value;this.filteredList=this.digitalTwin.filter(s=>{if(s.name.toLowerCase().includes(n))return s})}convertToVector(e){return new $(e[0],e[1],e[2])}}return i.\u0275fac=function(e){return new(e||i)(F(es),F(Dp))},i.\u0275cmp=kt({type:i,selectors:[["app-digital-twin"]],decls:8,vars:2,consts:[[1,"container"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Digital Twin...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid",1,"content"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,n){1&e&&(ue(0,"section",0),ue(1,"form",1),ue(2,"input",2),Mt("keyup",function(r){return n.search(r)}),he(),ue(3,"a"),_t(4,"img",3),he(),he(),ue(5,"div",4),Dt(6,Ice,6,3,"div",5),he(),Dt(7,Pce,3,0,"div",6),he()),2&e&&(ze(6),Ve("ngForOf",n.filteredList),ze(1),Ve("ngIf",0==n.filteredList.length))},directives:[v_,c_,nl,Sl,qv,Jd,Rp,tV,iV,eV,zS,Hs],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{width:99%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.card-image[_ngcontent-%COMP%]{height:285px}"]}),i})();function Fce(i,t){if(1&i){const e=ya();ue(0,"div",7),ue(1,"mat-card",8),Mt("click",function(){const r=$s(e).$implicit;return ai().navigateTo(r)}),ue(2,"mat-card-header"),ue(3,"mat-card-title"),Rt(4),he(),he(),_t(5,"img",9),he(),he()}if(2&i){const e=t.$implicit;Ve("fxFlex","25%"),ze(4),Fs(e.name),ze(1),Ve("src",e.imageUrl,Cd)}}function Nce(i,t){1&i&&(ue(0,"div",10),ue(1,"h2"),Rt(2," No Data"),he(),he())}const Bce=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["app-home"]],decls:16,vars:0,consts:[["width","380px","height","500px","viewBox","0 0 837 1045","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z","id","Polygon-1","stroke","#007FB2","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z","id","Polygon-2","stroke","#EF4A5B","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z","id","Polygon-3","stroke","#795D9C","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z","id","Polygon-4","stroke","#F2773F","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z","id","Polygon-5","stroke","#36B455","stroke-width","6",0,"sketch","type","MSShapeGroup"],[1,"message-box"],[1,"buttons-con"],[1,"action-link-wrap"],["routerLink","/create",1,"link-button","link-back-button"],["routerLink","/about",1,"link-button"]],template:function(e,n){1&e&&(ud(),ue(0,"svg",0),ue(1,"g",1),_t(2,"path",2),_t(3,"path",3),_t(4,"path",4),_t(5,"path",5),_t(6,"path",6),he(),he(),function Bb(){!function kz(){Kt.lFrame.currentNamespace=null}()}(),ue(7,"div",7),ue(8,"h1"),Rt(9,"Data twin"),he(),ue(10,"div",8),ue(11,"div",9),ue(12,"a",10),Rt(13,"Get Started"),he(),ue(14,"a",11),Rt(15,"Learn more about it"),he(),he(),he(),he())},directives:[a_],styles:["[_nghost-%COMP%]{background-color:#5a5c6c}svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-400px}.message-box[_ngcontent-%COMP%]{height:200px;width:380px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:50px;color:#fff;font-family:Roboto;font-weight:300}.message-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:46px;margin-bottom:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]{margin-top:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#68c950;padding:8px 25px;border-radius:4px;color:#fff;font-weight:700;font-size:14px;transition:all .3s linear;cursor:pointer;text-decoration:none;margin-right:10px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#5A5C6C;color:#fff}#Polygon-1[_ngcontent-%COMP%], #Polygon-2[_ngcontent-%COMP%], #Polygon-3[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-5[_ngcontent-%COMP%]{animation:float 1s infinite ease-in-out alternate}#Polygon-2[_ngcontent-%COMP%]{animation-delay:.2s}#Polygon-3[_ngcontent-%COMP%]{animation-delay:.4s}#Polygon-4[_ngcontent-%COMP%]{animation-delay:.6s}#Polygon-5[_ngcontent-%COMP%]{animation-delay:.8s}@keyframes float{to{transform:translateY(20px)}}@media (max-width: 450px){svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-190px}.message-box[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-100px;margin-left:-190px;text-align:center}}"]}),i})()},{path:"create",component:(()=>{class i{constructor(e,n){this.router=e,this.httpService=n,this.machineList=[],this.filteredList=[]}ngOnInit(){this.machineList=[],this.httpService.getMachines().subscribe(e=>{e.data.map(n=>{n.modelPosition=this.convertToVector(n.modelPosition),n.modelScale=this.convertToVector(n.modelScale),this.machineList.push(n)}),this.filteredList=this.machineList,console.log(this.machineList)})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/create/${e._id}`)}search(e){const n=e.target.value;this.filteredList=this.machineList.filter(s=>{if(s.name.toLowerCase().includes(n))return s})}convertToVector(e){return new $(e[0],e[1],e[2])}}return i.\u0275fac=function(e){return new(e||i)(F(es),F(Dp))},i.\u0275cmp=kt({type:i,selectors:[["app-machine-selection"]],decls:8,vars:2,consts:[[1,"machine-select"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Machine...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,n){1&e&&(ue(0,"section",0),ue(1,"form",1),ue(2,"input",2),Mt("keyup",function(r){return n.search(r)}),he(),ue(3,"a"),_t(4,"img",3),he(),he(),ue(5,"div",4),Dt(6,Fce,6,3,"div",5),he(),Dt(7,Nce,3,0,"div",6),he()),2&e&&(ze(6),Ve("ngForOf",n.filteredList),ze(1),Ve("ngIf",0==n.filteredList.length))},directives:[v_,c_,nl,Sl,qv,Jd,Rp,tV,iV,eV,zS,Hs],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:75px;height:75px;top:-80px;right:-45px}.card-image[_ngcontent-%COMP%]{height:285px}"]}),i})()},{path:"about",component:Sq},{path:"create/:id",component:nle},{path:"digital-twin",component:Lce},{path:"digital-twin/:id",component:Rce}];let Vce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[xP.forRoot(Bce)],xP]}),i})(),sH=(()=>{class i{constructor(){this.isLoading=new Ge}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Hce(i,t){if(1&i&&(ud(),_t(0,"circle",4)),2&i){const e=ai(),n=_r(1);vr("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(n)),Yt("r",e._getCircleRadius())}}function zce(i,t){if(1&i&&(ud(),_t(0,"circle",4)),2&i){const e=ai(),n=_r(1);vr("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(n)),Yt("r",e._getCircleRadius())}}const Uce=Do(class{constructor(i){this._elementRef=i}},"primary"),Wce=new Me("mat-progress-spinner-default-options",{providedIn:"root",factory:function jce(){return{diameter:100}}});class ko extends Uce{constructor(t,e,n,s,r,a,c,d){super(t),this._document=n,this._diameter=100,this._value=0,this._resizeSubscription=Ie.EMPTY,this.mode="determinate";const h=ko._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),h.has(n.head)||h.set(n.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!r&&!r._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth)),e.isBrowser&&e.SAFARI&&c&&a&&d&&(this._resizeSubscription=c.change(150).subscribe(()=>{"indeterminate"===this.mode&&d.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=as(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=as(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,as(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=_y(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const n=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${n}% ${n}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,n=ko._diameters;let s=n.get(t);if(!s||!s.has(e)){const r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),t.appendChild(r),s||(s=new Set,n.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ko._diameters=new WeakMap,ko.\u0275fac=function(t){return new(t||ko)(F(je),F(Sn),F(Bt,8),F(Nn,8),F(Wce),F(Pi),F(ca),F(At))},ko.\u0275cmp=kt({type:ko,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Yt("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),vr("width",e.diameter,"px")("height",e.diameter,"px"),Qt("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[xe],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(ud(),ue(0,"svg",0,1),Dt(2,Hce,1,11,"circle",2),Dt(3,zce,1,9,"circle",3),he()),2&t&&(vr("width",e.diameter,"px")("height",e.diameter,"px"),Ve("ngSwitch","indeterminate"===e.mode),Yt("viewBox",e._getViewBox()),ze(2),Ve("ngSwitchCase",!0),ze(1),Ve("ngSwitchCase",!1))},directives:[eu,Im],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let rH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt,In],yt]}),i})();function Xce(i,t){1&i&&(ue(0,"div",1),_t(1,"mat-progress-spinner",2),he())}let $ce=(()=>{class i{constructor(e){this.loaderService=e,this.isLoading=this.loaderService.isLoading}}return i.\u0275fac=function(e){return new(e||i)(F(sH))},i.\u0275cmp=kt({type:i,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner"]],template:function(e,n){1&e&&(Dt(0,Xce,2,0,"div",0),_0(1,"async")),2&e&&Ve("ngIf",function Lk(i,t,e){const n=i+20,s=He(),r=cd(s,n);return pf(s,n)?Tk(s,Cs(),t,r.transform,e,r):r.transform(e)}(1,1,n.isLoading))},directives:[Hs,ko],pipes:[KR],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),i})(),ede=(()=>{class i extends dn{constructor(e,n,s,r,a,c,d){super(e,null,n,s),this.ngClassInstance=d,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Qd(r,a,e,c)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Ki),F(sn),F(Bs),F(Ko),F(Xr),F(Qd,10))},i.\u0275dir=ge({type:i,inputs:{klass:["class","klass"]},features:[xe]}),i})();const tde=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let aH=(()=>{class i extends ede{constructor(){super(...arguments),this.inputs=tde}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275dir=ge({type:i,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[xe]}),i})(),hH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[NM]]}),i})();const hde=function(i,t,e,n){return{alert:i,"alert-success":t,"alert-danger":e,"alert-info":n}};function fde(i,t){if(1&i&&(ue(0,"div",1),Rt(1),he()),2&i){const e=ai();Ve("@simpleFadeAnimation","in")("ngClass",Ek(3,hde,e.message,"success"===e.message.type,"error"===e.message.type,"info"==e.message.type)),ze(1),Fs(e.message.text)}}let pde=(()=>{class i{constructor(e){this.alertService=e,this.subscription=new Ie}ngOnInit(){this.subscription=this.alertService.getMessage().subscribe(e=>{this.message=e,console.log(e)})}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(F(OM))},i.\u0275cmp=kt({type:i,selectors:[["app-alert"]],decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,n){1&e&&Dt(0,fde,2,8,"div",0),2&e&&Ve("ngIf",n.message)},directives:[Hs,Qd,aH],styles:[".alert[_ngcontent-%COMP%]{position:absolute;min-height:40px;text-align:center;right:5%;z-index:500000;top:5%;border-radius:20px;align-items:center;display:flex;justify-content:center;color:#fff;font-size:16px!important;width:-moz-fit-content;width:fit-content;padding:5px 24px;max-width:300px}.alert-success[_ngcontent-%COMP%]{background:#00C851}.alert-danger[_ngcontent-%COMP%]{background:#ff4444}.alert-info[_ngcontent-%COMP%]{background:#33b5e5}@media only screen and (max-width: 750px){.alert[_ngcontent-%COMP%]{top:10%;width:50%}}"],data:{animation:[un("simpleFadeAnimation",[ci("in",gt({opacity:1})),yi(":enter",[gt({opacity:0}),Mi(600)]),yi(":leave",Mi(300,gt({opacity:0})))])]}}),i})();function mD(i){return jt(()=>i)}const fH=["*"],gde=["content"];function mde(i,t){if(1&i){const e=ya();ue(0,"div",2),Mt("click",function(){return $s(e),ai()._onBackdropClicked()}),he()}2&i&&Qt("mat-drawer-shown",ai()._isShowingBackdrop())}function _de(i,t){1&i&&(ue(0,"mat-drawer-content"),oi(1,2),he())}const vde=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],yde=["mat-drawer","mat-drawer-content","*"],bde={transformDrawer:un("transform",[ci("open, open-instant",gt({transform:"none",visibility:"visible"})),ci("void",gt({"box-shadow":"none",visibility:"hidden"})),yi("void => open-instant",Mi("0ms")),yi("void <=> open, open-instant => void",Mi("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},xde=new Me("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function wde(){return!1}}),pH=new Me("MAT_DRAWER_CONTAINER");let _D=(()=>{class i extends jS{constructor(e,n,s,r,a){super(s,r,a),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(F(Pi),F(x(()=>mH)),F(je),F(WS),F(At))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&vr("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[mt([{provide:jS,useExisting:i}]),xe],ngContentSelectors:fH,decls:1,vars:0,template:function(e,n){1&e&&(en(),oi(0))},encapsulation:2,changeDetection:0}),i})(),gH=(()=>{class i{constructor(e,n,s,r,a,c,d,h){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=s,this._platform=r,this._ngZone=a,this._interactivityChecker=c,this._doc=d,this._container=h,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Ge,this._animationEnd=new Ge,this._animationState="void",this.openedChange=new ft(!0),this._openedStream=this.openedChange.pipe(tn(g=>g),jt(()=>{})),this.openedStart=this._animationStarted.pipe(tn(g=>g.fromState!==g.toState&&0===g.toState.indexOf("open")),mD(void 0)),this._closedStream=this.openedChange.pipe(tn(g=>!g),jt(()=>{})),this.closedStart=this._animationStarted.pipe(tn(g=>g.fromState!==g.toState&&"void"===g.toState),mD(void 0)),this._destroyed=new Ge,this.onPositionChanged=new ft,this._modeChanged=new Ge,this.openedChange.subscribe(g=>{g?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Pr(this._elementRef.nativeElement,"keydown").pipe(tn(g=>27===g.keyCode&&!this.disableClose&&!Ps(g)),Lt(this._destroyed)).subscribe(g=>this._ngZone.run(()=>{this.close(),g.stopPropagation(),g.preventDefault()}))}),this._animationEnd.pipe(yy((g,v)=>g.fromState===v.fromState&&g.toState===v.toState)).subscribe(g=>{const{fromState:v,toState:b}=g;(0===b.indexOf("open")&&"void"===v||"void"===b&&0===v.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=lt(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=lt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(lt(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,n,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(T(1)).subscribe(a=>r(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,s=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,n)),s.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Bre),F(Mo),F(Sn),F(At),F(LB),F(Bt,8),F(pH,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&li(gde,5),2&e){let s;Ze(s=Ke())&&(n._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&n0("@transform.start",function(r){return n._animationStarted.next(r)})("@transform.done",function(r){return n._animationEnd.next(r)}),2&e&&(Yt("align",null),o0("@transform",n._animationState),Qt("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:fH,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(en(),ue(0,"div",0,1),oi(2),he())},directives:[jS],encapsulation:2,data:{animation:[bde.transformDrawer]},changeDetection:0}),i})(),mH=(()=>{class i{constructor(e,n,s,r,a,c=!1,d){this._dir=e,this._element=n,this._ngZone=s,this._changeDetectorRef=r,this._animationMode=d,this._drawers=new Yl,this.backdropClick=new ft,this._destroyed=new Ge,this._doCheckSubject=new Ge,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Ge,e&&e.change.pipe(Lt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(Lt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=lt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:lt(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(zs(this._allDrawers),Lt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(zs(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(DS(10),Lt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,n-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();n+=s,e-=s}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(tn(n=>n.fromState!==n.toState),Lt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Lt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Lt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(T(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Lt(M(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?n.add(s):n.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(F(rs,8),F(je),F(At),F(Pi),F(ca),F(xde),F(Nn,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,s){if(1&e&&(ii(s,_D,5),ii(s,gH,5)),2&e){let r;Ze(r=Ke())&&(n._content=r.first),Ze(r=Ke())&&(n._allDrawers=r)}},viewQuery:function(e,n){if(1&e&&li(_D,5),2&e){let s;Ze(s=Ke())&&(n._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&Qt("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[mt([{provide:pH,useExisting:i}])],ngContentSelectors:yde,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(en(vde),Dt(0,mde,1,2,"div",0),oi(1),oi(2,1),Dt(3,_de,2,0,"mat-drawer-content",1)),2&e&&(Ve("ngIf",n.hasBackdrop),ze(3),Ve("ngIf",!n._content))},directives:[_D,Hs],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),i})(),vD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt,Oa],Oa,yt]}),i})();const Mde=["*"];let zy;function Xp(i){var t;return(null===(t=function Sde(){if(void 0===zy&&(zy=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(zy=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return zy}())||void 0===t?void 0:t.createHTML(i))||i}function _H(i){return Error(`Unable to find icon with the name "${i}"`)}function vH(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function yH(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class qc{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Gy=(()=>{class i{constructor(e,n,s,r){this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,n,s){return this.addSvgIconInNamespace("",e,n,s)}addSvgIconLiteral(e,n,s){return this.addSvgIconLiteralInNamespace("",e,n,s)}addSvgIconInNamespace(e,n,s,r){return this._addSvgIconConfig(e,n,new qc(s,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,s,r){const a=this._sanitizer.sanitize(Ti.HTML,s);if(!a)throw yH(s);const c=Xp(a);return this._addSvgIconConfig(e,n,new qc("",c,r))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,s){return this._addSvgIconSetConfig(e,new qc(n,null,s))}addSvgIconSetLiteralInNamespace(e,n,s){const r=this._sanitizer.sanitize(Ti.HTML,n);if(!r)throw yH(n);const a=Xp(r);return this._addSvgIconSetConfig(e,new qc("",a,s))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(Ti.RESOURCE_URL,e);if(!n)throw vH(e);const s=this._cachedIconsByUrl.get(n);return s?Pt(Uy(s)):this._loadSvgIconFromConfig(new qc(e,null)).pipe(jn(r=>this._cachedIconsByUrl.set(n,r)),jt(r=>Uy(r)))}getNamedSvgIcon(e,n=""){const s=bH(n,e);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,e),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):function Cde(i,t){const e=mi(i)?i:()=>i,n=s=>s.error(e());return new Jt(t?s=>t.schedule(n,0,s):n)}(_H(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Pt(Uy(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(jt(n=>Uy(n)))}_getSvgFromIconSetConfigs(e,n){const s=this._extractIconWithNameFromAnySet(e,n);return s?Pt(s):MP(n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(io(c=>{const h=`Loading icon set URL: ${this._sanitizer.sanitize(Ti.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(h)),Pt(null)})))).pipe(jt(()=>{const a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw _H(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(r),c=this._extractSvgIconFromSet(a,e,r.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(jn(n=>e.svgText=n),jt(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Pt(null):this._fetchIcon(e).pipe(jn(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,s){const r=e.querySelector(`[id="${n}"]`);if(!r)return null;const a=r.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const c=this._svgElementFromString(Xp("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const n=this._svgElementFromString(Xp("<svg></svg>")),s=e.attributes;for(let r=0;r<s.length;r++){const{name:a,value:c}=s[r];"id"!==a&&n.setAttribute(a,c)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){var n;const{url:s,options:r}=e,a=null!==(n=null==r?void 0:r.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw function Dde(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const c=this._sanitizer.sanitize(Ti.RESOURCE_URL,s);if(!c)throw vH(s);const d=this._inProgressUrlFetches.get(c);if(d)return d;const h=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe(jt(g=>Xp(g)),cw(()=>this._inProgressUrlFetches.delete(c)),R());return this._inProgressUrlFetches.set(c,h),h}_addSvgIconConfig(e,n,s){return this._svgIconConfigs.set(bH(e,n),s),this}_addSvgIconSetConfig(e,n){const s=this._iconSetConfigs.get(e);return s?s.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](n,e);if(r)return Ede(r)?new qc(r.url,null,r.options):new qc(r,null)}}}return i.\u0275fac=function(e){return new(e||i)(me(Wv,8),me(Vm),me(Bt,8),me($a))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Uy(i){return i.cloneNode(!0)}function bH(i,t){return i+":"+t}function Ede(i){return!(!i.url||!i.options)}const Tde=Do(class{constructor(i){this._elementRef=i}}),kde=new Me("mat-icon-location",{providedIn:"root",factory:function Rde(){const i=bd(Bt),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),xH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ide=xH.map(i=>`[${i}]`).join(", "),Pde=/^url\(['"]?#(.*?)['"]?\)$/;let Lde=(()=>{class i extends Tde{constructor(e,n,s,r,a){super(e),this._iconRegistry=n,this._location=r,this._errorHandler=a,this._inline=!1,this._currentIconFetch=Ie.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=lt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const s=e.childNodes[n];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),n&&e.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((s,r)=>{s.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Ide),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)xH.forEach(a=>{const c=n[r],d=c.getAttribute(a),h=d?d.match(Pde):null;if(h){let g=s.get(c);g||(g=[],s.set(c,g)),g.push({name:a,value:h[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,s]=this._splitIconName(e);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe(T(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${s}! ${r.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Gy),cs("aria-hidden"),F(kde),F($a))},i.\u0275cmp=kt({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,n){2&e&&(Yt("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),Qt("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[xe],ngContentSelectors:Mde,decls:1,vars:0,template:function(e,n){1&e&&(en(),oi(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),Wy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})(),yD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})();const wH=["*"],Fde=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Nde=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Gde=So(kr(class{})),Ude=kr(class{}),Wde=new Me("MatList"),CH=new Me("MatNavList");let jde=(()=>{class i extends Gde{constructor(){super(...arguments),this._stateChanges=new Ge}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=et(i)))(n||i)}}(),i.\u0275cmp=kt({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[mt([{provide:CH,useExisting:i}]),xe,Bi],ngContentSelectors:wH,decls:1,vars:0,template:function(e,n){1&e&&(en(),oi(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),MH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),bD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=ge({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})(),Yde=(()=>{class i extends Ude{constructor(e,n,s,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new Ge,this._disabled=!1,this._isInteractiveList=!!(s||r&&"action-list"===r._getListType()),this._list=s||r;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Lt(this._destroyed)).subscribe(()=>{n.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=lt(e)}ngAfterContentInit(){!function UB(i,t,e="mat"){i.changes.pipe(zs(i)).subscribe(({length:n})=>{Np(t,`${e}-2-line`,!1),Np(t,`${e}-3-line`,!1),Np(t,`${e}-multi-line`,!1),2===n||3===n?Np(t,`${e}-${n}-line`,!0):n>3&&Np(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(F(je),F(Pi),F(CH,8),F(Wde,8))},i.\u0275cmp=kt({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,n,s){if(1&e&&(ii(s,MH,5),ii(s,bD,5),ii(s,FS,5)),2&e){let r;Ze(r=Ke())&&(n._avatar=r.first),Ze(r=Ke())&&(n._icon=r.first),Ze(r=Ke())&&(n._lines=r)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,n){2&e&&Qt("mat-list-item-disabled",n.disabled)("mat-list-item-avatar",n._avatar||n._icon)("mat-list-item-with-avatar",n._avatar||n._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[xe],ngContentSelectors:Nde,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,n){1&e&&(en(Fde),ue(0,"span",0),_t(1,"span",1),oi(2),ue(3,"span",2),oi(4,1),he(),oi(5,2),he()),2&e&&(ze(1),Ve("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()))},directives:[Rr],encapsulation:2,changeDetection:0}),i})(),xD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Cy,Ir,yt,BS,In],Cy,yt,BS,yD]}),i})();function Qde(i,t){1&i&&(ue(0,"h4",10),Rt(1,"Home"),he())}function Jde(i,t){1&i&&(ue(0,"h4",10),Rt(1,"Select Machine"),he())}function eue(i,t){1&i&&(ue(0,"h4",10),Rt(1,"Your Digital Twin"),he())}const tue=function(){return{exact:!0}};let iue=(()=>{class i{constructor(){this.title="DigitalTwin",this.isExpanded=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=kt({type:i,selectors:[["app-root"]],decls:23,vars:8,consts:[["autosize","",1,"container","mat-typography"],["mode","side","disableClose","true","opened","true",1,"drawer"],["drawer",""],["mat-mini-fab","","color","warn",2,"margin","10px",3,"click"],["aria-label","Menu"],["routerLinkActive","nav-active",3,"routerLink","routerLinkActiveOptions"],["mat-list-icon","",1,"nav-icon"],["mat-line","","class","nav-text",4,"ngIf"],["routerLinkActive","nav-active",3,"routerLink"],[1,"sidenav-content"],["mat-line","",1,"nav-text"]],template:function(e,n){1&e&&(_t(0,"app-loader"),_t(1,"app-alert"),ue(2,"mat-drawer-container",0),ue(3,"mat-drawer",1,2),ue(5,"button",3),Mt("click",function(){return n.isExpanded=!n.isExpanded}),ue(6,"mat-icon",4),Rt(7,"menu"),he(),he(),ue(8,"mat-nav-list"),ue(9,"mat-list-item",5),ue(10,"mat-icon",6),Rt(11,"home"),he(),Dt(12,Qde,2,0,"h4",7),he(),ue(13,"mat-list-item",8),ue(14,"mat-icon",6),Rt(15,"build"),he(),Dt(16,Jde,2,0,"h4",7),he(),ue(17,"mat-list-item",8),ue(18,"mat-icon",6),Rt(19,"build"),he(),Dt(20,eue,2,0,"h4",7),he(),he(),he(),ue(21,"div",9),_t(22,"router-outlet"),he(),he()),2&e&&(ze(9),Ve("routerLink","")("routerLinkActiveOptions",function Dk(i,t,e){const n=Cs()+i,s=He();return s[n]===ti?va(s,n,e?t.call(e):t()):function tf(i,t){return i[t]}(s,n)}(7,tue)),ze(3),Ve("ngIf",n.isExpanded),ze(1),Ve("routerLink","create"),ze(3),Ve("ngIf",n.isExpanded),ze(1),Ve("routerLink","digital-twin"),ze(3),Ve("ngIf",n.isExpanded))},directives:[$ce,pde,mH,gH,Ry,Lde,jde,Yde,mP,r_,bD,Hs,FS,xw],styles:[".container[_ngcontent-%COMP%]{height:100vh;background:#5584AC}.container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{background:#22577E;color:#fff}.container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{padding-left:10px;height:100%}.nav-icon[_ngcontent-%COMP%], .nav-text[_ngcontent-%COMP%]{color:#fff}.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{background-color:#5584ac}"]}),i})(),PH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[NM]]}),i})(),Mhe=(()=>{class i{constructor(e,n){tu(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:i,providers:e.serverLoaded?[{provide:oa,useValue:Object.assign(Object.assign({},BM),e)},{provide:VM,useValue:n,multi:!0},{provide:qu,useValue:!0}]:[{provide:oa,useValue:Object.assign(Object.assign({},BM),e)},{provide:VM,useValue:n,multi:!0}]}}}return i.\u0275fac=function(e){return new(e||i)(me(qu),me(er))},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[SN,hH,PH],SN,hH,PH]}),i})();const khe={provide:new Me("mat-autocomplete-scroll-strategy"),deps:[Ao],useFactory:function The(i){return()=>i.scrollStrategies.reposition()}};let FH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[khe],imports:[[Xc,My,yt,In],Oa,My,yt]}),i})(),VH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),HH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Ir,yt,Fp,VH],yt,VH]}),i})(),efe=(()=>{class i{constructor(){this.changes=new Ge,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,n){return`${e} \u2013 ${n}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const nfe={provide:new Me("mat-datepicker-scroll-strategy"),deps:[Ao],useFactory:function ife(i){return()=>i.scrollStrategies.reposition()}};let WH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[efe,nfe],imports:[[In,$c,Xc,wy,jc,yt],Oa]}),i})(),$H=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Ir,yt],yt]}),i})(),KH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt],yt]}),i})(),QH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),JH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[QH,Ir,yt,Fp],QH,yt]}),i})();const Yfe={provide:new Me("mat-menu-scroll-strategy"),deps:[Ao],useFactory:function jfe(i){return()=>i.scrollStrategies.reposition()}};let t3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Yfe],imports:[[In,yt,Ir,Xc],Oa,yt]}),i})(),CD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt],yt]}),i})(),MD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),s3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt,MD,jc]]}),i})(),a3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Cy,yt],Cy,yt]}),i})(),qfe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Pc]]}),i})(),SD=(()=>{class i{constructor(){this.changes=new Ge,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ape={provide:SD,deps:[[new Gn,new Zs,SD]],useFactory:function rpe(i){return i||new SD}};let l3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[ape,sh],imports:[[yt,In,jc,$c,qfe,Wy,Ir],yt]}),i})(),upe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),c3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[upe,yt],yt]}),i})(),p3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[yt,Ir],yt]}),i})(),g3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[wy,yt],yt]}),i})();const y3=new Me("mat-chips-default-options");let b3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[sh,{provide:y3,useValue:{separatorKeyCodes:[13]}}],imports:[[yt]]}),i})(),x3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,yt],yt]}),i})(),w3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Xc,yt,jc],yt]}),i})(),C3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[Xc,jc,In,$c,yt],yt]}),i})();const Wpe={provide:new Me("mat-tooltip-scroll-strategy"),deps:[Ao],useFactory:function Upe(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let RD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Wpe],imports:[[wy,In,Xc,yt],yt,Oa]}),i})(),ID=(()=>{class i{constructor(){this.changes=new Ge,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,s)=>{if(0==s||0==n)return`0 of ${s}`;const r=e*n;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+n,s):r+n} of ${s}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Zpe={provide:ID,deps:[[new Gn,new Zs,ID]],useFactory:function qpe(i){return i||new ID}};let M3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Zpe],imports:[[In,$c,KS,RD,yt]]}),i})(),PD=(()=>{class i{constructor(){this.changes=new Ge}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Qpe={provide:PD,deps:[[new Gn,new Zs,PD]],useFactory:function Kpe(i){return i||new PD}};let S3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[Qpe],imports:[[In,yt]]}),i})();function LD(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const s=t[n];s?i.setProperty(n,s,(null==e?void 0:e.has(n))?"important":""):i.removeProperty(n)}return i}function dh(i,t){const e=t?"":"none";LD(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function D3(i,t,e){LD(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function Zy(i,t){return t&&"none"!=t?i+" "+t:i}function A3(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function OD(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function FD(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function ND(i,t,e){const{top:n,bottom:s,left:r,right:a}=i;return e>=n&&e<=s&&t>=r&&t<=a}function Zp(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function E3(i,t,e,n){const{top:s,right:r,bottom:a,left:c,width:d,height:h}=i,g=d*t,v=h*t;return n>s-v&&n<a+v&&e>c-g&&e<r+g}class T3{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:FD(e)})})}handleScroll(t){const e=Tr(t),n=this.positions.get(e);if(!n)return null;const s=n.scrollPosition;let r,a;if(e===this._document){const h=this.getViewportScrollPosition();r=h.top,a=h.left}else r=e.scrollTop,a=e.scrollLeft;const c=s.top-r,d=s.left-a;return this.positions.forEach((h,g)=>{h.clientRect&&e!==g&&e.contains(g)&&Zp(h.clientRect,c,d)}),s.top=r,s.left=a,{top:c,left:d}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function k3(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===n?P3(i,t):("input"===n||"select"===n||"textarea"===n)&&I3(i,t),R3("canvas",i,t,P3),R3("input, textarea, select",i,t,I3),t}function R3(i,t,e,n){const s=t.querySelectorAll(i);if(s.length){const r=e.querySelectorAll(i);for(let a=0;a<s.length;a++)n(s[a],r[a])}}let tge=0;function I3(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${tge++}`)}function P3(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(n){}}const L3=la({passive:!0}),Ky=la({passive:!1}),BD=new Set(["position"]);class nge{constructor(t,e,n,s,r,a){this._config=e,this._document=n,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new Ge,this._pointerMoveSubscription=Ie.EMPTY,this._pointerUpSubscription=Ie.EMPTY,this._scrollSubscription=Ie.EMPTY,this._resizeSubscription=Ie.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ge,this.started=new Ge,this.released=new Ge,this.ended=new Ge,this.entered=new Ge,this.exited=new Ge,this.dropped=new Ge,this.moved=this._moveEvents,this._pointerDown=c=>{if(this.beforeStarted.next(),this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&this._initializeDragSequence(d,c)}else this.disabled||this._initializeDragSequence(this._rootElement,c)},this._pointerMove=c=>{const d=this._getPointerPositionOnPage(c);if(!this._hasStartedDragging){if(Math.abs(d.x-this._pickupPositionOnPage.x)+Math.abs(d.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const C=Date.now()>=this._dragStartTime+this._getDragStartDelay(c),D=this._dropContainer;if(!C)return void this._endDragSequence(c);(!D||!D.isDragging()&&!D.isReceiving())&&(c.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(c)))}return}c.preventDefault();const h=this._getConstrainedPointerPosition(d);if(this._hasMoved=!0,this._lastKnownPointerPosition=d,this._updatePointerDirectionDelta(h),this._dropContainer)this._updateActiveDropContainer(h,d);else{const g=this._activeTransform;g.x=h.x-this._pickupPositionOnPage.x+this._passiveTransform.x,g.y=h.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(g.x,g.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:h,event:c,distance:this._getDragDistance(h),delta:this._pointerDirectionDelta})})},this._pointerUp=c=>{this._endDragSequence(c)},this._nativeDragStart=c=>{if(this._handles.length){const d=this._getTargetHandle(c);d&&!this._disabledHandles.has(d)&&!this.disabled&&c.preventDefault()}else this.disabled||c.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new T3(n),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=lt(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>dh(n,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>Dn(n)),this._handles.forEach(n=>dh(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Dn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Ky),e.addEventListener("touchstart",this._pointerDown,L3),e.addEventListener("dragstart",this._nativeDragStart,Ky)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Dn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),dh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),dh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Kp(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),c=this._getShadowRoot();s.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),D3(n,!1,BD),this._document.body.appendChild(s.replaceChild(r,n)),this._getPreviewInsertionPoint(s,c).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),s=Kp(e),r=!s&&0!==e.button,a=this._rootElement,c=Tr(e),d=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),h=s?TS(e):ES(e);if(c&&c.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||d||h)return;if(this._handles.length){const b=a.style;this._rootElementTapHighlight=b.webkitTapHighlightColor||"",b.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(b=>this._updateOnScroll(b)),this._boundaryElement&&(this._boundaryRect=FD(this._boundaryElement));const g=this._previewTemplate;this._pickupPositionInElement=g&&g.template&&!g.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const v=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:v.x,y:v.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){D3(this._rootElement,!0,BD),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,n,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let s;if(n&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(n,t.context);a.detectChanges(),s=F3(a,this._document),this._previewRef=a,t.matchSize?N3(s,r):s.style.transform=Qy(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=k3(r),N3(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return LD(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},BD),dh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function ege(i){const t=getComputedStyle(i),e=OD(t,"transition-property"),n=e.find(c=>"transform"===c||"all"===c);if(!n)return 0;const s=e.indexOf(n),r=OD(t,"transition-duration"),a=OD(t,"transition-delay");return A3(r[s])+A3(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const s=a=>{var c;(!a||Tr(a)===this._preview&&"transform"===a.propertyName)&&(null===(c=this._preview)||void 0===c||c.removeEventListener("transitionend",s),n(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=F3(this._placeholderRef,this._document)):n=k3(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():n,a=Kp(e)?e.targetTouches[0]:e,c=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-c.left),y:r.top-n.top+(a.pageY-r.top-c.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Kp(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const c=this._ownerSVGElement.createSVGPoint();return c.x=s,c.y=r,c.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,c=this._boundaryRect,{width:d,height:h}=this._getPreviewRect(),g=c.top+a,v=c.bottom-(h-a);n=O3(n,c.left+r,c.right-(d-r)),s=O3(s,g,v)}return{x:n,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),c=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),c>this._config.pointerDirectionChangeThreshold&&(s.y=n>r.y?1:-1,r.y=n),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,dh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Ky),t.removeEventListener("touchstart",this._pointerDown,L3),t.removeEventListener("dragstart",this._nativeDragStart,Ky)}_applyRootElementTransform(t,e){const n=Qy(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=Zy(n,this._initialTransform)}_applyPreviewTransform(t,e){var n;const s=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,r=Qy(t,e);this._preview.style.transform=Zy(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===s.width&&0===s.height)return;const r=n.left-s.left,a=s.right-n.right,c=n.top-s.top,d=s.bottom-n.bottom;n.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,n.height>s.height?(c>0&&(e+=c),d>0&&(e-=d)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Kp(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=Tr(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Zp(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_y(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return Dn(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Qy(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function O3(i,t,e){return Math.max(t,Math.min(e,i))}function Kp(i){return"t"===i.type[0]}function F3(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(s=>n.appendChild(s)),n}function N3(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Qy(t.left,t.top)}function Qp(i,t){return Math.max(0,Math.min(t,i))}class rge{constructor(t,e,n,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ge,this.entered=new Ge,this.exited=new Ge,this.dropped=new Ge,this.sorted=new Ge,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Ie.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new Ge,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function Jpe(i=0,t=Yv){return i<0&&(i=0),Ep(i,i,t)}(0,lV).pipe(Lt(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,c=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-c):2===this._verticalScrollDirection&&a.scrollBy(0,c),1===this._horizontalScrollDirection?a.scrollBy(-c,0):2===this._horizontalScrollDirection&&a.scrollBy(c,0)})},this.element=Dn(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new T3(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=s;const a=this._activeDraggables,c=a.indexOf(t),d=t.getPlaceholderElement();let h=a[r];if(h===t&&(h=a[r+1]),!h&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(h=a[0]),c>-1&&a.splice(c,1),h&&!this._dragDropRegistry.isDragging(h)){const g=h.getRootElement();g.parentElement.insertBefore(d,g),a.splice(r,0,t)}else Dn(this.element).appendChild(d),a.push(t);d.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,s,r,a,c){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:c})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Dn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,s){if(this.sortingDisabled||!this._clientRect||!E3(this._clientRect,.05,e,n))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,n,s);if(-1===a&&r.length>0)return;const c="horizontal"===this._orientation,d=r.findIndex(E=>E.drag===t),h=r[a],v=h.clientRect,b=d>a?1:-1,C=this._getItemOffsetPx(r[d].clientRect,v,b),D=this._getSiblingOffsetPx(d,r,b),A=r.slice();(function sge(i,t,e){const n=Qp(t,i.length-1),s=Qp(e,i.length-1);if(n===s)return;const r=i[n],a=s<n?-1:1;for(let c=n;c!==s;c+=a)i[c]=i[c+a];i[s]=r})(r,d,a),this.sorted.next({previousIndex:d,currentIndex:a,container:this,item:t}),r.forEach((E,I)=>{if(A[I]===E)return;const P=E.drag===t,N=P?C:D,V=P?t.getPlaceholderElement():E.drag.getRootElement();E.offset+=N,c?(V.style.transform=Zy(`translate3d(${Math.round(E.offset)}px, 0, 0)`,E.initialTransform),Zp(E.clientRect,0,N)):(V.style.transform=Zy(`translate3d(0, ${Math.round(E.offset)}px, 0)`,E.initialTransform),Zp(E.clientRect,N,0))}),this._previousSwap.overlaps=ND(v,e,n),this._previousSwap.drag=h.drag,this._previousSwap.delta=c?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,s=0,r=0;if(this._parentPositions.positions.forEach((a,c)=>{c===this._document||!a.clientRect||n||E3(a.clientRect,.05,t,e)&&([s,r]=function age(i,t,e,n){const s=H3(t,n),r=z3(t,e);let a=0,c=0;if(s){const d=i.scrollTop;1===s?d>0&&(a=1):i.scrollHeight-d>i.clientHeight&&(a=2)}if(r){const d=i.scrollLeft;1===r?d>0&&(c=1):i.scrollWidth-d>i.clientWidth&&(c=2)}return[a,c]}(c,a.clientRect,t,e),(s||r)&&(n=c))}),!s&&!r){const{width:a,height:c}=this._viewportRuler.getViewportSize(),d={width:a,height:c,top:0,right:a,bottom:c,left:0};s=H3(d,e),r=z3(d,t),n=window}n&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=n,(s||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Dn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Dn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:FD(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Dn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var n;const s=e.getRootElement();if(s){const r=null===(n=this._itemPositions.find(a=>a.drag===e))||void 0===n?void 0:n.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*n];let c=r[s?"width":"height"]*n;if(a){const d=s?"left":"top",h=s?"right":"bottom";-1===n?c-=a.clientRect[d]-r[h]:c+=r[d]-a.clientRect[h]}return c}_getItemOffsetPx(t,e,n){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===n&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,s="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const a=n[n.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=n[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,n,s){const r="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:c,clientRect:d})=>{if(c===t)return!1;if(s){const h=r?s.x:s.y;if(c===this._previousSwap.drag&&this._previousSwap.overlaps&&h===this._previousSwap.delta)return!1}return r?e>=Math.floor(d.left)&&e<Math.floor(d.right):n>=Math.floor(d.top)&&n<Math.floor(d.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&ND(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(s=>s._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!ND(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,n);if(!s)return!1;const r=Dn(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:n})=>{Zp(n,e.top,e.left)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=_y(Dn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function H3(i,t){const{top:e,bottom:n,height:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=n-r&&t<=n+r?2:0}function z3(i,t){const{left:e,right:n,width:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=n-r&&t<=n+r?2:0}const Jy=la({passive:!1,capture:!0});let oge=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new Ge,this.pointerUp=new Ge,this.scroll=new Ge,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Jy)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Jy)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=n.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Jy}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Jy}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new Jt(s=>this._ngZone.runOutsideAngular(()=>{const a=c=>{this._activeDragInstances.length&&s.next(c)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),M(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)(me(At),me(Bt))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const lge={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let cge=(()=>{class i{constructor(e,n,s,r){this._document=e,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,n=lge){return new nge(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new rge(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)(me(Bt),me(At),me(ca),me(oge))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({providers:[cge],imports:[Oa]}),i})(),dge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({imports:[[In,FH,HH,WH,Hp,LV,$H,KS,KH,JH,t3,vD,CD,nV,yD,s3,a3,xD,l3,WV,c3,$c,p3,g3,b3,Wy,rH,x3,Ir,w3,C3,RD,M3,S3,nH,G3,MD,GB],FH,HH,WH,Hp,LV,$H,KS,KH,JH,t3,vD,CD,nV,yD,s3,a3,xD,l3,WV,c3,$c,p3,g3,b3,Wy,rH,x3,Ir,w3,C3,RD,M3,S3,nH,G3,MD,GB]}),i})(),uge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i}),i.\u0275inj=it({}),i})(),hge=(()=>{class i{constructor(e){this.loaderService=e}intercept(e,n){return this.loaderService.show(),n.handle(e).pipe(cw(()=>this.loaderService.hide()))}}return i.\u0275fac=function(e){return new(e||i)(me(sH))},i.\u0275prov=Pe({token:i,factory:i.\u0275fac}),i})(),fge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=st({type:i,bootstrap:[iue]}),i.\u0275inj=it({providers:[SM,{provide:TM,useClass:hge,multi:!0}],imports:[[fI,Vce,are,Mhe,dge,uge,CD,$c,vD,Wy,xD,x9,w9,nie,zle]]}),i})();(function L8(){bR=!1})(),ZY().bootstrapModule(fge).catch(i=>console.error(i))},597:(kl,gh,tg)=>{var mi;function Qc(U,o){var l=Object.keys(U);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(U);o&&(u=u.filter(function(f){return Object.getOwnPropertyDescriptor(U,f).enumerable})),l.push.apply(l,u)}return l}function Gt(U){for(var o=1;o<arguments.length;o++){var l=null!=arguments[o]?arguments[o]:{};o%2?Qc(Object(l),!0).forEach(function(u){Rl(U,u,l[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(l)):Qc(Object(l)).forEach(function(u){Object.defineProperty(U,u,Object.getOwnPropertyDescriptor(l,u))})}return U}function yn(U){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(U)}function Ie(U,o){if(!(U instanceof o))throw new TypeError("Cannot call a class as a function")}function mh(U,o){for(var l=0;l<o.length;l++){var u=o[l];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(U,u.key,u)}}function nt(U,o,l){return o&&mh(U.prototype,o),l&&mh(U,l),U}function Rl(U,o,l){return o in U?Object.defineProperty(U,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):U[o]=l,U}function Gs(U,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(o&&o.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),o&&_h(U,o)}function Io(U){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(U)}function _h(U,o){return(_h=Object.setPrototypeOf||function(l,u){return l.__proto__=u,l})(U,o)}function Po(U,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(U)}function Il(U){var o=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}();return function(){var l,u=Io(U);if(o){var f=Io(this).constructor;l=Reflect.construct(u,arguments,f)}else l=u.apply(this,arguments);return Po(this,l)}}function Us(U){return function(o){if(Array.isArray(o))return Or(o)}(U)||function(o){if("undefined"!=typeof Symbol&&null!=o[Symbol.iterator]||null!=o["@@iterator"])return Array.from(o)}(U)||Jc(U)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jc(U,o){if(U){if("string"==typeof U)return Or(U,o);var l=Object.prototype.toString.call(U).slice(8,-1);return"Object"===l&&U.constructor&&(l=U.constructor.name),"Map"===l||"Set"===l?Array.from(U):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Or(U,o):void 0}}function Or(U,o){(null==o||o>U.length)&&(o=U.length);for(var l=0,u=new Array(o);l<o;l++)u[l]=U[l];return u}var fe=function(){function U(){Ie(this,U)}return nt(U,[{key:"shadeRGBColor",value:function(o,l){var u=l.split(","),f=o<0?0:255,p=o<0?-1*o:o,_=parseInt(u[0].slice(4),10),m=parseInt(u[1],10),y=parseInt(u[2],10);return"rgb("+(Math.round((f-_)*p)+_)+","+(Math.round((f-m)*p)+m)+","+(Math.round((f-y)*p)+y)+")"}},{key:"shadeHexColor",value:function(o,l){var u=parseInt(l.slice(1),16),f=o<0?0:255,p=o<0?-1*o:o,_=u>>16,m=u>>8&255,y=255&u;return"#"+(16777216+65536*(Math.round((f-_)*p)+_)+256*(Math.round((f-m)*p)+m)+(Math.round((f-y)*p)+y)).toString(16).slice(1)}},{key:"shadeColor",value:function(o,l){return U.isColorHex(l)?this.shadeHexColor(o,l):this.shadeRGBColor(o,l)}}],[{key:"bind",value:function(o,l){return function(){return o.apply(l,arguments)}}},{key:"isObject",value:function(o){return o&&"object"===yn(o)&&!Array.isArray(o)&&null!=o}},{key:"is",value:function(o,l){return Object.prototype.toString.call(l)==="[object "+o+"]"}},{key:"listToArray",value:function(o){var l,u=[];for(l=0;l<o.length;l++)u[l]=o[l];return u}},{key:"extend",value:function(o,l){var u=this;"function"!=typeof Object.assign&&(Object.assign=function(p){if(null==p)throw new TypeError("Cannot convert undefined or null to object");for(var _=Object(p),m=1;m<arguments.length;m++){var y=arguments[m];if(null!=y)for(var w in y)y.hasOwnProperty(w)&&(_[w]=y[w])}return _});var f=Object.assign({},o);return this.isObject(o)&&this.isObject(l)&&Object.keys(l).forEach(function(p){u.isObject(l[p])&&p in o?f[p]=u.extend(o[p],l[p]):Object.assign(f,Rl({},p,l[p]))}),f}},{key:"extendArray",value:function(o,l){var u=[];return o.map(function(f){u.push(U.extend(l,f))}),u}},{key:"monthMod",value:function(o){return o%12}},{key:"clone",value:function(o){if(U.is("Array",o)){for(var l=[],u=0;u<o.length;u++)l[u]=this.clone(o[u]);return l}if(U.is("Null",o))return null;if(U.is("Date",o))return o;if("object"===yn(o)){var f={};for(var p in o)o.hasOwnProperty(p)&&(f[p]=this.clone(o[p]));return f}return o}},{key:"log10",value:function(o){return Math.log(o)/Math.LN10}},{key:"roundToBase10",value:function(o){return Math.pow(10,Math.floor(Math.log10(o)))}},{key:"roundToBase",value:function(o,l){return Math.pow(l,Math.floor(Math.log(o)/Math.log(l)))}},{key:"parseNumber",value:function(o){return null===o?o:parseFloat(o)}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(o){var l=String(o).split(/[eE]/);if(1===l.length)return l[0];var u="",f=o<0?"-":"",p=l[0].replace(".",""),_=Number(l[1])+1;if(_<0){for(u=f+"0.";_++;)u+="0";return u+p.replace(/^-/,"")}for(_-=p.length;_--;)u+="0";return p+u}},{key:"getDimensions",value:function(o){var l=getComputedStyle(o,null),u=o.clientHeight,f=o.clientWidth;return u-=parseFloat(l.paddingTop)+parseFloat(l.paddingBottom),[f-=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),u]}},{key:"getBoundingClientRect",value:function(o){var l=o.getBoundingClientRect();return{top:l.top,right:l.right,bottom:l.bottom,left:l.left,width:o.clientWidth,height:o.clientHeight,x:l.left,y:l.top}}},{key:"getLargestStringFromArr",value:function(o){return o.reduce(function(l,u){return Array.isArray(u)&&(u=u.reduce(function(f,p){return f.length>p.length?f:p})),l.length>u.length?l:u},0)}},{key:"hexToRgba",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==o.substring(0,1)&&(o="#999999");var u=o.replace("#","");u=u.match(new RegExp("(.{"+u.length/3+"})","g"));for(var f=0;f<u.length;f++)u[f]=parseInt(1===u[f].length?u[f]+u[f]:u[f],16);return void 0!==l&&u.push(l),"rgba("+u.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(o){return parseFloat(o.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(o){return(o=o.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===o.length?"#"+("0"+parseInt(o[1],10).toString(16)).slice(-2)+("0"+parseInt(o[2],10).toString(16)).slice(-2)+("0"+parseInt(o[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(o){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(o)}},{key:"getPolygonPos",value:function(o,l){for(var u=[],f=2*Math.PI/l,p=0;p<l;p++){var _={};_.x=o*Math.sin(p*f),_.y=-o*Math.cos(p*f),u.push(_)}return u}},{key:"polarToCartesian",value:function(o,l,u,f){var p=(f-90)*Math.PI/180;return{x:o+u*Math.cos(p),y:l+u*Math.sin(p)}}},{key:"escapeString",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",u=o.toString().slice();return u.replace(/[` ~!@#$%^&*()_|+\-=?;:'",.<>{}[\]\\/]/gi,l)}},{key:"negToZero",value:function(o){return o<0?0:o}},{key:"moveIndexInArray",value:function(o,l,u){if(u>=o.length)for(var f=u-o.length+1;f--;)o.push(void 0);return o.splice(u,0,o.splice(l,1)[0]),o}},{key:"extractNumber",value:function(o){return parseFloat(o.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(o,l){for(;(o=o.parentElement)&&!o.classList.contains(l););return o}},{key:"setELstyles",value:function(o,l){for(var u in l)l.hasOwnProperty(u)&&(o.style.key=l[u])}},{key:"isNumber",value:function(o){return!isNaN(o)&&parseFloat(Number(o))===o&&!isNaN(parseInt(o,10))}},{key:"isFloat",value:function(o){return Number(o)===o&&o%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isIE11",value:function(){if(-1!==window.navigator.userAgent.indexOf("MSIE")||window.navigator.appVersion.indexOf("Trident/")>-1)return!0}},{key:"isIE",value:function(){var o=window.navigator.userAgent,l=o.indexOf("MSIE ");if(l>0)return parseInt(o.substring(l+5,o.indexOf(".",l)),10);if(o.indexOf("Trident/")>0){var u=o.indexOf("rv:");return parseInt(o.substring(u+3,o.indexOf(".",u)),10)}var f=o.indexOf("Edge/");return f>0&&parseInt(o.substring(f+5,o.indexOf(".",f)),10)}}]),U}(),Lo=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.setEasingFunctions()}return nt(U,[{key:"setEasingFunctions",value:function(){var o;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":o="-";break;case"easein":o="<";break;case"easeout":o=">";break;case"easeinout":default:o="<>";break;case"swing":o=function(l){var u=1.70158;return(l-=1)*l*((u+1)*l+u)+1};break;case"bounce":o=function(l){return l<1/2.75?7.5625*l*l:l<2/2.75?7.5625*(l-=1.5/2.75)*l+.75:l<2.5/2.75?7.5625*(l-=2.25/2.75)*l+.9375:7.5625*(l-=2.625/2.75)*l+.984375};break;case"elastic":o=function(l){return l===!!l?l:Math.pow(2,-10*l)*Math.sin((l-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=o}}},{key:"animateLine",value:function(o,l,u,f){o.attr(l).animate(f).attr(u)}},{key:"animateMarker",value:function(o,l,u,f,p,_){l||(l=0),o.attr({r:l,width:l,height:l}).animate(f,p).attr({r:u,width:u.width,height:u.height}).afterAll(function(){_()})}},{key:"animateCircle",value:function(o,l,u,f,p){o.attr({r:l.r,cx:l.cx,cy:l.cy}).animate(f,p).attr({r:u.r,cx:u.cx,cy:u.cy})}},{key:"animateRect",value:function(o,l,u,f,p){o.attr(l).animate(f).attr(u).afterAll(function(){return p()})}},{key:"animatePathsGradually",value:function(o){var S=this.w,M=0;S.config.chart.animations.animateGradually.enabled&&(M=S.config.chart.animations.animateGradually.delay),S.config.chart.animations.dynamicAnimation.enabled&&S.globals.dataChanged&&"bar"!==S.config.chart.type&&(M=0),this.morphSVG(o.el,o.realIndex,o.j,"line"!==S.config.chart.type||S.globals.comboCharts?o.fill:"stroke",o.pathFrom,o.pathTo,o.speed,o.delay*M)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(o){o.el.classList.remove("apexcharts-element-hidden")})}},{key:"animationCompleted",value:function(o){var l=this.w;l.globals.animationEnded||(l.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof l.config.chart.events.animationEnd&&l.config.chart.events.animationEnd(this.ctx,{el:o,w:l}))}},{key:"morphSVG",value:function(o,l,u,f,p,_,m,y){var w=this,S=this.w;p||(p=o.attr("pathFrom")),_||(_=o.attr("pathTo"));var M=function(T){return"radar"===S.config.chart.type&&(m=1),"M 0 ".concat(S.globals.gridHeight)};(!p||p.indexOf("undefined")>-1||p.indexOf("NaN")>-1)&&(p=M()),(!_||_.indexOf("undefined")>-1||_.indexOf("NaN")>-1)&&(_=M()),S.globals.shouldAnimate||(m=1),o.plot(p).animate(1,S.globals.easing,y).plot(p).animate(m,S.globals.easing,y).plot(_).afterAll(function(){fe.isNumber(u)?u===S.globals.series[S.globals.maxValsInArrayIndex].length-2&&S.globals.shouldAnimate&&w.animationCompleted(o):"none"!==f&&S.globals.shouldAnimate&&(!S.globals.comboCharts&&l===S.globals.series.length-1||S.globals.comboCharts)&&w.animationCompleted(o),w.showDelayedElements()})}}]),U}(),An=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"getDefaultFilter",value:function(o,l){var u=this.w;o.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==u.config.states.normal.filter?this.applyFilter(o,l,u.config.states.normal.filter.type,u.config.states.normal.filter.value):u.config.chart.dropShadow.enabled&&this.dropShadow(o,u.config.chart.dropShadow,l)}},{key:"addNormalFilter",value:function(o,l){var u=this.w;u.config.chart.dropShadow.enabled&&!o.node.classList.contains("apexcharts-marker")&&this.dropShadow(o,u.config.chart.dropShadow,l)}},{key:"addLightenFilter",value:function(o,l,u){var f=this,p=this.w,_=u.intensity;o.unfilter(!0),new window.SVG.Filter,o.filter(function(m){var y=p.config.chart.dropShadow;(y.enabled?f.addShadow(m,l,y):m).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:_}})}),o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)}},{key:"addDarkenFilter",value:function(o,l,u){var f=this,p=this.w,_=u.intensity;o.unfilter(!0),new window.SVG.Filter,o.filter(function(m){var y=p.config.chart.dropShadow;(y.enabled?f.addShadow(m,l,y):m).componentTransfer({rgb:{type:"linear",slope:_}})}),o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)}},{key:"applyFilter",value:function(o,l,u){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(u){case"none":this.addNormalFilter(o,l);break;case"lighten":this.addLightenFilter(o,l,{intensity:f});break;case"darken":this.addDarkenFilter(o,l,{intensity:f})}}},{key:"addShadow",value:function(o,l,u){var f=u.blur,p=u.top,_=u.left,m=u.color,y=u.opacity,w=o.flood(Array.isArray(m)?m[l]:m,y).composite(o.sourceAlpha,"in").offset(_,p).gaussianBlur(f).merge(o.source);return o.blend(o.source,w)}},{key:"dropShadow",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=l.top,p=l.left,_=l.blur,m=l.color,y=l.opacity,w=l.noUserSpaceOnUse,S=this.w;return o.unfilter(!0),fe.isIE()&&"radialBar"===S.config.chart.type||(m=Array.isArray(m)?m[u]:m,o.filter(function(M){var T;T=fe.isSafari()||fe.isFirefox()||fe.isIE()?M.flood(m,y).composite(M.sourceAlpha,"in").offset(p,f).gaussianBlur(_):M.flood(m,y).composite(M.sourceAlpha,"in").offset(p,f).gaussianBlur(_).merge(M.source),M.blend(M.source,T)}),w||o.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(o.filterer.node)),o}},{key:"setSelectionFilter",value:function(o,l,u){var f=this.w;if(void 0!==f.globals.selectedDataPoints[l]&&f.globals.selectedDataPoints[l].indexOf(u)>-1){o.node.setAttribute("selected",!0);var p=f.config.states.active.filter;"none"!==p&&this.applyFilter(o,l,p.type,p.value)}}},{key:"_scaleFilterSize",value:function(o){!function(l){for(var u in l)l.hasOwnProperty(u)&&o.setAttribute(u,l[u])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),U}(),Be=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"drawLine",value:function(o,l,u,f){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt",w=this.w,S=w.globals.dom.Paper.line().attr({x1:o,y1:l,x2:u,y2:f,stroke:p,"stroke-dasharray":_,"stroke-width":m,"stroke-linecap":y});return S}},{key:"drawRect",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,w=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,S=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,M=this.w,T=M.globals.dom.Paper.rect();return T.attr({x:o,y:l,width:u>0?u:0,height:f>0?f:0,rx:p,ry:p,opacity:m,"stroke-width":null!==y?y:0,stroke:null!==w?w:"none","stroke-dasharray":S}),T.node.setAttribute("fill",_),T}},{key:"drawPolygon",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none",p=this.w,_=p.globals.dom.Paper.polygon(o).attr({fill:f,stroke:l,"stroke-width":u});return _}},{key:"drawCircle",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.w;o<0&&(o=0);var f=u.globals.dom.Paper.circle(2*o);return null!==l&&f.attr(l),f}},{key:"drawPath",value:function(o){var l=o.d,u=void 0===l?"":l,f=o.stroke,p=void 0===f?"#a8a8a8":f,_=o.strokeWidth,m=void 0===_?1:_,y=o.fill,w=o.fillOpacity,S=void 0===w?1:w,M=o.strokeOpacity,T=void 0===M?1:M,R=o.classes,O=o.strokeLinecap,L=void 0===O?null:O,H=o.strokeDashArray,z=void 0===H?0:H,Y=this.w;return null===L&&(L=Y.config.stroke.lineCap),(u.indexOf("undefined")>-1||u.indexOf("NaN")>-1)&&(u="M 0 ".concat(Y.globals.gridHeight)),Y.globals.dom.Paper.path(u).attr({fill:y,"fill-opacity":S,stroke:p,"stroke-opacity":T,"stroke-linecap":L,"stroke-width":m,"stroke-dasharray":z,class:R})}},{key:"group",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,u=l.globals.dom.Paper.group();return null!==o&&u.attr(o),u}},{key:"move",value:function(o,l){return["M",o,l].join(" ")}},{key:"line",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=null;return null===u?f=["L",o,l].join(" "):"H"===u?f=["H",o].join(" "):"V"===u&&(f=["V",l].join(" ")),f}},{key:"curve",value:function(o,l,u,f,p,_){return["C",o,l,u,f,p,_].join(" ")}},{key:"quadraticCurve",value:function(o,l,u,f){return["Q",o,l,u,f].join(" ")}},{key:"arc",value:function(o,l,u,f,p,_,m){var y=arguments.length>7&&void 0!==arguments[7]&&arguments[7],w="A";y&&(w="a");var S=[w,o,l,u,f,p,_,m].join(" ");return S}},{key:"renderPaths",value:function(o){var l,u=o.j,f=o.realIndex,p=o.pathFrom,_=o.pathTo,m=o.stroke,y=o.strokeWidth,w=o.strokeLinecap,S=o.fill,M=o.animationDelay,T=o.initialSpeed,R=o.dataChangeSpeed,O=o.className,L=o.shouldClipToGrid,H=void 0===L||L,z=o.bindEventsOnPaths,Y=void 0===z||z,X=o.drawShadow,x=void 0===X||X,k=this.w,B=new An(this.ctx),W=new Lo(this.ctx),K=this.w.config.chart.animations.enabled,ve=K&&this.w.config.chart.animations.dynamicAnimation.enabled,te=!!(K&&!k.globals.resized||ve&&k.globals.dataChanged&&k.globals.shouldAnimate);te?l=p:(l=_,k.globals.animationEnded=!0);var Le,Ee=k.config.stroke.dashArray;Le=Array.isArray(Ee)?Ee[f]:k.config.stroke.dashArray;var $e=this.drawPath({d:l,stroke:m,strokeWidth:y,fill:S,fillOpacity:1,classes:O,strokeLinecap:w,strokeDashArray:Le});$e.attr("index",f),H&&$e.attr({"clip-path":"url(#gridRectMask".concat(k.globals.cuid,")")}),"none"!==k.config.states.normal.filter.type?B.getDefaultFilter($e,f):k.config.chart.dropShadow.enabled&&x&&(!k.config.chart.dropShadow.enabledOnSeries||k.config.chart.dropShadow.enabledOnSeries&&-1!==k.config.chart.dropShadow.enabledOnSeries.indexOf(f))&&B.dropShadow($e,k.config.chart.dropShadow,f),Y&&($e.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,$e)),$e.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,$e)),$e.node.addEventListener("mousedown",this.pathMouseDown.bind(this,$e))),$e.attr({pathTo:_,pathFrom:p});var Ii={el:$e,j:u,realIndex:f,pathFrom:p,pathTo:_,fill:S,strokeWidth:y,delay:M};return!K||k.globals.resized||k.globals.dataChanged?!k.globals.resized&&k.globals.dataChanged||W.showDelayedElements():W.animatePathsGradually(Gt(Gt({},Ii),{},{speed:T})),k.globals.dataChanged&&ve&&te&&W.animatePathsGradually(Gt(Gt({},Ii),{},{speed:R})),$e}},{key:"drawPattern",value:function(o,l,u){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,_=this.w,m=_.globals.dom.Paper.pattern(l,u,function(y){"horizontalLines"===o?y.line(0,0,u,0).stroke({color:f,width:p+1}):"verticalLines"===o?y.line(0,0,0,l).stroke({color:f,width:p+1}):"slantedLines"===o?y.line(0,0,l,u).stroke({color:f,width:p}):"squares"===o?y.rect(l,u).fill("none").stroke({color:f,width:p}):"circles"===o&&y.circle(l).fill("none").stroke({color:f,width:p})});return m}},{key:"drawGradient",value:function(o,l,u,f,p){var _,m=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,w=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,S=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,M=this.w;l.length<9&&0===l.indexOf("#")&&(l=fe.hexToRgba(l,f)),u.length<9&&0===u.indexOf("#")&&(u=fe.hexToRgba(u,p));var T=0,R=1,O=1,L=null;null!==y&&(T=void 0!==y[0]?y[0]/100:0,R=void 0!==y[1]?y[1]/100:1,O=void 0!==y[2]?y[2]/100:1,L=void 0!==y[3]?y[3]/100:null);var H=!("donut"!==M.config.chart.type&&"pie"!==M.config.chart.type&&"polarArea"!==M.config.chart.type&&"bubble"!==M.config.chart.type);if(_=M.globals.dom.Paper.gradient(H?"radial":"linear",null===w||0===w.length?function(X){X.at(T,l,f),X.at(R,u,p),X.at(O,u,p),null!==L&&X.at(L,l,f)}:function(X){(Array.isArray(w[S])?w[S]:w).forEach(function(x){X.at(x.offset/100,x.color,x.opacity)})}),H){var z=M.globals.gridWidth/2,Y=M.globals.gridHeight/2;_.attr("bubble"!==M.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:z,cy:Y,r:m}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2})}else"vertical"===o?_.from(0,0).to(0,1):"diagonal"===o?_.from(0,0).to(1,1):"horizontal"===o?_.from(0,1).to(1,1):"diagonal2"===o&&_.from(1,0).to(0,1);return _}},{key:"getTextBasedOnMaxWidth",value:function(o){var l=o.text,u=o.maxWidth,_=this.getTextRects(l,o.fontSize,o.fontFamily),y=Math.floor(u/(_.width/l.length));return u<_.width?l.slice(0,y-3)+"...":l}},{key:"drawText",value:function(o){var l=this,u=o.x,f=o.y,p=o.text,_=o.textAnchor,m=o.fontSize,y=o.fontFamily,w=o.fontWeight,S=o.foreColor,M=o.opacity,T=o.maxWidth,R=o.cssClass,O=void 0===R?"":R,L=o.isPlainText,H=void 0===L||L,z=this.w;void 0===p&&(p="");var Y=p;_||(_="start"),S&&S.length||(S=z.config.chart.foreColor),w=w||"regular";var X,x={maxWidth:T,fontSize:m=m||"11px",fontFamily:y=y||z.config.chart.fontFamily};return Array.isArray(p)?X=z.globals.dom.Paper.text(function(k){for(var B=0;B<p.length;B++)T&&(Y=l.getTextBasedOnMaxWidth(Gt({text:p[B]},x))),0===B?k.tspan(Y):k.tspan(Y).newLine()}):(T&&(Y=this.getTextBasedOnMaxWidth(Gt({text:p},x))),X=H?z.globals.dom.Paper.plain(p):z.globals.dom.Paper.text(function(k){return k.tspan(Y)})),X.attr({x:u,y:f,"text-anchor":_,"dominant-baseline":"auto","font-size":m,"font-family":y,"font-weight":w,fill:S,class:"apexcharts-text "+O}),X.node.style.fontFamily=y,X.node.style.opacity=M,X}},{key:"drawMarker",value:function(o,l,u){o=o||0;var f=u.pSize||0,p=null;if("square"===u.shape||"rect"===u.shape){var _=void 0===u.pRadius?f/2:u.pRadius;null!==l&&f||(f=0,_=0);var m=1.2*f+_,y=this.drawRect(m,m,m,m,_);y.attr({x:o-m/2,y:l-m/2,cx:o,cy:l,class:u.class?u.class:"",fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,stroke:u.pointStrokeColor,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}),p=y}else"circle"!==u.shape&&u.shape||(fe.isNumber(l)||(f=0,l=0),p=this.drawCircle(f,{cx:o,cy:l,class:u.class?u.class:"",stroke:u.pointStrokeColor,fill:u.pointFillColor,"fill-opacity":u.pointFillOpacity?u.pointFillOpacity:1,"stroke-width":u.pointStrokeWidth?u.pointStrokeWidth:0,"stroke-opacity":u.pointStrokeOpacity?u.pointStrokeOpacity:1}));return p}},{key:"pathMouseEnter",value:function(o,l){var u=this.w,f=new An(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10);if("function"==typeof u.config.chart.events.dataPointMouseEnter&&u.config.chart.events.dataPointMouseEnter(l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}),this.ctx.events.fireEvent("dataPointMouseEnter",[l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}]),("none"===u.config.states.active.filter.type||"true"!==o.node.getAttribute("selected"))&&"none"!==u.config.states.hover.filter.type&&!u.globals.isTouchDevice){var m=u.config.states.hover.filter;f.applyFilter(o,p,m.type,m.value)}}},{key:"pathMouseLeave",value:function(o,l){var u=this.w,f=new An(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10);"function"==typeof u.config.chart.events.dataPointMouseLeave&&u.config.chart.events.dataPointMouseLeave(l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}),this.ctx.events.fireEvent("dataPointMouseLeave",[l,this.ctx,{seriesIndex:p,dataPointIndex:_,w:u}]),"none"!==u.config.states.active.filter.type&&"true"===o.node.getAttribute("selected")||"none"!==u.config.states.hover.filter.type&&f.getDefaultFilter(o,p)}},{key:"pathMouseDown",value:function(o,l){var u=this.w,f=new An(this.ctx),p=parseInt(o.node.getAttribute("index"),10),_=parseInt(o.node.getAttribute("j"),10),m="false";if("true"===o.node.getAttribute("selected")){if(o.node.setAttribute("selected","false"),u.globals.selectedDataPoints[p].indexOf(_)>-1){var y=u.globals.selectedDataPoints[p].indexOf(_);u.globals.selectedDataPoints[p].splice(y,1)}}else{if(!u.config.states.active.allowMultipleDataPointsSelection&&u.globals.selectedDataPoints.length>0){u.globals.selectedDataPoints=[];var w=u.globals.dom.Paper.select(".apexcharts-series path").members,S=u.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,M=function(O){Array.prototype.forEach.call(O,function(L){L.node.setAttribute("selected","false"),f.getDefaultFilter(L,p)})};M(w),M(S)}o.node.setAttribute("selected","true"),m="true",void 0===u.globals.selectedDataPoints[p]&&(u.globals.selectedDataPoints[p]=[]),u.globals.selectedDataPoints[p].push(_)}if("true"===m){var T=u.config.states.active.filter;if("none"!==T)f.applyFilter(o,p,T.type,T.value);else if("none"!==u.config.states.hover.filter&&!u.globals.isTouchDevice){var R=u.config.states.hover.filter;f.applyFilter(o,p,R.type,R.value)}}else"none"!==u.config.states.active.filter.type&&("none"===u.config.states.hover.filter.type||u.globals.isTouchDevice?f.getDefaultFilter(o,p):f.applyFilter(o,p,(R=u.config.states.hover.filter).type,R.value));"function"==typeof u.config.chart.events.dataPointSelection&&u.config.chart.events.dataPointSelection(l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:_,w:u}),l&&this.ctx.events.fireEvent("dataPointSelection",[l,this.ctx,{selectedDataPoints:u.globals.selectedDataPoints,seriesIndex:p,dataPointIndex:_,w:u}])}},{key:"rotateAroundCenter",value:function(o){var l={};return o&&"function"==typeof o.getBBox&&(l=o.getBBox()),{x:l.x+l.width/2,y:l.y+l.height/2}}},{key:"getTextRects",value:function(o,l,u,f){var p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],_=this.w,m=this.drawText({x:-200,y:-200,text:o,textAnchor:"start",fontSize:l,fontFamily:u,foreColor:"#fff",opacity:0});f&&m.attr("transform",f),_.globals.dom.Paper.add(m);var y=m.bbox();return p||(y=m.node.getBoundingClientRect()),m.remove(),{width:y.width,height:y.height}}},{key:"placeTextWithEllipsis",value:function(o,l,u){if("function"==typeof o.getComputedTextLength&&(o.textContent=l,l.length>0&&o.getComputedTextLength()>=u/1.1)){for(var f=l.length-3;f>0;f-=3)if(o.getSubStringLength(0,f)<=u/1.1)return void(o.textContent=l.substring(0,f)+"...");o.textContent="."}}}],[{key:"setAttrs",value:function(o,l){for(var u in l)l.hasOwnProperty(u)&&o.setAttribute(u,l[u])}}]),U}(),hn=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"getStackedSeriesTotals",value:function(){var o=this.w,l=[];if(0===o.globals.series.length)return l;for(var u=0;u<o.globals.series[o.globals.maxValsInArrayIndex].length;u++){for(var f=0,p=0;p<o.globals.series.length;p++)void 0!==o.globals.series[p][u]&&(f+=o.globals.series[p][u]);l.push(f)}return o.globals.stackedSeriesTotals=l,l}},{key:"getSeriesTotalByIndex",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===o?this.w.config.series.reduce(function(l,u){return l+u},0):this.w.globals.series[o].reduce(function(l,u){return l+u},0)}},{key:"isSeriesNull",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===o?this.w.config.series.filter(function(l){return null!==l}):this.w.config.series[o].data.filter(function(l){return null!==l})).length}},{key:"seriesHaveSameValues",value:function(o){return this.w.globals.series[o].every(function(l,u,f){return l===f[0]})}},{key:"getCategoryLabels",value:function(o){var l=this.w,u=o.slice();return l.config.xaxis.convertedCatToNumeric&&(u=o.map(function(f,p){return l.config.xaxis.labels.formatter(f-l.globals.minX+1)})),u}},{key:"getLargestSeries",value:function(){var o=this.w;o.globals.maxValsInArrayIndex=o.globals.series.map(function(l){return l.length}).indexOf(Math.max.apply(Math,o.globals.series.map(function(l){return l.length})))}},{key:"getLargestMarkerSize",value:function(){var o=this.w,l=0;return o.globals.markers.size.forEach(function(u){l=Math.max(l,u)}),o.config.markers.discrete&&o.config.markers.discrete.length&&o.config.markers.discrete.forEach(function(u){l=Math.max(l,u.size)}),l>0&&(l+=o.config.markers.hover.sizeOffset+1),o.globals.markers.largestSize=l,l}},{key:"getSeriesTotals",value:function(){var o=this.w;o.globals.seriesTotals=o.globals.series.map(function(l,u){var f=0;if(Array.isArray(l))for(var p=0;p<l.length;p++)f+=l[p];else f+=l;return f})}},{key:"getSeriesTotalsXRange",value:function(o,l){var u=this.w;return u.globals.series.map(function(f,p){for(var _=0,m=0;m<f.length;m++)u.globals.seriesX[p][m]>o&&u.globals.seriesX[p][m]<l&&(_+=f[m]);return _})}},{key:"getPercentSeries",value:function(){var o=this.w;o.globals.seriesPercent=o.globals.series.map(function(l,u){var f=[];if(Array.isArray(l))for(var p=0;p<l.length;p++){var _=o.globals.stackedSeriesTotals[p],m=0;_&&(m=100*l[p]/_),f.push(m)}else{var y=100*l/o.globals.seriesTotals.reduce(function(w,S){return w+S},0);f.push(y)}return f})}},{key:"getCalculatedRatios",value:function(){var o,l,u,f,p=this.w.globals,_=[],m=0,y=[],w=.1,S=0;if(p.yRange=[],p.isMultipleYAxis)for(var M=0;M<p.minYArr.length;M++)p.yRange.push(Math.abs(p.minYArr[M]-p.maxYArr[M])),y.push(0);else p.yRange.push(Math.abs(p.minY-p.maxY));p.xRange=Math.abs(p.maxX-p.minX),p.zRange=Math.abs(p.maxZ-p.minZ);for(var T=0;T<p.yRange.length;T++)_.push(p.yRange[T]/p.gridHeight);if(l=p.xRange/p.gridWidth,u=Math.abs(p.initialMaxX-p.initialMinX)/p.gridWidth,o=p.yRange/p.gridWidth,f=p.xRange/p.gridHeight,(m=p.zRange/p.gridHeight*16)||(m=1),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(p.hasNegs=!0),p.isMultipleYAxis){y=[];for(var R=0;R<_.length;R++)y.push(-p.minYArr[R]/_[R])}else y.push(-p.minY/_[0]),p.minY!==Number.MIN_VALUE&&0!==Math.abs(p.minY)&&(w=-p.minY/o,S=p.minX/l);return{yRatio:_,invertedYRatio:o,zRatio:m,xRatio:l,initialXRatio:u,invertedXRatio:f,baseLineInvertedY:w,baseLineY:y,baseLineX:S}}},{key:"getLogSeries",value:function(o){var l=this,u=this.w;return u.globals.seriesLog=o.map(function(f,p){return u.config.yaxis[p]&&u.config.yaxis[p].logarithmic?f.map(function(_){return null===_?null:l.getLogVal(u.config.yaxis[p].logBase,_,p)}):f}),u.globals.invalidLogScale?o:u.globals.seriesLog}},{key:"getBaseLog",value:function(o,l){return Math.log(l)/Math.log(o)}},{key:"getLogVal",value:function(o,l,u){if(0===l)return 0;var f=this.w,p=0===f.globals.minYArr[u]?-1:this.getBaseLog(o,f.globals.minYArr[u]),_=(0===f.globals.maxYArr[u]?0:this.getBaseLog(o,f.globals.maxYArr[u]))-p;return l<1?l/_:(this.getBaseLog(o,l)-p)/_}},{key:"getLogYRatios",value:function(o){var l=this,u=this.w,f=this.w.globals;return f.yLogRatio=o.slice(),f.logYRange=f.yRange.map(function(p,_){if(u.config.yaxis[_]&&l.w.config.yaxis[_].logarithmic){var m,y=-Number.MAX_VALUE,w=Number.MIN_VALUE;return f.seriesLog.forEach(function(S,M){S.forEach(function(T){u.config.yaxis[M]&&u.config.yaxis[M].logarithmic&&(y=Math.max(T,y),w=Math.min(T,w))})}),m=Math.pow(f.yRange[_],Math.abs(w-y)/f.yRange[_]),f.yLogRatio[_]=m/f.gridHeight,m}}),f.invalidLogScale?o.slice():f.yLogRatio}}],[{key:"checkComboSeries",value:function(o){var l=!1,u=0,f=0;return o.length&&void 0!==o[0].type&&o.forEach(function(p){"bar"!==p.type&&"column"!==p.type&&"candlestick"!==p.type&&"boxPlot"!==p.type||u++,void 0!==p.type&&f++}),f>0&&(l=!0),{comboBarCount:u,comboCharts:l}}},{key:"extendArrayProps",value:function(o,l,u){return l.yaxis&&(l=o.extendYAxis(l,u)),l.annotations&&(l.annotations.yaxis&&(l=o.extendYAxisAnnotations(l)),l.annotations.xaxis&&(l=o.extendXAxisAnnotations(l)),l.annotations.points&&(l=o.extendPointAnnotations(l))),l}}]),U}(),Pl=function(){function U(o){Ie(this,U),this.w=o.w,this.annoCtx=o}return nt(U,[{key:"setOrientations",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.w;if("vertical"===o.label.orientation){var f=null!==l?l:0,p=u.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(f,"']"));if(null!==p){var _=p.getBoundingClientRect();p.setAttribute("x",parseFloat(p.getAttribute("x"))-_.height+4),p.setAttribute("y","top"===o.label.position?parseFloat(p.getAttribute("y"))+_.width:parseFloat(p.getAttribute("y"))-_.width);var m=this.annoCtx.graphics.rotateAroundCenter(p),y=m.x,w=m.y;p.setAttribute("transform","rotate(-90 ".concat(y," ").concat(w,")"))}}}},{key:"addBackgroundToAnno",value:function(o,l){var u=this.w;if(!o||void 0===l.label.text||void 0!==l.label.text&&!String(l.label.text).trim())return null;var f=u.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),p=o.getBoundingClientRect(),_=l.label.style.padding.left,m=l.label.style.padding.right,y=l.label.style.padding.top,w=l.label.style.padding.bottom;"vertical"===l.label.orientation&&(y=l.label.style.padding.left,w=l.label.style.padding.right,_=l.label.style.padding.top,m=l.label.style.padding.bottom);var T=this.annoCtx.graphics.drawRect(p.left-f.left-_-u.globals.barPadForNumericAxis,p.top-f.top-y,p.width+_+m,p.height+y+w,l.label.borderRadius,l.label.style.background,1,l.label.borderWidth,l.label.borderColor,0);return l.id&&T.node.classList.add(l.id),T}},{key:"annotationsBackground",value:function(){var o=this,l=this.w,u=function(f,p,_){var m=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(_,"-annotations .apexcharts-").concat(_,"-annotation-label[rel='").concat(p,"']"));if(m){var y=m.parentNode,w=o.addBackgroundToAnno(m,f);w&&(y.insertBefore(w.node,m),f.label.mouseEnter&&w.node.addEventListener("mouseenter",f.label.mouseEnter.bind(o,f)),f.label.mouseLeave&&w.node.addEventListener("mouseleave",f.label.mouseLeave.bind(o,f)))}};l.config.annotations.xaxis.map(function(f,p){u(f,p,"xaxis")}),l.config.annotations.yaxis.map(function(f,p){u(f,p,"yaxis")}),l.config.annotations.points.map(function(f,p){u(f,p,"point")})}},{key:"getY1Y2",value:function(o,l){var u,f="y1"===o?l.y:l.y2,p=this.w;if(this.annoCtx.invertAxis){var _=p.globals.labels.indexOf(f);p.config.xaxis.convertedCatToNumeric&&(_=p.globals.categoryLabels.indexOf(f));var m=p.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child("+(_+1)+")");m&&(u=parseFloat(m.getAttribute("y")))}else{var y;y=p.config.yaxis[l.yAxisIndex].logarithmic?(f=new hn(this.annoCtx.ctx).getLogVal(f,l.yAxisIndex))/p.globals.yLogRatio[l.yAxisIndex]:(f-p.globals.minYArr[l.yAxisIndex])/(p.globals.yRange[l.yAxisIndex]/p.globals.gridHeight),u=p.globals.gridHeight-y,p.config.yaxis[l.yAxisIndex]&&p.config.yaxis[l.yAxisIndex].reversed&&(u=y)}return u}},{key:"getX1X2",value:function(o,l){var u=this.w,f=this.annoCtx.invertAxis?u.globals.minY:u.globals.minX,p=this.annoCtx.invertAxis?u.globals.maxY:u.globals.maxX,_=this.annoCtx.invertAxis?u.globals.yRange[0]:u.globals.xRange,m=(l.x-f)/(_/u.globals.gridWidth);this.annoCtx.inversedReversedAxis&&(m=(p-l.x)/(_/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(m=this.getStringX(l.x));var y=(l.x2-f)/(_/u.globals.gridWidth);return this.annoCtx.inversedReversedAxis&&(y=(p-l.x2)/(_/u.globals.gridWidth)),"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||u.globals.dataFormatXNumeric||(y=this.getStringX(l.x2)),"x1"===o?m:y}},{key:"getStringX",value:function(o){var l=this.w,u=o;l.config.xaxis.convertedCatToNumeric&&l.globals.categoryLabels.length&&(o=l.globals.categoryLabels.indexOf(o)+1);var f=l.globals.labels.indexOf(o),p=l.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child("+(f+1)+")");return p&&(u=parseFloat(p.getAttribute("x"))),u}}]),U}(),vh=function(){function U(o){Ie(this,U),this.w=o.w,this.annoCtx=o,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Pl(this.annoCtx)}return nt(U,[{key:"addXaxisAnnotation",value:function(o,l,u){var f,p=this.w,_=this.helpers.getX1X2("x1",o),m=o.label.text,y=o.strokeDashArray;if(fe.isNumber(_)){if(null==o.x2){var w=this.annoCtx.graphics.drawLine(_+o.offsetX,0+o.offsetY,_+o.offsetX,p.globals.gridHeight+o.offsetY,o.borderColor,y,o.borderWidth);l.appendChild(w.node),o.id&&w.node.classList.add(o.id)}else{if((f=this.helpers.getX1X2("x2",o))<_){var S=_;_=f,f=S}var M=this.annoCtx.graphics.drawRect(_+o.offsetX,0+o.offsetY,f-_,p.globals.gridHeight+o.offsetY,0,o.fillColor,o.opacity,1,o.borderColor,y);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(M.node),o.id&&M.node.classList.add(o.id)}var T="top"===o.label.position?4:p.globals.gridHeight,R=this.annoCtx.graphics.getTextRects(m,parseFloat(o.label.style.fontSize)),O=this.annoCtx.graphics.drawText({x:_+o.label.offsetX,y:T+o.label.offsetY-("vertical"===o.label.orientation?"top"===o.label.position?R.width/2-12:-R.width/2:0),text:m,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});O.attr({rel:u}),l.appendChild(O.node),this.annoCtx.helpers.setOrientations(o,u)}}},{key:"drawXAxisAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return l.config.annotations.xaxis.map(function(f,p){o.addXaxisAnnotation(f,u.node,p)}),u}}]),U}(),ib=function(){function U(o){Ie(this,U),this.w=o.w,this.annoCtx=o,this.helpers=new Pl(this.annoCtx)}return nt(U,[{key:"addYaxisAnnotation",value:function(o,l,u){var f,p=this.w,_=o.strokeDashArray,m=this.helpers.getY1Y2("y1",o),y=o.label.text;if(null==o.y2){var w=this.annoCtx.graphics.drawLine(0+o.offsetX,m+o.offsetY,this._getYAxisAnnotationWidth(o),m+o.offsetY,o.borderColor,_,o.borderWidth);l.appendChild(w.node),o.id&&w.node.classList.add(o.id)}else{if((f=this.helpers.getY1Y2("y2",o))>m){var S=m;m=f,f=S}var M=this.annoCtx.graphics.drawRect(0+o.offsetX,f+o.offsetY,this._getYAxisAnnotationWidth(o),m-f,0,o.fillColor,o.opacity,1,o.borderColor,_);M.node.classList.add("apexcharts-annotation-rect"),M.attr("clip-path","url(#gridRectMask".concat(p.globals.cuid,")")),l.appendChild(M.node),o.id&&M.node.classList.add(o.id)}var R=this.annoCtx.graphics.drawText({x:("right"===o.label.position?p.globals.gridWidth:0)+o.label.offsetX,y:(null!=f?f:m)+o.label.offsetY-3,text:y,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});R.attr({rel:u}),l.appendChild(R.node)}},{key:"_getYAxisAnnotationWidth",value:function(o){var l=this.w;return(o.width.indexOf("%")>-1?l.globals.gridWidth*parseInt(o.width,10)/100:parseInt(o.width,10))+o.offsetX}},{key:"drawYAxisAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return l.config.annotations.yaxis.map(function(f,p){o.addYaxisAnnotation(f,u.node,p)}),u}}]),U}(),yh=function(){function U(o){Ie(this,U),this.w=o.w,this.annoCtx=o,this.helpers=new Pl(this.annoCtx)}return nt(U,[{key:"addPointAnnotation",value:function(o,l,u){var f=this.helpers.getX1X2("x1",o),p=this.helpers.getY1Y2("y1",o);if(fe.isNumber(f)){var _={pSize:o.marker.size,pointStrokeWidth:o.marker.strokeWidth,pointFillColor:o.marker.fillColor,pointStrokeColor:o.marker.strokeColor,shape:o.marker.shape,pRadius:o.marker.radius,class:"apexcharts-point-annotation-marker ".concat(o.marker.cssClass," ").concat(o.id?o.id:"")},m=this.annoCtx.graphics.drawMarker(f+o.marker.offsetX,p+o.marker.offsetY,_);l.appendChild(m.node);var y=o.label.text?o.label.text:"",w=this.annoCtx.graphics.drawText({x:f+o.label.offsetX,y:p+o.label.offsetY-o.marker.size-parseFloat(o.label.style.fontSize)/1.6,text:y,textAnchor:o.label.textAnchor,fontSize:o.label.style.fontSize,fontFamily:o.label.style.fontFamily,fontWeight:o.label.style.fontWeight,foreColor:o.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(o.label.style.cssClass," ").concat(o.id?o.id:"")});if(w.attr({rel:u}),l.appendChild(w.node),o.customSVG.SVG){var S=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+o.customSVG.cssClass});S.attr({transform:"translate(".concat(f+o.customSVG.offsetX,", ").concat(p+o.customSVG.offsetY,")")}),S.node.innerHTML=o.customSVG.SVG,l.appendChild(S.node)}if(o.image.path){var M=o.image.width?o.image.width:20,T=o.image.height?o.image.height:20;m=this.annoCtx.addImage({x:f+o.image.offsetX-M/2,y:p+o.image.offsetY-T/2,width:M,height:T,path:o.image.path,appendTo:".apexcharts-point-annotations"})}o.mouseEnter&&m.node.addEventListener("mouseenter",o.mouseEnter.bind(this,o)),o.mouseLeave&&m.node.addEventListener("mouseleave",o.mouseLeave.bind(this,o))}}},{key:"drawPointAnnotations",value:function(){var o=this,l=this.w,u=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return l.config.annotations.points.map(function(f,p){o.addPointAnnotation(f,u.node,p)}),u}}]),U}(),Fr={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},Oo=function(){function U(){Ie(this,U),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:0,mouseEnter:void 0,mouseLeave:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,radius:2,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return nt(U,[{key:"init",value:function(){return{annotations:{position:"front",yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"transparent",locales:[Fr],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0},stacked:!1,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter:function(o){return new Date(o).toDateString()}},png:{filename:void 0},svg:{filename:void 0}},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,rangeBarOverlap:!0,rangeBarGroupRows:!1,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal"}},bubble:{minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(o){return o}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(o){return o+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(o){return o.globals.seriesTotals.reduce(function(l,u){return l+u},0)/o.globals.series.length+"%"}}}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(o){return o}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(o){return o}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(o){return o.globals.seriesTotals.reduce(function(l,u){return l+u},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(o){return null!==o?o:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{width:12,height:12,strokeWidth:0,fillColors:void 0,strokeColor:"#fff",radius:12,customHTML:void 0,offsetX:0,offsetY:0,onClick:void 0},itemMargin:{horizontal:5,vertical:2},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",width:8,height:8,radius:2,offsetX:0,offsetY:0,onClick:void 0,onDblClick:void 0,showNullDataPoints:!0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(o){return o?o+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"light",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),U}(),ig=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.graphics=new Be(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Pl(this),this.xAxisAnnotations=new vh(this),this.yAxisAnnotations=new ib(this),this.pointsAnnotations=new yh(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return nt(U,[{key:"drawAxesAnnotations",value:function(){var o=this.w;if(o.globals.axisCharts){for(var l=this.yAxisAnnotations.drawYAxisAnnotations(),u=this.xAxisAnnotations.drawXAxisAnnotations(),f=this.pointsAnnotations.drawPointAnnotations(),p=o.config.chart.animations.enabled,_=[l,u,f],m=[u.node,l.node,f.node],y=0;y<3;y++)o.globals.dom.elGraphical.add(_[y]),!p||o.globals.resized||o.globals.dataChanged||"scatter"!==o.config.chart.type&&"bubble"!==o.config.chart.type&&o.globals.dataPoints>1&&m[y].classList.add("apexcharts-element-hidden"),o.globals.delayedElements.push({el:m[y],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var o=this;this.w.config.annotations.images.map(function(l,u){o.addImage(l,u)})}},{key:"drawTextAnnos",value:function(){var o=this;this.w.config.annotations.texts.map(function(l,u){o.addText(l,u)})}},{key:"addXaxisAnnotation",value:function(o,l,u){this.xAxisAnnotations.addXaxisAnnotation(o,l,u)}},{key:"addYaxisAnnotation",value:function(o,l,u){this.yAxisAnnotations.addYaxisAnnotation(o,l,u)}},{key:"addPointAnnotation",value:function(o,l,u){this.pointsAnnotations.addPointAnnotation(o,l,u)}},{key:"addText",value:function(o,l){var p=o.text,T=o.backgroundColor,R=o.borderWidth,O=o.strokeDashArray,L=o.borderRadius,H=o.borderColor,z=o.appendTo,Y=void 0===z?".apexcharts-annotations":z,X=o.paddingLeft,x=void 0===X?4:X,k=o.paddingRight,B=void 0===k?4:k,W=o.paddingBottom,K=void 0===W?2:W,ve=o.paddingTop,te=void 0===ve?2:ve,Ee=this.w,Le=this.graphics.drawText({x:o.x,y:o.y,text:p,textAnchor:o.textAnchor||"start",fontSize:o.fontSize||"12px",fontWeight:o.fontWeight||"regular",fontFamily:o.fontFamily||Ee.config.chart.fontFamily,foreColor:o.foreColor||Ee.config.chart.foreColor,cssClass:o.cssClass}),$e=Ee.globals.dom.baseEl.querySelector(Y);$e&&$e.appendChild(Le.node);var Tt=Le.bbox();if(p){var Ii=this.graphics.drawRect(Tt.x-x,Tt.y-te,Tt.width+x+B,Tt.height+K+te,L,T||"transparent",1,R,H,O);$e.insertBefore(Ii.node,Le.node)}}},{key:"addImage",value:function(o,l){var u=this.w,p=o.x,_=void 0===p?0:p,m=o.y,y=void 0===m?0:m,w=o.width,S=void 0===w?20:w,M=o.height,T=void 0===M?20:M,R=o.appendTo,O=void 0===R?".apexcharts-annotations":R,L=u.globals.dom.Paper.image(o.path);L.size(S,T).move(_,y);var H=u.globals.dom.baseEl.querySelector(O);return H&&H.appendChild(L.node),L}},{key:"addXaxisAnnotationExternal",value:function(o,l,u){return this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"xaxis",contextMethod:u.addXaxisAnnotation}),u}},{key:"addYaxisAnnotationExternal",value:function(o,l,u){return this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"yaxis",contextMethod:u.addYaxisAnnotation}),u}},{key:"addPointAnnotationExternal",value:function(o,l,u){return void 0===this.invertAxis&&(this.invertAxis=u.w.globals.isBarHorizontal),this.addAnnotationExternal({params:o,pushToMemory:l,context:u,type:"point",contextMethod:u.addPointAnnotation}),u}},{key:"addAnnotationExternal",value:function(o){var l=o.params,u=o.pushToMemory,f=o.context,p=o.type,_=o.contextMethod,m=f,y=m.w,w=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations")),S=w.childNodes.length+1,M=new Oo,T=Object.assign({},"xaxis"===p?M.xAxisAnnotation:"yaxis"===p?M.yAxisAnnotation:M.pointAnnotation),R=fe.extend(T,l);switch(p){case"xaxis":this.addXaxisAnnotation(R,w,S);break;case"yaxis":this.addYaxisAnnotation(R,w,S);break;case"point":this.addPointAnnotation(R,w,S)}var O=y.globals.dom.baseEl.querySelector(".apexcharts-".concat(p,"-annotations .apexcharts-").concat(p,"-annotation-label[rel='").concat(S,"']")),L=this.helpers.addBackgroundToAnno(O,R);return L&&w.insertBefore(L.node,O),u&&y.globals.memory.methodsToExec.push({context:m,id:R.id?R.id:fe.randomId(),method:_,label:"addAnnotation",params:l}),f}},{key:"clearAnnotations",value:function(o){var l=o.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations");l.globals.memory.methodsToExec.map(function(f,p){"addText"!==f.label&&"addAnnotation"!==f.label||l.globals.memory.methodsToExec.splice(p,1)}),u=fe.listToArray(u),Array.prototype.forEach.call(u,function(f){for(;f.firstChild;)f.removeChild(f.firstChild)})}},{key:"removeAnnotation",value:function(o,l){var u=o.w,f=u.globals.dom.baseEl.querySelectorAll(".".concat(l));f&&(u.globals.memory.methodsToExec.map(function(p,_){p.id===l&&u.globals.memory.methodsToExec.splice(_,1)}),Array.prototype.forEach.call(f,function(p){p.parentElement.removeChild(p)}))}}]),U}(),Jt=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.opts=null,this.seriesIndex=0}return nt(U,[{key:"clippedImgArea",value:function(o){var l=this.w,u=l.config,f=parseInt(l.globals.gridWidth,10),p=parseInt(l.globals.gridHeight,10),_=f>p?f:p,m=o.image,y=0,w=0;void 0===o.width&&void 0===o.height?void 0!==u.fill.image.width&&void 0!==u.fill.image.height?(y=u.fill.image.width+1,w=u.fill.image.height):(y=_+1,w=_):(y=o.width,w=o.height);var S=document.createElementNS(l.globals.SVGNS,"pattern");Be.setAttrs(S,{id:o.patternID,patternUnits:o.patternUnits?o.patternUnits:"userSpaceOnUse",width:y+"px",height:w+"px"});var M=document.createElementNS(l.globals.SVGNS,"image");S.appendChild(M),M.setAttributeNS(window.SVG.xlink,"href",m),Be.setAttrs(M,{x:0,y:0,preserveAspectRatio:"none",width:y+"px",height:w+"px"}),M.style.opacity=o.opacity,l.globals.dom.elDefs.node.appendChild(S)}},{key:"getSeriesIndex",value:function(o){var l=this.w;return this.seriesIndex=("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||"heatmap"===l.config.chart.type||"treemap"===l.config.chart.type?o.seriesNumber:o.seriesNumber%l.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(o){var l=this.w;this.opts=o;var u,f,p,_=this.w.config;this.seriesIndex=this.getSeriesIndex(o);var m=this.getFillColors()[this.seriesIndex];void 0!==l.globals.seriesColors[this.seriesIndex]&&(m=l.globals.seriesColors[this.seriesIndex]),"function"==typeof m&&(m=m({seriesIndex:this.seriesIndex,dataPointIndex:o.dataPointIndex,value:o.value,w:l}));var y=this.getFillType(this.seriesIndex),w=Array.isArray(_.fill.opacity)?_.fill.opacity[this.seriesIndex]:_.fill.opacity;o.color&&(m=o.color);var S=m;if(-1===m.indexOf("rgb")?m.length<9&&(S=fe.hexToRgba(m,w)):m.indexOf("rgba")>-1&&(w=fe.getOpacityFromRGBA(m)),o.opacity&&(w=o.opacity),"pattern"===y&&(f=this.handlePatternFill(f,m,w,S)),"gradient"===y&&(p=this.handleGradientFill(m,w,this.seriesIndex)),"image"===y){var M=_.fill.image.src,T=o.patternID?o.patternID:"";this.clippedImgArea({opacity:w,image:Array.isArray(M)?o.seriesNumber<M.length?M[o.seriesNumber]:M[0]:M,width:o.width?o.width:void 0,height:o.height?o.height:void 0,patternUnits:o.patternUnits,patternID:"pattern".concat(l.globals.cuid).concat(o.seriesNumber+1).concat(T)}),u="url(#pattern".concat(l.globals.cuid).concat(o.seriesNumber+1).concat(T,")")}else u="gradient"===y?p:"pattern"===y?f:S;return o.solid&&(u=S),u}},{key:"getFillType",value:function(o){var l=this.w;return Array.isArray(l.config.fill.type)?l.config.fill.type[o]:l.config.fill.type}},{key:"getFillColors",value:function(){var o=this.w,l=o.config,u=this.opts,f=[];return o.globals.comboCharts?"line"===o.config.series[this.seriesIndex].type?Array.isArray(o.globals.stroke.colors)?f=o.globals.stroke.colors:f.push(o.globals.stroke.colors):Array.isArray(o.globals.fill.colors)?f=o.globals.fill.colors:f.push(o.globals.fill.colors):"line"===l.chart.type?Array.isArray(o.globals.stroke.colors)?f=o.globals.stroke.colors:f.push(o.globals.stroke.colors):Array.isArray(o.globals.fill.colors)?f=o.globals.fill.colors:f.push(o.globals.fill.colors),void 0!==u.fillColors&&(f=[],Array.isArray(u.fillColors)?f=u.fillColors.slice():f.push(u.fillColors)),f}},{key:"handlePatternFill",value:function(o,l,u,f){var p=this.w.config,_=this.opts,m=new Be(this.ctx),y=void 0===p.fill.pattern.strokeWidth?Array.isArray(p.stroke.width)?p.stroke.width[this.seriesIndex]:p.stroke.width:Array.isArray(p.fill.pattern.strokeWidth)?p.fill.pattern.strokeWidth[this.seriesIndex]:p.fill.pattern.strokeWidth,w=l;return Array.isArray(p.fill.pattern.style)?void 0!==p.fill.pattern.style[_.seriesNumber]?m.drawPattern(p.fill.pattern.style[_.seriesNumber],p.fill.pattern.width,p.fill.pattern.height,w,y,u):f:m.drawPattern(p.fill.pattern.style,p.fill.pattern.width,p.fill.pattern.height,w,y,u)}},{key:"handleGradientFill",value:function(o,l,u){var f,p=this.w.config,_=this.opts,m=new Be(this.ctx),y=new fe,w=p.fill.gradient.type,S=o,M=void 0===p.fill.gradient.opacityFrom?l:Array.isArray(p.fill.gradient.opacityFrom)?p.fill.gradient.opacityFrom[u]:p.fill.gradient.opacityFrom;S.indexOf("rgba")>-1&&(M=fe.getOpacityFromRGBA(S));var T=void 0===p.fill.gradient.opacityTo?l:Array.isArray(p.fill.gradient.opacityTo)?p.fill.gradient.opacityTo[u]:p.fill.gradient.opacityTo;if(void 0===p.fill.gradient.gradientToColors||0===p.fill.gradient.gradientToColors.length)f=y.shadeColor("dark"===p.fill.gradient.shade?-1*parseFloat(p.fill.gradient.shadeIntensity):parseFloat(p.fill.gradient.shadeIntensity),o.indexOf("rgb")>-1?fe.rgb2hex(o):o);else if(p.fill.gradient.gradientToColors[_.seriesNumber]){var R=p.fill.gradient.gradientToColors[_.seriesNumber];f=R,R.indexOf("rgba")>-1&&(T=fe.getOpacityFromRGBA(R))}else f=o;if(p.fill.gradient.inverseColors){var O=S;S=f,f=O}return S.indexOf("rgb")>-1&&(S=fe.rgb2hex(S)),f.indexOf("rgb")>-1&&(f=fe.rgb2hex(f)),m.drawGradient(w,S,f,M,T,_.size,p.fill.gradient.stops,p.fill.gradient.colorStops,u)}}]),U}(),Fo=function(){function U(o,l){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"setGlobalMarkerSize",value:function(){var o=this.w;if(o.globals.markers.size=Array.isArray(o.config.markers.size)?o.config.markers.size:[o.config.markers.size],o.globals.markers.size.length>0){if(o.globals.markers.size.length<o.globals.series.length+1)for(var l=0;l<=o.globals.series.length;l++)void 0===o.globals.markers.size[l]&&o.globals.markers.size.push(o.globals.markers.size[0])}else o.globals.markers.size=o.config.series.map(function(u){return o.config.markers.size})}},{key:"plotChartMarkers",value:function(o,l,u,f){var p,_=arguments.length>4&&void 0!==arguments[4]&&arguments[4],m=this.w,y=l,w=o,S=null,M=new Be(this.ctx),T=m.config.markers.discrete&&m.config.markers.discrete.length;if((m.globals.markers.size[l]>0||_||T)&&(S=M.group({class:_||T?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(m.globals.cuid,")")),Array.isArray(w.x))for(var R=0;R<w.x.length;R++){var O=u;1===u&&0===R&&(O=0),1===u&&1===R&&(O=1);var L="apexcharts-marker";"line"!==m.config.chart.type&&"area"!==m.config.chart.type||m.globals.comboCharts||m.config.tooltip.intersect||(L+=" no-pointer-events");var H=Array.isArray(m.config.markers.size)?m.globals.markers.size[l]>0:m.config.markers.size>0;if(H||_||T){fe.isNumber(w.y[R])?L+=" w".concat(fe.randomId()):L="apexcharts-nullpoint";var z=this.getMarkerConfig({cssClass:L,seriesIndex:l,dataPointIndex:O});m.config.series[y].data[O]&&(m.config.series[y].data[O].fillColor&&(z.pointFillColor=m.config.series[y].data[O].fillColor),m.config.series[y].data[O].strokeColor&&(z.pointStrokeColor=m.config.series[y].data[O].strokeColor)),f&&(z.pSize=f),(p=M.drawMarker(w.x[R],w.y[R],z)).attr("rel",O),p.attr("j",O),p.attr("index",l),p.node.setAttribute("default-marker-size",z.pSize);var Y=new An(this.ctx);Y.setSelectionFilter(p,l,O),this.addEvents(p),S&&S.add(p)}else void 0===m.globals.pointsArray[l]&&(m.globals.pointsArray[l]=[]),m.globals.pointsArray[l].push([w.x[R],w.y[R]])}return S}},{key:"getMarkerConfig",value:function(o){var l=o.cssClass,u=o.seriesIndex,f=o.dataPointIndex,p=void 0===f?null:f,_=o.finishRadius,m=void 0===_?null:_,y=this.w,w=this.getMarkerStyle(u),S=y.globals.markers.size[u],M=y.config.markers;return null!==p&&M.discrete.length&&M.discrete.map(function(T){T.seriesIndex===u&&T.dataPointIndex===p&&(w.pointStrokeColor=T.strokeColor,w.pointFillColor=T.fillColor,S=T.size,w.pointShape=T.shape)}),{pSize:null===m?S:m,pRadius:M.radius,width:Array.isArray(M.width)?M.width[u]:M.width,height:Array.isArray(M.height)?M.height[u]:M.height,pointStrokeWidth:Array.isArray(M.strokeWidth)?M.strokeWidth[u]:M.strokeWidth,pointStrokeColor:w.pointStrokeColor,pointFillColor:w.pointFillColor,shape:w.pointShape||(Array.isArray(M.shape)?M.shape[u]:M.shape),class:l,pointStrokeOpacity:Array.isArray(M.strokeOpacity)?M.strokeOpacity[u]:M.strokeOpacity,pointStrokeDashArray:Array.isArray(M.strokeDashArray)?M.strokeDashArray[u]:M.strokeDashArray,pointFillOpacity:Array.isArray(M.fillOpacity)?M.fillOpacity[u]:M.fillOpacity,seriesIndex:u}}},{key:"addEvents",value:function(o){var l=this.w,u=new Be(this.ctx);o.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this.ctx,o)),o.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this.ctx,o)),o.node.addEventListener("mousedown",u.pathMouseDown.bind(this.ctx,o)),o.node.addEventListener("click",l.config.markers.onClick),o.node.addEventListener("dblclick",l.config.markers.onDblClick),o.node.addEventListener("touchstart",u.pathMouseDown.bind(this.ctx,o),{passive:!0})}},{key:"getMarkerStyle",value:function(o){var l=this.w,u=l.globals.markers.colors,f=l.config.markers.strokeColor||l.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(f)?f[o]:f,pointFillColor:Array.isArray(u)?u[o]:u}}}]),U}(),ng=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled}return nt(U,[{key:"draw",value:function(o,l,u){var f=this.w,p=new Be(this.ctx),_=u.realIndex,m=u.pointsPos,y=u.zRatio,w=u.elParent,S=p.group({class:"apexcharts-series-markers apexcharts-series-".concat(f.config.chart.type)});if(S.attr("clip-path","url(#gridRectMarkerMask".concat(f.globals.cuid,")")),Array.isArray(m.x))for(var M=0;M<m.x.length;M++){var T=l+1,R=!0;0===l&&0===M&&(T=0),0===l&&1===M&&(T=1);var O=0,L=f.globals.markers.size[_];if(y!==1/0){L=f.globals.seriesZ[_][T]/y;var H=f.config.plotOptions.bubble;H.minBubbleRadius&&L<H.minBubbleRadius&&(L=H.minBubbleRadius),H.maxBubbleRadius&&L>H.maxBubbleRadius&&(L=H.maxBubbleRadius)}f.config.chart.animations.enabled||(O=L);var Y=m.y[M];if(O=O||0,null!==Y&&void 0!==f.globals.series[_][T]||(R=!1),R){var X=this.drawPoint(m.x[M],Y,O,L,_,T,l);S.add(X)}w.add(S)}}},{key:"drawPoint",value:function(o,l,u,f,p,_,m){var y=this.w,w=p,S=new Lo(this.ctx),M=new An(this.ctx),T=new Jt(this.ctx),R=new Fo(this.ctx),O=new Be(this.ctx),L=R.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:w,dataPointIndex:_,finishRadius:"bubble"===y.config.chart.type||y.globals.comboCharts&&y.config.series[p]&&"bubble"===y.config.series[p].type?f:null});f=L.pSize;var H,z=T.fillPath({seriesNumber:p,dataPointIndex:_,color:L.pointFillColor,patternUnits:"objectBoundingBox",value:y.globals.series[p][m]});if("circle"===L.shape?H=O.drawCircle(u):"square"!==L.shape&&"rect"!==L.shape||(H=O.drawRect(0,0,L.width-L.pointStrokeWidth/2,L.height-L.pointStrokeWidth/2,L.pRadius)),y.config.series[w].data[_]&&y.config.series[w].data[_].fillColor&&(z=y.config.series[w].data[_].fillColor),H.attr({x:o-L.width/2-L.pointStrokeWidth/2,y:l-L.height/2-L.pointStrokeWidth/2,cx:o,cy:l,fill:z,"fill-opacity":L.pointFillOpacity,stroke:L.pointStrokeColor,r:f,"stroke-width":L.pointStrokeWidth,"stroke-dasharray":L.pointStrokeDashArray,"stroke-opacity":L.pointStrokeOpacity}),y.config.chart.dropShadow.enabled&&M.dropShadow(H,y.config.chart.dropShadow,p),!this.initialAnim||y.globals.dataChanged||y.globals.resized?y.globals.animationEnded=!0:S.animateMarker(H,0,"circle"===L.shape?f:{width:L.width,height:L.height},y.config.chart.animations.speed,y.globals.easing,function(){window.setTimeout(function(){S.animationCompleted(H)},100)}),y.globals.dataChanged&&"circle"===L.shape)if(this.dynamicAnim){var x,k,B,W,K=y.config.chart.animations.dynamicAnimation.speed;null!=(W=y.globals.previousPaths[p]&&y.globals.previousPaths[p][m])&&(x=W.x,k=W.y,B=void 0!==W.r?W.r:f);for(var ve=0;ve<y.globals.collapsedSeries.length;ve++)y.globals.collapsedSeries[ve].index===p&&(K=1,f=0);0===o&&0===l&&(f=0),S.animateCircle(H,{cx:x,cy:k,r:B},{cx:o,cy:l,r:f},K,y.globals.easing)}else H.attr({r:f});return H.attr({rel:_,j:_,index:p,"default-marker-size":f}),M.setSelectionFilter(H,p,_),R.addEvents(H),H.node.classList.add("apexcharts-marker"),H}},{key:"centerTextInBubble",value:function(o){return{y:o+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),U}(),No=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"dataLabelsCorrection",value:function(o,l,u,f,p,_,m){var y=this.w,w=!1,S=new Be(this.ctx).getTextRects(u,m),M=S.width,T=S.height;if(l<0&&(l=0),l>y.globals.gridHeight+T&&(l=y.globals.gridHeight+T/2),void 0===y.globals.dataLabelsRects[f]&&(y.globals.dataLabelsRects[f]=[]),y.globals.dataLabelsRects[f].push({x:o,y:l,width:M,height:T}),void 0!==y.globals.dataLabelsRects[f][y.globals.dataLabelsRects[f].length-2]){var L=y.globals.dataLabelsRects[f][void 0!==y.globals.lastDrawnDataLabelsIndexes[f]?y.globals.lastDrawnDataLabelsIndexes[f][y.globals.lastDrawnDataLabelsIndexes[f].length-1]:0];(o>L.x+L.width+2||l>L.y+L.height+2||o+M<L.x)&&(w=!0)}return(0===p||_)&&(w=!0),{x:o,y:l,textRects:S,drawnextLabel:w}}},{key:"drawDataLabel",value:function(o,l,u){var f=this,p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,_=this.w,m=new Be(this.ctx),y=_.config.dataLabels,w=0,S=0,M=u,T=null;if(!y.enabled||!Array.isArray(o.x))return T;T=m.group({class:"apexcharts-data-labels"});for(var R=0;R<o.x.length;R++)if(w=o.x[R]+y.offsetX,S=o.y[R]+y.offsetY+p,!isNaN(w)){1===u&&0===R&&(M=0),1===u&&1===R&&(M=1);var O=_.globals.series[l][M],L="",H=function(X){return _.config.dataLabels.formatter(X,{ctx:f.ctx,seriesIndex:l,dataPointIndex:M,w:_})};if("bubble"===_.config.chart.type){L=H(O=_.globals.seriesZ[l][M]),S=o.y[R];var z=new ng(this.ctx),Y=z.centerTextInBubble(S,l,M);S=Y.y}else void 0!==O&&(L=H(O));this.plotDataLabelsText({x:w,y:S,text:L,i:l,j:M,parent:T,offsetCorrection:!0,dataLabelsConfig:_.config.dataLabels})}return T}},{key:"plotDataLabelsText",value:function(o){var l=this.w,u=new Be(this.ctx),f=o.x,p=o.y,_=o.i,m=o.j,y=o.text,w=o.textAnchor,S=o.fontSize,M=o.parent,T=o.dataLabelsConfig,R=o.color,O=o.alwaysDrawDataLabel,L=o.offsetCorrection;if(!(Array.isArray(l.config.dataLabels.enabledOnSeries)&&l.config.dataLabels.enabledOnSeries.indexOf(_)<0)){var H={x:f,y:p,drawnextLabel:!0,textRects:null};L&&(H=this.dataLabelsCorrection(f,p,y,_,m,O,parseInt(T.style.fontSize,10))),l.globals.zoomed||(f=H.x,p=H.y),H.textRects&&(f<-10-H.textRects.width||f>l.globals.gridWidth+H.textRects.width+10)&&(y="");var z=l.globals.dataLabels.style.colors[_];(("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)&&l.config.plotOptions.bar.distributed||l.config.dataLabels.distributed)&&(z=l.globals.dataLabels.style.colors[m]),"function"==typeof z&&(z=z({series:l.globals.series,seriesIndex:_,dataPointIndex:m,w:l})),R&&(z=R);var Y=T.offsetX,X=T.offsetY;if("bar"!==l.config.chart.type&&"rangeBar"!==l.config.chart.type||(Y=0,X=0),H.drawnextLabel){var x=u.drawText({width:100,height:parseInt(T.style.fontSize,10),x:f+Y,y:p+X,foreColor:z,textAnchor:w||T.textAnchor,text:y,fontSize:S||T.style.fontSize,fontFamily:T.style.fontFamily,fontWeight:T.style.fontWeight||"normal"});if(x.attr({class:"apexcharts-datalabel",cx:f,cy:p}),T.dropShadow.enabled){var k=T.dropShadow;new An(this.ctx).dropShadow(x,k)}M.add(x),void 0===l.globals.lastDrawnDataLabelsIndexes[_]&&(l.globals.lastDrawnDataLabelsIndexes[_]=[]),l.globals.lastDrawnDataLabelsIndexes[_].push(m)}}}},{key:"addBackgroundToDataLabel",value:function(o,l){var u=this.w,f=u.config.dataLabels.background,p=f.padding,_=f.padding/2,m=l.width,y=l.height,w=new Be(this.ctx).drawRect(l.x-p,l.y-_/2,m+2*p,y+_,f.borderRadius,"transparent"===u.config.chart.background?"#fff":u.config.chart.background,f.opacity,f.borderWidth,f.borderColor);return f.dropShadow.enabled&&new An(this.ctx).dropShadow(w,f.dropShadow),w}},{key:"dataLabelsBackground",value:function(){var o=this.w;if("bubble"!==o.config.chart.type)for(var l=o.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),u=0;u<l.length;u++){var f=l[u],p=f.getBBox(),_=null;if(p.width&&p.height&&(_=this.addBackgroundToDataLabel(f,p)),_){f.parentNode.insertBefore(_.node,f);var m=f.getAttribute("fill");!o.config.chart.animations.enabled||o.globals.resized||o.globals.dataChanged?_.attr({fill:m}):_.animate().attr({fill:m}),f.setAttribute("fill",o.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var o=this.w,l=o.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),u=o.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),f=0;f<l.length;f++)u&&u.insertBefore(l[f],u.nextSibling)}}]),U}(),nb=function(){function U(o){Ie(this,U),this.w=o.w,this.barCtx=o}return nt(U,[{key:"handleBarDataLabels",value:function(o){var l=o.x,u=o.y,f=o.y1,p=o.y2,_=o.i,m=o.j,y=o.realIndex,w=o.series,S=o.barHeight,M=o.barWidth,T=o.barYPosition,R=o.visibleSeries,O=o.renderedPath,L=this.w,H=new Be(this.barCtx.ctx),z=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[y]:this.barCtx.strokeWidth,Y=l+parseFloat(M*R),X=u+parseFloat(S*R);L.globals.isXNumeric&&!L.globals.isBarHorizontal&&(Y=l+parseFloat(M*(R+1)),X=u+parseFloat(S*(R+1))-z);var B,x=l,k=u,W=L.config.dataLabels,K=this.barCtx.barOptions.dataLabels;void 0!==T&&this.barCtx.isRangeBar&&(X=T,k=T);var ve=W.offsetX,te=W.offsetY,Ee={width:0,height:0};L.config.dataLabels.enabled&&(Ee=H.getTextRects(L.globals.yLabelFormatters[0](this.barCtx.series[_][m]),parseFloat(W.style.fontSize)));var $e={x:l,y:u,i:_,j:m,renderedPath:O,bcx:Y,bcy:X,barHeight:S,barWidth:M,textRects:Ee,strokeWidth:z,dataLabelsX:x,dataLabelsY:k,barDataLabelsConfig:K,offX:ve,offY:te};return B=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition($e):this.calculateColumnsDataLabelsPosition($e),O.attr({cy:B.bcy,cx:B.bcx,j:m,val:w[_][m],barHeight:S,barWidth:M}),this.drawCalculatedDataLabels({x:B.dataLabelsX,y:B.dataLabelsY,val:this.barCtx.isRangeBar?[f,p]:w[_][m],i:y,j:m,barWidth:M,barHeight:S,textRects:Ee,dataLabelsConfig:W})}},{key:"calculateColumnsDataLabelsPosition",value:function(o){var l,u=this.w,f=o.i,p=o.j,_=o.y,m=o.bcx,y=o.barWidth,w=o.barHeight,S=o.textRects,M=o.dataLabelsY,T=o.barDataLabelsConfig,R=o.strokeWidth,O=o.offX,L=o.offY;w=Math.abs(w);var H="vertical"===u.config.plotOptions.bar.dataLabels.orientation;m-=R/2,l=u.globals.isXNumeric?m-y/2+O:m-u.globals.gridWidth/u.globals.dataPoints+y/2+O,H&&(l=l+S.height/2-R/2-2);var Y=this.barCtx.series[f][p]<0,X=_;switch(this.barCtx.isReversed&&(X=_-w+(Y?2*w:0),_-=w),T.position){case"center":M=H?Y?X+w/2+L:X+w/2-L:Y?X-w/2+S.height/2+L:X+w/2+S.height/2-L;break;case"bottom":M=H?Y?X+w+L:X+w-L:Y?X-w+S.height+R+L:X+w-S.height/2+R-L;break;case"top":M=H?Y?X+L:X-L:Y?X-S.height/2-L:X+S.height+L}return u.config.chart.stacked||(M<0?M=0+R:M+S.height/3>u.globals.gridHeight&&(M=u.globals.gridHeight-R)),{bcx:m,bcy:_,dataLabelsX:l,dataLabelsY:M}}},{key:"calculateBarsDataLabelsPosition",value:function(o){var l=this.w,u=o.x,f=o.i,p=o.j,_=o.bcy,m=o.barHeight,y=o.barWidth,w=o.textRects,S=o.dataLabelsX,M=o.strokeWidth,T=o.barDataLabelsConfig,R=o.offX,O=o.offY,L=l.globals.gridHeight/l.globals.dataPoints;y=Math.abs(y);var H=_-(this.barCtx.isRangeBar?0:L)+m/2+w.height/2+O-3,z=this.barCtx.series[f][p]<0,Y=u;switch(this.barCtx.isReversed&&(Y=u+y-(z?2*y:0),u=l.globals.gridWidth-y),T.position){case"center":S=z?Y+y/2-R:Math.max(w.width/2,Y-y/2)+R;break;case"bottom":S=z?Y+y-M-Math.round(w.width/2)-R:Y-y+M+Math.round(w.width/2)+R;break;case"top":S=z?Y-M+Math.round(w.width/2)-R:Y-M-Math.round(w.width/2)+R}return l.config.chart.stacked||(S<0?S=S+w.width+M:S+w.width/2>l.globals.gridWidth&&(S=l.globals.gridWidth-w.width-M)),{bcx:u,bcy:_,dataLabelsX:S,dataLabelsY:H}}},{key:"drawCalculatedDataLabels",value:function(o){var l=o.x,u=o.y,f=o.val,p=o.i,_=o.j,m=o.textRects,y=o.barHeight,w=o.barWidth,S=o.dataLabelsConfig,M=this.w,T="rotate(0)";"vertical"===M.config.plotOptions.bar.dataLabels.orientation&&(T="rotate(-90, ".concat(l,", ").concat(u,")"));var R=new No(this.barCtx.ctx),O=new Be(this.barCtx.ctx),L=S.formatter,H=null,z=M.globals.collapsedSeriesIndices.indexOf(p)>-1;if(S.enabled&&!z){H=O.group({class:"apexcharts-data-labels",transform:T});var Y="";void 0!==f&&(Y=L(f,{seriesIndex:p,dataPointIndex:_,w:M}));var X=M.globals.series[p][_]<0,x=M.config.plotOptions.bar.dataLabels.position;"vertical"===M.config.plotOptions.bar.dataLabels.orientation&&("top"===x&&(S.textAnchor=X?"end":"start"),"center"===x&&(S.textAnchor="middle"),"bottom"===x&&(S.textAnchor=X?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&w<O.getTextRects(Y,parseFloat(S.style.fontSize)).width&&(Y=""),M.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?m.width/1.6>Math.abs(w)&&(Y=""):m.height/1.6>Math.abs(y)&&(Y=""));var k=Gt({},S);this.barCtx.isHorizontal&&f<0&&("start"===S.textAnchor?k.textAnchor="end":"end"===S.textAnchor&&(k.textAnchor="start")),R.plotDataLabelsText({x:l,y:u,text:Y,i:p,j:_,parent:H,dataLabelsConfig:k,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return H}}]),U}(),Ge=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.legendInactiveClass="legend-mouseover-inactive"}return nt(U,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(o){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(fe.escapeString(o),"']"))}},{key:"isSeriesHidden",value:function(o){var l=this.getSeriesByName(o),u=parseInt(l.getAttribute("data:realIndex"),10);return{isHidden:l.classList.contains("apexcharts-series-collapsed"),realIndex:u}}},{key:"addCollapsedClassToSeries",value:function(o,l){var u=this.w;function f(p){for(var _=0;_<p.length;_++)p[_].index===l&&o.node.classList.add("apexcharts-series-collapsed")}f(u.globals.collapsedSeries),f(u.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(o){var l=this.isSeriesHidden(o);return this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,l.isHidden),l.isHidden}},{key:"showSeries",value:function(o){var l=this.isSeriesHidden(o);l.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!0)}},{key:"hideSeries",value:function(o){var l=this.isSeriesHidden(o);l.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(l.realIndex,!1)}},{key:"resetSeries",value:function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=this.w,p=fe.clone(f.globals.initialSeries);f.globals.previousPaths=[],u?(f.globals.collapsedSeries=[],f.globals.ancillaryCollapsedSeries=[],f.globals.collapsedSeriesIndices=[],f.globals.ancillaryCollapsedSeriesIndices=[]):p=this.emptyCollapsedSeries(p),f.config.series=p,o&&(l&&(f.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(o){for(var l=this.w,u=0;u<o.length;u++)l.globals.collapsedSeriesIndices.indexOf(u)>-1&&(o[u].data=[]);return o}},{key:"toggleSeriesOnHover",value:function(o,l){var u=this.w;l||(l=o.target);var f=u.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels");if("mousemove"===o.type){var p=parseInt(l.getAttribute("rel"),10)-1,_=null,m=null;u.globals.axisCharts||"radialBar"===u.config.chart.type?u.globals.axisCharts?(_=u.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(p,"']")),m=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(p,"']"))):_=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"']")):_=u.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(p+1,"'] path"));for(var y=0;y<f.length;y++)f[y].classList.add(this.legendInactiveClass);null!==_&&(u.globals.axisCharts||_.parentNode.classList.remove(this.legendInactiveClass),_.classList.remove(this.legendInactiveClass),null!==m&&m.classList.remove(this.legendInactiveClass))}else if("mouseout"===o.type)for(var w=0;w<f.length;w++)f[w].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(o,l){var u=this,f=this.w,p=f.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),_=function(y){for(var w=0;w<p.length;w++)p[w].classList[y](u.legendInactiveClass)};if("mousemove"===o.type){var m=parseInt(l.getAttribute("rel"),10)-1;_("add"),function(y){for(var w=0;w<p.length;w++){var S=parseInt(p[w].getAttribute("val"),10);S>=y.from&&S<=y.to&&p[w].classList.remove(u.legendInactiveClass)}}(f.config.plotOptions.heatmap.colorScale.ranges[m])}else"mouseout"===o.type&&_("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",u=this.w,f=0;if(u.config.series.length>1)for(var p=u.config.series.map(function(m,y){var w=!1;return o&&(w="bar"===u.config.series[y].type||"column"===u.config.series[y].type),m.data&&m.data.length>0&&!w?y:-1}),_="asc"===l?0:p.length-1;"asc"===l?_<p.length:_>=0;"asc"===l?_++:_--)if(-1!==p[_]){f=p[_];break}return f}},{key:"getPreviousPaths",value:function(){var o=this.w;function l(_,m,y){for(var w=_[m].childNodes,S={type:y,paths:[],realIndex:_[m].getAttribute("data:realIndex")},M=0;M<w.length;M++)if(w[M].hasAttribute("pathTo")){var T=w[M].getAttribute("pathTo");S.paths.push({d:T})}o.globals.previousPaths.push(S)}o.globals.previousPaths=[],["line","area","bar","rangebar","candlestick","radar"].forEach(function(_){for(var y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(_,"-series .apexcharts-series")),w=0;w<y.length;w++)l(y,w,_)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var u=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o.config.chart.type," .apexcharts-series"));if(u.length>0)for(var f=function(_){for(var m=o.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(_,"'] rect")),y=[],w=function(M){var T=function(O){return m[M].getAttribute(O)},R={x:parseFloat(T("x")),y:parseFloat(T("y")),width:parseFloat(T("width")),height:parseFloat(T("height"))};y.push({rect:R,color:m[M].getAttribute("color")})},S=0;S<m.length;S++)w(S);o.globals.previousPaths.push(y)},p=0;p<u.length;p++)f(p);o.globals.axisCharts||(o.globals.previousPaths=o.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(o){var l=this.w,u=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series"));if(u.length>0)for(var f=0;f<u.length;f++){for(var p=l.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series[data\\:realIndex='").concat(f,"'] circle")),_=[],m=0;m<p.length;m++)_.push({x:p[m].getAttribute("cx"),y:p[m].getAttribute("cy"),r:p[m].getAttribute("r")});l.globals.previousPaths.push(_)}}},{key:"clearPreviousPaths",value:function(){var o=this.w;o.globals.previousPaths=[],o.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var o=this.w,l=o.config.noData,u=new Be(this.ctx),f=o.globals.svgWidth/2,p=o.globals.svgHeight/2,_="middle";if(o.globals.noData=!0,o.globals.animationEnded=!0,"left"===l.align?(f=10,_="start"):"right"===l.align&&(f=o.globals.svgWidth-10,_="end"),"top"===l.verticalAlign?p=50:"bottom"===l.verticalAlign&&(p=o.globals.svgHeight-50),f+=l.offsetX,p=p+parseInt(l.style.fontSize,10)+2+l.offsetY,void 0!==l.text&&""!==l.text){var m=u.drawText({x:f,y:p,text:l.text,textAnchor:_,fontSize:l.style.fontSize,fontFamily:l.style.fontFamily,foreColor:l.style.color,opacity:1,class:"apexcharts-text-nodata"});o.globals.dom.Paper.add(m)}}},{key:"setNullSeriesToZeroValues",value:function(o){for(var l=this.w,u=0;u<o.length;u++)if(0===o[u].length)for(var f=0;f<o[l.globals.maxValsInArrayIndex].length;f++)o[u].push(0);return o}},{key:"hasAllSeriesEqualX",value:function(){for(var o=!0,l=this.w,u=this.filteredSeriesX(),f=0;f<u.length-1;f++)if(u[f][0]!==u[f+1][0]){o=!1;break}return l.globals.allSeriesHasEqualX=o,o}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(l){return l.length>0?l:[]})}}]),U}(),sg=function(){function U(o){Ie(this,U),this.w=o.w,this.barCtx=o}return nt(U,[{key:"initVariables",value:function(o){var l=this.w;this.barCtx.series=o,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var u=0;u<o.length;u++)if(o[u].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=o[u].length),l.globals.isXNumeric)for(var f=0;f<o[u].length;f++)l.globals.seriesX[u][f]>l.globals.minX&&l.globals.seriesX[u][f]<l.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=l.globals.dataPoints;0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],this.barCtx.radiusOnSeriesNumber=o.length-1,l.globals.comboCharts||this.checkZeroSeries({series:o})}},{key:"initialPositions",value:function(){var o,l,u,f,p,_,m,y,w=this.w,S=w.globals.dataPoints;this.barCtx.isRangeBar&&(S=w.globals.labels.length);var M=this.barCtx.seriesLen;if(w.config.plotOptions.bar.rangeBarGroupRows&&(M=1),this.barCtx.isHorizontal)p=(u=w.globals.gridHeight/S)/M,w.globals.isXNumeric&&(p=(u=w.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),p=p*parseInt(this.barCtx.barOptions.barHeight,10)/100,y=this.barCtx.baseLineInvertedY+w.globals.padHorizontal+(this.barCtx.isReversed?w.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),l=(u-p*this.barCtx.seriesLen)/2;else{if(f=w.globals.gridWidth/this.barCtx.visibleItems,w.config.xaxis.convertedCatToNumeric&&(f=w.globals.gridWidth/w.globals.dataPoints),_=f/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100,w.globals.isXNumeric){var T=this.barCtx.xRatio;w.config.xaxis.convertedCatToNumeric&&(T=this.barCtx.initialXRatio),w.globals.minXDiff&&.5!==w.globals.minXDiff&&w.globals.minXDiff/T>0&&(f=w.globals.minXDiff/T),(_=f/this.barCtx.seriesLen*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(_=1)}m=w.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.yaxisIndex]-(this.barCtx.isReversed?w.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.yaxisIndex]:0),o=w.globals.padHorizontal+(f-_*this.barCtx.seriesLen)/2}return{x:o,y:l,yDivision:u,xDivision:f,barHeight:p,barWidth:_,zeroH:m,zeroW:y}}},{key:"getPathFillColor",value:function(o,l,u,f){var p=this.w,_=new Jt(this.barCtx.ctx),m=null,y=this.barCtx.barOptions.distributed?u:l;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(w){o[l][u]>=w.from&&o[l][u]<=w.to&&(m=w.color)}),p.config.series[l].data[u]&&p.config.series[l].data[u].fillColor&&(m=p.config.series[l].data[u].fillColor),_.fillPath({seriesNumber:this.barCtx.barOptions.distributed?y:f,dataPointIndex:u,color:m,value:o[l][u]})}},{key:"getStrokeWidth",value:function(o,l,u){var f=0,p=this.w;return this.barCtx.isNullValue=null==this.barCtx.series[o][l],p.config.stroke.show&&(this.barCtx.isNullValue||(f=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[u]:this.barCtx.strokeWidth)),f}},{key:"barBackground",value:function(o){var l=o.j,u=o.i,f=o.x1,p=o.x2,_=o.y1,m=o.y2,y=o.elSeries,w=this.w,S=new Be(this.barCtx.ctx),M=new Ge(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&M===u){l>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(l%=this.barCtx.barOptions.colors.backgroundBarColors.length);var R=S.drawRect(void 0!==f?f:0,void 0!==_?_:0,void 0!==p?p:w.globals.gridWidth,void 0!==m?m:w.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[l],this.barCtx.barOptions.colors.backgroundBarOpacity);y.add(R),R.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(o){var l=o.barWidth,u=o.barXPosition,f=o.yRatio,p=o.y1,_=o.y2,m=o.strokeWidth,y=o.series,w=o.realIndex,S=o.i,M=o.j,T=o.w,R=new Be(this.barCtx.ctx);(m=Array.isArray(m)?m[w]:m)||(m=0);var L=this.getRoundedBars(T,{barWidth:l,strokeWidth:m,yRatio:f,barXPosition:u,y1:p,y2:_},y,S,M),H=u,z=u+l,Y=R.move(H,p),X=R.move(H,p),x=R.line(z-m,p);return T.globals.previousPaths.length>0&&(X=this.barCtx.getPreviousPath(w,M,!1)),Y=Y+R.line(H,L.y2)+L.pathWithRadius+R.line(z-m,L.y2)+x+x+"z",X=X+R.line(H,p)+x+x+x+x+x+R.line(H,p),T.config.chart.stacked&&(this.barCtx.yArrj.push(L.y2),this.barCtx.yArrjF.push(Math.abs(p-L.y2)),this.barCtx.yArrjVal.push(this.barCtx.series[S][M])),{pathTo:Y,pathFrom:X}}},{key:"getBarpaths",value:function(o){var l=o.barYPosition,u=o.barHeight,f=o.x1,p=o.x2,_=o.strokeWidth,m=o.series,y=o.realIndex,w=o.i,S=o.j,M=o.w,T=new Be(this.barCtx.ctx);(_=Array.isArray(_)?_[y]:_)||(_=0);var O=this.getRoundedBars(M,{barHeight:u,strokeWidth:_,barYPosition:l,x2:p,x1:f},m,w,S),L=T.move(f,l),H=T.move(f,l);M.globals.previousPaths.length>0&&(H=this.barCtx.getPreviousPath(y,S,!1));var z=l,Y=l+u,X=T.line(f,Y-_);return L=L+T.line(O.x2,z)+O.pathWithRadius+T.line(O.x2,Y-_)+X+X+"z",H=H+T.line(f,z)+X+X+X+X+X+T.line(f,z),M.config.chart.stacked&&(this.barCtx.xArrj.push(O.x2),this.barCtx.xArrjF.push(Math.abs(f-O.x2)),this.barCtx.xArrjVal.push(this.barCtx.series[w][S])),{pathTo:L,pathFrom:H}}},{key:"getRoundedBars",value:function(o,l,u,f,p){var _=new Be(this.barCtx.ctx),m=0,y=o.config.plotOptions.bar.borderRadius,w=Array.isArray(y);if(m=w?y[f>y.length-1?y.length-1:f]:y,o.config.chart.stacked&&u.length>1&&f!==this.barCtx.radiusOnSeriesNumber&&!w&&(m=0),this.barCtx.isHorizontal){var S="",M=l.x2;if(Math.abs(l.x1-l.x2)<m&&(m=Math.abs(l.x1-l.x2)),void 0!==u[f][p]||null!==u[f][p]){var T=this.barCtx.isReversed?u[f][p]>0:u[f][p]<0;T&&(m*=-1),S=_.quadraticCurve((M-=m)+m,l.barYPosition,M+m,l.barYPosition+(T?-1*m:m))+_.line(M+m,l.barYPosition+l.barHeight-l.strokeWidth-(T?-1*m:m))+_.quadraticCurve(M+m,l.barYPosition+l.barHeight-l.strokeWidth,M,l.barYPosition+l.barHeight-l.strokeWidth)}return{pathWithRadius:S,x2:M}}var R="",O=l.y2;if(Math.abs(l.y1-l.y2)<m&&(m=Math.abs(l.y1-l.y2)),void 0!==u[f][p]||null!==u[f][p]){var L=u[f][p]<0;L&&(m*=-1),R=_.quadraticCurve(l.barXPosition,(O+=m)-m,l.barXPosition+(L?-1*m:m),O-m)+_.line(l.barXPosition+l.barWidth-l.strokeWidth-(L?-1*m:m),O-m)+_.quadraticCurve(l.barXPosition+l.barWidth-l.strokeWidth,O-m,l.barXPosition+l.barWidth-l.strokeWidth,O)}return{pathWithRadius:R,y2:O}}},{key:"checkZeroSeries",value:function(o){for(var l=o.series,u=this.w,f=0;f<l.length;f++){for(var p=0,_=0;_<l[u.globals.maxValsInArrayIndex].length;_++)p+=l[f][_];0===p&&this.barCtx.zeroSerieses.push(f)}for(var m=l.length-1;m>=0;m--)this.barCtx.zeroSerieses.indexOf(m)>-1&&m===this.radiusOnSeriesNumber&&(this.barCtx.radiusOnSeriesNumber-=1);for(var y=l.length-1;y>=0;y--)u.globals.collapsedSeriesIndices.indexOf(this.barCtx.radiusOnSeriesNumber)>-1&&(this.barCtx.radiusOnSeriesNumber-=1)}},{key:"getXForValue",value:function(o,l){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=u?l:null;return null!=o&&(f=l+o/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?o/this.barCtx.invertedYRatio:0)),f}},{key:"getYForValue",value:function(o,l){var u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=u?l:null;return null!=o&&(f=l-o/this.barCtx.yRatio[this.barCtx.yaxisIndex]+2*(this.barCtx.isReversed?o/this.barCtx.yRatio[this.barCtx.yaxisIndex]:0)),f}},{key:"getGoalValues",value:function(o,l,u,f,p){var _=this,m=this.w,y=[];return m.globals.seriesGoals[f]&&m.globals.seriesGoals[f][p]&&Array.isArray(m.globals.seriesGoals[f][p])&&m.globals.seriesGoals[f][p].forEach(function(w){var S;y.push((Rl(S={},o,"x"===o?_.getXForValue(w.value,l,!1):_.getYForValue(w.value,u,!1)),Rl(S,"attrs",w),S))}),y}},{key:"drawGoalLine",value:function(o){var l=o.barXPosition,u=o.barYPosition,f=o.goalX,p=o.goalY,_=o.barWidth,m=o.barHeight,y=new Be(this.barCtx.ctx),w=y.group({className:"apexcharts-bar-goals-groups"}),S=null;return this.barCtx.isHorizontal?Array.isArray(f)&&f.forEach(function(M){var T=void 0!==M.attrs.strokeHeight?M.attrs.strokeHeight:m/2,R=u+T+m/2;S=y.drawLine(M.x,R-2*T,M.x,R,M.attrs.strokeColor?M.attrs.strokeColor:void 0,M.attrs.strokeDashArray,M.attrs.strokeWidth?M.attrs.strokeWidth:2,M.attrs.strokeLineCap),w.add(S)}):Array.isArray(p)&&p.forEach(function(M){var T=void 0!==M.attrs.strokeWidth?M.attrs.strokeWidth:_/2,R=l+T+_/2;S=y.drawLine(R-2*T,M.y,R,M.y,M.attrs.strokeColor?M.attrs.strokeColor:void 0,M.attrs.strokeDashArray,M.attrs.strokeHeight?M.attrs.strokeHeight:2,M.attrs.strokeLineCap),w.add(S)}),w}}]),U}(),za=function(){function U(o,l){Ie(this,U),this.ctx=o,this.w=o.w;var u=this.w;this.barOptions=u.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=u.config.stroke.width,this.isNullValue=!1,this.isRangeBar=u.globals.seriesRangeBar.length&&this.isHorizontal,this.xyRatios=l,null!==this.xyRatios&&(this.xRatio=l.xRatio,this.initialXRatio=l.initialXRatio,this.yRatio=l.yRatio,this.invertedXRatio=l.invertedXRatio,this.invertedYRatio=l.invertedYRatio,this.baseLineY=l.baseLineY,this.baseLineInvertedY=l.baseLineInvertedY),this.yaxisIndex=0,this.seriesLen=0,this.barHelpers=new sg(this)}return nt(U,[{key:"draw",value:function(o,l){var u=this.w,f=new Be(this.ctx),p=new hn(this.ctx,u);o=p.getLogSeries(o),this.series=o,this.yRatio=p.getLogYRatios(this.yRatio),this.barHelpers.initVariables(o);var _=f.group({class:"apexcharts-bar-series apexcharts-plot-series"});u.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering.");for(var m=0,y=0;m<o.length;m++,y++){var w,S,M,T,R=void 0,O=void 0,L=[],H=[],z=u.globals.comboCharts?l[m]:m,Y=f.group({class:"apexcharts-series",rel:m+1,seriesName:fe.escapeString(u.globals.seriesNames[z]),"data:realIndex":z});this.ctx.series.addCollapsedClassToSeries(Y,z),o[m].length>0&&(this.visibleI=this.visibleI+1);var X=0,x=0;this.yRatio.length>1&&(this.yaxisIndex=z),this.isReversed=u.config.yaxis[this.yaxisIndex]&&u.config.yaxis[this.yaxisIndex].reversed;var k=this.barHelpers.initialPositions();O=k.y,X=k.barHeight,S=k.yDivision,T=k.zeroW,R=k.x,x=k.barWidth,w=k.xDivision,M=k.zeroH,this.horizontal||H.push(R+x/2);for(var B=f.group({class:"apexcharts-datalabels","data:realIndex":z}),W=f.group({class:"apexcharts-bar-goals-markers",style:"pointer-events: none"}),K=0;K<u.globals.dataPoints;K++){var ve=this.barHelpers.getStrokeWidth(m,K,z),te=null,Ee={indexes:{i:m,j:K,realIndex:z,bc:y},x:R,y:O,strokeWidth:ve,elSeries:Y};this.isHorizontal?(te=this.drawBarPaths(Gt(Gt({},Ee),{},{barHeight:X,zeroW:T,yDivision:S})),x=this.series[m][K]/this.invertedYRatio):(te=this.drawColumnPaths(Gt(Gt({},Ee),{},{xDivision:w,barWidth:x,zeroH:M})),X=this.series[m][K]/this.yRatio[this.yaxisIndex]);var Le=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:te.barYPosition,goalX:te.goalX,goalY:te.goalY,barHeight:X,barWidth:x});Le&&W.add(Le),O=te.y,R=te.x,K>0&&H.push(R+x/2),L.push(O);var $e=this.barHelpers.getPathFillColor(o,m,K,z);this.renderSeries({realIndex:z,pathFill:$e,j:K,i:m,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:ve,elSeries:Y,x:R,y:O,series:o,barHeight:X,barWidth:x,elDataLabelsWrap:B,elGoalsMarkers:W,visibleSeries:this.visibleI,type:"bar"})}u.globals.seriesXvalues[z]=H,u.globals.seriesYvalues[z]=L,_.add(Y)}return _}},{key:"renderSeries",value:function(o){var l=o.realIndex,u=o.pathFill,f=o.lineFill,p=o.j,_=o.i,m=o.pathFrom,y=o.pathTo,w=o.strokeWidth,S=o.elSeries,M=o.x,T=o.y,R=o.y1,O=o.y2,L=o.series,H=o.barHeight,z=o.barWidth,Y=o.barYPosition,X=o.elDataLabelsWrap,x=o.elGoalsMarkers,k=o.visibleSeries,B=o.type,W=this.w,K=new Be(this.ctx);f||(f=this.barOptions.distributed?W.globals.stroke.colors[p]:W.globals.stroke.colors[l]),W.config.series[_].data[p]&&W.config.series[_].data[p].strokeColor&&(f=W.config.series[_].data[p].strokeColor),this.isNullValue&&(u="none");var te=K.renderPaths({i:_,j:p,realIndex:l,pathFrom:m,pathTo:y,stroke:f,strokeWidth:w,strokeLineCap:W.config.stroke.lineCap,fill:u,animationDelay:p/W.config.chart.animations.animateGradually.delay*(W.config.chart.animations.speed/W.globals.dataPoints)/2.4,initialSpeed:W.config.chart.animations.speed,dataChangeSpeed:W.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(B,"-area")});te.attr("clip-path","url(#gridRectMask".concat(W.globals.cuid,")"));var Ee=W.config.forecastDataPoints;Ee.count>0&&p>=W.globals.dataPoints-Ee.count&&(te.node.setAttribute("stroke-dasharray",Ee.dashArray),te.node.setAttribute("stroke-width",Ee.strokeWidth),te.node.setAttribute("fill-opacity",Ee.fillOpacity)),void 0!==R&&void 0!==O&&(te.attr("data-range-y1",R),te.attr("data-range-y2",O)),new An(this.ctx).setSelectionFilter(te,l,p),S.add(te);var Le=new nb(this).handleBarDataLabels({x:M,y:T,y1:R,y2:O,i:_,j:p,series:L,realIndex:l,barHeight:H,barWidth:z,barYPosition:Y,renderedPath:te,visibleSeries:k});return null!==Le&&X.add(Le),S.add(X),x&&S.add(x),S}},{key:"drawBarPaths",value:function(o){var _,l=o.indexes,u=o.barHeight,f=o.strokeWidth,p=o.zeroW,m=o.y,y=o.yDivision,w=o.elSeries,S=this.w,M=l.i,T=l.j;S.globals.isXNumeric&&(m=(S.globals.seriesX[M][T]-S.globals.minX)/this.invertedXRatio-u);var R=m+u*this.visibleI;_=this.barHelpers.getXForValue(this.series[M][T],p);var O=this.barHelpers.getBarpaths({barYPosition:R,barHeight:u,x1:p,x2:_,strokeWidth:f,series:this.series,realIndex:l.realIndex,i:M,j:T,w:S});return S.globals.isXNumeric||(m+=y),this.barHelpers.barBackground({j:T,i:M,y1:R-u*this.visibleI,y2:u*this.seriesLen,elSeries:w}),{pathTo:O.pathTo,pathFrom:O.pathFrom,x:_,y:m,goalX:this.barHelpers.getGoalValues("x",p,null,M,T),barYPosition:R}}},{key:"drawColumnPaths",value:function(o){var f,l=o.indexes,u=o.x,p=o.xDivision,_=o.barWidth,m=o.zeroH,y=o.strokeWidth,w=o.elSeries,S=this.w,M=l.realIndex,T=l.i,R=l.j,O=l.bc;if(S.globals.isXNumeric){var L=M;S.globals.seriesX[M].length||(L=S.globals.maxValsInArrayIndex),u=(S.globals.seriesX[L][R]-S.globals.minX)/this.xRatio-_*this.seriesLen/2}var H=u+_*this.visibleI;f=this.barHelpers.getYForValue(this.series[T][R],m);var z=this.barHelpers.getColumnPaths({barXPosition:H,barWidth:_,y1:m,y2:f,strokeWidth:y,series:this.series,realIndex:l.realIndex,i:T,j:R,w:S});return S.globals.isXNumeric||(u+=p),this.barHelpers.barBackground({bc:O,j:R,i:T,x1:H-y/2-_*this.visibleI,x2:_*this.seriesLen+y/2,elSeries:w}),{pathTo:z.pathTo,pathFrom:z.pathFrom,x:u,y:f,goalY:this.barHelpers.getGoalValues("y",null,m,T,R),barXPosition:H}}},{key:"getPreviousPath",value:function(o,l){for(var u,f=this.w,p=0;p<f.globals.previousPaths.length;p++){var _=f.globals.previousPaths[p];_.paths&&_.paths.length>0&&parseInt(_.realIndex,10)===parseInt(o,10)&&void 0!==f.globals.previousPaths[p].paths[l]&&(u=f.globals.previousPaths[p].paths[l].d)}return u}}]),U}(),pi=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return nt(U,[{key:"isValidDate",value:function(o){return!isNaN(this.parseDate(o))}},{key:"getTimeStamp",value:function(o){return Date.parse(o)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(o).toISOString().substr(0,25)).getTime():new Date(o).getTime():o}},{key:"getDate",value:function(o){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(o).toUTCString()):new Date(o)}},{key:"parseDate",value:function(o){var l=Date.parse(o);if(!isNaN(l))return this.getTimeStamp(o);var u=Date.parse(o.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(u)}},{key:"parseDateWithTimezone",value:function(o){return Date.parse(o.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(o,l){var u=this.w.globals.locale,f=this.w.config.xaxis.labels.datetimeUTC,p=["\0"].concat(Us(u.months)),_=["\x01"].concat(Us(u.shortMonths)),m=["\x02"].concat(Us(u.days)),y=["\x03"].concat(Us(u.shortDays));function w(K,ve){var te=K+"";for(ve=ve||2;te.length<ve;)te="0"+te;return te}var S=f?o.getUTCFullYear():o.getFullYear();l=(l=(l=l.replace(/(^|[^\\])yyyy+/g,"$1"+S)).replace(/(^|[^\\])yy/g,"$1"+S.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+S);var M=(f?o.getUTCMonth():o.getMonth())+1;l=(l=(l=(l=l.replace(/(^|[^\\])MMMM+/g,"$1"+p[0])).replace(/(^|[^\\])MMM/g,"$1"+_[0])).replace(/(^|[^\\])MM/g,"$1"+w(M))).replace(/(^|[^\\])M/g,"$1"+M);var T=f?o.getUTCDate():o.getDate();l=(l=(l=(l=l.replace(/(^|[^\\])dddd+/g,"$1"+m[0])).replace(/(^|[^\\])ddd/g,"$1"+y[0])).replace(/(^|[^\\])dd/g,"$1"+w(T))).replace(/(^|[^\\])d/g,"$1"+T);var R=f?o.getUTCHours():o.getHours(),O=R>12?R-12:0===R?12:R;l=(l=(l=(l=l.replace(/(^|[^\\])HH+/g,"$1"+w(R))).replace(/(^|[^\\])H/g,"$1"+R)).replace(/(^|[^\\])hh+/g,"$1"+w(O))).replace(/(^|[^\\])h/g,"$1"+O);var L=f?o.getUTCMinutes():o.getMinutes();l=(l=l.replace(/(^|[^\\])mm+/g,"$1"+w(L))).replace(/(^|[^\\])m/g,"$1"+L);var H=f?o.getUTCSeconds():o.getSeconds();l=(l=l.replace(/(^|[^\\])ss+/g,"$1"+w(H))).replace(/(^|[^\\])s/g,"$1"+H);var z=f?o.getUTCMilliseconds():o.getMilliseconds();l=l.replace(/(^|[^\\])fff+/g,"$1"+w(z,3)),z=Math.round(z/10),l=l.replace(/(^|[^\\])ff/g,"$1"+w(z)),z=Math.round(z/10);var Y=R<12?"AM":"PM";l=(l=(l=l.replace(/(^|[^\\])f/g,"$1"+z)).replace(/(^|[^\\])TT+/g,"$1"+Y)).replace(/(^|[^\\])T/g,"$1"+Y.charAt(0));var X=Y.toLowerCase();l=(l=l.replace(/(^|[^\\])tt+/g,"$1"+X)).replace(/(^|[^\\])t/g,"$1"+X.charAt(0));var x=-o.getTimezoneOffset(),k=f||!x?"Z":x>0?"+":"-";if(!f){var B=(x=Math.abs(x))%60;k+=w(Math.floor(x/60))+":"+w(B)}l=l.replace(/(^|[^\\])K/g,"$1"+k);var W=(f?o.getUTCDay():o.getDay())+1;return(l=(l=(l=(l=l.replace(new RegExp(m[0],"g"),m[W])).replace(new RegExp(y[0],"g"),y[W])).replace(new RegExp(p[0],"g"),p[M])).replace(new RegExp(_[0],"g"),_[M])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(o,l,u){var f=this.w;void 0!==f.config.xaxis.min&&(o=f.config.xaxis.min),void 0!==f.config.xaxis.max&&(l=f.config.xaxis.max);var p=this.getDate(o),_=this.getDate(l),m=this.formatDate(p,"yyyy MM dd HH mm ss fff").split(" "),y=this.formatDate(_,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(m[6],10),maxMillisecond:parseInt(y[6],10),minSecond:parseInt(m[5],10),maxSecond:parseInt(y[5],10),minMinute:parseInt(m[4],10),maxMinute:parseInt(y[4],10),minHour:parseInt(m[3],10),maxHour:parseInt(y[3],10),minDate:parseInt(m[2],10),maxDate:parseInt(y[2],10),minMonth:parseInt(m[1],10)-1,maxMonth:parseInt(y[1],10)-1,minYear:parseInt(m[0],10),maxYear:parseInt(y[0],10)}}},{key:"isLeapYear",value:function(o){return o%4==0&&o%100!=0||o%400==0}},{key:"calculcateLastDaysOfMonth",value:function(o,l,u){return this.determineDaysOfMonths(o,l)-u}},{key:"determineDaysOfYear",value:function(o){var l=365;return this.isLeapYear(o)&&(l=366),l}},{key:"determineRemainingDaysOfYear",value:function(o,l,u){var f=this.daysCntOfYear[l]+u;return l>1&&this.isLeapYear()&&f++,f}},{key:"determineDaysOfMonths",value:function(o,l){var u=30;switch(o=fe.monthMod(o),!0){case this.months30.indexOf(o)>-1:2===o&&(u=this.isLeapYear(l)?29:28);break;case this.months31.indexOf(o)>-1:default:u=31}return u}}]),U}(),Ni=function(U){Gs(l,za);var o=Il(l);function l(){return Ie(this,l),o.apply(this,arguments)}return nt(l,[{key:"draw",value:function(u,f){var p=this.w,_=new Be(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=u,this.seriesRangeStart=p.globals.seriesRangeStart,this.seriesRangeEnd=p.globals.seriesRangeEnd,this.barHelpers.initVariables(u);for(var m=_.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),y=0;y<u.length;y++){var w,S,M,T=void 0,R=void 0,O=void 0,L=p.globals.comboCharts?f[y]:y,H=_.group({class:"apexcharts-series",seriesName:fe.escapeString(p.globals.seriesNames[L]),rel:y+1,"data:realIndex":L});this.ctx.series.addCollapsedClassToSeries(H,L),u[y].length>0&&(this.visibleI=this.visibleI+1);var z=0,Y=0;this.yRatio.length>1&&(this.yaxisIndex=L);var X=this.barHelpers.initialPositions();R=X.y,M=X.zeroW,T=X.x,Y=X.barWidth,w=X.xDivision,S=X.zeroH;for(var x=_.group({class:"apexcharts-datalabels","data:realIndex":L}),k=_.group({class:"apexcharts-rangebar-goals-markers",style:"pointer-events: none"}),B=0;B<p.globals.dataPoints;B++){var W=this.barHelpers.getStrokeWidth(y,B,L),K=this.seriesRangeStart[y][B],ve=this.seriesRangeEnd[y][B],te=null,Ee=null,Le={x:T,y:R,strokeWidth:W,elSeries:H};if(O=X.yDivision,z=X.barHeight,this.isHorizontal){Ee=R+z*this.visibleI;var $e=this.seriesLen;p.config.plotOptions.bar.rangeBarGroupRows&&($e=1);var Tt=(O-z*$e)/2;if(void 0===p.config.series[y].data[B])break;if(p.config.series[y].data[B].x){var Ii=this.detectOverlappingBars({i:y,j:B,barYPosition:Ee,srty:Tt,barHeight:z,yDivision:O,initPositions:X});z=Ii.barHeight,Ee=Ii.barYPosition}Y=(te=this.drawRangeBarPaths(Gt({indexes:{i:y,j:B,realIndex:L},barHeight:z,barYPosition:Ee,zeroW:M,yDivision:O,y1:K,y2:ve},Le))).barWidth}else z=(te=this.drawRangeColumnPaths(Gt({indexes:{i:y,j:B,realIndex:L},zeroH:S,barWidth:Y,xDivision:w},Le))).barHeight;var Zt=this.barHelpers.drawGoalLine({barXPosition:te.barXPosition,barYPosition:Ee,goalX:te.goalX,goalY:te.goalY,barHeight:z,barWidth:Y});Zt&&k.add(Zt),R=te.y,T=te.x;var ls=this.barHelpers.getPathFillColor(u,y,B,L);this.renderSeries({realIndex:L,pathFill:ls,lineFill:p.globals.stroke.colors[L],j:B,i:y,x:T,y:R,y1:K,y2:ve,pathFrom:te.pathFrom,pathTo:te.pathTo,strokeWidth:W,elSeries:H,series:u,barHeight:z,barYPosition:Ee,barWidth:Y,elDataLabelsWrap:x,elGoalsMarkers:k,visibleSeries:this.visibleI,type:"rangebar"})}m.add(H)}return m}},{key:"detectOverlappingBars",value:function(u){var f=u.i,p=u.j,_=u.barYPosition,m=u.srty,y=u.barHeight,w=u.yDivision,S=u.initPositions,M=this.w,T=[],R=M.config.series[f].data[p].rangeName,O=M.config.series[f].data[p].x,L=M.globals.labels.indexOf(O),H=M.globals.seriesRangeBar[f].findIndex(function(z){return z.x===O&&z.overlaps.length>0});return _=M.config.plotOptions.bar.rangeBarGroupRows?m+w*L:m+y*this.visibleI+w*L,H>-1&&!M.config.plotOptions.bar.rangeBarOverlap&&(T=M.globals.seriesRangeBar[f][H].overlaps).indexOf(R)>-1&&(_=(y=S.barHeight/T.length)*this.visibleI+w*(100-parseInt(this.barOptions.barHeight,10))/100/2+y*(this.visibleI+T.indexOf(R))+w*L),{barYPosition:_,barHeight:y}}},{key:"drawRangeColumnPaths",value:function(u){var f=u.indexes,p=u.x,_=u.xDivision,m=u.barWidth,y=u.zeroH,w=this.w,S=f.i,M=f.j,T=this.yRatio[this.yaxisIndex],R=f.realIndex,O=this.getRangeValue(R,M),L=Math.min(O.start,O.end),H=Math.max(O.start,O.end);w.globals.isXNumeric&&(p=(w.globals.seriesX[S][M]-w.globals.minX)/this.xRatio-m/2);var z=p+m*this.visibleI;null==this.series[S][M]?L=y:(L=y-L/T,H=y-H/T);var Y=Math.abs(H-L),X=this.barHelpers.getColumnPaths({barXPosition:z,barWidth:m,y1:L,y2:H,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:f.realIndex,i:R,j:M,w});return w.globals.isXNumeric||(p+=_),{pathTo:X.pathTo,pathFrom:X.pathFrom,barHeight:Y,x:p,y:H,goalY:this.barHelpers.getGoalValues("y",null,y,S,M),barXPosition:z}}},{key:"drawRangeBarPaths",value:function(u){var f=u.indexes,p=u.y,y=u.yDivision,w=u.barHeight,S=u.barYPosition,M=u.zeroW,T=this.w,R=M+u.y1/this.invertedYRatio,O=M+u.y2/this.invertedYRatio,L=Math.abs(O-R),H=this.barHelpers.getBarpaths({barYPosition:S,barHeight:w,x1:R,x2:O,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:f.realIndex,realIndex:f.realIndex,j:f.j,w:T});return T.globals.isXNumeric||(p+=y),{pathTo:H.pathTo,pathFrom:H.pathFrom,barWidth:L,x:O,goalX:this.barHelpers.getGoalValues("x",M,null,f.realIndex,f.j),y:p}}},{key:"getRangeValue",value:function(u,f){var p=this.w;return{start:p.globals.seriesRangeStart[u][f],end:p.globals.seriesRangeEnd[u][f]}}},{key:"getTooltipValues",value:function(u){var f=u.ctx,p=u.seriesIndex,_=u.dataPointIndex,m=u.y1,y=u.y2,w=u.w,S=w.globals.seriesRangeStart[p][_],M=w.globals.seriesRangeEnd[p][_],T=w.globals.labels[_],R=w.config.series[p].name?w.config.series[p].name:"",O=w.config.tooltip.y.formatter,L=w.config.tooltip.y.title.formatter,H={w,seriesIndex:p,dataPointIndex:_,start:S,end:M};"function"==typeof L&&(R=L(R,H)),Number.isFinite(m)&&Number.isFinite(y)&&(S=m,M=y,w.config.series[p].data[_].x&&(T=w.config.series[p].data[_].x+":"),"function"==typeof O&&(T=O(T,H)));var z="",Y="",X=w.globals.colors[p];if(void 0===w.config.tooltip.x.formatter)if("datetime"===w.config.xaxis.type){var x=new pi(f);z=x.formatDate(x.getDate(S),w.config.tooltip.x.format),Y=x.formatDate(x.getDate(M),w.config.tooltip.x.format)}else z=S,Y=M;else z=w.config.tooltip.x.formatter(S),Y=w.config.tooltip.x.formatter(M);return{start:S,end:M,startVal:z,endVal:Y,ylabel:T,color:X,seriesName:R}}},{key:"buildCustomTooltipHTML",value:function(u){return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+u.color+'">'+(u.seriesName||"")+'</span></div><div> <span class="category">'+u.ylabel+' </span> <span class="value start-value">'+u.start+'</span> <span class="separator">-</span> <span class="value end-value">'+u.end+"</span></div></div>"}}]),l}(),jt=function(){function U(o){Ie(this,U),this.opts=o}return nt(U,[{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(o){return this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0,fe.extend(o,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square",radius:2,size:8}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"candlestick",value:function(){var o=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return o._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var o=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(l){return o._getBoxTooltip(l.w,l.seriesIndex,l.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:5,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(o,l){var u=l.seriesIndex,f=l.dataPointIndex,p=l.w;return p.globals.seriesRangeEnd[u][f]-p.globals.seriesRangeStart[u][f]},background:{enabled:!1},style:{colors:["#fff"]}},tooltip:{shared:!1,followCursor:!0,custom:function(o){return o.w.config.plotOptions&&o.w.config.plotOptions.bar&&o.w.config.plotOptions.bar.horizontal?(f=(u=new Ni((l=o).ctx,null)).getTooltipValues(l),u.buildCustomTooltipHTML({color:f.color,seriesName:f.seriesName,ylabel:f.ylabel,start:f.startVal,end:f.endVal})):function(l){var u=new Ni(l.ctx,null),f=u.getTooltipValues(l);return u.buildCustomTooltipHTML({color:f.color,seriesName:f.seriesName,ylabel:f.ylabel,start:f.start,end:f.end})}(o);var l,u,f}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"brush",value:function(o){return fe.extend(o,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(o){o.dataLabels=o.dataLabels||{},o.dataLabels.formatter=o.dataLabels.formatter||void 0;var l=o.dataLabels.formatter;return o.yaxis.forEach(function(u,f){o.yaxis[f].min=0,o.yaxis[f].max=100}),"bar"===o.chart.type&&(o.dataLabels.formatter=l||function(u){return"number"==typeof u&&u?u.toFixed(0)+"%":u}),o}},{key:"convertCatToNumeric",value:function(o){return o.xaxis.convertedCatToNumeric=!0,o}},{key:"convertCatToNumericXaxis",value:function(o,l,u){o.xaxis.type="numeric",o.xaxis.labels=o.xaxis.labels||{},o.xaxis.labels.formatter=o.xaxis.labels.formatter||function(_){return fe.isNumber(_)?Math.floor(_):_};var f=o.xaxis.labels.formatter,p=o.xaxis.categories&&o.xaxis.categories.length?o.xaxis.categories:o.labels;return u&&u.length&&(p=u.map(function(_){return Array.isArray(_)?_:String(_)})),p&&p.length&&(o.xaxis.labels.formatter=function(_){return fe.isNumber(_)?f(p[Math.floor(_)-1]):f(_)}),o.xaxis.categories=[],o.labels=[],o.xaxis.tickAmount=o.xaxis.tickAmount||"dataPoints",o}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square",size:10,offsetY:2}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"polarArea",value:function(){return this.opts.yaxis[0].tickAmount=this.opts.yaxis[0].tickAmount?this.opts.yaxis[0].tickAmount:6,{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(o){return o.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:3,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1},xaxis:{labels:{formatter:function(o){return o},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0}}}},{key:"_getBoxTooltip",value:function(o,l,u,f,p){var _=o.globals.seriesCandleO[l][u],m=o.globals.seriesCandleH[l][u],y=o.globals.seriesCandleM[l][u],w=o.globals.seriesCandleL[l][u],S=o.globals.seriesCandleC[l][u];return o.config.series[l].type&&o.config.series[l].type!==p?'<div class="apexcharts-custom-tooltip">\n          '.concat(o.config.series[l].name?o.config.series[l].name:"series-"+(l+1),": <strong>").concat(o.globals.series[l][u],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(o.config.chart.type,'">')+"<div>".concat(f[0],': <span class="value">')+_+"</span></div>"+"<div>".concat(f[1],': <span class="value">')+m+"</span></div>"+(y?"<div>".concat(f[2],': <span class="value">')+y+"</span></div>":"")+"<div>".concat(f[3],': <span class="value">')+w+"</span></div>"+"<div>".concat(f[4],': <span class="value">')+S+"</span></div></div>"}}]),U}(),Ga=function(){function U(o){Ie(this,U),this.opts=o}return nt(U,[{key:"init",value:function(o){var l=o.responsiveOverride,u=this.opts,f=new Oo,p=new jt(u);this.chartType=u.chart.type,"histogram"===this.chartType&&(u.chart.type="bar",u=fe.extend({plotOptions:{bar:{columnWidth:"99.99%"}}},u)),u=this.extendYAxis(u),u=this.extendAnnotations(u);var _=f.init(),m={};if(u&&"object"===yn(u)){var y={};y=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","histogram","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(u.chart.type)?p[u.chart.type]():p.line(),u.chart.brush&&u.chart.brush.enabled&&(y=p.brush(y)),u.chart.stacked&&"100%"===u.chart.stackType&&(u=p.stacked100(u)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(u),u.xaxis=u.xaxis||window.Apex.xaxis||{},l||(u.xaxis.convertedCatToNumeric=!1),((u=this.checkForCatToNumericXAxis(this.chartType,y,u)).chart.sparkline&&u.chart.sparkline.enabled||window.Apex.chart&&window.Apex.chart.sparkline&&window.Apex.chart.sparkline.enabled)&&(y=p.sparkline(y)),m=fe.extend(_,y)}var w=fe.extend(m,window.Apex);return _=fe.extend(w,u),this.handleUserInputErrors(_)}},{key:"checkForCatToNumericXAxis",value:function(o,l,u){var f=new jt(u);return("bar"===o||"boxPlot"===o)&&u.plotOptions&&u.plotOptions.bar&&u.plotOptions.bar.horizontal||"pie"===o||"polarArea"===o||"donut"===o||"radar"===o||"radialBar"===o||"heatmap"===o||!("datetime"!==u.xaxis.type&&"numeric"!==u.xaxis.type)||"between"===(u.xaxis.tickPlacement?u.xaxis.tickPlacement:l.xaxis&&l.xaxis.tickPlacement)||(u=f.convertCatToNumeric(u)),u}},{key:"extendYAxis",value:function(o,l){var u=new Oo;(void 0===o.yaxis||!o.yaxis||Array.isArray(o.yaxis)&&0===o.yaxis.length)&&(o.yaxis={}),o.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(o.yaxis=fe.extend(o.yaxis,window.Apex.yaxis)),o.yaxis=o.yaxis.constructor!==Array?[fe.extend(u.yAxis,o.yaxis)]:fe.extendArray(o.yaxis,u.yAxis);var f=!1;o.yaxis.forEach(function(_){_.logarithmic&&(f=!0)});var p=o.series;return l&&!p&&(p=l.config.series),f&&p.length!==o.yaxis.length&&p.length&&(o.yaxis=p.map(function(_,m){if(_.name||(p[m].name="series-".concat(m+1)),o.yaxis[m])return o.yaxis[m].seriesName=p[m].name,o.yaxis[m];var y=fe.extend(u.yAxis,o.yaxis[0]);return y.show=!1,y})),f&&p.length>1&&p.length!==o.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes. Please make sure to equalize both."),o}},{key:"extendAnnotations",value:function(o){return void 0===o.annotations&&(o.annotations={},o.annotations.yaxis=[],o.annotations.xaxis=[],o.annotations.points=[]),o=this.extendYAxisAnnotations(o),o=this.extendXAxisAnnotations(o),this.extendPointAnnotations(o)}},{key:"extendYAxisAnnotations",value:function(o){var l=new Oo;return o.annotations.yaxis=fe.extendArray(void 0!==o.annotations.yaxis?o.annotations.yaxis:[],l.yAxisAnnotation),o}},{key:"extendXAxisAnnotations",value:function(o){var l=new Oo;return o.annotations.xaxis=fe.extendArray(void 0!==o.annotations.xaxis?o.annotations.xaxis:[],l.xAxisAnnotation),o}},{key:"extendPointAnnotations",value:function(o){var l=new Oo;return o.annotations.points=fe.extendArray(void 0!==o.annotations.points?o.annotations.points:[],l.pointAnnotation),o}},{key:"checkForDarkTheme",value:function(o){o.theme&&"dark"===o.theme.mode&&(o.tooltip||(o.tooltip={}),"light"!==o.tooltip.theme&&(o.tooltip.theme="dark"),o.chart.foreColor||(o.chart.foreColor="#f6f7f8"),o.chart.background||(o.chart.background="#424242"),o.theme.palette||(o.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(o){var l=o;if(l.tooltip.shared&&l.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===l.chart.type&&l.plotOptions.bar.horizontal){if(l.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");l.yaxis[0].reversed&&(l.yaxis[0].opposite=!0),l.xaxis.tooltip.enabled=!1,l.yaxis[0].tooltip.enabled=!1,l.chart.zoom.enabled=!1}return"bar"!==l.chart.type&&"rangeBar"!==l.chart.type||l.tooltip.shared&&"barWidth"===l.xaxis.crosshairs.width&&l.series.length>1&&(l.xaxis.crosshairs.width="tickWidth"),"candlestick"!==l.chart.type&&"boxPlot"!==l.chart.type||l.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(l.chart.type," chart is not supported.")),l.yaxis[0].reversed=!1),l}}]),U}(),sb=function(){function U(){Ie(this,U)}return nt(U,[{key:"initGlobalVars",value:function(o){o.series=[],o.seriesCandleO=[],o.seriesCandleH=[],o.seriesCandleM=[],o.seriesCandleL=[],o.seriesCandleC=[],o.seriesRangeStart=[],o.seriesRangeEnd=[],o.seriesRangeBar=[],o.seriesPercent=[],o.seriesGoals=[],o.seriesX=[],o.seriesZ=[],o.seriesNames=[],o.seriesTotals=[],o.seriesLog=[],o.seriesColors=[],o.stackedSeriesTotals=[],o.seriesXvalues=[],o.seriesYvalues=[],o.labels=[],o.hasGroups=!1,o.groups=[],o.categoryLabels=[],o.timescaleLabels=[],o.noLabelsProvided=!1,o.resizeTimer=null,o.selectionResizeTimer=null,o.delayedElements=[],o.pointsArray=[],o.dataLabelsRects=[],o.isXNumeric=!1,o.xaxisLabelsCount=0,o.skipLastTimelinelabel=!1,o.skipFirstTimelinelabel=!1,o.isDataXYZ=!1,o.isMultiLineX=!1,o.isMultipleYAxis=!1,o.maxY=-Number.MAX_VALUE,o.minY=Number.MIN_VALUE,o.minYArr=[],o.maxYArr=[],o.maxX=-Number.MAX_VALUE,o.minX=Number.MAX_VALUE,o.initialMaxX=-Number.MAX_VALUE,o.initialMinX=Number.MAX_VALUE,o.maxDate=0,o.minDate=Number.MAX_VALUE,o.minZ=Number.MAX_VALUE,o.maxZ=-Number.MAX_VALUE,o.minXDiff=Number.MAX_VALUE,o.yAxisScale=[],o.xAxisScale=null,o.xAxisTicksPositions=[],o.yLabelsCoords=[],o.yTitleCoords=[],o.barPadForNumericAxis=0,o.padHorizontal=0,o.xRange=0,o.yRange=[],o.zRange=0,o.dataPoints=0,o.xTickAmount=0}},{key:"globalVars",value:function(o){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:o.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],goldenPadding:35,invalidLogScale:!1,ignoreYAxisIndexes:[],yAxisSameScaleIndices:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.zoom&&o.chart.zoom.enabled,panEnabled:"pan"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.pan,selectionEnabled:"selection"===o.chart.toolbar.autoSelected&&o.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null}}},{key:"init",value:function(o){var l=this.globalVars(o);return this.initGlobalVars(l),l.initialConfig=fe.extend({},o),l.initialSeries=fe.clone(o.series),l.lastXAxis=fe.clone(l.initialConfig.xaxis),l.lastYAxis=fe.clone(l.initialConfig.yaxis),l}}]),U}(),rg=function(){function U(o){Ie(this,U),this.opts=o}return nt(U,[{key:"init",value:function(){var o=new Ga(this.opts).init({responsiveOverride:!1});return{config:o,globals:(new sb).init(o)}}}]),U}(),rb=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new hn(this.ctx)}return nt(U,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var o=this.w.config.series.slice(),l=new Ge(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==o[this.activeSeriesIndex].data&&o[this.activeSeriesIndex].data.length>0&&null!==o[this.activeSeriesIndex].data[0]&&void 0!==o[this.activeSeriesIndex].data[0].x&&null!==o[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var o=this.w.config.series.slice(),l=new Ge(this.ctx);if(this.activeSeriesIndex=l.getActiveConfigSeriesIndex(),void 0!==o[this.activeSeriesIndex].data&&o[this.activeSeriesIndex].data.length>0&&null!=o[this.activeSeriesIndex].data[0]&&o[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(o,l){for(var u=this.w.config,f=this.w.globals,p="boxPlot"===u.chart.type||"boxPlot"===u.series[l].type,_=0;_<o[l].data.length;_++)if(void 0!==o[l].data[_][1]&&(Array.isArray(o[l].data[_][1])&&4===o[l].data[_][1].length&&!p?this.twoDSeries.push(fe.parseNumber(o[l].data[_][1][3])):this.twoDSeries.push(fe.parseNumber(o[l].data[_].length>=5?o[l].data[_][4]:o[l].data[_][1])),f.dataFormatXNumeric=!0),"datetime"===u.xaxis.type){var m=new Date(o[l].data[_][0]);m=new Date(m).getTime(),this.twoDSeriesX.push(m)}else this.twoDSeriesX.push(o[l].data[_][0]);for(var y=0;y<o[l].data.length;y++)void 0!==o[l].data[y][2]&&(this.threeDSeries.push(o[l].data[y][2]),f.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(o,l){var u=this.w.config,f=this.w.globals,p=new pi(this.ctx),_=l;f.collapsedSeriesIndices.indexOf(l)>-1&&(_=this.activeSeriesIndex);for(var m=0;m<o[l].data.length;m++)void 0!==o[l].data[m].y&&(Array.isArray(o[l].data[m].y)?this.twoDSeries.push(fe.parseNumber(o[l].data[m].y[o[l].data[m].y.length-1])):this.twoDSeries.push(fe.parseNumber(o[l].data[m].y))),void 0!==o[l].data[m].goals&&Array.isArray(o[l].data[m].goals)?(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(o[l].data[m].goals)):(void 0===this.seriesGoals[l]&&(this.seriesGoals[l]=[]),this.seriesGoals[l].push(null));for(var y=0;y<o[_].data.length;y++){var w="string"==typeof o[_].data[y].x,S=Array.isArray(o[_].data[y].x),M=!S&&!!p.isValidDate(o[_].data[y].x.toString());w||M?w||u.xaxis.convertedCatToNumeric?"datetime"!==u.xaxis.type||f.isBarHorizontal&&f.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(o[_].data[y].x)):this.twoDSeriesX.push(p.parseDate(o[_].data[y].x)):"datetime"===u.xaxis.type?this.twoDSeriesX.push(p.parseDate(o[_].data[y].x.toString())):(f.dataFormatXNumeric=!0,f.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(o[_].data[y].x))):S?(this.fallbackToCategory=!0,this.twoDSeriesX.push(o[_].data[y].x)):(f.isXNumeric=!0,f.dataFormatXNumeric=!0,this.twoDSeriesX.push(o[_].data[y].x))}if(o[l].data[0]&&void 0!==o[l].data[0].z){for(var R=0;R<o[l].data.length;R++)this.threeDSeries.push(o[l].data[R].z);f.isDataXYZ=!0}}},{key:"handleRangeData",value:function(o,l){var u=this.w.globals,f={};return this.isFormat2DArray()?f=this.handleRangeDataFormat("array",o,l):this.isFormatXY()&&(f=this.handleRangeDataFormat("xy",o,l)),u.seriesRangeStart.push(f.start),u.seriesRangeEnd.push(f.end),u.seriesRangeBar.push(f.rangeUniques),u.seriesRangeBar.forEach(function(p,_){p&&p.forEach(function(m,y){m.y.forEach(function(w,S){for(var M=0;M<m.y.length;M++)S!==M&&w.y1<=m.y[M].y2&&m.y[M].y1<=w.y2&&(m.overlaps.indexOf(w.rangeName)<0&&m.overlaps.push(w.rangeName),m.overlaps.indexOf(m.y[M].rangeName)<0&&m.overlaps.push(m.y[M].rangeName))})})}),f}},{key:"handleCandleStickBoxData",value:function(o,l){var u=this.w.globals,f={};return this.isFormat2DArray()?f=this.handleCandleStickBoxDataFormat("array",o,l):this.isFormatXY()&&(f=this.handleCandleStickBoxDataFormat("xy",o,l)),u.seriesCandleO[l]=f.o,u.seriesCandleH[l]=f.h,u.seriesCandleM[l]=f.m,u.seriesCandleL[l]=f.l,u.seriesCandleC[l]=f.c,f}},{key:"handleRangeDataFormat",value:function(o,l,u){var f=[],p=[],_=l[u].data.filter(function(T,R,O){return R===O.findIndex(function(L){return L.x===T.x})}).map(function(T,R){return{x:T.x,overlaps:[],y:[]}}),m="Please provide [Start, End] values in valid format. Read more https://apexcharts.com/docs/series/#rangecharts",y=new Ge(this.ctx).getActiveConfigSeriesIndex();if("array"===o){if(2!==l[y].data[0][1].length)throw new Error(m);for(var w=0;w<l[u].data.length;w++)f.push(l[u].data[w][1][0]),p.push(l[u].data[w][1][1])}else if("xy"===o){if(2!==l[y].data[0].y.length)throw new Error(m);for(var S=function(T){var R=fe.randomId(),O=l[u].data[T].x,L={y1:l[u].data[T].y[0],y2:l[u].data[T].y[1],rangeName:R};l[u].data[T].rangeName=R;var H=_.findIndex(function(z){return z.x===O});_[H].y.push(L),f.push(L.y1),p.push(L.y2)},M=0;M<l[u].data.length;M++)S(M)}return{start:f,end:p,rangeUniques:_}}},{key:"handleCandleStickBoxDataFormat",value:function(o,l,u){var f=this.w,p="boxPlot"===f.config.chart.type||"boxPlot"===f.config.series[u].type,_=[],m=[],y=[],w=[],S=[];if("array"===o)if(p&&6===l[u].data[0].length||!p&&5===l[u].data[0].length)for(var M=0;M<l[u].data.length;M++)_.push(l[u].data[M][1]),m.push(l[u].data[M][2]),p?(y.push(l[u].data[M][3]),w.push(l[u].data[M][4]),S.push(l[u].data[M][5])):(w.push(l[u].data[M][3]),S.push(l[u].data[M][4]));else for(var T=0;T<l[u].data.length;T++)Array.isArray(l[u].data[T][1])&&(_.push(l[u].data[T][1][0]),m.push(l[u].data[T][1][1]),p?(y.push(l[u].data[T][1][2]),w.push(l[u].data[T][1][3]),S.push(l[u].data[T][1][4])):(w.push(l[u].data[T][1][2]),S.push(l[u].data[T][1][3])));else if("xy"===o)for(var R=0;R<l[u].data.length;R++)Array.isArray(l[u].data[R].y)&&(_.push(l[u].data[R].y[0]),m.push(l[u].data[R].y[1]),p?(y.push(l[u].data[R].y[2]),w.push(l[u].data[R].y[3]),S.push(l[u].data[R].y[4])):(w.push(l[u].data[R].y[2]),S.push(l[u].data[R].y[3])));return{o:_,h:m,m:y,l:w,c:S}}},{key:"parseDataAxisCharts",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx,f=this.w.config,p=this.w.globals,_=new pi(u),m=f.labels.length>0?f.labels.slice():f.xaxis.categories.slice();p.isRangeBar="rangeBar"===f.chart.type&&p.isBarHorizontal,p.hasGroups="category"===f.xaxis.type&&f.xaxis.group.groups.length>0,p.hasGroups&&(p.groups=f.xaxis.group.groups);for(var y=function(){for(var M=0;M<m.length;M++)if("string"==typeof m[M]){if(!_.isValidDate(m[M]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");l.twoDSeriesX.push(_.parseDate(m[M]))}else l.twoDSeriesX.push(m[M])},w=0;w<o.length;w++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===o[w].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==f.chart.type&&"rangeArea"!==f.chart.type&&"rangeBar"!==o[w].type&&"rangeArea"!==o[w].type||(p.isRangeData=!0,this.handleRangeData(o,w)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(o,w):this.isFormatXY()&&this.handleFormatXY(o,w),"candlestick"!==f.chart.type&&"candlestick"!==o[w].type&&"boxPlot"!==f.chart.type&&"boxPlot"!==o[w].type||this.handleCandleStickBoxData(o,w),p.series.push(this.twoDSeries),p.labels.push(this.twoDSeriesX),p.seriesX.push(this.twoDSeriesX),p.seriesGoals=this.seriesGoals,w!==this.activeSeriesIndex||this.fallbackToCategory||(p.isXNumeric=!0);else{"datetime"===f.xaxis.type?(p.isXNumeric=!0,y(),p.seriesX.push(this.twoDSeriesX)):"numeric"===f.xaxis.type&&(p.isXNumeric=!0,m.length>0&&(this.twoDSeriesX=m,p.seriesX.push(this.twoDSeriesX))),p.labels.push(this.twoDSeriesX);var S=o[w].data.map(function(M){return fe.parseNumber(M)});p.series.push(S)}p.seriesZ.push(this.threeDSeries),p.seriesNames.push(void 0!==o[w].name?o[w].name:"series-"+parseInt(w+1,10)),p.seriesColors.push(void 0!==o[w].color?o[w].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(o){var l=this.w.globals,u=this.w.config;l.series=o.slice(),l.seriesNames=u.labels.slice();for(var f=0;f<l.series.length;f++)void 0===l.seriesNames[f]&&l.seriesNames.push("series-"+(f+1));return this.w}},{key:"handleExternalLabelsData",value:function(o){var l=this.w.config,u=this.w.globals;l.xaxis.categories.length>0?u.labels=l.xaxis.categories:l.labels.length>0?u.labels=l.labels.slice():this.fallbackToCategory?(u.labels=u.labels[0],u.seriesRangeBar.length&&(u.seriesRangeBar.map(function(f){f.forEach(function(p){u.labels.indexOf(p.x)<0&&p.x&&u.labels.push(p.x)})}),u.labels=u.labels.filter(function(f,p,_){return _.indexOf(f)===p})),l.xaxis.convertedCatToNumeric&&(new jt(l).convertCatToNumericXaxis(l,this.ctx,u.seriesX[0]),this._generateExternalLabels(o))):this._generateExternalLabels(o)}},{key:"_generateExternalLabels",value:function(o){var l=this.w.globals,u=this.w.config,f=[];if(l.axisCharts){if(l.series.length>0)if(this.isFormatXY())for(var p=u.series.map(function(M,T){return M.data.filter(function(R,O,L){return L.findIndex(function(H){return H.x===R.x})===O})}),_=p.reduce(function(M,T,R,O){return O[M].length>T.length?M:R},0),m=0;m<p[_].length;m++)f.push(m+1);else for(var y=0;y<l.series[l.maxValsInArrayIndex].length;y++)f.push(y+1);l.seriesX=[];for(var w=0;w<o.length;w++)l.seriesX.push(f);l.isXNumeric=!0}if(0===f.length){f=l.axisCharts?[]:l.series.map(function(M,T){return T+1});for(var S=0;S<o.length;S++)l.seriesX.push(f)}l.labels=f,u.xaxis.convertedCatToNumeric&&(l.categoryLabels=f.map(function(M){return u.xaxis.labels.formatter(M)})),l.noLabelsProvided=!0}},{key:"parseData",value:function(o){var l=this.w,u=l.config,f=l.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),f.axisCharts?this.parseDataAxisCharts(o):this.parseDataNonAxisCharts(o),this.coreUtils.getLargestSeries(),"bar"===u.chart.type&&u.chart.stacked){var p=new Ge(this.ctx);f.series=p.setNullSeriesToZeroValues(f.series)}this.coreUtils.getSeriesTotals(),f.axisCharts&&this.coreUtils.getStackedSeriesTotals(),this.coreUtils.getPercentSeries(),f.dataFormatXNumeric||f.isXNumeric&&("numeric"!==u.xaxis.type||0!==u.labels.length||0!==u.xaxis.categories.length)||this.handleExternalLabelsData(o);for(var _=this.coreUtils.getCategoryLabels(f.labels),m=0;m<_.length;m++)if(Array.isArray(_[m])){f.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var o=this,l=this.w;l.globals.ignoreYAxisIndexes=l.globals.collapsedSeries.map(function(u,f){if(o.w.globals.isMultipleYAxis&&!l.config.chart.stacked)return u.index})}}]),U}(),bh=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.tooltipKeyFormat="dd MMM"}return nt(U,[{key:"xLabelFormat",value:function(o,l,u,f){var p=this.w;if("datetime"===p.config.xaxis.type&&void 0===p.config.xaxis.labels.formatter&&void 0===p.config.tooltip.x.formatter){var _=new pi(this.ctx);return _.formatDate(_.getDate(l),p.config.tooltip.x.format)}return o(l,u,f)}},{key:"defaultGeneralFormatter",value:function(o){return Array.isArray(o)?o.map(function(l){return l}):o}},{key:"defaultYFormatter",value:function(o,l,u){var f=this.w;return fe.isNumber(o)&&(o=o.toFixed(0!==f.globals.yValueDecimal?void 0!==l.decimalsInFloat?l.decimalsInFloat:f.globals.yValueDecimal:f.globals.maxYArr[u]-f.globals.minYArr[u]<5?1:0)),o}},{key:"setLabelFormatters",value:function(){var o=this,l=this.w;return l.globals.xaxisTooltipFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.ttKeyFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.ttZFormatter=function(u){return u},l.globals.legendFormatter=function(u){return o.defaultGeneralFormatter(u)},l.globals.xLabelFormatter=void 0!==l.config.xaxis.labels.formatter?l.config.xaxis.labels.formatter:function(u){if(fe.isNumber(u)){if(!l.config.xaxis.convertedCatToNumeric&&"numeric"===l.config.xaxis.type){if(fe.isNumber(l.config.xaxis.decimalsInFloat))return u.toFixed(l.config.xaxis.decimalsInFloat);var f=l.globals.maxX-l.globals.minX;return u.toFixed(f>0&&f<100?1:0)}return u.toFixed(l.globals.isBarHorizontal&&l.globals.maxY-l.globals.minYArr<4?1:0)}return u},l.globals.ttKeyFormatter="function"==typeof l.config.tooltip.x.formatter?l.config.tooltip.x.formatter:l.globals.xLabelFormatter,"function"==typeof l.config.xaxis.tooltip.formatter&&(l.globals.xaxisTooltipFormatter=l.config.xaxis.tooltip.formatter),(Array.isArray(l.config.tooltip.y)||void 0!==l.config.tooltip.y.formatter)&&(l.globals.ttVal=l.config.tooltip.y),void 0!==l.config.tooltip.z.formatter&&(l.globals.ttZFormatter=l.config.tooltip.z.formatter),void 0!==l.config.legend.formatter&&(l.globals.legendFormatter=l.config.legend.formatter),l.config.yaxis.forEach(function(u,f){l.globals.yLabelFormatters[f]=void 0!==u.labels.formatter?u.labels.formatter:function(p){return l.globals.xyCharts?Array.isArray(p)?p.map(function(_){return o.defaultYFormatter(_,u,f)}):o.defaultYFormatter(p,u,f):p}}),l.globals}},{key:"heatmapLabelFormatters",value:function(){var o=this.w;if("heatmap"===o.config.chart.type){o.globals.yAxisScale[0].result=o.globals.seriesNames.slice();var l=o.globals.seriesNames.reduce(function(u,f){return u.length>f.length?u:f},0);o.globals.yAxisScale[0].niceMax=l,o.globals.yAxisScale[0].niceMin=l}}}]),U}(),Bo=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"getLabel",value:function(o,l,u,f){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],_=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",m=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],y=this.w,w=void 0===o[f]?"":o[f],S=w,M=y.globals.xLabelFormatter,T=y.config.xaxis.labels.formatter,R=!1,O=new bh(this.ctx),L=w;m&&(S=O.xLabelFormat(M,w,L,{i:f,dateFormatter:new pi(this.ctx).formatDate,w:y}),void 0!==T&&(S=T(w,o[f],{i:f,dateFormatter:new pi(this.ctx).formatDate,w:y})));var H=function(x){var k=null;return l.forEach(function(B){"month"===B.unit?k="year":"day"===B.unit?k="month":"hour"===B.unit?k="day":"minute"===B.unit&&(k="hour")}),k===x};l.length>0?(R=H(l[f].unit),u=l[f].position,S=l[f].value):"datetime"===y.config.xaxis.type&&void 0===T&&(S=""),void 0===S&&(S=""),S=Array.isArray(S)?S:S.toString();var z=new Be(this.ctx),Y={};Y=y.globals.rotateXLabels&&m?z.getTextRects(S,parseInt(_,10),null,"rotate(".concat(y.config.xaxis.labels.rotate," 0 0)"),!1):z.getTextRects(S,parseInt(_,10));var X=!y.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(S)&&(0===S.indexOf("NaN")||0===S.toLowerCase().indexOf("invalid")||S.toLowerCase().indexOf("infinity")>=0||p.indexOf(S)>=0&&X)&&(S=""),{x:u,text:S,textRect:Y,isBold:R}}},{key:"checkLabelBasedOnTickamount",value:function(o,l,u){var f=this.w,p=f.config.xaxis.tickAmount;return"dataPoints"===p&&(p=Math.round(f.globals.gridWidth/120)),p>u||o%Math.round(u/(p+1))==0||(l.text=""),l}},{key:"checkForOverflowingLabels",value:function(o,l,u,f,p){var _=this.w;if(0===o&&_.globals.skipFirstTimelinelabel&&(l.text=""),o===u-1&&_.globals.skipLastTimelinelabel&&(l.text=""),_.config.xaxis.labels.hideOverlappingLabels&&f.length>0){var m=p[p.length-1];l.x<m.textRect.width/(_.globals.rotateXLabels?Math.abs(_.config.xaxis.labels.rotate)/12:1.01)+m.x&&(l.text="")}return l}},{key:"checkForReversedLabels",value:function(o,l){var u=this.w;return u.config.yaxis[o]&&u.config.yaxis[o].reversed&&l.reverse(),l}},{key:"isYAxisHidden",value:function(o){var l=this.w,u=new hn(this.ctx);return!l.config.yaxis[o].show||!l.config.yaxis[o].showForNullSeries&&u.isSeriesNull(o)&&-1===l.globals.collapsedSeriesIndices.indexOf(o)}},{key:"getYAxisForeColor",value:function(o,l){var u=this.w;return Array.isArray(o)&&u.globals.yAxisScale[l]&&this.ctx.theme.pushExtraColors(o,u.globals.yAxisScale[l].result.length,!1),o}},{key:"drawYAxisTicks",value:function(o,l,u,f,p,_,m){var y=this.w,w=new Be(this.ctx),S=y.globals.translateY;if(f.show&&l>0){!0===y.config.yaxis[p].opposite&&(o+=f.width);for(var M=l;M>=0;M--){var T=S+l/10+y.config.yaxis[p].labels.offsetY-1;y.globals.isBarHorizontal&&(T=_*M),"heatmap"===y.config.chart.type&&(T+=_/2);var R=w.drawLine(o+u.offsetX-f.width+f.offsetX,T+f.offsetY,o+u.offsetX+f.offsetX,T+f.offsetY,f.color);m.add(R),S+=_}}}}]),U}(),ag=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"scaleSvgNode",value:function(o,l){var u=parseFloat(o.getAttributeNS(null,"width")),f=parseFloat(o.getAttributeNS(null,"height"));o.setAttributeNS(null,"width",u*l),o.setAttributeNS(null,"height",f*l),o.setAttributeNS(null,"viewBox","0 0 "+u+" "+f)}},{key:"fixSvgStringForIe11",value:function(o){if(!fe.isIE11())return o.replace(/&nbsp;/g,"&#160;");var l=0,u=o.replace(/xmlns="http:\/\/www.w3.org\/2000\/svg"/g,function(f){return 2==++l?'xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev"':f});return(u=u.replace(/xmlns:NS\d+=""/g,"")).replace(/NS\d+:(\w+:\w+=")/g,"$1")}},{key:"getSvgString",value:function(o){var l=this.w.globals.dom.Paper.svg();if(1!==o){var u=this.w.globals.dom.Paper.node.cloneNode(!0);this.scaleSvgNode(u,o),l=(new XMLSerializer).serializeToString(u)}return this.fixSvgStringForIe11(l)}},{key:"cleanup",value:function(){var o=this.w,l=o.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),u=o.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(f,function(p){p.setAttribute("width",0)}),l&&l[0]&&(l[0].setAttribute("x",-500),l[0].setAttribute("x1",-500),l[0].setAttribute("x2",-500)),u&&u[0]&&(u[0].setAttribute("y",-100),u[0].setAttribute("y1",-100),u[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){this.cleanup();var o=this.getSvgString(),l=new Blob([o],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(l)}},{key:"dataURI",value:function(o){var l=this;return new Promise(function(u){var f=l.w,p=o?o.scale||o.width/f.globals.svgWidth:1;l.cleanup();var _=document.createElement("canvas");_.width=f.globals.svgWidth*p,_.height=parseInt(f.globals.dom.elWrap.style.height,10)*p;var m="transparent"===f.config.chart.background?"#fff":f.config.chart.background,y=_.getContext("2d");y.fillStyle=m,y.fillRect(0,0,_.width*p,_.height*p);var w=l.getSvgString(p);if(window.canvg&&fe.isIE11()){var S=window.canvg.Canvg.fromString(y,w,{ignoreClear:!0,ignoreDimensions:!0});S.start();var M=_.msToBlob();S.stop(),u({blob:M})}else{var T="data:image/svg+xml,"+encodeURIComponent(w),R=new Image;R.crossOrigin="anonymous",R.onload=function(){if(y.drawImage(R,0,0),_.msToBlob){var O=_.msToBlob();u({blob:O})}else{var L=_.toDataURL("image/png");u({imgURI:L})}},R.src=T}})}},{key:"exportToSVG",value:function(){this.triggerDownload(this.svgUrl(),this.w.config.chart.toolbar.export.svg.filename,".svg")}},{key:"exportToPng",value:function(){var o=this;this.dataURI().then(function(l){var u=l.imgURI,f=l.blob;f?navigator.msSaveOrOpenBlob(f,o.w.globals.chartID+".png"):o.triggerDownload(u,o.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(o){var l=this,u=o.series,f=o.columnDelimiter,p=o.lineDelimiter,_=void 0===p?"\n":p,m=this.w,y=[],w=[],S="",M=new rb(this.ctx),T=new Bo(this.ctx),R=function(O){var L="";if(m.globals.axisCharts){if("category"===m.config.xaxis.type||m.config.xaxis.convertedCatToNumeric)if(m.globals.isBarHorizontal){var H=m.globals.yLabelFormatters[0],z=new Ge(l.ctx).getActiveConfigSeriesIndex();L=H(m.globals.labels[O],{seriesIndex:z,dataPointIndex:O,w:m})}else L=T.getLabel(m.globals.labels,m.globals.timescaleLabels,0,O).text;"datetime"===m.config.xaxis.type&&(m.config.xaxis.categories.length?L=m.config.xaxis.categories[O]:m.config.labels.length&&(L=m.config.labels[O]))}else L=m.config.labels[O];return Array.isArray(L)&&(L=L.join(" ")),fe.isNumber(L)?L:L.split(f).join("")};y.push(m.config.chart.toolbar.export.csv.headerCategory),u.map(function(O,L){var H=O.name?O.name:"series-".concat(L);m.globals.axisCharts&&y.push(H.split(f).join("")?H.split(f).join(""):"series-".concat(L))}),m.globals.axisCharts||(y.push(m.config.chart.toolbar.export.csv.headerValue),w.push(y.join(f))),u.map(function(O,L){m.globals.axisCharts?function(H,z){if(y.length&&0===z&&w.push(y.join(f)),H.data&&H.data.length)for(var Y=0;Y<H.data.length;Y++){y=[];var X=R(Y);if(X||(M.isFormatXY()?X=u[z].data[Y].x:M.isFormat2DArray()&&(X=u[z].data[Y]?u[z].data[Y][0]:"")),0===z){y.push("datetime"===m.config.xaxis.type&&String(X).length>=10?m.config.chart.toolbar.export.csv.dateFormatter(X):fe.isNumber(X)?X:X.split(f).join(""));for(var x=0;x<m.globals.series.length;x++)y.push(m.globals.series[x][Y])}("candlestick"===m.config.chart.type||H.type&&"candlestick"===H.type)&&(y.pop(),y.push(m.globals.seriesCandleO[z][Y]),y.push(m.globals.seriesCandleH[z][Y]),y.push(m.globals.seriesCandleL[z][Y]),y.push(m.globals.seriesCandleC[z][Y])),("boxPlot"===m.config.chart.type||H.type&&"boxPlot"===H.type)&&(y.pop(),y.push(m.globals.seriesCandleO[z][Y]),y.push(m.globals.seriesCandleH[z][Y]),y.push(m.globals.seriesCandleM[z][Y]),y.push(m.globals.seriesCandleL[z][Y]),y.push(m.globals.seriesCandleC[z][Y])),"rangeBar"===m.config.chart.type&&(y.pop(),y.push(m.globals.seriesRangeStart[z][Y]),y.push(m.globals.seriesRangeEnd[z][Y])),y.length&&w.push(y.join(f))}}(O,L):((y=[]).push(m.globals.labels[L].split(f).join("")),y.push(m.globals.series[L]),w.push(y.join(f)))}),S+=w.join(_),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+S),m.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(o,l,u){var f=document.createElement("a");f.href=o,f.download=(l||this.w.globals.chartID)+u,document.body.appendChild(f),f.click(),document.body.removeChild(f)}}]),U}(),Ll=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.axesUtils=new Bo(o),this.xaxisLabels=l.globals.labels.slice(),l.globals.timescaleLabels.length>0&&!l.globals.isBarHorizontal&&(this.xaxisLabels=l.globals.timescaleLabels.slice()),l.config.xaxis.overwriteCategories&&(this.xaxisLabels=l.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===l.config.xaxis.position?0:l.globals.gridHeight+1,this.offY=this.offY+l.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===l.config.chart.type&&l.config.plotOptions.bar.horizontal,this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.xaxisBorderWidth=l.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=l.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?l.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=l.config.xaxis.axisBorder.height,this.yaxis=l.config.yaxis[0]}return nt(U,[{key:"drawXaxis",value:function(){var o=this.w,l=new Be(this.ctx),u=l.group({class:"apexcharts-xaxis",transform:"translate(".concat(o.config.xaxis.offsetX,", ").concat(o.config.xaxis.offsetY,")")}),f=l.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(o.globals.translateXAxisX,", ").concat(o.globals.translateXAxisY,")")});u.add(f);for(var p=[],_=0;_<this.xaxisLabels.length;_++)p.push(this.xaxisLabels[_]);if(this.drawXAxisLabelAndGroup(!0,l,f,p,o.globals.isXNumeric,function(O,L){return L}),o.globals.hasGroups){var m=o.globals.groups;p=[];for(var y=0;y<m.length;y++)p.push(m[y].title);var w={};o.config.xaxis.group.style&&(w.xaxisFontSize=o.config.xaxis.group.style.fontSize,w.xaxisFontFamily=o.config.xaxis.group.style.fontFamily,w.xaxisForeColors=o.config.xaxis.group.style.colors,w.fontWeight=o.config.xaxis.group.style.fontWeight,w.cssClass=o.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,l,f,p,!1,function(O,L){return m[O].cols*L},w)}if(void 0!==o.config.xaxis.title.text){var S=l.group({class:"apexcharts-xaxis-title"}),M=l.drawText({x:o.globals.gridWidth/2+o.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+o.globals.xAxisLabelsHeight+o.config.xaxis.title.offsetY,text:o.config.xaxis.title.text,textAnchor:"middle",fontSize:o.config.xaxis.title.style.fontSize,fontFamily:o.config.xaxis.title.style.fontFamily,fontWeight:o.config.xaxis.title.style.fontWeight,foreColor:o.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+o.config.xaxis.title.style.cssClass});S.add(M),u.add(S)}if(o.config.xaxis.axisBorder.show){var T=o.globals.barPadForNumericAxis,R=l.drawLine(o.globals.padHorizontal+o.config.xaxis.axisBorder.offsetX-T,this.offY,this.xaxisBorderWidth+T,this.offY,o.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);u.add(R)}return u}},{key:"drawXAxisLabelAndGroup",value:function(o,l,u,f,p,_){var m,y=this,w=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},S=[],M=[],T=this.w,R=w.xaxisFontSize||this.xaxisFontSize,O=w.xaxisFontFamily||this.xaxisFontFamily,L=w.xaxisForeColors||this.xaxisForeColors,H=w.fontWeight||T.config.xaxis.labels.style.fontWeight,z=w.cssClass||T.config.xaxis.labels.style.cssClass,Y=T.globals.padHorizontal,X=f.length,x="category"===T.config.xaxis.type?T.globals.dataPoints:X;if(p){var k=x>1?x-1:x;Y=Y+_(0,m=T.globals.gridWidth/k)/2+T.config.xaxis.labels.offsetX}else Y=Y+_(0,m=T.globals.gridWidth/x)+T.config.xaxis.labels.offsetX;for(var B=function(K){var ve=Y-_(K,m)/2+T.config.xaxis.labels.offsetX;0===K&&1===X&&m/2===Y&&1===x&&(ve=T.globals.gridWidth/2);var te=y.axesUtils.getLabel(f,T.globals.timescaleLabels,ve,K,S,R,o),Ee=28;if(T.globals.rotateXLabels&&o&&(Ee=22),o||(Ee=Ee+parseFloat(R)+(T.globals.xAxisLabelsHeight-T.globals.xAxisGroupLabelsHeight)+(T.globals.rotateXLabels?10:0)),te=void 0!==T.config.xaxis.tickAmount&&"dataPoints"!==T.config.xaxis.tickAmount&&"datetime"!==T.config.xaxis.type?y.axesUtils.checkLabelBasedOnTickamount(K,te,X):y.axesUtils.checkForOverflowingLabels(K,te,X,S,M),o&&te.text&&T.globals.xaxisLabelsCount++,T.config.xaxis.labels.show){var Le=l.drawText({x:te.x,y:y.offY+T.config.xaxis.labels.offsetY+Ee-("top"===T.config.xaxis.position?T.globals.xAxisHeight+T.config.xaxis.axisTicks.height-2:0),text:te.text,textAnchor:"middle",fontWeight:te.isBold?600:H,fontSize:R,fontFamily:O,foreColor:Array.isArray(L)?o&&T.config.xaxis.convertedCatToNumeric?L[T.globals.minX+K-1]:L[K]:L,isPlainText:!1,cssClass:(o?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+z});if(u.add(Le),o){var $e=document.createElementNS(T.globals.SVGNS,"title");$e.textContent=Array.isArray(te.text)?te.text.join(" "):te.text,Le.node.appendChild($e),""!==te.text&&(S.push(te.text),M.push(te))}}K<X-1&&(Y+=_(K+1,m))},W=0;W<=X-1;W++)B(W)}},{key:"drawXaxisInversed",value:function(o){var l,u,f=this,p=this.w,_=new Be(this.ctx),m=p.config.yaxis[0].opposite?p.globals.translateYAxisX[o]:0,y=_.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:o}),w=_.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+m+", 0)"});y.add(w);var S=[];if(p.config.yaxis[o].show)for(var M=0;M<this.xaxisLabels.length;M++)S.push(this.xaxisLabels[M]);u=-(l=p.globals.gridHeight/S.length)/2.2;var T=p.globals.yLabelFormatters[0],R=p.config.yaxis[0].labels;if(R.show)for(var O=function(k){var B=void 0===S[k]?"":S[k];B=T(B,{seriesIndex:o,dataPointIndex:k,w:p});var W=f.axesUtils.getYAxisForeColor(R.style.colors,o),K=0;Array.isArray(B)&&(K=B.length/2*parseInt(R.style.fontSize,10));var ve=_.drawText({x:R.offsetX-15,y:u+l+R.offsetY-K,text:B,textAnchor:f.yaxis.opposite?"start":"end",foreColor:Array.isArray(W)?W[k]:W,fontSize:R.style.fontSize,fontFamily:R.style.fontFamily,fontWeight:R.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+R.style.cssClass});w.add(ve);var te=document.createElementNS(p.globals.SVGNS,"title");if(te.textContent=Array.isArray(B)?B.join(" "):B,ve.node.appendChild(te),0!==p.config.yaxis[o].labels.rotate){var Ee=_.rotateAroundCenter(ve.node);ve.node.setAttribute("transform","rotate(".concat(p.config.yaxis[o].labels.rotate," 0 ").concat(Ee.y,")"))}u+=l},L=0;L<=S.length-1;L++)O(L);if(void 0!==p.config.yaxis[0].title.text){var H=_.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+m+", 0)"}),z=_.drawText({x:0,y:p.globals.gridHeight/2,text:p.config.yaxis[0].title.text,textAnchor:"middle",foreColor:p.config.yaxis[0].title.style.color,fontSize:p.config.yaxis[0].title.style.fontSize,fontWeight:p.config.yaxis[0].title.style.fontWeight,fontFamily:p.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+p.config.yaxis[0].title.style.cssClass});H.add(z),y.add(H)}var Y=0;this.isCategoryBarHorizontal&&p.config.yaxis[0].opposite&&(Y=p.globals.gridWidth);var X=p.config.xaxis.axisBorder;if(X.show){var x=_.drawLine(p.globals.padHorizontal+X.offsetX+Y,1+X.offsetY,p.globals.padHorizontal+X.offsetX+Y,p.globals.gridHeight+X.offsetY,X.color,0);y.add(x)}return p.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(Y,S.length,p.config.yaxis[0].axisBorder,p.config.yaxis[0].axisTicks,0,l,y),y}},{key:"drawXaxisTicks",value:function(o,l,u){var f=this.w,p=o;if(!(o<0||o-2>f.globals.gridWidth)){var _=this.offY+f.config.xaxis.axisTicks.offsetY;if(l=l+_+f.config.xaxis.axisTicks.height,"top"===f.config.xaxis.position&&(l=_-f.config.xaxis.axisTicks.height),f.config.xaxis.axisTicks.show){var m=new Be(this.ctx).drawLine(o+f.config.xaxis.axisTicks.offsetX,_+f.config.xaxis.offsetY,p+f.config.xaxis.axisTicks.offsetX,l+f.config.xaxis.offsetY,f.config.xaxis.axisTicks.color);u.add(m),m.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var o=this.w,l=[],u=this.xaxisLabels.length,f=o.globals.padHorizontal;if(o.globals.timescaleLabels.length>0)for(var p=0;p<u;p++)l.push(f=this.xaxisLabels[p].position);else for(var _=u,m=0;m<_;m++){var y=_;o.globals.isXNumeric&&"bar"!==o.config.chart.type&&(y-=1),l.push(f+=o.globals.gridWidth/y)}return l}},{key:"xAxisLabelCorrections",value:function(){var o=this.w,l=new Be(this.ctx),u=o.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),p=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),_=o.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(o.globals.rotateXLabels||o.config.xaxis.labels.rotateAlways)for(var m=0;m<f.length;m++){var y=l.rotateAroundCenter(f[m]);y.y=y.y-1,y.x=y.x+1,f[m].setAttribute("transform","rotate(".concat(o.config.xaxis.labels.rotate," ").concat(y.x," ").concat(y.y,")")),f[m].setAttribute("text-anchor","end"),u.setAttribute("transform","translate(0, ".concat(-10,")")),o.config.xaxis.labels.trim&&Array.prototype.forEach.call(f[m].childNodes,function(R){l.placeTextWithEllipsis(R,R.textContent,o.globals.xAxisLabelsHeight-("bottom"===o.config.legend.position?20:10))})}else!function(){for(var R=o.globals.gridWidth/(o.globals.labels.length+1),O=0;O<f.length;O++)o.config.xaxis.labels.trim&&"datetime"!==o.config.xaxis.type&&Array.prototype.forEach.call(f[O].childNodes,function(H){l.placeTextWithEllipsis(H,H.textContent,R)})}();if(p.length>0){var S=p[p.length-1].getBBox(),M=p[0].getBBox();S.x<-20&&p[p.length-1].parentNode.removeChild(p[p.length-1]),M.x+M.width>o.globals.gridWidth&&!o.globals.isBarHorizontal&&p[0].parentNode.removeChild(p[0]);for(var T=0;T<_.length;T++)l.placeTextWithEllipsis(_[T],_[T].textContent,o.config.yaxis[0].labels.maxWidth-(o.config.yaxis[0].title.text?2*parseFloat(o.config.yaxis[0].title.style.fontSize):0)-15)}}}]),U}(),ab=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.xaxisLabels=l.globals.labels.slice(),this.axesUtils=new Bo(o),this.isRangeBar=l.globals.seriesRangeBar.length,l.globals.timescaleLabels.length>0&&(this.xaxisLabels=l.globals.timescaleLabels.slice())}return nt(U,[{key:"drawGridArea",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=this.w,u=new Be(this.ctx);null===o&&(o=u.group({class:"apexcharts-grid"}));var f=u.drawLine(l.globals.padHorizontal,1,l.globals.padHorizontal,l.globals.gridHeight,"transparent"),p=u.drawLine(l.globals.padHorizontal,l.globals.gridHeight,l.globals.gridWidth,l.globals.gridHeight,"transparent");return o.add(p),o.add(f),o}},{key:"drawGrid",value:function(){var o=null;return this.w.globals.axisCharts&&(o=this.renderGrid(),this.drawGridArea(o.el)),o}},{key:"createGridMask",value:function(){var o=this.w,l=o.globals,u=new Be(this.ctx),f=Array.isArray(o.config.stroke.width)?0:o.config.stroke.width;if(Array.isArray(o.config.stroke.width)){var p=0;o.config.stroke.width.forEach(function(M){p=Math.max(p,M)}),f=p}l.dom.elGridRectMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMask.setAttribute("id","gridRectMask".concat(l.cuid)),l.dom.elGridRectMarkerMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elGridRectMarkerMask.setAttribute("id","gridRectMarkerMask".concat(l.cuid)),l.dom.elForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elForecastMask.setAttribute("id","forecastMask".concat(l.cuid)),l.dom.elNonForecastMask=document.createElementNS(l.SVGNS,"clipPath"),l.dom.elNonForecastMask.setAttribute("id","nonForecastMask".concat(l.cuid));var _=o.config.chart.type,m=0,y=0;("bar"===_||"rangeBar"===_||"candlestick"===_||"boxPlot"===_||o.globals.comboBarCount>0)&&o.globals.isXNumeric&&!o.globals.isBarHorizontal&&(y=o.config.grid.padding.right,l.barPadForNumericAxis>(m=o.config.grid.padding.left)&&(m=l.barPadForNumericAxis,y=l.barPadForNumericAxis)),l.dom.elGridRect=u.drawRect(-f/2-m-2,-f/2,l.gridWidth+f+y+m+4,l.gridHeight+f,0,"#fff");var w=o.globals.markers.largestSize+1;l.dom.elGridRectMarker=u.drawRect(2*-w,2*-w,l.gridWidth+4*w,l.gridHeight+4*w,0,"#fff"),l.dom.elGridRectMask.appendChild(l.dom.elGridRect.node),l.dom.elGridRectMarkerMask.appendChild(l.dom.elGridRectMarker.node);var S=l.dom.baseEl.querySelector("defs");S.appendChild(l.dom.elGridRectMask),S.appendChild(l.dom.elForecastMask),S.appendChild(l.dom.elNonForecastMask),S.appendChild(l.dom.elGridRectMarkerMask)}},{key:"_drawGridLines",value:function(o){var l=o.i,u=o.x1,w=this.w;if(!(0===l&&w.globals.skipFirstTimelinelabel||l===o.xCount-1&&w.globals.skipLastTimelinelabel&&!w.config.xaxis.labels.formatter||"radar"===w.config.chart.type)){w.config.grid.xaxis.lines.show&&this._drawGridLine({x1:u,y1:o.y1,x2:o.x2,y2:o.y2,parent:o.parent});var S=0;if(w.globals.hasGroups&&"between"===w.config.xaxis.tickPlacement){var M=w.globals.groups;if(M){for(var T=0,R=0;T<l&&R<M.length;R++)T+=M[R].cols;T===l&&(S=.6*w.globals.xAxisLabelsHeight)}}new Ll(this.ctx).drawXaxisTicks(u,S,this.elg)}}},{key:"_drawGridLine",value:function(o){var l=o.x1,u=o.y1,f=o.x2,p=o.y2,_=o.parent,m=this.w,y=_.node.classList.contains("apexcharts-gridlines-horizontal"),w=m.config.grid.strokeDashArray,S=m.globals.barPadForNumericAxis,M=new Be(this).drawLine(l-(y?S:0),u,f+(y?S:0),p,m.config.grid.borderColor,w);M.node.classList.add("apexcharts-gridline"),_.add(M)}},{key:"_drawGridBandRect",value:function(o){var l=o.c,u=o.x1,f=o.y1,p=o.x2,_=o.y2,m=o.type,y=this.w,w=new Be(this.ctx),S=y.globals.barPadForNumericAxis;if("column"!==m||"datetime"!==y.config.xaxis.type){var T=w.drawRect(u-("row"===m?S:0),f,p+("row"===m?2*S:0),_,0,y.config.grid[m].colors[l],y.config.grid[m].opacity);this.elg.add(T),T.attr("clip-path","url(#gridRectMask".concat(y.globals.cuid,")")),T.node.classList.add("apexcharts-grid-".concat(m))}}},{key:"_drawXYLines",value:function(o){var l=this,u=o.xCount,f=o.tickAmount,p=this.w;if(p.config.grid.xaxis.lines.show||p.config.xaxis.axisTicks.show){var _,m=p.globals.padHorizontal,y=p.globals.gridHeight;p.globals.timescaleLabels.length?function(O){for(var L=O.xC,z=O.y1,X=O.y2,x=0;x<L;x++)l._drawGridLines({i:x,x1:l.xaxisLabels[x].position,y1:z,x2:l.xaxisLabels[x].position,y2:X,xCount:u,parent:l.elgridLinesV})}({xC:u,x1:m,y1:0,x2:_,y2:y}):(p.globals.isXNumeric&&(u=p.globals.xAxisScale.result.length),p.config.xaxis.convertedCatToNumeric&&(u=p.globals.xaxisLabelsCount),function(O){var L=O.xC,H=O.x1,z=O.y1,Y=O.x2,X=O.y2;if(void 0!==p.config.xaxis.tickAmount&&"dataPoints"!==p.config.xaxis.tickAmount&&"on"===p.config.xaxis.tickPlacement)p.globals.dom.baseEl.querySelectorAll(".apexcharts-text.apexcharts-xaxis-label tspan:not(:empty)").forEach(function(k,B){var W=k.getBBox();l._drawGridLines({i:B,x1:W.x+W.width/2,y1:z,x2:W.x+W.width/2,y2:X,xCount:u,parent:l.elgridLinesV})});else for(var x=0;x<L+(p.globals.isXNumeric?0:1);x++)0===x&&1===L&&1===p.globals.dataPoints&&(Y=H=p.globals.gridWidth/2),l._drawGridLines({i:x,x1:H,y1:z,x2:Y,y2:X,xCount:u,parent:l.elgridLinesV}),Y=H+=p.globals.gridWidth/(p.globals.isXNumeric?L-1:L)}({xC:u,x1:m,y1:0,x2:_,y2:y}))}if(p.config.grid.yaxis.lines.show){var w=0,S=0,M=p.globals.gridWidth,T=f+1;this.isRangeBar&&(T=p.globals.labels.length);for(var R=0;R<T+(this.isRangeBar?1:0);R++)this._drawGridLine({x1:0,y1:w,x2:M,y2:S,parent:this.elgridLinesH}),S=w+=p.globals.gridHeight/(this.isRangeBar?T:f)}}},{key:"_drawInvertedXYLines",value:function(o){var l=o.xCount,u=this.w;if(u.config.grid.xaxis.lines.show||u.config.xaxis.axisTicks.show)for(var f,p=u.globals.padHorizontal,_=u.globals.gridHeight,m=0;m<l+1;m++)u.config.grid.xaxis.lines.show&&this._drawGridLine({x1:p,y1:0,x2:f,y2:_,parent:this.elgridLinesV}),new Ll(this.ctx).drawXaxisTicks(p,0,this.elg),f=p=p+u.globals.gridWidth/l+.3;if(u.config.grid.yaxis.lines.show)for(var y=0,w=0,S=u.globals.gridWidth,M=0;M<u.globals.dataPoints+1;M++)this._drawGridLine({x1:0,y1:y,x2:S,y2:w,parent:this.elgridLinesH}),w=y+=u.globals.gridHeight/u.globals.dataPoints}},{key:"renderGrid",value:function(){var o=this.w,l=new Be(this.ctx);this.elg=l.group({class:"apexcharts-grid"}),this.elgridLinesH=l.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=l.group({class:"apexcharts-gridlines-vertical"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),o.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide());for(var u,f=o.globals.yAxisScale.length?o.globals.yAxisScale[0].result.length-1:5,p=0;p<o.globals.series.length&&(void 0!==o.globals.yAxisScale[p]&&(f=o.globals.yAxisScale[p].result.length-1),!(f>2));p++);return!o.globals.isBarHorizontal||this.isRangeBar?(u=this.xaxisLabels.length,this.isRangeBar&&(f=o.globals.labels.length,o.config.xaxis.tickAmount&&o.config.xaxis.labels.formatter&&(u=o.config.xaxis.tickAmount)),this._drawXYLines({xCount:u,tickAmount:f})):this._drawInvertedXYLines({xCount:u=f,tickAmount:f=o.globals.xTickAmount}),this.drawGridBands(u,f),{el:this.elg,xAxisTickWidth:o.globals.gridWidth/u}}},{key:"drawGridBands",value:function(o,l){var u=this.w;if(void 0!==u.config.grid.row.colors&&u.config.grid.row.colors.length>0)for(var f=0,p=u.globals.gridHeight/l,_=u.globals.gridWidth,m=0,y=0;m<l;m++,y++)y>=u.config.grid.row.colors.length&&(y=0),this._drawGridBandRect({c:y,x1:0,y1:f,x2:_,y2:p,type:"row"}),f+=u.globals.gridHeight/l;if(void 0!==u.config.grid.column.colors&&u.config.grid.column.colors.length>0)for(var w=u.globals.isBarHorizontal||"category"!==u.config.xaxis.type&&!u.config.xaxis.convertedCatToNumeric?o:o-1,S=u.globals.padHorizontal,M=u.globals.padHorizontal+u.globals.gridWidth/w,T=u.globals.gridHeight,R=0,O=0;R<o;R++,O++)O>=u.config.grid.column.colors.length&&(O=0),this._drawGridBandRect({c:O,x1:S,y1:0,x2:M,y2:T,type:"column"}),S+=u.globals.gridWidth/w}}]),U}(),Ua=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"niceScale",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,p=arguments.length>4?arguments[4]:void 0,_=this.w,m=Math.abs(l-o);if("dataPoints"===(u=this._adjustTicksForSmallRange(u,f,m))&&(u=_.globals.dataPoints-1),o===Number.MIN_VALUE&&0===l||!fe.isNumber(o)&&!fe.isNumber(l)||o===Number.MIN_VALUE&&l===-Number.MAX_VALUE){var y=this.linearScale(o=0,l=u,u);return y}o>l?(console.warn("axis.min cannot be greater than axis.max"),l=o+.1):o===l&&(o=0===o?0:o-.5,l=0===l?2:l+.5);var w=[];m<1&&p&&("candlestick"===_.config.chart.type||"candlestick"===_.config.series[f].type||"boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[f].type||_.globals.isRangeData)&&(l*=1.01);var S=u+1;S<2?S=2:S>2&&(S-=2);var M=m/S,T=Math.floor(fe.log10(M)),R=Math.pow(10,T),O=Math.round(M/R);O<1&&(O=1);var L=O*R,H=L*Math.floor(o/L),z=L*Math.ceil(l/L),Y=H;if(p&&m>2){for(;w.push(Y),!((Y+=L)>z););return{result:w,niceMin:w[0],niceMax:w[w.length-1]}}var X=o;(w=[]).push(X);for(var x=Math.abs(l-o)/u,k=0;k<=u;k++)w.push(X+=x);return w[w.length-2]>=l&&w.pop(),{result:w,niceMin:w[0],niceMax:w[w.length-1]}}},{key:"linearScale",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,f=arguments.length>3?arguments[3]:void 0,p=Math.abs(l-o);"dataPoints"===(u=this._adjustTicksForSmallRange(u,f,p))&&(u=this.w.globals.dataPoints-1);var _=p/u;u===Number.MAX_VALUE&&(u=10,_=1);for(var m=[],y=o;u>=0;)m.push(y),y+=_,u-=1;return{result:m,niceMin:m[0],niceMax:m[m.length-1]}}},{key:"logarithmicScaleNice",value:function(o,l,u){l<=0&&(l=Math.max(o,u)),o<=0&&(o=Math.min(l,u));for(var f=[],p=Math.ceil(Math.log(l)/Math.log(u)+1),_=Math.floor(Math.log(o)/Math.log(u));_<p;_++)f.push(Math.pow(u,_));return{result:f,niceMin:f[0],niceMax:f[f.length-1]}}},{key:"logarithmicScale",value:function(o,l,u){l<=0&&(l=Math.max(o,u)),o<=0&&(o=Math.min(l,u));for(var f=[],p=Math.log(l)/Math.log(u),_=Math.log(o)/Math.log(u),m=p-_,y=Math.round(m),w=m/y,S=0,M=_;S<y;S++,M+=w)f.push(Math.pow(u,M));return f.push(Math.pow(u,p)),{result:f,niceMin:o,niceMax:l}}},{key:"_adjustTicksForSmallRange",value:function(o,l,u){var f=o;if(void 0!==l&&this.w.config.yaxis[l].labels.formatter&&void 0===this.w.config.yaxis[l].tickAmount){var p=this.w.config.yaxis[l].labels.formatter(1);fe.isNumber(Number(p))&&!fe.isFloat(p)&&(f=Math.ceil(u))}return f<o?f:o}},{key:"setYScaleForIndex",value:function(o,l,u){var f=this.w.globals,p=this.w.config,_=f.isBarHorizontal?p.xaxis:p.yaxis[o];void 0===f.yAxisScale[o]&&(f.yAxisScale[o]=[]);var m=Math.abs(u-l);_.logarithmic&&m<=5&&(f.invalidLogScale=!0),_.logarithmic&&m>5?(f.allSeriesCollapsed=!1,f.yAxisScale[o]=this.logarithmicScale(l,u,_.logBase),f.yAxisScale[o]=_.forceNiceScale?this.logarithmicScaleNice(l,u,_.logBase):this.logarithmicScale(l,u,_.logBase)):u!==-Number.MAX_VALUE&&fe.isNumber(u)?(f.allSeriesCollapsed=!1,f.yAxisScale[o]=void 0===_.min&&void 0===_.max||_.forceNiceScale?this.niceScale(l,u,_.tickAmount?_.tickAmount:m<5&&m>1?m+1:5,o,void 0===p.yaxis[o].max&&void 0===p.yaxis[o].min||p.yaxis[o].forceNiceScale):this.linearScale(l,u,_.tickAmount,o)):f.yAxisScale[o]=this.linearScale(0,5,5)}},{key:"setXScale",value:function(o,l){var u=this.w,f=u.globals,p=u.config.xaxis,_=Math.abs(l-o);return f.xAxisScale=l!==-Number.MAX_VALUE&&fe.isNumber(l)?this.linearScale(o,l,p.tickAmount?p.tickAmount:_<5&&_>1?_+1:5,0):this.linearScale(0,5,5),f.xAxisScale}},{key:"setMultipleYScales",value:function(){var o=this,l=this.w.globals,u=this.w.config,f=l.minYArr.concat([]),p=l.maxYArr.concat([]),_=[];u.yaxis.forEach(function(m,y){var w=y;u.series.forEach(function(T,R){T.name===m.seriesName&&(w=R,_.push(y!==R?{index:R,similarIndex:y,alreadyExists:!0}:{index:R}))}),o.setYScaleForIndex(y,f[w],p[w])}),this.sameScaleInMultipleAxes(f,p,_)}},{key:"sameScaleInMultipleAxes",value:function(o,l,u){var f=this,p=this.w.config,_=this.w.globals,m=[];u.forEach(function(L){L.alreadyExists&&(void 0===m[L.index]&&(m[L.index]=[]),m[L.index].push(L.index),m[L.index].push(L.similarIndex))}),_.yAxisSameScaleIndices=m,m.forEach(function(L,H){m.forEach(function(z,Y){var X,x;H!==Y&&(X=L,x=z,X.filter(function(k){return-1!==x.indexOf(k)})).length>0&&(m[H]=m[H].concat(m[Y]))})});var y=m.map(function(L){return L.filter(function(H,z){return L.indexOf(H)===z})}).map(function(L){return L.sort()});m=m.filter(function(L){return!!L});var w=y.slice(),S=w.map(function(L){return JSON.stringify(L)});w=w.filter(function(L,H){return S.indexOf(JSON.stringify(L))===H});var M=[],T=[];o.forEach(function(L,H){w.forEach(function(z,Y){z.indexOf(H)>-1&&(void 0===M[Y]&&(M[Y]=[],T[Y]=[]),M[Y].push({key:H,value:L}),T[Y].push({key:H,value:l[H]}))})});var R=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,Number.MIN_VALUE),O=Array.apply(null,Array(w.length)).map(Number.prototype.valueOf,-Number.MAX_VALUE);M.forEach(function(L,H){L.forEach(function(z,Y){R[H]=Math.min(z.value,R[H])})}),T.forEach(function(L,H){L.forEach(function(z,Y){O[H]=Math.max(z.value,O[H])})}),o.forEach(function(L,H){T.forEach(function(z,Y){var X=R[Y],x=O[Y];p.chart.stacked&&(x=0,z.forEach(function(k,B){k.value!==-Number.MAX_VALUE&&(x+=k.value),X!==Number.MIN_VALUE&&(X+=M[Y][B].value)})),z.forEach(function(k,B){z[B].key===H&&(void 0!==p.yaxis[H].min&&(X="function"==typeof p.yaxis[H].min?p.yaxis[H].min(_.minY):p.yaxis[H].min),void 0!==p.yaxis[H].max&&(x="function"==typeof p.yaxis[H].max?p.yaxis[H].max(_.maxY):p.yaxis[H].max),f.setYScaleForIndex(H,X,x))})})})}},{key:"autoScaleY",value:function(o,l,u){o||(o=this);var f=o.w;if(f.globals.isMultipleYAxis||f.globals.collapsedSeries.length)return console.warn("autoScaleYaxis is not supported in a multi-yaxis chart."),l;var p=f.globals.seriesX[0],_=f.config.chart.stacked;return l.forEach(function(m,y){for(var w=0,S=0;S<p.length;S++)if(p[S]>=u.xaxis.min){w=S;break}var M,T,R=f.globals.minYArr[y],O=f.globals.maxYArr[y],L=f.globals.stackedSeriesTotals;f.globals.series.forEach(function(H,z){var Y=H[w];_?(M=T=Y=L[w],L.forEach(function(X,x){p[x]<=u.xaxis.max&&p[x]>=u.xaxis.min&&(X>T&&null!==X&&(T=X),H[x]<M&&null!==H[x]&&(M=H[x]))})):(M=T=Y,H.forEach(function(X,x){if(p[x]<=u.xaxis.max&&p[x]>=u.xaxis.min){var k=X,B=X;f.globals.series.forEach(function(W,K){null!==X&&(k=Math.min(W[x],k),B=Math.max(W[x],B))}),B>T&&null!==B&&(T=B),k<M&&null!==k&&(M=k)}})),void 0===M&&void 0===T&&(M=R,T=O),(T*=T<0?.9:1.1)<0&&T<O&&(T=O),(M*=M<0?1.1:.9)<0&&M>R&&(M=R),l.length>1?(l[z].min=void 0===m.min?M:m.min,l[z].max=void 0===m.max?T:m.max):(l[0].min=void 0===m.min?M:m.min,l[0].max=void 0===m.max?T:m.max)})}),l}}]),U}(),og=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.scales=new Ua(o)}return nt(U,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w.config,_=this.w.globals,m=-Number.MAX_VALUE,y=Number.MIN_VALUE;null===f&&(f=o+1);var w=_.series,S=w,M=w;"candlestick"===p.chart.type?(S=_.seriesCandleL,M=_.seriesCandleH):"boxPlot"===p.chart.type?(S=_.seriesCandleO,M=_.seriesCandleC):_.isRangeData&&(S=_.seriesRangeStart,M=_.seriesRangeEnd);for(var T=o;T<f;T++){_.dataPoints=Math.max(_.dataPoints,w[T].length),_.categoryLabels.length&&(_.dataPoints=_.categoryLabels.filter(function(L){return void 0!==L}).length);for(var R=0;R<_.series[T].length;R++){var O=w[T][R];null!==O&&fe.isNumber(O)?(void 0!==M[T][R]&&(m=Math.max(m,M[T][R]),l=Math.min(l,M[T][R])),void 0!==S[T][R]&&(l=Math.min(l,S[T][R]),u=Math.max(u,S[T][R])),"candlestick"!==this.w.config.chart.type&&"boxPlot"!==this.w.config.chart.type||(void 0!==_.seriesCandleC[T][R]&&(m=Math.max(m,_.seriesCandleO[T][R]),m=Math.max(m,_.seriesCandleH[T][R]),m=Math.max(m,_.seriesCandleL[T][R]),m=Math.max(m,_.seriesCandleC[T][R]),"boxPlot"===this.w.config.chart.type&&(m=Math.max(m,_.seriesCandleM[T][R]))),!p.series[T].type||"candlestick"===p.series[T].type&&"boxPlot"===p.series[T].type||(m=Math.max(m,_.series[T][R]),l=Math.min(l,_.series[T][R])),u=m),_.seriesGoals[T]&&_.seriesGoals[T][R]&&Array.isArray(_.seriesGoals[T][R])&&_.seriesGoals[T][R].forEach(function(L){y!==Number.MIN_VALUE&&(y=Math.min(y,L.value),l=y),m=Math.max(m,L.value),u=m}),fe.isFloat(O)&&(O=fe.noExponents(O),_.yValueDecimal=Math.max(_.yValueDecimal,O.toString().split(".")[1].length)),y>S[T][R]&&S[T][R]<0&&(y=S[T][R])):_.hasNullValues=!0}}return"rangeBar"===p.chart.type&&_.seriesRangeStart.length&&_.isBarHorizontal&&(y=l),"bar"===p.chart.type&&(y<0&&m<0&&(m=0),y===Number.MIN_VALUE&&(y=0)),{minY:y,maxY:m,lowestY:l,highestY:u}}},{key:"setYRange",value:function(){var o=this.w.globals,l=this.w.config;o.maxY=-Number.MAX_VALUE,o.minY=Number.MIN_VALUE;var u=Number.MAX_VALUE;if(o.isMultipleYAxis)for(var f=0;f<o.series.length;f++){var p=this.getMinYMaxY(f,u,null,f+1);o.minYArr.push(p.minY),o.maxYArr.push(p.maxY),u=p.lowestY}var _=this.getMinYMaxY(0,u,null,o.series.length);if(o.minY=_.minY,o.maxY=_.maxY,u=_.lowestY,l.chart.stacked&&this._setStackedMinMax(),("line"===l.chart.type||"area"===l.chart.type||"candlestick"===l.chart.type||"boxPlot"===l.chart.type||"rangeBar"===l.chart.type&&!o.isBarHorizontal)&&o.minY===Number.MIN_VALUE&&u!==-Number.MAX_VALUE&&u!==o.maxY){var m=o.maxY-u;(u>=0&&u<=10||void 0!==l.yaxis[0].min||void 0!==l.yaxis[0].max)&&(m=0),o.minY=u-5*m/100,u>0&&o.minY<0&&(o.minY=0),o.maxY=o.maxY+5*m/100}return l.yaxis.forEach(function(y,w){void 0!==y.max&&("number"==typeof y.max?o.maxYArr[w]=y.max:"function"==typeof y.max&&(o.maxYArr[w]=y.max(o.isMultipleYAxis?o.maxYArr[w]:o.maxY)),o.maxY=o.maxYArr[w]),void 0!==y.min&&("number"==typeof y.min?o.minYArr[w]=y.min:"function"==typeof y.min&&(o.minYArr[w]=y.min(o.isMultipleYAxis?o.minYArr[w]===Number.MIN_VALUE?0:o.minYArr[w]:o.minY)),o.minY=o.minYArr[w])}),o.isBarHorizontal&&["min","max"].forEach(function(y){void 0!==l.xaxis[y]&&"number"==typeof l.xaxis[y]&&("min"===y?o.minY=l.xaxis[y]:o.maxY=l.xaxis[y])}),o.isMultipleYAxis?(this.scales.setMultipleYScales(),o.minY=u,o.yAxisScale.forEach(function(y,w){o.minYArr[w]=y.niceMin,o.maxYArr[w]=y.niceMax})):(this.scales.setYScaleForIndex(0,o.minY,o.maxY),o.minY=o.yAxisScale[0].niceMin,o.maxY=o.yAxisScale[0].niceMax,o.minYArr[0]=o.yAxisScale[0].niceMin,o.maxYArr[0]=o.yAxisScale[0].niceMax),{minY:o.minY,maxY:o.maxY,minYArr:o.minYArr,maxYArr:o.maxYArr,yAxisScale:o.yAxisScale}}},{key:"setXRange",value:function(){var o=this.w.globals,l=this.w.config,u="numeric"===l.xaxis.type||"datetime"===l.xaxis.type||"category"===l.xaxis.type&&!o.noLabelsProvided||o.noLabelsProvided||o.isXNumeric;if(o.isXNumeric&&function(){for(var m=0;m<o.series.length;m++)if(o.labels[m])for(var y=0;y<o.labels[m].length;y++)null!==o.labels[m][y]&&fe.isNumber(o.labels[m][y])&&(o.maxX=Math.max(o.maxX,o.labels[m][y]),o.initialMaxX=Math.max(o.maxX,o.labels[m][y]),o.minX=Math.min(o.minX,o.labels[m][y]),o.initialMinX=Math.min(o.minX,o.labels[m][y]))}(),o.noLabelsProvided&&0===l.xaxis.categories.length&&(o.maxX=o.labels[o.labels.length-1],o.initialMaxX=o.labels[o.labels.length-1],o.minX=1,o.initialMinX=1),o.isXNumeric||o.noLabelsProvided||o.dataFormatXNumeric){var f;if(void 0===l.xaxis.tickAmount?(f=Math.round(o.svgWidth/150),"numeric"===l.xaxis.type&&o.dataPoints<30&&(f=o.dataPoints-1),f>o.dataPoints&&0!==o.dataPoints&&(f=o.dataPoints-1)):"dataPoints"===l.xaxis.tickAmount?(o.series.length>1&&(f=o.series[o.maxValsInArrayIndex].length-1),o.isXNumeric&&(f=o.maxX-o.minX-1)):f=l.xaxis.tickAmount,o.xTickAmount=f,void 0!==l.xaxis.max&&"number"==typeof l.xaxis.max&&(o.maxX=l.xaxis.max),void 0!==l.xaxis.min&&"number"==typeof l.xaxis.min&&(o.minX=l.xaxis.min),void 0!==l.xaxis.range&&(o.minX=o.maxX-l.xaxis.range),o.minX!==Number.MAX_VALUE&&o.maxX!==-Number.MAX_VALUE)if(l.xaxis.convertedCatToNumeric&&!o.dataFormatXNumeric){for(var p=[],_=o.minX-1;_<o.maxX;_++)p.push(_+1);o.xAxisScale={result:p,niceMin:p[0],niceMax:p[p.length-1]}}else o.xAxisScale=this.scales.setXScale(o.minX,o.maxX);else o.xAxisScale=this.scales.linearScale(1,f,f),o.noLabelsProvided&&o.labels.length>0&&(o.xAxisScale=this.scales.linearScale(1,o.labels.length,f-1),o.seriesX=o.labels.slice());u&&(o.labels=o.xAxisScale.result.slice())}return o.isBarHorizontal&&o.labels.length&&(o.xTickAmount=o.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:o.minX,maxX:o.maxX}}},{key:"setZRange",value:function(){var o=this.w.globals;if(o.isDataXYZ)for(var l=0;l<o.series.length;l++)if(void 0!==o.seriesZ[l])for(var u=0;u<o.seriesZ[l].length;u++)null!==o.seriesZ[l][u]&&fe.isNumber(o.seriesZ[l][u])&&(o.maxZ=Math.max(o.maxZ,o.seriesZ[l][u]),o.minZ=Math.min(o.minZ,o.seriesZ[l][u]))}},{key:"_handleSingleDataPoint",value:function(){var o=this.w.globals,l=this.w.config;if(o.minX===o.maxX){var u=new pi(this.ctx);if("datetime"===l.xaxis.type){var f=u.getDate(o.minX);l.xaxis.labels.datetimeUTC?f.setUTCDate(f.getUTCDate()-2):f.setDate(f.getDate()-2),o.minX=new Date(f).getTime();var p=u.getDate(o.maxX);l.xaxis.labels.datetimeUTC?p.setUTCDate(p.getUTCDate()+2):p.setDate(p.getDate()+2),o.maxX=new Date(p).getTime()}else("numeric"===l.xaxis.type||"category"===l.xaxis.type&&!o.noLabelsProvided)&&(o.minX=o.minX-2,o.initialMinX=o.minX,o.maxX=o.maxX+2,o.initialMaxX=o.maxX)}}},{key:"_getMinXDiff",value:function(){var o=this.w.globals;o.isXNumeric&&o.seriesX.forEach(function(l,u){1===l.length&&l.push(o.seriesX[o.maxValsInArrayIndex][o.seriesX[o.maxValsInArrayIndex].length-1]);var f=l.slice();f.sort(function(p,_){return p-_}),f.forEach(function(p,_){if(_>0){var m=p-f[_-1];m>0&&(o.minXDiff=Math.min(m,o.minXDiff))}}),1!==o.dataPoints&&o.minXDiff!==Number.MAX_VALUE||(o.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var o=this.w.globals,l=[],u=[];if(o.series.length)for(var f=0;f<o.series[o.maxValsInArrayIndex].length;f++)for(var p=0,_=0,m=0;m<o.series.length;m++)null!==o.series[m][f]&&fe.isNumber(o.series[m][f])&&(o.series[m][f]>0?p=p+parseFloat(o.series[m][f])+1e-4:_+=parseFloat(o.series[m][f])),m===o.series.length-1&&(l.push(p),u.push(_));for(var y=0;y<l.length;y++)o.maxY=Math.max(o.maxY,l[y]),o.minY=Math.min(o.minY,u[y])}}]),U}(),ed=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.xaxisFontSize=l.config.xaxis.labels.style.fontSize,this.axisFontFamily=l.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=l.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===l.config.chart.type&&l.config.plotOptions.bar.horizontal,this.xAxisoffX=0,"bottom"===l.config.xaxis.position&&(this.xAxisoffX=l.globals.gridHeight),this.drawnLabels=[],this.axesUtils=new Bo(o)}return nt(U,[{key:"drawYaxis",value:function(o){var l=this,u=this.w,f=new Be(this.ctx),p=u.config.yaxis[o].labels.style,_=p.fontSize,m=p.fontFamily,y=p.fontWeight,w=f.group({class:"apexcharts-yaxis",rel:o,transform:"translate("+u.globals.translateYAxisX[o]+", 0)"});if(this.axesUtils.isYAxisHidden(o))return w;var S=f.group({class:"apexcharts-yaxis-texts-g"});w.add(S);var M=u.globals.yAxisScale[o].result.length-1,T=u.globals.gridHeight/M,R=u.globals.translateY,O=u.globals.yLabelFormatters[o],L=u.globals.yAxisScale[o].result.slice();L=this.axesUtils.checkForReversedLabels(o,L);var H="";if(u.config.yaxis[o].labels.show)for(var z=function(ve){var te=L[ve];te=O(te,ve,u);var Ee=u.config.yaxis[o].labels.padding;u.config.yaxis[o].opposite&&0!==u.config.yaxis.length&&(Ee*=-1);var Le=l.axesUtils.getYAxisForeColor(p.colors,o),$e=f.drawText({x:Ee,y:R+M/10+u.config.yaxis[o].labels.offsetY+1,text:te,textAnchor:u.config.yaxis[o].opposite?"start":"end",fontSize:_,fontFamily:m,fontWeight:y,maxWidth:u.config.yaxis[o].labels.maxWidth,foreColor:Array.isArray(Le)?Le[ve]:Le,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+p.cssClass});ve===M&&(H=$e),S.add($e);var Tt=document.createElementNS(u.globals.SVGNS,"title");if(Tt.textContent=Array.isArray(te)?te.join(" "):te,$e.node.appendChild(Tt),0!==u.config.yaxis[o].labels.rotate){var Ii=f.rotateAroundCenter(H.node),Zt=f.rotateAroundCenter($e.node);$e.node.setAttribute("transform","rotate(".concat(u.config.yaxis[o].labels.rotate," ").concat(Ii.x," ").concat(Zt.y,")"))}R+=T},Y=M;Y>=0;Y--)z(Y);if(void 0!==u.config.yaxis[o].title.text){var X=f.group({class:"apexcharts-yaxis-title"}),x=0;u.config.yaxis[o].opposite&&(x=u.globals.translateYAxisX[o]);var k=f.drawText({x,y:u.globals.gridHeight/2+u.globals.translateY+u.config.yaxis[o].title.offsetY,text:u.config.yaxis[o].title.text,textAnchor:"end",foreColor:u.config.yaxis[o].title.style.color,fontSize:u.config.yaxis[o].title.style.fontSize,fontWeight:u.config.yaxis[o].title.style.fontWeight,fontFamily:u.config.yaxis[o].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+u.config.yaxis[o].title.style.cssClass});X.add(k),w.add(X)}var B=u.config.yaxis[o].axisBorder,W=31+B.offsetX;if(u.config.yaxis[o].opposite&&(W=-31-B.offsetX),B.show){var K=f.drawLine(W,u.globals.translateY+B.offsetY-2,W,u.globals.gridHeight+u.globals.translateY+B.offsetY+2,B.color,0,B.width);w.add(K)}return u.config.yaxis[o].axisTicks.show&&this.axesUtils.drawYAxisTicks(W,M,B,u.config.yaxis[o].axisTicks,o,T,w),w}},{key:"drawYaxisInversed",value:function(o){var l=this.w,u=new Be(this.ctx),f=u.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),p=u.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(l.globals.translateXAxisX,", ").concat(l.globals.translateXAxisY,")")});f.add(p);var _=l.globals.yAxisScale[o].result.length-1,m=l.globals.gridWidth/_+.1,y=m+l.config.xaxis.labels.offsetX,w=l.globals.xLabelFormatter,S=l.globals.yAxisScale[o].result.slice(),M=l.globals.timescaleLabels;M.length>0&&(this.xaxisLabels=M.slice(),_=(S=M.slice()).length),S=this.axesUtils.checkForReversedLabels(o,S);var T=M.length;if(l.config.xaxis.labels.show)for(var R=T?0:_;T?R<T:R>=0;T?R++:R--){var O=S[R];O=w(O,R,l);var L=l.globals.gridWidth+l.globals.padHorizontal-(y-m+l.config.xaxis.labels.offsetX);if(M.length){var H=this.axesUtils.getLabel(S,M,L,R,this.drawnLabels,this.xaxisFontSize);L=H.x,O=H.text,this.drawnLabels.push(H.text),0===R&&l.globals.skipFirstTimelinelabel&&(O=""),R===S.length-1&&l.globals.skipLastTimelinelabel&&(O="")}var z=u.drawText({x:L,y:this.xAxisoffX+l.config.xaxis.labels.offsetY+30-("top"===l.config.xaxis.position?l.globals.xAxisHeight+l.config.xaxis.axisTicks.height-2:0),text:O,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[o]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:l.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label "+l.config.xaxis.labels.style.cssClass});p.add(z),z.tspan(O);var Y=document.createElementNS(l.globals.SVGNS,"title");Y.textContent=O,z.node.appendChild(Y),y+=m}return this.inversedYAxisTitleText(f),this.inversedYAxisBorder(f),f}},{key:"inversedYAxisBorder",value:function(o){var l=this.w,u=new Be(this.ctx),f=l.config.xaxis.axisBorder;if(f.show){var p=0;"bar"===l.config.chart.type&&l.globals.isXNumeric&&(p-=15);var _=u.drawLine(l.globals.padHorizontal+p+f.offsetX,this.xAxisoffX,l.globals.gridWidth,this.xAxisoffX,f.color,0,f.height);o.add(_)}}},{key:"inversedYAxisTitleText",value:function(o){var l=this.w,u=new Be(this.ctx);if(void 0!==l.config.xaxis.title.text){var f=u.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),p=u.drawText({x:l.globals.gridWidth/2+l.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(l.config.xaxis.title.style.fontSize)+l.config.xaxis.title.offsetY+20,text:l.config.xaxis.title.text,textAnchor:"middle",fontSize:l.config.xaxis.title.style.fontSize,fontFamily:l.config.xaxis.title.style.fontFamily,fontWeight:l.config.xaxis.title.style.fontWeight,foreColor:l.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+l.config.xaxis.title.style.cssClass});f.add(p),o.add(f)}}},{key:"yAxisTitleRotate",value:function(o,l){var u=this.w,f=new Be(this.ctx),p={width:0,height:0},_={width:0,height:0},m=u.globals.dom.baseEl.querySelector(" .apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-texts-g"));null!==m&&(p=m.getBoundingClientRect());var y=u.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(o,"'] .apexcharts-yaxis-title text"));if(null!==y&&(_=y.getBoundingClientRect()),null!==y){var w=this.xPaddingForYAxisTitle(o,p,_,l);y.setAttribute("x",w.xPos-(l?10:0))}if(null!==y){var S=f.rotateAroundCenter(y);y.setAttribute("transform","rotate(".concat(l?-1*u.config.yaxis[o].title.rotate:u.config.yaxis[o].title.rotate," ").concat(S.x," ").concat(S.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(o,l,u,f){var p=this.w,_=0,m=0,y=10;return void 0===p.config.yaxis[o].title.text||o<0?{xPos:m,padd:0}:(f?(m=l.width+p.config.yaxis[o].title.offsetX+u.width/2+y/2,0===(_+=1)&&(m-=y/2)):(m=-1*l.width+p.config.yaxis[o].title.offsetX+y/2+u.width/2,p.globals.isBarHorizontal&&(m=-1*l.width-p.config.yaxis[o].title.offsetX-(y=25))),{xPos:m,padd:y})}},{key:"setYAxisXPosition",value:function(o,l){var u=this.w,f=0,p=0,_=18,m=1;u.config.yaxis.length>1&&(this.multipleYs=!0),u.config.yaxis.map(function(y,w){var S=u.globals.ignoreYAxisIndexes.indexOf(w)>-1||!y.show||y.floating||0===o[w].width,M=o[w].width+l[w].width;y.opposite?u.globals.isBarHorizontal?u.globals.translateYAxisX[w]=(p=u.globals.gridWidth+u.globals.translateX-1)-y.labels.offsetX:(p=u.globals.gridWidth+u.globals.translateX+m,S||(m=m+M+20),u.globals.translateYAxisX[w]=p-y.labels.offsetX+20):(f=u.globals.translateX-_,S||(_=_+M+20),u.globals.translateYAxisX[w]=f+y.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var o=this.w,l=o.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis");(l=fe.listToArray(l)).forEach(function(u,f){var p=o.config.yaxis[f];if(p&&void 0!==p.labels.align){var _=o.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(f,"'] .apexcharts-yaxis-texts-g")),m=o.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(f,"'] .apexcharts-yaxis-label"));m=fe.listToArray(m);var y=_.getBoundingClientRect();"left"===p.labels.align?(m.forEach(function(w,S){w.setAttribute("text-anchor","start")}),p.opposite||_.setAttribute("transform","translate(-".concat(y.width,", 0)"))):"center"===p.labels.align?(m.forEach(function(w,S){w.setAttribute("text-anchor","middle")}),_.setAttribute("transform","translate(".concat(y.width/2*(p.opposite?1:-1),", 0)"))):"right"===p.labels.align&&(m.forEach(function(w,S){w.setAttribute("text-anchor","end")}),p.opposite&&_.setAttribute("transform","translate(".concat(y.width,", 0)")))}})}}]),U}(),ob=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.documentEvent=fe.bind(this.documentEvent,this)}return nt(U,[{key:"addEventListener",value:function(o,l){var u=this.w;u.globals.events.hasOwnProperty(o)?u.globals.events[o].push(l):u.globals.events[o]=[l]}},{key:"removeEventListener",value:function(o,l){var u=this.w;if(u.globals.events.hasOwnProperty(o)){var f=u.globals.events[o].indexOf(l);-1!==f&&u.globals.events[o].splice(f,1)}}},{key:"fireEvent",value:function(o,l){var u=this.w;if(u.globals.events.hasOwnProperty(o)){l&&l.length||(l=[]);for(var f=u.globals.events[o],p=f.length,_=0;_<p;_++)f[_].apply(null,l)}}},{key:"setupEventHandlers",value:function(){var o=this,l=this.w,u=this.ctx,f=l.globals.dom.baseEl.querySelector(l.globals.chartClass);this.ctx.eventList.forEach(function(p){f.addEventListener(p,function(_){var m=Object.assign({},l,{seriesIndex:l.globals.capturedSeriesIndex,dataPointIndex:l.globals.capturedDataPointIndex});"mousemove"===_.type||"touchmove"===_.type?"function"==typeof l.config.chart.events.mouseMove&&l.config.chart.events.mouseMove(_,u,m):"mouseleave"===_.type||"touchleave"===_.type?"function"==typeof l.config.chart.events.mouseLeave&&l.config.chart.events.mouseLeave(_,u,m):("mouseup"===_.type&&1===_.which||"touchend"===_.type)&&("function"==typeof l.config.chart.events.click&&l.config.chart.events.click(_,u,m),u.ctx.events.fireEvent("click",[_,u,m]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(p){l.globals.dom.baseEl.addEventListener(p,o.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(o){var l=this.w,u=o.target.className;if("click"===o.type){var f=l.globals.dom.baseEl.querySelector(".apexcharts-menu");f&&f.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==u&&f.classList.remove("apexcharts-menu-open")}l.globals.clientX="touchmove"===o.type?o.touches[0].clientX:o.clientX,l.globals.clientY="touchmove"===o.type?o.touches[0].clientY:o.clientY}}]),U}(),GD=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"setCurrentLocaleValues",value:function(o){var l=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(l=this.w.config.chart.locales.concat(window.Apex.chart.locales));var u=l.filter(function(p){return p.name===o})[0];if(!u)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var f=fe.extend(Fr,u);this.w.globals.locale=f.options}}]),U}(),UD=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"drawAxis",value:function(o,l){var u,f,p=this.w.globals,_=this.w.config,m=new Ll(this.ctx),y=new ed(this.ctx);p.axisCharts&&"radar"!==o&&(p.isBarHorizontal?(f=y.drawYaxisInversed(0),u=m.drawXaxisInversed(0),p.dom.elGraphical.add(u),p.dom.elGraphical.add(f)):(u=m.drawXaxis(),p.dom.elGraphical.add(u),_.yaxis.map(function(w,S){-1===p.ignoreYAxisIndexes.indexOf(S)&&(f=y.drawYaxis(S),p.dom.Paper.add(f))})))}}]),U}(),lg=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"drawXCrosshairs",value:function(){var o=this.w,l=new Be(this.ctx),u=new An(this.ctx),f=o.config.xaxis.crosshairs.fill.gradient,p=o.config.xaxis.crosshairs.dropShadow,T=p.enabled,R=p.left,O=p.top,L=p.blur,H=p.color,z=p.opacity,Y=o.config.xaxis.crosshairs.fill.color;if(o.config.xaxis.crosshairs.show){"gradient"===o.config.xaxis.crosshairs.fill.type&&(Y=l.drawGradient("vertical",f.colorFrom,f.colorTo,f.opacityFrom,f.opacityTo,null,f.stops,null));var X=l.drawRect();1===o.config.xaxis.crosshairs.width&&(X=l.drawLine());var x=o.globals.gridHeight;(!fe.isNumber(x)||x<0)&&(x=0);var k=o.config.xaxis.crosshairs.width;(!fe.isNumber(k)||k<0)&&(k=0),X.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:x,width:k,height:x,fill:Y,filter:"none","fill-opacity":o.config.xaxis.crosshairs.opacity,stroke:o.config.xaxis.crosshairs.stroke.color,"stroke-width":o.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":o.config.xaxis.crosshairs.stroke.dashArray}),T&&(X=u.dropShadow(X,{left:R,top:O,blur:L,color:H,opacity:z})),o.globals.dom.elGraphical.add(X)}}},{key:"drawYCrosshairs",value:function(){var o=this.w,l=new Be(this.ctx),u=o.config.yaxis[0].crosshairs,f=o.globals.barPadForNumericAxis;if(o.config.yaxis[0].crosshairs.show){var p=l.drawLine(-f,0,o.globals.gridWidth+f,0,u.stroke.color,u.stroke.dashArray,u.stroke.width);p.attr({class:"apexcharts-ycrosshairs"}),o.globals.dom.elGraphical.add(p)}var _=l.drawLine(-f,0,o.globals.gridWidth+f,0,u.stroke.color,0,0);_.attr({class:"apexcharts-ycrosshairs-hidden"}),o.globals.dom.elGraphical.add(_)}}]),U}(),Wa=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"checkResponsiveConfig",value:function(o){var l=this,u=this.w,f=u.config;if(0!==f.responsive.length){var p=f.responsive.slice();p.sort(function(w,S){return w.breakpoint>S.breakpoint?1:S.breakpoint>w.breakpoint?-1:0}).reverse();var _=new Ga({}),m=function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=p[0].breakpoint,M=window.innerWidth>0?window.innerWidth:screen.width;if(M>S){var T=hn.extendArrayProps(_,u.globals.initialConfig,u);w=fe.extend(T,w),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w)}else for(var R=0;R<p.length;R++)M<p[R].breakpoint&&(w=hn.extendArrayProps(_,p[R].options,u),w=fe.extend(u.config,w),l.overrideResponsiveOptions(w))};if(o){var y=hn.extendArrayProps(_,o,u);y=fe.extend(u.config,y),m(y=fe.extend(y,o))}else m({})}}},{key:"overrideResponsiveOptions",value:function(o){var l=new Ga(o).init({responsiveOverride:!0});this.w.config=l}}]),U}(),lb=function(){function U(o){Ie(this,U),this.ctx=o,this.colors=[],this.w=o.w;var l=this.w;this.isColorFn=!1,this.isHeatmapDistributed="treemap"===l.config.chart.type&&l.config.plotOptions.treemap.distributed||"heatmap"===l.config.chart.type&&l.config.plotOptions.heatmap.distributed,this.isBarDistributed=l.config.plotOptions.bar.distributed&&("bar"===l.config.chart.type||"rangeBar"===l.config.chart.type)}return nt(U,[{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var o=this,l=this.w,u=new fe;if(l.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(l.config.theme.mode)),void 0===l.config.colors?l.globals.colors=this.predefined():(l.globals.colors=l.config.colors,Array.isArray(l.config.colors)&&l.config.colors.length>0&&"function"==typeof l.config.colors[0]&&(l.globals.colors=l.config.series.map(function(R,O){var L=l.config.colors[O];return L||(L=l.config.colors[0]),"function"==typeof L?(o.isColorFn=!0,L({value:l.globals.axisCharts?l.globals.series[O][0]?l.globals.series[O][0]:0:l.globals.series[O],seriesIndex:O,dataPointIndex:O,w:l})):L}))),l.globals.seriesColors.map(function(R,O){R&&(l.globals.colors[O]=R)}),l.config.theme.monochrome.enabled){var f=[],p=l.globals.series.length;(this.isBarDistributed||this.isHeatmapDistributed)&&(p=l.globals.series[0].length*l.globals.series.length);for(var _=l.config.theme.monochrome.color,m=1/(p/l.config.theme.monochrome.shadeIntensity),y=l.config.theme.monochrome.shadeTo,w=0,S=0;S<p;S++){var M=void 0;"dark"===y?(M=u.shadeColor(-1*w,_),w+=m):(M=u.shadeColor(w,_),w+=m),f.push(M)}l.globals.colors=f.slice()}var T=l.globals.colors.slice();this.pushExtraColors(l.globals.colors),["fill","stroke"].forEach(function(R){l.globals[R].colors=void 0===l.config[R].colors?o.isColorFn?l.config.colors:T:l.config[R].colors.slice(),o.pushExtraColors(l.globals[R].colors)}),l.globals.dataLabels.style.colors=void 0===l.config.dataLabels.style.colors?T:l.config.dataLabels.style.colors.slice(),this.pushExtraColors(l.globals.dataLabels.style.colors,50),l.globals.radarPolygons.fill.colors=void 0===l.config.plotOptions.radar.polygons.fill.colors?["dark"===l.config.theme.mode?"#424242":"none"]:l.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(l.globals.radarPolygons.fill.colors,20),l.globals.markers.colors=void 0===l.config.markers.colors?T:l.config.markers.colors.slice(),this.pushExtraColors(l.globals.markers.colors)}},{key:"pushExtraColors",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this.w,p=l||f.globals.series.length;if(null===u&&(u=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===f.config.chart.type&&f.config.plotOptions.heatmap.colorScale.inverse),u&&f.globals.series.length&&(p=f.globals.series[f.globals.maxValsInArrayIndex].length*f.globals.series.length),o.length<p)for(var _=p-o.length,m=0;m<_;m++)o.push(o[m])}},{key:"updateThemeOptions",value:function(o){o.chart=o.chart||{},o.tooltip=o.tooltip||{};var l=o.theme.mode||"light",u=o.theme.palette?o.theme.palette:"dark"===l?"palette4":"palette1",f=o.chart.foreColor?o.chart.foreColor:"dark"===l?"#f6f7f8":"#373d3f";return o.tooltip.theme=l,o.chart.foreColor=f,o.theme.palette=u,o}},{key:"predefined",value:function(){switch(this.w.config.theme.palette){case"palette1":default:this.colors=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"];break;case"palette2":this.colors=["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"];break;case"palette3":this.colors=["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"];break;case"palette4":this.colors=["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"];break;case"palette5":this.colors=["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"];break;case"palette6":this.colors=["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"];break;case"palette7":this.colors=["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"];break;case"palette8":this.colors=["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"];break;case"palette9":this.colors=["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"];break;case"palette10":this.colors=["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"]}return this.colors}}]),U}(),WD=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(o){var l=this.w,u="title"===o?l.config.title:l.config.subtitle,f=l.globals.svgWidth/2,p=u.offsetY,_="middle";if("left"===u.align?(f=10,_="start"):"right"===u.align&&(f=l.globals.svgWidth-10,_="end"),f+=u.offsetX,p=p+parseInt(u.style.fontSize,10)+u.margin/2,void 0!==u.text){var m=new Be(this.ctx).drawText({x:f,y:p,text:u.text,textAnchor:_,fontSize:u.style.fontSize,fontFamily:u.style.fontFamily,fontWeight:u.style.fontWeight,foreColor:u.style.color,opacity:1});m.node.setAttribute("class","apexcharts-".concat(o,"-text")),l.globals.dom.Paper.add(m)}}}]),U}(),cb=function(){function U(o){Ie(this,U),this.w=o.w,this.dCtx=o}return nt(U,[{key:"getTitleSubtitleCoords",value:function(o){var l=this.w,u=0,f=0,p="title"===o?l.config.title.floating:l.config.subtitle.floating,_=l.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-text"));if(null!==_&&!p){var m=_.getBoundingClientRect();u=m.width,f=l.globals.axisCharts?m.height+5:m.height}return{width:u,height:f}}},{key:"getLegendsRect",value:function(){var o=this.w,l=o.globals.dom.baseEl.querySelector(".apexcharts-legend");o.config.legend.height||"top"!==o.config.legend.position&&"bottom"!==o.config.legend.position||(l.style.maxHeight=o.globals.svgHeight/2+"px");var u=Object.assign({},fe.getBoundingClientRect(l));return this.dCtx.lgRect=null!==l&&!o.config.legend.floating&&o.config.legend.show?{x:u.x,y:u.y,height:u.height,width:0===u.height?0:u.width}:{x:0,y:0,height:0,width:0},"left"!==o.config.legend.position&&"right"!==o.config.legend.position||1.5*this.dCtx.lgRect.width>o.globals.svgWidth&&(this.dCtx.lgRect.width=o.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getLargestStringFromMultiArr",value:function(o,l){var u=o;if(this.w.globals.isMultiLineX){var f=l.map(function(_,m){return Array.isArray(_)?_.length:1}),p=Math.max.apply(Math,Us(f));u=l[f.indexOf(p)]}return u}}]),U}(),jD=function(){function U(o){Ie(this,U),this.w=o.w,this.dCtx=o}return nt(U,[{key:"getxAxisLabelsCoords",value:function(){var o,l=this.w,u=l.globals.labels.slice();if(l.config.xaxis.convertedCatToNumeric&&0===u.length&&(u=l.globals.categoryLabels),l.globals.timescaleLabels.length>0){var f=this.getxAxisTimeScaleLabelsCoords();o={width:f.width,height:f.height},l.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==l.config.legend.position&&"right"!==l.config.legend.position||l.config.legend.floating?0:this.dCtx.lgRect.width;var p=l.globals.xLabelFormatter,_=fe.getLargestStringFromArr(u),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(_,u);l.globals.isBarHorizontal&&(m=_=l.globals.yAxisScale[0].result.reduce(function(O,L){return O.length>L.length?O:L},0));var y=new bh(this.dCtx.ctx),w=_;_=y.xLabelFormat(p,_,w,{i:void 0,dateFormatter:new pi(this.dCtx.ctx).formatDate,w:l}),m=y.xLabelFormat(p,m,w,{i:void 0,dateFormatter:new pi(this.dCtx.ctx).formatDate,w:l}),(l.config.xaxis.convertedCatToNumeric&&void 0===_||""===String(_).trim())&&(m=_="1");var S=new Be(this.dCtx.ctx),M=S.getTextRects(_,l.config.xaxis.labels.style.fontSize),T=M;if(_!==m&&(T=S.getTextRects(m,l.config.xaxis.labels.style.fontSize)),(o={width:M.width>=T.width?M.width:T.width,height:M.height>=T.height?M.height:T.height}).width*u.length>l.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==l.config.xaxis.labels.rotate||l.config.xaxis.labels.rotateAlways){if(!l.globals.isBarHorizontal){l.globals.rotateXLabels=!0;var R=function(O){return S.getTextRects(O,l.config.xaxis.labels.style.fontSize,l.config.xaxis.labels.style.fontFamily,"rotate(".concat(l.config.xaxis.labels.rotate," 0 0)"),!1)};M=R(_),_!==m&&(T=R(m)),o.height=(M.height>T.height?M.height:T.height)/1.5,o.width=M.width>T.width?M.width:T.width}}else l.globals.rotateXLabels=!1}return l.config.xaxis.labels.show||(o={width:0,height:0}),{width:o.width,height:o.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var o,l=this.w;if(!l.globals.hasGroups)return{width:0,height:0};var u,f=(null===(o=l.config.xaxis.group.style)||void 0===o?void 0:o.fontSize)||l.config.xaxis.labels.style.fontSize,p=l.globals.groups.map(function(M){return M.title}),_=fe.getLargestStringFromArr(p),m=this.dCtx.dimHelpers.getLargestStringFromMultiArr(_,p),y=new Be(this.dCtx.ctx),w=y.getTextRects(_,f),S=w;return _!==m&&(S=y.getTextRects(m,f)),u={width:w.width>=S.width?w.width:S.width,height:w.height>=S.height?w.height:S.height},l.config.xaxis.labels.show||(u={width:0,height:0}),{width:u.width,height:u.height}}},{key:"getxAxisTitleCoords",value:function(){var o=this.w,l=0,u=0;if(void 0!==o.config.xaxis.title.text){var f=new Be(this.dCtx.ctx).getTextRects(o.config.xaxis.title.text,o.config.xaxis.title.style.fontSize);l=f.width,u=f.height}return{width:l,height:u}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var o,l=this.w;this.dCtx.timescaleLabels=l.globals.timescaleLabels.slice();var u=this.dCtx.timescaleLabels.map(function(p){return p.value}),f=u.reduce(function(p,_){return void 0===p?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):p.length>_.length?p:_},0);return 1.05*(o=new Be(this.dCtx.ctx).getTextRects(f,l.config.xaxis.labels.style.fontSize)).width*u.length>l.globals.gridWidth&&0!==l.config.xaxis.labels.rotate&&(l.globals.overlappingXLabels=!0),o}},{key:"additionalPaddingXLabels",value:function(o){var l=this,u=this.w,f=u.globals,p=u.config,_=p.xaxis.type,m=o.width;f.skipLastTimelinelabel=!1,f.skipFirstTimelinelabel=!1;var y=u.config.yaxis[0].opposite&&u.globals.isBarHorizontal;p.yaxis.forEach(function(S,M){y?(l.dCtx.gridPad.left<m&&(l.dCtx.xPadLeft=m/2+1),l.dCtx.xPadRight=m/2+1):function(S,M){-1!==f.collapsedSeriesIndices.indexOf(M)||function(T){if(l.dCtx.timescaleLabels&&l.dCtx.timescaleLabels.length){var L=l.dCtx.timescaleLabels[0].position-m/1.75+l.dCtx.yAxisWidthLeft;l.dCtx.timescaleLabels[l.dCtx.timescaleLabels.length-1].position+m/1.75-l.dCtx.yAxisWidthRight>f.svgWidth-f.translateX-("right"===u.config.legend.position&&l.dCtx.lgRect.width>0?l.dCtx.lgRect.width:0)&&(f.skipLastTimelinelabel=!0),L<-(T.show&&!T.floating||"bar"!==p.chart.type&&"candlestick"!==p.chart.type&&"rangeBar"!==p.chart.type&&"boxPlot"!==p.chart.type?10:m/1.75)&&(f.skipFirstTimelinelabel=!0)}else"datetime"===_?l.dCtx.gridPad.right<m&&!f.rotateXLabels&&(f.skipLastTimelinelabel=!0):"datetime"!==_&&l.dCtx.gridPad.right<m/2-l.dCtx.yAxisWidthRight&&!f.rotateXLabels&&!u.config.xaxis.labels.trim&&("between"!==u.config.xaxis.tickPlacement||u.globals.isBarHorizontal)&&(l.dCtx.xPadRight=m/2+1)}(S)}(S,M)})}}]),U}(),db=function(){function U(o){Ie(this,U),this.w=o.w,this.dCtx=o}return nt(U,[{key:"getyAxisLabelsCoords",value:function(){var o=this,l=this.w,u=[],f=10,p=new Bo(this.dCtx.ctx);return l.config.yaxis.map(function(_,m){var y=l.globals.yAxisScale[m],w=0;if(!p.isYAxisHidden(m)&&_.labels.show&&void 0!==_.labels.minWidth&&(w=_.labels.minWidth),!p.isYAxisHidden(m)&&_.labels.show&&y.result.length){var S=l.globals.yLabelFormatters[m],M=y.niceMin===Number.MIN_VALUE?0:y.niceMin,T=String(M).length>String(y.niceMax).length?M:y.niceMax,R=S(T,{seriesIndex:m,dataPointIndex:-1,w:l}),O=R;if(void 0!==R&&0!==R.length||(R=T),l.globals.isBarHorizontal){f=0;var L=l.globals.labels.slice();R=S(R=fe.getLargestStringFromArr(L),{seriesIndex:m,dataPointIndex:-1,w:l}),O=o.dCtx.dimHelpers.getLargestStringFromMultiArr(R,L)}var H=new Be(o.dCtx.ctx),z="rotate(".concat(_.labels.rotate," 0 0)"),Y=H.getTextRects(R,_.labels.style.fontSize,_.labels.style.fontFamily,z,!1),X=Y;R!==O&&(X=H.getTextRects(O,_.labels.style.fontSize,_.labels.style.fontFamily,z,!1)),u.push({width:(w>X.width||w>Y.width?w:X.width>Y.width?X.width:Y.width)+f,height:X.height>Y.height?X.height:Y.height})}else u.push({width:0,height:0})}),u}},{key:"getyAxisTitleCoords",value:function(){var o=this,u=[];return this.w.config.yaxis.map(function(f,p){if(f.show&&void 0!==f.title.text){var _=new Be(o.dCtx.ctx),m="rotate(".concat(f.title.rotate," 0 0)"),y=_.getTextRects(f.title.text,f.title.style.fontSize,f.title.style.fontFamily,m,!1);u.push({width:y.width,height:y.height})}else u.push({width:0,height:0})}),u}},{key:"getTotalYAxisWidth",value:function(){var o=this.w,l=0,u=0,f=0,p=o.globals.yAxisScale.length>1?10:0,_=new Bo(this.dCtx.ctx),m=function(y,w){var S=o.config.yaxis[w].floating,M=0;y.width>0&&!S?(M=y.width+p,o.globals.ignoreYAxisIndexes.indexOf(w)>-1&&(M=M-y.width-p)):M=S||_.isYAxisHidden(w)?0:5,o.config.yaxis[w].opposite?f+=M:u+=M,l+=M};return o.globals.yLabelsCoords.map(function(y,w){m(y,w)}),o.globals.yTitleCoords.map(function(y,w){m(y,w)}),o.globals.isBarHorizontal&&!o.config.yaxis[0].floating&&(l=o.globals.yLabelsCoords[0].width+o.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=u,this.dCtx.yAxisWidthRight=f,l}}]),U}(),YD=function(){function U(o){Ie(this,U),this.w=o.w,this.dCtx=o}return nt(U,[{key:"gridPadForColumnsInNumericAxis",value:function(o){var l=this.w;if(l.globals.noData||l.globals.allSeriesCollapsed)return 0;var u=function(S){return"bar"===S||"rangeBar"===S||"candlestick"===S||"boxPlot"===S},f=l.config.chart.type,p=0,_=u(f)?l.config.series.length:1;if(l.globals.comboBarCount>0&&(_=l.globals.comboBarCount),l.globals.collapsedSeries.forEach(function(S){u(S.type)&&(_-=1)}),l.config.chart.stacked&&(_=1),(u(f)||l.globals.comboBarCount>0)&&l.globals.isXNumeric&&!l.globals.isBarHorizontal&&_>0){var m,y,w=Math.abs(l.globals.initialMaxX-l.globals.initialMinX);w<=3&&(w=l.globals.dataPoints),m=w/o,l.globals.minXDiff&&l.globals.minXDiff/m>0&&(y=l.globals.minXDiff/m),y>o/2&&(y/=2),(p=y/_*parseInt(l.config.plotOptions.bar.columnWidth,10)/100)<1&&(p=1),l.globals.barPadForNumericAxis=p=p/(_>1?1:1.5)+5}return p}},{key:"gridPadFortitleSubtitle",value:function(){var o=this,l=this.w,u=l.globals,f=this.dCtx.isSparkline||!l.globals.axisCharts?0:10;["title","subtitle"].forEach(function(m){f+=void 0!==l.config[m].text?l.config[m].margin:o.dCtx.isSparkline||!l.globals.axisCharts?0:5}),!l.config.legend.show||"bottom"!==l.config.legend.position||l.config.legend.floating||l.globals.axisCharts||(f+=10);var p=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),_=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");u.gridHeight=u.gridHeight-p.height-_.height-f,u.translateY=u.translateY+p.height+_.height+f}},{key:"setGridXPosForDualYAxis",value:function(o,l){var u=this.w,f=new Bo(this.dCtx.ctx);u.config.yaxis.map(function(p,_){-1!==u.globals.ignoreYAxisIndexes.indexOf(_)||p.floating||f.isYAxisHidden(_)||(p.opposite&&(u.globals.translateX=u.globals.translateX-(l[_].width+o[_].width)-parseInt(u.config.yaxis[_].labels.style.fontSize,10)/1.2-12),u.globals.translateX<2&&(u.globals.translateX=2))})}}]),U}(),xh=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new cb(this),this.dimYAxis=new db(this),this.dimXAxis=new jD(this),this.dimGrid=new YD(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return nt(U,[{key:"plotCoords",value:function(){var o=this,l=this.w,u=l.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.isSparkline&&(l.config.markers.discrete.length>0||l.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(p){var _=function tb(U,o){return function(l){if(Array.isArray(l))return l}(U)||function(l,u){var f=null==l?null:"undefined"!=typeof Symbol&&l[Symbol.iterator]||l["@@iterator"];if(null!=f){var p,_,m=[],y=!0,w=!1;try{for(f=f.call(l);!(y=(p=f.next()).done)&&(m.push(p.value),!u||m.length!==u);y=!0);}catch(S){w=!0,_=S}finally{try{y||null==f.return||f.return()}finally{if(w)throw _}}return m}}(U,o)||Jc(U,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(p,2);o.gridPad[_[0]]=Math.max(_[1],o.w.globals.markers.largestSize/1.5)}),u.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),u.gridHeight=u.gridHeight-this.gridPad.top-this.gridPad.bottom,u.gridWidth=u.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var f=this.dimGrid.gridPadForColumnsInNumericAxis(u.gridWidth);u.gridWidth=u.gridWidth-2*f,u.translateX=u.translateX+this.gridPad.left+this.xPadLeft+(f>0?f+4:0),u.translateY=u.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var o=this,l=this.w,u=l.globals,f=this.dimYAxis.getyAxisLabelsCoords(),p=this.dimYAxis.getyAxisTitleCoords();l.globals.yLabelsCoords=[],l.globals.yTitleCoords=[],l.config.yaxis.map(function(R,O){l.globals.yLabelsCoords.push({width:f[O].width,index:O}),l.globals.yTitleCoords.push({width:p[O].width,index:O})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var _=this.dimXAxis.getxAxisLabelsCoords(),m=this.dimXAxis.getxAxisGroupLabelsCoords(),y=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(_,y,m),u.translateXAxisY=l.globals.rotateXLabels?this.xAxisHeight/8:-4,u.translateXAxisX=l.globals.rotateXLabels&&l.globals.isXNumeric&&l.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,l.globals.isBarHorizontal&&(u.rotateXLabels=!1,u.translateXAxisY=parseInt(l.config.xaxis.labels.style.fontSize,10)/1.5*-1),u.translateXAxisY=u.translateXAxisY+l.config.xaxis.labels.offsetY,u.translateXAxisX=u.translateXAxisX+l.config.xaxis.labels.offsetX;var w=this.yAxisWidth,S=this.xAxisHeight;u.xAxisLabelsHeight=this.xAxisHeight-y.height,u.xAxisGroupLabelsHeight=u.xAxisLabelsHeight-_.height,u.xAxisLabelsWidth=this.xAxisWidth,u.xAxisHeight=this.xAxisHeight;var M=10;("radar"===l.config.chart.type||this.isSparkline)&&(w=0,S=u.goldenPadding),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===l.config.chart.type)&&(w=0,S=0,M=0),this.isSparkline||this.dimXAxis.additionalPaddingXLabels(_);var T=function(){u.translateX=w,u.gridHeight=u.svgHeight-o.lgRect.height-S-(o.isSparkline||"treemap"===l.config.chart.type?0:l.globals.rotateXLabels?10:15),u.gridWidth=u.svgWidth-w};switch("top"===l.config.xaxis.position&&(M=u.xAxisHeight-l.config.xaxis.axisTicks.height-5),l.config.legend.position){case"bottom":u.translateY=M,T();break;case"top":u.translateY=this.lgRect.height+M,T();break;case"left":u.translateY=M,u.translateX=this.lgRect.width+w,u.gridHeight=u.svgHeight-S-12,u.gridWidth=u.svgWidth-this.lgRect.width-w;break;case"right":u.translateY=M,u.translateX=w,u.gridHeight=u.svgHeight-S-12,u.gridWidth=u.svgWidth-this.lgRect.width-w-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(p,f),new ed(this.ctx).setYAxisXPosition(f,p)}},{key:"setDimensionsForNonAxisCharts",value:function(){var o=this.w,l=o.globals,u=o.config,f=0;o.config.legend.show&&!o.config.legend.floating&&(f=20);var p="pie"===u.chart.type||"polarArea"===u.chart.type||"donut"===u.chart.type?"pie":"radialBar",_=u.plotOptions[p].offsetY,m=u.plotOptions[p].offsetX;if(!u.legend.show||u.legend.floating)return l.gridHeight=l.svgHeight-u.grid.padding.left+u.grid.padding.right,l.gridWidth=l.gridHeight,l.translateY=_,void(l.translateX=m+(l.svgWidth-l.gridWidth)/2);switch(u.legend.position){case"bottom":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=_-10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"top":l.gridHeight=l.svgHeight-this.lgRect.height-l.goldenPadding,l.gridWidth=l.svgWidth,l.translateY=this.lgRect.height+_+10,l.translateX=m+(l.svgWidth-l.gridWidth)/2;break;case"left":l.gridWidth=l.svgWidth-this.lgRect.width-f,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=_,l.translateX=m+this.lgRect.width+f;break;case"right":l.gridWidth=l.svgWidth-this.lgRect.width-f-5,l.gridHeight="auto"!==u.chart.height?l.svgHeight:l.gridWidth,l.translateY=_,l.translateX=m+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(o,l,u){var f=this.w;this.xAxisHeight=(u.height+o.height+l.height)*(f.globals.isMultiLineX?1.2:f.globals.LINE_HEIGHT_RATIO)+(f.globals.hasGroups?2:1)*(f.globals.rotateXLabels?22:10)+(f.globals.rotateXLabels&&"bottom"===f.config.legend.position?10:0),this.xAxisWidth=o.width,this.xAxisHeight-l.height>f.config.xaxis.labels.maxHeight&&(this.xAxisHeight=f.config.xaxis.labels.maxHeight),f.config.xaxis.labels.minHeight&&this.xAxisHeight<f.config.xaxis.labels.minHeight&&(this.xAxisHeight=f.config.xaxis.labels.minHeight),f.config.xaxis.floating&&(this.xAxisHeight=0);var S=0,M=0;f.config.yaxis.forEach(function(T){S+=T.labels.minWidth,M+=T.labels.maxWidth}),this.yAxisWidth<S&&(this.yAxisWidth=S),this.yAxisWidth>M&&(this.yAxisWidth=M)}}]),U}(),XD=function(){function U(o){Ie(this,U),this.w=o.w,this.lgCtx=o}return nt(U,[{key:"getLegendStyles",value:function(){var o=document.createElement("style");o.setAttribute("type","text/css");var l=document.createTextNode("\t\n    \t\n      .apexcharts-legend {\t\n        display: flex;\t\n        overflow: auto;\t\n        padding: 0 10px;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\t\n        flex-wrap: wrap\t\n      }\t\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        flex-direction: column;\t\n        bottom: 0;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\t\n        justify-content: flex-start;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\t\n        justify-content: center;  \t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\t\n        justify-content: flex-end;\t\n      }\t\n      .apexcharts-legend-series {\t\n        cursor: pointer;\t\n        line-height: normal;\t\n      }\t\n      .apexcharts-legend.apx-legend-position-bottom .apexcharts-legend-series, .apexcharts-legend.apx-legend-position-top .apexcharts-legend-series{\t\n        display: flex;\t\n        align-items: center;\t\n      }\t\n      .apexcharts-legend-text {\t\n        position: relative;\t\n        font-size: 14px;\t\n      }\t\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\t\n        pointer-events: none;\t\n      }\t\n      .apexcharts-legend-marker {\t\n        position: relative;\t\n        display: inline-block;\t\n        cursor: pointer;\t\n        margin-right: 3px;\t\n        border-style: solid;\n      }\t\n      \t\n      .apexcharts-legend.apexcharts-align-right .apexcharts-legend-series, .apexcharts-legend.apexcharts-align-left .apexcharts-legend-series{\t\n        display: inline-block;\t\n      }\t\n      .apexcharts-legend-series.apexcharts-no-click {\t\n        cursor: auto;\t\n      }\t\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\t\n        display: none !important;\t\n      }\t\n      .apexcharts-inactive-legend {\t\n        opacity: 0.45;\t\n      }");return o.appendChild(l),o}},{key:"getLegendBBox",value:function(){var o=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:o.height,clww:o.width}}},{key:"appendToForeignObject",value:function(){var o=this.w.globals;o.dom.elLegendForeign=document.createElementNS(o.SVGNS,"foreignObject");var l=o.dom.elLegendForeign;l.setAttribute("x",0),l.setAttribute("y",0),l.setAttribute("width",o.svgWidth),l.setAttribute("height",o.svgHeight),o.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),l.appendChild(o.dom.elLegendWrap),l.appendChild(this.getLegendStyles()),o.dom.Paper.node.insertBefore(l,o.dom.elGraphical.node)}},{key:"toggleDataSeries",value:function(o,l){var u=this,f=this.w;if(f.globals.axisCharts||"radialBar"===f.config.chart.type){f.globals.resized=!0;var p=null,_=null;f.globals.risingSeries=[],f.globals.axisCharts?(p=f.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(o,"']")),_=parseInt(p.getAttribute("data:realIndex"),10)):(p=f.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(o+1,"']")),_=parseInt(p.getAttribute("rel"),10)-1),l?[{cs:f.globals.collapsedSeries,csi:f.globals.collapsedSeriesIndices},{cs:f.globals.ancillaryCollapsedSeries,csi:f.globals.ancillaryCollapsedSeriesIndices}].forEach(function(S){u.riseCollapsedSeries(S.cs,S.csi,_)}):this.hideSeries({seriesEl:p,realIndex:_})}else{var m=f.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(o+1,"'] path")),y=f.config.chart.type;if("pie"===y||"polarArea"===y||"donut"===y){var w=f.config.plotOptions.pie.donut.labels;new Be(this.lgCtx.ctx).pathMouseDown(m.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(m.members[0].node,w)}m.fire("click")}}},{key:"hideSeries",value:function(o){var l=o.seriesEl,u=o.realIndex,f=this.w,p=fe.clone(f.config.series);if(f.globals.axisCharts){var _=!1;if(f.config.yaxis[u]&&f.config.yaxis[u].show&&f.config.yaxis[u].showAlways&&(_=!0,f.globals.ancillaryCollapsedSeriesIndices.indexOf(u)<0&&(f.globals.ancillaryCollapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),f.globals.ancillaryCollapsedSeriesIndices.push(u))),!_){f.globals.collapsedSeries.push({index:u,data:p[u].data.slice(),type:l.parentNode.className.baseVal.split("-")[1]}),f.globals.collapsedSeriesIndices.push(u);var m=f.globals.risingSeries.indexOf(u);f.globals.risingSeries.splice(m,1)}}else f.globals.collapsedSeries.push({index:u,data:p[u]}),f.globals.collapsedSeriesIndices.push(u);for(var y=l.childNodes,w=0;w<y.length;w++)y[w].classList.contains("apexcharts-series-markers-wrap")&&(y[w].classList.contains("apexcharts-hide")?y[w].classList.remove("apexcharts-hide"):y[w].classList.add("apexcharts-hide"));f.globals.allSeriesCollapsed=f.globals.collapsedSeries.length===f.config.series.length,p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(o,l,u){var f=this.w,p=fe.clone(f.config.series);if(o.length>0){for(var _=0;_<o.length;_++)o[_].index===u&&(f.globals.axisCharts?(p[u].data=o[_].data.slice(),o.splice(_,1),l.splice(_,1),f.globals.risingSeries.push(u)):(p[u]=o[_].data,o.splice(_,1),l.splice(_,1),f.globals.risingSeries.push(u)));p=this._getSeriesBasedOnCollapsedState(p),this.lgCtx.ctx.updateHelpers._updateSeries(p,f.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(o){var l=this.w;return o.forEach(l.globals.axisCharts?function(u,f){l.globals.collapsedSeriesIndices.indexOf(f)>-1&&(o[f].data=[])}:function(u,f){l.globals.collapsedSeriesIndices.indexOf(f)>-1&&(o[f]=0)}),o}}]),U}(),ub=function(){function U(o,l){Ie(this,U),this.ctx=o,this.w=o.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new XD(this)}return nt(U,[{key:"init",value:function(){var o=this.w,l=o.globals,u=o.config;if((u.legend.showForSingleSeries&&1===l.series.length||this.isBarsDistributed||l.series.length>1||!l.axisCharts)&&u.legend.show){for(;l.dom.elLegendWrap.firstChild;)l.dom.elLegendWrap.removeChild(l.dom.elLegendWrap.firstChild);this.drawLegends(),fe.isIE11()?document.getElementsByTagName("head")[0].appendChild(this.legendHelpers.getLegendStyles()):this.legendHelpers.appendToForeignObject(),"bottom"===u.legend.position||"top"===u.legend.position?this.legendAlignHorizontal():"right"!==u.legend.position&&"left"!==u.legend.position||this.legendAlignVertical()}}},{key:"drawLegends",value:function(){var o=this,l=this.w,u=l.config.legend.fontFamily,f=l.globals.seriesNames,p=l.globals.colors.slice();if("heatmap"===l.config.chart.type){var _=l.config.plotOptions.heatmap.colorScale.ranges;f=_.map(function(Le){return Le.name?Le.name:Le.from+" - "+Le.to}),p=_.map(function(Le){return Le.color})}else this.isBarsDistributed&&(f=l.globals.labels.slice());l.config.legend.customLegendItems.length&&(f=l.config.legend.customLegendItems);for(var m=l.globals.legendFormatter,y=l.config.legend.inverseOrder,w=y?f.length-1:0;y?w>=0:w<=f.length-1;y?w--:w++){var S=m(f[w],{seriesIndex:w,w:l}),M=!1,T=!1;if(l.globals.collapsedSeries.length>0)for(var R=0;R<l.globals.collapsedSeries.length;R++)l.globals.collapsedSeries[R].index===w&&(M=!0);if(l.globals.ancillaryCollapsedSeriesIndices.length>0)for(var O=0;O<l.globals.ancillaryCollapsedSeriesIndices.length;O++)l.globals.ancillaryCollapsedSeriesIndices[O]===w&&(T=!0);var L=document.createElement("span");L.classList.add("apexcharts-legend-marker");var H=l.config.legend.markers.offsetX,z=l.config.legend.markers.offsetY,Y=l.config.legend.markers.height,X=l.config.legend.markers.width,x=l.config.legend.markers.strokeWidth,k=l.config.legend.markers.strokeColor,B=l.config.legend.markers.radius,W=L.style;W.background=p[w],W.color=p[w],W.setProperty("background",p[w],"important"),l.config.legend.markers.fillColors&&l.config.legend.markers.fillColors[w]&&(W.background=l.config.legend.markers.fillColors[w]),void 0!==l.globals.seriesColors[w]&&(W.background=l.globals.seriesColors[w],W.color=l.globals.seriesColors[w]),W.height=Array.isArray(Y)?parseFloat(Y[w])+"px":parseFloat(Y)+"px",W.width=Array.isArray(X)?parseFloat(X[w])+"px":parseFloat(X)+"px",W.left=(Array.isArray(H)?parseFloat(H[w]):parseFloat(H))+"px",W.top=(Array.isArray(z)?parseFloat(z[w]):parseFloat(z))+"px",W.borderWidth=Array.isArray(x)?x[w]:x,W.borderColor=Array.isArray(k)?k[w]:k,W.borderRadius=Array.isArray(B)?parseFloat(B[w])+"px":parseFloat(B)+"px",l.config.legend.markers.customHTML&&(Array.isArray(l.config.legend.markers.customHTML)?l.config.legend.markers.customHTML[w]&&(L.innerHTML=l.config.legend.markers.customHTML[w]()):L.innerHTML=l.config.legend.markers.customHTML()),Be.setAttrs(L,{rel:w+1,"data:collapsed":M||T}),(M||T)&&L.classList.add("apexcharts-inactive-legend");var K=document.createElement("div"),ve=document.createElement("span");ve.classList.add("apexcharts-legend-text"),ve.innerHTML=Array.isArray(S)?S.join(" "):S;var te=l.config.legend.labels.useSeriesColors?l.globals.colors[w]:l.config.legend.labels.colors;te||(te=l.config.chart.foreColor),ve.style.color=te,ve.style.fontSize=parseFloat(l.config.legend.fontSize)+"px",ve.style.fontWeight=l.config.legend.fontWeight,ve.style.fontFamily=u||l.config.chart.fontFamily,Be.setAttrs(ve,{rel:w+1,i:w,"data:default-text":encodeURIComponent(S),"data:collapsed":M||T}),K.appendChild(L),K.appendChild(ve);var Ee=new hn(this.ctx);l.config.legend.showForZeroSeries||0===Ee.getSeriesTotalByIndex(w)&&Ee.seriesHaveSameValues(w)&&!Ee.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&K.classList.add("apexcharts-hidden-zero-series"),l.config.legend.showForNullSeries||Ee.isSeriesNull(w)&&-1===l.globals.collapsedSeriesIndices.indexOf(w)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(w)&&K.classList.add("apexcharts-hidden-null-series"),l.globals.dom.elLegendWrap.appendChild(K),l.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(l.config.legend.horizontalAlign)),l.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+l.config.legend.position),K.classList.add("apexcharts-legend-series"),K.style.margin="".concat(l.config.legend.itemMargin.vertical,"px ").concat(l.config.legend.itemMargin.horizontal,"px"),l.globals.dom.elLegendWrap.style.width=l.config.legend.width?l.config.legend.width+"px":"",l.globals.dom.elLegendWrap.style.height=l.config.legend.height?l.config.legend.height+"px":"",Be.setAttrs(K,{rel:w+1,seriesName:fe.escapeString(f[w]),"data:collapsed":M||T}),(M||T)&&K.classList.add("apexcharts-inactive-legend"),l.config.legend.onItemClick.toggleDataSeries||K.classList.add("apexcharts-no-click")}l.globals.dom.elWrap.addEventListener("click",o.onLegendClick,!0),l.config.legend.onItemHover.highlightDataSeries&&0===l.config.legend.customLegendItems.length&&(l.globals.dom.elWrap.addEventListener("mousemove",o.onLegendHovered,!0),l.globals.dom.elWrap.addEventListener("mouseout",o.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(o,l){var u=this.w,f=u.globals.dom.baseEl.querySelector(".apexcharts-legend"),p=f.getBoundingClientRect(),_=0,m=0;if("bottom"===u.config.legend.position)m+=u.globals.svgHeight-p.height/2;else if("top"===u.config.legend.position){var y=new xh(this.ctx),w=y.dimHelpers.getTitleSubtitleCoords("title").height,S=y.dimHelpers.getTitleSubtitleCoords("subtitle").height;m=m+(w>0?w-10:0)+(S>0?S-10:0)}f.style.position="absolute",m=m+l+u.config.legend.offsetY,f.style.left=(_=_+o+u.config.legend.offsetX)+"px",f.style.top=m+"px","bottom"===u.config.legend.position?(f.style.top="auto",f.style.bottom=5-u.config.legend.offsetY+"px"):"right"===u.config.legend.position&&(f.style.left="auto",f.style.right=25+u.config.legend.offsetX+"px"),["width","height"].forEach(function(M){f.style[M]&&(f.style[M]=parseInt(u.config.legend[M],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var o=this.w;o.globals.dom.baseEl.querySelector(".apexcharts-legend").style.right=0;var l=this.legendHelpers.getLegendBBox(),u=new xh(this.ctx),f=u.dimHelpers.getTitleSubtitleCoords("title"),p=u.dimHelpers.getTitleSubtitleCoords("subtitle"),_=0;"bottom"===o.config.legend.position?_=-l.clwh/1.8:"top"===o.config.legend.position&&(_=f.height+p.height+o.config.title.margin+o.config.subtitle.margin-10),this.setLegendWrapXY(20,_)}},{key:"legendAlignVertical",value:function(){var o=this.w,l=this.legendHelpers.getLegendBBox(),u=0;"left"===o.config.legend.position&&(u=20),"right"===o.config.legend.position&&(u=o.globals.svgWidth-l.clww-10),this.setLegendWrapXY(u,20)}},{key:"onLegendHovered",value:function(o){var l=this.w,u=o.target.classList.contains("apexcharts-legend-text")||o.target.classList.contains("apexcharts-legend-marker");if("heatmap"===l.config.chart.type||this.isBarsDistributed){if(u){var f=parseInt(o.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,f,this.w]),new Ge(this.ctx).highlightRangeInSeries(o,o.target)}}else!o.target.classList.contains("apexcharts-inactive-legend")&&u&&new Ge(this.ctx).toggleSeriesOnHover(o,o.target)}},{key:"onLegendClick",value:function(o){var l=this.w;if(!l.config.legend.customLegendItems.length&&(o.target.classList.contains("apexcharts-legend-text")||o.target.classList.contains("apexcharts-legend-marker"))){var u=parseInt(o.target.getAttribute("rel"),10)-1,f="true"===o.target.getAttribute("data:collapsed"),p=this.w.config.chart.events.legendClick;"function"==typeof p&&p(this.ctx,u,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,u,this.w]);var _=this.w.config.legend.markers.onClick;"function"==typeof _&&o.target.classList.contains("apexcharts-legend-marker")&&(_(this.ctx,u,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,u,this.w])),"treemap"!==l.config.chart.type&&"heatmap"!==l.config.chart.type&&!this.isBarsDistributed&&l.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(u,f)}}}]),U}(),td=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=l.globals.minX,this.maxX=l.globals.maxX}return nt(U,[{key:"createToolbar",value:function(){var o=this,l=this.w,u=function(){return document.createElement("div")},f=u();if(f.setAttribute("class","apexcharts-toolbar"),f.style.top=l.config.chart.toolbar.offsetY+"px",f.style.right=3-l.config.chart.toolbar.offsetX+"px",l.globals.dom.elWrap.appendChild(f),this.elZoom=u(),this.elZoomIn=u(),this.elZoomOut=u(),this.elPan=u(),this.elSelection=u(),this.elZoomReset=u(),this.elMenuIcon=u(),this.elMenu=u(),this.elCustomIcons=[],this.t=l.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var p=0;p<this.t.customIcons.length;p++)this.elCustomIcons.push(u());var _=[],m=function(M,T,R){var O=M.toLowerCase();o.t[O]&&l.config.chart.zoom.enabled&&_.push({el:T,icon:"string"==typeof o.t[O]?o.t[O]:R,title:o.localeValues[M],class:"apexcharts-".concat(O,"-icon")})};m("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),m("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var y=function(M){o.t[M]&&l.config.chart[M].enabled&&_.push({el:"zoom"===M?o.elZoom:o.elSelection,icon:"string"==typeof o.t[M]?o.t[M]:"zoom"===M?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:o.localeValues["zoom"===M?"selectionZoom":"selection"],class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(M,"-icon")})};y("zoom"),y("selection"),this.t.pan&&l.config.chart.zoom.enabled&&_.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:l.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),m("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&_.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var w=0;w<this.elCustomIcons.length;w++)_.push({el:this.elCustomIcons[w],icon:this.t.customIcons[w].icon,title:this.t.customIcons[w].title,index:this.t.customIcons[w].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[w].class});_.forEach(function(M,T){M.index&&fe.moveIndexInArray(_,T,M.index)});for(var S=0;S<_.length;S++)Be.setAttrs(_[S].el,{class:_[S].class,title:_[S].title}),_[S].el.innerHTML=_[S].icon,f.appendChild(_[S].el);this._createHamburgerMenu(f),l.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):l.globals.panEnabled?this.elPan.classList.add(this.selectedClass):l.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(o){this.elMenuItems=[],o.appendChild(this.elMenu),Be.setAttrs(this.elMenu,{class:"apexcharts-menu"});var l=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}];this.w.globals.allSeriesHasEqualX||l.splice(2,1);for(var u=0;u<l.length;u++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[u].innerHTML=l[u].title,Be.setAttrs(this.elMenuItems[u],{class:"apexcharts-menu-item ".concat(l[u].name),title:l[u].title}),this.elMenu.appendChild(this.elMenuItems[u])}},{key:"addToolbarEventListeners",value:function(){var o=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(u){u.classList.contains("exportSVG")?u.addEventListener("click",o.handleDownload.bind(o,"svg")):u.classList.contains("exportPNG")?u.addEventListener("click",o.handleDownload.bind(o,"png")):u.classList.contains("exportCSV")&&u.addEventListener("click",o.handleDownload.bind(o,"csv"))});for(var l=0;l<this.t.customIcons.length;l++)this.elCustomIcons[l].addEventListener("click",this.t.customIcons[l].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(o){this.ctx.getSyncedCharts().forEach(function(l){l.ctx.toolbar.toggleOtherControls();var u="selection"===o?l.ctx.toolbar.elSelection:l.ctx.toolbar.elZoom,f="selection"===o?"selectionEnabled":"zoomEnabled";l.w.globals[f]=!l.w.globals[f],u.classList.contains(l.ctx.toolbar.selectedClass)?u.classList.remove(l.ctx.toolbar.selectedClass):u.classList.add(l.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var o=this.w;this.elZoom||(this.elZoom=o.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=o.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=o.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(o){this.toggleOtherControls(),"pan"===o?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var l="pan"===o?this.elPan:this.elZoom,u="pan"===o?this.elZoom:this.elPan;l&&l.classList.add(this.selectedClass),u&&u.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(o){o.ctx.toolbar.toggleOtherControls(),o.w.globals.panEnabled=!o.w.globals.panEnabled,o.ctx.toolbar.elPan.classList.contains(o.ctx.toolbar.selectedClass)?o.ctx.toolbar.elPan.classList.remove(o.ctx.toolbar.selectedClass):o.ctx.toolbar.elPan.classList.add(o.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var o=this,l=this.w;l.globals.panEnabled=!1,l.globals.zoomEnabled=!1,l.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(u){u&&u.classList.remove(o.selectedClass)})}},{key:"handleZoomIn",value:function(){var o=this.w;o.globals.isRangeBar&&(this.minX=o.globals.minY,this.maxX=o.globals.maxY);var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX((this.minX+l)/2,(this.maxX+l)/2);o.globals.disableZoomIn||this.zoomUpdateOptions(p.minX,p.maxX)}},{key:"handleZoomOut",value:function(){var o=this.w;if(o.globals.isRangeBar&&(this.minX=o.globals.minY,this.maxX=o.globals.maxY),!("datetime"===o.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var l=(this.minX+this.maxX)/2,p=this._getNewMinXMaxX(this.minX-(l-this.minX),this.maxX-(l-this.maxX));o.globals.disableZoomOut||this.zoomUpdateOptions(p.minX,p.maxX)}}},{key:"_getNewMinXMaxX",value:function(o,l){var u=this.w.config.xaxis.convertedCatToNumeric;return{minX:u?Math.floor(o):o,maxX:u?Math.floor(l):l}}},{key:"zoomUpdateOptions",value:function(o,l){var u=this.w;if(void 0!==o||void 0!==l){if(!(u.config.xaxis.convertedCatToNumeric&&(o<1&&(o=1,l=u.globals.dataPoints),l-o<2))){var f={min:o,max:l},p=this.getBeforeZoomRange(f);p&&(f=p.xaxis);var _={xaxis:f},m=fe.clone(u.globals.initialConfig.yaxis);u.config.chart.zoom.autoScaleYaxis&&(m=new Ua(this.ctx).autoScaleY(this.ctx,m,{xaxis:f})),u.config.chart.group||(_.yaxis=m),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(_,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(f,m)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(o,l){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:o,yaxis:l})}},{key:"getBeforeZoomRange",value:function(o,l){var u=null;return"function"==typeof this.ev.beforeZoom&&(u=this.ev.beforeZoom(this,{xaxis:o,yaxis:l})),u}},{key:"toggleMenu",value:function(){var o=this;window.setTimeout(function(){o.elMenu.classList.contains("apexcharts-menu-open")?o.elMenu.classList.remove("apexcharts-menu-open"):o.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(o){var l=this.w,u=new ag(this.ctx);switch(o){case"svg":u.exportToSVG(this.ctx);break;case"png":u.exportToPng(this.ctx);break;case"csv":u.exportToCSV({series:l.config.series,columnDelimiter:l.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(o){this.ctx.getSyncedCharts().forEach(function(l){var u=l.w;if(u.globals.lastXAxis.min=void 0,u.globals.lastXAxis.max=void 0,l.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof u.config.chart.events.beforeResetZoom){var f=u.config.chart.events.beforeResetZoom(l,u);f&&l.updateHelpers.revertDefaultAxisMinMax(f)}"function"==typeof u.config.chart.events.zoomed&&l.ctx.toolbar.zoomCallback({min:u.config.xaxis.min,max:u.config.xaxis.max}),u.globals.zoomed=!1;var p=l.ctx.series.emptyCollapsedSeries(fe.clone(u.globals.initialSeries));l.updateHelpers._updateSeries(p,u.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),U}(),cg=function(U){Gs(l,td);var o=Il(l);function l(u){var f;return Ie(this,l),(f=o.call(this,u)).ctx=u,f.w=u.w,f.dragged=!1,f.graphics=new Be(f.ctx),f.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend"],f.clientX=0,f.clientY=0,f.startX=0,f.endX=0,f.dragX=0,f.startY=0,f.endY=0,f.dragY=0,f.moveDirection="none",f}return nt(l,[{key:"init",value:function(u){var f=this,p=u.xyRatios,_=this.w,m=this;this.xyRatios=p,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=_.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),_.globals.dom.elGraphical.add(this.zoomRect),_.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===_.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:_.globals.gridWidth,maxY:_.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===_.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:_.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=_.globals.dom.baseEl.querySelector("".concat(_.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(y){f.hoverArea.addEventListener(y,m.svgMouseEvents.bind(m,p),{capture:!1,passive:!0})})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(u,f){var p=this.w,_=this,m=this.ctx.toolbar,y=p.globals.zoomEnabled?p.config.chart.zoom.type:p.config.chart.selection.type,w=p.config.chart.toolbar.autoSelected;if(f.shiftKey?(this.shiftWasPressed=!0,m.enableZoomPanFromToolbar("pan"===w?"zoom":"pan")):this.shiftWasPressed&&(m.enableZoomPanFromToolbar(w),this.shiftWasPressed=!1),f.target){var S,M=f.target.classList;if(f.target.parentNode&&null!==f.target.parentNode&&(S=f.target.parentNode.classList),!(M.contains("apexcharts-selection-rect")||M.contains("apexcharts-legend-marker")||M.contains("apexcharts-legend-text")||S&&S.contains("apexcharts-toolbar"))){if(_.clientX="touchmove"===f.type||"touchstart"===f.type?f.touches[0].clientX:"touchend"===f.type?f.changedTouches[0].clientX:f.clientX,_.clientY="touchmove"===f.type||"touchstart"===f.type?f.touches[0].clientY:"touchend"===f.type?f.changedTouches[0].clientY:f.clientY,"mousedown"===f.type&&1===f.which){var T=_.gridRect.getBoundingClientRect();_.startX=_.clientX-T.left,_.startY=_.clientY-T.top,_.dragged=!1,_.w.globals.mousedown=!0}if(("mousemove"===f.type&&1===f.which||"touchmove"===f.type)&&(_.dragged=!0,p.globals.panEnabled?(p.globals.selection=null,_.w.globals.mousedown&&_.panDragging({context:_,zoomtype:y,xyRatios:u})):(_.w.globals.mousedown&&p.globals.zoomEnabled||_.w.globals.mousedown&&p.globals.selectionEnabled)&&(_.selection=_.selectionDrawing({context:_,zoomtype:y}))),"mouseup"===f.type||"touchend"===f.type||"mouseleave"===f.type){var R=_.gridRect.getBoundingClientRect();_.w.globals.mousedown&&(_.endX=_.clientX-R.left,_.endY=_.clientY-R.top,_.dragX=Math.abs(_.endX-_.startX),_.dragY=Math.abs(_.endY-_.startY),(p.globals.zoomEnabled||p.globals.selectionEnabled)&&_.selectionDrawn({context:_,zoomtype:y}),p.globals.panEnabled&&p.config.xaxis.convertedCatToNumeric&&_.delayedPanScrolled()),p.globals.zoomEnabled&&_.hideSelectionRect(this.selectionRect),_.dragged=!1,_.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"makeSelectionRectDraggable",value:function(){var u=this.w;if(this.selectionRect){var f=this.selectionRect.node.getBoundingClientRect();f.width>0&&f.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:u.globals.gridWidth,maxY:u.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var u=this.w,f=this.xyRatios;if(!u.globals.zoomEnabled)if(null!=u.globals.selection)this.drawSelectionRect(u.globals.selection);else if(void 0!==u.config.chart.selection.xaxis.min&&void 0!==u.config.chart.selection.xaxis.max){var p=(u.config.chart.selection.xaxis.min-u.globals.minX)/f.xRatio;this.drawSelectionRect({x:p,y:0,width:u.globals.gridWidth-(u.globals.maxX-u.config.chart.selection.xaxis.max)/f.xRatio-p,height:u.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof u.config.chart.events.selection&&u.config.chart.events.selection(this.ctx,{xaxis:{min:u.config.chart.selection.xaxis.min,max:u.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(u){var f=u.x,p=u.y,_=u.width,m=u.height,y=u.translateX,S=u.translateY,T=this.w,R=this.zoomRect,O=this.selectionRect;if(this.dragged||null!==T.globals.selection){var L={transform:"translate("+(void 0===y?0:y)+", "+(void 0===S?0:S)+")"};T.globals.zoomEnabled&&this.dragged&&(_<0&&(_=1),R.attr({x:f,y:p,width:_,height:m,fill:T.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":T.config.chart.zoom.zoomedArea.fill.opacity,stroke:T.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":T.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":T.config.chart.zoom.zoomedArea.stroke.opacity}),Be.setAttrs(R.node,L)),T.globals.selectionEnabled&&(O.attr({x:f,y:p,width:_>0?_:0,height:m>0?m:0,fill:T.config.chart.selection.fill.color,"fill-opacity":T.config.chart.selection.fill.opacity,stroke:T.config.chart.selection.stroke.color,"stroke-width":T.config.chart.selection.stroke.width,"stroke-dasharray":T.config.chart.selection.stroke.dashArray,"stroke-opacity":T.config.chart.selection.stroke.opacity}),Be.setAttrs(O.node,L))}}},{key:"hideSelectionRect",value:function(u){u&&u.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(u){var L,p=u.zoomtype,_=this.w,m=u.context,y=this.gridRect.getBoundingClientRect(),w=m.startX-1,S=m.startY,M=!1,T=!1,R=m.clientX-y.left-w,O=m.clientY-y.top-S;return Math.abs(R+w)>_.globals.gridWidth?R=_.globals.gridWidth-w:m.clientX-y.left<0&&(R=w),w>m.clientX-y.left&&(M=!0,R=Math.abs(R)),S>m.clientY-y.top&&(T=!0,O=Math.abs(O)),m.drawSelectionRect(L="x"===p?{x:M?w-R:w,y:0,width:R,height:_.globals.gridHeight}:"y"===p?{x:0,y:T?S-O:S,width:_.globals.gridWidth,height:O}:{x:M?w-R:w,y:T?S-O:S,width:R,height:O}),m.selectionDragging("resizing"),L}},{key:"selectionDragging",value:function(u,f){var p=this,_=this.w,m=this.xyRatios,y=this.selectionRect,w=0;"resizing"===u&&(w=30);var S=function(T){return parseFloat(y.node.getAttribute(T))},M={x:S("x"),y:S("y"),width:S("width"),height:S("height")};_.globals.selection=M,"function"==typeof _.config.chart.events.selection&&_.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var T=p.gridRect.getBoundingClientRect(),R=y.node.getBoundingClientRect(),O={xaxis:{min:_.globals.xAxisScale.niceMin+(R.left-T.left)*m.xRatio,max:_.globals.xAxisScale.niceMin+(R.right-T.left)*m.xRatio},yaxis:{min:_.globals.yAxisScale[0].niceMin+(T.bottom-R.bottom)*m.yRatio[0],max:_.globals.yAxisScale[0].niceMax-(R.top-T.top)*m.yRatio[0]}};_.config.chart.events.selection(p.ctx,O),_.config.chart.brush.enabled&&void 0!==_.config.chart.events.brushScrolled&&_.config.chart.events.brushScrolled(p.ctx,O)},w))}},{key:"selectionDrawn",value:function(u){var p=u.zoomtype,_=this.w,m=u.context,y=this.xyRatios,w=this.ctx.toolbar;if(m.startX>m.endX){var S=m.startX;m.startX=m.endX,m.endX=S}if(m.startY>m.endY){var M=m.startY;m.startY=m.endY,m.endY=M}var T=void 0,R=void 0;_.globals.isRangeBar?(T=_.globals.yAxisScale[0].niceMin+m.startX*y.invertedYRatio,R=_.globals.yAxisScale[0].niceMin+m.endX*y.invertedYRatio):(T=_.globals.xAxisScale.niceMin+m.startX*y.xRatio,R=_.globals.xAxisScale.niceMin+m.endX*y.xRatio);var O=[],L=[];if(_.config.yaxis.forEach(function(W,K){O.push(_.globals.yAxisScale[K].niceMax-y.yRatio[K]*m.startY),L.push(_.globals.yAxisScale[K].niceMax-y.yRatio[K]*m.endY)}),m.dragged&&(m.dragX>10||m.dragY>10)&&T!==R)if(_.globals.zoomEnabled){var H=fe.clone(_.globals.initialConfig.yaxis),z=fe.clone(_.globals.initialConfig.xaxis);if(_.globals.zoomed=!0,_.config.xaxis.convertedCatToNumeric&&(T=Math.floor(T),R=Math.floor(R),T<1&&(T=1,R=_.globals.dataPoints),R-T<2&&(R=T+1)),"xy"!==p&&"x"!==p||(z={min:T,max:R}),"xy"!==p&&"y"!==p||H.forEach(function(W,K){H[K].min=L[K],H[K].max=O[K]}),_.config.chart.zoom.autoScaleYaxis){var Y=new Ua(m.ctx);H=Y.autoScaleY(m.ctx,H,{xaxis:z})}if(w){var X=w.getBeforeZoomRange(z,H);X&&(z=X.xaxis?X.xaxis:z,H=X.yaxis?X.yaxis:H)}var x={xaxis:z};_.config.chart.group||(x.yaxis=H),m.ctx.updateHelpers._updateOptions(x,!1,m.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof _.config.chart.events.zoomed&&w.zoomCallback(z,H)}else if(_.globals.selectionEnabled){var k,B=null;k={min:T,max:R},"xy"!==p&&"y"!==p||(B=fe.clone(_.config.yaxis)).forEach(function(W,K){B[K].min=L[K],B[K].max=O[K]}),_.globals.selection=m.selection,"function"==typeof _.config.chart.events.selection&&_.config.chart.events.selection(m.ctx,{xaxis:k,yaxis:B})}}},{key:"panDragging",value:function(u){var p=this.w,_=u.context;if(void 0!==p.globals.lastClientPosition.x){var m=p.globals.lastClientPosition.x-_.clientX,y=p.globals.lastClientPosition.y-_.clientY;Math.abs(m)>Math.abs(y)&&m>0?this.moveDirection="left":Math.abs(m)>Math.abs(y)&&m<0?this.moveDirection="right":Math.abs(y)>Math.abs(m)&&y>0?this.moveDirection="up":Math.abs(y)>Math.abs(m)&&y<0&&(this.moveDirection="down")}p.globals.lastClientPosition={x:_.clientX,y:_.clientY},p.config.xaxis.convertedCatToNumeric||_.panScrolled(p.globals.isRangeBar?p.globals.minY:p.globals.minX,p.globals.isRangeBar?p.globals.maxY:p.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var u=this.w,f=u.globals.minX,p=u.globals.maxX,_=(u.globals.maxX-u.globals.minX)/2;"left"===this.moveDirection?(f=u.globals.minX+_,p=u.globals.maxX+_):"right"===this.moveDirection&&(f=u.globals.minX-_,p=u.globals.maxX-_),f=Math.floor(f),p=Math.floor(p),this.updateScrolledChart({xaxis:{min:f,max:p}},f,p)}},{key:"panScrolled",value:function(u,f){var p=this.w,_=this.xyRatios,m=fe.clone(p.globals.initialConfig.yaxis),y=_.xRatio,w=p.globals.minX,S=p.globals.maxX;p.globals.isRangeBar&&(y=_.invertedYRatio,w=p.globals.minY,S=p.globals.maxY),"left"===this.moveDirection?(u=w+p.globals.gridWidth/15*y,f=S+p.globals.gridWidth/15*y):"right"===this.moveDirection&&(u=w-p.globals.gridWidth/15*y,f=S-p.globals.gridWidth/15*y),p.globals.isRangeBar||(u<p.globals.initialMinX||f>p.globals.initialMaxX)&&(u=w,f=S);var M={min:u,max:f};p.config.chart.zoom.autoScaleYaxis&&(m=new Ua(this.ctx).autoScaleY(this.ctx,m,{xaxis:M}));var T={xaxis:{min:u,max:f}};p.config.chart.group||(T.yaxis=m),this.updateScrolledChart(T,u,f)}},{key:"updateScrolledChart",value:function(u,f,p){var _=this.w;this.ctx.updateHelpers._updateOptions(u,!1,!1),"function"==typeof _.config.chart.events.scrolled&&_.config.chart.events.scrolled(this.ctx,{xaxis:{min:f,max:p}})}}]),l}(),wh=function(){function U(o){Ie(this,U),this.w=o.w,this.ttCtx=o,this.ctx=o.ctx}return nt(U,[{key:"getNearestValues",value:function(o){var l=o.hoverArea,f=o.clientX,p=o.clientY,_=this.w,m=o.elGrid.getBoundingClientRect(),y=m.width,w=m.height,S=y/(_.globals.dataPoints-1),M=w/_.globals.dataPoints,T=this.hasBars();!_.globals.comboCharts&&!T||_.config.xaxis.convertedCatToNumeric||(S=y/_.globals.dataPoints);var R=f-m.left-_.globals.barPadForNumericAxis,O=p-m.top;R<0||O<0||R>y||O>w?(l.classList.remove("hovering-zoom"),l.classList.remove("hovering-pan")):_.globals.zoomEnabled?(l.classList.remove("hovering-pan"),l.classList.add("hovering-zoom")):_.globals.panEnabled&&(l.classList.remove("hovering-zoom"),l.classList.add("hovering-pan"));var L=Math.round(R/S),H=Math.floor(O/M);T&&!_.config.xaxis.convertedCatToNumeric&&(L=Math.ceil(R/S),L-=1);var z=null,Y=null,X=[],x=[];if(_.globals.seriesXvalues.forEach(function(K){X.push([K[0]+1e-6].concat(K))}),_.globals.seriesYvalues.forEach(function(K){x.push([K[0]+1e-6].concat(K))}),X=X.map(function(K){return K.filter(function(ve){return fe.isNumber(ve)})}),x=x.map(function(K){return K.filter(function(ve){return fe.isNumber(ve)})}),_.globals.isXNumeric){var k=this.ttCtx.getElGrid().getBoundingClientRect(),B=R*(k.width/y);z=(Y=this.closestInMultiArray(B,O*(k.height/w),X,x)).index,L=Y.j,null!==z&&(L=(Y=this.closestInArray(B,X=_.globals.seriesXvalues[z])).index)}return _.globals.capturedSeriesIndex=null===z?-1:z,(!L||L<1)&&(L=0),_.globals.capturedDataPointIndex=_.globals.isBarHorizontal?H:L,{capturedSeries:z,j:_.globals.isBarHorizontal?H:L,hoverX:R,hoverY:O}}},{key:"closestInMultiArray",value:function(o,l,u,f){var _=0,m=null,y=-1;this.w.globals.series.length>1?_=this.getFirstActiveXArray(u):m=0;var S=Math.abs(o-u[_][0]);if(u.forEach(function(R){R.forEach(function(O,L){var H=Math.abs(o-O);H<S&&(S=H,y=L)})}),-1!==y){var T=Math.abs(l-f[_][y]);m=_,f.forEach(function(R,O){var L=Math.abs(l-R[y]);L<T&&(T=L,m=O)})}return{index:m,j:y}}},{key:"getFirstActiveXArray",value:function(o){for(var l=this.w,u=0,f=o.map(function(_,m){return _.length>0?m:-1}),p=0;p<f.length;p++)if(-1!==f[p]&&-1===l.globals.collapsedSeriesIndices.indexOf(p)&&-1===l.globals.ancillaryCollapsedSeriesIndices.indexOf(p)){u=f[p];break}return u}},{key:"closestInArray",value:function(o,l){for(var f=null,p=Math.abs(o-l[0]),_=0;_<l.length;_++){var m=Math.abs(o-l[_]);m<p&&(p=m,f=_)}return{index:f}}},{key:"isXoverlap",value:function(o){var l=[],u=this.w.globals.seriesX.filter(function(p){return void 0!==p[0]});if(u.length>0)for(var f=0;f<u.length-1;f++)void 0!==u[f][o]&&void 0!==u[f+1][o]&&u[f][o]!==u[f+1][o]&&l.push("unEqual");return 0===l.length}},{key:"isInitialSeriesSameLen",value:function(){for(var o=!0,l=this.w.globals.initialSeries,u=0;u<l.length-1;u++)if(l[u].data.length!==l[u+1].data.length){o=!1;break}return o}},{key:"getBarsHeight",value:function(o){return Us(o).reduce(function(l,u){return l+u.getBBox().height},0)}},{key:"getElMarkers",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(" .apexcharts-series-markers")}},{key:"getAllMarkers",value:function(){var o=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(o=Us(o)).sort(function(u,f){var p=Number(u.getAttribute("data:realIndex")),_=Number(f.getAttribute("data:realIndex"));return _<p?1:_>p?-1:0});var l=[];return o.forEach(function(u){l.push(u.querySelector(".apexcharts-marker"))}),l}},{key:"hasMarkers",value:function(){return this.getElMarkers().length>0}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(o){var l=this.w,u=l.config.markers.hover.size;return void 0===u&&(u=l.globals.markers.size[o]+l.config.markers.hover.sizeOffset),u}},{key:"toggleAllTooltipSeriesGroups",value:function(o){var l=this.w,u=this.ttCtx;0===u.allTooltipSeriesGroups.length&&(u.allTooltipSeriesGroups=l.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var f=u.allTooltipSeriesGroups,p=0;p<f.length;p++)"enable"===o?(f[p].classList.add("apexcharts-active"),f[p].style.display=l.config.tooltip.items.display):(f[p].classList.remove("apexcharts-active"),f[p].style.display="none")}}]),U}(),dg=function(){function U(o){Ie(this,U),this.w=o.w,this.ctx=o.ctx,this.ttCtx=o,this.tooltipUtil=new wh(o)}return nt(U,[{key:"drawSeriesTexts",value:function(o){var l=o.shared,u=void 0===l||l,f=o.ttItems,p=o.i,_=void 0===p?0:p,m=o.j,y=void 0===m?null:m,M=o.e,T=this.w;void 0!==T.config.tooltip.custom?this.handleCustomTooltip({i:_,j:y,y1:o.y1,y2:o.y2,w:T}):this.toggleActiveInactiveSeries(u);var R=this.getValuesToPrint({i:_,j:y});this.printLabels({i:_,j:y,values:R,ttItems:f,shared:u,e:M});var O=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=O.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=O.getBoundingClientRect().height}},{key:"printLabels",value:function(o){var l,u=this,f=o.i,p=o.j,_=o.values,m=o.ttItems,y=o.shared,w=o.e,S=this.w,M=[],T=function(k){return S.globals.seriesGoals[k]&&S.globals.seriesGoals[k][p]&&Array.isArray(S.globals.seriesGoals[k][p])},R=_.xVal,O=_.zVal,L=_.xAxisTTVal,H="",z=S.globals.colors[f];null!==p&&S.config.plotOptions.bar.distributed&&(z=S.globals.colors[p]);for(var Y=function(k,B){var W=u.getFormatters(f);H=u.getSeriesName({fn:W.yLbTitleFormatter,index:f,seriesIndex:f,j:p}),"treemap"===S.config.chart.type&&(H=W.yLbTitleFormatter(String(S.config.series[f].data[p].x),{series:S.globals.series,seriesIndex:f,dataPointIndex:p,w:S}));var K=S.config.tooltip.inverseOrder?B:k;if(S.globals.axisCharts){var ve=function(Le){return W.yLbFormatter(S.globals.series[Le][p],{series:S.globals.series,seriesIndex:Le,dataPointIndex:p,w:S})};if(y)W=u.getFormatters(K),H=u.getSeriesName({fn:W.yLbTitleFormatter,index:K,seriesIndex:f,j:p}),z=S.globals.colors[K],l=ve(K),T(K)&&(M=S.globals.seriesGoals[K][p].map(function(Le){return{attrs:Le,val:W.yLbFormatter(Le.value,{seriesIndex:K,dataPointIndex:p,w:S})}}));else{var te,Ee=null==w||null===(te=w.target)||void 0===te?void 0:te.getAttribute("fill");Ee&&(z=-1!==Ee.indexOf("url")?document.querySelector(Ee.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke"):Ee),l=ve(f),T(f)&&Array.isArray(S.globals.seriesGoals[f][p])&&(M=S.globals.seriesGoals[f][p].map(function(Le){return{attrs:Le,val:W.yLbFormatter(Le.value,{seriesIndex:f,dataPointIndex:p,w:S})}}))}}null===p&&(l=W.yLbFormatter(S.globals.series[f],Gt(Gt({},S),{},{seriesIndex:f,dataPointIndex:f}))),u.DOMHandling({i:f,t:K,j:p,ttItems:m,values:{val:l,goalVals:M,xVal:R,xAxisTTVal:L,zVal:O},seriesName:H,shared:y,pColor:z})},X=0,x=S.globals.series.length-1;X<S.globals.series.length;X++,x--)Y(X,x)}},{key:"getFormatters",value:function(o){var l,u=this.w,f=u.globals.yLabelFormatters[o];return void 0!==u.globals.ttVal?Array.isArray(u.globals.ttVal)?(f=u.globals.ttVal[o]&&u.globals.ttVal[o].formatter,l=u.globals.ttVal[o]&&u.globals.ttVal[o].title&&u.globals.ttVal[o].title.formatter):(f=u.globals.ttVal.formatter,"function"==typeof u.globals.ttVal.title.formatter&&(l=u.globals.ttVal.title.formatter)):l=u.config.tooltip.y.title.formatter,"function"!=typeof f&&(f=u.globals.yLabelFormatters[0]?u.globals.yLabelFormatters[0]:function(p){return p}),"function"!=typeof l&&(l=function(p){return p}),{yLbFormatter:f,yLbTitleFormatter:l}}},{key:"getSeriesName",value:function(o){var f=o.seriesIndex,p=o.j,_=this.w;return(0,o.fn)(String(_.globals.seriesNames[o.index]),{series:_.globals.series,seriesIndex:f,dataPointIndex:p,w:_})}},{key:"DOMHandling",value:function(o){var l=o.t,u=o.j,f=o.ttItems,p=o.values,_=o.seriesName,m=o.shared,y=o.pColor,w=this.w,S=this.ttCtx,M=p.val,T=p.goalVals,R=p.xVal,O=p.xAxisTTVal,L=p.zVal,H=null;H=f[l].children,w.config.tooltip.fillSeriesColor&&(f[l].style.backgroundColor=y,H[0].style.display="none"),S.showTooltipTitle&&(null===S.tooltipTitle&&(S.tooltipTitle=w.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),S.tooltipTitle.innerHTML=R),S.isXAxisTooltipEnabled&&(S.xaxisTooltipText.innerHTML=""!==O?O:R);var z=f[l].querySelector(".apexcharts-tooltip-text-y-label");z&&(z.innerHTML=_||"");var Y=f[l].querySelector(".apexcharts-tooltip-text-y-value");Y&&(Y.innerHTML=void 0!==M?M:""),H[0]&&H[0].classList.contains("apexcharts-tooltip-marker")&&(w.config.tooltip.marker.fillColors&&Array.isArray(w.config.tooltip.marker.fillColors)&&(y=w.config.tooltip.marker.fillColors[l]),H[0].style.backgroundColor=y),w.config.tooltip.marker.show||(H[0].style.display="none");var X=f[l].querySelector(".apexcharts-tooltip-text-goals-label"),x=f[l].querySelector(".apexcharts-tooltip-text-goals-value");if(T.length&&w.globals.seriesGoals[l]){var k=function(){var B="<div >",W="<div>";T.forEach(function(K,ve){B+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(K.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(K.attrs.name,"</div>"),W+="<div>".concat(K.val,"</div>")}),X.innerHTML=B+"</div>",x.innerHTML=W+"</div>"};m?w.globals.seriesGoals[l][u]&&Array.isArray(w.globals.seriesGoals[l][u])?k():(X.innerHTML="",x.innerHTML=""):k()}else X.innerHTML="",x.innerHTML="";null!==L&&(f[l].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=w.config.tooltip.z.title,f[l].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==L?L:""),m&&H[0]&&(H[0].parentNode.style.display=null==M||w.globals.ancillaryCollapsedSeriesIndices.indexOf(l)>-1||w.globals.collapsedSeriesIndices.indexOf(l)>-1?"none":w.config.tooltip.items.display)}},{key:"toggleActiveInactiveSeries",value:function(o){var l=this.w;if(o)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var u=l.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group");u&&(u.classList.add("apexcharts-active"),u.style.display=l.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(o){var l=o.i,u=o.j,f=this.w,p=this.ctx.series.filteredSeriesX(),_="",m="",y=null,w=null,S={series:f.globals.series,seriesIndex:l,dataPointIndex:u,w:f},M=f.globals.ttZFormatter;null===u?w=f.globals.series[l]:f.globals.isXNumeric&&"treemap"!==f.config.chart.type?(_=p[l][u],0===p[l].length&&(_=p[this.tooltipUtil.getFirstActiveXArray(p)][u])):_=void 0!==f.globals.labels[u]?f.globals.labels[u]:"";var T=_;return _=f.globals.isXNumeric&&"datetime"===f.config.xaxis.type?new bh(this.ctx).xLabelFormat(f.globals.ttKeyFormatter,T,T,{i:void 0,dateFormatter:new pi(this.ctx).formatDate,w:this.w}):f.globals.isBarHorizontal?f.globals.yLabelFormatters[0](T,S):f.globals.xLabelFormatter(T,S),void 0!==f.config.tooltip.x.formatter&&(_=f.globals.ttKeyFormatter(T,S)),f.globals.seriesZ.length>0&&f.globals.seriesZ[l].length>0&&(y=M(f.globals.seriesZ[l][u],f)),m="function"==typeof f.config.xaxis.tooltip.formatter?f.globals.xaxisTooltipFormatter(T,S):_,{val:Array.isArray(w)?w.join(" "):w,xVal:Array.isArray(_)?_.join(" "):_,xAxisTTVal:Array.isArray(m)?m.join(" "):m,zVal:y}}},{key:"handleCustomTooltip",value:function(o){var l=o.i,u=o.j,f=o.y1,p=o.y2,_=o.w,m=this.ttCtx.getElTooltip(),y=_.config.tooltip.custom;Array.isArray(y)&&y[l]&&(y=y[l]),m.innerHTML=y({ctx:this.ctx,series:_.globals.series,seriesIndex:l,dataPointIndex:u,y1:f,y2:p,w:_})}}]),U}(),Ch=function(){function U(o){Ie(this,U),this.ttCtx=o,this.ctx=o.ctx,this.w=o.w}return nt(U,[{key:"moveXCrosshairs",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,u=this.ttCtx,f=this.w,p=u.getElXCrosshairs(),_=o-u.xcrosshairsWidth/2,m=f.globals.labels.slice().length;if(null!==l&&(_=f.globals.gridWidth/m*l),null===p||f.globals.isBarHorizontal||(p.setAttribute("x",_),p.setAttribute("x1",_),p.setAttribute("x2",_),p.setAttribute("y2",f.globals.gridHeight),p.classList.add("apexcharts-active")),_<0&&(_=0),_>f.globals.gridWidth&&(_=f.globals.gridWidth),u.isXAxisTooltipEnabled){var y=_;"tickWidth"!==f.config.xaxis.crosshairs.width&&"barWidth"!==f.config.xaxis.crosshairs.width||(y=_+u.xcrosshairsWidth/2),this.moveXAxisTooltip(y)}}},{key:"moveYCrosshairs",value:function(o){var l=this.ttCtx;null!==l.ycrosshairs&&Be.setAttrs(l.ycrosshairs,{y1:o,y2:o}),null!==l.ycrosshairsHidden&&Be.setAttrs(l.ycrosshairsHidden,{y1:o,y2:o})}},{key:"moveXAxisTooltip",value:function(o){var l=this.w,u=this.ttCtx;if(null!==u.xaxisTooltip&&0!==u.xcrosshairsWidth){u.xaxisTooltip.classList.add("apexcharts-active");var p,f=u.xaxisOffY+l.config.xaxis.tooltip.offsetY+l.globals.translateY+1+l.config.xaxis.offsetY;o-=u.xaxisTooltip.getBoundingClientRect().width/2,isNaN(o)||(o+=l.globals.translateX,p=new Be(this.ctx).getTextRects(u.xaxisTooltipText.innerHTML),u.xaxisTooltipText.style.minWidth=p.width+"px",u.xaxisTooltip.style.left=o+"px",u.xaxisTooltip.style.top=f+"px")}}},{key:"moveYAxisTooltip",value:function(o){var l=this.w,u=this.ttCtx;null===u.yaxisTTEls&&(u.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var f=parseInt(u.ycrosshairsHidden.getAttribute("y1"),10),p=l.globals.translateY+f,_=u.yaxisTTEls[o].getBoundingClientRect().height,m=l.globals.translateYAxisX[o]-2;l.config.yaxis[o].opposite&&(m-=26),p-=_/2,-1===l.globals.ignoreYAxisIndexes.indexOf(o)?(u.yaxisTTEls[o].classList.add("apexcharts-active"),u.yaxisTTEls[o].style.top=p+"px",u.yaxisTTEls[o].style.left=m+l.config.yaxis[o].tooltip.offsetX+"px"):u.yaxisTTEls[o].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=this.w,p=this.ttCtx,_=p.getElTooltip(),m=p.tooltipRect,y=null!==u?parseFloat(u):1,w=parseFloat(o)+y+5,S=parseFloat(l)+y/2;if(w>f.globals.gridWidth/2&&(w=w-m.ttWidth-y-10),w>f.globals.gridWidth-m.ttWidth-10&&(w=f.globals.gridWidth-m.ttWidth),w<-20&&(w=-20),f.config.tooltip.followCursor){var M=p.getElGrid(),T=M.getBoundingClientRect();S=p.e.clientY+f.globals.translateY-T.top-m.ttHeight/2}else f.globals.isBarHorizontal||(m.ttHeight/2+S>f.globals.gridHeight&&(S=f.globals.gridHeight-m.ttHeight+f.globals.translateY),S<0&&(S=0));isNaN(w)||(_.style.left=(w+=f.globals.translateX)+"px",_.style.top=S+"px")}},{key:"moveMarkers",value:function(o,l){var u=this.w,f=this.ttCtx;if(u.globals.markers.size[o]>0)for(var p=u.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(o,"'] .apexcharts-marker")),_=0;_<p.length;_++)parseInt(p[_].getAttribute("rel"),10)===l&&(f.marker.resetPointsSize(),f.marker.enlargeCurrentPoint(l,p[_]));else f.marker.resetPointsSize(),this.moveDynamicPointOnHover(l,o)}},{key:"moveDynamicPointOnHover",value:function(o,l){var u,f,p=this.w,_=this.ttCtx,m=p.globals.pointsArray,y=_.tooltipUtil.getHoverMarkerSize(l),w=p.config.series[l].type;if(!w||"column"!==w&&"candlestick"!==w&&"boxPlot"!==w){u=m[l][o][0],f=m[l][o][1]?m[l][o][1]:0;var S=p.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(l,"'] .apexcharts-series-markers circle"));S&&f<p.globals.gridHeight&&f>0&&(S.setAttribute("r",y),S.setAttribute("cx",u),S.setAttribute("cy",f)),this.moveXCrosshairs(u),_.fixedTooltip||this.moveTooltip(u,f,y)}}},{key:"moveDynamicPointsOnHover",value:function(o){var l,u=this.ttCtx,f=u.w,p=0,_=0,m=f.globals.pointsArray;l=new Ge(this.ctx).getActiveConfigSeriesIndex(!0);var y=u.tooltipUtil.getHoverMarkerSize(l);m[l]&&(p=m[l][o][0],_=m[l][o][1]);var w=u.tooltipUtil.getAllMarkers();if(null!==w)for(var S=0;S<f.globals.series.length;S++){var M=m[S];if(f.globals.comboCharts&&void 0===M&&w.splice(S,0,null),M&&M.length){var T=m[S][o][1];w[S].setAttribute("cx",p),null!==T&&!isNaN(T)&&T<f.globals.gridHeight+y&&T+y>0?(w[S]&&w[S].setAttribute("r",y),w[S]&&w[S].setAttribute("cy",T)):w[S]&&w[S].setAttribute("r",0)}}this.moveXCrosshairs(p),u.fixedTooltip||this.moveTooltip(p,_||f.globals.gridHeight,y)}},{key:"moveStickyTooltipOverBars",value:function(o){var l=this.w,u=this.ttCtx,f=l.globals.columnSeries?l.globals.columnSeries.length:l.globals.series.length,p=f>=2&&f%2==0?Math.floor(f/2):Math.floor(f/2)+1;l.globals.isBarHorizontal&&(p=new Ge(this.ctx).getActiveConfigSeriesIndex(!1,"desc")+1);var _=l.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(p,"'] path[j='").concat(o,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(p,"'] path[j='").concat(o,"']")),m=_?parseFloat(_.getAttribute("cx")):0,y=_?parseFloat(_.getAttribute("cy")):0,w=_?parseFloat(_.getAttribute("barWidth")):0,S=_?parseFloat(_.getAttribute("barHeight")):0,M=u.getElGrid().getBoundingClientRect(),T=_.classList.contains("apexcharts-candlestick-area")||_.classList.contains("apexcharts-boxPlot-area");l.globals.isXNumeric?(_&&!T&&(m-=f%2!=0?w/2:0),_&&T&&l.globals.comboCharts&&(m-=w/2)):l.globals.isBarHorizontal||(m=u.xAxisTicksPositions[o-1]+u.dataPointsDividedWidth/2,isNaN(m)&&(m=u.xAxisTicksPositions[o]-u.dataPointsDividedWidth/2)),l.globals.isBarHorizontal?(y>l.globals.gridHeight/2&&(y-=u.tooltipRect.ttHeight),(y=y+l.config.grid.padding.top+S/3)+S>l.globals.gridHeight&&(y=l.globals.gridHeight-S)):l.config.tooltip.followCursor?y=u.e.clientY-M.top-u.tooltipRect.ttHeight/2:y+u.tooltipRect.ttHeight+15>l.globals.gridHeight&&(y=l.globals.gridHeight),y<-10&&(y=-10),l.globals.isBarHorizontal||this.moveXCrosshairs(m),u.fixedTooltip||this.moveTooltip(m,y||l.globals.gridHeight)}}]),U}(),hb=function(){function U(o){Ie(this,U),this.w=o.w,this.ttCtx=o,this.ctx=o.ctx,this.tooltipPosition=new Ch(o)}return nt(U,[{key:"drawDynamicPoints",value:function(){var o=this.w,l=new Be(this.ctx),u=new Fo(this.ctx),f=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series");f=Us(f),o.config.chart.stacked&&f.sort(function(M,T){return parseFloat(M.getAttribute("data:realIndex"))-parseFloat(T.getAttribute("data:realIndex"))});for(var p=0;p<f.length;p++){var _=f[p].querySelector(".apexcharts-series-markers-wrap");if(null!==_){var m=void 0,y="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==o.config.chart.type&&"area"!==o.config.chart.type||o.globals.comboCharts||o.config.tooltip.intersect||(y+=" no-pointer-events");var w=u.getMarkerConfig({cssClass:y,seriesIndex:Number(_.getAttribute("data:realIndex"))});(m=l.drawMarker(0,0,w)).node.setAttribute("default-marker-size",0);var S=document.createElementNS(o.globals.SVGNS,"g");S.classList.add("apexcharts-series-markers"),S.appendChild(m.node),_.appendChild(S)}}}},{key:"enlargeCurrentPoint",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,p=this.w;"bubble"!==p.config.chart.type&&this.newPointSize(o,l);var _=l.getAttribute("cx"),m=l.getAttribute("cy");if(null!==u&&null!==f&&(_=u,m=f),this.tooltipPosition.moveXCrosshairs(_),!this.fixedTooltip){if("radar"===p.config.chart.type){var y=this.ttCtx.getElGrid(),w=y.getBoundingClientRect();_=this.ttCtx.e.clientX-w.left}this.tooltipPosition.moveTooltip(_,m,p.config.markers.hover.size)}}},{key:"enlargePoints",value:function(o){for(var l=this.w,u=this,f=this.ttCtx,p=o,_=l.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),m=l.config.markers.hover.size,y=0;y<_.length;y++){var w=_[y].getAttribute("rel"),S=_[y].getAttribute("index");if(void 0===m&&(m=l.globals.markers.size[S]+l.config.markers.hover.sizeOffset),p===parseInt(w,10)){u.newPointSize(p,_[y]);var M=_[y].getAttribute("cx"),T=_[y].getAttribute("cy");u.tooltipPosition.moveXCrosshairs(M),f.fixedTooltip||u.tooltipPosition.moveTooltip(M,T,m)}else u.oldPointSize(_[y])}}},{key:"newPointSize",value:function(o,l){var u=this.w,f=u.config.markers.hover.size,p=0===o?l.parentNode.firstChild:l.parentNode.lastChild;if("0"!==p.getAttribute("default-marker-size")){var _=parseInt(p.getAttribute("index"),10);void 0===f&&(f=u.globals.markers.size[_]+u.config.markers.hover.sizeOffset),f<0&&(f=0),p.setAttribute("r",f)}}},{key:"oldPointSize",value:function(o){var l=parseFloat(o.getAttribute("default-marker-size"));o.setAttribute("r",l)}},{key:"resetPointsSize",value:function(){for(var o=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),l=0;l<o.length;l++){var u=parseFloat(o[l].getAttribute("default-marker-size"));fe.isNumber(u)&&u>=0?o[l].setAttribute("r",u):o[l].setAttribute("r",0)}}}]),U}(),ug=function(){function U(o){Ie(this,U),this.w=o.w,this.ttCtx=o}return nt(U,[{key:"getAttr",value:function(o,l){return parseFloat(o.target.getAttribute(l))}},{key:"handleHeatTreeTooltip",value:function(o){var l=o.e,u=o.opt,f=o.x,p=o.y,m=this.ttCtx,y=this.w;if(l.target.classList.contains("apexcharts-".concat(o.type,"-rect"))){var w=this.getAttr(l,"i"),S=this.getAttr(l,"j"),M=this.getAttr(l,"cx"),T=this.getAttr(l,"cy"),R=this.getAttr(l,"width"),O=this.getAttr(l,"height");if(m.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:w,j:S,shared:!1,e:l}),y.globals.capturedSeriesIndex=w,y.globals.capturedDataPointIndex=S,f=M+m.tooltipRect.ttWidth/2+R,p=T+m.tooltipRect.ttHeight/2-O/2,m.tooltipPosition.moveXCrosshairs(M+R/2),f>y.globals.gridWidth/2&&(f=M-m.tooltipRect.ttWidth/2+R),m.w.config.tooltip.followCursor){var L=y.globals.dom.elWrap.getBoundingClientRect();f=y.globals.clientX-L.left-(f>y.globals.gridWidth/2?m.tooltipRect.ttWidth:0),p=y.globals.clientY-L.top-(p>y.globals.gridHeight/2?m.tooltipRect.ttHeight:0)}}return{x:f,y:p}}},{key:"handleMarkerTooltip",value:function(o){var l,u,f=o.e,p=o.opt,_=o.x,m=o.y,y=this.w,w=this.ttCtx;if(f.target.classList.contains("apexcharts-marker")){var S=parseInt(p.paths.getAttribute("cx"),10),M=parseInt(p.paths.getAttribute("cy"),10),T=parseFloat(p.paths.getAttribute("val"));if(u=parseInt(p.paths.getAttribute("rel"),10),l=parseInt(p.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,w.intersect){var R=fe.findAncestor(p.paths,"apexcharts-series");R&&(l=parseInt(R.getAttribute("data:realIndex"),10))}if(w.tooltipLabels.drawSeriesTexts({ttItems:p.ttItems,i:l,j:u,shared:!w.showOnIntersect&&y.config.tooltip.shared,e:f}),"mouseup"===f.type&&w.markerClick(f,l,u),y.globals.capturedSeriesIndex=l,y.globals.capturedDataPointIndex=u,_=S,m=M+y.globals.translateY-1.4*w.tooltipRect.ttHeight,w.w.config.tooltip.followCursor){var O=w.getElGrid().getBoundingClientRect();m=w.e.clientY+y.globals.translateY-O.top}T<0&&(m=M),w.marker.enlargeCurrentPoint(u,p.paths,_,m)}return{x:_,y:m}}},{key:"handleBarTooltip",value:function(o){var l,u,f=o.e,p=o.opt,_=this.w,m=this.ttCtx,y=m.getElTooltip(),w=0,S=0,M=0,T=this.getBarTooltipXY({e:f,opt:p}),R=T.barHeight,O=T.j;_.globals.capturedSeriesIndex=l=T.i,_.globals.capturedDataPointIndex=O,_.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||!_.config.tooltip.shared?(S=T.x,M=T.y,u=Array.isArray(_.config.stroke.width)?_.config.stroke.width[l]:_.config.stroke.width,w=S):_.globals.comboCharts||_.config.tooltip.shared||(w/=2),isNaN(M)?M=_.globals.svgHeight-m.tooltipRect.ttHeight:M<0&&(M=0);var L=parseInt(p.paths.parentNode.getAttribute("data:realIndex"),10),H=_.globals.isMultipleYAxis?_.config.yaxis[L]&&_.config.yaxis[L].reversed:_.config.yaxis[0].reversed;if(S+m.tooltipRect.ttWidth>_.globals.gridWidth&&!H?S-=m.tooltipRect.ttWidth:S<0&&(S=0),m.w.config.tooltip.followCursor){var z=m.getElGrid().getBoundingClientRect();M=m.e.clientY-z.top}null===m.tooltip&&(m.tooltip=_.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),_.config.tooltip.shared||m.tooltipPosition.moveXCrosshairs(_.globals.comboBarCount>0?w+u/2:w),!m.fixedTooltip&&(!_.config.tooltip.shared||_.globals.isBarHorizontal&&m.tooltipUtil.hasBars())&&(H&&(S-=m.tooltipRect.ttWidth)<0&&(S=0),!H||_.globals.isBarHorizontal&&m.tooltipUtil.hasBars()||(M=M+R-2*(_.globals.series[l][O]<0?R:0)),m.tooltipRect.ttHeight+M>_.globals.gridHeight?M=_.globals.gridHeight-m.tooltipRect.ttHeight+_.globals.translateY:(M=M+_.globals.translateY-m.tooltipRect.ttHeight/2)<0&&(M=0),y.style.left=S+_.globals.translateX+"px",y.style.top=M+"px")}},{key:"getBarTooltipXY",value:function(o){var l=o.e,u=o.opt,f=this.w,p=null,_=this.ttCtx,m=0,y=0,w=0,S=0,M=0,T=l.target.classList;if(T.contains("apexcharts-bar-area")||T.contains("apexcharts-candlestick-area")||T.contains("apexcharts-boxPlot-area")||T.contains("apexcharts-rangebar-area")){var R=l.target,O=R.getBoundingClientRect(),L=u.elGrid.getBoundingClientRect(),H=O.height;M=O.height;var z=O.width,Y=parseInt(R.getAttribute("cx"),10),X=parseInt(R.getAttribute("cy"),10);S=parseFloat(R.getAttribute("barWidth"));var x="touchmove"===l.type?l.touches[0].clientX:l.clientX;p=parseInt(R.getAttribute("j"),10),m=parseInt(R.parentNode.getAttribute("rel"),10)-1;var k=R.getAttribute("data-range-y1"),B=R.getAttribute("data-range-y2");f.globals.comboCharts&&(m=parseInt(R.parentNode.getAttribute("data:realIndex"),10)),_.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:m,j:p,y1:k?parseInt(k,10):null,y2:B?parseInt(B,10):null,shared:!_.showOnIntersect&&f.config.tooltip.shared,e:l}),f.config.tooltip.followCursor?f.globals.isBarHorizontal?(y=x-L.left+15,w=X-_.dataPointsDividedHeight+H/2-_.tooltipRect.ttHeight/2):(y=f.globals.isXNumeric?Y-z/2:Y-_.dataPointsDividedWidth+z/2,w=l.clientY-L.top-_.tooltipRect.ttHeight/2-15):f.globals.isBarHorizontal?((y=Y)<_.xyRatios.baseLineInvertedY&&(y=Y-_.tooltipRect.ttWidth),w=X-_.dataPointsDividedHeight+H/2-_.tooltipRect.ttHeight/2):(y=f.globals.isXNumeric?Y-z/2:Y-_.dataPointsDividedWidth+z/2,w=X)}return{x:y,y:w,barHeight:M,barWidth:S,i:m,j:p}}}]),U}(),hg=function(){function U(o){Ie(this,U),this.w=o.w,this.ttCtx=o}return nt(U,[{key:"drawXaxisTooltip",value:function(){var o=this.w,l=this.ttCtx,u="bottom"===o.config.xaxis.position;l.xaxisOffY=u?o.globals.gridHeight+1:-o.globals.xAxisHeight-o.config.xaxis.axisTicks.height+3;var f=u?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",p=o.globals.dom.elWrap;l.isXAxisTooltipEnabled&&null===o.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(l.xaxisTooltip=document.createElement("div"),l.xaxisTooltip.setAttribute("class",f+" apexcharts-theme-"+o.config.tooltip.theme),p.appendChild(l.xaxisTooltip),l.xaxisTooltipText=document.createElement("div"),l.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),l.xaxisTooltipText.style.fontFamily=o.config.xaxis.tooltip.style.fontFamily||o.config.chart.fontFamily,l.xaxisTooltipText.style.fontSize=o.config.xaxis.tooltip.style.fontSize,l.xaxisTooltip.appendChild(l.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var o=this.w,l=this.ttCtx,u=function(p){var _=o.config.yaxis[p].opposite||o.config.yaxis[p].crosshairs.opposite;l.yaxisOffX=_?o.globals.gridWidth+1:1;var m="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p,_?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left");o.globals.yAxisSameScaleIndices.map(function(w,S){w.map(function(M,T){T===p&&(m+=o.config.yaxis[T].show?" ":" apexcharts-yaxistooltip-hidden")})});var y=o.globals.dom.elWrap;null===o.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(p))&&(l.yaxisTooltip=document.createElement("div"),l.yaxisTooltip.setAttribute("class",m+" apexcharts-theme-"+o.config.tooltip.theme),y.appendChild(l.yaxisTooltip),0===p&&(l.yaxisTooltipText=[]),l.yaxisTooltipText[p]=document.createElement("div"),l.yaxisTooltipText[p].classList.add("apexcharts-yaxistooltip-text"),l.yaxisTooltip.appendChild(l.yaxisTooltipText[p]))},f=0;f<o.config.yaxis.length;f++)u(f)}},{key:"setXCrosshairWidth",value:function(){var o=this.w,l=this.ttCtx,u=l.getElXCrosshairs();if(l.xcrosshairsWidth=parseInt(o.config.xaxis.crosshairs.width,10),o.globals.comboCharts){var f=o.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==f&&"barWidth"===o.config.xaxis.crosshairs.width){var p=parseFloat(f.getAttribute("barWidth"));l.xcrosshairsWidth=p}else"tickWidth"===o.config.xaxis.crosshairs.width&&(l.xcrosshairsWidth=o.globals.gridWidth/o.globals.labels.length)}else if("tickWidth"===o.config.xaxis.crosshairs.width)l.xcrosshairsWidth=o.globals.gridWidth/o.globals.labels.length;else if("barWidth"===o.config.xaxis.crosshairs.width){var y=o.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==y){var w=parseFloat(y.getAttribute("barWidth"));l.xcrosshairsWidth=w}else l.xcrosshairsWidth=1}o.globals.isBarHorizontal&&(l.xcrosshairsWidth=0),null!==u&&l.xcrosshairsWidth>0&&u.setAttribute("width",l.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var o=this.w,l=this.ttCtx;l.ycrosshairs=o.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),l.ycrosshairsHidden=o.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(o,l,u){var f=this.ttCtx,p=this.w,_=p.globals.yLabelFormatters[o];if(f.yaxisTooltips[o]){var m=f.getElGrid().getBoundingClientRect(),S=p.globals.minYArr[o]+(p.globals.maxYArr[o]-p.globals.minYArr[o]-(l-m.top)*u.yRatio[o]);f.tooltipPosition.moveYCrosshairs(l-m.top),f.yaxisTooltipText[o].innerHTML=_(S),f.tooltipPosition.moveYAxisTooltip(o)}}}]),U}(),fg=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.tConfig=l.config.tooltip,this.tooltipUtil=new wh(this),this.tooltipLabels=new dg(this),this.tooltipPosition=new Ch(this),this.marker=new hb(this),this.intersect=new ug(this),this.axesTooltip=new hg(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!l.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return nt(U,[{key:"getElTooltip",value:function(o){return o||(o=this),o.w.globals.dom.baseEl?o.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(o){var l=this.w;this.xyRatios=o,this.isXAxisTooltipEnabled=l.config.xaxis.tooltip.enabled&&l.globals.axisCharts,this.yaxisTooltips=l.config.yaxis.map(function(_,m){return!!(_.show&&_.tooltip.enabled&&l.globals.axisCharts)}),this.allTooltipSeriesGroups=[],l.globals.axisCharts||(this.showTooltipTitle=!1);var u=document.createElement("div");if(u.classList.add("apexcharts-tooltip"),l.config.tooltip.cssClass&&u.classList.add(l.config.tooltip.cssClass),u.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),l.globals.dom.elWrap.appendChild(u),l.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var f=new Ll(this.ctx);this.xAxisTicksPositions=f.getXAxisTicksPositions()}if(!l.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==l.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==l.config.markers.size&&0!==l.globals.markers.largestSize||this.marker.drawDynamicPoints(this),l.globals.collapsedSeries.length!==l.globals.series.length){this.dataPointsDividedHeight=l.globals.gridHeight/l.globals.dataPoints,this.dataPointsDividedWidth=l.globals.gridWidth/l.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||l.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,u.appendChild(this.tooltipTitle));var p=l.globals.series.length;(l.globals.xyCharts||l.globals.comboCharts)&&this.tConfig.shared&&(p=this.showOnIntersect?1:l.globals.series.length),this.legendLabels=l.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(p),this.addSVGEvents()}}},{key:"createTTElements",value:function(o){for(var l=this,u=this.w,f=[],p=this.getElTooltip(),_=function(y){var w=document.createElement("div");w.classList.add("apexcharts-tooltip-series-group"),w.style.order=u.config.tooltip.inverseOrder?o-y:y+1,l.tConfig.shared&&l.tConfig.enabledOnSeries&&Array.isArray(l.tConfig.enabledOnSeries)&&l.tConfig.enabledOnSeries.indexOf(y)<0&&w.classList.add("apexcharts-tooltip-series-group-hidden");var S=document.createElement("span");S.classList.add("apexcharts-tooltip-marker"),S.style.backgroundColor=u.globals.colors[y],w.appendChild(S);var M=document.createElement("div");M.classList.add("apexcharts-tooltip-text"),M.style.fontFamily=l.tConfig.style.fontFamily||u.config.chart.fontFamily,M.style.fontSize=l.tConfig.style.fontSize,["y","goals","z"].forEach(function(T){var R=document.createElement("div");R.classList.add("apexcharts-tooltip-".concat(T,"-group"));var O=document.createElement("span");O.classList.add("apexcharts-tooltip-text-".concat(T,"-label")),R.appendChild(O);var L=document.createElement("span");L.classList.add("apexcharts-tooltip-text-".concat(T,"-value")),R.appendChild(L),M.appendChild(R)}),w.appendChild(M),p.appendChild(w),f.push(w)},m=0;m<o;m++)_(m);return f}},{key:"addSVGEvents",value:function(){var o=this.w,l=o.config.chart.type,u=this.getElTooltip(),f=!("bar"!==l&&"candlestick"!==l&&"boxPlot"!==l&&"rangeBar"!==l),p="area"===l||"line"===l||"scatter"===l||"bubble"===l||"radar"===l,_=o.globals.dom.Paper.node,m=this.getElGrid();m&&(this.seriesBound=m.getBoundingClientRect());var y,w=[],S=[],M={hoverArea:_,elGrid:m,tooltipEl:u,tooltipY:w,tooltipX:S,ttItems:this.ttItems};if(o.globals.axisCharts&&(p?y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):f?y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==l&&"treemap"!==l||(y=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),y&&y.length))for(var T=0;T<y.length;T++)w.push(y[T].getAttribute("cy")),S.push(y[T].getAttribute("cx"));if(o.globals.xyCharts&&!this.showOnIntersect||o.globals.comboCharts&&!this.showOnIntersect||f&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([_],M);else if(f&&!o.globals.comboCharts||p&&this.showOnIntersect)this.addDatapointEventsListeners(M);else if(!o.globals.axisCharts||"heatmap"===l||"treemap"===l){var R=o.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(R,M)}if(this.showOnIntersect){var O=o.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");O.length>0&&this.addPathsEventListeners(O,M),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(M)}}},{key:"drawFixedTooltipRect",value:function(){var o=this.w,l=this.getElTooltip(),u=l.getBoundingClientRect(),f=u.width+10,p=u.height+10,_=this.tConfig.fixed.offsetX,m=this.tConfig.fixed.offsetY,y=this.tConfig.fixed.position.toLowerCase();return y.indexOf("right")>-1&&(_=_+o.globals.svgWidth-f+10),y.indexOf("bottom")>-1&&(m=m+o.globals.svgHeight-p-10),l.style.left=_+"px",l.style.top=m+"px",{x:_,y:m,ttWidth:f,ttHeight:p}}},{key:"addDatapointEventsListeners",value:function(o){var l=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(l,o)}},{key:"addPathsEventListeners",value:function(o,l){for(var u=this,f=function(_){var m={paths:o[_],tooltipEl:l.tooltipEl,tooltipY:l.tooltipY,tooltipX:l.tooltipX,elGrid:l.elGrid,hoverArea:l.hoverArea,ttItems:l.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(y){return o[_].addEventListener(y,u.onSeriesHover.bind(u,m),{capture:!1,passive:!0})})},p=0;p<o.length;p++)f(p)}},{key:"onSeriesHover",value:function(o,l){var u=this,f=Date.now()-this.lastHoverTime;f>=100?this.seriesHover(o,l):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){u.seriesHover(o,l)},100-f))}},{key:"seriesHover",value:function(o,l){var u=this;this.lastHoverTime=Date.now();var f=[],p=this.w;p.config.chart.group&&(f=this.ctx.getGroupedCharts()),p.globals.axisCharts&&(p.globals.minX===-1/0&&p.globals.maxX===1/0||0===p.globals.dataPoints)||(f.length?f.forEach(function(_){var m=u.getElTooltip(_);_.w.globals.minX===u.w.globals.minX&&_.w.globals.maxX===u.w.globals.maxX&&_.w.globals.tooltip.seriesHoverByContext({chartCtx:_,ttCtx:_.w.globals.tooltip,opt:{paths:o.paths,tooltipEl:m,tooltipY:o.tooltipY,tooltipX:o.tooltipX,elGrid:o.elGrid,hoverArea:o.hoverArea,ttItems:_.w.globals.tooltip.ttItems},e:l})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:o,e:l}))}},{key:"seriesHoverByContext",value:function(o){var l=o.chartCtx,u=o.ttCtx,f=o.opt,p=o.e,_=l.w,m=this.getElTooltip();m&&(u.tooltipRect={x:0,y:0,ttWidth:m.getBoundingClientRect().width,ttHeight:m.getBoundingClientRect().height},u.e=p,u.tooltipUtil.hasBars()&&!_.globals.comboCharts&&!u.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Ge(l).toggleSeriesOnHover(p,p.target.parentNode),u.fixedTooltip&&u.drawFixedTooltipRect(),_.globals.axisCharts?u.axisChartsTooltips({e:p,opt:f,tooltipRect:u.tooltipRect}):u.nonAxisChartsTooltips({e:p,opt:f,tooltipRect:u.tooltipRect}))}},{key:"axisChartsTooltips",value:function(o){var l,u,f=o.e,p=o.opt,_=this.w,m=p.elGrid.getBoundingClientRect(),y="touchmove"===f.type?f.touches[0].clientX:f.clientX,w="touchmove"===f.type?f.touches[0].clientY:f.clientY;if(this.clientY=w,this.clientX=y,_.globals.capturedSeriesIndex=-1,_.globals.capturedDataPointIndex=-1,w<m.top||w>m.top+m.height)this.handleMouseOut(p);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!_.config.tooltip.shared){var S=parseInt(p.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(S)<0)return void this.handleMouseOut(p)}var M=this.getElTooltip(),T=this.getElXCrosshairs(),R=_.globals.xyCharts||"bar"===_.config.chart.type&&!_.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||_.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===f.type||"touchmove"===f.type||"mouseup"===f.type){if(_.globals.collapsedSeries.length+_.globals.ancillaryCollapsedSeries.length===_.globals.series.length)return;null!==T&&T.classList.add("apexcharts-active");var O=this.yaxisTooltips.filter(function(z){return!0===z});if(null!==this.ycrosshairs&&O.length&&this.ycrosshairs.classList.add("apexcharts-active"),R&&!this.showOnIntersect)this.handleStickyTooltip(f,y,w,p);else if("heatmap"===_.config.chart.type||"treemap"===_.config.chart.type){var L=this.intersect.handleHeatTreeTooltip({e:f,opt:p,x:l,y:u,type:_.config.chart.type});u=L.y,M.style.left=(l=L.x)+"px",M.style.top=u+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:f,opt:p}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:f,opt:p,x:l,y:u});if(this.yaxisTooltips.length)for(var H=0;H<_.config.yaxis.length;H++)this.axesTooltip.drawYaxisTooltipText(H,w,this.xyRatios);p.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==f.type&&"touchend"!==f.type||this.handleMouseOut(p)}}},{key:"nonAxisChartsTooltips",value:function(o){var l=o.e,u=o.opt,f=o.tooltipRect,p=this.w,_=u.paths.getAttribute("rel"),m=this.getElTooltip(),y=p.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===l.type||"touchmove"===l.type){m.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:u.ttItems,i:parseInt(_,10)-1,shared:!1});var S=p.globals.clientY-y.top-f.ttHeight-10;if(m.style.left=p.globals.clientX-y.left-f.ttWidth/2+"px",m.style.top=S+"px",p.config.legend.tooltipHoverFormatter){var M=_-1,T=(0,p.config.legend.tooltipHoverFormatter)(this.legendLabels[M].getAttribute("data:default-text"),{seriesIndex:M,dataPointIndex:M,w:p});this.legendLabels[M].innerHTML=T}}else"mouseout"!==l.type&&"touchend"!==l.type||(m.classList.remove("apexcharts-active"),p.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(R){var O=R.getAttribute("data:default-text");R.innerHTML=decodeURIComponent(O)}))}},{key:"handleStickyTooltip",value:function(o,l,u,f){var p=this.w,_=this.tooltipUtil.getNearestValues({context:this,hoverArea:f.hoverArea,elGrid:f.elGrid,clientX:l,clientY:u}),m=_.j,y=_.capturedSeries,w=f.elGrid.getBoundingClientRect();_.hoverX<0||_.hoverX>w.width?this.handleMouseOut(f):null!==y?this.handleStickyCapturedSeries(o,y,f,m):(this.tooltipUtil.isXoverlap(m)||p.globals.isBarHorizontal)&&this.create(o,this,0,m,f.ttItems)}},{key:"handleStickyCapturedSeries",value:function(o,l,u,f){var p=this.w;this.tConfig.shared||null!==p.globals.series[l][f]?void 0!==p.globals.series[l][f]?this.tConfig.shared&&this.tooltipUtil.isXoverlap(f)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(o,this,l,f,u.ttItems):this.create(o,this,l,f,u.ttItems,!1):this.tooltipUtil.isXoverlap(f)&&this.create(o,this,0,f,u.ttItems):this.handleMouseOut(u)}},{key:"deactivateHoverFilter",value:function(){for(var o=this.w,l=new Be(this.ctx),u=o.globals.dom.Paper.select(".apexcharts-bar-area"),f=0;f<u.length;f++)l.pathMouseLeave(u[f])}},{key:"handleMouseOut",value:function(o){var l=this.w,u=this.getElXCrosshairs();if(o.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==l.config.chart.type&&this.marker.resetPointsSize(),null!==u&&u.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=l.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var f=0;f<this.yaxisTTEls.length;f++)this.yaxisTTEls[f].classList.remove("apexcharts-active")}l.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(p){var _=p.getAttribute("data:default-text");p.innerHTML=decodeURIComponent(_)})}},{key:"markerClick",value:function(o,l,u){var f=this.w;"function"==typeof f.config.chart.events.markerClick&&f.config.chart.events.markerClick(o,this.ctx,{seriesIndex:l,dataPointIndex:u,w:f}),this.ctx.events.fireEvent("markerClick",[o,this.ctx,{seriesIndex:l,dataPointIndex:u,w:f}])}},{key:"create",value:function(o,l,u,f,p){var _=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,m=this.w,y=l;"mouseup"===o.type&&this.markerClick(o,u,f),null===_&&(_=this.tConfig.shared);var w=this.tooltipUtil.hasMarkers(),S=this.tooltipUtil.getElBars();if(m.config.legend.tooltipHoverFormatter){var M=m.config.legend.tooltipHoverFormatter,T=Array.from(this.legendLabels);T.forEach(function(k){var B=k.getAttribute("data:default-text");k.innerHTML=decodeURIComponent(B)});for(var R=0;R<T.length;R++){var O=T[R],L=parseInt(O.getAttribute("i"),10),H=decodeURIComponent(O.getAttribute("data:default-text")),z=M(H,{seriesIndex:_?L:u,dataPointIndex:f,w:m});if(_)O.innerHTML=m.globals.collapsedSeriesIndices.indexOf(L)<0?z:H;else if(O.innerHTML=L===u?z:H,u===L)break}}if(_){if(y.tooltipLabels.drawSeriesTexts({ttItems:p,i:u,j:f,shared:!this.showOnIntersect&&this.tConfig.shared}),w&&(m.globals.markers.largestSize>0?y.marker.enlargePoints(f):y.tooltipPosition.moveDynamicPointsOnHover(f)),this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(S),this.barSeriesHeight>0)){var Y=new Be(this.ctx),X=m.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(f,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(f);for(var x=0;x<X.length;x++)Y.pathMouseEnter(X[x])}}else y.tooltipLabels.drawSeriesTexts({shared:!1,ttItems:p,i:u,j:f}),this.tooltipUtil.hasBars()&&y.tooltipPosition.moveStickyTooltipOverBars(f),w&&y.tooltipPosition.moveMarkers(u,f)}}]),U}(),Mh=function(U){Gs(l,za);var o=Il(l);function l(){return Ie(this,l),o.apply(this,arguments)}return nt(l,[{key:"draw",value:function(u,f){var p=this,_=this.w;this.graphics=new Be(this.ctx),this.bar=new za(this.ctx,this.xyRatios);var m=new hn(this.ctx,_);u=m.getLogSeries(u),this.yRatio=m.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u),"100%"===_.config.chart.stackType&&(u=_.globals.seriesPercent.slice()),this.series=u,this.totalItems=0,this.prevY=[],this.prevX=[],this.prevYF=[],this.prevXF=[],this.prevYVal=[],this.prevXVal=[],this.xArrj=[],this.xArrjF=[],this.xArrjVal=[],this.yArrj=[],this.yArrjF=[],this.yArrjVal=[];for(var y=0;y<u.length;y++)u[y].length>0&&(this.totalItems+=u[y].length);for(var w=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),S=0,M=0,T=function(L,H){var z=void 0,Y=void 0,X=void 0,x=void 0,k=[],B=[],W=_.globals.comboCharts?f[L]:L;p.yRatio.length>1&&(p.yaxisIndex=W),p.isReversed=_.config.yaxis[p.yaxisIndex]&&_.config.yaxis[p.yaxisIndex].reversed;var K=p.graphics.group({class:"apexcharts-series",seriesName:fe.escapeString(_.globals.seriesNames[W]),rel:L+1,"data:realIndex":W});p.ctx.series.addCollapsedClassToSeries(K,W);var ve=p.graphics.group({class:"apexcharts-datalabels","data:realIndex":W}),te=0,Ee=0,Le=p.initialPositions(S,M,z,Y,X,x);M=Le.y,te=Le.barHeight,Y=Le.yDivision,x=Le.zeroW,S=Le.x,Ee=Le.barWidth,z=Le.xDivision,X=Le.zeroH,p.yArrj=[],p.yArrjF=[],p.yArrjVal=[],p.xArrj=[],p.xArrjF=[],p.xArrjVal=[],1===p.prevY.length&&p.prevY[0].every(function(fs){return isNaN(fs)})&&(p.prevY[0]=p.prevY[0].map(function(fs){return X}),p.prevYF[0]=p.prevYF[0].map(function(fs){return 0}));for(var $e=0;$e<_.globals.dataPoints;$e++){var Tt=p.barHelpers.getStrokeWidth(L,$e,W),Ii={indexes:{i:L,j:$e,realIndex:W,bc:H},strokeWidth:Tt,x:S,y:M,elSeries:K},Zt=null;p.isHorizontal?(Zt=p.drawStackedBarPaths(Gt(Gt({},Ii),{},{zeroW:x,barHeight:te,yDivision:Y})),Ee=p.series[L][$e]/p.invertedYRatio):(Zt=p.drawStackedColumnPaths(Gt(Gt({},Ii),{},{xDivision:z,barWidth:Ee,zeroH:X})),te=p.series[L][$e]/p.yRatio[p.yaxisIndex]),M=Zt.y,k.push(S=Zt.x),B.push(M);var ls=p.barHelpers.getPathFillColor(u,L,$e,W);K=p.renderSeries({realIndex:W,pathFill:ls,j:$e,i:L,pathFrom:Zt.pathFrom,pathTo:Zt.pathTo,strokeWidth:Tt,elSeries:K,x:S,y:M,series:u,barHeight:te,barWidth:Ee,elDataLabelsWrap:ve,type:"bar",visibleSeries:0})}_.globals.seriesXvalues[W]=k,_.globals.seriesYvalues[W]=B,p.prevY.push(p.yArrj),p.prevYF.push(p.yArrjF),p.prevYVal.push(p.yArrjVal),p.prevX.push(p.xArrj),p.prevXF.push(p.xArrjF),p.prevXVal.push(p.xArrjVal),w.add(K)},R=0,O=0;R<u.length;R++,O++)T(R,O);return w}},{key:"initialPositions",value:function(u,f,p,_,m,y){var w,S,M=this.w;return this.isHorizontal?(w=(w=_=M.globals.gridHeight/M.globals.dataPoints)*parseInt(M.config.plotOptions.bar.barHeight,10)/100,y=this.baseLineInvertedY+M.globals.padHorizontal+(this.isReversed?M.globals.gridWidth:0)-(this.isReversed?2*this.baseLineInvertedY:0),f=(_-w)/2):(S=p=M.globals.gridWidth/M.globals.dataPoints,S=M.globals.isXNumeric&&M.globals.dataPoints>1?(p=M.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:S*parseInt(M.config.plotOptions.bar.columnWidth,10)/100,m=this.baseLineY[this.yaxisIndex]+(this.isReversed?M.globals.gridHeight:0)-(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),u=M.globals.padHorizontal+(p-S)/2),{x:u,y:f,yDivision:_,xDivision:p,barHeight:w,barWidth:S,zeroH:m,zeroW:y}}},{key:"drawStackedBarPaths",value:function(u){for(var f,w,p=u.indexes,_=u.barHeight,m=u.strokeWidth,y=u.zeroW,S=u.y,M=u.yDivision,T=u.elSeries,R=this.w,O=S,L=p.i,H=p.j,z=0,Y=0;Y<this.prevXF.length;Y++)z+=this.prevXF[Y][H];if(L>0){var X=y;this.prevXVal[L-1][H]<0?X=this.series[L][H]>=0?this.prevX[L-1][H]+z-2*(this.isReversed?z:0):this.prevX[L-1][H]:this.prevXVal[L-1][H]>=0&&(X=this.series[L][H]>=0?this.prevX[L-1][H]:this.prevX[L-1][H]-z+2*(this.isReversed?z:0)),f=X}else f=y;var x=this.barHelpers.getBarpaths({barYPosition:O,barHeight:_,x1:f,x2:w=null===this.series[L][H]?f:f+this.series[L][H]/this.invertedYRatio-2*(this.isReversed?this.series[L][H]/this.invertedYRatio:0),strokeWidth:m,series:this.series,realIndex:p.realIndex,i:L,j:H,w:R});return this.barHelpers.barBackground({j:H,i:L,y1:O,y2:_,elSeries:T}),{pathTo:x.pathTo,pathFrom:x.pathFrom,x:w,y:S+=M}}},{key:"drawStackedColumnPaths",value:function(u){var _,f=u.indexes,p=u.x,m=u.xDivision,y=u.barWidth,w=u.zeroH,S=u.elSeries,M=this.w,T=f.i,R=f.j,O=f.bc;if(M.globals.isXNumeric){var L=M.globals.seriesX[T][R];L||(L=0),p=(L-M.globals.minX)/this.xRatio-y/2}for(var H,z=p,Y=0,X=0;X<this.prevYF.length;X++)Y+=isNaN(this.prevYF[X][R])?0:this.prevYF[X][R];if(T>0&&!M.globals.isXNumeric||T>0&&M.globals.isXNumeric&&M.globals.seriesX[T-1][R]===M.globals.seriesX[T][R]){var x,k,B=Math.min(this.yRatio.length+1,T+1);if(void 0!==this.prevY[T-1])for(var W=1;W<B;W++)if(!isNaN(this.prevY[T-W][R])){k=this.prevY[T-W][R];break}for(var K=1;K<B;K++){if(this.prevYVal[T-K][R]<0){x=this.series[T][R]>=0?k-Y+2*(this.isReversed?Y:0):k;break}if(this.prevYVal[T-K][R]>=0){x=this.series[T][R]>=0?k:k+Y-2*(this.isReversed?Y:0);break}}void 0===x&&(x=M.globals.gridHeight),H=this.prevYF[0].every(function(te){return 0===te})&&this.prevYF.slice(1,T).every(function(te){return te.every(function(Ee){return isNaN(Ee)})})?M.globals.gridHeight-w:x}else H=M.globals.gridHeight-w;var ve=this.barHelpers.getColumnPaths({barXPosition:z,barWidth:y,y1:H,y2:_=H-this.series[T][R]/this.yRatio[this.yaxisIndex]+2*(this.isReversed?this.series[T][R]/this.yRatio[this.yaxisIndex]:0),yRatio:this.yRatio[this.yaxisIndex],strokeWidth:this.strokeWidth,series:this.series,realIndex:f.realIndex,i:T,j:R,w:M});return this.barHelpers.barBackground({bc:O,j:R,i:T,x1:z,x2:y,elSeries:S}),p+=m,{pathTo:ve.pathTo,pathFrom:ve.pathFrom,x:M.globals.isXNumeric?p-m:p,y:_}}}]),l}(),os=function(U){Gs(l,za);var o=Il(l);function l(){return Ie(this,l),o.apply(this,arguments)}return nt(l,[{key:"draw",value:function(u,f){var p=this,_=this.w,m=new Be(this.ctx),y=new Jt(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=_.config.plotOptions.bar.horizontal;var w=new hn(this.ctx,_);u=w.getLogSeries(u),this.series=u,this.yRatio=w.getLogYRatios(this.yRatio),this.barHelpers.initVariables(u);for(var S=m.group({class:"apexcharts-".concat(_.config.chart.type,"-series apexcharts-plot-series")}),M=function(R){p.isBoxPlot="boxPlot"===_.config.chart.type||"boxPlot"===_.config.series[R].type;var O,L,H,z,K,ve,Y=void 0,X=void 0,x=[],k=[],B=_.globals.comboCharts?f[R]:R,W=m.group({class:"apexcharts-series",seriesName:fe.escapeString(_.globals.seriesNames[B]),rel:R+1,"data:realIndex":B});p.ctx.series.addCollapsedClassToSeries(W,B),u[R].length>0&&(p.visibleI=p.visibleI+1),p.yRatio.length>1&&(p.yaxisIndex=B);var te=p.barHelpers.initialPositions();X=te.y,K=te.barHeight,L=te.yDivision,z=te.zeroW,O=te.xDivision,H=te.zeroH,k.push((Y=te.x)+(ve=te.barWidth)/2);for(var Ee=m.group({class:"apexcharts-datalabels","data:realIndex":B}),Le=function(Tt){var Ii=p.barHelpers.getStrokeWidth(R,Tt,B),Zt=null,ls={indexes:{i:R,j:Tt,realIndex:B},x:Y,y:X,strokeWidth:Ii,elSeries:W};Zt=p.isHorizontal?p.drawHorizontalBoxPaths(Gt(Gt({},ls),{},{yDivision:L,barHeight:K,zeroW:z})):p.drawVerticalBoxPaths(Gt(Gt({},ls),{},{xDivision:O,barWidth:ve,zeroH:H})),X=Zt.y,Y=Zt.x,Tt>0&&k.push(Y+ve/2),x.push(X),Zt.pathTo.forEach(function(fs,dr){var Kn=!p.isBoxPlot&&p.candlestickOptions.wick.useFillColor?Zt.color[dr]:_.globals.stroke.colors[R],Vo=y.fillPath({seriesNumber:B,dataPointIndex:Tt,color:Zt.color[dr],value:u[R][Tt]});p.renderSeries({realIndex:B,pathFill:Vo,lineFill:Kn,j:Tt,i:R,pathFrom:Zt.pathFrom,pathTo:fs,strokeWidth:Ii,elSeries:W,x:Y,y:X,series:u,barHeight:K,barWidth:ve,elDataLabelsWrap:Ee,visibleSeries:p.visibleI,type:_.config.chart.type})})},$e=0;$e<_.globals.dataPoints;$e++)Le($e);_.globals.seriesXvalues[B]=k,_.globals.seriesYvalues[B]=x,S.add(W)},T=0;T<u.length;T++)M(T);return S}},{key:"drawVerticalBoxPaths",value:function(u){var f=u.indexes,p=u.x,_=u.xDivision,m=u.barWidth,y=u.zeroH,w=u.strokeWidth,S=this.w,M=new Be(this.ctx),T=f.i,R=f.j,O=!0,L=S.config.plotOptions.candlestick.colors.upward,H=S.config.plotOptions.candlestick.colors.downward,z="";this.isBoxPlot&&(z=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var Y=this.yRatio[this.yaxisIndex],X=f.realIndex,x=this.getOHLCValue(X,R),k=y,B=y;x.o>x.c&&(O=!1);var W=Math.min(x.o,x.c),K=Math.max(x.o,x.c),ve=x.m;S.globals.isXNumeric&&(p=(S.globals.seriesX[X][R]-S.globals.minX)/this.xRatio-m/2);var te=p+m*this.visibleI;null==this.series[T][R]?(W=y,K=y):(W=y-W/Y,K=y-K/Y,k=y-x.h/Y,B=y-x.l/Y,ve=y-x.m/Y);var Ee=M.move(te,y),Le=M.move(te+m/2,W);return S.globals.previousPaths.length>0&&(Le=this.getPreviousPath(X,R,!0)),Ee=this.isBoxPlot?[M.move(te,W)+M.line(te+m/2,W)+M.line(te+m/2,k)+M.line(te+m/4,k)+M.line(te+m-m/4,k)+M.line(te+m/2,k)+M.line(te+m/2,W)+M.line(te+m,W)+M.line(te+m,ve)+M.line(te,ve)+M.line(te,W+w/2),M.move(te,ve)+M.line(te+m,ve)+M.line(te+m,K)+M.line(te+m/2,K)+M.line(te+m/2,B)+M.line(te+m-m/4,B)+M.line(te+m/4,B)+M.line(te+m/2,B)+M.line(te+m/2,K)+M.line(te,K)+M.line(te,ve)+"z"]:[M.move(te,K)+M.line(te+m/2,K)+M.line(te+m/2,k)+M.line(te+m/2,K)+M.line(te+m,K)+M.line(te+m,W)+M.line(te+m/2,W)+M.line(te+m/2,B)+M.line(te+m/2,W)+M.line(te,W)+M.line(te,K-w/2)],Le+=M.move(te,W),S.globals.isXNumeric||(p+=_),{pathTo:Ee,pathFrom:Le,x:p,y:K,barXPosition:te,color:this.isBoxPlot?z:O?[L]:[H]}}},{key:"drawHorizontalBoxPaths",value:function(u){var f=u.indexes,p=u.y,_=u.yDivision,m=u.barHeight,y=u.zeroW,w=u.strokeWidth,S=this.w,M=new Be(this.ctx),T=f.i,R=f.j,O=this.boxOptions.colors.lower;this.isBoxPlot&&(O=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var L=this.invertedYRatio,H=f.realIndex,z=this.getOHLCValue(H,R),Y=y,X=y,x=Math.min(z.o,z.c),k=Math.max(z.o,z.c),B=z.m;S.globals.isXNumeric&&(p=(S.globals.seriesX[H][R]-S.globals.minX)/this.invertedXRatio-m/2);var W=p+m*this.visibleI;null==this.series[T][R]?(x=y,k=y):(x=y+x/L,k=y+k/L,Y=y+z.h/L,X=y+z.l/L,B=y+z.m/L);var K=M.move(y,W),ve=M.move(x,W+m/2);return S.globals.previousPaths.length>0&&(ve=this.getPreviousPath(H,R,!0)),K=[M.move(x,W)+M.line(x,W+m/2)+M.line(Y,W+m/2)+M.line(Y,W+m/2-m/4)+M.line(Y,W+m/2+m/4)+M.line(Y,W+m/2)+M.line(x,W+m/2)+M.line(x,W+m)+M.line(B,W+m)+M.line(B,W)+M.line(x+w/2,W),M.move(B,W)+M.line(B,W+m)+M.line(k,W+m)+M.line(k,W+m/2)+M.line(X,W+m/2)+M.line(X,W+m-m/4)+M.line(X,W+m/4)+M.line(X,W+m/2)+M.line(k,W+m/2)+M.line(k,W)+M.line(B,W)+"z"],ve+=M.move(x,W),S.globals.isXNumeric||(p+=_),{pathTo:K,pathFrom:ve,x:k,y:p,barYPosition:W,color:O}}},{key:"getOHLCValue",value:function(u,f){var p=this.w;return{o:this.isBoxPlot?p.globals.seriesCandleH[u][f]:p.globals.seriesCandleO[u][f],h:this.isBoxPlot?p.globals.seriesCandleO[u][f]:p.globals.seriesCandleH[u][f],m:p.globals.seriesCandleM[u][f],l:this.isBoxPlot?p.globals.seriesCandleC[u][f]:p.globals.seriesCandleL[u][f],c:this.isBoxPlot?p.globals.seriesCandleL[u][f]:p.globals.seriesCandleC[u][f]}}}]),l}(),pg=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"checkColorRange",value:function(){var o=this.w,l=!1,u=o.config.plotOptions[o.config.chart.type];return u.colorScale.ranges.length>0&&u.colorScale.ranges.map(function(f,p){f.from<=0&&(l=!0)}),l}},{key:"getShadeColor",value:function(o,l,u,f){var p=this.w,_=1,m=p.config.plotOptions[o].shadeIntensity,y=this.determineColor(o,l,u);p.globals.hasNegs||f?_=p.config.plotOptions[o].reverseNegativeShade?y.percent<0?y.percent/100*(1.25*m):1.25*m*(1-y.percent/100):y.percent<=0?1-(1+y.percent/100)*m:(1-y.percent/100)*m:(_=1-y.percent/100,"treemap"===o&&(_=1.25*m*(1-y.percent/100)));var w=y.color,S=new fe;return p.config.plotOptions[o].enableShades&&(w=fe.hexToRgba(S.shadeColor("dark"===this.w.config.theme.mode?-1*_:_,y.color),p.config.fill.opacity)),{color:w,colorProps:y}}},{key:"determineColor",value:function(o,l,u){var f=this.w,p=f.globals.series[l][u],_=f.config.plotOptions[o],m=_.colorScale.inverse?u:l;_.distributed&&"treemap"===f.config.chart.type&&(m=u);var y=f.globals.colors[m],w=null,S=Math.min.apply(Math,Us(f.globals.series[l])),M=Math.max.apply(Math,Us(f.globals.series[l]));_.distributed||"heatmap"!==o||(S=f.globals.minY,M=f.globals.maxY),void 0!==_.colorScale.min&&(S=_.colorScale.min<f.globals.minY?_.colorScale.min:f.globals.minY,M=_.colorScale.max>f.globals.maxY?_.colorScale.max:f.globals.maxY);var T=Math.abs(M)+Math.abs(S),R=100*p/(0===T?T-1e-6:T);return _.colorScale.ranges.length>0&&_.colorScale.ranges.map(function(O,L){if(p>=O.from&&p<=O.to){y=O.color,w=O.foreColor?O.foreColor:null,S=O.from,M=O.to;var H=Math.abs(M)+Math.abs(S);R=100*p/(0===H?H-1e-6:H)}}),{color:y,foreColor:w,percent:R}}},{key:"calculateDataLabels",value:function(o){var l=o.text,u=o.x,f=o.y,p=o.i,_=o.j,m=o.colorProps,y=o.fontSize,w=this.w.config.dataLabels,S=new Be(this.ctx),M=new No(this.ctx),T=null;if(w.enabled){T=S.group({class:"apexcharts-data-labels"});var O=w.offsetY,L=u+w.offsetX,H=f+parseFloat(w.style.fontSize)/3+O;M.plotDataLabelsText({x:L,y:H,text:l,i:p,j:_,color:m.foreColor,parent:T,fontSize:y,dataLabelsConfig:w})}return T}},{key:"addListeners",value:function(o){var l=new Be(this.ctx);o.node.addEventListener("mouseenter",l.pathMouseEnter.bind(this,o)),o.node.addEventListener("mouseleave",l.pathMouseLeave.bind(this,o)),o.node.addEventListener("mousedown",l.pathMouseDown.bind(this,o))}}]),U}(),fb=function(){function U(o,l){Ie(this,U),this.ctx=o,this.w=o.w,this.xRatio=l.xRatio,this.yRatio=l.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new pg(o),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return nt(U,[{key:"draw",value:function(o){var l=this.w,u=new Be(this.ctx),f=u.group({class:"apexcharts-heatmap"});f.attr("clip-path","url(#gridRectMask".concat(l.globals.cuid,")"));var p=l.globals.gridWidth/l.globals.dataPoints,_=l.globals.gridHeight/l.globals.series.length,m=0,y=!1;this.negRange=this.helpers.checkColorRange();var w=o.slice();l.config.yaxis[0].reversed&&(y=!0,w.reverse());for(var S=y?0:w.length-1;y?S<w.length:S>=0;y?S++:S--){var M=u.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:fe.escapeString(l.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});if(this.ctx.series.addCollapsedClassToSeries(M,S),l.config.chart.dropShadow.enabled){var T=l.config.chart.dropShadow;new An(this.ctx).dropShadow(M,T,S)}for(var R=0,O=l.config.plotOptions.heatmap.shadeIntensity,L=0;L<w[S].length;L++){var H=this.helpers.getShadeColor(l.config.chart.type,S,L,this.negRange),z=H.color,Y=H.colorProps;"image"===l.config.fill.type&&(z=new Jt(this.ctx).fillPath({seriesNumber:S,dataPointIndex:L,opacity:l.globals.hasNegs?Y.percent<0?1-(1+Y.percent/100):O+Y.percent/100:Y.percent/100,patternID:fe.randomId(),width:l.config.fill.image.width?l.config.fill.image.width:p,height:l.config.fill.image.height?l.config.fill.image.height:_}));var x=u.drawRect(R,m,p,_,this.rectRadius);if(x.attr({cx:R,cy:m}),x.node.classList.add("apexcharts-heatmap-rect"),M.add(x),x.attr({fill:z,i:S,index:S,j:L,val:w[S][L],"stroke-width":this.strokeWidth,stroke:l.config.plotOptions.heatmap.useFillColorAsStroke?z:l.globals.stroke.colors[0],color:z}),this.helpers.addListeners(x),l.config.chart.animations.enabled&&!l.globals.dataChanged){var k=1;l.globals.resized||(k=l.config.chart.animations.speed),this.animateHeatMap(x,R,m,p,_,k)}if(l.globals.dataChanged){var B=1;if(this.dynamicAnim.enabled&&l.globals.shouldAnimate){B=this.dynamicAnim.speed;var W=l.globals.previousPaths[S]&&l.globals.previousPaths[S][L]&&l.globals.previousPaths[S][L].color;W||(W="rgba(255, 255, 255, 0)"),this.animateHeatColor(x,fe.isColorHex(W)?W:fe.rgb2hex(W),fe.isColorHex(z)?z:fe.rgb2hex(z),B)}}var K=(0,l.config.dataLabels.formatter)(l.globals.series[S][L],{value:l.globals.series[S][L],seriesIndex:S,dataPointIndex:L,w:l}),ve=this.helpers.calculateDataLabels({text:K,x:R+p/2,y:m+_/2,i:S,j:L,colorProps:Y,series:w});null!==ve&&M.add(ve),R+=p}m+=_,f.add(M)}var te=l.globals.yAxisScale[0].result.slice();return l.config.yaxis[0].reversed?te.unshift(""):te.push(""),l.globals.yAxisScale[0].result=te,l.config.yaxis[0].labels.offsetY=-l.globals.gridHeight/l.globals.series.length/2,f}},{key:"animateHeatMap",value:function(o,l,u,f,p,_){var m=new Lo(this.ctx);m.animateRect(o,{x:l+f/2,y:u+p/2,width:0,height:0},{x:l,y:u,width:f,height:p},_,function(){m.animationCompleted(o)})}},{key:"animateHeatColor",value:function(o,l,u,f){o.attr({fill:l}).animate(f).attr({fill:u})}}]),U}(),gg=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"drawYAxisTexts",value:function(o,l,u,f){var p=this.w,_=p.config.yaxis[0],m=p.globals.yLabelFormatters[0];return new Be(this.ctx).drawText({x:o+_.labels.offsetX,y:l+_.labels.offsetY,text:m(f,u),textAnchor:"middle",fontSize:_.labels.style.fontSize,fontFamily:_.labels.style.fontFamily,foreColor:Array.isArray(_.labels.style.colors)?_.labels.style.colors[u]:_.labels.style.colors})}}]),U}(),mg=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w;var l=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=Math.min(l.globals.gridWidth,l.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=l.globals.gridWidth/2,this.fullAngle="radialBar"===l.config.chart.type?360:Math.abs(l.config.plotOptions.pie.endAngle-l.config.plotOptions.pie.startAngle),this.initialAngle=l.config.plotOptions.pie.startAngle%this.fullAngle,l.globals.radialSize=this.defaultSize/2.05-l.config.stroke.width-(l.config.chart.sparkline.enabled?0:l.config.chart.dropShadow.blur),this.donutSize=l.globals.radialSize*parseInt(l.config.plotOptions.pie.donut.size,10)/100,this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return nt(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new Be(this.ctx);if(this.ret=f.group({class:"apexcharts-pie"}),u.globals.noData)return this.ret;for(var p=0,_=0;_<o.length;_++)p+=fe.negToZero(o[_]);var m=[],y=f.group();0===p&&(p=1e-5),o.forEach(function(W){l.maxY=Math.max(l.maxY,W)}),u.config.yaxis[0].max&&(this.maxY=u.config.yaxis[0].max),"back"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret);for(var w=0;w<o.length;w++){var S=this.fullAngle*fe.negToZero(o[w])/p;m.push(S),"polarArea"===this.chartType?(m[w]=this.fullAngle/o.length,this.sliceSizes.push(u.globals.radialSize*o[w]/this.maxY)):this.sliceSizes.push(u.globals.radialSize)}if(u.globals.dataChanged){for(var M,T=0,R=0;R<u.globals.previousPaths.length;R++)T+=fe.negToZero(u.globals.previousPaths[R]);for(var O=0;O<u.globals.previousPaths.length;O++)M=this.fullAngle*fe.negToZero(u.globals.previousPaths[O])/T,this.prevSectorAngleArr.push(M)}this.donutSize<0&&(this.donutSize=0);var L=u.config.plotOptions.pie.customScale,Y=u.globals.gridWidth/2-u.globals.gridWidth/2*L,X=u.globals.gridHeight/2-u.globals.gridHeight/2*L;if("donut"===this.chartType){var x=f.drawCircle(this.donutSize);x.attr({cx:this.centerX,cy:this.centerY,fill:u.config.plotOptions.pie.donut.background?u.config.plotOptions.pie.donut.background:"transparent"}),y.add(x)}var k=this.drawArcs(m,o);if(this.sliceLabels.forEach(function(W){k.add(W)}),y.attr({transform:"translate(".concat(Y,", ").concat(X,") scale(").concat(L,")")}),y.add(k),this.ret.add(y),this.donutDataLabels.show){var B=this.renderInnerDataLabels(this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show,translateX:Y,translateY:X});this.ret.add(B)}return"front"===u.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(this.ret),this.ret}},{key:"drawArcs",value:function(o,l){var u=this.w,f=new An(this.ctx),p=new Be(this.ctx),_=new Jt(this.ctx),m=p.group({class:"apexcharts-slices"}),y=this.initialAngle,w=this.initialAngle,S=this.initialAngle,M=this.initialAngle;this.strokeWidth=u.config.stroke.show?u.config.stroke.width:0;for(var T=0;T<o.length;T++){var R=p.group({class:"apexcharts-series apexcharts-pie-series",seriesName:fe.escapeString(u.globals.seriesNames[T]),rel:T+1,"data:realIndex":T});m.add(R),S=(y=S)+o[T],M=(w=M)+this.prevSectorAngleArr[T];var O=S<y?this.fullAngle+S-y:S-y,L=_.fillPath({seriesNumber:T,size:this.sliceSizes[T],value:l[T]}),H=this.getChangedPath(w,M),z=p.drawPath({d:H,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[T]:this.lineColorArr,strokeWidth:0,fill:L,fillOpacity:u.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(T)});z.attr({index:0,j:T}),f.setSelectionFilter(z,0,T),u.config.chart.dropShadow.enabled&&f.dropShadow(z,u.config.chart.dropShadow,T),this.addListeners(z,this.donutDataLabels),Be.setAttrs(z.node,{"data:angle":O,"data:startAngle":y,"data:strokeWidth":this.strokeWidth,"data:value":l[T]});var X={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?X=fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize/1.25+u.config.plotOptions.pie.dataLabels.offset,(y+O/2)%this.fullAngle):"donut"===this.chartType&&(X=fe.polarToCartesian(this.centerX,this.centerY,(u.globals.radialSize+this.donutSize)/2+u.config.plotOptions.pie.dataLabels.offset,(y+O/2)%this.fullAngle)),R.add(z);var x=0;if(!this.initialAnim||u.globals.resized||u.globals.dataChanged?this.animBeginArr.push(0):(0==(x=O/this.fullAngle*u.config.chart.animations.speed)&&(x=1),this.animDur=x+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(z,this.dynamicAnim&&u.globals.dataChanged?{size:this.sliceSizes[T],endAngle:S,startAngle:y,prevStartAngle:w,prevEndAngle:M,animateStartingPos:!0,i:T,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:u.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[T],endAngle:S,startAngle:y,i:T,totalItems:o.length-1,animBeginArr:this.animBeginArr,dur:x}),u.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&z.click(this.pieClicked.bind(this,T)),void 0!==u.globals.selectedDataPoints[0]&&u.globals.selectedDataPoints[0].indexOf(T)>-1&&this.pieClicked(T),u.config.dataLabels.enabled){var k=X.x,B=X.y,W=100*O/this.fullAngle+"%";if(0!==O&&u.config.plotOptions.pie.dataLabels.minAngleToShowLabel<o[T]){var K=u.config.dataLabels.formatter;void 0!==K&&(W=K(u.globals.seriesPercent[T][0],{seriesIndex:T,w:u}));var ve=u.globals.dataLabels.style.colors[T],te=p.group({class:"apexcharts-datalabels"}),Ee=p.drawText({x:k,y:B,text:W,textAnchor:"middle",fontSize:u.config.dataLabels.style.fontSize,fontFamily:u.config.dataLabels.style.fontFamily,fontWeight:u.config.dataLabels.style.fontWeight,foreColor:ve});te.add(Ee),u.config.dataLabels.dropShadow.enabled&&f.dropShadow(Ee,u.config.dataLabels.dropShadow),Ee.node.classList.add("apexcharts-pie-label"),u.config.chart.animations.animate&&!1===u.globals.resized&&(Ee.node.classList.add("apexcharts-pie-label-delay"),Ee.node.style.animationDelay=u.config.chart.animations.speed/940+"s"),this.sliceLabels.push(te)}}}return m}},{key:"addListeners",value:function(o,l){var u=new Be(this.ctx);o.node.addEventListener("mouseenter",u.pathMouseEnter.bind(this,o)),o.node.addEventListener("mouseleave",u.pathMouseLeave.bind(this,o)),o.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,o.node,l)),o.node.addEventListener("mousedown",u.pathMouseDown.bind(this,o)),this.donutDataLabels.total.showAlways||(o.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,o.node,l)),o.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,o.node,l)))}},{key:"animatePaths",value:function(o,l){var f=l.endAngle<l.startAngle?this.fullAngle+l.endAngle-l.startAngle:l.endAngle-l.startAngle,p=f,_=l.startAngle,m=l.startAngle;void 0!==l.prevStartAngle&&void 0!==l.prevEndAngle&&(_=l.prevEndAngle,p=l.prevEndAngle<l.prevStartAngle?this.fullAngle+l.prevEndAngle-l.prevStartAngle:l.prevEndAngle-l.prevStartAngle),l.i===this.w.config.series.length-1&&(f+m>this.fullAngle?l.endAngle=l.endAngle-(f+m):f+m<this.fullAngle&&(l.endAngle=l.endAngle+(this.fullAngle-(f+m)))),f===this.fullAngle&&(f=this.fullAngle-.01),this.animateArc(o,_,m,f,p,l)}},{key:"animateArc",value:function(o,l,u,f,p,_){var m,y=this,w=this.w,S=new Lo(this.ctx),M=_.size;(isNaN(l)||isNaN(p))&&(l=u,p=f,_.dur=0);var T=f,R=u,O=l<u?this.fullAngle+l-u:l-u;w.globals.dataChanged&&_.shouldSetPrevPaths&&_.prevEndAngle&&(m=y.getPiePath({me:y,startAngle:_.prevStartAngle,angle:_.prevEndAngle<_.prevStartAngle?this.fullAngle+_.prevEndAngle-_.prevStartAngle:_.prevEndAngle-_.prevStartAngle,size:M}),o.attr({d:m})),0!==_.dur?o.animate(_.dur,w.globals.easing,_.animBeginArr[_.i]).afterAll(function(){"pie"!==y.chartType&&"donut"!==y.chartType&&"polarArea"!==y.chartType||this.animate(w.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":y.strokeWidth}),_.i===w.config.series.length-1&&S.animationCompleted(o)}).during(function(L){T=O+(f-O)*L,_.animateStartingPos&&(T=p+(f-p)*L,R=l-p+(u-(l-p))*L),m=y.getPiePath({me:y,startAngle:R,angle:T,size:M}),o.node.setAttribute("data:pathOrig",m),o.attr({d:m})}):(m=y.getPiePath({me:y,startAngle:R,angle:f,size:M}),_.isTrack||(w.globals.animationEnded=!0),o.node.setAttribute("data:pathOrig",m),o.attr({d:m,"stroke-width":y.strokeWidth}))}},{key:"pieClicked",value:function(o){var l,u=this.w,f=this,p=f.sliceSizes[o]+(u.config.plotOptions.pie.expandOnClick?4:0),_=u.globals.dom.Paper.select(".apexcharts-".concat(f.chartType.toLowerCase(),"-slice-").concat(o)).members[0];if("true"!==_.attr("data:pieClicked")){var m=u.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(m,function(M){M.setAttribute("data:pieClicked","false");var T=M.getAttribute("data:pathOrig");M.setAttribute("d",T)}),_.attr("data:pieClicked","true");var y=parseInt(_.attr("data:startAngle"),10),w=parseInt(_.attr("data:angle"),10);l=f.getPiePath({me:f,startAngle:y,angle:w,size:p}),360!==w&&_.plot(l)}else{_.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(_.node,this.donutDataLabels);var S=_.attr("data:pathOrig");_.attr({d:S})}}},{key:"getChangedPath",value:function(o,l){var u="";return this.dynamicAnim&&this.w.globals.dataChanged&&(u=this.getPiePath({me:this,startAngle:o,angle:l-o,size:this.size})),u}},{key:"getPiePath",value:function(o){var l=o.me,u=o.startAngle,f=o.angle,p=o.size,_=u,m=Math.PI*(_-90)/180,y=f+u;Math.ceil(y)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(y=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(y)>this.fullAngle&&(y-=this.fullAngle);var w=Math.PI*(y-90)/180,S=l.centerX+p*Math.cos(m),M=l.centerY+p*Math.sin(m),T=l.centerX+p*Math.cos(w),R=l.centerY+p*Math.sin(w),O=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,y),L=fe.polarToCartesian(l.centerX,l.centerY,l.donutSize,_),H=f>180?1:0,z=["M",S,M,"A",p,p,0,H,1,T,R];return"donut"===l.chartType?[].concat(z,["L",O.x,O.y,"A",l.donutSize,l.donutSize,0,H,0,L.x,L.y,"L",S,M,"z"]).join(" "):"pie"===l.chartType||"polarArea"===l.chartType?[].concat(z,["L",l.centerX,l.centerY,"L",S,M]).join(" "):[].concat(z).join(" ")}},{key:"drawPolarElements",value:function(o){var l=this.w,u=new Ua(this.ctx),f=new Be(this.ctx),p=new gg(this.ctx),_=f.group(),m=f.group(),y=u.niceScale(0,Math.ceil(this.maxY),l.config.yaxis[0].tickAmount,0,!0),w=y.result.reverse(),S=y.result.length;this.maxY=y.niceMax;for(var M=l.globals.radialSize,T=M/(S-1),R=0;R<S-1;R++){var O=f.drawCircle(M);if(O.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":l.config.plotOptions.polarArea.rings.strokeWidth,stroke:l.config.plotOptions.polarArea.rings.strokeColor}),l.config.yaxis[0].show){var L=p.drawYAxisTexts(this.centerX,this.centerY-M+parseInt(l.config.yaxis[0].labels.style.fontSize,10)/2,R,w[R]);m.add(L)}_.add(O),M-=T}this.drawSpokes(o),o.add(_),o.add(m)}},{key:"renderInnerDataLabels",value:function(o,l){var u=this.w,f=new Be(this.ctx),p=f.group({class:"apexcharts-datalabels-group",transform:"translate(".concat(l.translateX?l.translateX:0,", ").concat(l.translateY?l.translateY:0,") scale(").concat(u.config.plotOptions.pie.customScale,")")}),_=o.total.show;p.node.style.opacity=l.opacity;var m,y,w=l.centerX,S=l.centerY;m=void 0===o.name.color?u.globals.colors[0]:o.name.color;var M=o.name.fontSize,T=o.name.fontFamily,R=o.name.fontWeight;y=void 0===o.value.color?u.config.chart.foreColor:o.value.color;var O=o.value.formatter,L="",H="";if(_?(m=o.total.color,M=o.total.fontSize,T=o.total.fontFamily,R=o.total.fontWeight,H=o.total.label,L=o.total.formatter(u)):1===u.globals.series.length&&(L=O(u.globals.series[0],u),H=u.globals.seriesNames[0]),H&&(H=o.name.formatter(H,o.total.show,u)),o.name.show){var z=f.drawText({x:w,y:S+parseFloat(o.name.offsetY),text:H,textAnchor:"middle",foreColor:m,fontSize:M,fontWeight:R,fontFamily:T});z.node.classList.add("apexcharts-datalabel-label"),p.add(z)}if(o.value.show){var Y=o.name.show?parseFloat(o.value.offsetY)+16:o.value.offsetY,X=f.drawText({x:w,y:S+Y,text:L,textAnchor:"middle",foreColor:y,fontWeight:o.value.fontWeight,fontSize:o.value.fontSize,fontFamily:o.value.fontFamily});X.node.classList.add("apexcharts-datalabel-value"),p.add(X)}return p}},{key:"printInnerLabels",value:function(o,l,u,f){var p,_=this.w;f?p=void 0===o.name.color?_.globals.colors[parseInt(f.parentNode.getAttribute("rel"),10)-1]:o.name.color:_.globals.series.length>1&&o.total.show&&(p=o.total.color);var m=_.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),y=_.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");u=(0,o.value.formatter)(u,_),f||"function"!=typeof o.total.formatter||(u=o.total.formatter(_)),l=o.name.formatter(l,l===o.total.label,_),null!==m&&(m.textContent=l),null!==y&&(y.textContent=u),null!==m&&(m.style.fill=p)}},{key:"printDataLabelsInner",value:function(o,l){var u=this.w,f=o.getAttribute("data:value"),p=u.globals.seriesNames[parseInt(o.parentNode.getAttribute("rel"),10)-1];u.globals.series.length>1&&this.printInnerLabels(l,p,f,o);var _=u.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==_&&(_.style.opacity=1)}},{key:"drawSpokes",value:function(o){var l=this,u=this.w,f=new Be(this.ctx),p=u.config.plotOptions.polarArea.spokes;if(0!==p.strokeWidth){for(var _=[],m=360/u.globals.series.length,y=0;y<u.globals.series.length;y++)_.push(fe.polarToCartesian(this.centerX,this.centerY,u.globals.radialSize,u.config.plotOptions.pie.startAngle+m*y));_.forEach(function(w,S){var M=f.drawLine(w.x,w.y,l.centerX,l.centerY,Array.isArray(p.connectorColors)?p.connectorColors[S]:p.connectorColors);o.add(M)})}}},{key:"revertDataLabelsInner",value:function(o,l,u){var f=this,p=this.w,_=p.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group"),m=!1,y=p.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area"),w=function(T){var R=T.makeSliceOut,O=T.printLabel;Array.prototype.forEach.call(y,function(L){"true"===L.getAttribute("data:pieClicked")&&(R&&(m=!0),O&&f.printDataLabelsInner(L,l))})};if(w({makeSliceOut:!0,printLabel:!1}),l.total.show&&p.globals.series.length>1)m&&!l.total.showAlways?w({makeSliceOut:!1,printLabel:!0}):this.printInnerLabels(l,l.total.label,l.total.formatter(p));else if(w({makeSliceOut:!1,printLabel:!0}),!m)if(p.globals.selectedDataPoints.length&&p.globals.series.length>1)if(p.globals.selectedDataPoints[0].length>0){var S=p.globals.selectedDataPoints[0],M=p.globals.dom.baseEl.querySelector(".apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(S));this.printDataLabelsInner(M,l)}else _&&p.globals.selectedDataPoints.length&&0===p.globals.selectedDataPoints[0].length&&(_.style.opacity=0);else _&&p.globals.series.length>1&&(_.style.opacity=0)}}]),U}(),_g=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var l=this.w;this.graphics=new Be(this.ctx),this.lineColorArr=void 0!==l.globals.stroke.colors?l.globals.stroke.colors:l.globals.colors,this.defaultSize=l.globals.svgHeight<l.globals.svgWidth?l.globals.gridHeight+1.5*l.globals.goldenPadding:l.globals.gridWidth,this.isLog=l.config.yaxis[0].logarithmic,this.coreUtils=new hn(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(l.globals.maxY,0):l.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.w.globals.minY,0):l.globals.minY,this.polygons=l.config.plotOptions.radar.polygons,this.strokeWidth=l.config.stroke.show?l.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-l.config.chart.dropShadow.blur,l.config.xaxis.labels.show&&(this.size=this.size-l.globals.xAxisLabelsWidth/1.75),void 0!==l.config.plotOptions.radar.size&&(this.size=l.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return nt(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new Jt(this.ctx),p=[],_=new No(this.ctx);o.length&&(this.dataPointsLen=o[u.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var S=u.globals.gridHeight/2+u.config.plotOptions.radar.offsetY,M=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(u.globals.gridWidth/2+u.config.plotOptions.radar.offsetX||0,", ").concat(S||0,")")}),T=[],R=null,O=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),o.forEach(function(H,z){var Y=H.length===u.globals.dataPoints,X=l.graphics.group().attr({class:"apexcharts-series","data:longestSeries":Y,seriesName:fe.escapeString(u.globals.seriesNames[z]),rel:z+1,"data:realIndex":z});l.dataRadiusOfPercent[z]=[],l.dataRadius[z]=[],l.angleArr[z]=[],H.forEach(function($e,Tt){var Ii=Math.abs(l.maxValue-l.minValue);$e+=Math.abs(l.minValue),l.isLog&&($e=l.coreUtils.getLogVal($e,0)),l.dataRadiusOfPercent[z][Tt]=$e/Ii,l.dataRadius[z][Tt]=l.dataRadiusOfPercent[z][Tt]*l.size,l.angleArr[z][Tt]=Tt*l.disAngle}),T=l.getDataPointsPos(l.dataRadius[z],l.angleArr[z]);var x=l.createPaths(T,{x:0,y:0});R=l.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),O=l.graphics.group({class:"apexcharts-datalabels","data:realIndex":z}),u.globals.delayedElements.push({el:R.node,index:z});var k={i:z,realIndex:z,animationDelay:z,initialSpeed:u.config.chart.animations.speed,dataChangeSpeed:u.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:u.globals.stroke.colors[z],strokeLineCap:u.config.stroke.lineCap},B=null;u.globals.previousPaths.length>0&&(B=l.getPreviousPath(z));for(var W=0;W<x.linePathsTo.length;W++){var K=l.graphics.renderPaths(Gt(Gt({},k),{},{pathFrom:null===B?x.linePathsFrom[W]:B,pathTo:x.linePathsTo[W],strokeWidth:Array.isArray(l.strokeWidth)?l.strokeWidth[z]:l.strokeWidth,fill:"none",drawShadow:!1}));X.add(K);var ve=f.fillPath({seriesNumber:z}),te=l.graphics.renderPaths(Gt(Gt({},k),{},{pathFrom:null===B?x.areaPathsFrom[W]:B,pathTo:x.areaPathsTo[W],strokeWidth:0,fill:ve,drawShadow:!1}));u.config.chart.dropShadow.enabled&&new An(l.ctx).dropShadow(te,Object.assign({},u.config.chart.dropShadow,{noUserSpaceOnUse:!0}),z),X.add(te)}H.forEach(function($e,Tt){var Ii=new Fo(l.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:z,dataPointIndex:Tt}),Zt=l.graphics.drawMarker(T[Tt].x,T[Tt].y,Ii);Zt.attr("rel",Tt),Zt.attr("j",Tt),Zt.attr("index",z),Zt.node.setAttribute("default-marker-size",Ii.pSize);var ls=l.graphics.group({class:"apexcharts-series-markers"});ls&&ls.add(Zt),R.add(ls),X.add(R);var fs=u.config.dataLabels;if(fs.enabled){var dr=fs.formatter(u.globals.series[z][Tt],{seriesIndex:z,dataPointIndex:Tt,w:u});_.plotDataLabelsText({x:T[Tt].x,y:T[Tt].y,text:dr,textAnchor:"middle",i:z,j:z,parent:O,offsetCorrection:!1,dataLabelsConfig:Gt({},fs)})}X.add(O)}),p.push(X)}),this.drawPolygons({parent:M}),u.config.xaxis.labels.show){var L=this.drawXAxisTexts();M.add(L)}return p.forEach(function(H){M.add(H)}),M.add(this.yaxisLabels),M}},{key:"drawPolygons",value:function(o){for(var l=this,u=this.w,f=o.parent,p=new gg(this.ctx),_=u.globals.yAxisScale[0].result.reverse(),m=_.length,y=[],w=this.size/(m-1),S=0;S<m;S++)y[S]=w*S;y.reverse();var M=[],T=[];y.forEach(function(R,O){var L=fe.getPolygonPos(R,l.dataPointsLen),H="";L.forEach(function(z,Y){if(0===O){var X=l.graphics.drawLine(z.x,z.y,0,0,Array.isArray(l.polygons.connectorColors)?l.polygons.connectorColors[Y]:l.polygons.connectorColors);T.push(X)}0===Y&&l.yaxisLabelsTextsPos.push({x:z.x,y:z.y}),H+=z.x+","+z.y+" "}),M.push(H)}),M.forEach(function(R,O){var L=l.polygons.strokeColors,H=l.polygons.strokeWidth,z=l.graphics.drawPolygon(R,Array.isArray(L)?L[O]:L,Array.isArray(H)?H[O]:H,u.globals.radarPolygons.fill.colors[O]);f.add(z)}),T.forEach(function(R){f.add(R)}),u.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(R,O){var L=p.drawYAxisTexts(R.x,R.y,O,_[O]);l.yaxisLabels.add(L)})}},{key:"drawXAxisTexts",value:function(){var o=this,l=this.w,u=l.config.xaxis.labels,f=this.graphics.group({class:"apexcharts-xaxis"}),p=fe.getPolygonPos(this.size,this.dataPointsLen);return l.globals.labels.forEach(function(_,m){var y=l.config.xaxis.labels.formatter,w=new No(o.ctx);if(p[m]){var S=o.getTextPos(p[m],o.size),M=y(_,{seriesIndex:-1,dataPointIndex:m,w:l});w.plotDataLabelsText({x:S.newX,y:S.newY,text:M,textAnchor:S.textAnchor,i:m,j:m,parent:f,color:Array.isArray(u.style.colors)&&u.style.colors[m]?u.style.colors[m]:"#a8a8a8",dataLabelsConfig:Gt({textAnchor:S.textAnchor,dropShadow:{enabled:!1}},u),offsetCorrection:!1})}}),f}},{key:"createPaths",value:function(o,l){var u=this,f=[],p=[],_=[],m=[];if(o.length){p=[this.graphics.move(l.x,l.y)],m=[this.graphics.move(l.x,l.y)];var y=this.graphics.move(o[0].x,o[0].y),w=this.graphics.move(o[0].x,o[0].y);o.forEach(function(S,M){y+=u.graphics.line(S.x,S.y),w+=u.graphics.line(S.x,S.y),M===o.length-1&&(y+="Z",w+="Z")}),f.push(y),_.push(w)}return{linePathsFrom:p,linePathsTo:f,areaPathsFrom:m,areaPathsTo:_}}},{key:"getTextPos",value:function(o,l){var u="middle",f=o.x,p=o.y;return Math.abs(o.x)>=10?o.x>0?(u="start",f+=10):o.x<0&&(u="end",f-=10):u="middle",Math.abs(o.y)>=l-10&&(o.y<0?p-=10:o.y>0&&(p+=10)),{textAnchor:u,newX:f,newY:p}}},{key:"getPreviousPath",value:function(o){for(var l=this.w,u=null,f=0;f<l.globals.previousPaths.length;f++){var p=l.globals.previousPaths[f];p.paths.length>0&&parseInt(p.realIndex,10)===parseInt(o,10)&&void 0!==l.globals.previousPaths[f].paths[0]&&(u=l.globals.previousPaths[f].paths[0].d)}return u}},{key:"getDataPointsPos",value:function(o,l){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;o=o||[],l=l||[];for(var f=[],p=0;p<u;p++){var _={};_.x=o[p]*Math.sin(l[p]),_.y=-o[p]*Math.cos(l[p]),f.push(_)}return f}}]),U}(),pb=function(U){Gs(l,mg);var o=Il(l);function l(u){var f;Ie(this,l),(f=o.call(this,u)).ctx=u,f.w=u.w,f.animBeginArr=[0],f.animDur=0;var p=f.w;return f.startAngle=p.config.plotOptions.radialBar.startAngle,f.endAngle=p.config.plotOptions.radialBar.endAngle,f.totalAngle=Math.abs(p.config.plotOptions.radialBar.endAngle-p.config.plotOptions.radialBar.startAngle),f.trackStartAngle=p.config.plotOptions.radialBar.track.startAngle,f.trackEndAngle=p.config.plotOptions.radialBar.track.endAngle,f.donutDataLabels=f.w.config.plotOptions.radialBar.dataLabels,f.radialDataLabels=f.donutDataLabels,f.trackStartAngle||(f.trackStartAngle=f.startAngle),f.trackEndAngle||(f.trackEndAngle=f.endAngle),360===f.endAngle&&(f.endAngle=359.99),f.margin=parseInt(p.config.plotOptions.radialBar.track.margin,10),f}return nt(l,[{key:"draw",value:function(u){var f=this.w,p=new Be(this.ctx),_=p.group({class:"apexcharts-radialbar"});if(f.globals.noData)return _;var m=p.group(),y=this.defaultSize/2,w=f.globals.gridWidth/2,S=this.defaultSize/2.05;f.config.chart.sparkline.enabled||(S=S-f.config.stroke.width-f.config.chart.dropShadow.blur);var M=f.globals.fill.colors;if(f.config.plotOptions.radialBar.track.show){var T=this.drawTracks({size:S,centerX:w,centerY:y,colorArr:M,series:u});m.add(T)}var R=this.drawArcs({size:S,centerX:w,centerY:y,colorArr:M,series:u}),O=360;f.config.plotOptions.radialBar.startAngle<0&&(O=this.totalAngle);var L=(360-O)/360;if(f.globals.radialSize=S-S*L,this.radialDataLabels.value.show){var H=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);f.globals.radialSize+=H*L}return m.add(R.g),"front"===f.config.plotOptions.radialBar.hollow.position&&(R.g.add(R.elHollow),R.dataLabels&&R.g.add(R.dataLabels)),_.add(m),_}},{key:"drawTracks",value:function(u){var f=this.w,p=new Be(this.ctx),_=p.group({class:"apexcharts-tracks"}),m=new An(this.ctx),y=new Jt(this.ctx),w=this.getStrokeWidth(u);u.size=u.size-w/2;for(var S=0;S<u.series.length;S++){var M=p.group({class:"apexcharts-radialbar-track apexcharts-track"});_.add(M),M.attr({rel:S+1}),u.size=u.size-w-this.margin;var T=f.config.plotOptions.radialBar.track,R=y.fillPath({seriesNumber:0,size:u.size,fillColors:Array.isArray(T.background)?T.background[S]:T.background,solid:!0}),O=this.trackStartAngle,L=this.trackEndAngle;Math.abs(L)+Math.abs(O)>=360&&(L=360-Math.abs(this.startAngle)-.1);var H=p.drawPath({d:"",stroke:R,strokeWidth:w*parseInt(T.strokeWidth,10)/100,fill:"none",strokeOpacity:T.opacity,classes:"apexcharts-radialbar-area"});T.dropShadow.enabled&&m.dropShadow(H,T.dropShadow),M.add(H),H.attr("id","apexcharts-radialbarTrack-"+S),this.animatePaths(H,{centerX:u.centerX,centerY:u.centerY,endAngle:L,startAngle:O,size:u.size,i:S,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:f.globals.easing})}return _}},{key:"drawArcs",value:function(u){var f=this.w,p=new Be(this.ctx),_=new Jt(this.ctx),m=new An(this.ctx),y=p.group(),w=this.getStrokeWidth(u);u.size=u.size-w/2;var S=f.config.plotOptions.radialBar.hollow.background,M=u.size-w*u.series.length-this.margin*u.series.length-w*parseInt(f.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,T=M-f.config.plotOptions.radialBar.hollow.margin;void 0!==f.config.plotOptions.radialBar.hollow.image&&(S=this.drawHollowImage(u,y,M,S));var R=this.drawHollow({size:T,centerX:u.centerX,centerY:u.centerY,fill:S||"transparent"});f.config.plotOptions.radialBar.hollow.dropShadow.enabled&&m.dropShadow(R,f.config.plotOptions.radialBar.hollow.dropShadow);var L=1;!this.radialDataLabels.total.show&&f.globals.series.length>1&&(L=0);var H=null;this.radialDataLabels.show&&(H=this.renderInnerDataLabels(this.radialDataLabels,{hollowSize:M,centerX:u.centerX,centerY:u.centerY,opacity:L})),"back"===f.config.plotOptions.radialBar.hollow.position&&(y.add(R),H&&y.add(H));var z=!1;f.config.plotOptions.radialBar.inverseOrder&&(z=!0);for(var Y=z?u.series.length-1:0;z?Y>=0:Y<u.series.length;z?Y--:Y++){var X=p.group({class:"apexcharts-series apexcharts-radial-series",seriesName:fe.escapeString(f.globals.seriesNames[Y])});y.add(X),X.attr({rel:Y+1,"data:realIndex":Y}),this.ctx.series.addCollapsedClassToSeries(X,Y),u.size=u.size-w-this.margin;var x=_.fillPath({seriesNumber:Y,size:u.size,value:u.series[Y]}),k=this.startAngle,B=void 0,W=fe.negToZero(u.series[Y]>100?100:u.series[Y])/100,K=Math.round(this.totalAngle*W)+this.startAngle,ve=void 0;f.globals.dataChanged&&(B=this.startAngle,ve=Math.round(this.totalAngle*fe.negToZero(f.globals.previousPaths[Y])/100)+B),Math.abs(K)+Math.abs(k)>=360&&(K-=.01),Math.abs(ve)+Math.abs(B)>=360&&(ve-=.01);var te=K-k,Ee=Array.isArray(f.config.stroke.dashArray)?f.config.stroke.dashArray[Y]:f.config.stroke.dashArray,Le=p.drawPath({d:"",stroke:x,strokeWidth:w,fill:"none",fillOpacity:f.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+Y,strokeDashArray:Ee});Be.setAttrs(Le.node,{"data:angle":te,"data:value":u.series[Y]}),f.config.chart.dropShadow.enabled&&m.dropShadow(Le,f.config.chart.dropShadow,Y),m.setSelectionFilter(Le,0,Y),this.addListeners(Le,this.radialDataLabels),X.add(Le),Le.attr({index:0,j:Y});var Tt=0;!this.initialAnim||f.globals.resized||f.globals.dataChanged||(Tt=f.config.chart.animations.speed),f.globals.dataChanged&&(Tt=f.config.chart.animations.dynamicAnimation.speed),this.animDur=Tt/(1.2*u.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(Le,{centerX:u.centerX,centerY:u.centerY,endAngle:K,startAngle:k,prevEndAngle:ve,prevStartAngle:B,size:u.size,i:Y,totalItems:2,animBeginArr:this.animBeginArr,dur:Tt,shouldSetPrevPaths:!0,easing:f.globals.easing})}return{g:y,elHollow:R,dataLabels:H}}},{key:"drawHollow",value:function(u){var f=new Be(this.ctx).drawCircle(2*u.size);return f.attr({class:"apexcharts-radialbar-hollow",cx:u.centerX,cy:u.centerY,r:u.size,fill:u.fill}),f}},{key:"drawHollowImage",value:function(u,f,p,_){var m=this.w,y=new Jt(this.ctx),w=fe.randomId(),S=m.config.plotOptions.radialBar.hollow.image;if(m.config.plotOptions.radialBar.hollow.imageClipped)y.clippedImgArea({width:p,height:p,image:S,patternID:"pattern".concat(m.globals.cuid).concat(w)}),_="url(#pattern".concat(m.globals.cuid).concat(w,")");else{var M=m.config.plotOptions.radialBar.hollow.imageWidth,T=m.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===M&&void 0===T){var R=m.globals.dom.Paper.image(S).loaded(function(L){this.move(u.centerX-L.width/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-L.height/2+m.config.plotOptions.radialBar.hollow.imageOffsetY)});f.add(R)}else{var O=m.globals.dom.Paper.image(S).loaded(function(L){this.move(u.centerX-M/2+m.config.plotOptions.radialBar.hollow.imageOffsetX,u.centerY-T/2+m.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(M,T)});f.add(O)}}return _}},{key:"getStrokeWidth",value:function(u){return u.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(u.series.length+1)-this.margin}}]),l}(),gb=function(){function U(o){Ie(this,U),this.w=o.w,this.lineCtx=o}return nt(U,[{key:"sameValueSeriesFix",value:function(o,l){var u=this.w;if("line"===u.config.chart.type&&("gradient"===u.config.fill.type||"gradient"===u.config.fill.type[o])&&new hn(this.lineCtx.ctx,u).seriesHaveSameValues(o)){var f=l[o].slice();f[f.length-1]=f[f.length-1]+1e-6,l[o]=f}return l}},{key:"calculatePoints",value:function(o){var l=o.series,f=o.x,p=o.y,_=o.i,m=o.j,y=o.prevY,w=this.w,S=[],M=[];if(0===m){var T=this.lineCtx.categoryAxisCorrection+w.config.markers.offsetX;w.globals.isXNumeric&&(T=(w.globals.seriesX[o.realIndex][0]-w.globals.minX)/this.lineCtx.xRatio+w.config.markers.offsetX),S.push(T),M.push(fe.isNumber(l[_][0])?y+w.config.markers.offsetY:null),S.push(f+w.config.markers.offsetX),M.push(fe.isNumber(l[_][m+1])?p+w.config.markers.offsetY:null)}else S.push(f+w.config.markers.offsetX),M.push(fe.isNumber(l[_][m+1])?p+w.config.markers.offsetY:null);return{x:S,y:M}}},{key:"checkPreviousPaths",value:function(o){for(var l=o.pathFromLine,u=o.pathFromArea,f=o.realIndex,p=this.w,_=0;_<p.globals.previousPaths.length;_++){var m=p.globals.previousPaths[_];("line"===m.type||"area"===m.type)&&m.paths.length>0&&parseInt(m.realIndex,10)===parseInt(f,10)&&("line"===m.type?(this.lineCtx.appendPathFrom=!1,l=p.globals.previousPaths[_].paths[0].d):"area"===m.type&&(this.lineCtx.appendPathFrom=!1,u=p.globals.previousPaths[_].paths[0].d,p.config.stroke.show&&p.globals.previousPaths[_].paths[1]&&(l=p.globals.previousPaths[_].paths[1].d)))}return{pathFromLine:l,pathFromArea:u}}},{key:"determineFirstPrevY",value:function(o){var l=o.i,u=o.series,f=o.prevY,p=o.lineYPosition,_=this.w;if(void 0!==u[l][0])f=(p=_.config.chart.stacked&&l>0?this.lineCtx.prevSeriesY[l-1][0]:this.lineCtx.zeroY)-u[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]+2*(this.lineCtx.isReversed?u[l][0]/this.lineCtx.yRatio[this.lineCtx.yaxisIndex]:0);else if(_.config.chart.stacked&&l>0&&void 0===u[l][0])for(var m=l-1;m>=0;m--)if(null!=u[m][0]){f=p=this.lineCtx.prevSeriesY[m][0];break}return{prevY:f,lineYPosition:p}}}]),U}(),Ws=function(){function U(o,l,u){Ie(this,U),this.ctx=o,this.w=o.w,this.xyRatios=l,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||u,this.scatter=new ng(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new gb(this),this.markers=new Fo(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return nt(U,[{key:"draw",value:function(o,l,u){var f=this.w,p=new Be(this.ctx),_=f.globals.comboCharts?l:f.config.chart.type,m=p.group({class:"apexcharts-".concat(_,"-series apexcharts-plot-series")}),y=new hn(this.ctx,f);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,o=y.getLogSeries(o),this.yRatio=y.getLogYRatios(this.yRatio);for(var w=[],S=0;S<o.length;S++){o=this.lineHelpers.sameValueSeriesFix(S,o);var M=f.globals.comboCharts?u[S]:S;this._initSerieVariables(o,S,M);var T=[],R=[],O=f.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,M),f.globals.isXNumeric&&f.globals.seriesX.length>0&&(O=(f.globals.seriesX[M][0]-f.globals.minX)/this.xRatio),R.push(O);var L,H=O,z=H,Y=this.zeroY;Y=this.lineHelpers.determineFirstPrevY({i:S,series:o,prevY:Y,lineYPosition:0}).prevY,T.push(Y),L=Y;var X=this._calculatePathsFrom({series:o,i:S,realIndex:M,prevX:z,prevY:Y}),x=this._iterateOverDataPoints({series:o,realIndex:M,i:S,x:O,y:1,pX:H,pY:L,pathsFrom:X,linePaths:[],areaPaths:[],seriesIndex:u,lineYPosition:0,xArrj:R,yArrj:T});this._handlePaths({type:_,realIndex:M,i:S,paths:x}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),w.push(this.elSeries)}if(f.config.chart.stacked)for(var k=w.length;k>0;k--)m.add(w[k-1]);else for(var B=0;B<w.length;B++)m.add(w[B]);return m}},{key:"_initSerieVariables",value:function(o,l,u){var f=this.w,p=new Be(this.ctx);this.xDivision=f.globals.gridWidth/(f.globals.dataPoints-("on"===f.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(f.config.stroke.width)?f.config.stroke.width[u]:f.config.stroke.width,this.yRatio.length>1&&(this.yaxisIndex=u),this.isReversed=f.config.yaxis[this.yaxisIndex]&&f.config.yaxis[this.yaxisIndex].reversed,this.zeroY=f.globals.gridHeight-this.baseLineY[this.yaxisIndex]-(this.isReversed?f.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[this.yaxisIndex]:0),this.areaBottomY=this.zeroY,(this.zeroY>f.globals.gridHeight||"end"===f.config.plotOptions.area.fillTo)&&(this.areaBottomY=f.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=p.group({class:"apexcharts-series",seriesName:fe.escapeString(f.globals.seriesNames[u])}),this.elPointsMain=p.group({class:"apexcharts-series-markers-wrap","data:realIndex":u}),this.elDataLabelsWrap=p.group({class:"apexcharts-datalabels","data:realIndex":u}),this.elSeries.attr({"data:longestSeries":o[l].length===f.globals.dataPoints,rel:l+1,"data:realIndex":u}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(o){var l,u,f,p,_=o.series,m=o.i,y=o.realIndex,w=o.prevX,S=o.prevY,M=this.w,T=new Be(this.ctx);if(null===_[m][0]){for(var R=0;R<_[m].length;R++)if(null!==_[m][R]){l=T.move(w=this.xDivision*R,S=this.zeroY-_[m][R]/this.yRatio[this.yaxisIndex]),u=T.move(w,this.areaBottomY);break}}else l=T.move(w,S),u=T.move(w,this.areaBottomY)+T.line(w,S);if(f=T.move(-1,this.zeroY)+T.line(-1,this.zeroY),p=T.move(-1,this.zeroY)+T.line(-1,this.zeroY),M.globals.previousPaths.length>0){var O=this.lineHelpers.checkPreviousPaths({pathFromLine:f,pathFromArea:p,realIndex:y});f=O.pathFromLine,p=O.pathFromArea}return{prevX:w,prevY:S,linePath:l,areaPath:u,pathFromLine:f,pathFromArea:p}}},{key:"_handlePaths",value:function(o){var l=o.type,u=o.realIndex,f=o.i,p=o.paths,_=this.w,m=new Be(this.ctx),y=new Jt(this.ctx);this.prevSeriesY.push(p.yArrj),_.globals.seriesXvalues[u]=p.xArrj,_.globals.seriesYvalues[u]=p.yArrj;var w=_.config.forecastDataPoints;if(w.count>0){var S=_.globals.seriesXvalues[u][_.globals.seriesXvalues[u].length-w.count-1],M=m.drawRect(S,0,_.globals.gridWidth,_.globals.gridHeight,0);_.globals.dom.elForecastMask.appendChild(M.node);var T=m.drawRect(0,0,S,_.globals.gridHeight,0);_.globals.dom.elNonForecastMask.appendChild(T.node)}this.pointsChart||_.globals.delayedElements.push({el:this.elPointsMain.node,index:u});var R={i:f,realIndex:u,animationDelay:f,initialSpeed:_.config.chart.animations.speed,dataChangeSpeed:_.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(l)};if("area"===l)for(var O=y.fillPath({seriesNumber:u}),L=0;L<p.areaPaths.length;L++){var H=m.renderPaths(Gt(Gt({},R),{},{pathFrom:p.pathFromArea,pathTo:p.areaPaths[L],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:O}));this.elSeries.add(H)}if(_.config.stroke.show&&!this.pointsChart){var z=null;if("line"===l)z=y.fillPath({seriesNumber:u,i:f});else if("solid"===_.config.stroke.fill.type)z=_.globals.stroke.colors[u];else{var Y=_.config.fill;_.config.fill=_.config.stroke.fill,z=y.fillPath({seriesNumber:u,i:f}),_.config.fill=Y}for(var X=0;X<p.linePaths.length;X++){var x=Gt(Gt({},R),{},{pathFrom:p.pathFromLine,pathTo:p.linePaths[X],stroke:z,strokeWidth:this.strokeWidth,strokeLineCap:_.config.stroke.lineCap,fill:"none"}),k=m.renderPaths(x);if(this.elSeries.add(k),w.count>0){var B=m.renderPaths(x);B.node.setAttribute("stroke-dasharray",w.dashArray),w.strokeWidth&&B.node.setAttribute("stroke-width",w.strokeWidth),this.elSeries.add(B),B.attr("clip-path","url(#forecastMask".concat(_.globals.cuid,")")),k.attr("clip-path","url(#nonForecastMask".concat(_.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(o){for(var l=o.series,u=o.realIndex,f=o.i,p=o.x,_=o.y,m=o.pX,y=o.pY,w=o.pathsFrom,S=o.linePaths,M=o.areaPaths,T=o.seriesIndex,R=o.lineYPosition,O=o.xArrj,L=o.yArrj,H=this.w,z=new Be(this.ctx),Y=this.yRatio,X=w.prevY,x=w.linePath,k=w.areaPath,B=w.pathFromLine,W=w.pathFromArea,K=fe.isNumber(H.globals.minYArr[u])?H.globals.minYArr[u]:H.globals.minY,ve=H.globals.dataPoints>1?H.globals.dataPoints-1:H.globals.dataPoints,te=0;te<ve;te++){var Ee=null==l[f][te+1];if(H.globals.isXNumeric){var Le=H.globals.seriesX[u][te+1];void 0===H.globals.seriesX[u][te+1]&&(Le=H.globals.seriesX[u][ve-1]),p=(Le-H.globals.minX)/this.xRatio}else p+=this.xDivision;R=H.config.chart.stacked&&f>0&&H.globals.collapsedSeries.length<H.config.series.length-1?this.prevSeriesY[function(Ii){for(var Zt=Ii,ls=0;ls<H.globals.series.length;ls++)if(H.globals.collapsedSeriesIndices.indexOf(Ii)>-1){Zt--;break}return Zt>=0?Zt:0}(f-1)][te+1]:this.zeroY,_=Ee?R-K/Y[this.yaxisIndex]+2*(this.isReversed?K/Y[this.yaxisIndex]:0):R-l[f][te+1]/Y[this.yaxisIndex]+2*(this.isReversed?l[f][te+1]/Y[this.yaxisIndex]:0),O.push(p),L.push(_);var $e=this.lineHelpers.calculatePoints({series:l,x:p,y:_,realIndex:u,i:f,j:te,prevY:X}),Tt=this._createPaths({series:l,i:f,realIndex:u,j:te,x:p,y:_,pX:m,pY:y,linePath:x,areaPath:k,linePaths:S,areaPaths:M,seriesIndex:T});M=Tt.areaPaths,S=Tt.linePaths,m=Tt.pX,y=Tt.pY,k=Tt.areaPath,x=Tt.linePath,this.appendPathFrom&&(B+=z.line(p,this.zeroY),W+=z.line(p,this.zeroY)),this.handleNullDataPoints(l,$e,f,te,u),this._handleMarkersAndLabels({pointsPos:$e,series:l,x:p,y:_,prevY:X,i:f,j:te,realIndex:u})}return{yArrj:L,xArrj:O,pathFromArea:W,areaPaths:M,pathFromLine:B,linePaths:S}}},{key:"_handleMarkersAndLabels",value:function(o){var l=o.pointsPos,u=o.i,f=o.j,p=o.realIndex,_=this.w,m=new No(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,f,{realIndex:p,pointsPos:l,zRatio:this.zRatio,elParent:this.elPointsMain});else{_.globals.series[u].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var y=this.markers.plotChartMarkers(l,p,f+1);null!==y&&this.elPointsMain.add(y)}var w=m.drawDataLabel(l,p,f+1,null);null!==w&&this.elDataLabelsWrap.add(w)}},{key:"_createPaths",value:function(o){var l=o.series,u=o.i,f=o.realIndex,p=o.j,_=o.x,m=o.y,y=o.pX,w=o.pY,S=o.linePath,M=o.areaPath,T=o.linePaths,R=o.areaPaths,O=o.seriesIndex,L=this.w,H=new Be(this.ctx),z=L.config.stroke.curve,Y=this.areaBottomY;if(Array.isArray(L.config.stroke.curve)&&(z=Array.isArray(O)?L.config.stroke.curve[O[u]]:L.config.stroke.curve[u]),"smooth"===z){var X=.35*(_-y);L.globals.hasNullValues?(null!==l[u][p]&&(null!==l[u][p+1]?(S=H.move(y,w)+H.curve(y+X,w,_-X,m,_+1,m),M=H.move(y+1,w)+H.curve(y+X,w,_-X,m,_+1,m)+H.line(_,Y)+H.line(y,Y)+"z"):(S=H.move(y,w),M=H.move(y,w)+"z")),T.push(S),R.push(M)):(S+=H.curve(y+X,w,_-X,m,_,m),M+=H.curve(y+X,w,_-X,m,_,m)),y=_,w=m,p===l[u].length-2&&(M=M+H.curve(y,w,_,m,_,Y)+H.move(_,m)+"z",L.globals.hasNullValues||(T.push(S),R.push(M)))}else null===l[u][p+1]&&(S+=H.move(_,m),M=M+H.line(L.globals.isXNumeric?(L.globals.seriesX[f][p]-L.globals.minX)/this.xRatio:_-this.xDivision,Y)+H.move(_,m)+"z"),null===l[u][p]&&(S+=H.move(_,m),M+=H.move(_,Y)),"stepline"===z?(S=S+H.line(_,null,"H")+H.line(null,m,"V"),M=M+H.line(_,null,"H")+H.line(null,m,"V")):"straight"===z&&(S+=H.line(_,m),M+=H.line(_,m)),p===l[u].length-2&&(M=M+H.line(_,Y)+H.move(_,m)+"z",T.push(S),R.push(M));return{linePaths:T,areaPaths:R,pX:y,pY:w,linePath:S,areaPath:M}}},{key:"handleNullDataPoints",value:function(o,l,u,f,p){var _=this.w;if(null===o[u][f]&&_.config.markers.showNullDataPoints||1===o[u].length){var m=this.markers.plotChartMarkers(l,p,f+1,this.strokeWidth-_.config.markers.strokeWidth/2,!0);null!==m&&this.elPointsMain.add(m)}}}]),U}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function U(m,y,w,S){this.xoffset=m,this.yoffset=y,this.height=S,this.width=w,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(M){var T,R=[],O=this.xoffset,L=this.yoffset,H=p(M)/this.height,z=p(M)/this.width;if(this.width>=this.height)for(T=0;T<M.length;T++)R.push([O,L,O+H,L+M[T]/H]),L+=M[T]/H;else for(T=0;T<M.length;T++)R.push([O,L,O+M[T]/z,L+z]),O+=M[T]/z;return R},this.cutArea=function(M){var T;if(this.width>=this.height){var R=M/this.height;T=new U(this.xoffset+R,this.yoffset,this.width-R,this.height)}else{var L=M/this.width;T=new U(this.xoffset,this.yoffset+L,this.width,this.height-L)}return T}}function o(m,y,w,S,M){return S=void 0===S?0:S,M=void 0===M?0:M,function(T){var R,O,L=[];for(R=0;R<T.length;R++)for(O=0;O<T[R].length;O++)L.push(T[R][O]);return L}(l(function(T,R){var O,L=[],H=R/p(T);for(O=0;O<T.length;O++)L[O]=T[O]*H;return L}(m,y*w),[],new U(S,M,y,w),[]))}function l(m,y,w,S){var M,T,R,O,L,H,z;if(0!==m.length)return M=w.shortestEdge(),L=T=m[0],H=M,0===(O=y).length||((z=O.slice()).push(L),u(O,H)>=u(z,H))?(y.push(T),l(m.slice(1),y,w,S)):(R=w.cutArea(p(y),S),S.push(w.getCoordinates(y)),l(m,[],R,S)),S;S.push(w.getCoordinates(y))}function u(m,y){var w=Math.min.apply(Math,m),S=Math.max.apply(Math,m),M=p(m);return Math.max(Math.pow(y,2)*S/Math.pow(M,2),Math.pow(M,2)/(Math.pow(y,2)*w))}function f(m){return m&&m.constructor===Array}function p(m){var y,w=0;for(y=0;y<m.length;y++)w+=m[y];return w}function _(m){var y,w=0;if(f(m[0]))for(y=0;y<m.length;y++)w+=_(m[y]);else w=p(m);return w}return function m(y,w,S,M,T){M=void 0===M?0:M,T=void 0===T?0:T;var R,O,L=[],H=[];if(f(y[0])){for(O=0;O<y.length;O++)L[O]=_(y[O]);for(R=o(L,w,S,M,T),O=0;O<y.length;O++)H.push(m(y[O],R[O][2]-R[O][0],R[O][3]-R[O][1],R[O][0],R[O][1]))}else H=o(y,w,S,M,T);return H}}();var Sh,rn,Ol=function(){function U(o,l){Ie(this,U),this.ctx=o,this.w=o.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new pg(o),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return nt(U,[{key:"draw",value:function(o){var l=this,u=this.w,f=new Be(this.ctx),p=new Jt(this.ctx),_=f.group({class:"apexcharts-treemap"});if(u.globals.noData)return _;var m=[];return o.forEach(function(y){var w=y.map(function(S){return Math.abs(S)});m.push(w)}),this.negRange=this.helpers.checkColorRange(),u.config.series.forEach(function(y,w){y.data.forEach(function(S){Array.isArray(l.labels[w])||(l.labels[w]=[]),l.labels[w].push(S.x)})}),window.TreemapSquared.generate(m,u.globals.gridWidth,u.globals.gridHeight).forEach(function(y,w){var S=f.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:fe.escapeString(u.globals.seriesNames[w]),rel:w+1,"data:realIndex":w});if(u.config.chart.dropShadow.enabled){var M=u.config.chart.dropShadow;new An(l.ctx).dropShadow(_,M,w)}var T=f.group({class:"apexcharts-data-labels"});y.forEach(function(R,O){var L=R[0],H=R[1],z=R[2],Y=R[3],X=f.drawRect(L,H,z-L,Y-H,0,"#fff",1,l.strokeWidth,u.config.plotOptions.treemap.useFillColorAsStroke?k:u.globals.stroke.colors[w]);X.attr({cx:L,cy:H,index:w,i:w,j:O,width:z-L,height:Y-H});var x=l.helpers.getShadeColor(u.config.chart.type,w,O,l.negRange),k=x.color;void 0!==u.config.series[w].data[O]&&u.config.series[w].data[O].fillColor&&(k=u.config.series[w].data[O].fillColor);var B=p.fillPath({color:k,seriesNumber:w,dataPointIndex:O});X.node.classList.add("apexcharts-treemap-rect"),X.attr({fill:B}),l.helpers.addListeners(X);var W={x:L+(z-L)/2,y:H+(Y-H)/2,width:0,height:0},K={x:L,y:H,width:z-L,height:Y-H};if(u.config.chart.animations.enabled&&!u.globals.dataChanged){var ve=1;u.globals.resized||(ve=u.config.chart.animations.speed),l.animateTreemap(X,W,K,ve)}u.globals.dataChanged&&l.dynamicAnim.enabled&&u.globals.shouldAnimate&&(u.globals.previousPaths[w]&&u.globals.previousPaths[w][O]&&u.globals.previousPaths[w][O].rect&&(W=u.globals.previousPaths[w][O].rect),l.animateTreemap(X,W,K,l.dynamicAnim.speed));var Ee=l.getFontSize(R),Le=u.config.dataLabels.formatter(l.labels[w][O],{value:u.globals.series[w][O],seriesIndex:w,dataPointIndex:O,w:u}),$e=l.helpers.calculateDataLabels({text:Le,x:(L+z)/2,y:(H+Y)/2+l.strokeWidth/2+Ee/3,i:w,j:O,colorProps:x,fontSize:Ee,series:o});u.config.dataLabels.enabled&&$e&&l.rotateToFitLabel($e,Le,L,H,z,Y),S.add(X),null!==$e&&S.add($e)}),S.add(T),_.add(S)}),_}},{key:"getFontSize",value:function(o){var _,l=this.w,m=function y(w){var S,M=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)M+=y(w[S]);else for(S=0;S<w.length;S++)M+=w[S].length;return M}(this.labels)/function y(w){var S,M=0;if(Array.isArray(w[0]))for(S=0;S<w.length;S++)M+=y(w[S]);else for(S=0;S<w.length;S++)M+=1;return M}(this.labels);return _=Math.pow((o[2]-o[0])*(o[3]-o[1]),.5),Math.min(_/m,parseInt(l.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(o,l,u,f,p,_){var m=new Be(this.ctx),y=m.getTextRects(l);if(y.width+5>p-u&&y.width<=_-f){var w=m.rotateAroundCenter(o.node);o.node.setAttribute("transform","rotate(-90 ".concat(w.x," ").concat(w.y,")"))}}},{key:"animateTreemap",value:function(o,l,u,f){var p=new Lo(this.ctx);p.animateRect(o,{x:l.x,y:l.y,width:l.width,height:l.height},{x:u.x,y:u.y,width:u.width,height:u.height},f,function(){p.animationCompleted(o)})}}]),U}(),cr=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return nt(U,[{key:"calculateTimeScaleTicks",value:function(o,l){var u=this,f=this.w;if(f.globals.allSeriesCollapsed)return f.globals.labels=[],f.globals.timescaleLabels=[],[];var p=new pi(this.ctx),_=(l-o)/864e5;this.determineInterval(_),f.globals.disableZoomIn=!1,f.globals.disableZoomOut=!1,_<.00011574074074074075?f.globals.disableZoomIn=!0:_>5e4&&(f.globals.disableZoomOut=!0);var m=p.getTimeUnitsfromTimestamp(o,l,this.utc),y=f.globals.gridWidth/_,w=y/24,S=w/60,M=S/60,T=Math.floor(24*_),R=Math.floor(1440*_),O=Math.floor(86400*_),L=Math.floor(_),H=Math.floor(_/30),z=Math.floor(_/365),Y={minMillisecond:m.minMillisecond,minSecond:m.minSecond,minMinute:m.minMinute,minHour:m.minHour,minDate:m.minDate,minMonth:m.minMonth,minYear:m.minYear},X={firstVal:Y,currentMillisecond:Y.minMillisecond,currentSecond:Y.minSecond,currentMinute:Y.minMinute,currentHour:Y.minHour,currentMonthDate:Y.minDate,currentDate:Y.minDate,currentMonth:Y.minMonth,currentYear:Y.minYear,daysWidthOnXAxis:y,hoursWidthOnXAxis:w,minutesWidthOnXAxis:S,secondsWidthOnXAxis:M,numberOfSeconds:O,numberOfMinutes:R,numberOfHours:T,numberOfDays:L,numberOfMonths:H,numberOfYears:z};switch(this.tickInterval){case"years":this.generateYearScale(X);break;case"months":case"half_year":this.generateMonthScale(X);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(X);break;case"hours":this.generateHourScale(X);break;case"minutes_fives":case"minutes":this.generateMinuteScale(X);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(X)}var x=this.timeScaleArray.map(function(k){var B={position:k.position,unit:k.unit,year:k.year,day:k.day?k.day:1,hour:k.hour?k.hour:0,month:k.month+1};return"month"===k.unit?Gt(Gt({},B),{},{day:1,value:k.value+1}):"day"===k.unit||"hour"===k.unit?Gt(Gt({},B),{},{value:k.value}):"minute"===k.unit?Gt(Gt({},B),{},{value:k.value,minute:k.value}):"second"===k.unit?Gt(Gt({},B),{},{value:k.value,minute:k.minute,second:k.second}):k});return x.filter(function(k){var B=1,W=Math.ceil(f.globals.gridWidth/120),K=k.value;void 0!==f.config.xaxis.tickAmount&&(W=f.config.xaxis.tickAmount),x.length>W&&(B=Math.floor(x.length/W));var ve=!1,te=!1;switch(u.tickInterval){case"years":"year"===k.unit&&(ve=!0);break;case"half_year":B=7,"year"===k.unit&&(ve=!0);break;case"months":B=1,"year"===k.unit&&(ve=!0);break;case"months_fortnight":B=15,"year"!==k.unit&&"month"!==k.unit||(ve=!0),30===K&&(te=!0);break;case"months_days":B=10,"month"===k.unit&&(ve=!0),30===K&&(te=!0);break;case"week_days":B=8,"month"===k.unit&&(ve=!0);break;case"days":B=1,"month"===k.unit&&(ve=!0);break;case"hours":"day"===k.unit&&(ve=!0);break;case"minutes_fives":case"seconds_fives":K%5!=0&&(te=!0);break;case"seconds_tens":K%10!=0&&(te=!0)}if("hours"===u.tickInterval||"minutes_fives"===u.tickInterval||"seconds_tens"===u.tickInterval||"seconds_fives"===u.tickInterval){if(!te)return!0}else if((K%B==0||ve)&&!te)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(o,l){var u=this.w,f=this.formatDates(o),p=this.removeOverlappingTS(f);u.globals.timescaleLabels=p.slice(),new xh(this.ctx).plotCoords()}},{key:"determineInterval",value:function(o){var l=24*o,u=60*l;switch(!0){case o/365>5:this.tickInterval="years";break;case o>800:this.tickInterval="half_year";break;case o>180:this.tickInterval="months";break;case o>90:this.tickInterval="months_fortnight";break;case o>60:this.tickInterval="months_days";break;case o>30:this.tickInterval="week_days";break;case o>2:this.tickInterval="days";break;case l>2.4:this.tickInterval="hours";break;case u>15:this.tickInterval="minutes_fives";break;case u>5:this.tickInterval="minutes";break;case u>1:this.tickInterval="seconds_tens";break;case 60*u>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(o){var l=o.firstVal,u=o.currentMonth,f=o.currentYear,p=o.daysWidthOnXAxis,_=o.numberOfYears,m=l.minYear,y=0,w=new pi(this.ctx),S="year";if(l.minDate>1||l.minMonth>0){var M=w.determineRemainingDaysOfYear(l.minYear,l.minMonth,l.minDate);y=(w.determineDaysOfYear(l.minYear)-M+1)*p,this.timeScaleArray.push({position:y,value:m=l.minYear+1,unit:S,year:m,month:fe.monthMod(u+1)})}else 1===l.minDate&&0===l.minMonth&&this.timeScaleArray.push({position:y,value:m,unit:S,year:f,month:fe.monthMod(u+1)});for(var T=m,R=y,O=0;O<_;O++)T++,R=w.determineDaysOfYear(T-1)*p+R,this.timeScaleArray.push({position:R,value:T,unit:S,year:T,month:1})}},{key:"generateMonthScale",value:function(o){var l=o.firstVal,u=o.currentMonthDate,f=o.currentMonth,p=o.currentYear,_=o.daysWidthOnXAxis,m=o.numberOfMonths,y=f,w=0,S=new pi(this.ctx),M="month",T=0;if(l.minDate>1){w=(S.determineDaysOfMonths(f+1,l.minYear)-u+1)*_,y=fe.monthMod(f+1);var R=p+T,O=fe.monthMod(y),L=y;0===y&&(M="year",L=R,O=1,R+=T+=1),this.timeScaleArray.push({position:w,value:L,unit:M,year:R,month:O})}else this.timeScaleArray.push({position:w,value:y,unit:M,year:p,month:fe.monthMod(f)});for(var H=y+1,z=w,Y=0,X=1;Y<m;Y++,X++){0===(H=fe.monthMod(H))?(M="year",T+=1):M="month";var x=this._getYear(p,H,T);z=S.determineDaysOfMonths(H,x)*_+z,this.timeScaleArray.push({position:z,value:0===H?x:H,unit:M,year:x,month:0===H?1:H}),H++}}},{key:"generateDayScale",value:function(o){var l=o.firstVal,u=o.currentMonth,f=o.currentYear,p=o.hoursWidthOnXAxis,_=o.numberOfDays,m=new pi(this.ctx),y="day",w=l.minDate+1,S=w,M=function(X,x,k){return X>m.determineDaysOfMonths(x+1,k)&&(S=1,y="month",R=x+=1),x},T=(24-l.minHour)*p,R=w,O=M(S,u,f);0===l.minHour&&1===l.minDate?(T=0,R=fe.monthMod(l.minMonth),y="month",S=l.minDate,_++):1!==l.minDate&&0===l.minHour&&0===l.minMinute&&(T=0,R=w=l.minDate,O=M(S=w,u,f)),this.timeScaleArray.push({position:T,value:R,unit:y,year:this._getYear(f,O,0),month:fe.monthMod(O),day:S});for(var L=T,H=0;H<_;H++){y="day",O=M(S+=1,O,this._getYear(f,O,0));var z=this._getYear(f,O,0);L=24*p+L;var Y=1===S?fe.monthMod(O):S;this.timeScaleArray.push({position:L,value:Y,unit:y,year:z,month:fe.monthMod(O),day:Y})}}},{key:"generateHourScale",value:function(o){var l=o.firstVal,u=o.currentDate,f=o.currentMonth,p=o.currentYear,_=o.minutesWidthOnXAxis,m=o.numberOfHours,y=new pi(this.ctx),w="hour",M=function(B,W){return B>y.determineDaysOfMonths(W+1,p)?W+=1:W},T=60-(l.minMinute+l.minSecond/60),R=T*_,O=l.minHour+1,L=O+1;60===T&&(R=0,L=(O=l.minHour)+1);var B,W,H=u,z=M(H,f);this.timeScaleArray.push({position:R,value:O,unit:w,day:H,hour:L,year:p,month:fe.monthMod(z)});for(var Y=R,X=0;X<m;X++){w="hour",L>=24&&(L=0,w="day",z=(B=H+=1,W=z,B>y.determineDaysOfMonths(W+1,p)&&(H=1,W+=1),{month:W,date:H}).month,z=M(H,z));var x=this._getYear(p,z,0);this.timeScaleArray.push({position:Y=0===L&&0===X?T*_:60*_+Y,value:0===L?H:L,unit:w,hour:L,day:H,year:x,month:fe.monthMod(z)}),L++}}},{key:"generateMinuteScale",value:function(o){for(var w=o.minutesWidthOnXAxis,M=o.numberOfMinutes,T=o.currentMinute+1,R=o.currentDate,O=o.currentMonth,L=o.currentYear,H=o.currentHour,z=(60-o.currentSecond-o.currentMillisecond/1e3)*o.secondsWidthOnXAxis,Y=0;Y<M;Y++)T>=60&&(T=0,24===(H+=1)&&(H=0)),this.timeScaleArray.push({position:z,value:T,unit:"minute",hour:H,minute:T,day:R,year:this._getYear(L,O,0),month:fe.monthMod(O)}),z+=w,T++}},{key:"generateSecondScale",value:function(o){for(var w=o.secondsWidthOnXAxis,S=o.numberOfSeconds,M=o.currentSecond+1,T=o.currentMinute,R=o.currentDate,O=o.currentMonth,L=o.currentYear,H=o.currentHour,z=(1e3-o.currentMillisecond)/1e3*w,Y=0;Y<S;Y++)M>=60&&(M=0,++T>=60&&(T=0,24==++H&&(H=0))),this.timeScaleArray.push({position:z,value:M,unit:"second",hour:H,minute:T,second:M,day:R,year:this._getYear(L,O,0),month:fe.monthMod(O)}),z+=w,M++}},{key:"createRawDateString",value:function(o,l){var u=o.year;return 0===o.month&&(o.month=1),u+="-"+("0"+o.month.toString()).slice(-2),u+="day"===o.unit?"day"===o.unit?"-"+("0"+l).slice(-2):"-01":"-"+("0"+(o.day?o.day:"1")).slice(-2),u+="hour"===o.unit?"hour"===o.unit?"T"+("0"+l).slice(-2):"T00":"T"+("0"+(o.hour?o.hour:"0")).slice(-2),u+="minute"===o.unit?":"+("0"+l).slice(-2):":"+(o.minute?("0"+o.minute).slice(-2):"00"),u+="second"===o.unit?":"+("0"+l).slice(-2):":00",this.utc&&(u+=".000Z"),u}},{key:"formatDates",value:function(o){var l=this,u=this.w;return o.map(function(f){var p=f.value.toString(),_=new pi(l.ctx),m=l.createRawDateString(f,p),y=_.getDate(_.parseDate(m));if(l.utc||(y=_.getDate(_.parseDateWithTimezone(m))),void 0===u.config.xaxis.labels.format){var w="dd MMM",S=u.config.xaxis.labels.datetimeFormatter;"year"===f.unit&&(w=S.year),"month"===f.unit&&(w=S.month),"day"===f.unit&&(w=S.day),"hour"===f.unit&&(w=S.hour),"minute"===f.unit&&(w=S.minute),"second"===f.unit&&(w=S.second),p=_.formatDate(y,w)}else p=_.formatDate(y,u.config.xaxis.labels.format);return{dateString:m,position:f.position,value:p,unit:f.unit,year:f.year,month:f.month}})}},{key:"removeOverlappingTS",value:function(o){var l,u=this,f=new Be(this.ctx),p=!1;o.length>0&&o[0].value&&o.every(function(y){return y.value.length===o[0].value.length})&&(p=!0,l=f.getTextRects(o[0].value).width);var _=0;return o.map(function(y,w){if(w>0&&u.w.config.xaxis.labels.hideOverlappingLabels){var S=p?l:f.getTextRects(o[_].value).width;return y.position>o[_].position+S+10?(_=w,y):null}return y}).filter(function(y){return null!==y})}},{key:"_getYear",value:function(o,l,u){return o+Math.floor(l/12)+u}}]),U}(),$D=function(){function U(o,l){Ie(this,U),this.ctx=l,this.w=l.w,this.el=o}return nt(U,[{key:"setupElements",value:function(){var o=this.w.globals,l=this.w.config,u=l.chart.type;o.axisCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].indexOf(u)>-1,o.xyCharts=["line","area","bar","rangeBar","candlestick","boxPlot","scatter","bubble"].indexOf(u)>-1,o.isBarHorizontal=("bar"===l.chart.type||"rangeBar"===l.chart.type||"boxPlot"===l.chart.type)&&l.plotOptions.bar.horizontal,o.chartClass=".apexcharts"+o.chartID,o.dom.baseEl=this.el,o.dom.elWrap=document.createElement("div"),Be.setAttrs(o.dom.elWrap,{id:o.chartClass.substring(1),class:"apexcharts-canvas "+o.chartClass.substring(1)}),this.el.appendChild(o.dom.elWrap),o.dom.Paper=new window.SVG.Doc(o.dom.elWrap),o.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(l.chart.offsetX,", ").concat(l.chart.offsetY,")")}),o.dom.Paper.node.style.background=l.chart.background,this.setSVGDimensions(),o.dom.elGraphical=o.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),o.dom.elAnnotations=o.dom.Paper.group().attr({class:"apexcharts-annotations"}),o.dom.elDefs=o.dom.Paper.defs(),o.dom.elLegendWrap=document.createElement("div"),o.dom.elLegendWrap.classList.add("apexcharts-legend"),o.dom.elWrap.appendChild(o.dom.elLegendWrap),o.dom.Paper.add(o.dom.elGraphical),o.dom.elGraphical.add(o.dom.elDefs)}},{key:"plotChartType",value:function(o,l){var u=this.w,f=u.config,p=u.globals,_={series:[],i:[]},m={series:[],i:[]},y={series:[],i:[]},w={series:[],i:[]},S={series:[],i:[]},M={series:[],i:[]},T={series:[],i:[]};p.series.map(function(k,B){var W=0;void 0!==o[B].type?("column"===o[B].type||"bar"===o[B].type?(p.series.length>1&&f.plotOptions.bar.horizontal&&console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"),S.series.push(k),S.i.push(B),W++,u.globals.columnSeries=S.series):"area"===o[B].type?(m.series.push(k),m.i.push(B),W++):"line"===o[B].type?(_.series.push(k),_.i.push(B),W++):"scatter"===o[B].type?(y.series.push(k),y.i.push(B)):"bubble"===o[B].type?(w.series.push(k),w.i.push(B),W++):"candlestick"===o[B].type?(M.series.push(k),M.i.push(B),W++):"boxPlot"===o[B].type?(T.series.push(k),T.i.push(B),W++):console.warn("You have specified an unrecognized chart type. Available types for this property are line/area/column/bar/scatter/bubble"),W>1&&(p.comboCharts=!0)):(_.series.push(k),_.i.push(B))});var R=new Ws(this.ctx,l),O=new os(this.ctx,l);this.ctx.pie=new mg(this.ctx);var L=new pb(this.ctx);this.ctx.rangeBar=new Ni(this.ctx,l);var H=new _g(this.ctx),z=[];if(p.comboCharts){if(m.series.length>0&&z.push(R.draw(m.series,"area",m.i)),S.series.length>0)if(u.config.chart.stacked){var Y=new Mh(this.ctx,l);z.push(Y.draw(S.series,S.i))}else this.ctx.bar=new za(this.ctx,l),z.push(this.ctx.bar.draw(S.series,S.i));if(_.series.length>0&&z.push(R.draw(_.series,"line",_.i)),M.series.length>0&&z.push(O.draw(M.series,M.i)),T.series.length>0&&z.push(O.draw(T.series,T.i)),y.series.length>0){var X=new Ws(this.ctx,l,!0);z.push(X.draw(y.series,"scatter",y.i))}if(w.series.length>0){var x=new Ws(this.ctx,l,!0);z.push(x.draw(w.series,"bubble",w.i))}}else switch(f.chart.type){case"line":z=R.draw(p.series,"line");break;case"area":z=R.draw(p.series,"area");break;case"bar":f.chart.stacked?z=new Mh(this.ctx,l).draw(p.series):(this.ctx.bar=new za(this.ctx,l),z=this.ctx.bar.draw(p.series));break;case"candlestick":case"boxPlot":z=new os(this.ctx,l).draw(p.series);break;case"rangeBar":z=this.ctx.rangeBar.draw(p.series);break;case"heatmap":z=new fb(this.ctx,l).draw(p.series);break;case"treemap":z=new Ol(this.ctx,l).draw(p.series);break;case"pie":case"donut":case"polarArea":z=this.ctx.pie.draw(p.series);break;case"radialBar":z=L.draw(p.series);break;case"radar":z=H.draw(p.series);break;default:z=R.draw(p.series)}return z}},{key:"setSVGDimensions",value:function(){var o=this.w.globals,l=this.w.config;o.svgWidth=l.chart.width,o.svgHeight=l.chart.height;var u=fe.getDimensions(this.el),f=l.chart.width.toString().split(/[0-9]+/g).pop();"%"===f?fe.isNumber(u[0])&&(0===u[0].width&&(u=fe.getDimensions(this.el.parentNode)),o.svgWidth=u[0]*parseInt(l.chart.width,10)/100):"px"!==f&&""!==f||(o.svgWidth=parseInt(l.chart.width,10));var p=l.chart.height.toString().split(/[0-9]+/g).pop();if("auto"!==o.svgHeight&&""!==o.svgHeight)if("%"===p){var _=fe.getDimensions(this.el.parentNode);o.svgHeight=_[1]*parseInt(l.chart.height,10)/100}else o.svgHeight=parseInt(l.chart.height,10);else o.svgHeight=o.axisCharts?o.svgWidth/1.61:o.svgWidth/1.2;o.svgWidth<0&&(o.svgWidth=0),o.svgHeight<0&&(o.svgHeight=0),Be.setAttrs(o.dom.Paper.node,{width:o.svgWidth,height:o.svgHeight}),"%"!==p&&(o.dom.Paper.node.parentNode.parentNode.style.minHeight=o.svgHeight+(l.chart.sparkline.enabled?0:o.axisCharts?l.chart.parentHeightOffset:0)+"px"),o.dom.elWrap.style.width=o.svgWidth+"px",o.dom.elWrap.style.height=o.svgHeight+"px"}},{key:"shiftGraphPosition",value:function(){var o=this.w.globals;Be.setAttrs(o.dom.elGraphical.node,{transform:"translate("+o.translateX+", "+o.translateY+")"})}},{key:"resizeNonAxisCharts",value:function(){var o=this.w,l=o.globals,u=0,f=o.config.chart.sparkline.enabled?1:15;f+=o.config.grid.padding.bottom,"top"!==o.config.legend.position&&"bottom"!==o.config.legend.position||!o.config.legend.show||o.config.legend.floating||(u=new ub(this.ctx).legendHelpers.getLegendBBox().clwh+10);var p=o.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),_=2.05*o.globals.radialSize;if(p&&!o.config.chart.sparkline.enabled&&0!==o.config.plotOptions.radialBar.startAngle){var m=fe.getBoundingClientRect(p);_=m.bottom,_=Math.max(2.05*o.globals.radialSize,m.bottom-m.top)}var w=_+l.translateY+u+f;l.dom.elLegendForeign&&l.dom.elLegendForeign.setAttribute("height",w),o.config.chart.height&&String(o.config.chart.height).indexOf("%")>0||(l.dom.elWrap.style.height=w+"px",Be.setAttrs(l.dom.Paper.node,{height:w}),l.dom.Paper.node.parentNode.parentNode.style.minHeight=w+"px")}},{key:"coreCalculations",value:function(){new og(this.ctx).init()}},{key:"resetGlobals",value:function(){var o=this,l=function(){return o.w.config.series.map(function(p){return[]})},u=new sb,f=this.w.globals;u.initGlobalVars(f),f.seriesXvalues=l(),f.seriesYvalues=l()}},{key:"isMultipleY",value:function(){if(this.w.config.yaxis.constructor===Array&&this.w.config.yaxis.length>1)return this.w.globals.isMultipleYAxis=!0,!0}},{key:"xySettings",value:function(){var o=null,l=this.w;if(l.globals.axisCharts){if("back"===l.config.xaxis.crosshairs.position&&new lg(this.ctx).drawXCrosshairs(),"back"===l.config.yaxis[0].crosshairs.position&&new lg(this.ctx).drawYCrosshairs(),"datetime"===l.config.xaxis.type&&void 0===l.config.xaxis.labels.formatter){this.ctx.timeScale=new cr(this.ctx);var u=[];isFinite(l.globals.minX)&&isFinite(l.globals.maxX)&&!l.globals.isBarHorizontal?u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minX,l.globals.maxX):l.globals.isBarHorizontal&&(u=this.ctx.timeScale.calculateTimeScaleTicks(l.globals.minY,l.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(u)}o=new hn(this.ctx).getCalculatedRatios()}return o}},{key:"updateSourceChart",value:function(o){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:o.w.globals.minX,max:o.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var o=this,l=this.w;if(l.config.chart.brush.enabled&&"function"!=typeof l.config.chart.events.selection){var u=l.config.chart.brush.targets||[l.config.chart.brush.target];u.forEach(function(f){var p=ApexCharts.getChartByID(f);p.w.globals.brushSource=o.ctx,"function"!=typeof p.w.config.chart.events.zoomed&&(p.w.config.chart.events.zoomed=function(){o.updateSourceChart(p)}),"function"!=typeof p.w.config.chart.events.scrolled&&(p.w.config.chart.events.scrolled=function(){o.updateSourceChart(p)})}),l.config.chart.events.selection=function(f,p){u.forEach(function(_){var m=ApexCharts.getChartByID(_),y=fe.clone(l.config.yaxis);if(l.config.chart.brush.autoScaleYaxis&&1===m.w.globals.series.length){var w=new Ua(m);y=w.autoScaleY(m,y,p)}var S=m.w.config.yaxis.reduce(function(M,T,R){return[].concat(Us(M),[Gt(Gt({},m.w.config.yaxis[R]),{},{min:y[0].min,max:y[0].max})])},[]);m.ctx.updateHelpers._updateOptions({xaxis:{min:p.xaxis.min,max:p.xaxis.max},yaxis:S},!1,!1,!1,!1)})}}}}]),U}(),mb=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"_updateOptions",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(m){var y=[l.ctx];p&&(y=l.ctx.getSyncedCharts()),l.ctx.w.globals.isExecCalled&&(y=[l.ctx],l.ctx.w.globals.isExecCalled=!1),y.forEach(function(w,S){var M=w.w;if(M.globals.shouldAnimate=f,u||(M.globals.resized=!0,M.globals.dataChanged=!0,f&&w.series.getPreviousPaths()),o&&"object"===yn(o)&&(w.config=new Ga(o),o=hn.extendArrayProps(w.config,o,M),w.w.globals.chartID!==l.ctx.w.globals.chartID&&delete o.series,M.config=fe.extend(M.config,o),_&&(M.globals.lastXAxis=o.xaxis?fe.clone(o.xaxis):[],M.globals.lastYAxis=o.yaxis?fe.clone(o.yaxis):[],M.globals.initialConfig=fe.extend({},M.config),M.globals.initialSeries=fe.clone(M.config.series),o.series))){for(var T=0;T<M.globals.collapsedSeriesIndices.length;T++){var R=M.config.series[M.globals.collapsedSeriesIndices[T]];M.globals.collapsedSeries[T].data=M.globals.axisCharts?R.data.slice():R}for(var O=0;O<M.globals.ancillaryCollapsedSeriesIndices.length;O++){var L=M.config.series[M.globals.ancillaryCollapsedSeriesIndices[O]];M.globals.ancillaryCollapsedSeries[O].data=M.globals.axisCharts?L.data.slice():L}w.series.emptyCollapsedSeries(M.config.series)}return w.update(o).then(function(){S===y.length-1&&m(w)})})})}},{key:"_updateSeries",value:function(o,l){var u=this,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(p){var _,m=u.w;return m.globals.shouldAnimate=l,m.globals.dataChanged=!0,l&&u.ctx.series.getPreviousPaths(),m.globals.axisCharts?(0===(_=o.map(function(y,w){return u._extendSeries(y,w)})).length&&(_=[{data:[]}]),m.config.series=_):m.config.series=o.slice(),f&&(m.globals.initialSeries=fe.clone(m.config.series)),u.ctx.update().then(function(){p(u.ctx)})})}},{key:"_extendSeries",value:function(o,l){var u=this.w,f=u.config.series[l];return Gt(Gt({},u.config.series[l]),{},{name:o.name?o.name:f&&f.name,color:o.color?o.color:f&&f.color,type:o.type?o.type:f&&f.type,data:o.data?o.data:f&&f.data})}},{key:"toggleDataPointSelection",value:function(o,l){var u=this.w,f=null,p=".apexcharts-series[data\\:realIndex='".concat(o,"']");return u.globals.axisCharts?f=u.globals.dom.Paper.select("".concat(p," path[j='").concat(l,"'], ").concat(p," circle[j='").concat(l,"'], ").concat(p," rect[j='").concat(l,"']")).members[0]:void 0===l&&(f=u.globals.dom.Paper.select("".concat(p," path[j='").concat(o,"']")).members[0],"pie"!==u.config.chart.type&&"polarArea"!==u.config.chart.type&&"donut"!==u.config.chart.type||this.ctx.pie.pieClicked(o)),f?(new Be(this.ctx).pathMouseDown(f,null),f.node?f.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(o){var l=this.w;if(["min","max"].forEach(function(f){void 0!==o.xaxis[f]&&(l.config.xaxis[f]=o.xaxis[f],l.globals.lastXAxis[f]=o.xaxis[f])}),o.xaxis.categories&&o.xaxis.categories.length&&(l.config.xaxis.categories=o.xaxis.categories),l.config.xaxis.convertedCatToNumeric){var u=new jt(o);o=u.convertCatToNumericXaxis(o,this.ctx)}return o}},{key:"forceYAxisUpdate",value:function(o){var l=this.w;return l.config.chart.stacked&&"100%"===l.config.chart.stackType&&(Array.isArray(o.yaxis)?o.yaxis.forEach(function(u,f){o.yaxis[f].min=0,o.yaxis[f].max=100}):(o.yaxis.min=0,o.yaxis.max=100)),o}},{key:"revertDefaultAxisMinMax",value:function(o){var l=this,u=this.w,f=u.globals.lastXAxis,p=u.globals.lastYAxis;o&&o.xaxis&&(f=o.xaxis),o&&o.yaxis&&(p=o.yaxis),u.config.xaxis.min=f.min,u.config.xaxis.max=f.max,u.config.yaxis.map(function(m,y){u.globals.zoomed||void 0!==p[y]?function(m){void 0!==p[m]&&(u.config.yaxis[m].min=p[m].min,u.config.yaxis[m].max=p[m].max)}(y):void 0!==l.ctx.opts.yaxis[y]&&(m.min=l.ctx.opts.yaxis[y].min,m.max=l.ctx.opts.yaxis[y].max)})}}]),U}();Sh="undefined"!=typeof window?window:void 0,rn=function(U,o){var l=(void 0!==this?this:U).SVG=function(x){if(l.supported)return x=new l.Doc(x),l.parser.draw||l.prepare(),x};if(l.ns="http://www.w3.org/2000/svg",l.xmlns="http://www.w3.org/2000/xmlns/",l.xlink="http://www.w3.org/1999/xlink",l.svgjs="http://svgjs.dev",l.supported=!0,!l.supported)return!1;l.did=1e3,l.eid=function(x){return"Svgjs"+S(x)+l.did++},l.create=function(x){var k=o.createElementNS(this.ns,x);return k.setAttribute("id",this.eid(x)),k},l.extend=function(){var x,k;k=(x=[].slice.call(arguments)).pop();for(var B=x.length-1;B>=0;B--)if(x[B])for(var W in k)x[B].prototype[W]=k[W];l.Set&&l.Set.inherit&&l.Set.inherit()},l.invent=function(x){var k="function"==typeof x.create?x.create:function(){this.constructor.call(this,l.create(x.create))};return x.inherit&&(k.prototype=new x.inherit),x.extend&&l.extend(k,x.extend),x.construct&&l.extend(x.parent||l.Container,x.construct),k},l.adopt=function(x){return x?x.instance?x.instance:((k="svg"==x.nodeName?x.parentNode instanceof U.SVGElement?new l.Nested:new l.Doc:"linearGradient"==x.nodeName?new l.Gradient("linear"):"radialGradient"==x.nodeName?new l.Gradient("radial"):l[S(x.nodeName)]?new(l[S(x.nodeName)]):new l.Element(x)).type=x.nodeName,k.node=x,x.instance=k,k instanceof l.Doc&&k.namespace().defs(),k.setData(JSON.parse(x.getAttribute("svgjs:data"))||{}),k):null;var k},l.prepare=function(){var x=o.getElementsByTagName("body")[0],k=(x?new l.Doc(x):l.adopt(o.documentElement).nested()).size(2,0);l.parser={body:x||o.documentElement,draw:k.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:k.polyline().node,path:k.path().node,native:l.create("svg")}},l.parser={native:l.create("svg")},o.addEventListener("DOMContentLoaded",function(){l.parser.draw||l.prepare()},!1),l.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},l.utils={map:function(x,k){for(var B=x.length,W=[],K=0;K<B;K++)W.push(k(x[K]));return W},filter:function(x,k){for(var B=x.length,W=[],K=0;K<B;K++)k(x[K])&&W.push(x[K]);return W},filterSVGElements:function(x){return this.filter(x,function(k){return k instanceof U.SVGElement})}},l.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},l.Color=function(x){var k,B;this.r=0,this.g=0,this.b=0,x&&("string"==typeof x?l.regex.isRgb.test(x)?(k=l.regex.rgb.exec(x.replace(l.regex.whitespace,"")),this.r=parseInt(k[1]),this.g=parseInt(k[2]),this.b=parseInt(k[3])):l.regex.isHex.test(x)&&(k=l.regex.hex.exec(4==(B=x).length?["#",B.substring(1,2),B.substring(1,2),B.substring(2,3),B.substring(2,3),B.substring(3,4),B.substring(3,4)].join(""):B),this.r=parseInt(k[1],16),this.g=parseInt(k[2],16),this.b=parseInt(k[3],16)):"object"===yn(x)&&(this.r=x.r,this.g=x.g,this.b=x.b))},l.extend(l.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+M(this.r)+M(this.g)+M(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(x){return this.destination=new l.Color(x),this},at:function(x){return this.destination?new l.Color({r:~~(this.r+(this.destination.r-this.r)*(x=x<0?0:x>1?1:x)),g:~~(this.g+(this.destination.g-this.g)*x),b:~~(this.b+(this.destination.b-this.b)*x)}):this}}),l.Color.test=function(x){return l.regex.isHex.test(x+="")||l.regex.isRgb.test(x)},l.Color.isRgb=function(x){return x&&"number"==typeof x.r&&"number"==typeof x.g&&"number"==typeof x.b},l.Color.isColor=function(x){return l.Color.isRgb(x)||l.Color.test(x)},l.Array=function(x,k){0==(x=(x||[]).valueOf()).length&&k&&(x=k.valueOf()),this.value=this.parse(x)},l.extend(l.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(x){return x=x.valueOf(),Array.isArray(x)?x:this.split(x)}}),l.PointArray=function(x,k){l.Array.call(this,x,k||[[0,0]])},l.PointArray.prototype=new l.Array,l.PointArray.prototype.constructor=l.PointArray;for(var u={M:function(x,k,B){return k.x=B.x=x[0],k.y=B.y=x[1],["M",k.x,k.y]},L:function(x,k){return k.x=x[0],k.y=x[1],["L",x[0],x[1]]},H:function(x,k){return k.x=x[0],["H",x[0]]},V:function(x,k){return k.y=x[0],["V",x[0]]},C:function(x,k){return k.x=x[4],k.y=x[5],["C",x[0],x[1],x[2],x[3],x[4],x[5]]},Q:function(x,k){return k.x=x[2],k.y=x[3],["Q",x[0],x[1],x[2],x[3]]},Z:function(x,k,B){return k.x=B.x,k.y=B.y,["Z"]}},f="mlhvqtcsaz".split(""),p=0,_=f.length;p<_;++p)u[f[p]]=function(x){return function(k,B,W){if("H"==x)k[0]=k[0]+B.x;else if("V"==x)k[0]=k[0]+B.y;else if("A"==x)k[5]=k[5]+B.x,k[6]=k[6]+B.y;else for(var K=0,ve=k.length;K<ve;++K)k[K]=k[K]+(K%2?B.y:B.x);if(u&&"function"==typeof u[x])return u[x](k,B,W)}}(f[p].toUpperCase());l.PathArray=function(x,k){l.Array.call(this,x,k||[["M",0,0]])},l.PathArray.prototype=new l.Array,l.PathArray.prototype.constructor=l.PathArray,l.extend(l.PathArray,{toString:function(){return function(x){for(var k=0,B=x.length,W="";k<B;k++)W+=x[k][0],null!=x[k][1]&&(W+=x[k][1],null!=x[k][2]&&(W+=" ",W+=x[k][2],null!=x[k][3]&&(W+=" ",W+=x[k][3],W+=" ",W+=x[k][4],null!=x[k][5]&&(W+=" ",W+=x[k][5],W+=" ",W+=x[k][6],null!=x[k][7]&&(W+=" ",W+=x[k][7])))));return W+" "}(this.value)},move:function(x,k){return this.bbox(),this},at:function(x){if(!this.destination)return this;for(var k=this.value,B=this.destination.value,W=[],K=new l.PathArray,ve=0,te=k.length;ve<te;ve++){W[ve]=[k[ve][0]];for(var Ee=1,Le=k[ve].length;Ee<Le;Ee++)W[ve][Ee]=k[ve][Ee]+(B[ve][Ee]-k[ve][Ee])*x;"A"===W[ve][0]&&(W[ve][4]=+(0!=W[ve][4]),W[ve][5]=+(0!=W[ve][5]))}return K.value=W,K},parse:function(x){if(x instanceof l.PathArray)return x.valueOf();var k,B={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};x="string"==typeof x?x.replace(l.regex.numbersWithDots,y).replace(l.regex.pathLetters," $& ").replace(l.regex.hyphen,"$1 -").trim().split(l.regex.delimiter):x.reduce(function(Le,$e){return[].concat.call(Le,$e)},[]);var W=[],K=new l.Point,ve=new l.Point,te=0,Ee=x.length;do{l.regex.isPathLetter.test(x[te])?(k=x[te],++te):"M"==k?k="L":"m"==k&&(k="l"),W.push(u[k].call(null,x.slice(te,te+=B[k.toUpperCase()]).map(parseFloat),K,ve))}while(Ee>te);return W},bbox:function(){return l.parser.draw||l.prepare(),l.parser.path.setAttribute("d",this.toString()),l.parser.path.getBBox()}}),l.Number=l.invent({create:function(x,k){this.value=0,this.unit=k||"","number"==typeof x?this.value=isNaN(x)?0:isFinite(x)?x:x<0?-34e37:34e37:"string"==typeof x?(k=x.match(l.regex.numberAndUnit))&&(this.value=parseFloat(k[1]),"%"==k[5]?this.value/=100:"s"==k[5]&&(this.value*=1e3),this.unit=k[5]):x instanceof l.Number&&(this.value=x.valueOf(),this.unit=x.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(x){return x=new l.Number(x),new l.Number(this+x,this.unit||x.unit)},minus:function(x){return x=new l.Number(x),new l.Number(this-x,this.unit||x.unit)},times:function(x){return x=new l.Number(x),new l.Number(this*x,this.unit||x.unit)},divide:function(x){return x=new l.Number(x),new l.Number(this/x,this.unit||x.unit)},to:function(x){var k=new l.Number(this);return"string"==typeof x&&(k.unit=x),k},morph:function(x){return this.destination=new l.Number(x),x.relative&&(this.destination.value+=this.value),this},at:function(x){return this.destination?new l.Number(this.destination).minus(this).times(x).plus(this):this}}}),l.Element=l.invent({create:function(x){this._stroke=l.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=x)&&(this.type=x.nodeName,this.node.instance=this,this._stroke=x.getAttribute("stroke")||this._stroke)},extend:{x:function(x){return this.attr("x",x)},y:function(x){return this.attr("y",x)},cx:function(x){return null==x?this.x()+this.width()/2:this.x(x-this.width()/2)},cy:function(x){return null==x?this.y()+this.height()/2:this.y(x-this.height()/2)},move:function(x,k){return this.x(x).y(k)},center:function(x,k){return this.cx(x).cy(k)},width:function(x){return this.attr("width",x)},height:function(x){return this.attr("height",x)},size:function(x,k){var B=T(this,x,k);return this.width(new l.Number(B.width)).height(new l.Number(B.height))},clone:function(x){this.writeDataToDom();var k=L(this.node.cloneNode(!0));return x?x.add(k):this.after(k),k},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(x){return this.after(x).remove(),x},addTo:function(x){return x.put(this)},putIn:function(x){return x.add(this)},id:function(x){return this.attr("id",x)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var x=this.attr("class");return null==x?[]:x.trim().split(l.regex.delimiter)},hasClass:function(x){return-1!=this.classes().indexOf(x)},addClass:function(x){if(!this.hasClass(x)){var k=this.classes();k.push(x),this.attr("class",k.join(" "))}return this},removeClass:function(x){return this.hasClass(x)&&this.attr("class",this.classes().filter(function(k){return k!=x}).join(" ")),this},toggleClass:function(x){return this.hasClass(x)?this.removeClass(x):this.addClass(x)},reference:function(x){return l.get(this.attr(x))},parent:function(x){var k=this;if(!k.node.parentNode)return null;if(k=l.adopt(k.node.parentNode),!x)return k;for(;k&&k.node instanceof U.SVGElement;){if("string"==typeof x?k.matches(x):k instanceof x)return k;if(!k.node.parentNode||"#document"==k.node.parentNode.nodeName)return null;k=l.adopt(k.node.parentNode)}},doc:function(){return this instanceof l.Doc?this:this.parent(l.Doc)},parents:function(x){var k=[],B=this;do{if(!(B=B.parent(x))||!B.node)break;k.push(B)}while(B.parent);return k},matches:function(x){return((k=this.node).matches||k.matchesSelector||k.msMatchesSelector||k.mozMatchesSelector||k.webkitMatchesSelector||k.oMatchesSelector).call(k,x);var k},native:function(){return this.node},svg:function(x){var k=o.createElement("svg");if(!(x&&this instanceof l.Parent))return k.appendChild(x=o.createElement("svg")),this.writeDataToDom(),x.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");k.innerHTML="<svg>"+x.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var B=0,W=k.firstChild.childNodes.length;B<W;B++)this.node.appendChild(k.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(x){return this.dom=x,this},is:function(x){return this instanceof x}}}),l.easing={"-":function(x){return x},"<>":function(x){return-Math.cos(x*Math.PI)/2+.5},">":function(x){return Math.sin(x*Math.PI/2)},"<":function(x){return 1-Math.cos(x*Math.PI/2)}},l.morph=function(x){return function(k,B){return new l.MorphObj(k,B).at(x)}},l.Situation=l.invent({create:function(x){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new l.Number(x.duration).valueOf(),this.delay=new l.Number(x.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=x.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),l.FX=l.invent({create:function(x){this._target=x,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(x,k,B){"object"===yn(x)&&(k=x.ease,B=x.delay,x=x.duration);var W=new l.Situation({duration:x||1e3,delay:B||0,ease:l.easing[k||"-"]||k});return this.queue(W),this},target:function(x){return x&&x instanceof l.Element?(this._target=x,this):this._target},timeToAbsPos:function(x){return(x-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(x){return this.situation.duration/this._speed*x+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=U.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){U.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(x){return("function"==typeof x||x instanceof l.Situation)&&this.situations.push(x),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof l.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var x,k=this.situation;if(k.init)return this;for(var B in k.animations){x=this.target()[B](),Array.isArray(x)||(x=[x]),Array.isArray(k.animations[B])||(k.animations[B]=[k.animations[B]]);for(var W=x.length;W--;)k.animations[B][W]instanceof l.Number&&(x[W]=new l.Number(x[W])),k.animations[B][W]=x[W].morph(k.animations[B][W])}for(var B in k.attrs)k.attrs[B]=new l.MorphObj(this.target().attr(B),k.attrs[B]);for(var B in k.styles)k.styles[B]=new l.MorphObj(this.target().style(B),k.styles[B]);return k.initialTransformation=this.target().matrixify(),k.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(x,k){var B=this.active;return this.active=!1,k&&this.clearQueue(),x&&this.situation&&(!B&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(x){var k=this.last();return this.target().on("finished.fx",function B(W){W.detail.situation==k&&(x.call(this,k),this.off("finished.fx",B))}),this._callStart()},during:function(x){var k=this.last(),B=function(W){W.detail.situation==k&&x.call(this,W.detail.pos,l.morph(W.detail.pos),W.detail.eased,k)};return this.target().off("during.fx",B).on("during.fx",B),this.after(function(){this.off("during.fx",B)}),this._callStart()},afterAll:function(x){var k=function B(W){x.call(this),this.off("allfinished.fx",B)};return this.target().off("allfinished.fx",k).on("allfinished.fx",k),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(x,k,B){return this.last()[B||"animations"][x]=k,this._callStart()},step:function(x){var k,B,W;x||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(k=Math.max(this.absPos,0),B=Math.floor(k),!0===this.situation.loops||B<this.situation.loops?(this.pos=k-B,W=this.situation.loop,this.situation.loop=B):(this.absPos=this.situation.loops,this.pos=1,W=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-W)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var K=this.situation.ease(this.pos);for(var ve in this.situation.once)ve>this.lastPos&&ve<=K&&(this.situation.once[ve].call(this.target(),this.pos,K),delete this.situation.once[ve]);return this.active&&this.target().fire("during",{pos:this.pos,eased:K,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=K,this):this},eachAt:function(){var x,k=this,B=this.target(),W=this.situation;for(var K in W.animations)x=[].concat(W.animations[K]).map(function(Ee){return"string"!=typeof Ee&&Ee.at?Ee.at(W.ease(k.pos),k.pos):Ee}),B[K].apply(B,x);for(var K in W.attrs)x=[K].concat(W.attrs[K]).map(function(Le){return"string"!=typeof Le&&Le.at?Le.at(W.ease(k.pos),k.pos):Le}),B.attr.apply(B,x);for(var K in W.styles)x=[K].concat(W.styles[K]).map(function(Le){return"string"!=typeof Le&&Le.at?Le.at(W.ease(k.pos),k.pos):Le}),B.style.apply(B,x);if(W.transforms.length){x=W.initialTransformation,K=0;for(var ve=W.transforms.length;K<ve;K++){var te=W.transforms[K];te instanceof l.Matrix?x=te.relative?x.multiply((new l.Matrix).morph(te).at(W.ease(this.pos))):x.morph(te).at(W.ease(this.pos)):(te.relative||te.undo(x.extract()),x=x.multiply(te.at(W.ease(this.pos))))}B.matrix(x)}return this},once:function(x,k,B){var W=this.last();return B||(x=W.ease(x)),W.once[x]=k,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:l.Element,construct:{animate:function(x,k,B){return(this.fx||(this.fx=new l.FX(this))).animate(x,k,B)},delay:function(x){return(this.fx||(this.fx=new l.FX(this))).delay(x)},stop:function(x,k){return this.fx&&this.fx.stop(x,k),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),l.MorphObj=l.invent({create:function(x,k){return l.Color.isColor(k)?new l.Color(x).morph(k):l.regex.delimiter.test(x)?l.regex.pathLetters.test(x)?new l.PathArray(x).morph(k):new l.Array(x).morph(k):l.regex.numberAndUnit.test(k)?new l.Number(x).morph(k):(this.value=x,void(this.destination=k))},extend:{at:function(x,k){return k<1?this.value:this.destination},valueOf:function(){return this.value}}}),l.extend(l.FX,{attr:function(x,k,B){if("object"===yn(x))for(var W in x)this.attr(W,x[W]);else this.add(x,k,"attrs");return this},plot:function(x,k,B,W){return 4==arguments.length?this.plot([x,k,B,W]):this.add("plot",new(this.target().morphArray)(x))}}),l.Box=l.invent({create:function(x,k,B,W){if(!("object"!==yn(x)||x instanceof l.Element))return l.Box.call(this,null!=x.left?x.left:x.x,null!=x.top?x.top:x.y,x.width,x.height);4==arguments.length&&(this.x=x,this.y=k,this.width=B,this.height=W),H(this)}}),l.BBox=l.invent({create:function(x){if(l.Box.apply(this,[].slice.call(arguments)),x instanceof l.Element){var k;try{if(!o.documentElement.contains){for(var B=x.node;B.parentNode;)B=B.parentNode;if(B!=o)throw new Error("Element not in the dom")}k=x.node.getBBox()}catch(K){if(x instanceof l.Shape){l.parser.draw||l.prepare();var W=x.clone(l.parser.draw.instance).show();W&&W.node&&"function"==typeof W.node.getBBox&&(k=W.node.getBBox()),W&&"function"==typeof W.remove&&W.remove()}else k={x:x.node.clientLeft,y:x.node.clientTop,width:x.node.clientWidth,height:x.node.clientHeight}}l.Box.call(this,k)}},inherit:l.Box,parent:l.Element,construct:{bbox:function(){return new l.BBox(this)}}}),l.BBox.prototype.constructor=l.BBox,l.Matrix=l.invent({create:function(x){var k=O([1,0,0,1,0,0]);x=null===x?k:x instanceof l.Element?x.matrixify():"string"==typeof x?O(x.split(l.regex.delimiter).map(parseFloat)):6==arguments.length?O([].slice.call(arguments)):Array.isArray(x)?O(x):x&&"object"===yn(x)?x:k;for(var B=Y.length-1;B>=0;--B)this[Y[B]]=null!=x[Y[B]]?x[Y[B]]:k[Y[B]]},extend:{extract:function(){var x=R(this,0,1);R(this,1,0);var k=180/Math.PI*Math.atan2(x.y,x.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(k*Math.PI/180)+this.f*Math.sin(k*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(k*Math.PI/180)+this.e*Math.sin(-k*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:k,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new l.Matrix(this)}},clone:function(){return new l.Matrix(this)},morph:function(x){return this.destination=new l.Matrix(x),this},multiply:function(x){return new l.Matrix(this.native().multiply((k=x,k instanceof l.Matrix||(k=new l.Matrix(k)),k).native()));var k},inverse:function(){return new l.Matrix(this.native().inverse())},translate:function(x,k){return new l.Matrix(this.native().translate(x||0,k||0))},native:function(){for(var x=l.parser.native.createSVGMatrix(),k=Y.length-1;k>=0;k--)x[Y[k]]=this[Y[k]];return x},toString:function(){return"matrix("+z(this.a)+","+z(this.b)+","+z(this.c)+","+z(this.d)+","+z(this.e)+","+z(this.f)+")"}},parent:l.Element,construct:{ctm:function(){return new l.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof l.Nested){var x=this.rect(1,1),k=x.node.getScreenCTM();return x.remove(),new l.Matrix(k)}return new l.Matrix(this.node.getScreenCTM())}}}),l.Point=l.invent({create:function(x,k){var B;B=Array.isArray(x)?{x:x[0],y:x[1]}:"object"===yn(x)?{x:x.x,y:x.y}:null!=x?{x,y:null!=k?k:x}:{x:0,y:0},this.x=B.x,this.y=B.y},extend:{clone:function(){return new l.Point(this)},morph:function(x,k){return this.destination=new l.Point(x,k),this}}}),l.extend(l.Element,{point:function(x,k){return new l.Point(x,k).transform(this.screenCTM().inverse())}}),l.extend(l.Element,{attr:function(x,k,B){if(null==x){for(x={},B=(k=this.node.attributes).length-1;B>=0;B--)x[k[B].nodeName]=l.regex.isNumber.test(k[B].nodeValue)?parseFloat(k[B].nodeValue):k[B].nodeValue;return x}if("object"===yn(x))for(var W in x)this.attr(W,x[W]);else if(null===k)this.node.removeAttribute(x);else{if(null==k)return null==(k=this.node.getAttribute(x))?l.defaults.attrs[x]:l.regex.isNumber.test(k)?parseFloat(k):k;"stroke-width"==x?this.attr("stroke",parseFloat(k)>0?this._stroke:null):"stroke"==x&&(this._stroke=k),"fill"!=x&&"stroke"!=x||(l.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof l.Image&&(k=this.doc().defs().pattern(0,0,function(){this.add(k)}))),"number"==typeof k?k=new l.Number(k):l.Color.isColor(k)?k=new l.Color(k):Array.isArray(k)&&(k=new l.Array(k)),"leading"==x?this.leading&&this.leading(k):"string"==typeof B?this.node.setAttributeNS(B,x,k.toString()):this.node.setAttribute(x,k.toString()),!this.rebuild||"font-size"!=x&&"x"!=x||this.rebuild(x,k)}return this}}),l.extend(l.Element,{transform:function(x,k){var B;return"object"!==yn(x)?(B=new l.Matrix(this).extract(),"string"==typeof x?B[x]:B):(B=new l.Matrix(this),k=!!k||!!x.relative,null!=x.a&&(B=k?B.multiply(new l.Matrix(x)):new l.Matrix(x)),this.attr("transform",B))}}),l.extend(l.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(l.regex.transforms).slice(0,-1).map(function(x){var k=x.trim().split("(");return[k[0],k[1].split(l.regex.delimiter).map(function(B){return parseFloat(B)})]}).reduce(function(x,k){return"matrix"==k[0]?x.multiply(O(k[1])):x[k[0]].apply(x,k[1])},new l.Matrix)},toParent:function(x){if(this==x)return this;var k=this.screenCTM(),B=x.screenCTM().inverse();return this.addTo(x).untransform().transform(B.multiply(k)),this},toDoc:function(){return this.toParent(this.doc())}}),l.Transformation=l.invent({create:function(x,k){if(arguments.length>1&&"boolean"!=typeof k)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(x))for(var B=0,W=this.arguments.length;B<W;++B)this[this.arguments[B]]=x[B];else if(x&&"object"===yn(x))for(B=0,W=this.arguments.length;B<W;++B)this[this.arguments[B]]=x[this.arguments[B]];this.inversed=!1,!0===k&&(this.inversed=!0)}}),l.Translate=l.invent({parent:l.Matrix,inherit:l.Transformation,create:function(x,k){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),l.extend(l.Element,{style:function(x,k){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===yn(x))for(var B in x)this.style(B,x[B]);else{if(!l.regex.isCss.test(x))return this.node.style[w(x)];for(x=x.split(/\s*;\s*/).filter(function(W){return!!W}).map(function(W){return W.split(/\s*:\s*/)});k=x.pop();)this.style(k[0],k[1])}else this.node.style[w(x)]=null===k||l.regex.isBlank.test(k)?"":k;return this}}),l.Parent=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element,extend:{children:function(){return l.utils.map(l.utils.filterSVGElements(this.node.childNodes),function(x){return l.adopt(x)})},add:function(x,k){return null==k?this.node.appendChild(x.node):x.node!=this.node.childNodes[k]&&this.node.insertBefore(x.node,this.node.childNodes[k]),this},put:function(x,k){return this.add(x,k),x},has:function(x){return this.index(x)>=0},index:function(x){return[].slice.call(this.node.childNodes).indexOf(x.node)},get:function(x){return l.adopt(this.node.childNodes[x])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(x,k){for(var B=this.children(),W=0,K=B.length;W<K;W++)B[W]instanceof l.Element&&x.apply(B[W],[W,B]),k&&B[W]instanceof l.Container&&B[W].each(x,k);return this},removeElement:function(x){return this.node.removeChild(x.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),l.extend(l.Parent,{ungroup:function(x,k){return 0===k||this instanceof l.Defs||this.node==l.parser.draw||(x=x||(this instanceof l.Doc?this:this.parent(l.Parent)),k=k||1/0,this.each(function(){return this instanceof l.Defs?this:this instanceof l.Parent?this.ungroup(x,k-1):this.toParent(x)}),this.node.firstChild||this.remove()),this},flatten:function(x,k){return this.ungroup(x,k)}}),l.Container=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Parent}),l.ViewBox=l.invent({parent:l.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(x){l.Element.prototype[x]=function(k){return l.on(this.node,x,k),this}}),l.listeners=[],l.handlerMap=[],l.listenerId=0,l.on=function(x,k,B,W,K){var ve=B.bind(W||x.instance||x),te=(l.handlerMap.indexOf(x)+1||l.handlerMap.push(x))-1,Ee=k.split(".")[0],Le=k.split(".")[1]||"*";l.listeners[te]=l.listeners[te]||{},l.listeners[te][Ee]=l.listeners[te][Ee]||{},l.listeners[te][Ee][Le]=l.listeners[te][Ee][Le]||{},B._svgjsListenerId||(B._svgjsListenerId=++l.listenerId),l.listeners[te][Ee][Le][B._svgjsListenerId]=ve,x.addEventListener(Ee,ve,K||{passive:!0})},l.off=function(x,k,B){var W=l.handlerMap.indexOf(x),K=k&&k.split(".")[0],ve=k&&k.split(".")[1],te="";if(-1!=W)if(B){if("function"==typeof B&&(B=B._svgjsListenerId),!B)return;l.listeners[W][K]&&l.listeners[W][K][ve||"*"]&&(x.removeEventListener(K,l.listeners[W][K][ve||"*"][B],!1),delete l.listeners[W][K][ve||"*"][B])}else if(ve&&K){if(l.listeners[W][K]&&l.listeners[W][K][ve]){for(var Ee in l.listeners[W][K][ve])l.off(x,[K,ve].join("."),Ee);delete l.listeners[W][K][ve]}}else if(ve)for(var Le in l.listeners[W])for(var te in l.listeners[W][Le])ve===te&&l.off(x,[Le,ve].join("."));else if(K){if(l.listeners[W][K]){for(var te in l.listeners[W][K])l.off(x,[K,te].join("."));delete l.listeners[W][K]}}else{for(var Le in l.listeners[W])l.off(x,Le);delete l.listeners[W],delete l.handlerMap[W]}},l.extend(l.Element,{on:function(x,k,B,W){return l.on(this.node,x,k,B,W),this},off:function(x,k){return l.off(this.node,x,k),this},fire:function(x,k){return this.node.dispatchEvent(x instanceof U.Event?x:x=new l.CustomEvent(x,{detail:k,cancelable:!0})),this._event=x,this},event:function(){return this._event}}),l.Defs=l.invent({create:"defs",inherit:l.Container}),l.G=l.invent({create:"g",inherit:l.Container,extend:{x:function(x){return null==x?this.transform("x"):this.transform({x:x-this.x()},!0)}},construct:{group:function(){return this.put(new l.G)}}}),l.Doc=l.invent({create:function(x){x&&("svg"==(x="string"==typeof x?o.getElementById(x):x).nodeName?this.constructor.call(this,x):(this.constructor.call(this,l.create("svg")),x.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:l.Container,extend:{namespace:function(){return this.attr({xmlns:l.ns,version:"1.1"}).attr("xmlns:xlink",l.xlink,l.xmlns).attr("xmlns:svgjs",l.svgjs,l.xmlns)},defs:function(){var x;return this._defs||(this._defs=(x=this.node.getElementsByTagName("defs")[0])?l.adopt(x):new l.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,l.parser.draw&&!l.parser.draw.parentNode&&this.node.appendChild(l.parser.draw),this},clone:function(x){this.writeDataToDom();var k=this.node,B=L(k.cloneNode(!0));return x?(x.node||x).appendChild(B.node):k.parentNode.insertBefore(B.node,k.nextSibling),B}}}),l.extend(l.Element,{}),l.Gradient=l.invent({create:function(x){this.constructor.call(this,l.create(x+"Gradient")),this.type=x},inherit:l.Container,extend:{at:function(x,k,B){return this.put(new l.Stop).update(x,k,B)},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(x,k,B){return"transform"==x&&(x="gradientTransform"),l.Container.prototype.attr.call(this,x,k,B)}},construct:{gradient:function(x,k){return this.defs().gradient(x,k)}}}),l.extend(l.Gradient,l.FX,{from:function(x,k){return this.attr("radial"==(this._target||this).type?{fx:new l.Number(x),fy:new l.Number(k)}:{x1:new l.Number(x),y1:new l.Number(k)})},to:function(x,k){return this.attr("radial"==(this._target||this).type?{cx:new l.Number(x),cy:new l.Number(k)}:{x2:new l.Number(x),y2:new l.Number(k)})}}),l.extend(l.Defs,{gradient:function(x,k){return this.put(new l.Gradient(x)).update(k)}}),l.Stop=l.invent({create:"stop",inherit:l.Element,extend:{update:function(x){return("number"==typeof x||x instanceof l.Number)&&(x={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=x.opacity&&this.attr("stop-opacity",x.opacity),null!=x.color&&this.attr("stop-color",x.color),null!=x.offset&&this.attr("offset",new l.Number(x.offset)),this}}}),l.Pattern=l.invent({create:"pattern",inherit:l.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(x){return this.clear(),"function"==typeof x&&x.call(this,this),this},toString:function(){return this.fill()},attr:function(x,k,B){return"transform"==x&&(x="patternTransform"),l.Container.prototype.attr.call(this,x,k,B)}},construct:{pattern:function(x,k,B){return this.defs().pattern(x,k,B)}}}),l.extend(l.Defs,{pattern:function(x,k,B){return this.put(new l.Pattern).update(B).attr({x:0,y:0,width:x,height:k,patternUnits:"userSpaceOnUse"})}}),l.Shape=l.invent({create:function(x){this.constructor.call(this,x)},inherit:l.Element}),l.Symbol=l.invent({create:"symbol",inherit:l.Container,construct:{symbol:function(){return this.put(new l.Symbol)}}}),l.Use=l.invent({create:"use",inherit:l.Shape,extend:{element:function(x,k){return this.attr("href",(k||"")+"#"+x,l.xlink)}},construct:{use:function(x,k){return this.put(new l.Use).element(x,k)}}}),l.Rect=l.invent({create:"rect",inherit:l.Shape,construct:{rect:function(x,k){return this.put(new l.Rect).size(x,k)}}}),l.Circle=l.invent({create:"circle",inherit:l.Shape,construct:{circle:function(x){return this.put(new l.Circle).rx(new l.Number(x).divide(2)).move(0,0)}}}),l.extend(l.Circle,l.FX,{rx:function(x){return this.attr("r",x)},ry:function(x){return this.rx(x)}}),l.Ellipse=l.invent({create:"ellipse",inherit:l.Shape,construct:{ellipse:function(x,k){return this.put(new l.Ellipse).size(x,k).move(0,0)}}}),l.extend(l.Ellipse,l.Rect,l.FX,{rx:function(x){return this.attr("rx",x)},ry:function(x){return this.attr("ry",x)}}),l.extend(l.Circle,l.Ellipse,{x:function(x){return null==x?this.cx()-this.rx():this.cx(x+this.rx())},y:function(x){return null==x?this.cy()-this.ry():this.cy(x+this.ry())},cx:function(x){return null==x?this.attr("cx"):this.attr("cx",x)},cy:function(x){return null==x?this.attr("cy"):this.attr("cy",x)},width:function(x){return null==x?2*this.rx():this.rx(new l.Number(x).divide(2))},height:function(x){return null==x?2*this.ry():this.ry(new l.Number(x).divide(2))},size:function(x,k){var B=T(this,x,k);return this.rx(new l.Number(B.width).divide(2)).ry(new l.Number(B.height).divide(2))}}),l.Line=l.invent({create:"line",inherit:l.Shape,extend:{array:function(){return new l.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(x,k,B,W){return null==x?this.array():(x=void 0!==k?{x1:x,y1:k,x2:B,y2:W}:new l.PointArray(x).toLine(),this.attr(x))},move:function(x,k){return this.attr(this.array().move(x,k).toLine())},size:function(x,k){var B=T(this,x,k);return this.attr(this.array().size(B.width,B.height).toLine())}},construct:{line:function(x,k,B,W){return l.Line.prototype.plot.apply(this.put(new l.Line),null!=x?[x,k,B,W]:[0,0,0,0])}}}),l.Polyline=l.invent({create:"polyline",inherit:l.Shape,construct:{polyline:function(x){return this.put(new l.Polyline).plot(x||new l.PointArray)}}}),l.Polygon=l.invent({create:"polygon",inherit:l.Shape,construct:{polygon:function(x){return this.put(new l.Polygon).plot(x||new l.PointArray)}}}),l.extend(l.Polyline,l.Polygon,{array:function(){return this._array||(this._array=new l.PointArray(this.attr("points")))},plot:function(x){return null==x?this.array():this.clear().attr("points","string"==typeof x?x:this._array=new l.PointArray(x))},clear:function(){return delete this._array,this},move:function(x,k){return this.attr("points",this.array().move(x,k))},size:function(x,k){var B=T(this,x,k);return this.attr("points",this.array().size(B.width,B.height))}}),l.extend(l.Line,l.Polyline,l.Polygon,{morphArray:l.PointArray,x:function(x){return null==x?this.bbox().x:this.move(x,this.bbox().y)},y:function(x){return null==x?this.bbox().y:this.move(this.bbox().x,x)},width:function(x){var k=this.bbox();return null==x?k.width:this.size(x,k.height)},height:function(x){var k=this.bbox();return null==x?k.height:this.size(k.width,x)}}),l.Path=l.invent({create:"path",inherit:l.Shape,extend:{morphArray:l.PathArray,array:function(){return this._array||(this._array=new l.PathArray(this.attr("d")))},plot:function(x){return null==x?this.array():this.clear().attr("d","string"==typeof x?x:this._array=new l.PathArray(x))},clear:function(){return delete this._array,this}},construct:{path:function(x){return this.put(new l.Path).plot(x||new l.PathArray)}}}),l.Image=l.invent({create:"image",inherit:l.Shape,extend:{load:function(x){if(!x)return this;var k=this,B=new U.Image;return l.on(B,"load",function(){l.off(B);var W=k.parent(l.Pattern);null!==W&&(0==k.width()&&0==k.height()&&k.size(B.width,B.height),W&&0==W.width()&&0==W.height()&&W.size(k.width(),k.height()),"function"==typeof k._loaded&&k._loaded.call(k,{width:B.width,height:B.height,ratio:B.width/B.height,url:x}))}),l.on(B,"error",function(W){l.off(B),"function"==typeof k._error&&k._error.call(k,W)}),this.attr("href",B.src=this.src=x,l.xlink)},loaded:function(x){return this._loaded=x,this},error:function(x){return this._error=x,this}},construct:{image:function(x,k,B){return this.put(new l.Image).load(x).size(k||0,B||k||0)}}}),l.Text=l.invent({create:function(){this.constructor.call(this,l.create("text")),this.dom.leading=new l.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",l.defaults.attrs["font-family"])},inherit:l.Shape,extend:{x:function(x){return null==x?this.attr("x"):this.attr("x",x)},text:function(x){if(void 0===x){x="";for(var k=this.node.childNodes,B=0,W=k.length;B<W;++B)0!=B&&3!=k[B].nodeType&&1==l.adopt(k[B]).dom.newLined&&(x+="\n"),x+=k[B].textContent;return x}if(this.clear().build(!0),"function"==typeof x)x.call(this,this);else{B=0;for(var K=(x=x.split("\n")).length;B<K;B++)this.tspan(x[B]).newLine()}return this.build(!1).rebuild()},size:function(x){return this.attr("font-size",x).rebuild()},leading:function(x){return null==x?this.dom.leading:(this.dom.leading=new l.Number(x),this.rebuild())},lines:function(){var x=(this.textPath&&this.textPath()||this).node,k=l.utils.map(l.utils.filterSVGElements(x.childNodes),function(B){return l.adopt(B)});return new l.Set(k)},rebuild:function(x){if("boolean"==typeof x&&(this._rebuild=x),this._rebuild){var k=this,B=0,W=this.dom.leading*new l.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(k.textPath()||this.attr("x",k.attr("x")),"\n"==this.text()?B+=W:(this.attr("dy",W+B),B=0))}),this.fire("rebuild")}return this},build:function(x){return this._build=!!x,this},setData:function(x){return this.dom=x,this.dom.leading=new l.Number(x.leading||1.3),this}},construct:{text:function(x){return this.put(new l.Text).text(x)},plain:function(x){return this.put(new l.Text).plain(x)}}}),l.Tspan=l.invent({create:"tspan",inherit:l.Shape,extend:{text:function(x){return null==x?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof x?x.call(this,this):this.plain(x),this)},dx:function(x){return this.attr("dx",x)},dy:function(x){return this.attr("dy",x)},newLine:function(){var x=this.parent(l.Text);return this.dom.newLined=!0,this.dy(x.dom.leading*x.attr("font-size")).attr("x",x.x())}}}),l.extend(l.Text,l.Tspan,{plain:function(x){return!1===this._build&&this.clear(),this.node.appendChild(o.createTextNode(x)),this},tspan:function(x){var k=(this.textPath&&this.textPath()||this).node,B=new l.Tspan;return!1===this._build&&this.clear(),k.appendChild(B.node),B.text(x)},clear:function(){for(var x=(this.textPath&&this.textPath()||this).node;x.hasChildNodes();)x.removeChild(x.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),l.TextPath=l.invent({create:"textPath",inherit:l.Parent,parent:l.Text,construct:{morphArray:l.PathArray,array:function(){var x=this.track();return x?x.array():null},plot:function(x){var k=this.track(),B=null;return k&&(B=k.plot(x)),null==x?B:this},track:function(){var x=this.textPath();if(x)return x.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return l.adopt(this.node.firstChild)}}}),l.Nested=l.invent({create:function(){this.constructor.call(this,l.create("svg")),this.style("overflow","visible")},inherit:l.Container,construct:{nested:function(){return this.put(new l.Nested)}}});var m={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(x,k){return"color"==k?x:x+"-"+k}};function y(x,k,B,W){return B+W.replace(l.regex.dots," .")}function w(x){return x.toLowerCase().replace(/-(.)/g,function(k,B){return B.toUpperCase()})}function S(x){return x.charAt(0).toUpperCase()+x.slice(1)}function M(x){var k=x.toString(16);return 1==k.length?"0"+k:k}function T(x,k,B){if(null==k||null==B){var W=x.bbox();null==k?k=W.width/W.height*B:null==B&&(B=W.height/W.width*k)}return{width:k,height:B}}function R(x,k,B){return{x:k*x.a+B*x.c+0,y:k*x.b+B*x.d+0}}function O(x){return{a:x[0],b:x[1],c:x[2],d:x[3],e:x[4],f:x[5]}}function L(x){for(var k=x.childNodes.length-1;k>=0;k--)x.childNodes[k]instanceof U.SVGElement&&L(x.childNodes[k]);return l.adopt(x).id(l.eid(x.nodeName))}function H(x){return null==x.x&&(x.x=0,x.y=0,x.width=0,x.height=0),x.w=x.width,x.h=x.height,x.x2=x.x+x.width,x.y2=x.y+x.height,x.cx=x.x+x.width/2,x.cy=x.y+x.height/2,x}function z(x){return Math.abs(x)>1e-37?x:0}["fill","stroke"].forEach(function(x){var k={};k[x]=function(B){if(void 0===B)return this;if("string"==typeof B||l.Color.isRgb(B)||B&&"function"==typeof B.fill)this.attr(x,B);else for(var W=m[x].length-1;W>=0;W--)null!=B[m[x][W]]&&this.attr(m.prefix(x,m[x][W]),B[m[x][W]]);return this},l.extend(l.Element,l.FX,k)}),l.extend(l.Element,l.FX,{translate:function(x,k){return this.transform({x,y:k})},matrix:function(x){return this.attr("transform",new l.Matrix(6==arguments.length?[].slice.call(arguments):x))},opacity:function(x){return this.attr("opacity",x)},dx:function(x){return this.x(new l.Number(x).plus(this instanceof l.FX?0:this.x()),!0)},dy:function(x){return this.y(new l.Number(x).plus(this instanceof l.FX?0:this.y()),!0)}}),l.extend(l.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(x){return this.node.getPointAtLength(x)}}),l.Set=l.invent({create:function(x){Array.isArray(x)?this.members=x:this.clear()},extend:{add:function(){for(var x=[].slice.call(arguments),k=0,B=x.length;k<B;k++)this.members.push(x[k]);return this},remove:function(x){var k=this.index(x);return k>-1&&this.members.splice(k,1),this},each:function(x){for(var k=0,B=this.members.length;k<B;k++)x.apply(this.members[k],[k,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(x){return this.index(x)>=0},index:function(x){return this.members.indexOf(x)},get:function(x){return this.members[x]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(x){return new l.Set(x)}}}),l.FX.Set=l.invent({create:function(x){this.set=x}}),l.Set.inherit=function(){var x=[];for(var k in l.Shape.prototype)"function"==typeof l.Shape.prototype[k]&&"function"!=typeof l.Set.prototype[k]&&x.push(k);for(var k in x.forEach(function(W){l.Set.prototype[W]=function(){for(var K=0,ve=this.members.length;K<ve;K++)this.members[K]&&"function"==typeof this.members[K][W]&&this.members[K][W].apply(this.members[K],arguments);return"animate"==W?this.fx||(this.fx=new l.FX.Set(this)):this}}),x=[],l.FX.prototype)"function"==typeof l.FX.prototype[k]&&"function"!=typeof l.FX.Set.prototype[k]&&x.push(k);x.forEach(function(B){l.FX.Set.prototype[B]=function(){for(var W=0,K=this.set.members.length;W<K;W++)this.set.members[W].fx[B].apply(this.set.members[W].fx,arguments);return this}})},l.extend(l.Element,{}),l.extend(l.Element,{remember:function(x,k){if("object"===yn(arguments[0]))for(var B in x)this.remember(B,x[B]);else{if(1==arguments.length)return this.memory()[x];this.memory()[x]=k}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var x=arguments.length-1;x>=0;x--)delete this.memory()[arguments[x]];return this},memory:function(){return this._memory||(this._memory={})}}),l.get=function(x){var k=o.getElementById(function(B){var W=(B||"").toString().match(l.regex.reference);if(W)return W[1]}(x)||x);return l.adopt(k)},l.select=function(x,k){return new l.Set(l.utils.map((k||o).querySelectorAll(x),function(B){return l.adopt(B)}))},l.extend(l.Parent,{select:function(x){return l.select(x,this.node)}});var Y="abcdef".split("");if("function"!=typeof U.CustomEvent){var X=function(x,k){k=k||{bubbles:!1,cancelable:!1,detail:void 0};var B=o.createEvent("CustomEvent");return B.initCustomEvent(x,k.bubbles,k.cancelable,k.detail),B};X.prototype=U.Event.prototype,l.CustomEvent=X}else l.CustomEvent=U.CustomEvent;return l},void 0!==(mi=function(){return rn(Sh,Sh.document)}.call(gh,tg,gh,kl))&&(kl.exports=mi),function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(m,y){return this.add(m,y),!m.attr("in")&&this.autoSetIn&&m.attr("in",this.source),m.attr("result")||m.attr("result",m),m},blend:function(m,y,w){return this.put(new SVG.BlendEffect(m,y,w))},colorMatrix:function(m,y){return this.put(new SVG.ColorMatrixEffect(m,y))},convolveMatrix:function(m){return this.put(new SVG.ConvolveMatrixEffect(m))},componentTransfer:function(m){return this.put(new SVG.ComponentTransferEffect(m))},composite:function(m,y,w){return this.put(new SVG.CompositeEffect(m,y,w))},flood:function(m,y){return this.put(new SVG.FloodEffect(m,y))},offset:function(m,y){return this.put(new SVG.OffsetEffect(m,y))},image:function(m){return this.put(new SVG.ImageEffect(m))},merge:function(){var m=[void 0];for(var y in arguments)m.push(arguments[y]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,m)))},gaussianBlur:function(m,y){return this.put(new SVG.GaussianBlurEffect(m,y))},morphology:function(m,y){return this.put(new SVG.MorphologyEffect(m,y))},diffuseLighting:function(m,y,w){return this.put(new SVG.DiffuseLightingEffect(m,y,w))},displacementMap:function(m,y,w,S,M){return this.put(new SVG.DisplacementMapEffect(m,y,w,S,M))},specularLighting:function(m,y,w,S){return this.put(new SVG.SpecularLightingEffect(m,y,w,S))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(m,y,w,S,M){return this.put(new SVG.TurbulenceEffect(m,y,w,S,M))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(m){var y=this.put(new SVG.Filter);return"function"==typeof m&&m.call(y,y),y}}),SVG.extend(SVG.Container,{filter:function(m){return this.defs().filter(m)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(m){return this.filterer=m instanceof SVG.Element?m:this.doc().filter(m),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(m){return this.filterer&&!0===m&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",m)},result:function(m){return null==m?this.attr("result"):this.attr("result",m)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",m)},result:function(m){return null==m?this.attr("result"):this.attr("result",m)},toString:function(){return this.result()}}});var U={blend:function(m,y){return this.parent()&&this.parent().blend(this,m,y)},colorMatrix:function(m,y){return this.parent()&&this.parent().colorMatrix(m,y).in(this)},convolveMatrix:function(m){return this.parent()&&this.parent().convolveMatrix(m).in(this)},componentTransfer:function(m){return this.parent()&&this.parent().componentTransfer(m).in(this)},composite:function(m,y){return this.parent()&&this.parent().composite(this,m,y)},flood:function(m,y){return this.parent()&&this.parent().flood(m,y)},offset:function(m,y){return this.parent()&&this.parent().offset(m,y).in(this)},image:function(m){return this.parent()&&this.parent().image(m)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(m,y){return this.parent()&&this.parent().gaussianBlur(m,y).in(this)},morphology:function(m,y){return this.parent()&&this.parent().morphology(m,y).in(this)},diffuseLighting:function(m,y,w){return this.parent()&&this.parent().diffuseLighting(m,y,w).in(this)},displacementMap:function(m,y,w,S){return this.parent()&&this.parent().displacementMap(this,m,y,w,S)},specularLighting:function(m,y,w,S){return this.parent()&&this.parent().specularLighting(m,y,w,S).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(m,y,w,S,M){return this.parent()&&this.parent().turbulence(m,y,w,S,M).in(this)}};SVG.extend(SVG.Effect,U),SVG.extend(SVG.ParentEffect,U),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(m){this.attr("in",m)}}});var o={blend:function(m,y,w){this.attr({in:m,in2:y,mode:w||"normal"})},colorMatrix:function(m,y){"matrix"==m&&(y=f(y)),this.attr({type:m,values:void 0===y?null:y})},convolveMatrix:function(m){m=f(m),this.attr({order:Math.sqrt(m.split(" ").length),kernelMatrix:m})},composite:function(m,y,w){this.attr({in:m,in2:y,operator:w})},flood:function(m,y){this.attr("flood-color",m),null!=y&&this.attr("flood-opacity",y)},offset:function(m,y){this.attr({dx:m,dy:y})},image:function(m){this.attr("href",m,SVG.xlink)},displacementMap:function(m,y,w,S,M){this.attr({in:m,in2:y,scale:w,xChannelSelector:S,yChannelSelector:M})},gaussianBlur:function(m,y){this.attr("stdDeviation",null!=m||null!=y?p(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(m,y){this.attr({operator:m,radius:y})},tile:function(){},turbulence:function(m,y,w,S,M){this.attr({numOctaves:y,seed:w,stitchTiles:S,baseFrequency:m,type:M})}},l={merge:function(){var m;if(arguments[0]instanceof SVG.Set){var y=this;arguments[0].each(function(S){this instanceof SVG.MergeNode?y.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&y.put(new SVG.MergeNode(this))})}else{m=Array.isArray(arguments[0])?arguments[0]:arguments;for(var w=0;w<m.length;w++)m[w]instanceof SVG.MergeNode?this.put(m[w]):this.put(new SVG.MergeNode(m[w]))}},componentTransfer:function(m){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(w){this[w]=new(SVG["Func"+w.toUpperCase()])("identity"),this.rgb.add(this[w]),this.node.appendChild(this[w].node)}.bind(this)),m)for(var y in m.rgb&&(["r","g","b"].forEach(function(w){this[w].attr(m.rgb)}.bind(this)),delete m.rgb),m)this[y].attr(m[y])},diffuseLighting:function(m,y,w){this.attr({surfaceScale:m,diffuseConstant:y,kernelUnitLength:w})},specularLighting:function(m,y,w,S){this.attr({surfaceScale:m,diffuseConstant:y,specularExponent:w,kernelUnitLength:S})}},u={distantLight:function(m,y){this.attr({azimuth:m,elevation:y})},pointLight:function(m,y,w){this.attr({x:m,y,z:w})},spotLight:function(m,y,w,S,M,T){this.attr({x:m,y,z:w,pointsAtX:S,pointsAtY:M,pointsAtZ:T})},mergeNode:function(m){this.attr("in",m)}};function f(m){return Array.isArray(m)&&(m=new SVG.Array(m)),m.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function p(m){if(!Array.isArray(m))return m;for(var y=0,w=m.length,S=[];y<w;y++)S.push(m[y]);return S.join(" ")}function _(){var m=function(){};for(var y in"function"==typeof arguments[arguments.length-1]&&(m=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var w in arguments[y])m(arguments[y][w],w,arguments[y])}["r","g","b","a"].forEach(function(m){u["Func"+m.toUpperCase()]=function(y){switch(this.attr("type",y),y){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),_(o,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),_(l,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),_(u,function(m,y){var w=y.charAt(0).toUpperCase()+y.slice(1);SVG[w]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+w)),m.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(m){return m instanceof SVG.MergeNode?this.add(m,0):this.add(new SVG.MergeNode(m),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(m){return null==m?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",m)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function U(p,_,m,y,w,S,M){for(var T=p.slice(_,m||M),R=y.slice(w,S||M),O=0,L={pos:[0,0],start:[0,0]},H={pos:[0,0],start:[0,0]};T[O]=o.call(L,T[O]),R[O]=o.call(H,R[O]),T[O][0]!=R[O][0]||"M"==T[O][0]||"A"==T[O][0]&&(T[O][4]!=R[O][4]||T[O][5]!=R[O][5])?(Array.prototype.splice.apply(T,[O,1].concat(u.call(L,T[O]))),Array.prototype.splice.apply(R,[O,1].concat(u.call(H,R[O])))):(T[O]=l.call(L,T[O]),R[O]=l.call(H,R[O])),++O!=T.length||O!=R.length;)O==T.length&&T.push(["C",L.pos[0],L.pos[1],L.pos[0],L.pos[1],L.pos[0],L.pos[1]]),O==R.length&&R.push(["C",H.pos[0],H.pos[1],H.pos[0],H.pos[1],H.pos[0],H.pos[1]]);return{start:T,dest:R}}function o(p){switch(p[0]){case"z":case"Z":p[0]="L",p[1]=this.start[0],p[2]=this.start[1];break;case"H":p[0]="L",p[2]=this.pos[1];break;case"V":p[0]="L",p[2]=p[1],p[1]=this.pos[0];break;case"T":p[0]="Q",p[3]=p[1],p[4]=p[2],p[1]=this.reflection[1],p[2]=this.reflection[0];break;case"S":p[0]="C",p[6]=p[4],p[5]=p[3],p[4]=p[2],p[3]=p[1],p[2]=this.reflection[1],p[1]=this.reflection[0]}return p}function l(p){var _=p.length;return this.pos=[p[_-2],p[_-1]],-1!="SCQT".indexOf(p[0])&&(this.reflection=[2*this.pos[0]-p[_-4],2*this.pos[1]-p[_-3]]),p}function u(p){var _=[p];switch(p[0]){case"M":return this.pos=this.start=[p[1],p[2]],_;case"L":p[5]=p[3]=p[1],p[6]=p[4]=p[2],p[1]=this.pos[0],p[2]=this.pos[1];break;case"Q":p[6]=p[4],p[5]=p[3],p[4]=1*p[4]/3+2*p[2]/3,p[3]=1*p[3]/3+2*p[1]/3,p[2]=1*this.pos[1]/3+2*p[2]/3,p[1]=1*this.pos[0]/3+2*p[1]/3;break;case"A":p=(_=function(m,y){var w,S,M,T,R,O,L,H,z,Y,X,x,k,B,W,K,ve,te,Ee,Le,$e,Tt,Ii,Zt,ls,fs,dr=Math.abs(y[1]),Kn=Math.abs(y[2]),Vo=y[3]%360,qD=y[4],vg=y[5],yg=y[6],Ah=y[7],ws=new SVG.Point(m),Qn=new SVG.Point(yg,Ah),_b=[];if(0===dr||0===Kn||ws.x===Qn.x&&ws.y===Qn.y)return[["C",ws.x,ws.y,Qn.x,Qn.y,Qn.x,Qn.y]];for((S=(w=new SVG.Point((ws.x-Qn.x)/2,(ws.y-Qn.y)/2).transform((new SVG.Matrix).rotate(Vo))).x*w.x/(dr*dr)+w.y*w.y/(Kn*Kn))>1&&(dr*=S=Math.sqrt(S),Kn*=S),M=(new SVG.Matrix).rotate(Vo).scale(1/dr,1/Kn).rotate(-Vo),ws=ws.transform(M),O=(T=[(Qn=Qn.transform(M)).x-ws.x,Qn.y-ws.y])[0]*T[0]+T[1]*T[1],R=Math.sqrt(O),T[0]/=R,T[1]/=R,L=O<4?Math.sqrt(1-O/4):0,qD===vg&&(L*=-1),H=new SVG.Point((Qn.x+ws.x)/2+L*-T[1],(Qn.y+ws.y)/2+L*T[0]),z=new SVG.Point(ws.x-H.x,ws.y-H.y),Y=new SVG.Point(Qn.x-H.x,Qn.y-H.y),X=Math.acos(z.x/Math.sqrt(z.x*z.x+z.y*z.y)),z.y<0&&(X*=-1),x=Math.acos(Y.x/Math.sqrt(Y.x*Y.x+Y.y*Y.y)),Y.y<0&&(x*=-1),vg&&X>x&&(x+=2*Math.PI),!vg&&X<x&&(x-=2*Math.PI),K=[],ve=X,k=(x-X)/(B=Math.ceil(2*Math.abs(X-x)/Math.PI)),W=4*Math.tan(k/4)/3,$e=0;$e<=B;$e++)Ee=Math.cos(ve),te=Math.sin(ve),Le=new SVG.Point(H.x+Ee,H.y+te),K[$e]=[new SVG.Point(Le.x+W*te,Le.y-W*Ee),Le,new SVG.Point(Le.x-W*te,Le.y+W*Ee)],ve+=k;for(K[0][0]=K[0][1].clone(),K[K.length-1][2]=K[K.length-1][1].clone(),M=(new SVG.Matrix).rotate(Vo).scale(dr,Kn).rotate(-Vo),$e=0,Tt=K.length;$e<Tt;$e++)K[$e][0]=K[$e][0].transform(M),K[$e][1]=K[$e][1].transform(M),K[$e][2]=K[$e][2].transform(M);for($e=1,Tt=K.length;$e<Tt;$e++)Ii=(Le=K[$e-1][2]).x,Zt=Le.y,ls=(Le=K[$e][0]).x,fs=Le.y,yg=(Le=K[$e][1]).x,_b.push(["C",Ii,Zt,ls,fs,yg,Ah=Le.y]);return _b}(this.pos,p))[0]}return p[0]="C",this.pos=[p[5],p[6]],this.reflection=[2*p[5]-p[3],2*p[6]-p[4]],_}function f(p,_){if(!1===_)return!1;for(var m=_,y=p.length;m<y;++m)if("M"==p[m][0])return m;return!1}SVG.extend(SVG.PathArray,{morph:function(p){for(var _=this.value,m=this.parse(p),y=0,w=0,S=!1,M=!1;!1!==y||!1!==w;){var T;S=f(_,!1!==y&&y+1),M=f(m,!1!==w&&w+1),!1===y&&(y=0==(T=new SVG.PathArray(R.start).bbox()).height||0==T.width?_.push(_[0])-1:_.push(["M",T.x+T.width/2,T.y+T.height/2])-1),!1===w&&(w=0==(T=new SVG.PathArray(R.dest).bbox()).height||0==T.width?m.push(m[0])-1:m.push(["M",T.x+T.width/2,T.y+T.height/2])-1);var R=U(_,y,S,m,w,M);_=_.slice(0,y).concat(R.start,!1===S?[]:_.slice(S)),m=m.slice(0,w).concat(R.dest,!1===M?[]:m.slice(M)),y=!1!==S&&y+R.start.length,w=!1!==M&&w+R.dest.length}return this.value=_,this.destination=new SVG.PathArray,this.destination.value=m,this}})}(),function(){function U(o){o.remember("_draggable",this),this.el=o}U.prototype.init=function(o,l){var u=this;this.constraint=o,this.value=l,this.el.on("mousedown.drag",function(f){u.start(f)}),this.el.on("touchstart.drag",function(f){u.start(f)})},U.prototype.transformPoint=function(o,l){var u=(o=o||window.event).changedTouches&&o.changedTouches[0]||o;return this.p.x=u.clientX-(l||0),this.p.y=u.clientY,this.p.matrixTransform(this.m)},U.prototype.getBBox=function(){var o=this.el.bbox();return this.el instanceof SVG.Nested&&(o=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(o.x=this.el.x(),o.y=this.el.y()),o},U.prototype.start=function(o){if("click"!=o.type&&"mousedown"!=o.type&&"mousemove"!=o.type||1==(o.which||o.buttons)){var l=this;if(this.el.fire("beforedrag",{event:o,handler:this}),!this.el.event().defaultPrevented){o.preventDefault(),o.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var u,f=this.getBBox();if(this.el instanceof SVG.Text)switch(u=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":u/=2;break;case"start":u=0}this.startPoints={point:this.transformPoint(o,u),box:f,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(p){l.drag(p)}),SVG.on(window,"touchmove.drag",function(p){l.drag(p)}),SVG.on(window,"mouseup.drag",function(p){l.end(p)}),SVG.on(window,"touchend.drag",function(p){l.end(p)}),this.el.fire("dragstart",{event:o,p:this.startPoints.point,m:this.m,handler:this})}}},U.prototype.drag=function(o){var l=this.getBBox(),u=this.transformPoint(o),f=this.startPoints.box.x+u.x-this.startPoints.point.x,p=this.startPoints.box.y+u.y-this.startPoints.point.y,_=this.constraint,m=u.x-this.startPoints.point.x,y=u.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:o,p:u,m:this.m,handler:this}),this.el.event().defaultPrevented)return u;if("function"==typeof _){var w=_.call(this.el,f,p,this.m);"boolean"==typeof w&&(w={x:w,y:w}),!0===w.x?this.el.x(f):!1!==w.x&&this.el.x(w.x),!0===w.y?this.el.y(p):!1!==w.y&&this.el.y(w.y)}else"object"==typeof _&&(null!=_.minX&&f<_.minX?m=(f=_.minX)-this.startPoints.box.x:null!=_.maxX&&f>_.maxX-l.width&&(m=(f=_.maxX-l.width)-this.startPoints.box.x),null!=_.minY&&p<_.minY?y=(p=_.minY)-this.startPoints.box.y:null!=_.maxY&&p>_.maxY-l.height&&(y=(p=_.maxY-l.height)-this.startPoints.box.y),null!=_.snapToGrid&&(f-=f%_.snapToGrid,p-=p%_.snapToGrid,m-=m%_.snapToGrid,y-=y%_.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:m,y},!0):this.el.move(f,p));return u},U.prototype.end=function(o){var l=this.drag(o);this.el.fire("dragend",{event:o,p:l,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(o,l){"function"!=typeof o&&"object"!=typeof o||(l=o,o=!0);var u=this.remember("_draggable")||new U(this);return(o=void 0===o||o)?u.init(l||{},o):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function U(o){this.el=o,o.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(l,u,f){var p="string"!=typeof l?l:u[l];return f?p/2:p},this.pointCoords=function(l,u){var f=this.pointsList[l];return{x:this.pointCoord(f[0],u,"t"===l||"b"===l),y:this.pointCoord(f[1],u,"r"===l||"l"===l)}}}U.prototype.init=function(o,l){var u=this.el.bbox();this.options={};var f=this.el.selectize.defaults.points;for(var p in this.el.selectize.defaults)this.options[p]=this.el.selectize.defaults[p],void 0!==l[p]&&(this.options[p]=l[p]);var _=["points","pointsExclude"];for(var p in _){var m=this.options[_[p]];"string"==typeof m?m=m.length>0?m.split(/\s*,\s*/i):[]:"boolean"==typeof m&&"points"===_[p]&&(m=m?f:[]),this.options[_[p]]=m}this.options.points=[f,this.options.points].reduce(function(y,w){return y.filter(function(S){return w.indexOf(S)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(y,w){return y.filter(function(S){return w.indexOf(S)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(u.x,u.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(o):this.selectRect(o),this.observe(),this.cleanup()},U.prototype.selectPoints=function(o){return this.pointSelection.isSelected=o,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},U.prototype.getPointArray=function(){var o=this.el.bbox();return this.el.array().valueOf().map(function(l){return[l[0]-o.x,l[1]-o.y]})},U.prototype.drawPoints=function(){for(var o=this,l=this.getPointArray(),u=0,f=l.length;u<f;++u){var p=function(m){return function(y){(y=y||window.event).preventDefault?y.preventDefault():y.returnValue=!1,y.stopPropagation(),o.el.fire("point",{x:y.pageX||y.touches[0].pageX,y:y.pageY||y.touches[0].pageY,i:m,event:y})}}(u),_=this.drawPoint(l[u][0],l[u][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",p).on("mousedown",p);this.pointSelection.set.add(_)}},U.prototype.drawPoint=function(o,l){var u=this.options.pointType;switch(u){case"circle":return this.drawCircle(o,l);case"rect":return this.drawRect(o,l);default:if("function"==typeof u)return u.call(this,o,l);throw new Error("Unknown "+u+" point type!")}},U.prototype.drawCircle=function(o,l){return this.nested.circle(this.options.pointSize).center(o,l)},U.prototype.drawRect=function(o,l){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(o,l)},U.prototype.updatePointSelection=function(){var o=this.getPointArray();this.pointSelection.set.each(function(l){this.cx()===o[l][0]&&this.cy()===o[l][1]||this.center(o[l][0],o[l][1])})},U.prototype.updateRectSelection=function(){var o=this,l=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:l.width,height:l.height}),this.options.points.length&&this.options.points.map(function(f,p){var _=o.pointCoords(f,l);o.rectSelection.set.get(p+1).center(_.x,_.y)}),this.options.rotationPoint){var u=this.rectSelection.set.length();this.rectSelection.set.get(u-1).center(l.width/2,20)}},U.prototype.selectRect=function(o){var l=this,u=this.el.bbox();function f(m){return function(y){(y=y||window.event).preventDefault?y.preventDefault():y.returnValue=!1,y.stopPropagation(),l.el.fire(m,{x:y.pageX||y.touches[0].pageX,y:y.pageY||y.touches[0].pageY,event:y})}}if(this.rectSelection.isSelected=o,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(u.width,u.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(m,y){var w=l.pointCoords(m,u),S=l.drawPoint(w.x,w.y).attr("class",l.options.classPoints+"_"+m).on("mousedown",f(m)).on("touchstart",f(m));l.rectSelection.set.add(S)}),this.rectSelection.set.each(function(){this.addClass(l.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var p=function(m){(m=m||window.event).preventDefault?m.preventDefault():m.returnValue=!1,m.stopPropagation(),l.el.fire("rot",{x:m.pageX||m.touches[0].pageX,y:m.pageY||m.touches[0].pageY,event:m})},_=this.drawPoint(u.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",p).on("mousedown",p);this.rectSelection.set.add(_)}},U.prototype.handler=function(){var o=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(o.x,o.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},U.prototype.observe=function(){var o=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){o.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch(l){}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){o.handler()})},U.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(o,l){return"object"==typeof o&&(l=o,o=!0),(this.remember("_selectHandler")||new U(this)).init(void 0===o||o,l||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function U(o){o.remember("_resizeHandler",this),this.el=o,this.parameters={},this.lastUpdateCall=null,this.p=o.doc().node.createSVGPoint()}U.prototype.transformPoint=function(o,l,u){return this.p.x=o-(this.offset.x-window.pageXOffset),this.p.y=l-(this.offset.y-window.pageYOffset),this.p.matrixTransform(u||this.m)},U.prototype._extractPosition=function(o){return{x:null!=o.clientX?o.clientX:o.touches[0].clientX,y:null!=o.clientY?o.clientY:o.touches[0].clientY}},U.prototype.init=function(o){var l=this;if(this.stop(),"stop"!==o){for(var u in this.options={},this.el.resize.defaults)this.options[u]=this.el.resize.defaults[u],void 0!==o[u]&&(this.options[u]=o[u]);this.el.on("lt.resize",function(f){l.resize(f||window.event)}),this.el.on("rt.resize",function(f){l.resize(f||window.event)}),this.el.on("rb.resize",function(f){l.resize(f||window.event)}),this.el.on("lb.resize",function(f){l.resize(f||window.event)}),this.el.on("t.resize",function(f){l.resize(f||window.event)}),this.el.on("r.resize",function(f){l.resize(f||window.event)}),this.el.on("b.resize",function(f){l.resize(f||window.event)}),this.el.on("l.resize",function(f){l.resize(f||window.event)}),this.el.on("rot.resize",function(f){l.resize(f||window.event)}),this.el.on("point.resize",function(f){l.resize(f||window.event)}),this.update()}},U.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},U.prototype.resize=function(o){var l=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var u=this._extractPosition(o.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(u.x,u.y),x:o.detail.x,y:o.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==o.detail.i){var f=this.el.array().valueOf();this.parameters.i=o.detail.i,this.parameters.pointCoords=[f[o.detail.i][0],f[o.detail.i][1]]}switch(o.type){case"lt":this.calc=function(p,_){var m=this.snapToGrid(p,_);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y+m[1]).size(this.parameters.box.width-m[0],this.parameters.box.height-m[1])}};break;case"rt":this.calc=function(p,_){var m=this.snapToGrid(p,_,2);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).size(this.parameters.box.width+m[0],this.parameters.box.height-m[1])}};break;case"rb":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.width+m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+m[0]);m=this.checkAspectRatio(m),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+m[0],this.parameters.box.height+m[1])}};break;case"lb":this.calc=function(p,_){var m=this.snapToGrid(p,_,1);if(this.parameters.box.width-m[0]>0&&this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+m[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-m[0]);m=this.checkAspectRatio(m,!0),this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).size(this.parameters.box.width-m[0],this.parameters.box.height+m[1])}};break;case"t":this.calc=function(p,_){var m=this.snapToGrid(p,_,2);if(this.parameters.box.height-m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+m[1]).height(this.parameters.box.height-m[1])}};break;case"r":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.width+m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+m[0])}};break;case"b":this.calc=function(p,_){var m=this.snapToGrid(p,_,0);if(this.parameters.box.height+m[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+m[1])}};break;case"l":this.calc=function(p,_){var m=this.snapToGrid(p,_,1);if(this.parameters.box.width-m[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+m[0],this.parameters.box.y).width(this.parameters.box.width-m[0])}};break;case"rot":this.calc=function(p,_){var m=p+this.parameters.p.x,y=_+this.parameters.p.y,w=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),S=Math.atan2(y-this.parameters.box.y-this.parameters.box.height/2,m-this.parameters.box.x-this.parameters.box.width/2),M=this.parameters.rotation+180*(S-w)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(M-M%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(p,_){var m=this.snapToGrid(p,_,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),y=this.el.array().valueOf();y[this.parameters.i][0]=this.parameters.pointCoords[0]+m[0],y[this.parameters.i][1]=this.parameters.pointCoords[1]+m[1],this.el.plot(y)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:o}),SVG.on(window,"touchmove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"touchend.resize",function(){l.done()}),SVG.on(window,"mousemove.resize",function(p){l.update(p||window.event)}),SVG.on(window,"mouseup.resize",function(){l.done()})},U.prototype.update=function(o){if(o){var l=this._extractPosition(o),u=this.transformPoint(l.x,l.y),f=u.x-this.parameters.p.x,p=u.y-this.parameters.p.y;this.lastUpdateCall=[f,p],this.calc(f,p),this.el.fire("resizing",{dx:f,dy:p,event:o})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},U.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},U.prototype.snapToGrid=function(o,l,u,f){var p;return p=void 0!==f?[(u+o)%this.options.snapToGrid,(f+l)%this.options.snapToGrid]:[(this.parameters.box.x+o+(1&(u=null==u?3:u)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+l+(2&u?0:this.parameters.box.height))%this.options.snapToGrid],o<0&&(p[0]-=this.options.snapToGrid),l<0&&(p[1]-=this.options.snapToGrid),o-=Math.abs(p[0])<this.options.snapToGrid/2?p[0]:p[0]-(o<0?-this.options.snapToGrid:this.options.snapToGrid),l-=Math.abs(p[1])<this.options.snapToGrid/2?p[1]:p[1]-(l<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(o,l,u,f)},U.prototype.constraintToBox=function(o,l,u,f){var p,_,m=this.options.constraint||{};return void 0!==f?(p=u,_=f):(p=this.parameters.box.x+(1&u?0:this.parameters.box.width),_=this.parameters.box.y+(2&u?0:this.parameters.box.height)),void 0!==m.minX&&p+o<m.minX&&(o=m.minX-p),void 0!==m.maxX&&p+o>m.maxX&&(o=m.maxX-p),void 0!==m.minY&&_+l<m.minY&&(l=m.minY-_),void 0!==m.maxY&&_+l>m.maxY&&(l=m.maxY-_),[o,l]},U.prototype.checkAspectRatio=function(o,l){if(!this.options.saveAspectRatio)return o;var u=o.slice(),f=this.parameters.box.width/this.parameters.box.height,p=this.parameters.box.width+o[0],_=this.parameters.box.height-o[1],m=p/_;return m<f?(u[1]=p/f-this.parameters.box.height,l&&(u[1]=-u[1])):m>f&&(u[0]=this.parameters.box.width-_*f,l&&(u[0]=-u[0])),u},SVG.extend(SVG.Element,{resize:function(o){return(this.remember("_resizeHandler")||new U(this)).init(o||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var Dh=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new Lo(this.ctx),this.ctx.axes=new UD(this.ctx),this.ctx.core=new $D(this.ctx.el,this.ctx),this.ctx.config=new Ga({}),this.ctx.data=new rb(this.ctx),this.ctx.grid=new ab(this.ctx),this.ctx.graphics=new Be(this.ctx),this.ctx.coreUtils=new hn(this.ctx),this.ctx.crosshairs=new lg(this.ctx),this.ctx.events=new ob(this.ctx),this.ctx.exports=new ag(this.ctx),this.ctx.localization=new GD(this.ctx),this.ctx.options=new Oo,this.ctx.responsive=new Wa(this.ctx),this.ctx.series=new Ge(this.ctx),this.ctx.theme=new lb(this.ctx),this.ctx.formatters=new bh(this.ctx),this.ctx.titleSubtitle=new WD(this.ctx),this.ctx.legend=new ub(this.ctx),this.ctx.toolbar=new td(this.ctx),this.ctx.dimensions=new xh(this.ctx),this.ctx.updateHelpers=new mb(this.ctx),this.ctx.zoomPanSelection=new cg(this.ctx),this.ctx.w.globals.tooltip=new fg(this.ctx)}}]),U}(),id=function(){function U(o){Ie(this,U),this.ctx=o,this.w=o.w}return nt(U,[{key:"clear",value:function(o){var l=o.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:l})}},{key:"killSVG",value:function(o){o.each(function(l,u){this.removeClass("*"),this.off(),this.stop()},!0),o.ungroup(),o.clear()}},{key:"clearDomElements",value:function(o){var l=this,f=this.w.globals.dom.Paper.node;f.parentNode&&f.parentNode.parentNode&&!o.isUpdating&&(f.parentNode.parentNode.style.minHeight="unset");var p=this.w.globals.dom.baseEl;p&&this.ctx.eventList.forEach(function(m){p.removeEventListener(m,l.ctx.events.documentEvent)});var _=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(_.Paper),_.Paper.remove(),_.elWrap=null,_.elGraphical=null,_.elAnnotations=null,_.elLegendWrap=null,_.baseEl=null,_.elGridRect=null,_.elGridRectMask=null,_.elGridRectMarkerMask=null,_.elForecastMask=null,_.elNonForecastMask=null,_.elDefs=null}}]),U}(),nd=new WeakMap,Fl=function(){function U(o,l){Ie(this,U),this.opts=l,this.ctx=this,this.w=new rg(l).init(),this.el=o,this.w.globals.cuid=fe.randomId(),this.w.globals.chartID=this.w.config.chart.id?fe.escapeString(this.w.config.chart.id):this.w.globals.cuid,new Dh(this).initModules(),this.create=fe.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return nt(U,[{key:"render",value:function(){var o=this;return new Promise(function(l,u){if(null!==o.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),o.w.config.chart.id&&Apex._chartInstances.push({id:o.w.globals.chartID,group:o.w.config.chart.group,chart:o}),o.setLocale(o.w.config.chart.defaultLocale);var f=o.w.config.chart.events.beforeMount;if("function"==typeof f&&f(o,o.w),o.events.fireEvent("beforeMount",[o,o.w]),window.addEventListener("resize",o.windowResizeHandler),function(S,M){var T=!1,R=S.getBoundingClientRect();"none"!==S.style.display&&0!==R.width||(T=!0);var O=new ResizeObserver(function(L){T&&M.call(S,L),T=!0});S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(S.children).forEach(function(L){return O.observe(L)}):O.observe(S),nd.set(M,O)}(o.el.parentNode,o.parentResizeHandler),!o.css){var p=o.el.getRootNode&&o.el.getRootNode(),_=fe.is("ShadowRoot",p),m=o.el.ownerDocument,y=m.getElementById("apexcharts-css");!_&&y||(o.css=document.createElement("style"),o.css.id="apexcharts-css",o.css.textContent='.apexcharts-canvas {\n  position: relative;\n  user-select: none;\n  /* cannot give overflow: hidden as it will crop tooltips which overflow outside chart area */\n}\n\n\n/* scrollbar is not visible by default for legend, hence forcing the visibility */\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px;\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n}\n\n\n.apexcharts-inner {\n  position: relative;\n}\n\n.apexcharts-text tspan {\n  font-family: inherit;\n}\n\n.legend-mouseover-inactive {\n  transition: 0.15s ease all;\n  opacity: 0.20;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0;\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, 0.96);\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, 0.8);\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit;\n}\n\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px;\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #ECEFF1;\n  border-bottom: 1px solid #ddd;\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, 0.7);\n  border-bottom: 1px solid #333;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  font-weight: 600;\n  margin-left: 5px;\n}\n\n.apexcharts-tooltip-title:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-z-value:empty {\n  display: none;\n}\n\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-z-value {\n  font-weight: 600;\n}\n\n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-goals-group, \n.apexcharts-tooltip-text-goals-label, \n.apexcharts-tooltip-text-goals-value {\n  display: flex;\n}\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px;\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0px;\n  margin-right: 10px;\n  border-radius: 50%;\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1;\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px;\n}\n\n.apexcharts-tooltip-series-group-hidden {\n  opacity: 0;\n  height: 0;\n  line-height: 0;\n  padding: 0 !important;\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px;\n}\n\n.apexcharts-tooltip-box, .apexcharts-custom-tooltip {\n  padding: 4px 8px;\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse;\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0;\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: bold;\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px;\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777;\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\n.apexcharts-xaxistooltip {\n  opacity: 0;\n  padding: 9px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-left: -6px;\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-left: -7px;\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%;\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%;\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #ECEFF1;\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #ECEFF1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90A4AE;\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  padding: 4px 10px;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #ECEFF1;\n  border: 1px solid #90A4AE;\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, 0.7);\n  border: 1px solid rgba(0, 0, 0, 0.5);\n  color: #fff;\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: rgba(236, 239, 241, 0);\n  border-width: 6px;\n  margin-top: -6px;\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: rgba(144, 164, 174, 0);\n  border-width: 7px;\n  margin-top: -7px;\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%;\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%;\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #ECEFF1;\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90A4AE;\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, 0.5);\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1;\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none;\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0;\n}\n\n.apexcharts-selection-rect {\n  cursor: move;\n}\n\n.svg_select_boundingRect, .svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden;\n}\n.apexcharts-selection-rect + g .svg_select_boundingRect,\n.apexcharts-selection-rect + g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden;\n}\n\n.apexcharts-selection-rect + g .svg_select_points_l,\n.apexcharts-selection-rect + g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible;\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2;\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon,\n.apexcharts-reset-icon,\n.apexcharts-pan-icon,\n.apexcharts-selection-icon,\n.apexcharts-menu-icon,\n.apexcharts-toolbar-custom-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6E8192;\n  text-align: center;\n}\n\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-menu-icon svg {\n  fill: #6E8192;\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(0.76)\n}\n\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg {\n  fill: #f3f4f5;\n}\n\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg {\n  fill: #008FFB;\n}\n\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg {\n  fill: #333;\n}\n\n.apexcharts-selection-icon,\n.apexcharts-menu-icon {\n  position: relative;\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px;\n}\n\n.apexcharts-zoom-icon,\n.apexcharts-reset-icon,\n.apexcharts-menu-icon {\n  transform: scale(0.85);\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(0.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px;\n}\n\n.apexcharts-pan-icon {\n  transform: scale(0.62);\n  position: relative;\n  left: 1px;\n  top: 0px;\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6E8192;\n  stroke-width: 2;\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008FFB;\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333;\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0px 6px 2px 6px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: 0.15s ease all;\n  pointer-events: none;\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: 0.15s ease all;\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer;\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee;\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, 0.7);\n  color: #fff;\n}\n\n@media screen and (min-width: 768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1;\n  }\n}\n\n.apexcharts-datalabel.apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-pie-label,\n.apexcharts-datalabels,\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value {\n  cursor: default;\n  pointer-events: none;\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: 0.3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease;\n}\n\n.apexcharts-canvas .apexcharts-element-hidden {\n  opacity: 0;\n}\n\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-gridline,\n.apexcharts-annotation-rect,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-line,\n.apexcharts-zoom-rect,\n.apexcharts-toolbar svg,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-radar-series path,\n.apexcharts-radar-series polygon {\n  pointer-events: none;\n}\n\n\n/* markers */\n\n.apexcharts-marker {\n  transition: 0.15s ease all;\n}\n\n@keyframes opaque {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n\n/* Resize generated styles */\n\n@keyframes resizeanim {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n}\n\n.resize-triggers,\n.resize-triggers>div,\n.contract-trigger:before {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n}\n\n.resize-triggers>div {\n  background: #eee;\n  overflow: auto;\n}\n\n.contract-trigger:before {\n  width: 200%;\n  height: 200%;\n}',_?p.prepend(o.css):m.head.appendChild(o.css))}var w=o.create(o.w.config.series,{});if(!w)return l(o);o.mount(w).then(function(){"function"==typeof o.w.config.chart.events.mounted&&o.w.config.chart.events.mounted(o,o.w),o.events.fireEvent("mounted",[o,o.w]),l(w)}).catch(function(S){u(S)})}else u(new Error("Element not found"))})}},{key:"create",value:function(o,l){var u=this.w;new Dh(this).initModules();var f=this.w.globals;if(f.noData=!1,f.animationEnded=!1,this.responsive.checkResponsiveConfig(l),u.config.xaxis.convertedCatToNumeric&&new jt(u.config).convertCatToNumericXaxis(u.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===u.config.chart.type&&(u.config.grid.show=!1,u.config.yaxis[0].show=!1),0===f.svgWidth))return f.animationEnded=!0,null;var p=hn.checkComboSeries(o);f.comboCharts=p.comboCharts,f.comboBarCount=p.comboBarCount;var _=o.every(function(M){return M.data&&0===M.data.length});(0===o.length||_)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new Fo(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),f.noData&&f.collapsedSeries.length!==f.series.length&&!u.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),f.axisCharts&&(this.core.coreCalculations(),"category"!==u.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=u.globals.minX,this.ctx.toolbar.maxX=u.globals.maxX),this.formatters.heatmapLabelFormatters(),new hn(this).getLargestMarkerSize(),this.dimensions.plotCoords();var m=this.core.xySettings();this.grid.createGridMask();var y=this.core.plotChartType(o,m),w=new No(this);return w.bringForward(),u.config.dataLabels.background.enabled&&w.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:y,xyRatios:m,elInner:u.globals.dom.elGraphical,dimensions:{plot:{left:u.globals.translateX,top:u.globals.translateY,width:u.globals.gridWidth,height:u.globals.gridHeight}}}}},{key:"mount",value:function(){var o=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=this,f=u.w;return new Promise(function(p,_){if(null===u.el)return _(new Error("Not enough data to display or target element not found"));(null===l||f.globals.allSeriesCollapsed)&&u.series.handleNoData(),"treemap"!==f.config.chart.type&&u.axes.drawAxis(f.config.chart.type,l.xyRatios),u.grid=new ab(u);var m=u.grid.drawGrid();u.annotations=new ig(u),u.annotations.drawImageAnnos(),u.annotations.drawTextAnnos(),"back"===f.config.grid.position&&m&&f.globals.dom.elGraphical.add(m.el);var y=new Ll(o.ctx),w=new ed(o.ctx);if(null!==m&&(y.xAxisLabelCorrections(m.xAxisTickWidth),w.setYAxisTextAlignments(),f.config.yaxis.map(function(T,R){-1===f.globals.ignoreYAxisIndexes.indexOf(R)&&w.yAxisTitleRotate(R,T.opposite)})),"back"===f.config.annotations.position&&(f.globals.dom.Paper.add(f.globals.dom.elAnnotations),u.annotations.drawAxesAnnotations()),Array.isArray(l.elGraph))for(var S=0;S<l.elGraph.length;S++)f.globals.dom.elGraphical.add(l.elGraph[S]);else f.globals.dom.elGraphical.add(l.elGraph);if("front"===f.config.grid.position&&m&&f.globals.dom.elGraphical.add(m.el),"front"===f.config.xaxis.crosshairs.position&&u.crosshairs.drawXCrosshairs(),"front"===f.config.yaxis[0].crosshairs.position&&u.crosshairs.drawYCrosshairs(),"front"===f.config.annotations.position&&(f.globals.dom.Paper.add(f.globals.dom.elAnnotations),u.annotations.drawAxesAnnotations()),!f.globals.noData){if(f.config.tooltip.enabled&&!f.globals.noData&&u.w.globals.tooltip.drawTooltip(l.xyRatios),f.globals.axisCharts&&(f.globals.isXNumeric||f.config.xaxis.convertedCatToNumeric||f.globals.isRangeBar))(f.config.chart.zoom.enabled||f.config.chart.selection&&f.config.chart.selection.enabled||f.config.chart.pan&&f.config.chart.pan.enabled)&&u.zoomPanSelection.init({xyRatios:l.xyRatios});else{var M=f.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(T){M[T]=!1})}f.config.chart.toolbar.show&&!f.globals.allSeriesCollapsed&&u.toolbar.createToolbar()}f.globals.memory.methodsToExec.length>0&&f.globals.memory.methodsToExec.forEach(function(T){T.method(T.params,!1,T.context)}),f.globals.axisCharts||f.globals.noData||u.core.resizeNonAxisCharts(),p(u)})}},{key:"destroy",value:function(){var o,l;window.removeEventListener("resize",this.windowResizeHandler),(l=nd.get(o=this.parentResizeHandler))&&(l.disconnect(),nd.delete(o));var u=this.w.config.chart.id;u&&Apex._chartInstances.forEach(function(f,p){f.id===fe.escapeString(u)&&Apex._chartInstances.splice(p,1)}),new id(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(o){var l=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],_=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],m=this.w;return m.globals.selection=void 0,o.series&&(this.series.resetSeries(!1,!0,!1),o.series.length&&o.series[0].data&&(o.series=o.series.map(function(y,w){return l.updateHelpers._extendSeries(y,w)})),this.updateHelpers.revertDefaultAxisMinMax()),o.xaxis&&(o=this.updateHelpers.forceXAxisUpdate(o)),o.yaxis&&(o=this.updateHelpers.forceYAxisUpdate(o)),m.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),o.theme&&(o=this.theme.updateThemeOptions(o)),this.updateHelpers._updateOptions(o,u,f,p,_)}},{key:"updateSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(o,l,u)}},{key:"appendSeries",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],f=this.w.config.series.slice();return f.push(o),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(f,l,u)}},{key:"appendData",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=this;u.w.globals.dataChanged=!0,u.series.getPreviousPaths();for(var f=u.w.config.series.slice(),p=0;p<f.length;p++)if(null!=o[p])for(var _=0;_<o[p].data.length;_++)f[p].data.push(o[p].data[_]);return u.w.config.series=f,l&&(u.w.globals.initialSeries=fe.clone(u.w.config.series)),this.update()}},{key:"update",value:function(o){var l=this;return new Promise(function(u,f){new id(l.ctx).clear({isUpdating:!0});var p=l.create(l.w.config.series,o);if(!p)return u(l);l.mount(p).then(function(){"function"==typeof l.w.config.chart.events.updated&&l.w.config.chart.events.updated(l,l.w),l.events.fireEvent("updated",[l,l.w]),l.w.globals.isDirty=!0,u(l)}).catch(function(_){f(_)})})}},{key:"getSyncedCharts",value:function(){var o=this.getGroupedCharts(),l=[this];return o.length&&(l=[],o.forEach(function(u){l.push(u)})),l}},{key:"getGroupedCharts",value:function(){var o=this;return Apex._chartInstances.filter(function(l){if(l.group)return!0}).map(function(l){return o.w.config.chart.group===l.group?l.chart:o})}},{key:"toggleSeries",value:function(o){return this.series.toggleSeries(o)}},{key:"highlightSeriesOnLegendHover",value:function(o,l){return this.series.toggleSeriesOnHover(o,l)}},{key:"showSeries",value:function(o){this.series.showSeries(o)}},{key:"hideSeries",value:function(o){this.series.hideSeries(o)}},{key:"resetSeries",value:function(){var o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.series.resetSeries(o,l)}},{key:"addEventListener",value:function(o,l){this.events.addEventListener(o,l)}},{key:"removeEventListener",value:function(o,l){this.events.removeEventListener(o,l)}},{key:"addXaxisAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addXaxisAnnotationExternal(o,l,f)}},{key:"addYaxisAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addYaxisAnnotationExternal(o,l,f)}},{key:"addPointAnnotation",value:function(o){var l=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,f=this;u&&(f=u),f.annotations.addPointAnnotationExternal(o,l,f)}},{key:"clearAnnotations",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,l=this;o&&(l=o),l.annotations.clearAnnotations(l)}},{key:"removeAnnotation",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,u=this;l&&(u=l),u.annotations.removeAnnotation(u,o)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(o,l){return this.coreUtils.getSeriesTotalsXRange(o,l)}},{key:"getHighestValueInSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new og(this.ctx);return l.getMinYMaxY(o).highestY}},{key:"getLowestValueInSeries",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=new og(this.ctx);return l.getMinYMaxY(o).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(o,l){return this.updateHelpers.toggleDataPointSelection(o,l)}},{key:"zoomX",value:function(o,l){this.ctx.toolbar.zoomUpdateOptions(o,l)}},{key:"setLocale",value:function(o){this.localization.setCurrentLocaleValues(o)}},{key:"dataURI",value:function(o){return new ag(this.ctx).dataURI(o)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var o=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){o.w.globals.resized=!0,o.w.globals.dataChanged=!1,o.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var o=this.w.config.chart.redrawOnWindowResize;"function"==typeof o&&(o=o()),o&&this._windowResize()}}],[{key:"getChartByID",value:function(o){var l=fe.escapeString(o),u=Apex._chartInstances.filter(function(f){return f.id===l})[0];return u&&u.chart}},{key:"initOnLoad",value:function(){for(var o=document.querySelectorAll("[data-apexcharts]"),l=0;l<o.length;l++)new U(o[l],JSON.parse(o[l].getAttribute("data-options"))).render()}},{key:"exec",value:function(o,l){var u=this.getChartByID(o);if(u){u.w.globals.isExecCalled=!0;var f=null;if(-1!==u.publicMethods.indexOf(l)){for(var p=arguments.length,_=new Array(p>2?p-2:0),m=2;m<p;m++)_[m-2]=arguments[m];f=u[l].apply(u,_)}return f}}},{key:"merge",value:function(o,l){return fe.extend(o,l)}}]),U}();kl.exports=Fl}},kl=>{kl(kl.s=68)}]);