(self.webpackChunkHackathon=self.webpackChunkHackathon||[]).push([[179],{509:(Es,Io,$n)=>{"use strict";function Et(i){return"function"==typeof i}function tr(i){const e=i(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ks=tr(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,s)=>`${s+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function cs(i,t){if(i){const e=i.indexOf(t);0<=e&&i.splice(e,1)}}class _t{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(Et(n))try{n()}catch(r){t=r instanceof ks?r.errors:[r]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const r of s)try{Zn(r)}catch(a){t=null!=t?t:[],a instanceof ks?t=[...t,...a.errors]:t.push(a)}}if(t)throw new ks(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Zn(t);else{if(t instanceof _t){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&cs(e,t)}remove(t){const{_teardowns:e}=this;e&&cs(e,t),t instanceof _t&&t._removeParent(this)}}_t.EMPTY=(()=>{const i=new _t;return i.closed=!0,i})();const ir=_t.EMPTY;function Vi(i){return i instanceof _t||i&&"closed"in i&&Et(i.remove)&&Et(i.add)&&Et(i.unsubscribe)}function Zn(i){Et(i)?i():i.unsubscribe()}const Ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zt={setTimeout(...i){const{delegate:t}=zt;return((null==t?void 0:t.setTimeout)||setTimeout)(...i)},clearTimeout(i){const{delegate:t}=zt;return((null==t?void 0:t.clearTimeout)||clearTimeout)(i)},delegate:void 0};function Yn(i){zt.setTimeout(()=>{const{onUnhandledError:t}=Ee;if(!t)throw i;t(i)})}function ed(){}const _U=Tx("C",void 0,void 0);function Tx(i,t,e){return{kind:i,value:t,error:e}}let Tl=null;function hm(i){if(Ee.useDeprecatedSynchronousErrorHandling){const t=!Tl;if(t&&(Tl={errorThrown:!1,error:null}),i(),t){const{errorThrown:e,error:n}=Tl;if(Tl=null,e)throw n}}else i()}class Dx extends _t{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Vi(t)&&t.add(this)):this.destination=bU}static create(t,e,n){return new Ax(t,e,n)}next(t){this.isStopped?kx(function yU(i){return Tx("N",i,void 0)}(t),this):this._next(t)}error(t){this.isStopped?kx(function vU(i){return Tx("E",void 0,i)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?kx(_U,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ax extends Dx{constructor(t,e,n){let s;if(super(),Et(t))s=t;else if(t){let r;({next:s,error:e,complete:n}=t),this&&Ee.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe()):r=t,s=null==s?void 0:s.bind(r),e=null==e?void 0:e.bind(r),n=null==n?void 0:n.bind(r)}this.destination={next:s?Ex(s):ed,error:Ex(null!=e?e:cA),complete:n?Ex(n):ed}}}function Ex(i,t){return(...e)=>{try{i(...e)}catch(n){Ee.useDeprecatedSynchronousErrorHandling?function xU(i){Ee.useDeprecatedSynchronousErrorHandling&&Tl&&(Tl.errorThrown=!0,Tl.error=i)}(n):Yn(n)}}}function cA(i){throw i}function kx(i,t){const{onStoppedNotification:e}=Ee;e&&zt.setTimeout(()=>e(i,t))}const bU={closed:!0,next:ed,error:cA,complete:ed},Rx="function"==typeof Symbol&&Symbol.observable||"@@observable";function Lo(i){return i}let ni=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,s){const r=function CU(i){return i&&i instanceof Dx||function wU(i){return i&&Et(i.next)&&Et(i.error)&&Et(i.complete)}(i)&&Vi(i)}(e)?e:new Ax(e,n,s);return hm(()=>{const{operator:a,source:o}=this;r.add(a?a.call(r,o):o?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=uA(n))((s,r)=>{let a;a=this.subscribe(o=>{try{e(o)}catch(l){r(l),null==a||a.unsubscribe()}},r,s)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[Rx](){return this}pipe(...e){return function dA(i){return 0===i.length?Lo:1===i.length?i[0]:function(e){return i.reduce((n,s)=>s(n),e)}}(e)(this)}toPromise(e){return new(e=uA(e))((n,s)=>{let r;this.subscribe(a=>r=a,a=>s(a),()=>n(r))})}}return i.create=t=>new i(t),i})();function uA(i){var t;return null!==(t=null!=i?i:Ee.Promise)&&void 0!==t?t:Promise}const SU=tr(i=>function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class i extends ni{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new hA(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new SU}next(e){hm(()=>{if(this._throwIfClosed(),!this.isStopped){const n=this.observers.slice();for(const s of n)s.next(e)}})}error(e){hm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){hm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:s,observers:r}=this;return n||s?ir:(r.push(e),new _t(()=>cs(r,e)))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:s,isStopped:r}=this;n?e.error(s):r&&e.complete()}asObservable(){const e=new ni;return e.source=this,e}}return i.create=(t,e)=>new hA(t,e),i})();class hA extends ke{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)}error(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:ir}}function pA(i){return Et(null==i?void 0:i.lift)}function Hi(i){return t=>{if(pA(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}class Ai extends Dx{constructor(t,e,n,s,r){super(t),this.onFinalize=r,this._next=e?function(a){try{e(a)}catch(o){t.error(o)}}:super._next,this._error=s?function(a){try{s(a)}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function It(i,t){return Hi((e,n)=>{let s=0;e.subscribe(new Ai(n,r=>{n.next(i.call(t,r,s++))}))})}function Dl(i){return this instanceof Dl?(this.v=i,this):new Dl(i)}function DU(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=e.apply(i,t||[]),r=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(h){n[h]&&(s[h]=function(p){return new Promise(function(f,g){r.push([h,p,f,g])>1||o(h,p)})})}function o(h,p){try{!function l(h){h.value instanceof Dl?Promise.resolve(h.value.v).then(c,d):u(r[0][2],h)}(n[h](p))}catch(f){u(r[0][3],f)}}function c(h){o("next",h)}function d(h){o("throw",h)}function u(h,p){h(p),r.shift(),r.length&&o(r[0][0],r[0][1])}}function AU(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=i[Symbol.asyncIterator];return t?t.call(i):(i=function gA(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(i),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=i[r]&&function(a){return new Promise(function(o,l){!function s(r,a,o,l){Promise.resolve(l).then(function(c){r({value:c,done:o})},a)}(o,l,(a=i[r](a)).done,a.value)})}}}const Lx=i=>i&&"number"==typeof i.length&&"function"!=typeof i;function _A(i){return Et(null==i?void 0:i.then)}function vA(i){return Et(i[Rx])}function yA(i){return Symbol.asyncIterator&&Et(null==i?void 0:i[Symbol.asyncIterator])}function xA(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const bA=function kU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wA(i){return Et(null==i?void 0:i[bA])}function CA(i){return DU(this,arguments,function*(){const e=i.getReader();try{for(;;){const{value:n,done:s}=yield Dl(e.read());if(s)return yield Dl(void 0);yield yield Dl(n)}}finally{e.releaseLock()}})}function SA(i){return Et(null==i?void 0:i.getReader)}function Rs(i){if(i instanceof ni)return i;if(null!=i){if(vA(i))return function RU(i){return new ni(t=>{const e=i[Rx]();if(Et(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(i);if(Lx(i))return function IU(i){return new ni(t=>{for(let e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()})}(i);if(_A(i))return function LU(i){return new ni(t=>{i.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Yn)})}(i);if(yA(i))return MA(i);if(wA(i))return function PU(i){return new ni(t=>{for(const e of i)if(t.next(e),t.closed)return;t.complete()})}(i);if(SA(i))return function FU(i){return MA(CA(i))}(i)}throw xA(i)}function MA(i){return new ni(t=>{(function OU(i,t){var e,n,s,r;return function MU(i,t,e,n){return new(e||(e=Promise))(function(r,a){function o(d){try{c(n.next(d))}catch(u){a(u)}}function l(d){try{c(n.throw(d))}catch(u){a(u)}}function c(d){d.done?r(d.value):function s(r){return r instanceof e?r:new e(function(a){a(r)})}(d.value).then(o,l)}c((n=n.apply(i,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=AU(i);!(n=yield e.next()).done;)if(t.next(n.value),t.closed)return}catch(a){s={error:a}}finally{try{n&&!n.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}t.complete()})})(i,t).catch(e=>t.error(e))})}function Va(i,t,e,n=0,s=!1){const r=t.schedule(function(){e(),s?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(r),!s)return r}function cn(i,t,e=1/0){return Et(t)?cn((n,s)=>It((r,a)=>t(n,r,s,a))(Rs(i(n,s))),e):("number"==typeof t&&(e=t),Hi((n,s)=>function NU(i,t,e,n,s,r,a,o){const l=[];let c=0,d=0,u=!1;const h=()=>{u&&!l.length&&!c&&t.complete()},p=g=>c<n?f(g):l.push(g),f=g=>{r&&t.next(g),c++;let m=!1;Rs(e(g,d++)).subscribe(new Ai(t,_=>{null==s||s(_),r?p(_):t.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<n;){const _=l.shift();a?Va(t,a,()=>f(_)):f(_)}h()}catch(_){t.error(_)}}))};return i.subscribe(new Ai(t,p,()=>{u=!0,h()})),()=>{null==o||o()}}(n,s,i,e)))}function Sh(i=1/0){return cn(Lo,i)}const sa=new ni(i=>i.complete());function TA(i){return i&&Et(i.schedule)}function Px(i){return i[i.length-1]}function DA(i){return Et(Px(i))?i.pop():void 0}function Mh(i){return TA(Px(i))?i.pop():void 0}function AA(i,t=0){return Hi((e,n)=>{e.subscribe(new Ai(n,s=>Va(n,i,()=>n.next(s),t),()=>Va(n,i,()=>n.complete(),t),s=>Va(n,i,()=>n.error(s),t)))})}function EA(i,t=0){return Hi((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function kA(i,t){if(!i)throw new Error("Iterable cannot be null");return new ni(e=>{Va(e,t,()=>{const n=i[Symbol.asyncIterator]();Va(e,t,()=>{n.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function wn(i,t){return t?function jU(i,t){if(null!=i){if(vA(i))return function HU(i,t){return Rs(i).pipe(EA(t),AA(t))}(i,t);if(Lx(i))return function GU(i,t){return new ni(e=>{let n=0;return t.schedule(function(){n===i.length?e.complete():(e.next(i[n++]),e.closed||this.schedule())})})}(i,t);if(_A(i))return function zU(i,t){return Rs(i).pipe(EA(t),AA(t))}(i,t);if(yA(i))return kA(i,t);if(wA(i))return function UU(i,t){return new ni(e=>{let n;return Va(e,t,()=>{n=i[bA](),Va(e,t,()=>{let s,r;try{({value:s,done:r}=n.next())}catch(a){return void e.error(a)}r?e.complete():e.next(s)},0,!0)}),()=>Et(null==n?void 0:n.return)&&n.return()})}(i,t);if(SA(i))return function WU(i,t){return kA(CA(i),t)}(i,t)}throw xA(i)}(i,t):Rs(i)}function Zi(...i){const t=Mh(i),e=function VU(i,t){return"number"==typeof Px(i)?i.pop():t}(i,1/0),n=i;return n.length?1===n.length?Rs(n[0]):Sh(e)(wn(n,t)):sa}function zi(i){return i<=0?()=>sa:Hi((t,e)=>{let n=0;t.subscribe(new Ai(e,s=>{++n<=i&&(e.next(s),i<=n&&e.complete())}))})}function RA(i={}){const{connector:t=(()=>new ke),resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:s=!0}=i;return r=>{let a=null,o=null,l=null,c=0,d=!1,u=!1;const h=()=>{null==o||o.unsubscribe(),o=null},p=()=>{h(),a=l=null,d=u=!1},f=()=>{const g=a;p(),null==g||g.unsubscribe()};return Hi((g,m)=>{c++,!u&&!d&&h();const _=l=null!=l?l:t();m.add(()=>{c--,0===c&&!u&&!d&&(o=Fx(f,s))}),_.subscribe(m),a||(a=new Ax({next:v=>_.next(v),error:v=>{u=!0,h(),o=Fx(p,e,v),_.error(v)},complete:()=>{d=!0,h(),o=Fx(p,n),_.complete()}}),wn(g).subscribe(a))})(r)}}function Fx(i,t,...e){return!0===t?(i(),null):!1===t?null:t(...e).pipe(zi(1)).subscribe(()=>i())}function vi(i){for(let t in i)if(i[t]===vi)return t;throw Error("Could not find renamed property on target object.")}function Ox(i,t){for(const e in t)t.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(i[e]=t[e])}function hi(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(hi).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const t=i.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Nx(i,t){return null==i||""===i?null===t?"":t:null==t||""===t?i:i+" "+t}const $U=vi({__forward_ref__:vi});function Ht(i){return i.__forward_ref__=Ht,i.toString=function(){return hi(this())},i}function Ft(i){return IA(i)?i():i}function IA(i){return"function"==typeof i&&i.hasOwnProperty($U)&&i.__forward_ref__===Ht}class ei extends Error{constructor(t,e){super(function Bx(i,t){return`NG0${Math.abs(i)}${t?": "+t:""}`}(t,e)),this.code=t}}function Tt(i){return"string"==typeof i?i:null==i?"":String(i)}function ds(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Tt(i)}function pm(i,t){const e=t?` in ${t}`:"";throw new ei(-201,`No provider for ${ds(i)} found${e}`)}function Ls(i,t){null==i&&function Ei(i,t,e,n){throw new Error(`ASSERTION ERROR: ${i}`+(null==n?"":` [Expected=> ${e} ${n} ${t} <=Actual]`))}(t,i,null,"!=")}function de(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function xe(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vx(i){return LA(i,fm)||LA(i,FA)}function LA(i,t){return i.hasOwnProperty(t)?i[t]:null}function PA(i){return i&&(i.hasOwnProperty(Hx)||i.hasOwnProperty(JU))?i[Hx]:null}const fm=vi({\u0275prov:vi}),Hx=vi({\u0275inj:vi}),FA=vi({ngInjectableDef:vi}),JU=vi({ngInjectorDef:vi});var kt=(()=>((kt=kt||{})[kt.Default=0]="Default",kt[kt.Host=1]="Host",kt[kt.Self=2]="Self",kt[kt.SkipSelf=4]="SkipSelf",kt[kt.Optional=8]="Optional",kt))();let zx;function Po(i){const t=zx;return zx=i,t}function OA(i,t,e){const n=Vx(i);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&kt.Optional?null:void 0!==t?t:void pm(hi(i),"Injector")}function Fo(i){return{toString:i}.toString()}var Dr=(()=>((Dr=Dr||{})[Dr.OnPush=0]="OnPush",Dr[Dr.Default=1]="Default",Dr))(),Ar=(()=>{return(i=Ar||(Ar={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ar;var i})();const t8="undefined"!=typeof globalThis&&globalThis,n8="undefined"!=typeof window&&window,s8="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gi=t8||"undefined"!=typeof global&&global||n8||s8,td={},yi=[],mm=vi({\u0275cmp:vi}),Gx=vi({\u0275dir:vi}),Ux=vi({\u0275pipe:vi}),NA=vi({\u0275mod:vi}),za=vi({\u0275fac:vi}),Th=vi({__NG_ELEMENT_ID__:vi});let r8=0;function Be(i){return Fo(()=>{const e={},n={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Dr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||yi,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ar.Emulated,id:"c",styles:i.styles||yi,_:null,setInput:null,schemas:i.schemas||null,tView:null},s=i.directives,r=i.features,a=i.pipes;return n.id+=r8++,n.inputs=zA(i.inputs,e),n.outputs=zA(i.outputs),r&&r.forEach(o=>o(n)),n.directiveDefs=s?()=>("function"==typeof s?s():s).map(BA):null,n.pipeDefs=a?()=>("function"==typeof a?a():a).map(VA):null,n})}function BA(i){return Jn(i)||function Oo(i){return i[Gx]||null}(i)}function VA(i){return function Al(i){return i[Ux]||null}(i)}const HA={};function be(i){return Fo(()=>{const t={type:i.type,bootstrap:i.bootstrap||yi,declarations:i.declarations||yi,imports:i.imports||yi,exports:i.exports||yi,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(HA[i.id]=i.type),t})}function zA(i,t){if(null==i)return td;const e={};for(const n in i)if(i.hasOwnProperty(n)){let s=i[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=n,t&&(t[s]=r)}return e}const j=Be;function ws(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Jn(i){return i[mm]||null}function nr(i,t){const e=i[NA]||null;if(!e&&!0===t)throw new Error(`Type ${hi(i)} does not have '\u0275mod' property.`);return e}function ra(i){return Array.isArray(i)&&"object"==typeof i[1]}function kr(i){return Array.isArray(i)&&!0===i[1]}function $x(i){return 0!=(8&i.flags)}function ym(i){return 2==(2&i.flags)}function xm(i){return 1==(1&i.flags)}function Rr(i){return null!==i.template}function u8(i){return 0!=(512&i[2])}function Il(i,t){return i.hasOwnProperty(za)?i[za]:null}class f8{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function bt(){return UA}function UA(i){return i.type.prototype.ngOnChanges&&(i.setInput=g8),m8}function m8(){const i=jA(this),t=null==i?void 0:i.current;if(t){const e=i.previous;if(e===td)i.previous=t;else for(let n in t)e[n]=t[n];i.current=null,this.ngOnChanges(t)}}function g8(i,t,e,n){const s=jA(i)||function _8(i,t){return i[WA]=t}(i,{previous:td,current:null}),r=s.current||(s.current={}),a=s.previous,o=this.declaredInputs[e],l=a[o];r[o]=new f8(l&&l.currentValue,t,a===td),i[n]=t}bt.ngInherit=!0;const WA="__ngSimpleChanges__";function jA(i){return i[WA]||null}const $A="http://www.w3.org/2000/svg";let Xx;function Qx(){return void 0!==Xx?Xx:"undefined"!=typeof document?document:void 0}function $i(i){return!!i.listen}const qA={createRenderer:(i,t)=>Qx()};function dn(i){for(;Array.isArray(i);)i=i[0];return i}function bm(i,t){return dn(t[i])}function ar(i,t){return dn(t[i.index])}function Kx(i,t){return i.data[t]}function ad(i,t){return i[t]}function Fs(i,t){const e=t[i];return ra(e)?e:e[0]}function XA(i){return 4==(4&i[2])}function Zx(i){return 128==(128&i[2])}function No(i,t){return null==t?null:i[t]}function QA(i){i[18]=0}function Jx(i,t){i[5]+=t;let e=i,n=i[3];for(;null!==n&&(1===t&&1===e[5]||-1===t&&0===e[5]);)n[5]+=t,e=n,n=n[3]}const wt={lFrame:sE(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function KA(){return wt.bindingsEnabled}function _e(){return wt.lFrame.lView}function ti(){return wt.lFrame.tView}function Qt(i){return wt.lFrame.contextLView=i,i[8]}function Cn(){let i=ZA();for(;null!==i&&64===i.type;)i=i.parent;return i}function ZA(){return wt.lFrame.currentTNode}function aa(i,t){const e=wt.lFrame;e.currentTNode=i,e.isParent=t}function e0(){return wt.lFrame.isParent}function t0(){wt.lFrame.isParent=!1}function wm(){return wt.isInCheckNoChangesMode}function Cm(i){wt.isInCheckNoChangesMode=i}function us(){const i=wt.lFrame;let t=i.bindingRootIndex;return-1===t&&(t=i.bindingRootIndex=i.tView.bindingStartIndex),t}function od(){return wt.lFrame.bindingIndex++}function Ua(i){const t=wt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+i,e}function R8(i,t){const e=wt.lFrame;e.bindingIndex=e.bindingRootIndex=i,n0(t)}function n0(i){wt.lFrame.currentDirectiveIndex=i}function s0(i){const t=wt.lFrame.currentDirectiveIndex;return-1===t?null:i[t]}function tE(){return wt.lFrame.currentQueryIndex}function r0(i){wt.lFrame.currentQueryIndex=i}function L8(i){const t=i[1];return 2===t.type?t.declTNode:1===t.type?i[6]:null}function iE(i,t,e){if(e&kt.SkipSelf){let s=t,r=i;for(;!(s=s.parent,null!==s||e&kt.Host||(s=L8(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,i=r}const n=wt.lFrame=nE();return n.currentTNode=t,n.lView=i,!0}function Sm(i){const t=nE(),e=i[1];wt.lFrame=t,t.currentTNode=e.firstChild,t.lView=i,t.tView=e,t.contextLView=i,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function nE(){const i=wt.lFrame,t=null===i?null:i.child;return null===t?sE(i):t}function sE(i){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=t),t}function rE(){const i=wt.lFrame;return wt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const aE=rE;function Mm(){const i=rE();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function hs(){return wt.lFrame.selectedIndex}function Bo(i){wt.lFrame.selectedIndex=i}function Yi(){const i=wt.lFrame;return Kx(i.tView,i.selectedIndex)}function it(){wt.lFrame.currentNamespace=$A}function ld(){!function N8(){wt.lFrame.currentNamespace=null}()}function Tm(i,t){for(let e=t.directiveStart,n=t.directiveEnd;e<n;e++){const r=i.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:o,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;a&&(i.contentHooks||(i.contentHooks=[])).push(-e,a),o&&((i.contentHooks||(i.contentHooks=[])).push(e,o),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(e,o)),l&&(i.viewHooks||(i.viewHooks=[])).push(-e,l),c&&((i.viewHooks||(i.viewHooks=[])).push(e,c),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(e,c)),null!=d&&(i.destroyHooks||(i.destroyHooks=[])).push(e,d)}}function Dm(i,t,e){oE(i,t,3,e)}function Am(i,t,e,n){(3&i[2])===e&&oE(i,t,e,n)}function a0(i,t){let e=i[2];(3&e)===t&&(e&=2047,e+=1,i[2]=e)}function oE(i,t,e,n){const r=null!=n?n:-1,a=t.length-1;let o=0;for(let l=void 0!==n?65535&i[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(o=t[l],null!=n&&o>=n)break}else t[l]<0&&(i[18]+=65536),(o<r||-1==r)&&(H8(i,e,t,l),i[18]=(4294901760&i[18])+l+2),l++}function H8(i,t,e,n){const s=e[n]<0,r=e[n+1],o=i[s?-e[n]:e[n]];if(s){if(i[2]>>11<i[18]>>16&&(3&i[2])===t){i[2]+=2048;try{r.call(o)}finally{}}}else try{r.call(o)}finally{}}class Rh{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Em(i,t,e){const n=$i(i);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const a=e[s++],o=e[s++],l=e[s++];n?i.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{const a=r,o=e[++s];l0(a)?n&&i.setProperty(t,a,o):n?i.setAttribute(t,a,o):t.setAttribute(a,o),s++}}return s}function lE(i){return 3===i||4===i||6===i}function l0(i){return 64===i.charCodeAt(0)}function km(i,t){if(null!==t&&0!==t.length)if(null===i||0===i.length)i=t.slice();else{let e=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?e=s:0===e||cE(i,e,s,null,-1===e||2===e?t[++n]:null)}}return i}function cE(i,t,e,n,s){let r=0,a=i.length;if(-1===t)a=-1;else for(;r<i.length;){const o=i[r++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=r-1;break}}}for(;r<i.length;){const o=i[r];if("number"==typeof o)break;if(o===e){if(null===n)return void(null!==s&&(i[r+1]=s));if(n===i[r+1])return void(i[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==a&&(i.splice(a,0,t),r=a+1),i.splice(r++,0,e),null!==n&&i.splice(r++,0,n),null!==s&&i.splice(r++,0,s)}function dE(i){return-1!==i}function cd(i){return 32767&i}function dd(i,t){let e=function j8(i){return i>>16}(i),n=t;for(;e>0;)n=n[15],e--;return n}let c0=!0;function Rm(i){const t=c0;return c0=i,t}let $8=0;function Lh(i,t){const e=u0(i,t);if(-1!==e)return e;const n=t[1];n.firstCreatePass&&(i.injectorIndex=t.length,d0(n.data,i),d0(t,null),d0(n.blueprint,null));const s=Im(i,t),r=i.injectorIndex;if(dE(s)){const a=cd(s),o=dd(s,t),l=o[1].data;for(let c=0;c<8;c++)t[r+c]=o[a+c]|l[a+c]}return t[r+8]=s,r}function d0(i,t){i.push(0,0,0,0,0,0,0,0,t)}function u0(i,t){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===t[i.injectorIndex+8]?-1:i.injectorIndex}function Im(i,t){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let e=0,n=null,s=t;for(;null!==s;){const r=s[1],a=r.type;if(n=2===a?r.declTNode:1===a?s[6]:null,null===n)return-1;if(e++,s=s[15],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return-1}function Lm(i,t,e){!function Y8(i,t,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Th)&&(n=e[Th]),null==n&&(n=e[Th]=$8++);const s=255&n;t.data[i+(s>>5)]|=1<<s}(i,t,e)}function pE(i,t,e){if(e&kt.Optional)return i;pm(t,"NodeInjector")}function fE(i,t,e,n){if(e&kt.Optional&&void 0===n&&(n=null),0==(e&(kt.Self|kt.Host))){const s=i[9],r=Po(void 0);try{return s?s.get(t,n,e&kt.Optional):OA(t,n,e&kt.Optional)}finally{Po(r)}}return pE(n,t,e)}function mE(i,t,e,n=kt.Default,s){if(null!==i){const r=function K8(i){if("string"==typeof i)return i.charCodeAt(0)||0;const t=i.hasOwnProperty(Th)?i[Th]:void 0;return"number"==typeof t?t>=0?255&t:X8:t}(e);if("function"==typeof r){if(!iE(t,i,n))return n&kt.Host?pE(s,e,n):fE(t,e,n,s);try{const a=r(n);if(null!=a||n&kt.Optional)return a;pm(e)}finally{aE()}}else if("number"==typeof r){let a=null,o=u0(i,t),l=-1,c=n&kt.Host?t[16][6]:null;for((-1===o||n&kt.SkipSelf)&&(l=-1===o?Im(i,t):t[o+8],-1!==l&&vE(n,!1)?(a=t[1],o=cd(l),t=dd(l,t)):o=-1);-1!==o;){const d=t[1];if(_E(r,o,d.data)){const u=Q8(o,t,e,a,n,c);if(u!==gE)return u}l=t[o+8],-1!==l&&vE(n,t[1].data[o+8]===c)&&_E(r,o,t)?(a=d,o=cd(l),t=dd(l,t)):o=-1}}}return fE(t,e,n,s)}const gE={};function X8(){return new ud(Cn(),_e())}function Q8(i,t,e,n,s,r){const a=t[1],o=a.data[i+8],d=Pm(o,a,e,null==n?ym(o)&&c0:n!=a&&0!=(3&o.type),s&kt.Host&&r===o);return null!==d?Ph(t,a,d,o):gE}function Pm(i,t,e,n,s){const r=i.providerIndexes,a=t.data,o=1048575&r,l=i.directiveStart,d=r>>20,h=s?o+d:i.directiveEnd;for(let p=n?o:o+d;p<h;p++){const f=a[p];if(p<l&&e===f||p>=l&&f.type===e)return p}if(s){const p=a[l];if(p&&Rr(p)&&p.type===e)return l}return null}function Ph(i,t,e,n){let s=i[e];const r=t.data;if(function z8(i){return i instanceof Rh}(s)){const a=s;a.resolving&&function YU(i,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${i}`:"";throw new ei(-200,`Circular dependency in DI detected for ${i}${e}`)}(ds(r[e]));const o=Rm(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Po(a.injectImpl):null;iE(i,n,kt.Default);try{s=i[e]=a.factory(void 0,r,i,n),t.firstCreatePass&&e>=n.directiveStart&&function V8(i,t,e){const{ngOnChanges:n,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(n){const a=UA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(i,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,a)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-i,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i,r))}(e,r[e],t)}finally{null!==l&&Po(l),Rm(o),a.resolving=!1,aE()}}return s}function _E(i,t,e){return!!(e[t+(i>>5)]&1<<i)}function vE(i,t){return!(i&kt.Self||i&kt.Host&&t)}class ud{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,n){return mE(this._tNode,this._lView,t,n,e)}}function Ie(i){return Fo(()=>{const t=i.prototype.constructor,e=t[za]||h0(t),n=Object.prototype;let s=Object.getPrototypeOf(i.prototype).constructor;for(;s&&s!==n;){const r=s[za]||h0(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function h0(i){return IA(i)?()=>{const t=h0(Ft(i));return t&&t()}:Il(i)}function qn(i){return function q8(i,t){if("class"===t)return i.classes;if("style"===t)return i.styles;const e=i.attrs;if(e){const n=e.length;let s=0;for(;s<n;){const r=e[s];if(lE(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<n&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(Cn(),i)}const pd="__parameters__";function md(i,t,e){return Fo(()=>{const n=function p0(i){return function(...e){if(i){const n=i(...e);for(const s in n)this[s]=n[s]}}}(t);function s(...r){if(this instanceof s)return n.apply(this,r),this;const a=new s(...r);return o.annotation=a,o;function o(l,c,d){const u=l.hasOwnProperty(pd)?l[pd]:Object.defineProperty(l,pd,{value:[]})[pd];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=i,s.annotationCls=s,s})}class ne{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=de({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const J8=new ne("AnalyzeForEntryComponents");function or(i,t){void 0===t&&(t=i);for(let e=0;e<i.length;e++){let n=i[e];Array.isArray(n)?(t===i&&(t=i.slice(0,e)),or(n,t)):t!==i&&t.push(n)}return t}function oa(i,t){i.forEach(e=>Array.isArray(e)?oa(e,t):t(e))}function xE(i,t,e){t>=i.length?i.push(e):i.splice(t,0,e)}function Fm(i,t){return t>=i.length-1?i.pop():i.splice(t,1)[0]}function Nh(i,t){const e=[];for(let n=0;n<i;n++)e.push(t);return e}function Os(i,t,e){let n=gd(i,t);return n>=0?i[1|n]=e:(n=~n,function iW(i,t,e,n){let s=i.length;if(s==t)i.push(e,n);else if(1===s)i.push(n,i[0]),i[0]=e;else{for(s--,i.push(i[s-1],i[s]);s>t;)i[s]=i[s-2],s--;i[t]=e,i[t+1]=n}}(i,n,t,e)),n}function m0(i,t){const e=gd(i,t);if(e>=0)return i[1|e]}function gd(i,t){return function CE(i,t,e){let n=0,s=i.length>>e;for(;s!==n;){const r=n+(s-n>>1),a=i[r<<e];if(t===a)return r<<e;a>t?s=r:n=r+1}return~(s<<e)}(i,t,1)}const Bh={},_0="__NG_DI_FLAG__",Nm="ngTempTokenPath",cW=/\n/gm,ME="__source",uW=vi({provide:String,useValue:vi});let Vh;function TE(i){const t=Vh;return Vh=i,t}function hW(i,t=kt.Default){if(void 0===Vh)throw new ei(203,"");return null===Vh?OA(i,void 0,t):Vh.get(i,t&kt.Optional?null:void 0,t)}function $(i,t=kt.Default){return(function e8(){return zx}()||hW)(Ft(i),t)}const _d=$;function v0(i){const t=[];for(let e=0;e<i.length;e++){const n=Ft(i[e]);if(Array.isArray(n)){if(0===n.length)throw new ei(900,"");let s,r=kt.Default;for(let a=0;a<n.length;a++){const o=n[a],l=pW(o);"number"==typeof l?-1===l?s=o.token:r|=l:s=o}t.push($(s,r))}else t.push($(n))}return t}function Hh(i,t){return i[_0]=t,i.prototype[_0]=t,i}function pW(i){return i[_0]}const zh=Hh(md("Inject",i=>({token:i})),-1),Mn=Hh(md("Optional"),8),Ns=Hh(md("SkipSelf"),4);let Vm,Hm;function yd(i){var t;return(null===(t=function x0(){if(void 0===Vm&&(Vm=null,gi.trustedTypes))try{Vm=gi.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Vm}())||void 0===t?void 0:t.createHTML(i))||i}function IE(i){var t;return(null===(t=function b0(){if(void 0===Hm&&(Hm=null,gi.trustedTypes))try{Hm=gi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Hm}())||void 0===t?void 0:t.createHTML(i))||i}class Ll{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class TW extends Ll{getTypeName(){return"HTML"}}class DW extends Ll{getTypeName(){return"Style"}}class AW extends Ll{getTypeName(){return"Script"}}class EW extends Ll{getTypeName(){return"URL"}}class kW extends Ll{getTypeName(){return"ResourceURL"}}function Bs(i){return i instanceof Ll?i.changingThisBreaksApplicationSecurity:i}function la(i,t){const e=FE(i);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function FE(i){return i instanceof Ll&&i.getTypeName()||null}class OW{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(yd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class NW{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const n=this.inertDocument.createElement("body");e.appendChild(n)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=yd(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=yd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const a=e.item(s).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const VW=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,HW=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Uh(i){return(i=String(i)).match(VW)||i.match(HW)?i:"unsafe:"+i}function ca(i){const t={};for(const e of i.split(","))t[e]=!0;return t}function Wh(...i){const t={};for(const e of i)for(const n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}const BE=ca("area,br,col,hr,img,wbr"),VE=ca("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),HE=ca("rp,rt"),w0=Wh(BE,Wh(VE,ca("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wh(HE,ca("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wh(HE,VE)),C0=ca("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S0=ca("srcset"),zE=Wh(C0,S0,ca("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ca("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zW=ca("script,style,template");class GW{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!w0.hasOwnProperty(e))return this.sanitizedSomething=!0,!zW.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let s=0;s<n.length;s++){const r=n.item(s),a=r.name,o=a.toLowerCase();if(!zE.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let l=r.value;C0[o]&&(l=Uh(l)),S0[o]&&(i=l,l=(i=String(i)).split(",").map(t=>Uh(t.trim())).join(", ")),this.buf.push(" ",a,'="',GE(l),'"')}var i;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();w0.hasOwnProperty(e)&&!BE.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(GE(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const UW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WW=/([^\#-~ |!])/g;function GE(i){return i.replace(/&/g,"&amp;").replace(UW,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(WW,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zm;function UE(i,t){let e=null;try{zm=zm||function OE(i){const t=new NW(i);return function BW(){try{return!!(new window.DOMParser).parseFromString(yd(""),"text/html")}catch(i){return!1}}()?new OW(t):t}(i);let n=t?String(t):"";e=zm.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=e.innerHTML,e=zm.getInertBodyElement(n)}while(n!==r);return yd((new GW).sanitizeChildren(M0(e)||e))}finally{if(e){const n=M0(e)||e;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function M0(i){return"content"in i&&function jW(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var ri=(()=>((ri=ri||{})[ri.NONE=0]="NONE",ri[ri.HTML=1]="HTML",ri[ri.STYLE=2]="STYLE",ri[ri.SCRIPT=3]="SCRIPT",ri[ri.URL=4]="URL",ri[ri.RESOURCE_URL=5]="RESOURCE_URL",ri))();function WE(i){const t=jh();return t?IE(t.sanitize(ri.HTML,i)||""):la(i,"HTML")?IE(Bs(i)):UE(Qx(),Tt(i))}function xd(i){const t=jh();return t?t.sanitize(ri.URL,i)||"":la(i,"URL")?Bs(i):Uh(Tt(i))}function jh(){const i=_e();return i&&i[12]}const YE="__ngContext__";function ts(i,t){i[YE]=t}function D0(i){const t=function $h(i){return i[YE]||null}(i);return t?Array.isArray(t)?t:t.lView:null}function E0(i){return i.ngOriginalError}function l6(i,...t){i.error(...t)}class Wa{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=function o6(i){return i&&i.ngErrorLogger||l6}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&E0(t);for(;e&&E0(e);)e=E0(e);return e||null}}const ZE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gi))();function JE(i){return i.ownerDocument.defaultView}function da(i){return i instanceof Function?i():i}var Vs=(()=>((Vs=Vs||{})[Vs.Important=1]="Important",Vs[Vs.DashCase=2]="DashCase",Vs))();function R0(i,t){return undefined(i,t)}function Yh(i){const t=i[3];return kr(t)?t[3]:t}function I0(i){return r1(i[13])}function L0(i){return r1(i[4])}function r1(i){for(;null!==i&&!kr(i);)i=i[4];return i}function wd(i,t,e,n,s){if(null!=n){let r,a=!1;kr(n)?r=n:ra(n)&&(a=!0,n=n[0]);const o=dn(n);0===i&&null!==e?null==s?u1(t,e,o):Pl(t,e,o,s||null,!0):1===i&&null!==e?Pl(t,e,o,s||null,!0):2===i?function v1(i,t,e){const n=Gm(i,t);n&&function k6(i,t,e,n){$i(i)?i.removeChild(t,e,n):t.removeChild(e)}(i,n,t,e)}(t,o,a):3===i&&t.destroyNode(o),null!=r&&function L6(i,t,e,n,s){const r=e[7];r!==dn(e)&&wd(t,i,n,r,s);for(let o=10;o<e.length;o++){const l=e[o];qh(l[1],l,i,t,n,r)}}(t,i,r,e,s)}}function F0(i,t,e){return $i(i)?i.createElement(t,e):null===e?i.createElement(t):i.createElementNS(e,t)}function o1(i,t){const e=i[9],n=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Jx(s,-1)),e.splice(n,1)}function O0(i,t){if(i.length<=10)return;const e=10+t,n=i[e];if(n){const s=n[17];null!==s&&s!==i&&o1(s,n),t>0&&(i[e-1][4]=n[4]);const r=Fm(i,10+t);!function w6(i,t){qh(i,t,t[11],2,null,null),t[0]=null,t[6]=null}(n[1],n);const a=r[19];null!==a&&a.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function l1(i,t){if(!(256&t[2])){const e=t[11];$i(e)&&e.destroyNode&&qh(i,t,e,3,null,null),function M6(i){let t=i[13];if(!t)return N0(i[1],i);for(;t;){let e=null;if(ra(t))e=t[13];else{const n=t[10];n&&(e=n)}if(!e){for(;t&&!t[4]&&t!==i;)ra(t)&&N0(t[1],t),t=t[3];null===t&&(t=i),ra(t)&&N0(t[1],t),e=t&&t[4]}t=e}}(t)}}function N0(i,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function E6(i,t){let e;if(null!=i&&null!=(e=i.destroyHooks))for(let n=0;n<e.length;n+=2){const s=t[e[n]];if(!(s instanceof Rh)){const r=e[n+1];if(Array.isArray(r))for(let a=0;a<r.length;a+=2){const o=s[r[a]],l=r[a+1];try{l.call(o)}finally{}}else try{r.call(s)}finally{}}}}(i,t),function A6(i,t){const e=i.cleanup,n=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const a=e[r+1],o="function"==typeof a?a(t):dn(t[a]),l=n[s=e[r+2]],c=e[r+3];"boolean"==typeof c?o.removeEventListener(e[r],l,c):c>=0?n[s=c]():n[s=-c].unsubscribe(),r+=2}else{const a=n[s=e[r+1]];e[r].call(a)}if(null!==n){for(let r=s+1;r<n.length;r++)n[r]();t[7]=null}}(i,t),1===t[1].type&&$i(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&kr(t[3])){e!==t[3]&&o1(e,t);const n=t[19];null!==n&&n.detachView(i)}}}function c1(i,t,e){return function d1(i,t,e){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return e[0];if(2&n.flags){const s=i.data[n.directiveStart].encapsulation;if(s===Ar.None||s===Ar.Emulated)return null}return ar(n,e)}(i,t.parent,e)}function Pl(i,t,e,n,s){$i(i)?i.insertBefore(t,e,n,s):t.insertBefore(e,n,s)}function u1(i,t,e){$i(i)?i.appendChild(t,e):t.appendChild(e)}function h1(i,t,e,n,s){null!==n?Pl(i,t,e,n,s):u1(i,t,e)}function Gm(i,t){return $i(i)?i.parentNode(t):t.parentNode}function p1(i,t,e){return m1(i,t,e)}let m1=function f1(i,t,e){return 40&i.type?ar(i,e):null};function Um(i,t,e,n){const s=c1(i,n,t),r=t[11],o=p1(n.parent||t[6],n,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)h1(r,s,e[l],o,!1);else h1(r,s,e,o,!1)}function Wm(i,t){if(null!==t){const e=t.type;if(3&e)return ar(t,i);if(4&e)return V0(-1,i[t.index]);if(8&e){const n=t.child;if(null!==n)return Wm(i,n);{const s=i[t.index];return kr(s)?V0(-1,s):dn(s)}}if(32&e)return R0(t,i)()||dn(i[t.index]);{const n=_1(i,t);return null!==n?Array.isArray(n)?n[0]:Wm(Yh(i[16]),n):Wm(i,t.next)}}return null}function _1(i,t){return null!==t?i[16][6].projection[t.projection]:null}function V0(i,t){const e=10+i+1;if(e<t.length){const n=t[e],s=n[1].firstChild;if(null!==s)return Wm(n,s)}return t[7]}function H0(i,t,e,n,s,r,a){for(;null!=e;){const o=n[e.index],l=e.type;if(a&&0===t&&(o&&ts(dn(o),n),e.flags|=4),64!=(64&e.flags))if(8&l)H0(i,t,e.child,n,s,r,!1),wd(t,i,s,o,r);else if(32&l){const c=R0(e,n);let d;for(;d=c();)wd(t,i,s,d,r);wd(t,i,s,o,r)}else 16&l?y1(i,t,n,e,s,r):wd(t,i,s,o,r);e=a?e.projectionNext:e.next}}function qh(i,t,e,n,s,r){H0(e,n,i.firstChild,t,s,r,!1)}function y1(i,t,e,n,s,r){const a=e[16],l=a[6].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)wd(t,i,s,l[c],r);else H0(i,t,l,a[3],s,r,!0)}function x1(i,t,e){$i(i)?i.setAttribute(t,"style",e):t.style.cssText=e}function z0(i,t,e){$i(i)?""===e?i.removeAttribute(t,"class"):i.setAttribute(t,"class",e):t.className=e}function b1(i,t,e){let n=i.length;for(;;){const s=i.indexOf(t,e);if(-1===s)return s;if(0===s||i.charCodeAt(s-1)<=32){const r=t.length;if(s+r===n||i.charCodeAt(s+r)<=32)return s}e=s+1}}const w1="ng-template";function F6(i,t,e){let n=0;for(;n<i.length;){let s=i[n++];if(e&&"class"===s){if(s=i[n],-1!==b1(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<i.length&&"string"==typeof(s=i[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function C1(i){return 4===i.type&&i.value!==w1}function O6(i,t,e){return t===(4!==i.type||e?i.value:w1)}function N6(i,t,e){let n=4;const s=i.attrs||[],r=function H6(i){for(let t=0;t<i.length;t++)if(lE(i[t]))return t;return i.length}(s);let a=!1;for(let o=0;o<t.length;o++){const l=t[o];if("number"!=typeof l){if(!a)if(4&n){if(n=2|1&n,""!==l&&!O6(i,l,e)||""===l&&1===t.length){if(Ir(n))return!1;a=!0}}else{const c=8&n?l:t[++o];if(8&n&&null!==i.attrs){if(!F6(i.attrs,c,e)){if(Ir(n))return!1;a=!0}continue}const u=B6(8&n?"class":l,s,C1(i),e);if(-1===u){if(Ir(n))return!1;a=!0;continue}if(""!==c){let h;h=u>r?"":s[u+1].toLowerCase();const p=8&n?h:null;if(p&&-1!==b1(p,c,0)||2&n&&c!==h){if(Ir(n))return!1;a=!0}}}}else{if(!a&&!Ir(n)&&!Ir(l))return!1;if(a&&Ir(l))continue;a=!1,n=l|1&n}}return Ir(n)||a}function Ir(i){return 0==(1&i)}function B6(i,t,e,n){if(null===t)return-1;let s=0;if(n||!e){let r=!1;for(;s<t.length;){const a=t[s];if(a===i)return s;if(3===a||6===a)r=!0;else{if(1===a||2===a){let o=t[++s];for(;"string"==typeof o;)o=t[++s];continue}if(4===a)break;if(0===a){s+=4;continue}}s+=r?1:2}return-1}return function z6(i,t){let e=i.indexOf(4);if(e>-1)for(e++;e<i.length;){const n=i[e];if("number"==typeof n)return-1;if(n===t)return e;e++}return-1}(t,i)}function S1(i,t,e=!1){for(let n=0;n<t.length;n++)if(N6(i,t[n],e))return!0;return!1}function G6(i,t){e:for(let e=0;e<t.length;e++){const n=t[e];if(i.length===n.length){for(let s=0;s<i.length;s++)if(i[s]!==n[s])continue e;return!0}}return!1}function M1(i,t){return i?":not("+t.trim()+")":t}function U6(i){let t=i[0],e=1,n=2,s="",r=!1;for(;e<i.length;){let a=i[e];if("string"==typeof a)if(2&n){const o=i[++e];s+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&n?s+="."+a:4&n&&(s+=" "+a);else""!==s&&!Ir(a)&&(t+=M1(r,s),s=""),n=a,r=r||!Ir(n);e++}return""!==s&&(t+=M1(r,s)),t}const Dt={};function U(i){T1(ti(),_e(),hs()+i,wm())}function T1(i,t,e,n){if(!n)if(3==(3&t[2])){const r=i.preOrderCheckHooks;null!==r&&Dm(t,r,e)}else{const r=i.preOrderHooks;null!==r&&Am(t,r,0,e)}Bo(e)}function jm(i,t){return i<<17|t<<2}function Lr(i){return i>>17&32767}function G0(i){return 2|i}function ja(i){return(131068&i)>>2}function U0(i,t){return-131069&i|t<<2}function W0(i){return 1|i}function N1(i,t){const e=i.contentQueries;if(null!==e)for(let n=0;n<e.length;n+=2){const s=e[n],r=e[n+1];if(-1!==r){const a=i.data[r];r0(s),a.contentQueries(2,t[r],r)}}}function Xh(i,t,e,n,s,r,a,o,l,c){const d=t.blueprint.slice();return d[0]=s,d[2]=140|n,QA(d),d[3]=d[15]=i,d[8]=e,d[10]=a||i&&i[10],d[11]=o||i&&i[11],d[12]=l||i&&i[12]||null,d[9]=c||i&&i[9]||null,d[6]=r,d[16]=2==t.type?i[16]:d,d}function Cd(i,t,e,n,s){let r=i.data[t];if(null===r)r=function J0(i,t,e,n,s){const r=ZA(),a=e0(),l=i.data[t]=function oj(i,t,e,n,s,r){return{type:e,index:n,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?r:r&&r.parent,e,t,n,s);return null===i.firstChild&&(i.firstChild=l),null!==r&&(a?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(i,t,e,n,s),function k8(){return wt.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=n,r.attrs=s;const a=function kh(){const i=wt.lFrame,t=i.currentTNode;return i.isParent?t:t.parent}();r.injectorIndex=null===a?-1:a.injectorIndex}return aa(r,!0),r}function Sd(i,t,e,n){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(n),i.blueprint.push(n),i.data.push(null);return s}function Qh(i,t,e){Sm(t);try{const n=i.viewQuery;null!==n&&lb(1,n,e);const s=i.template;null!==s&&B1(i,t,s,1,e),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&N1(i,t),i.staticViewQueries&&lb(2,i.viewQuery,e);const r=i.components;null!==r&&function sj(i,t){for(let e=0;e<t.length;e++)Mj(i,t[e])}(t,r)}catch(n){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),n}finally{t[2]&=-5,Mm()}}function Md(i,t,e,n){const s=t[2];if(256==(256&s))return;Sm(t);const r=wm();try{QA(t),function JA(i){return wt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==e&&B1(i,t,e,2,n);const a=3==(3&s);if(!r)if(a){const c=i.preOrderCheckHooks;null!==c&&Dm(t,c,null)}else{const c=i.preOrderHooks;null!==c&&Am(t,c,0,null),a0(t,0)}if(function Cj(i){for(let t=I0(i);null!==t;t=L0(t)){if(!t[2])continue;const e=t[9];for(let n=0;n<e.length;n++){const s=e[n],r=s[3];0==(1024&s[2])&&Jx(r,1),s[2]|=1024}}}(t),function wj(i){for(let t=I0(i);null!==t;t=L0(t))for(let e=10;e<t.length;e++){const n=t[e],s=n[1];Zx(n)&&Md(s,n,s.template,n[8])}}(t),null!==i.contentQueries&&N1(i,t),!r)if(a){const c=i.contentCheckHooks;null!==c&&Dm(t,c)}else{const c=i.contentHooks;null!==c&&Am(t,c,1),a0(t,1)}!function ij(i,t){const e=i.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const s=e[n];if(s<0)Bo(~s);else{const r=s,a=e[++n],o=e[++n];R8(a,r),o(2,t[r])}}}finally{Bo(-1)}}(i,t);const o=i.components;null!==o&&function nj(i,t){for(let e=0;e<t.length;e++)Sj(i,t[e])}(t,o);const l=i.viewQuery;if(null!==l&&lb(2,l,n),!r)if(a){const c=i.viewCheckHooks;null!==c&&Dm(t,c)}else{const c=i.viewHooks;null!==c&&Am(t,c,2),a0(t,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Jx(t[3],-1))}finally{Mm()}}function rj(i,t,e,n){const s=t[10],r=!wm(),a=XA(t);try{r&&!a&&s.begin&&s.begin(),a&&Qh(i,t,n),Md(i,t,e,n)}finally{r&&!a&&s.end&&s.end()}}function B1(i,t,e,n,s){const r=hs(),a=2&n;try{Bo(-1),a&&t.length>20&&T1(i,t,20,wm()),e(n,s)}finally{Bo(r)}}function V1(i,t,e){if($x(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const a=i.data[r];a.contentQueries&&a.contentQueries(1,e[r],r)}}}function eb(i,t,e){!KA()||(function fj(i,t,e,n){const s=e.directiveStart,r=e.directiveEnd;i.firstCreatePass||Lh(e,t),ts(n,t);const a=e.initialInputs;for(let o=s;o<r;o++){const l=i.data[o],c=Rr(l);c&&yj(t,e,l);const d=Ph(t,i,o,e);ts(d,t),null!==a&&xj(0,o-s,d,l,0,a),c&&(Fs(e.index,t)[8]=d)}}(i,t,e,ar(e,t)),128==(128&e.flags)&&function mj(i,t,e){const n=e.directiveStart,s=e.directiveEnd,a=e.index,o=function I8(){return wt.lFrame.currentDirectiveIndex}();try{Bo(a);for(let l=n;l<s;l++){const c=i.data[l],d=t[l];n0(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Y1(c,d)}}finally{Bo(-1),n0(o)}}(i,t,e))}function tb(i,t,e=ar){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const a=n[r+1],o=-1===a?e(t,i):i[a];i[s++]=o}}}function H1(i){const t=i.tView;return null===t||t.incompleteFirstPass?i.tView=qm(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):t}function qm(i,t,e,n,s,r,a,o,l,c){const d=20+n,u=d+s,h=function aj(i,t){const e=[];for(let n=0;n<t;n++)e.push(n<i?null:Dt);return e}(d,u),p="function"==typeof c?c():c;return h[1]={type:i,blueprint:h,template:e,queries:null,viewQuery:o,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function U1(i,t,e,n){const s=J1(t);null===e?s.push(n):(s.push(e),i.firstCreatePass&&ek(i).push(n,s.length-1))}function W1(i,t,e){for(let n in i)if(i.hasOwnProperty(n)){const s=i[n];(e=null===e?{}:e).hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}return e}function Hs(i,t,e,n,s,r,a,o){const l=ar(t,e);let d,c=t.inputs;!o&&null!=c&&(d=c[n])?(nk(i,e,d,n,s),ym(t)&&function dj(i,t){const e=Fs(t,i);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(n=function cj(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(n),s=null!=a?a(s,t.value||"",n):s,$i(r)?r.setProperty(l,n,s):l0(n)||(l.setProperty?l.setProperty(n,s):l[n]=s))}function ib(i,t,e,n){let s=!1;if(KA()){const r=function gj(i,t,e){const n=i.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const a=n[r];S1(e,a.selectors,!1)&&(s||(s=[]),Lm(Lh(e,t),i,a.type),Rr(a)?(q1(i,e),s.unshift(a)):s.push(a))}return s}(i,t,e),a=null===n?null:{"":-1};if(null!==r){s=!0,X1(e,i.data.length,r.length);for(let d=0;d<r.length;d++){const u=r[d];u.providersResolver&&u.providersResolver(u)}let o=!1,l=!1,c=Sd(i,t,r.length,null);for(let d=0;d<r.length;d++){const u=r[d];e.mergedAttrs=km(e.mergedAttrs,u.hostAttrs),Q1(i,e,t,c,u),vj(c,u,a),null!==u.contentQueries&&(e.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=128);const h=u.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e.index),o=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function lj(i,t){const n=t.directiveEnd,s=i.data,r=t.attrs,a=[];let o=null,l=null;for(let c=t.directiveStart;c<n;c++){const d=s[c],u=d.inputs,h=null===r||C1(t)?null:bj(u,r);a.push(h),o=W1(u,c,o),l=W1(d.outputs,c,l)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=o,t.outputs=l}(i,e)}a&&function _j(i,t,e){if(t){const n=i.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new ei(-301,`Export of name '${t[s+1]}' not found!`);n.push(t[s],r)}}}(e,n,a)}return e.mergedAttrs=km(e.mergedAttrs,e.attrs),s}function $1(i,t,e,n,s,r){const a=r.hostBindings;if(a){let o=i.hostBindingOpCodes;null===o&&(o=i.hostBindingOpCodes=[]);const l=~t.index;(function pj(i){let t=i.length;for(;t>0;){const e=i[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(n,s,a)}}function Y1(i,t){null!==i.hostBindings&&i.hostBindings(1,t)}function q1(i,t){t.flags|=2,(i.components||(i.components=[])).push(t.index)}function vj(i,t,e){if(e){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)e[t.exportAs[n]]=i;Rr(t)&&(e[""]=i)}}function X1(i,t,e){i.flags|=1,i.directiveStart=t,i.directiveEnd=t+e,i.providerIndexes=t}function Q1(i,t,e,n,s){i.data[n]=s;const r=s.factory||(s.factory=Il(s.type)),a=new Rh(r,Rr(s),null);i.blueprint[n]=a,e[n]=a,$1(i,t,0,n,Sd(i,e,s.hostVars,Dt),s)}function yj(i,t,e){const n=ar(t,i),s=H1(e),r=i[10],a=Xm(i,Xh(i,s,null,e.onPush?64:16,n,t,r,r.createRenderer(n,e),null,null));i[t.index]=a}function ua(i,t,e,n,s,r){const a=ar(i,t);!function nb(i,t,e,n,s,r,a){if(null==r)$i(i)?i.removeAttribute(t,s,e):t.removeAttribute(s);else{const o=null==a?Tt(r):a(r,n||"",s);$i(i)?i.setAttribute(t,s,o,e):e?t.setAttributeNS(e,s,o):t.setAttribute(s,o)}}(t[11],a,r,i.value,e,n,s)}function xj(i,t,e,n,s,r){const a=r[t];if(null!==a){const o=n.setInput;for(let l=0;l<a.length;){const c=a[l++],d=a[l++],u=a[l++];null!==o?n.setInput(e,u,c,d):e[d]=u}}}function bj(i,t){let e=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;i.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,i[s],t[n+1])),n+=2}else n+=2;else n+=4}return e}function K1(i,t,e,n){return new Array(i,!0,!1,t,null,0,n,e,null,null)}function Sj(i,t){const e=Fs(t,i);if(Zx(e)){const n=e[1];80&e[2]?Md(n,e,n.template,e[8]):e[5]>0&&sb(e)}}function sb(i){for(let n=I0(i);null!==n;n=L0(n))for(let s=10;s<n.length;s++){const r=n[s];if(1024&r[2]){const a=r[1];Md(a,r,a.template,r[8])}else r[5]>0&&sb(r)}const e=i[1].components;if(null!==e)for(let n=0;n<e.length;n++){const s=Fs(e[n],i);Zx(s)&&s[5]>0&&sb(s)}}function Mj(i,t){const e=Fs(t,i),n=e[1];(function Tj(i,t){for(let e=t.length;e<i.blueprint.length;e++)t.push(i.blueprint[e])})(n,e),Qh(n,e,e[8])}function Xm(i,t){return i[13]?i[14][4]=t:i[13]=t,i[14]=t,t}function rb(i){for(;i;){i[2]|=64;const t=Yh(i);if(u8(i)&&!t)return i;i=t}return null}function ob(i,t,e){const n=t[10];n.begin&&n.begin();try{Md(i,t,i.template,e)}catch(s){throw ik(t,s),s}finally{n.end&&n.end()}}function Z1(i){!function ab(i){for(let t=0;t<i.components.length;t++){const e=i.components[t],n=D0(e),s=n[1];rj(s,n,s.template,e)}}(i[8])}function lb(i,t,e){r0(0),t(i,e)}const kj=(()=>Promise.resolve(null))();function J1(i){return i[7]||(i[7]=[])}function ek(i){return i.cleanup||(i.cleanup=[])}function tk(i,t,e){return(null===i||Rr(i))&&(e=function b8(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(e[t.index])),e[11]}function ik(i,t){const e=i[9],n=e?e.get(Wa,null):null;n&&n.handleError(t)}function nk(i,t,e,n,s){for(let r=0;r<e.length;){const a=e[r++],o=e[r++],l=t[a],c=i.data[a];null!==c.setInput?c.setInput(l,s,n,o):l[o]=s}}function $a(i,t,e){const n=bm(t,i);!function a1(i,t,e){$i(i)?i.setValue(t,e):t.textContent=e}(i[11],n,e)}function Qm(i,t,e){let n=e?i.styles:null,s=e?i.classes:null,r=0;if(null!==t)for(let a=0;a<t.length;a++){const o=t[a];"number"==typeof o?r=o:1==r?s=Nx(s,o):2==r&&(n=Nx(n,o+": "+t[++a]+";"))}e?i.styles=n:i.stylesWithoutHost=n,e?i.classes=s:i.classesWithoutHost=s}const cb=new ne("INJECTOR",-1);class sk{get(t,e=Bh){if(e===Bh){const n=new Error(`NullInjectorError: No provider for ${hi(t)}!`);throw n.name="NullInjectorError",n}return e}}const db=new ne("Set Injector scope."),Kh={},Lj={};let ub;function rk(){return void 0===ub&&(ub=new sk),ub}function ak(i,t=null,e=null,n){const s=ok(i,t,e,n);return s._resolveInjectorDefTypes(),s}function ok(i,t=null,e=null,n){return new Pj(i,e,t||rk(),n)}class Pj{constructor(t,e,n,s=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&oa(e,o=>this.processProvider(o,t,e)),oa([t],o=>this.processInjectorType(o,[],r)),this.records.set(cb,Td(void 0,this));const a=this.records.get(db);this.scope=null!=a?a.value:null,this.source=s||("object"==typeof t?null:hi(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Bh,n=kt.Default){this.assertNotDestroyed();const s=TE(this),r=Po(void 0);try{if(!(n&kt.SkipSelf)){let o=this.records.get(t);if(void 0===o){const l=function Gj(i){return"function"==typeof i||"object"==typeof i&&i instanceof ne}(t)&&Vx(t);o=l&&this.injectableDefInScope(l)?Td(hb(t),Kh):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&kt.Self?rk():this.parent).get(t,e=n&kt.Optional&&e===Bh?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Nm]=a[Nm]||[]).unshift(hi(t)),s)throw a;return function fW(i,t,e,n){const s=i[Nm];throw t[ME]&&s.unshift(t[ME]),i.message=function mW(i,t,e,n=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let s=hi(t);if(Array.isArray(t))s=t.map(hi).join(" -> ");else if("object"==typeof t){let r=[];for(let a in t)if(t.hasOwnProperty(a)){let o=t[a];r.push(a+":"+("string"==typeof o?JSON.stringify(o):hi(o)))}s=`{${r.join(", ")}}`}return`${e}${n?"("+n+")":""}[${s}]: ${i.replace(cW,"\n  ")}`}("\n"+i.message,s,e,n),i.ngTokenPath=s,i[Nm]=null,i}(a,t,"R3InjectorError",this.source)}throw a}finally{Po(r),TE(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((n,s)=>t.push(hi(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ei(205,"")}processInjectorType(t,e,n){if(!(t=Ft(t)))return!1;let s=PA(t);const r=null==s&&t.ngModule||void 0,a=void 0===r?t:r,o=-1!==n.indexOf(a);if(void 0!==r&&(s=PA(r)),null==s)return!1;if(null!=s.imports&&!o){let d;n.push(a);try{oa(s.imports,u=>{this.processInjectorType(u,e,n)&&(void 0===d&&(d=[]),d.push(u))})}finally{}if(void 0!==d)for(let u=0;u<d.length;u++){const{ngModule:h,providers:p}=d[u];oa(p,f=>this.processProvider(f,h,p||yi))}}this.injectorDefTypes.add(a);const l=Il(a)||(()=>new a);this.records.set(a,Td(l,Kh));const c=s.providers;if(null!=c&&!o){const d=t;oa(c,u=>this.processProvider(u,d,c))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let s=Dd(t=Ft(t))?t:Ft(t&&t.provide);const r=function Oj(i,t,e){return ck(i)?Td(void 0,i.useValue):Td(lk(i),Kh)}(t);if(Dd(t)||!0!==t.multi)this.records.get(s);else{let a=this.records.get(s);a||(a=Td(void 0,Kh,!0),a.factory=()=>v0(a.multi),this.records.set(s,a)),s=t,a.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===Kh&&(e.value=Lj,e.value=e.factory()),"object"==typeof e.value&&e.value&&function zj(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ft(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function hb(i){const t=Vx(i),e=null!==t?t.factory:Il(i);if(null!==e)return e;if(i instanceof ne)throw new ei(204,"");if(i instanceof Function)return function Fj(i){const t=i.length;if(t>0)throw Nh(t,"?"),new ei(204,"");const e=function KU(i){const t=i&&(i[fm]||i[FA]);if(t){const e=function ZU(i){if(i.hasOwnProperty("name"))return i.name;const t=(""+i).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(i);return null!==e?()=>e.factory(i):()=>new i}(i);throw new ei(204,"")}function lk(i,t,e){let n;if(Dd(i)){const s=Ft(i);return Il(s)||hb(s)}if(ck(i))n=()=>Ft(i.useValue);else if(function Bj(i){return!(!i||!i.useFactory)}(i))n=()=>i.useFactory(...v0(i.deps||[]));else if(function Nj(i){return!(!i||!i.useExisting)}(i))n=()=>$(Ft(i.useExisting));else{const s=Ft(i&&(i.useClass||i.provide));if(!function Hj(i){return!!i.deps}(i))return Il(s)||hb(s);n=()=>new s(...v0(i.deps))}return n}function Td(i,t,e=!1){return{factory:i,value:t,multi:e?[]:void 0}}function ck(i){return null!==i&&"object"==typeof i&&uW in i}function Dd(i){return"function"==typeof i}let en=(()=>{class i{static create(e,n){var s;if(Array.isArray(e))return ak({name:""},n,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return ak({name:r},e.parent,e.providers,r)}}}return i.THROW_IF_NOT_FOUND=Bh,i.NULL=new sk,i.\u0275prov=de({token:i,providedIn:"any",factory:()=>$(cb)}),i.__NG_ELEMENT_ID__=-1,i})();function Qj(i,t){Tm(D0(i)[1],Cn())}function Z(i){let t=function bk(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),e=!0;const n=[i];for(;t;){let s;if(Rr(i))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ei(903,"");s=t.\u0275dir}if(s){if(e){n.push(s);const a=i;a.inputs=mb(i.inputs),a.declaredInputs=mb(i.declaredInputs),a.outputs=mb(i.outputs);const o=s.hostBindings;o&&e$(i,o);const l=s.viewQuery,c=s.contentQueries;if(l&&Zj(i,l),c&&Jj(i,c),Ox(i.inputs,s.inputs),Ox(i.declaredInputs,s.declaredInputs),Ox(i.outputs,s.outputs),Rr(s)&&s.data.animation){const d=i.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let a=0;a<r.length;a++){const o=r[a];o&&o.ngInherit&&o(i),o===Z&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Kj(i){let t=0,e=null;for(let n=i.length-1;n>=0;n--){const s=i[n];s.hostVars=t+=s.hostVars,s.hostAttrs=km(s.hostAttrs,e=km(e,s.hostAttrs))}}(n)}function mb(i){return i===td?{}:i===yi?[]:i}function Zj(i,t){const e=i.viewQuery;i.viewQuery=e?(n,s)=>{t(n,s),e(n,s)}:t}function Jj(i,t){const e=i.contentQueries;i.contentQueries=e?(n,s,r)=>{t(n,s,r),e(n,s,r)}:t}function e$(i,t){const e=i.hostBindings;i.hostBindings=e?(n,s)=>{t(n,s),e(n,s)}:t}let Km=null;function Ad(){if(!Km){const i=gi.Symbol;if(i&&i.iterator)Km=i.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Km=n)}}}return Km}function Zh(i){return!!gb(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ad()in i)}function gb(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ha(i,t,e){return i[t]=e}function is(i,t,e){return!Object.is(i[t],e)&&(i[t]=e,!0)}function Fl(i,t,e,n){const s=is(i,t,e);return is(i,t+1,n)||s}function Ae(i,t,e,n){const s=_e();return is(s,od(),t)&&(ti(),ua(Yi(),s,i,t,e,n)),Ae}function kd(i,t,e,n){return is(i,od(),e)?t+Tt(e)+n:Dt}function pe(i,t,e,n,s,r,a,o){const l=_e(),c=ti(),d=i+20,u=c.firstCreatePass?function o$(i,t,e,n,s,r,a,o,l){const c=t.consts,d=Cd(t,i,4,a||null,No(c,o));ib(t,e,d,No(c,l)),Tm(t,d);const u=d.tViews=qm(2,d,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,n,s,r,a):c.data[d];aa(u,!1);const h=l[11].createComment("");Um(c,l,h,u),ts(h,l),Xm(l,l[d]=K1(h,l,h,u)),xm(u)&&eb(c,l,u),null!=a&&tb(l,u,o)}function zs(i){return ad(function E8(){return wt.lFrame.contextLView}(),20+i)}function x(i,t=kt.Default){const e=_e();return null===e?$(i,t):mE(Cn(),e,Ft(i),t)}function Vd(){throw new Error("invalid")}function W(i,t,e){const n=_e();return is(n,od(),t)&&Hs(ti(),Yi(),n,i,t,n[11],e,!1),W}function bb(i,t,e,n,s){const a=s?"class":"style";nk(i,e,t.inputs[a],a,n)}function A(i,t,e,n){const s=_e(),r=ti(),a=20+i,o=s[11],l=s[a]=F0(o,t,function B8(){return wt.lFrame.currentNamespace}()),c=r.firstCreatePass?function A$(i,t,e,n,s,r,a){const o=t.consts,c=Cd(t,i,2,s,No(o,r));return ib(t,e,c,No(o,a)),null!==c.attrs&&Qm(c,c.attrs,!1),null!==c.mergedAttrs&&Qm(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(a,r,s,0,t,e,n):r.data[a];aa(c,!0);const d=c.mergedAttrs;null!==d&&Em(o,l,d);const u=c.classes;null!==u&&z0(o,l,u);const h=c.styles;null!==h&&x1(o,l,h),64!=(64&c.flags)&&Um(r,s,l,c),0===function S8(){return wt.lFrame.elementDepthCount}()&&ts(l,s),function M8(){wt.lFrame.elementDepthCount++}(),xm(c)&&(eb(r,s,c),V1(r,c,s)),null!==n&&tb(s,c)}function E(){let i=Cn();e0()?t0():(i=i.parent,aa(i,!1));const t=i;!function T8(){wt.lFrame.elementDepthCount--}();const e=ti();e.firstCreatePass&&(Tm(e,i),$x(i)&&e.queries.elementEnd(i)),null!=t.classesWithoutHost&&function U8(i){return 0!=(16&i.flags)}(t)&&bb(e,t,_e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function W8(i){return 0!=(32&i.flags)}(t)&&bb(e,t,_e(),t.stylesWithoutHost,!1)}function fe(i,t,e,n){A(i,t,e,n),E()}function Go(i,t,e){const n=_e(),s=ti(),r=i+20,a=s.firstCreatePass?function E$(i,t,e,n,s){const r=t.consts,a=No(r,n),o=Cd(t,i,8,"ng-container",a);return null!==a&&Qm(o,a,!0),ib(t,e,o,No(r,s)),null!==t.queries&&t.queries.elementStart(t,o),o}(r,s,n,t,e):s.data[r];aa(a,!0);const o=n[r]=n[11].createComment("");Um(s,n,o,a),ts(o,n),xm(a)&&(eb(s,n,a),V1(s,a,n)),null!=e&&tb(n,a)}function Uo(){let i=Cn();const t=ti();e0()?t0():(i=i.parent,aa(i,!1)),t.firstCreatePass&&(Tm(t,i),$x(i)&&t.queries.elementEnd(i))}function Xn(i,t,e){Go(i,t,e),Uo()}function tn(){return _e()}function ep(i){return!!i&&"function"==typeof i.then}function zk(i){return!!i&&"function"==typeof i.subscribe}const wb=zk;function Le(i,t,e,n){const s=_e(),r=ti(),a=Cn();return Gk(r,s,s[11],a,i,t,!!e,n),Le}function Cb(i,t){const e=Cn(),n=_e(),s=ti();return Gk(s,n,tk(s0(s.data),e,n),e,i,t,!1),Cb}function Gk(i,t,e,n,s,r,a,o){const l=xm(n),d=i.firstCreatePass&&ek(i),u=t[8],h=J1(t);let p=!0;if(3&n.type||o){const m=ar(n,t),_=o?o(m):m,v=h.length,y=o?b=>o(dn(b[n.index])):n.index;if($i(e)){let b=null;if(!o&&l&&(b=function k$(i,t,e,n){const s=i.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const a=s[r];if(a===e&&s[r+1]===n){const o=t[7],l=s[r+2];return o.length>l?o[l]:null}"string"==typeof a&&(r+=2)}return null}(i,t,s,n.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=r,b.__ngLastListenerFn__=r,p=!1;else{r=Sb(n,t,u,r,!1);const w=e.listen(_,s,r);h.push(r,w),d&&d.push(s,y,v,v+1)}}else r=Sb(n,t,u,r,!0),_.addEventListener(s,r,a),h.push(r),d&&d.push(s,y,v,a)}else r=Sb(n,t,u,r,!1);const f=n.outputs;let g;if(p&&null!==f&&(g=f[s])){const m=g.length;if(m)for(let _=0;_<m;_+=2){const S=t[g[_]][g[_+1]].subscribe(r),D=h.length;h.push(r,S),d&&d.push(s,n.index,D,-(D+1))}}}function Uk(i,t,e,n){try{return!1!==e(n)}catch(s){return ik(i,s),!1}}function Sb(i,t,e,n,s){return function r(a){if(a===Function)return n;const o=2&i.flags?Fs(i.index,t):t;0==(32&t[2])&&rb(o);let l=Uk(t,0,n,a),c=r.__ngNextListenerFn__;for(;c;)l=Uk(t,0,c,a)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function ue(i=1){return function P8(i){return(wt.lFrame.contextLView=function F8(i,t){for(;i>0;)t=t[15],i--;return t}(i,wt.lFrame.contextLView))[8]}(i)}function R$(i,t){let e=null;const n=function V6(i){const t=i.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(i);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?S1(i,r,!0):G6(n,r))return s}else e=s}return e}function Ci(i){const t=_e()[16][6];if(!t.projection){const n=t.projection=Nh(i?i.length:1,null),s=n.slice();let r=t.child;for(;null!==r;){const a=i?R$(r,i):0;null!==a&&(s[a]?s[a].projectionNext=r:n[a]=r,s[a]=r),r=r.next}}}function At(i,t=0,e){const n=_e(),s=ti(),r=Cd(s,20+i,16,null,e||null);null===r.projection&&(r.projection=t),t0(),64!=(64&r.flags)&&function I6(i,t,e){y1(t[11],0,t,e,c1(i,e,t),p1(e.parent||t[6],e,t))}(s,n,r)}function Jk(i,t,e,n,s){const r=i[e+1],a=null===t;let o=n?Lr(r):ja(r),l=!1;for(;0!==o&&(!1===l||a);){const d=i[o+1];P$(i[o],t)&&(l=!0,i[o+1]=n?W0(d):G0(d)),o=n?Lr(d):ja(d)}l&&(i[e+1]=n?G0(r):W0(r))}function P$(i,t){return null===i||null==t||(Array.isArray(i)?i[1]:i)===t||!(!Array.isArray(i)||"string"!=typeof t)&&gd(i,t)>=0}const Tn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eR(i){return i.substring(Tn.key,Tn.keyEnd)}function tR(i,t){const e=Tn.textEnd;return e===t?-1:(t=Tn.keyEnd=function B$(i,t,e){for(;t<e&&i.charCodeAt(t)>32;)t++;return t}(i,Tn.key=t,e),Hd(i,t,e))}function Hd(i,t,e){for(;t<e&&i.charCodeAt(t)<=32;)t++;return t}function xi(i,t,e){return Fr(i,t,e,!1),xi}function ut(i,t){return Fr(i,t,null,!0),ut}function fa(i,t){for(let e=function O$(i){return function nR(i){Tn.key=0,Tn.keyEnd=0,Tn.value=0,Tn.valueEnd=0,Tn.textEnd=i.length}(i),tR(i,Hd(i,0,Tn.textEnd))}(t);e>=0;e=tR(t,e))Os(i,eR(t),!0)}function Fr(i,t,e,n){const s=_e(),r=ti(),a=Ua(2);r.firstUpdatePass&&lR(r,i,a,n),t!==Dt&&is(s,a,t)&&dR(r,r.data[hs()],s,s[11],i,s[a+1]=function q$(i,t){return null==i||("string"==typeof t?i+=t:"object"==typeof i&&(i=hi(Bs(i)))),i}(t,e),n,a)}function Or(i,t,e,n){const s=ti(),r=Ua(2);s.firstUpdatePass&&lR(s,null,r,n);const a=_e();if(e!==Dt&&is(a,r,e)){const o=s.data[hs()];if(hR(o,n)&&!oR(s,r)){let l=n?o.classesWithoutHost:o.stylesWithoutHost;null!==l&&(e=Nx(l,e||"")),bb(s,o,a,e,n)}else!function Y$(i,t,e,n,s,r,a,o){s===Dt&&(s=yi);let l=0,c=0,d=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==d||null!==u;){const h=l<s.length?s[l+1]:void 0,p=c<r.length?r[c+1]:void 0;let g,f=null;d===u?(l+=2,c+=2,h!==p&&(f=u,g=p)):null===u||null!==d&&d<u?(l+=2,f=d):(c+=2,f=u,g=p),null!==f&&dR(i,t,e,n,f,g,a,o),d=l<s.length?s[l]:null,u=c<r.length?r[c]:null}}(s,o,a,a[11],a[r+1],a[r+1]=function $$(i,t,e){if(null==e||""===e)return yi;const n=[],s=Bs(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)i(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&i(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(i,t,e),n,r)}}function oR(i,t){return t>=i.expandoStartIndex}function lR(i,t,e,n){const s=i.data;if(null===s[e+1]){const r=s[hs()],a=oR(i,e);hR(r,n)&&null===t&&!a&&(t=!1),t=function G$(i,t,e,n){const s=s0(i);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(e=tp(e=Tb(null,i,t,e,n),t.attrs,n),r=null);else{const a=t.directiveStylingLast;if(-1===a||i[a]!==s)if(e=Tb(s,i,t,e,n),null===r){let l=function U$(i,t,e){const n=e?t.classBindings:t.styleBindings;if(0!==ja(n))return i[Lr(n)]}(i,t,n);void 0!==l&&Array.isArray(l)&&(l=Tb(null,i,t,l[1],n),l=tp(l,t.attrs,n),function W$(i,t,e,n){i[Lr(e?t.classBindings:t.styleBindings)]=n}(i,t,n,l))}else r=function j$(i,t,e){let n;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=tp(n,i[r].hostAttrs,e);return tp(n,t.attrs,e)}(i,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,n),function I$(i,t,e,n,s,r){let a=r?t.classBindings:t.styleBindings,o=Lr(a),l=ja(a);i[n]=e;let d,c=!1;if(Array.isArray(e)){const u=e;d=u[1],(null===d||gd(u,d)>0)&&(c=!0)}else d=e;if(s)if(0!==l){const h=Lr(i[o+1]);i[n+1]=jm(h,o),0!==h&&(i[h+1]=U0(i[h+1],n)),i[o+1]=function $6(i,t){return 131071&i|t<<17}(i[o+1],n)}else i[n+1]=jm(o,0),0!==o&&(i[o+1]=U0(i[o+1],n)),o=n;else i[n+1]=jm(l,0),0===o?o=n:i[l+1]=U0(i[l+1],n),l=n;c&&(i[n+1]=G0(i[n+1])),Jk(i,d,n,!0),Jk(i,d,n,!1),function L$(i,t,e,n,s){const r=s?i.residualClasses:i.residualStyles;null!=r&&"string"==typeof t&&gd(r,t)>=0&&(e[n+1]=W0(e[n+1]))}(t,d,i,n,r),a=jm(o,l),r?t.classBindings=a:t.styleBindings=a}(s,r,t,e,a,n)}}function Tb(i,t,e,n,s){let r=null;const a=e.directiveEnd;let o=e.directiveStylingLast;for(-1===o?o=e.directiveStart:o++;o<a&&(r=t[o],n=tp(n,r.hostAttrs,s),r!==i);)o++;return null!==i&&(e.directiveStylingLast=o),n}function tp(i,t,e){const n=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?s=a:s===n&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Os(i,a,!!e||t[++r]))}return void 0===i?null:i}function dR(i,t,e,n,s,r,a,o){if(!(3&t.type))return;const l=i.data,c=l[o+1];eg(function E1(i){return 1==(1&i)}(c)?uR(l,t,e,s,ja(c),a):void 0)||(eg(r)||function A1(i){return 2==(2&i)}(c)&&(r=uR(l,null,e,s,o,a)),function P6(i,t,e,n,s){const r=$i(i);if(t)s?r?i.addClass(e,n):e.classList.add(n):r?i.removeClass(e,n):e.classList.remove(n);else{let a=-1===n.indexOf("-")?void 0:Vs.DashCase;if(null==s)r?i.removeStyle(e,n,a):e.style.removeProperty(n);else{const o="string"==typeof s&&s.endsWith("!important");o&&(s=s.slice(0,-10),a|=Vs.Important),r?i.setStyle(e,n,s,a):e.style.setProperty(n,s,o?"important":"")}}}(n,a,bm(hs(),e),s,r))}function uR(i,t,e,n,s,r){const a=null===t;let o;for(;s>0;){const l=i[s],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let h=e[s+1];h===Dt&&(h=u?yi:void 0);let p=u?m0(h,n):d===n?h:void 0;if(c&&!eg(p)&&(p=m0(l,n)),eg(p)&&(o=p,a))return o;const f=i[s+1];s=a?Lr(f):ja(f)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(o=m0(l,n))}return o}function eg(i){return void 0!==i}function hR(i,t){return 0!=(i.flags&(t?16:32))}function we(i,t=""){const e=_e(),n=ti(),s=i+20,r=n.firstCreatePass?Cd(n,s,1,t,null):n.data[s],a=e[s]=function P0(i,t){return $i(i)?i.createText(t):i.createTextNode(t)}(e[11],t);Um(n,e,a,r),aa(r,!1)}function un(i){return ki("",i,""),un}function ki(i,t,e){const n=_e(),s=kd(n,i,t,e);return s!==Dt&&$a(n,hs(),s),ki}function Db(i,t,e){Or(Os,fa,kd(_e(),i,t,e),!0)}function ma(i,t,e){const n=_e();return is(n,od(),t)&&Hs(ti(),Yi(),n,i,t,n[11],e,!0),ma}function Ab(i,t,e){const n=_e();if(is(n,od(),t)){const r=ti(),a=Yi();Hs(r,a,n,i,t,tk(s0(r.data),a,n),e,!0)}return Ab}const Ol=void 0;var pY=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hY(i){const e=Math.floor(Math.abs(i)),n=i.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let zd={};function fs(i){const t=function fY(i){return i.toLowerCase().replace(/_/g,"-")}(i);let e=RR(t);if(e)return e;const n=t.split("-")[0];if(e=RR(n),e)return e;if("en"===n)return pY;throw new Error(`Missing locale data for the locale "${i}".`)}function RR(i){return i in zd||(zd[i]=gi.ng&&gi.ng.common&&gi.ng.common.locales&&gi.ng.common.locales[i]),zd[i]}var $e=(()=>(($e=$e||{})[$e.LocaleId=0]="LocaleId",$e[$e.DayPeriodsFormat=1]="DayPeriodsFormat",$e[$e.DayPeriodsStandalone=2]="DayPeriodsStandalone",$e[$e.DaysFormat=3]="DaysFormat",$e[$e.DaysStandalone=4]="DaysStandalone",$e[$e.MonthsFormat=5]="MonthsFormat",$e[$e.MonthsStandalone=6]="MonthsStandalone",$e[$e.Eras=7]="Eras",$e[$e.FirstDayOfWeek=8]="FirstDayOfWeek",$e[$e.WeekendRange=9]="WeekendRange",$e[$e.DateFormat=10]="DateFormat",$e[$e.TimeFormat=11]="TimeFormat",$e[$e.DateTimeFormat=12]="DateTimeFormat",$e[$e.NumberSymbols=13]="NumberSymbols",$e[$e.NumberFormats=14]="NumberFormats",$e[$e.CurrencyCode=15]="CurrencyCode",$e[$e.CurrencySymbol=16]="CurrencySymbol",$e[$e.CurrencyName=17]="CurrencyName",$e[$e.Currencies=18]="Currencies",$e[$e.Directionality=19]="Directionality",$e[$e.PluralCase=20]="PluralCase",$e[$e.ExtraData=21]="ExtraData",$e))();const tg="en-US";let IR=tg;function Rb(i,t,e,n,s){if(i=Ft(i),Array.isArray(i))for(let r=0;r<i.length;r++)Rb(i[r],t,e,n,s);else{const r=ti(),a=_e();let o=Dd(i)?i:Ft(i.provide),l=lk(i);const c=Cn(),d=1048575&c.providerIndexes,u=c.directiveStart,h=c.providerIndexes>>20;if(Dd(i)||!i.multi){const p=new Rh(l,s,x),f=Lb(o,t,s?d:d+h,u);-1===f?(Lm(Lh(c,a),r,o),Ib(r,i,t.length),t.push(o),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(p),a.push(p)):(e[f]=p,a[f]=p)}else{const p=Lb(o,t,d+h,u),f=Lb(o,t,d,d+h),g=p>=0&&e[p],m=f>=0&&e[f];if(s&&!m||!s&&!g){Lm(Lh(c,a),r,o);const _=function p7(i,t,e,n,s){const r=new Rh(i,e,x);return r.multi=[],r.index=t,r.componentProviders=0,iI(r,s,n&&!e),r}(s?h7:u7,e.length,s,n,l);!s&&m&&(e[f].providerFactory=_),Ib(r,i,t.length,0),t.push(o),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(_),a.push(_)}else Ib(r,i,p>-1?p:f,iI(e[s?f:p],l,!s&&n));!s&&n&&m&&e[f].componentProviders++}}}function Ib(i,t,e,n){const s=Dd(t),r=function Vj(i){return!!i.useClass}(t);if(s||r){const l=(r?Ft(t.useClass):t).prototype.ngOnDestroy;if(l){const c=i.destroyHooks||(i.destroyHooks=[]);if(!s&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[n,l]):c[d+1].push(n,l)}else c.push(e,l)}}}function iI(i,t,e){return e&&i.componentProviders++,i.multi.push(t)-1}function Lb(i,t,e,n){for(let s=e;s<n;s++)if(t[s]===i)return s;return-1}function u7(i,t,e,n){return Pb(this.multi,[])}function h7(i,t,e,n){const s=this.multi;let r;if(this.providerFactory){const a=this.providerFactory.componentProviders,o=Ph(e,e[1],this.providerFactory.index,n);r=o.slice(0,a),Pb(s,r);for(let l=a;l<o.length;l++)r.push(o[l])}else r=[],Pb(s,r);return r}function Pb(i,t){for(let e=0;e<i.length;e++)t.push((0,i[e])());return t}function Qe(i,t=[]){return e=>{e.providersResolver=(n,s)=>function d7(i,t,e){const n=ti();if(n.firstCreatePass){const s=Rr(i);Rb(e,n.data,n.blueprint,s,!0),Rb(t,n.data,n.blueprint,s,!1)}}(n,s?s(i):i,t)}}class nI{}class g7{resolveComponentFactory(t){throw function m7(i){const t=Error(`No component factory found for ${hi(i)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=i,t}(t)}}let ga=(()=>{class i{}return i.NULL=new g7,i})();function _7(){return Ud(Cn(),_e())}function Ud(i,t){return new ve(ar(i,t))}let ve=(()=>{class i{constructor(e){this.nativeElement=e}}return i.__NG_ELEMENT_ID__=_7,i})();function v7(i){return i instanceof ve?i.nativeElement:i}class ap{}let Gs=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function x7(){const i=_e(),e=Fs(Cn().index,i);return function y7(i){return i[11]}(ra(e)?e:i)}(),i})(),b7=(()=>{class i{}return i.\u0275prov=de({token:i,providedIn:"root",factory:()=>null}),i})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const w7=new Wo("13.1.3"),Fb={};function ag(i,t,e,n,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&n.push(dn(r)),kr(r))for(let o=10;o<r.length;o++){const l=r[o],c=l[1].firstChild;null!==c&&ag(l[1],l,c,n)}const a=e.type;if(8&a)ag(i,t,e.child,n);else if(32&a){const o=R0(e,t);let l;for(;l=o();)n.push(l)}else if(16&a){const o=_1(t,e);if(Array.isArray(o))n.push(...o);else{const l=Yh(t[16]);ag(l[1],l,o,n,!0)}}e=s?e.projectionNext:e.next}return n}class op{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ag(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(kr(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(O0(t,n),Fm(e,n))}this._attachedToViewContainer=!1}l1(this._lView[1],this._lView)}onDestroy(t){U1(this._lView[1],this._lView,null,t)}markForCheck(){rb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ob(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Aj(i,t,e){Cm(!0);try{ob(i,t,e)}finally{Cm(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ei(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function S6(i,t){qh(i,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ei(902,"");this._appRef=t}}class C7 extends op{constructor(t){super(t),this._view=t}detectChanges(){Z1(this._view)}checkNoChanges(){!function Ej(i){Cm(!0);try{Z1(i)}finally{Cm(!1)}}(this._view)}get context(){return null}}class rI extends ga{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jn(t);return new Ob(e,this.ngModule)}}function aI(i){const t=[];for(let e in i)i.hasOwnProperty(e)&&t.push({propName:i[e],templateName:e});return t}const M7=new ne("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ZE});class Ob extends nI{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function W6(i){return i.map(U6).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return aI(this.componentDef.inputs)}get outputs(){return aI(this.componentDef.outputs)}create(t,e,n,s){const r=(s=s||this.ngModule)?function T7(i,t){return{get:(e,n,s)=>{const r=i.get(e,Fb,s);return r!==Fb||n===Fb?r:t.get(e,n,s)}}}(t,s.injector):t,a=r.get(ap,qA),o=r.get(b7,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=n?function G1(i,t,e){if($i(i))return i.selectRootElement(t,e===Ar.ShadowDom);let n="string"==typeof t?i.querySelector(t):t;return n.textContent="",n}(l,n,this.componentDef.encapsulation):F0(a.createRenderer(null,this.componentDef),c,function S7(i){const t=i.toLowerCase();return"svg"===t?$A:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h=function xk(i,t){return{components:[],scheduler:i||ZE,clean:kj,playerHandler:t||null,flags:0}}(),p=qm(0,null,null,1,0,null,null,null,null,null),f=Xh(null,p,h,u,null,null,a,l,o,r);let g,m;Sm(f);try{const _=function vk(i,t,e,n,s,r){const a=e[1];e[20]=i;const l=Cd(a,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Qm(l,c,!0),null!==i&&(Em(s,i,c),null!==l.classes&&z0(s,i,l.classes),null!==l.styles&&x1(s,i,l.styles)));const d=n.createRenderer(i,t),u=Xh(e,H1(t),null,t.onPush?64:16,e[20],l,n,d,r||null,null);return a.firstCreatePass&&(Lm(Lh(l,e),a,t.type),q1(a,l),X1(l,e.length,1)),Xm(e,u),e[20]=u}(d,this.componentDef,f,a,l);if(d)if(n)Em(l,d,["ng-version",w7.full]);else{const{attrs:v,classes:y}=function j6(i){const t=[],e=[];let n=1,s=2;for(;n<i.length;){let r=i[n];if("string"==typeof r)2===s?""!==r&&t.push(r,i[++n]):8===s&&e.push(r);else{if(!Ir(s))break;s=r}n++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);v&&Em(l,d,v),y&&y.length>0&&z0(l,d,y.join(" "))}if(m=Kx(p,20),void 0!==e){const v=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const b=e[y];v.push(null!=b?Array.from(b):null)}}g=function yk(i,t,e,n,s){const r=e[1],a=function hj(i,t,e){const n=Cn();i.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Q1(i,n,t,Sd(i,t,1,null),e));const s=Ph(t,i,n.directiveStart,n);ts(s,t);const r=ar(n,t);return r&&ts(r,t),s}(r,e,t);if(n.components.push(a),i[8]=a,s&&s.forEach(l=>l(a,t)),t.contentQueries){const l=Cn();t.contentQueries(1,a,l.directiveStart)}const o=Cn();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Bo(o.index),$1(e[1],o,0,o.directiveStart,o.directiveEnd,t),Y1(t,a)),a}(_,this.componentDef,f,h,[Qj]),Qh(p,f,null)}finally{Mm()}return new A7(this.componentType,g,Ud(m,f),f,m)}}class A7 extends class f7{}{constructor(t,e,n,s,r){super(),this.location=n,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new C7(s),this.componentType=t}get injector(){return new ud(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Ya{}class oI{}const Wd=new Map;class dI extends Ya{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rI(this);const n=nr(t);this._bootstrapComponents=da(n.bootstrap),this._r3Injector=ok(t,e,[{provide:Ya,useValue:this},{provide:ga,useValue:this.componentFactoryResolver}],hi(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=en.THROW_IF_NOT_FOUND,n=kt.Default){return t===en||t===Ya||t===cb?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Nb extends oI{constructor(t){super(),this.moduleType=t,null!==nr(t)&&function k7(i){const t=new Set;!function e(n){const s=nr(n,!0),r=s.id;null!==r&&(function lI(i,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${i} - ${hi(t)} vs ${hi(t.name)}`)}(r,Wd.get(r),n),Wd.set(r,n));const a=da(s.imports);for(const o of a)t.has(o)||(t.add(o),e(o))}(i)}(t)}create(t){return new dI(this.moduleType,t)}}function Nl(i,t,e,n){return pI(_e(),us(),i,t,e,n)}function og(i,t,e,n,s){return fI(_e(),us(),i,t,e,n,s)}function hI(i,t,e,n,s,r,a){return function gI(i,t,e,n,s,r,a,o,l){const c=t+e;return function lr(i,t,e,n,s,r){const a=Fl(i,t,e,n);return Fl(i,t+2,s,r)||a}(i,c,s,r,a,o)?ha(i,c+4,l?n.call(l,s,r,a,o):n(s,r,a,o)):lp(i,c+4)}(_e(),us(),i,t,e,n,s,r,a)}function lp(i,t){const e=i[t];return e===Dt?void 0:e}function pI(i,t,e,n,s,r){const a=t+e;return is(i,a,s)?ha(i,a+1,r?n.call(r,s):n(s)):lp(i,a+1)}function fI(i,t,e,n,s,r,a){const o=t+e;return Fl(i,o,s,r)?ha(i,o+2,a?n.call(a,s,r):n(s,r)):lp(i,o+2)}function Bb(i,t){const e=ti();let n;const s=i+20;e.firstCreatePass?(n=function N7(i,t){if(t)for(let e=t.length-1;e>=0;e--){const n=t[e];if(i===n.name)return n}}(t,e.pipeRegistry),e.data[s]=n,n.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,n.onDestroy)):n=e.data[s];const r=n.factory||(n.factory=Il(n.type)),a=Po(x);try{const o=Rm(!1),l=r();return Rm(o),function l$(i,t,e,n){e>=i.data.length&&(i.data[e]=null,i.blueprint[e]=null),t[e]=n}(e,_e(),s,l),l}finally{Po(a)}}function cp(i,t){return i[1].data[t].pure}function Vb(i){return t=>{setTimeout(i,void 0,t)}}const ge=class z7 extends ke{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var s,r,a;let o=t,l=e||(()=>null),c=n;if(t&&"object"==typeof t){const u=t;o=null===(s=u.next)||void 0===s?void 0:s.bind(u),l=null===(r=u.error)||void 0===r?void 0:r.bind(u),c=null===(a=u.complete)||void 0===a?void 0:a.bind(u)}this.__isAsync&&(l=Vb(l),o&&(o=Vb(o)),c&&(c=Vb(c)));const d=super.subscribe({next:o,error:l,complete:c});return t instanceof _t&&t.add(d),d}};function G7(){return this._results[Ad()]()}class Bl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ad(),n=Bl.prototype;n[e]||(n[e]=G7)}get changes(){return this._changes||(this._changes=new ge)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const s=or(t);(this._changesDetected=!function eW(i,t,e){if(i.length!==t.length)return!1;for(let n=0;n<i.length;n++){let s=i[n],r=t[n];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(n._results,s,e))&&(n._results=s,n.length=s.length,n.last=s[this.length-1],n.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let nn=(()=>{class i{}return i.__NG_ELEMENT_ID__=j7,i})();const U7=nn,W7=class extends U7{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Xh(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Qh(e,n,t),new op(n)}};function j7(){return lg(Cn(),_e())}function lg(i,t){return 4&i.type?new W7(t,i,Ud(i,t)):null}let Pi=(()=>{class i{}return i.__NG_ELEMENT_ID__=$7,i})();function $7(){return wI(Cn(),_e())}const Y7=Pi,xI=class extends Y7{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ud(this._hostTNode,this._hostLView)}get injector(){return new ud(this._hostTNode,this._hostLView)}get parentInjector(){const t=Im(this._hostTNode,this._hostLView);if(dE(t)){const e=dd(t,this._hostLView),n=cd(t);return new ud(e[1].data[n+8],e)}return new ud(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=bI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const s=t.createEmbeddedView(e||{});return this.insert(s,n),s}createComponent(t,e,n,s,r){const a=t&&!function Oh(i){return"function"==typeof i}(t);let o;if(a)o=e;else{const u=e||{};o=u.index,n=u.injector,s=u.projectableNodes,r=u.ngModuleRef}const l=a?t:new Ob(Jn(t)),c=n||this.parentInjector;if(!r&&null==l.ngModule&&c){const u=c.get(Ya,null);u&&(r=u)}const d=l.create(c,s,void 0,r);return this.insert(d.hostView,o),d}insert(t,e){const n=t._lView,s=n[1];if(function C8(i){return kr(i[3])}(n)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const u=n[3],h=new xI(u,u[6],u[3]);h.detach(h.indexOf(t))}}const r=this._adjustIndex(e),a=this._lContainer;!function T6(i,t,e,n){const s=10+n,r=e.length;n>0&&(e[s-1][4]=t),n<r-10?(t[4]=e[s],xE(e,10+n,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function D6(i,t){const e=i[9];t[16]!==t[3][3][16]&&(i[2]=!0),null===e?i[9]=[t]:e.push(t)}(a,t);const o=t[19];null!==o&&o.insertView(i),t[2]|=128}(s,n,a,r);const o=V0(r,a),l=n[11],c=Gm(l,a[7]);return null!==c&&function C6(i,t,e,n,s,r){n[0]=s,n[6]=t,qh(i,n,e,1,s,r)}(s,a[6],l,n,c,o),t.attachToViewContainerRef(),xE(Hb(a),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=bI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=O0(this._lContainer,e);n&&(Fm(Hb(this._lContainer),e),l1(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=O0(this._lContainer,e);return n&&null!=Fm(Hb(this._lContainer),e)?new op(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function bI(i){return i[8]}function Hb(i){return i[8]||(i[8]=[])}function wI(i,t){let e;const n=t[i.index];if(kr(n))e=n;else{let s;if(8&i.type)s=dn(n);else{const r=t[11];s=r.createComment("");const a=ar(i,t);Pl(r,Gm(r,a),s,function R6(i,t){return $i(i)?i.nextSibling(t):t.nextSibling}(r,a),!1)}t[i.index]=e=K1(n,t,s,i),Xm(t,e)}return new xI(e,i,t)}class zb{constructor(t){this.queryList=t,this.matches=null}clone(){return new zb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gb{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<n;r++){const a=e.getByIndex(r);s.push(this.queries[a.indexInDeclarationView].clone())}return new Gb(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==DI(t,e).matches&&this.queries[e].setDirty()}}class CI{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ub{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const s=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,s);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Ub(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Wb{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Wb(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let s=0;s<n.length;s++){const r=n[s];this.matchTNodeWithReadOption(t,e,Q7(e,r)),this.matchTNodeWithReadOption(t,e,Pm(e,t,r,!1,!1))}else n===nn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pm(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const s=this.metadata.read;if(null!==s)if(s===ve||s===Pi||s===nn&&4&e.type)this.addMatch(e.index,-2);else{const r=Pm(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Q7(i,t){const e=i.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===t)return e[n+1];return null}function Z7(i,t,e,n){return-1===e?function K7(i,t){return 11&i.type?Ud(i,t):4&i.type?lg(i,t):null}(t,i):-2===e?function J7(i,t,e){return e===ve?Ud(t,i):e===nn?lg(t,i):e===Pi?wI(t,i):void 0}(i,t,n):Ph(i,i[1],e,t)}function SI(i,t,e,n){const s=t[19].queries[n];if(null===s.matches){const r=i.data,a=e.matches,o=[];for(let l=0;l<a.length;l+=2){const c=a[l];o.push(c<0?null:Z7(t,r[c],a[l+1],e.metadata.read))}s.matches=o}return s.matches}function jb(i,t,e,n){const s=i.queries.getByIndex(e),r=s.matches;if(null!==r){const a=SI(i,t,s,e);for(let o=0;o<r.length;o+=2){const l=r[o];if(l>0)n.push(a[o/2]);else{const c=r[o+1],d=t[-l];for(let u=10;u<d.length;u++){const h=d[u];h[17]===h[3]&&jb(h[1],h,c,n)}if(null!==d[9]){const u=d[9];for(let h=0;h<u.length;h++){const p=u[h];jb(p[1],p,c,n)}}}}}return n}function Ce(i){const t=_e(),e=ti(),n=tE();r0(n+1);const s=DI(e,n);if(i.dirty&&XA(t)===(2==(2&s.metadata.flags))){if(null===s.matches)i.reset([]);else{const r=s.crossesNgTemplate?jb(e,t,n,[]):SI(e,t,s,n);i.reset(r,v7),i.notifyOnChanges()}return!0}return!1}function Ct(i,t,e){const n=ti();n.firstCreatePass&&(TI(n,new CI(i,t,e),-1),2==(2&t)&&(n.staticViewQueries=!0)),MI(n,_e(),t)}function St(i,t,e,n){const s=ti();if(s.firstCreatePass){const r=Cn();TI(s,new CI(t,e,n),r.index),function t9(i,t){const e=i.contentQueries||(i.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(i.queries.length-1,t)}(s,i),2==(2&e)&&(s.staticContentQueries=!0)}MI(s,_e(),e)}function Se(){return function e9(i,t){return i[19].queries[t].queryList}(_e(),tE())}function MI(i,t,e){const n=new Bl(4==(4&e));U1(i,t,n,n.destroy),null===t[19]&&(t[19]=new Gb),t[19].queries.push(new zb(n))}function TI(i,t,e){null===i.queries&&(i.queries=new Ub),i.queries.track(new Wb(t,e))}function DI(i,t){return i.queries.getByIndex(t)}function $b(i,t){return lg(i,t)}function ug(...i){}const hg=new ne("Application Initializer");let $d=(()=>{class i{constructor(e){this.appInits=e,this.resolve=ug,this.reject=ug,this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],n=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(ep(r))e.push(r);else if(wb(r)){const a=new Promise((o,l)=>{r.subscribe({complete:o,error:l})});e.push(a)}}Promise.all(e).then(()=>{n()}).catch(s=>{this.reject(s)}),0===e.length&&n(),this.initialized=!0}}return i.\u0275fac=function(e){return new(e||i)($(hg,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const up=new ne("AppId"),x9={provide:up,useFactory:function y9(){return`${Zb()}${Zb()}${Zb()}`},deps:[]};function Zb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WI=new ne("Platform Initializer"),hn=new ne("Platform ID"),Jb=new ne("appBootstrapListener");let jI=(()=>{class i{log(e){console.log(e)}warn(e){console.warn(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const qa=new ne("LocaleId"),$I=new ne("DefaultCurrencyCode");class b9{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let pg=(()=>{class i{compileModuleSync(e){return new Nb(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),r=da(nr(e).declarations).reduce((a,o)=>{const l=Jn(o);return l&&a.push(new Ob(l)),a},[]);return new b9(n,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const C9=(()=>Promise.resolve(0))();function ew(i){"undefined"==typeof Zone?C9.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class st{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!n&&e,s.shouldCoalesceRunChangeDetection=n,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function S9(){let i=gi.requestAnimationFrame,t=gi.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&t){const e=i[Zone.__symbol__("OriginalDelegate")];e&&(i=e);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function D9(i){const t=()=>{!function T9(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(gi,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,iw(i),i.isCheckStableRunning=!0,tw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),iw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,s,r,a,o)=>{try{return YI(i),e.invokeTask(s,r,a,o)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||i.shouldCoalesceRunChangeDetection)&&t(),qI(i)}},onInvoke:(e,n,s,r,a,o,l)=>{try{return YI(i),e.invoke(s,r,a,o,l)}finally{i.shouldCoalesceRunChangeDetection&&t(),qI(i)}},onHasTask:(e,n,s,r)=>{e.hasTask(s,r),n===s&&("microTask"==r.change?(i._hasPendingMicrotasks=r.microTask,iw(i),tw(i)):"macroTask"==r.change&&(i.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,s,r)=>(e.handleError(s,r),i.runOutsideAngular(()=>i.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!st.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(st.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,s){const r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+s,t,M9,ug,ug);try{return r.runTask(a,e,n)}finally{r.cancelTask(a)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const M9={};function tw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function iw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function YI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qI(i){i._nesting--,tw(i)}class A9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ge,this.onMicrotaskEmpty=new ge,this.onStable=new ge,this.onError=new ge}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,s){return t.apply(e,n)}}let nw=(()=>{class i{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{st.assertNotInAngularZone(),ew(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ew(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,s){let r=-1;n&&n>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==r),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,n,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,n,s){return[]}}return i.\u0275fac=function(e){return new(e||i)($(st))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),XI=(()=>{class i{constructor(){this._applications=new Map,sw.addToWindow(this)}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return sw.findTestabilityInTree(this,e,n)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class E9{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Nr,sw=new E9;const QI=new ne("AllowMultipleToken");class KI{constructor(t,e){this.name=t,this.token=e}}function ZI(i,t,e=[]){const n=`Platform: ${t}`,s=new ne(n);return(r=[])=>{let a=JI();if(!a||a.injector.get(QI,!1))if(i)i(e.concat(r).concat({provide:s,useValue:!0}));else{const o=e.concat(r).concat({provide:s,useValue:!0},{provide:db,useValue:"platform"});!function L9(i){if(Nr&&!Nr.destroyed&&!Nr.injector.get(QI,!1))throw new ei(400,"");Nr=i.get(eL);const t=i.get(WI,null);t&&t.forEach(e=>e())}(en.create({providers:o,name:n}))}return function P9(i){const t=JI();if(!t)throw new ei(401,"");return t}()}}function JI(){return Nr&&!Nr.destroyed?Nr:null}let eL=(()=>{class i{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const o=function F9(i,t){let e;return e="noop"===i?new A9:("zone.js"===i?void 0:i)||new st({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(n?n.ngZone:void 0,{ngZoneEventCoalescing:n&&n.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:n&&n.ngZoneRunCoalescing||!1}),l=[{provide:st,useValue:o}];return o.run(()=>{const c=en.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(c),u=d.injector.get(Wa,null);if(!u)throw new ei(402,"");return o.runOutsideAngular(()=>{const h=o.onError.subscribe({next:p=>{u.handleError(p)}});d.onDestroy(()=>{rw(this._modules,d),h.unsubscribe()})}),function O9(i,t,e){try{const n=e();return ep(n)?n.catch(s=>{throw t.runOutsideAngular(()=>i.handleError(s)),s}):n}catch(n){throw t.runOutsideAngular(()=>i.handleError(n)),n}}(u,o,()=>{const h=d.injector.get($d);return h.runInitializers(),h.donePromise.then(()=>(function vY(i){Ls(i,"Expected localeId to be defined"),"string"==typeof i&&(IR=i.toLowerCase().replace(/_/g,"-"))}(d.injector.get(qa,tg)||tg),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,n=[]){const s=tL({},n);return function R9(i,t,e){const n=new Nb(e);return Promise.resolve(n)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const n=e.injector.get(Vl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>n.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new ei(403,"");e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ei(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(e){return new(e||i)($(en))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function tL(i,t){return Array.isArray(t)?t.reduce(tL,i):Object.assign(Object.assign({},i),t)}let Vl=(()=>{class i{constructor(e,n,s,r,a){this._zone=e,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new ni(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new ni(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{st.assertNotInAngularZone(),ew(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{st.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),u.unsubscribe()}});this.isStable=Zi(o,l.pipe(RA()))}bootstrap(e,n){if(!this._initStatus.done)throw new ei(405,"");let s;s=e instanceof nI?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function I9(i){return i.isBoundToModule}(s)?void 0:this._injector.get(Ya),o=s.create(en.NULL,[],n||s.selector,r),l=o.location.nativeElement,c=o.injector.get(nw,null),d=c&&o.injector.get(XI);return c&&d&&d.registerApplication(l,c),o.onDestroy(()=>{this.detachView(o.hostView),rw(this.components,o),d&&d.unregisterApplication(l)}),this._loadComponent(o),o}tick(){if(this._runningTick)throw new ei(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;rw(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Jb,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(e){return new(e||i)($(st),$(en),$(Wa),$(ga),$($d))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function rw(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}let nL=!0,Kt=(()=>{class i{}return i.__NG_ELEMENT_ID__=V9,i})();function V9(i){return function H9(i,t,e){if(ym(i)&&!e){const n=Fs(i.index,t);return new op(n,n)}return 47&i.type?new op(t[16],t):null}(Cn(),_e(),16==(16&i))}class dL{constructor(){}supports(t){return Zh(t)}create(t){return new $9(t)}}const j9=(i,t)=>t;class $9{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||j9}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,s=0,r=null;for(;e||n;){const a=!n||e&&e.currentIndex<hL(n,s,r)?e:n,o=hL(a,s,r),l=a.currentIndex;if(a===n)s--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)s++;else{r||(r=[]);const c=o-s,d=l-s;if(c!=d){for(let h=0;h<c;h++){const p=h<r.length?r[h]:r[h]=0,f=p+h;d<=f&&f<c&&(r[h]=p+1)}r[a.previousIndex]=d-c}}o!==l&&t(a,o,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zh(t))throw new ei(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,a,e=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let o=0;o<this.length;o++)r=t[o],a=this._trackByFn(o,r),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,r,a,o)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,a,o),n=!0),e=e._next}else s=0,function a$(i,t){if(Array.isArray(i))for(let e=0;e<i.length;e++)t(i[e]);else{const e=i[Ad()]();let n;for(;!(n=e.next()).done;)t(n.value)}}(t,o=>{a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(n&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),n=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new Y9(e,n),r,s),t}_verifyReinsertion(t,e,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new uL),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uL),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Y9{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class q9{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class uL{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new q9,this.map.set(e,n)),n.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hL(i,t,e){const n=i.previousIndex;if(null===n)return n;let s=0;return e&&n<e.length&&(s=e[n]),n+t+s}class pL{constructor(){}supports(t){return t instanceof Map||gb(t)}create(){return new X9}}class X9{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||gb(t)))throw new ei(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,n);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,a=s._next;return r&&(r._next=a),a&&(a._prev=r),s._next=null,s._prev=null,s}const n=new Q9(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Q9{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fL(){return new Ss([new dL])}let Ss=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(null!=n){const s=n.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||fL()),deps:[[i,new Ns,new Mn]]}}find(e){const n=this.factories.find(s=>s.supports(e));if(null!=n)return n;throw new ei(901,"")}}return i.\u0275prov=de({token:i,providedIn:"root",factory:fL}),i})();function mL(){return new jo([new pL])}let jo=(()=>{class i{constructor(e){this.factories=e}static create(e,n){if(n){const s=n.factories.slice();e=e.concat(s)}return new i(e)}static extend(e){return{provide:i,useFactory:n=>i.create(e,n||mL()),deps:[[i,new Ns,new Mn]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new ei(901,"")}}return i.\u0275prov=de({token:i,providedIn:"root",factory:mL}),i})();const K9=[new pL],J9=new Ss([new dL]),eq=new jo(K9),tq=ZI(null,"core",[{provide:hn,useValue:"unknown"},{provide:eL,deps:[en]},{provide:XI,deps:[]},{provide:jI,deps:[]}]),aq=[{provide:Vl,useClass:Vl,deps:[st,en,Wa,ga,$d]},{provide:M7,deps:[st],useFactory:function oq(i){let t=[];return i.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:$d,useClass:$d,deps:[[new Mn,hg]]},{provide:pg,useClass:pg,deps:[]},x9,{provide:Ss,useFactory:function iq(){return J9},deps:[]},{provide:jo,useFactory:function nq(){return eq},deps:[]},{provide:qa,useFactory:function sq(i){return i||function rq(){return"undefined"!=typeof $localize&&$localize.locale||tg}()},deps:[[new zh(qa),new Mn,new Ns]]},{provide:$I,useValue:"USD"}];let lq=(()=>{class i{constructor(e){}}return i.\u0275fac=function(e){return new(e||i)($(Vl))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:aq}),i})(),mg=null;function _a(){return mg}const mt=new ne("DocumentToken");let zl=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:function(){return function hq(){return $(gL)}()},providedIn:"platform"}),i})();const pq=new ne("Location Initialized");let gL=(()=>{class i extends zl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _a().getBaseHref(this._doc)}onPopState(e){const n=_a().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=_a().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,n,s){_L()?this._history.pushState(e,n,s):this.location.hash=s}replaceState(e,n,s){_L()?this._history.replaceState(e,n,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:function(){return function fq(){return new gL($(mt))}()},providedIn:"platform"}),i})();function _L(){return!!window.history.pushState}function dw(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function vL(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Xa(i){return i&&"?"!==i[0]?"?"+i:i}let Yd=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:function(){return function mq(i){const t=$(mt).location;return new yL($(zl),t&&t.origin||"")}()},providedIn:"root"}),i})();const uw=new ne("appBaseHref");let yL=(()=>{class i extends Yd{constructor(e,n){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==n&&(n=this._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=n}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return dw(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+Xa(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${n}${s}`:n}pushState(e,n,s,r){const a=this.prepareExternalUrl(s+Xa(r));this._platformLocation.pushState(e,n,a)}replaceState(e,n,s,r){const a=this.prepareExternalUrl(s+Xa(r));this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,e)}}return i.\u0275fac=function(e){return new(e||i)($(zl),$(uw,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),gq=(()=>{class i extends Yd{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=dw(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,s,r){let a=this.prepareExternalUrl(s+Xa(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,n,a)}replaceState(e,n,s,r){let a=this.prepareExternalUrl(s+Xa(r));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformLocation).historyGo)||void 0===s||s.call(n,e)}}return i.\u0275fac=function(e){return new(e||i)($(zl),$(uw,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),gg=(()=>{class i{constructor(e,n){this._subject=new ge,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=vL(xL(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Xa(n))}normalize(e){return i.stripTrailingSlash(function vq(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,xL(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,n="",s=null){this._platformStrategy.pushState(s,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xa(n)),s)}replaceState(e,n="",s=null){this._platformStrategy.replaceState(s,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Xa(n)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var n,s;null===(s=(n=this._platformStrategy).historyGo)||void 0===s||s.call(n,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}))}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(s=>s(e,n))}subscribe(e,n,s){return this._subject.subscribe({next:e,error:n,complete:s})}}return i.normalizeQueryParams=Xa,i.joinWithSlash=dw,i.stripTrailingSlash=vL,i.\u0275fac=function(e){return new(e||i)($(Yd),$(zl))},i.\u0275prov=de({token:i,factory:function(){return function _q(){return new gg($(Yd),$(zl))}()},providedIn:"root"}),i})();function xL(i){return i.replace(/\/index.html$/,"")}var pn=(()=>((pn=pn||{})[pn.Zero=0]="Zero",pn[pn.One=1]="One",pn[pn.Two=2]="Two",pn[pn.Few=3]="Few",pn[pn.Many=4]="Many",pn[pn.Other=5]="Other",pn))(),sn=(()=>((sn=sn||{})[sn.Format=0]="Format",sn[sn.Standalone=1]="Standalone",sn))(),Yt=(()=>((Yt=Yt||{})[Yt.Narrow=0]="Narrow",Yt[Yt.Abbreviated=1]="Abbreviated",Yt[Yt.Wide=2]="Wide",Yt[Yt.Short=3]="Short",Yt))(),Gi=(()=>((Gi=Gi||{})[Gi.Short=0]="Short",Gi[Gi.Medium=1]="Medium",Gi[Gi.Long=2]="Long",Gi[Gi.Full=3]="Full",Gi))(),gt=(()=>((gt=gt||{})[gt.Decimal=0]="Decimal",gt[gt.Group=1]="Group",gt[gt.List=2]="List",gt[gt.PercentSign=3]="PercentSign",gt[gt.PlusSign=4]="PlusSign",gt[gt.MinusSign=5]="MinusSign",gt[gt.Exponential=6]="Exponential",gt[gt.SuperscriptingExponent=7]="SuperscriptingExponent",gt[gt.PerMille=8]="PerMille",gt[gt.Infinity=9]="Infinity",gt[gt.NaN=10]="NaN",gt[gt.TimeSeparator=11]="TimeSeparator",gt[gt.CurrencyDecimal=12]="CurrencyDecimal",gt[gt.CurrencyGroup=13]="CurrencyGroup",gt))();function _g(i,t){return dr(fs(i)[$e.DateFormat],t)}function vg(i,t){return dr(fs(i)[$e.TimeFormat],t)}function yg(i,t){return dr(fs(i)[$e.DateTimeFormat],t)}function cr(i,t){const e=fs(i),n=e[$e.NumberSymbols][t];if(void 0===n){if(t===gt.CurrencyDecimal)return e[$e.NumberSymbols][gt.Decimal];if(t===gt.CurrencyGroup)return e[$e.NumberSymbols][gt.Group]}return n}const Mq=function kR(i){return fs(i)[$e.PluralCase]};function wL(i){if(!i[$e.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[$e.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function dr(i,t){for(let e=t;e>-1;e--)if(void 0!==i[e])return i[e];throw new Error("Locale data API: locale data undefined")}function pw(i){const[t,e]=i.split(":");return{hours:+t,minutes:+e}}const Rq=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,hp={},Iq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Dn=(()=>((Dn=Dn||{})[Dn.Short=0]="Short",Dn[Dn.ShortGMT=1]="ShortGMT",Dn[Dn.Long=2]="Long",Dn[Dn.Extended=3]="Extended",Dn))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function Lq(i,t,e,n){let s=function Gq(i){if(ML(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[s,r=1,a=1]=i.split("-").map(o=>+o);return xg(s,r-1,a)}const e=parseFloat(i);if(!isNaN(i-e))return new Date(e);let n;if(n=i.match(Rq))return function Uq(i){const t=new Date(0);let e=0,n=0;const s=i[8]?t.setUTCFullYear:t.setFullYear,r=i[8]?t.setUTCHours:t.setHours;i[9]&&(e=Number(i[9]+i[10]),n=Number(i[9]+i[11])),s.call(t,Number(i[1]),Number(i[2])-1,Number(i[3]));const a=Number(i[4]||0)-e,o=Number(i[5]||0)-n,l=Number(i[6]||0),c=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return r.call(t,a,o,l,c),t}(n)}const t=new Date(i);if(!ML(t))throw new Error(`Unable to convert "${i}" into a date`);return t}(i);t=Qa(e,t)||t;let o,a=[];for(;t;){if(o=Iq.exec(t),!o){a.push(t);break}{a=a.concat(o.slice(1));const d=a.pop();if(!d)break;t=d}}let l=s.getTimezoneOffset();n&&(l=SL(n,l),s=function zq(i,t,e){const n=e?-1:1,s=i.getTimezoneOffset();return function Hq(i,t){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+t),i}(i,n*(SL(t,s)-s))}(s,n,!0));let c="";return a.forEach(d=>{const u=function Vq(i){if(mw[i])return mw[i];let t;switch(i){case"G":case"GG":case"GGG":t=Si(Nt.Eras,Yt.Abbreviated);break;case"GGGG":t=Si(Nt.Eras,Yt.Wide);break;case"GGGGG":t=Si(Nt.Eras,Yt.Narrow);break;case"y":t=fn(vt.FullYear,1,0,!1,!0);break;case"yy":t=fn(vt.FullYear,2,0,!0,!0);break;case"yyy":t=fn(vt.FullYear,3,0,!1,!0);break;case"yyyy":t=fn(vt.FullYear,4,0,!1,!0);break;case"Y":t=Sg(1);break;case"YY":t=Sg(2,!0);break;case"YYY":t=Sg(3);break;case"YYYY":t=Sg(4);break;case"M":case"L":t=fn(vt.Month,1,1);break;case"MM":case"LL":t=fn(vt.Month,2,1);break;case"MMM":t=Si(Nt.Months,Yt.Abbreviated);break;case"MMMM":t=Si(Nt.Months,Yt.Wide);break;case"MMMMM":t=Si(Nt.Months,Yt.Narrow);break;case"LLL":t=Si(Nt.Months,Yt.Abbreviated,sn.Standalone);break;case"LLLL":t=Si(Nt.Months,Yt.Wide,sn.Standalone);break;case"LLLLL":t=Si(Nt.Months,Yt.Narrow,sn.Standalone);break;case"w":t=fw(1);break;case"ww":t=fw(2);break;case"W":t=fw(1,!0);break;case"d":t=fn(vt.Date,1);break;case"dd":t=fn(vt.Date,2);break;case"c":case"cc":t=fn(vt.Day,1);break;case"ccc":t=Si(Nt.Days,Yt.Abbreviated,sn.Standalone);break;case"cccc":t=Si(Nt.Days,Yt.Wide,sn.Standalone);break;case"ccccc":t=Si(Nt.Days,Yt.Narrow,sn.Standalone);break;case"cccccc":t=Si(Nt.Days,Yt.Short,sn.Standalone);break;case"E":case"EE":case"EEE":t=Si(Nt.Days,Yt.Abbreviated);break;case"EEEE":t=Si(Nt.Days,Yt.Wide);break;case"EEEEE":t=Si(Nt.Days,Yt.Narrow);break;case"EEEEEE":t=Si(Nt.Days,Yt.Short);break;case"a":case"aa":case"aaa":t=Si(Nt.DayPeriods,Yt.Abbreviated);break;case"aaaa":t=Si(Nt.DayPeriods,Yt.Wide);break;case"aaaaa":t=Si(Nt.DayPeriods,Yt.Narrow);break;case"b":case"bb":case"bbb":t=Si(Nt.DayPeriods,Yt.Abbreviated,sn.Standalone,!0);break;case"bbbb":t=Si(Nt.DayPeriods,Yt.Wide,sn.Standalone,!0);break;case"bbbbb":t=Si(Nt.DayPeriods,Yt.Narrow,sn.Standalone,!0);break;case"B":case"BB":case"BBB":t=Si(Nt.DayPeriods,Yt.Abbreviated,sn.Format,!0);break;case"BBBB":t=Si(Nt.DayPeriods,Yt.Wide,sn.Format,!0);break;case"BBBBB":t=Si(Nt.DayPeriods,Yt.Narrow,sn.Format,!0);break;case"h":t=fn(vt.Hours,1,-12);break;case"hh":t=fn(vt.Hours,2,-12);break;case"H":t=fn(vt.Hours,1);break;case"HH":t=fn(vt.Hours,2);break;case"m":t=fn(vt.Minutes,1);break;case"mm":t=fn(vt.Minutes,2);break;case"s":t=fn(vt.Seconds,1);break;case"ss":t=fn(vt.Seconds,2);break;case"S":t=fn(vt.FractionalSeconds,1);break;case"SS":t=fn(vt.FractionalSeconds,2);break;case"SSS":t=fn(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=wg(Dn.Short);break;case"ZZZZZ":t=wg(Dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wg(Dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=wg(Dn.Long);break;default:return null}return mw[i]=t,t}(d);c+=u?u(s,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function xg(i,t,e){const n=new Date(0);return n.setFullYear(i,t,e),n.setHours(0,0,0),n}function Qa(i,t){const e=function yq(i){return fs(i)[$e.LocaleId]}(i);if(hp[e]=hp[e]||{},hp[e][t])return hp[e][t];let n="";switch(t){case"shortDate":n=_g(i,Gi.Short);break;case"mediumDate":n=_g(i,Gi.Medium);break;case"longDate":n=_g(i,Gi.Long);break;case"fullDate":n=_g(i,Gi.Full);break;case"shortTime":n=vg(i,Gi.Short);break;case"mediumTime":n=vg(i,Gi.Medium);break;case"longTime":n=vg(i,Gi.Long);break;case"fullTime":n=vg(i,Gi.Full);break;case"short":const s=Qa(i,"shortTime"),r=Qa(i,"shortDate");n=bg(yg(i,Gi.Short),[s,r]);break;case"medium":const a=Qa(i,"mediumTime"),o=Qa(i,"mediumDate");n=bg(yg(i,Gi.Medium),[a,o]);break;case"long":const l=Qa(i,"longTime"),c=Qa(i,"longDate");n=bg(yg(i,Gi.Long),[l,c]);break;case"full":const d=Qa(i,"fullTime"),u=Qa(i,"fullDate");n=bg(yg(i,Gi.Full),[d,u])}return n&&(hp[e][t]=n),n}function bg(i,t){return t&&(i=i.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),i}function Br(i,t,e="-",n,s){let r="";(i<0||s&&i<=0)&&(s?i=1-i:(i=-i,r=e));let a=String(i);for(;a.length<t;)a="0"+a;return n&&(a=a.substr(a.length-t)),r+a}function fn(i,t,e=0,n=!1,s=!1){return function(r,a){let o=function Fq(i,t){switch(i){case vt.FullYear:return t.getFullYear();case vt.Month:return t.getMonth();case vt.Date:return t.getDate();case vt.Hours:return t.getHours();case vt.Minutes:return t.getMinutes();case vt.Seconds:return t.getSeconds();case vt.FractionalSeconds:return t.getMilliseconds();case vt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,r);if((e>0||o>-e)&&(o+=e),i===vt.Hours)0===o&&-12===e&&(o=12);else if(i===vt.FractionalSeconds)return function Pq(i,t){return Br(i,3).substr(0,t)}(o,t);const l=cr(a,gt.MinusSign);return Br(o,t,l,n,s)}}function Si(i,t,e=sn.Format,n=!1){return function(s,r){return function Oq(i,t,e,n,s,r){switch(e){case Nt.Months:return function wq(i,t,e){const n=fs(i),r=dr([n[$e.MonthsFormat],n[$e.MonthsStandalone]],t);return dr(r,e)}(t,s,n)[i.getMonth()];case Nt.Days:return function bq(i,t,e){const n=fs(i),r=dr([n[$e.DaysFormat],n[$e.DaysStandalone]],t);return dr(r,e)}(t,s,n)[i.getDay()];case Nt.DayPeriods:const a=i.getHours(),o=i.getMinutes();if(r){const c=function Tq(i){const t=fs(i);return wL(t),(t[$e.ExtraData][2]||[]).map(n=>"string"==typeof n?pw(n):[pw(n[0]),pw(n[1])])}(t),d=function Dq(i,t,e){const n=fs(i);wL(n);const r=dr([n[$e.ExtraData][0],n[$e.ExtraData][1]],t)||[];return dr(r,e)||[]}(t,s,n),u=c.findIndex(h=>{if(Array.isArray(h)){const[p,f]=h,g=a>=p.hours&&o>=p.minutes,m=a<f.hours||a===f.hours&&o<f.minutes;if(p.hours<f.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===a&&h.minutes===o)return!0;return!1});if(-1!==u)return d[u]}return function xq(i,t,e){const n=fs(i),r=dr([n[$e.DayPeriodsFormat],n[$e.DayPeriodsStandalone]],t);return dr(r,e)}(t,s,n)[a<12?0:1];case Nt.Eras:return function Cq(i,t){return dr(fs(i)[$e.Eras],t)}(t,n)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,r,i,t,e,n)}}function wg(i){return function(t,e,n){const s=-1*n,r=cr(e,gt.MinusSign),a=s>0?Math.floor(s/60):Math.ceil(s/60);switch(i){case Dn.Short:return(s>=0?"+":"")+Br(a,2,r)+Br(Math.abs(s%60),2,r);case Dn.ShortGMT:return"GMT"+(s>=0?"+":"")+Br(a,1,r);case Dn.Long:return"GMT"+(s>=0?"+":"")+Br(a,2,r)+":"+Br(Math.abs(s%60),2,r);case Dn.Extended:return 0===n?"Z":(s>=0?"+":"")+Br(a,2,r)+":"+Br(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${i}"`)}}}function CL(i){return xg(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function fw(i,t=!1){return function(e,n){let s;if(t){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,a=e.getDate();s=1+Math.floor((a+r)/7)}else{const r=CL(e),a=function Bq(i){const t=xg(i,0,1).getDay();return xg(i,0,1+(t<=4?4:11)-t)}(r.getFullYear()),o=r.getTime()-a.getTime();s=1+Math.round(o/6048e5)}return Br(s,i,cr(n,gt.MinusSign))}}function Sg(i,t=!1){return function(e,n){return Br(CL(e).getFullYear(),i,cr(n,gt.MinusSign),t)}}const mw={};function SL(i,t){i=i.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(e)?t:e}function ML(i){return i instanceof Date&&!isNaN(i.valueOf())}class Tg{}let eX=(()=>{class i extends Tg{constructor(e){super(),this.locale=e}getPluralCategory(e,n){switch(Mq(n||this.locale)(e)){case pn.Zero:return"zero";case pn.One:return"one";case pn.Two:return"two";case pn.Few:return"few";case pn.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)($(qa))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function EL(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const n=e.indexOf("="),[s,r]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let qd=(()=>{class i{constructor(e,n,s,r){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Zh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachChangedItem(n=>this._toggleClass(n.key,n.currentValue)),e.forEachRemovedItem(n=>{n.previousValue&&this._toggleClass(n.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(n=>{if("string"!=typeof n.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${hi(n.item)}`);this._toggleClass(n.item,!0)}),e.forEachRemovedItem(n=>this._toggleClass(n.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!0)):Object.keys(e).forEach(n=>this._toggleClass(n,!!e[n])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(n=>this._toggleClass(n,!1)):Object.keys(e).forEach(n=>this._toggleClass(n,!1)))}_toggleClass(e,n){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{n?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(e){return new(e||i)(x(Ss),x(jo),x(ve),x(Gs))},i.\u0275dir=j({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class iX{constructor(t,e,n,s){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ts=(()=>{class i{constructor(e,n,s){this._viewContainer=e,this._template=n,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((s,r,a)=>{if(null==s.previousIndex)n.createEmbeddedView(this._template,new iX(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)n.remove(null===r?void 0:r);else if(null!==r){const o=n.get(r);n.move(o,a),kL(o,s)}});for(let s=0,r=n.length;s<r;s++){const o=n.get(s).context;o.index=s,o.count=r,o.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{kL(n.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(nn),x(Ss))},i.\u0275dir=j({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function kL(i,t){i.context.$implicit=t.item}let Mi=(()=>{class i{constructor(e,n){this._viewContainer=e,this._context=new nX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){RL("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){RL("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(nn))},i.\u0275dir=j({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class nX{constructor(){this.$implicit=null,this.ngIf=null}}function RL(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${hi(t)}'.`)}class xw{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Xd=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const n=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let n=0;n<this._defaultViews.length;n++)this._defaultViews[n].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),Dg=(()=>{class i{constructor(e,n,s){this.ngSwitch=s,s._addCase(),this._view=new xw(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(nn),x(Xd,9))},i.\u0275dir=j({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),IL=(()=>{class i{constructor(e,n,s){s._addDefault(new xw(e,n))}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(nn),x(Xd,9))},i.\u0275dir=j({type:i,selectors:[["","ngSwitchDefault",""]]}),i})(),PL=(()=>{class i{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const n=this._viewContainerRef;this._viewRef&&n.remove(n.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?n.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return i.\u0275fac=function(e){return new(e||i)(x(Pi))},i.\u0275dir=j({type:i,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[bt]}),i})();function Vr(i,t){return new ei(2100,"")}class rX{createSubscription(t,e){return t.subscribe({next:e,error:n=>{throw n}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class aX{createSubscription(t,e){return t.then(e,n=>{throw n})}dispose(t){}onDestroy(t){}}const oX=new aX,lX=new rX;let FL=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(ep(e))return oX;if(zk(e))return lX;throw Vr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(x(Kt,16))},i.\u0275pipe=ws({name:"async",type:i,pure:!1}),i})();const pX=new ne("DATE_PIPE_DEFAULT_TIMEZONE");let OL=(()=>{class i{constructor(e,n){this.locale=e,this.defaultTimezone=n}transform(e,n="mediumDate",s,r){var a;if(null==e||""===e||e!=e)return null;try{return Lq(e,n,r||this.locale,null!==(a=null!=s?s:this.defaultTimezone)&&void 0!==a?a:void 0)}catch(o){throw Vr()}}}return i.\u0275fac=function(e){return new(e||i)(x(qa,16),x(pX,24))},i.\u0275pipe=ws({name:"date",type:i,pure:!0}),i})(),Fi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[{provide:Tg,useClass:eX}]}),i})();const BL="browser";function Us(i){return i===BL}function va(i){return"server"===i}let DX=(()=>{class i{}return i.\u0275prov=de({token:i,providedIn:"root",factory:()=>new AX($(mt),window)}),i})();class AX{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function EX(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const n=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=n.currentNode;for(;s;){const r=s.shadowRoot;if(r){const a=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(a)return a}s=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=VL(this.window.history)||VL(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function VL(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class HL{}class Cw extends class kX extends class uq{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function dq(i){mg||(mg=i)}(new Cw)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function RX(){return fp=fp||document.querySelector("base"),fp?fp.getAttribute("href"):null}();return null==e?null:function IX(i){Eg=Eg||document.createElement("a"),Eg.setAttribute("href",i);const t=Eg.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){fp=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return EL(document.cookie,t)}}let Eg,fp=null;const zL=new ne("TRANSITION_ID"),PX=[{provide:hg,useFactory:function LX(i,t,e){return()=>{e.get($d).donePromise.then(()=>{const n=_a(),s=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let r=0;r<s.length;r++)n.remove(s[r])})}},deps:[zL,mt,en],multi:!0}];class Sw{static init(){!function k9(i){sw=i}(new Sw)}addToWindow(t){gi.getAngularTestability=(n,s=!0)=>{const r=t.findTestabilityInTree(n,s);if(null==r)throw new Error("Could not find testability for element.");return r},gi.getAllAngularTestabilities=()=>t.getAllTestabilities(),gi.getAllAngularRootElements=()=>t.getAllRootElements(),gi.frameworkStabilizers||(gi.frameworkStabilizers=[]),gi.frameworkStabilizers.push(n=>{const s=gi.getAllAngularTestabilities();let r=s.length,a=!1;const o=function(l){a=a||l,r--,0==r&&n(a)};s.forEach(function(l){l.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:n?_a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let FX=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const kg=new ne("EventManagerPlugins");let Rg=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,n,s){return this._findPluginFor(n).addEventListener(e,n,s)}addGlobalEventListener(e,n,s){return this._findPluginFor(n).addGlobalEventListener(e,n,s)}getZone(){return this._zone}_findPluginFor(e){const n=this._eventNameToPlugin.get(e);if(n)return n;const s=this._plugins;for(let r=0;r<s.length;r++){const a=s[r];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)($(kg),$(st))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class GL{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const s=_a().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,n)}}let UL=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const n=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),n.add(s))}),this.onStylesAdded(n)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),mp=(()=>{class i extends UL{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,n,s){e.forEach(r=>{const a=this._doc.createElement("style");a.textContent=r,s.push(n.appendChild(a))})}addHost(e){const n=[];this._addStylesToHost(this._stylesSet,e,n),this._hostNodes.set(e,n)}removeHost(e){const n=this._hostNodes.get(e);n&&n.forEach(WL),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((n,s)=>{this._addStylesToHost(e,s,n)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(WL))}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function WL(i){_a().remove(i)}const Mw={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tw=/%COMP%/g;function Ig(i,t,e){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?Ig(i,s,e):(s=s.replace(Tw,i),e.push(s))}return e}function YL(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Lg=(()=>{class i{constructor(e,n,s){this.eventManager=e,this.sharedStylesHost=n,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Dw(e)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;switch(n.encapsulation){case Ar.Emulated:{let s=this.rendererByCompId.get(n.id);return s||(s=new zX(this.eventManager,this.sharedStylesHost,n,this.appId),this.rendererByCompId.set(n.id,s)),s.applyToHost(e),s}case 1:case Ar.ShadowDom:return new GX(this.eventManager,this.sharedStylesHost,e,n);default:if(!this.rendererByCompId.has(n.id)){const s=Ig(n.id,n.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(n.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)($(Rg),$(mp),$(up))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class Dw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Mw[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,s){if(s){e=s+":"+e;const r=Mw[s];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const s=Mw[n];s?t.removeAttributeNS(s,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,s){s&(Vs.DashCase|Vs.Important)?t.style.setProperty(e,n,s&Vs.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Vs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,YL(n)):this.eventManager.addEventListener(t,e,YL(n))}}class zX extends Dw{constructor(t,e,n,s){super(t),this.component=n;const r=Ig(s+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr=function BX(i){return"_ngcontent-%COMP%".replace(Tw,i)}(s+"-"+n.id),this.hostAttr=function VX(i){return"_nghost-%COMP%".replace(Tw,i)}(s+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class GX extends Dw{constructor(t,e,n,s){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Ig(s.id,s.styles,[]);for(let a=0;a<r.length;a++){const o=document.createElement("style");o.textContent=r[a],this.shadowRoot.appendChild(o)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let UX=(()=>{class i extends GL{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,s){return e.addEventListener(n,s,!1),()=>this.removeEventListener(e,n,s)}removeEventListener(e,n,s){return e.removeEventListener(n,s)}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const XL=["alt","control","meta","shift"],jX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QL={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$X={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let YX=(()=>{class i extends GL{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,n,s){const r=i.parseEventName(n),a=i.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_a().onAndCancel(e,r.domEventName,a))}static parseEventName(e){const n=e.toLowerCase().split("."),s=n.shift();if(0===n.length||"keydown"!==s&&"keyup"!==s)return null;const r=i._normalizeKey(n.pop());let a="";if(XL.forEach(l=>{const c=n.indexOf(l);c>-1&&(n.splice(c,1),a+=l+".")}),a+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=s,o.fullKey=a,o}static getEventFullKey(e){let n="",s=function qX(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&QL.hasOwnProperty(t)&&(t=QL[t]))}return jX[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),XL.forEach(r=>{r!=s&&$X[r](e)&&(n+=r+".")}),n+=s,n}static eventCallback(e,n,s){return r=>{i.getEventFullKey(r)===e&&s.runGuarded(()=>n(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const ZX=ZI(tq,"browser",[{provide:hn,useValue:BL},{provide:WI,useValue:function XX(){Cw.makeCurrent(),Sw.init()},multi:!0},{provide:mt,useFactory:function KX(){return function y8(i){Xx=i}(document),document},deps:[]}]),JX=[{provide:db,useValue:"root"},{provide:Wa,useFactory:function QX(){return new Wa},deps:[]},{provide:kg,useClass:UX,multi:!0,deps:[mt,st,hn]},{provide:kg,useClass:YX,multi:!0,deps:[mt]},{provide:Lg,useClass:Lg,deps:[Rg,mp,up]},{provide:ap,useExisting:Lg},{provide:UL,useExisting:mp},{provide:mp,useClass:mp,deps:[mt]},{provide:nw,useClass:nw,deps:[st]},{provide:Rg,useClass:Rg,deps:[kg,st]},{provide:HL,useClass:FX,deps:[]}];let KL=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:up,useValue:e.appId},{provide:zL,useExisting:up},PX]}}}return i.\u0275fac=function(e){return new(e||i)($(i,12))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:JX,imports:[Fi,lq]}),i})();"undefined"!=typeof window&&window;let Pg=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:function(e){let n=null;return n=e?new(e||i):$(eP),n},providedIn:"root"}),i})(),eP=(()=>{class i extends Pg{constructor(e){super(),this._doc=e}sanitize(e,n){if(null==n)return null;switch(e){case ri.NONE:return n;case ri.HTML:return la(n,"HTML")?Bs(n):UE(this._doc,String(n)).toString();case ri.STYLE:return la(n,"Style")?Bs(n):n;case ri.SCRIPT:if(la(n,"Script"))return Bs(n);throw new Error("unsafe value used in a script context");case ri.URL:return FE(n),la(n,"URL")?Bs(n):Uh(String(n));case ri.RESOURCE_URL:if(la(n,"ResourceURL"))return Bs(n);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function RW(i){return new TW(i)}(e)}bypassSecurityTrustStyle(e){return function IW(i){return new DW(i)}(e)}bypassSecurityTrustScript(e){return function LW(i){return new AW(i)}(e)}bypassSecurityTrustUrl(e){return function PW(i){return new EW(i)}(e)}bypassSecurityTrustResourceUrl(e){return function FW(i){return new kW(i)}(e)}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:function(e){let n=null;return n=e?new e:function cQ(i){return new eP(i.get(mt))}($(en)),n},providedIn:"root"}),i})();function ht(...i){return wn(i,Mh(i))}class gs extends ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:n}=this;if(t)throw e;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}const{isArray:dQ}=Array,{getPrototypeOf:uQ,prototype:hQ,keys:pQ}=Object;function tP(i){if(1===i.length){const t=i[0];if(dQ(t))return{args:t,keys:null};if(function fQ(i){return i&&"object"==typeof i&&uQ(i)===hQ}(t)){const e=pQ(t);return{args:e.map(n=>t[n]),keys:e}}}return{args:i,keys:null}}const{isArray:mQ}=Array;function Ew(i){return It(t=>function gQ(i,t){return mQ(t)?i(...t):i(t)}(i,t))}function iP(i,t){return i.reduce((e,n,s)=>(e[n]=t[s],e),{})}function nP(i,t,e){i?Va(e,i,t):t()}const Fg=tr(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function Og(...i){return function yQ(){return Sh(1)}()(wn(i,Mh(i)))}function Ng(i){return new ni(t=>{Rs(i()).subscribe(t)})}function sP(){return Hi((i,t)=>{let e=null;i._refCount++;const n=new Ai(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const s=i._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});i.subscribe(n),n.closed||(e=i.connect())})}class xQ extends ni{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,pA(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _t;const e=this.getSubject();t.add(this.source.subscribe(new Ai(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_t.EMPTY)}return t}refCount(){return sP()(this)}}function ur(i,t){return Hi((e,n)=>{let s=null,r=0,a=!1;const o=()=>a&&!s&&n.complete();e.subscribe(new Ai(n,l=>{null==s||s.unsubscribe();let c=0;const d=r++;Rs(i(l,d)).subscribe(s=new Ai(n,u=>n.next(t?t(l,u,d,c++):u),()=>{s=null,o()}))},()=>{a=!0,o()}))})}function Ds(...i){const t=Mh(i);return Hi((e,n)=>{(t?Og(i,e,t):Og(i,e)).subscribe(n)})}function bQ(i,t,e,n,s){return(r,a)=>{let o=e,l=t,c=0;r.subscribe(new Ai(a,d=>{const u=c++;l=o?i(l,d,u):(o=!0,d),n&&a.next(l)},s&&(()=>{o&&a.next(l),a.complete()})))}}function rP(i,t){return Hi(bQ(i,t,arguments.length>=2,!0))}function Oi(i,t){return Hi((e,n)=>{let s=0;e.subscribe(new Ai(n,r=>i.call(t,r,s++)&&n.next(r)))})}function Ka(i){return Hi((t,e)=>{let r,n=null,s=!1;n=t.subscribe(new Ai(e,void 0,void 0,a=>{r=Rs(i(a,Ka(i)(t))),n?(n.unsubscribe(),n=null,r.subscribe(e)):s=!0})),s&&(n.unsubscribe(),n=null,r.subscribe(e))})}function Qd(i,t){return Et(t)?cn(i,t,1):cn(i,1)}function kw(i){return i<=0?()=>sa:Hi((t,e)=>{let n=[];t.subscribe(new Ai(e,s=>{n.push(s),i<n.length&&n.shift()},()=>{for(const s of n)e.next(s);e.complete()},void 0,()=>{n=null}))})}function aP(i=wQ){return Hi((t,e)=>{let n=!1;t.subscribe(new Ai(e,s=>{n=!0,e.next(s)},()=>n?e.complete():e.error(i())))})}function wQ(){return new Fg}function oP(i){return Hi((t,e)=>{let n=!1;t.subscribe(new Ai(e,s=>{n=!0,e.next(s)},()=>{n||e.next(i),e.complete()}))})}function Kd(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Oi((s,r)=>i(s,r,n)):Lo,zi(1),e?oP(t):aP(()=>new Fg))}function An(i,t,e){const n=Et(i)||t||e?{next:i,error:t,complete:e}:i;return n?Hi((s,r)=>{var a;null===(a=n.subscribe)||void 0===a||a.call(n);let o=!0;s.subscribe(new Ai(r,l=>{var c;null===(c=n.next)||void 0===c||c.call(n,l),r.next(l)},()=>{var l;o=!1,null===(l=n.complete)||void 0===l||l.call(n),r.complete()},l=>{var c;o=!1,null===(c=n.error)||void 0===c||c.call(n,l),r.error(l)},()=>{var l,c;o&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(c=n.finalize)||void 0===c||c.call(n)}))}):Lo}function Rw(i){return Hi((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}class Za{constructor(t,e){this.id=t,this.url=e}}class Bg extends Za{constructor(t,e,n="imperative",s=null){super(t,e),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gp extends Za{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lP extends Za{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class SQ extends Za{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class MQ extends Za{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TQ extends Za{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DQ extends Za{constructor(t,e,n,s,r){super(t,e),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AQ extends Za{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EQ extends Za{constructor(t,e,n,s){super(t,e),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cP{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dP{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IQ{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LQ{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uP{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const jt="primary";class PQ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zd(i){return new PQ(i)}const hP="ngNavigationCancelingError";function Iw(i){const t=Error("NavigationCancelingError: "+i);return t[hP]=!0,t}function OQ(i,t,e){const n=e.path.split("/");if(n.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||n.length<i.length))return null;const s={};for(let r=0;r<n.length;r++){const a=n[r],o=i[r];if(a.startsWith(":"))s[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:i.slice(0,n.length),posParams:s}}function ya(i,t){const e=i?Object.keys(i):void 0,n=t?Object.keys(t):void 0;if(!e||!n||e.length!=n.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!pP(i[s],t[s]))return!1;return!0}function pP(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),n=[...t].sort();return e.every((s,r)=>n[r]===s)}return i===t}function fP(i){return Array.prototype.concat.apply([],i)}function mP(i){return i.length>0?i[i.length-1]:null}function Qn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function xa(i){return wb(i)?i:ep(i)?wn(Promise.resolve(i)):ht(i)}const VQ={exact:function vP(i,t,e){if(!Ul(i.segments,t.segments)||!Vg(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!i.children[n]||!vP(i.children[n],t.children[n],e))return!1;return!0},subset:yP},gP={exact:function HQ(i,t){return ya(i,t)},subset:function zQ(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>pP(i[e],t[e]))},ignored:()=>!0};function _P(i,t,e){return VQ[e.paths](i.root,t.root,e.matrixParams)&&gP[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function yP(i,t,e){return xP(i,t,t.segments,e)}function xP(i,t,e,n){if(i.segments.length>e.length){const s=i.segments.slice(0,e.length);return!(!Ul(s,e)||t.hasChildren()||!Vg(s,e,n))}if(i.segments.length===e.length){if(!Ul(i.segments,e)||!Vg(i.segments,e,n))return!1;for(const s in t.children)if(!i.children[s]||!yP(i.children[s],t.children[s],n))return!1;return!0}{const s=e.slice(0,i.segments.length),r=e.slice(i.segments.length);return!!(Ul(i.segments,s)&&Vg(i.segments,s,n)&&i.children[jt])&&xP(i.children[jt],t,r,n)}}function Vg(i,t,e){return t.every((n,s)=>gP[e](i[s].parameters,n.parameters))}class Gl{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return WQ.serialize(this)}}class Xt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qn(e,(n,s)=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hg(this)}}class _p{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zd(this.parameters)),this._parameterMap}toString(){return MP(this)}}function Ul(i,t){return i.length===t.length&&i.every((e,n)=>e.path===t[n].path)}class bP{}class wP{parse(t){const e=new JQ(t);return new Gl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${vp(t.root,!0)}`,n=function YQ(i){const t=Object.keys(i).map(e=>{const n=i[e];return Array.isArray(n)?n.map(s=>`${zg(e)}=${zg(s)}`).join("&"):`${zg(e)}=${zg(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${n}${"string"==typeof t.fragment?`#${function jQ(i){return encodeURI(i)}(t.fragment)}`:""}`}}const WQ=new wP;function Hg(i){return i.segments.map(t=>MP(t)).join("/")}function vp(i,t){if(!i.hasChildren())return Hg(i);if(t){const e=i.children[jt]?vp(i.children[jt],!1):"",n=[];return Qn(i.children,(s,r)=>{r!==jt&&n.push(`${r}:${vp(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function UQ(i,t){let e=[];return Qn(i.children,(n,s)=>{s===jt&&(e=e.concat(t(n,s)))}),Qn(i.children,(n,s)=>{s!==jt&&(e=e.concat(t(n,s)))}),e}(i,(n,s)=>s===jt?[vp(i.children[jt],!1)]:[`${s}:${vp(n,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[jt]?`${Hg(i)}/${e[0]}`:`${Hg(i)}/(${e.join("//")})`}}function CP(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zg(i){return CP(i).replace(/%3B/gi,";")}function Lw(i){return CP(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gg(i){return decodeURIComponent(i)}function SP(i){return Gg(i.replace(/\+/g,"%20"))}function MP(i){return`${Lw(i.path)}${function $Q(i){return Object.keys(i).map(t=>`;${Lw(t)}=${Lw(i[t])}`).join("")}(i.parameters)}`}const qQ=/^[^\/()?;=#]+/;function Ug(i){const t=i.match(qQ);return t?t[0]:""}const XQ=/^[^=?&#]+/,KQ=/^[^&#]+/;class JQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xt([],{}):new Xt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[jt]=new Xt(t,e)),n}parseSegment(){const t=Ug(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new _p(Gg(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ug(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const s=Ug(this.remaining);s&&(n=s,this.capture(n))}t[Gg(e)]=Gg(n)}parseQueryParam(t){const e=function QQ(i){const t=i.match(XQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const a=function ZQ(i){const t=i.match(KQ);return t?t[0]:""}(this.remaining);a&&(n=a,this.capture(n))}const s=SP(e),r=SP(n);if(t.hasOwnProperty(s)){let a=t[s];Array.isArray(a)||(a=[a],t[s]=a),a.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ug(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=jt);const a=this.parseChildren();e[r]=1===Object.keys(a).length?a[jt]:new Xt([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class TP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pw(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){const e=Pw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Fw(t,this._root).map(e=>e.value)}}function Pw(i,t){if(i===t.value)return t;for(const e of t.children){const n=Pw(i,e);if(n)return n}return null}function Fw(i,t){if(i===t.value)return[t];for(const e of t.children){const n=Fw(i,e);if(n.length)return n.unshift(t),n}return[]}class Ja{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jd(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class DP extends TP{constructor(t,e){super(t),this.snapshot=e,Ow(this,t)}toString(){return this.snapshot.toString()}}function AP(i,t){const e=function eK(i,t){const a=new Wg([],{},{},"",{},jt,t,null,i.root,-1,{});return new kP("",new Ja(a,[]))}(i,t),n=new gs([new _p("",{})]),s=new gs({}),r=new gs({}),a=new gs({}),o=new gs(""),l=new Yo(n,s,a,o,r,jt,t,e.root);return l.snapshot=e.root,new DP(new Ja(l,[]),e)}class Yo{constructor(t,e,n,s,r,a,o,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=a,this.component=o,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(It(t=>Zd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(It(t=>Zd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function EP(i,t="emptyOnly"){const e=i.pathFromRoot;let n=0;if("always"!==t)for(n=e.length-1;n>=1;){const s=e[n],r=e[n-1];if(s.routeConfig&&""===s.routeConfig.path)n--;else{if(r.component)break;n--}}return function tK(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(n))}class Wg{constructor(t,e,n,s,r,a,o,l,c,d,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=a,this.component=o,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kP extends TP{constructor(t,e){super(e),this.url=t,Ow(this,e)}toString(){return RP(this._root)}}function Ow(i,t){t.value._routerState=i,t.children.forEach(e=>Ow(i,e))}function RP(i){const t=i.children.length>0?` { ${i.children.map(RP).join(", ")} } `:"";return`${i.value}${t}`}function Nw(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ya(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),ya(t.params,e.params)||i.params.next(e.params),function NQ(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ya(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),ya(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function Bw(i,t){const e=ya(i.params,t.params)&&function GQ(i,t){return Ul(i,t)&&i.every((e,n)=>ya(e.parameters,t[n].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||Bw(i.parent,t.parent))}function yp(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=t.value;const s=function nK(i,t,e){return t.children.map(n=>{for(const s of e.children)if(i.shouldReuseRoute(n.value,s.value.snapshot))return yp(i,n,s);return yp(i,n)})}(i,t,e);return new Ja(n,s)}{if(i.shouldAttach(t.value)){const r=i.retrieve(t.value);if(null!==r){const a=r.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(o=>yp(i,o)),a}}const n=function sK(i){return new Yo(new gs(i.url),new gs(i.params),new gs(i.queryParams),new gs(i.fragment),new gs(i.data),i.outlet,i.component,i)}(t.value),s=t.children.map(r=>yp(i,r));return new Ja(n,s)}}function jg(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function xp(i){return"object"==typeof i&&null!=i&&i.outlets}function Vw(i,t,e,n,s){let r={};return n&&Qn(n,(a,o)=>{r[o]=Array.isArray(a)?a.map(l=>`${l}`):`${a}`}),new Gl(e.root===i?t:IP(e.root,i,t),r,s)}function IP(i,t,e){const n={};return Qn(i.children,(s,r)=>{n[r]=s===t?e:IP(s,t,e)}),new Xt(i.segments,n)}class LP{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&jg(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(xp);if(s&&s!==mP(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hw{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function PP(i,t,e){if(i||(i=new Xt([],{})),0===i.segments.length&&i.hasChildren())return $g(i,t,e);const n=function dK(i,t,e){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(n>=e.length)return r;const a=i.segments[s],o=e[n];if(xp(o))break;const l=`${o}`,c=n<e.length-1?e[n+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!OP(l,c,a))return r;n+=2}else{if(!OP(l,{},a))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(i,t,e),s=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){const r=new Xt(i.segments.slice(0,n.pathIndex),{});return r.children[jt]=new Xt(i.segments.slice(n.pathIndex),i.children),$g(r,0,s)}return n.match&&0===s.length?new Xt(i.segments,{}):n.match&&!i.hasChildren()?zw(i,t,e):n.match?$g(i,0,s):zw(i,t,e)}function $g(i,t,e){if(0===e.length)return new Xt(i.segments,{});{const n=function cK(i){return xp(i[0])?i[0].outlets:{[jt]:i}}(e),s={};return Qn(n,(r,a)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[a]=PP(i.children[a],t,r))}),Qn(i.children,(r,a)=>{void 0===n[a]&&(s[a]=r)}),new Xt(i.segments,s)}}function zw(i,t,e){const n=i.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(xp(r)){const l=uK(r.outlets);return new Xt(n,l)}if(0===s&&jg(e[0])){n.push(new _p(i.segments[t].path,FP(e[0]))),s++;continue}const a=xp(r)?r.outlets[jt]:`${r}`,o=s<e.length-1?e[s+1]:null;a&&o&&jg(o)?(n.push(new _p(a,FP(o))),s+=2):(n.push(new _p(a,{})),s++)}return new Xt(n,{})}function uK(i){const t={};return Qn(i,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=zw(new Xt([],{}),0,e))}),t}function FP(i){const t={};return Qn(i,(e,n)=>t[n]=`${e}`),t}function OP(i,t,e){return i==e.path&&ya(t,e.parameters)}class pK{constructor(t,e,n,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=s}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Nw(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const s=Jd(e);t.children.forEach(r=>{const a=r.value.outlet;this.deactivateRoutes(r,s[a],n),delete s[a]}),Qn(s,(r,a)=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const a=n.getContext(s.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet),s=n&&t.value.component?n.children:e,r=Jd(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);if(n&&n.outlet){const a=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:o})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),s=n&&t.value.component?n.children:e,r=Jd(t);for(const a of Object.keys(r))this.deactivateRouteAndItsChildren(r[a],s);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const s=Jd(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new LQ(r.value.snapshot))}),t.children.length&&this.forwardEvent(new RQ(t.value.snapshot))}activateRoutes(t,e,n){const s=t.value,r=e?e.value:null;if(Nw(s),s===r)if(s.component){const a=n.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(s.component){const a=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const o=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),Nw(o.route.value),this.activateChildRoutes(t,null,a.children)}else{const o=function fK(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),l=o?o.module.componentFactoryResolver:null;a.attachRef=null,a.route=s,a.resolver=l,a.outlet&&a.outlet.activateWith(s,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}class Gw{constructor(t,e){this.routes=t,this.module=e}}function qo(i){return"function"==typeof i}function Wl(i){return i instanceof Gl}const bp=Symbol("INITIAL_VALUE");function wp(){return ur(i=>function _Q(...i){const t=Mh(i),e=DA(i),{args:n,keys:s}=tP(i);if(0===n.length)return wn([],t);const r=new ni(function vQ(i,t,e=Lo){return n=>{nP(t,()=>{const{length:s}=i,r=new Array(s);let a=s,o=s;for(let l=0;l<s;l++)nP(t,()=>{const c=wn(i[l],t);let d=!1;c.subscribe(new Ai(n,u=>{r[l]=u,d||(d=!0,o--),o||n.next(e(r.slice()))},()=>{--a||n.complete()}))},n)},n)}}(n,t,s?a=>iP(s,a):Lo));return e?r.pipe(Ew(e)):r}(i.map(t=>t.pipe(zi(1),Ds(bp)))).pipe(rP((t,e)=>{let n=!1;return e.reduce((s,r,a)=>s!==bp?s:(r===bp&&(n=!0),n||!1!==r&&a!==e.length-1&&!Wl(r)?s:r),t)},bp),Oi(t=>t!==bp),It(t=>Wl(t)?t:!0===t),zi(1)))}class xK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cp,this.attachRef=null}}class Cp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new xK,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Uw=(()=>{class i{constructor(e,n,s,r,a){this.parentContexts=e,this.location=n,this.resolver=s,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.name=r||jt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(n=n||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,l=new bK(e,o,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(x(Cp),x(Pi),x(ga),qn("name"),x(Kt))},i.\u0275dir=j({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class bK{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Yo?this.route:t===Cp?this.childContexts:this.parent.get(t,e)}}let NP=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,n){1&e&&fe(0,"router-outlet")},directives:[Uw],encapsulation:2}),i})();function BP(i,t=""){for(let e=0;e<i.length;e++){const n=i[e];wK(n,CK(t,n))}}function wK(i,t){i.children&&BP(i.children,t)}function CK(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Ww(i){const t=i.children&&i.children.map(Ww),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==jt&&(e.component=NP),e}function hr(i){return i.outlet||jt}function VP(i,t){const e=i.filter(n=>hr(n)===t);return e.push(...i.filter(n=>hr(n)!==t)),e}const HP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Yg(i,t,e){var n;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},HP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||OQ)(e,i,t);if(!r)return Object.assign({},HP);const a={};Qn(r.posParams,(l,c)=>{a[c]=l.path});const o=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(n=r.posParams)&&void 0!==n?n:{}}}function qg(i,t,e,n,s="corrected"){if(e.length>0&&function TK(i,t,e){return e.some(n=>Xg(i,t,n)&&hr(n)!==jt)}(i,e,n)){const a=new Xt(t,function MK(i,t,e,n){const s={};s[jt]=n,n._sourceSegment=i,n._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&hr(r)!==jt){const a=new Xt([],{});a._sourceSegment=i,a._segmentIndexShift=t.length,s[hr(r)]=a}return s}(i,t,n,new Xt(e,i.children)));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function DK(i,t,e){return e.some(n=>Xg(i,t,n))}(i,e,n)){const a=new Xt(i.segments,function SK(i,t,e,n,s,r){const a={};for(const o of n)if(Xg(i,e,o)&&!s[hr(o)]){const l=new Xt([],{});l._sourceSegment=i,l._segmentIndexShift="legacy"===r?i.segments.length:t.length,a[hr(o)]=l}return Object.assign(Object.assign({},s),a)}(i,t,e,n,i.children,s));return a._sourceSegment=i,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const r=new Xt(i.segments,i.children);return r._sourceSegment=i,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Xg(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function zP(i,t,e,n){return!!(hr(i)===n||n!==jt&&Xg(t,e,i))&&("**"===i.path||Yg(t,i,e).matched)}function GP(i,t,e){return 0===t.length&&!i.children[e]}class Sp{constructor(t){this.segmentGroup=t||null}}class UP{constructor(t){this.urlTree=t}}function Qg(i){return new ni(t=>t.error(new Sp(i)))}function WP(i){return new ni(t=>t.error(new UP(i)))}function AK(i){return new ni(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class RK{constructor(t,e,n,s,r){this.configLoader=e,this.urlSerializer=n,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ya)}apply(){const t=qg(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,jt).pipe(It(r=>this.createUrlTree(jw(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ka(r=>{if(r instanceof UP)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Sp?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,jt).pipe(It(s=>this.createUrlTree(jw(s),t.queryParams,t.fragment))).pipe(Ka(s=>{throw s instanceof Sp?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const s=t.segments.length>0?new Xt([],{[jt]:t}):t;return new Gl(s,e,n)}expandSegmentGroup(t,e,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(It(r=>new Xt([],r))):this.expandSegment(t,n,e,n.segments,s,!0)}expandChildren(t,e,n){const s=[];for(const r of Object.keys(n.children))"primary"===r?s.unshift(r):s.push(r);return wn(s).pipe(Qd(r=>{const a=n.children[r],o=VP(e,r);return this.expandSegmentGroup(t,o,a,r).pipe(It(l=>({segment:l,outlet:r})))}),rP((r,a)=>(r[a.outlet]=a.segment,r),{}),function CQ(i,t){const e=arguments.length>=2;return n=>n.pipe(i?Oi((s,r)=>i(s,r,n)):Lo,kw(1),e?oP(t):aP(()=>new Fg))}())}expandSegment(t,e,n,s,r,a){return wn(n).pipe(Qd(o=>this.expandSegmentAgainstRoute(t,e,n,o,s,r,a).pipe(Ka(c=>{if(c instanceof Sp)return ht(null);throw c}))),Kd(o=>!!o),Ka((o,l)=>{if(o instanceof Fg||"EmptyError"===o.name){if(GP(e,s,r))return ht(new Xt([],{}));throw new Sp(e)}throw o}))}expandSegmentAgainstRoute(t,e,n,s,r,a,o){return zP(s,e,r,a)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a):Qg(e):Qg(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,s,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,s){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?WP(r):this.lineralizeSegments(n,r).pipe(cn(a=>{const o=new Xt(a,{});return this.expandSegment(t,o,e,a,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,s,r,a){const{matched:o,consumedSegments:l,lastChild:c,positionalParamSegments:d}=Yg(e,s,r);if(!o)return Qg(e);const u=this.applyRedirectCommands(l,s.redirectTo,d);return s.redirectTo.startsWith("/")?WP(u):this.lineralizeSegments(s,u).pipe(cn(h=>this.expandSegment(t,e,n,h.concat(r.slice(c)),a,!1)))}matchSegmentAgainstRoute(t,e,n,s,r){if("**"===n.path)return n.loadChildren?(n._loadedConfig?ht(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(It(h=>(n._loadedConfig=h,new Xt(s,{})))):ht(new Xt(s,{}));const{matched:a,consumedSegments:o,lastChild:l}=Yg(e,n,s);if(!a)return Qg(e);const c=s.slice(l);return this.getChildConfig(t,n,s).pipe(cn(u=>{const h=u.module,p=u.routes,{segmentGroup:f,slicedSegments:g}=qg(e,o,c,p),m=new Xt(f.segments,f.children);if(0===g.length&&m.hasChildren())return this.expandChildren(h,p,m).pipe(It(b=>new Xt(o,b)));if(0===p.length&&0===g.length)return ht(new Xt(o,{}));const _=hr(n)===r;return this.expandSegment(h,m,p,g,_?jt:r,!0).pipe(It(y=>new Xt(o.concat(y.segments),y.children)))}))}getChildConfig(t,e,n){return e.children?ht(new Gw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ht(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(cn(s=>s?this.configLoader.load(t.injector,e).pipe(It(r=>(e._loadedConfig=r,r))):function EK(i){return new ni(t=>t.error(Iw(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(e))):ht(new Gw([],t))}runCanLoadGuards(t,e,n){const s=e.canLoad;return s&&0!==s.length?ht(s.map(a=>{const o=t.get(a);let l;if(function gK(i){return i&&qo(i.canLoad)}(o))l=o.canLoad(e,n);else{if(!qo(o))throw new Error("Invalid CanLoad guard");l=o(e,n)}return xa(l)})).pipe(wp(),An(a=>{if(!Wl(a))return;const o=Iw(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw o.url=a,o}),It(a=>!0===a)):ht(!0)}lineralizeSegments(t,e){let n=[],s=e.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return ht(n);if(s.numberOfChildren>1||!s.children[jt])return AK(t.redirectTo);s=s.children[jt]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,s){const r=this.createSegmentGroup(t,e.root,n,s);return new Gl(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qn(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const o=s.substring(1);n[r]=e[o]}else n[r]=s}),n}createSegmentGroup(t,e,n,s){const r=this.createSegments(t,e.segments,n,s);let a={};return Qn(e.children,(o,l)=>{a[l]=this.createSegmentGroup(t,o,n,s)}),new Xt(r,a)}createSegments(t,e,n,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,n))}findPosParam(t,e,n){const s=n[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let n=0;for(const s of e){if(s.path===t.path)return e.splice(n),s;n++}return t}}function jw(i){const t={};for(const n of Object.keys(i.children)){const r=jw(i.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function IK(i){if(1===i.numberOfChildren&&i.children[jt]){const t=i.children[jt];return new Xt(i.segments.concat(t.segments),t.children)}return i}(new Xt(i.segments,t))}class jP{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kg{constructor(t,e){this.component=t,this.route=e}}function PK(i,t,e){const n=i._root;return Mp(n,t?t._root:null,e,[n.value])}function Zg(i,t,e){const n=function OK(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:e).get(i)}function Mp(i,t,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Jd(t);return i.children.forEach(a=>{(function NK(i,t,e,n,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=i.value,a=t?t.value:null,o=e?e.getContext(i.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){const l=function BK(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Ul(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Ul(i.url,t.url)||!ya(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bw(i,t)||!ya(i.queryParams,t.queryParams);default:return!Bw(i,t)}}(a,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new jP(n)):(r.data=a.data,r._resolvedData=a._resolvedData),Mp(i,t,r.component?o?o.children:null:e,n,s),l&&o&&o.outlet&&o.outlet.isActivated&&s.canDeactivateChecks.push(new Kg(o.outlet.component,a))}else a&&Tp(t,o,s),s.canActivateChecks.push(new jP(n)),Mp(i,null,r.component?o?o.children:null:e,n,s)})(a,r[a.value.outlet],e,n.concat([a.value]),s),delete r[a.value.outlet]}),Qn(r,(a,o)=>Tp(a,e.getContext(o),s)),s}function Tp(i,t,e){const n=Jd(i),s=i.value;Qn(n,(r,a)=>{Tp(r,s.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new Kg(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class YK{}function $P(i){return new ni(t=>t.error(i))}class XK{constructor(t,e,n,s,r,a){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=a}recognize(){const t=qg(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,jt);if(null===e)return null;const n=new Wg([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},jt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Ja(n,e),r=new kP(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,n=EP(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const r of Object.keys(e.children)){const a=e.children[r],o=VP(t,r),l=this.processSegmentGroup(o,a,r);if(null===l)return null;n.push(...l)}const s=YP(n);return function QK(i){i.sort((t,e)=>t.value.outlet===jt?-1:e.value.outlet===jt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,n,s){for(const r of t){const a=this.processSegmentAgainstRoute(r,e,n,s);if(null!==a)return a}return GP(e,n,s)?[]:null}processSegmentAgainstRoute(t,e,n,s){if(t.redirectTo||!zP(t,e,n,s))return null;let r,a=[],o=[];if("**"===t.path){const p=n.length>0?mP(n).parameters:{};r=new Wg(n,p,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,QP(t),hr(t),t.component,t,qP(e),XP(e)+n.length,KP(t))}else{const p=Yg(e,t,n);if(!p.matched)return null;a=p.consumedSegments,o=n.slice(p.lastChild),r=new Wg(a,p.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,QP(t),hr(t),t.component,t,qP(e),XP(e)+a.length,KP(t))}const l=function KK(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:d}=qg(e,a,o,l.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution);if(0===d.length&&c.hasChildren()){const p=this.processChildren(l,c);return null===p?null:[new Ja(r,p)]}if(0===l.length&&0===d.length)return[new Ja(r,[])];const u=hr(t)===s,h=this.processSegment(l,c,d,u?jt:s);return null===h?null:[new Ja(r,h)]}}function ZK(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function YP(i){const t=[],e=new Set;for(const n of i){if(!ZK(n)){t.push(n);continue}const s=t.find(r=>n.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...n.children),e.add(s)):t.push(n)}for(const n of e){const s=YP(n.children);t.push(new Ja(n.value,s))}return t.filter(n=>!e.has(n))}function qP(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function XP(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function QP(i){return i.data||{}}function KP(i){return i.resolve||{}}function $w(i){return ur(t=>{const e=i(t);return e?wn(e).pipe(It(()=>t)):ht(t)})}class aZ extends class rZ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Yw=new ne("ROUTES");class ZP{constructor(t,e,n,s){this.injector=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(It(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=r.create(t);return new Gw(fP(a.injector.get(Yw,void 0,kt.Self|kt.Optional)).map(Ww),a)}),Ka(r=>{throw e._loader$=void 0,r}));return e._loader$=new xQ(s,()=>new ke).pipe(sP()),e._loader$}loadModuleFactory(t){return xa(t()).pipe(cn(e=>e instanceof oI?ht(e):wn(this.compiler.compileModuleAsync(e))))}}class lZ{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cZ(i){throw i}function dZ(i,t,e){return t.parse("/")}function JP(i,t){return ht(null)}const uZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class i{constructor(e,n,s,r,a,o,l){this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=s,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=cZ,this.malformedUriErrorHandler=dZ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:JP,afterPreactivation:JP},this.urlHandlingStrategy=new lZ,this.routeReuseStrategy=new aZ,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Ya),this.console=a.get(jI);const u=a.get(st);this.isNgZoneEnabled=u instanceof st&&st.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function BQ(){return new Gl(new Xt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZP(a,o,h=>this.triggerEvent(new cP(h)),h=>this.triggerEvent(new dP(h))),this.routerState=AP(this.currentUrlTree,this.rootComponentType),this.transitions=new gs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const n=this.events;return e.pipe(Oi(s=>0!==s.id),It(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ur(s=>{let r=!1,a=!1;return ht(s).pipe(An(o=>{this.currentNavigation={id:o.id,initialUrl:o.currentRawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ur(o=>{const l=this.browserUrlTree.toString(),c=!this.navigated||o.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Jg(o.source)&&(this.browserUrlTree=o.extractedUrl),ht(o).pipe(ur(u=>{const h=this.transitions.getValue();return n.next(new Bg(u.id,this.serializeUrl(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions.getValue()?sa:Promise.resolve(u)}),function LK(i,t,e,n){return ur(s=>function kK(i,t,e,n,s){return new RK(i,t,e,n,s).apply()}(i,t,e,s.extractedUrl,n).pipe(It(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),An(u=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:u.urlAfterRedirects})}),function JK(i,t,e,n,s){return cn(r=>function qK(i,t,e,n,s="emptyOnly",r="legacy"){try{const a=new XK(i,t,e,n,s,r).recognize();return null===a?$P(new YK):ht(a)}catch(a){return $P(a)}}(i,t,r.urlAfterRedirects,e(r.urlAfterRedirects),n,s).pipe(It(a=>Object.assign(Object.assign({},r),{targetSnapshot:a}))))}(this.rootComponentType,this.config,u=>this.serializeUrl(u),this.paramsInheritanceStrategy,this.relativeLinkResolution),An(u=>{if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const p=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(p,u)}this.browserUrlTree=u.urlAfterRedirects}const h=new MQ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);n.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:p,source:f,restoredState:g,extras:m}=o,_=new Bg(h,this.serializeUrl(p),f,g);n.next(_);const v=AP(p,this.rootComponentType).snapshot;return ht(Object.assign(Object.assign({},o),{targetSnapshot:v,urlAfterRedirects:p,extras:Object.assign(Object.assign({},m),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=o.rawUrl,o.resolve(null),sa}),$w(o=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:u,extras:{skipLocationChange:h,replaceUrl:p}}=o;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:u,skipLocationChange:!!h,replaceUrl:!!p})}),An(o=>{const l=new TQ(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.triggerEvent(l)}),It(o=>Object.assign(Object.assign({},o),{guards:PK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)})),function VK(i,t){return cn(e=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return 0===a.length&&0===r.length?ht(Object.assign(Object.assign({},e),{guardsResult:!0})):function HK(i,t,e,n){return wn(i).pipe(cn(s=>function $K(i,t,e,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?ht(r.map(o=>{const l=Zg(o,t,s);let c;if(function yK(i){return i&&qo(i.canDeactivate)}(l))c=xa(l.canDeactivate(i,t,e,n));else{if(!qo(l))throw new Error("Invalid CanDeactivate guard");c=xa(l(i,t,e,n))}return c.pipe(Kd())})).pipe(wp()):ht(!0)}(s.component,s.route,e,t,n)),Kd(s=>!0!==s,!0))}(a,n,s,i).pipe(cn(o=>o&&function mK(i){return"boolean"==typeof i}(o)?function zK(i,t,e,n){return wn(t).pipe(Qd(s=>Og(function UK(i,t){return null!==i&&t&&t(new kQ(i)),ht(!0)}(s.route.parent,n),function GK(i,t){return null!==i&&t&&t(new IQ(i)),ht(!0)}(s.route,n),function jK(i,t,e){const n=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(a=>function FK(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Ng(()=>ht(a.guards.map(l=>{const c=Zg(l,a.node,e);let d;if(function vK(i){return i&&qo(i.canActivateChild)}(c))d=xa(c.canActivateChild(n,i));else{if(!qo(c))throw new Error("Invalid CanActivateChild guard");d=xa(c(n,i))}return d.pipe(Kd())})).pipe(wp())));return ht(r).pipe(wp())}(i,s.path,e),function WK(i,t,e){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return ht(!0);const s=n.map(r=>Ng(()=>{const a=Zg(r,t,e);let o;if(function _K(i){return i&&qo(i.canActivate)}(a))o=xa(a.canActivate(t,i));else{if(!qo(a))throw new Error("Invalid CanActivate guard");o=xa(a(t,i))}return o.pipe(Kd())}));return ht(s).pipe(wp())}(i,s.route,e))),Kd(s=>!0!==s,!0))}(n,r,i,t):ht(o)),It(o=>Object.assign(Object.assign({},e),{guardsResult:o})))})}(this.ngModule.injector,o=>this.triggerEvent(o)),An(o=>{if(Wl(o.guardsResult)){const c=Iw(`Redirecting to "${this.serializeUrl(o.guardsResult)}"`);throw c.url=o.guardsResult,c}const l=new DQ(o.id,this.serializeUrl(o.extractedUrl),this.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.triggerEvent(l)}),Oi(o=>!!o.guardsResult||(this.restoreHistory(o),this.cancelNavigationTransition(o,""),!1)),$w(o=>{if(o.guards.canActivateChecks.length)return ht(o).pipe(An(l=>{const c=new AQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ur(l=>{let c=!1;return ht(l).pipe(function eZ(i,t){return cn(e=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=e;if(!s.length)return ht(e);let r=0;return wn(s).pipe(Qd(a=>function tZ(i,t,e,n){return function iZ(i,t,e,n){const s=Object.keys(i);if(0===s.length)return ht({});const r={};return wn(s).pipe(cn(a=>function nZ(i,t,e,n){const s=Zg(i,t,n);return xa(s.resolve?s.resolve(t,e):s(t,e))}(i[a],t,e,n).pipe(An(o=>{r[a]=o}))),kw(1),cn(()=>Object.keys(r).length===s.length?ht(r):sa))}(i._resolve,i,t,n).pipe(It(r=>(i._resolvedData=r,i.data=Object.assign(Object.assign({},i.data),EP(i,e).resolve),null)))}(a.route,n,i,t)),An(()=>r++),kw(1),cn(a=>r===s.length?ht(e):sa))})}(this.paramsInheritanceStrategy,this.ngModule.injector),An({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),An(l=>{const c=new EQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),$w(o=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:u,extras:{skipLocationChange:h,replaceUrl:p}}=o;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:u,skipLocationChange:!!h,replaceUrl:!!p})}),It(o=>{const l=function iK(i,t,e){const n=yp(i,t._root,e?e._root:void 0);return new DP(n,t)}(this.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return Object.assign(Object.assign({},o),{targetRouterState:l})}),An(o=>{this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects)}),((i,t,e)=>It(n=>(new pK(t,n.targetRouterState,n.currentRouterState,e).activate(i),n)))(this.rootContexts,this.routeReuseStrategy,o=>this.triggerEvent(o)),An({next(){r=!0},complete(){r=!0}}),Rw(()=>{var o;r||a||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(o=this.currentNavigation)||void 0===o?void 0:o.id)===s.id&&(this.currentNavigation=null)}),Ka(o=>{if(a=!0,function FQ(i){return i&&i[hP]}(o)){const l=Wl(o.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const c=new lP(s.id,this.serializeUrl(s.extractedUrl),o.message);n.next(c),l?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(o.url,this.rawUrlTree),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jg(s.source)};this.scheduleNavigation(d,"imperative",null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new SQ(s.id,this.serializeUrl(s.extractedUrl),o);n.next(l);try{s.resolve(this.errorHandler(o))}catch(c){s.reject(c)}}return sa}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const n="popstate"===e.type?"popstate":"hashchange";"popstate"===n&&setTimeout(()=>{var s;const r={replaceUrl:!0},a=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(a){const l=Object.assign({},a);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,n,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){BP(e),this.config=e.map(Ww),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,n={}){const{relativeTo:s,queryParams:r,fragment:a,queryParamsHandling:o,preserveFragment:l}=n,c=s||this.routerState.root,d=l?this.currentUrlTree.fragment:a;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function rK(i,t,e,n,s){if(0===e.length)return Vw(t.root,t.root,t,n,s);const r=function aK(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new LP(!0,0,i);let t=0,e=!1;const n=i.reduce((s,r,a)=>{if("object"==typeof r&&null!=r){if(r.outlets){const o={};return Qn(r.outlets,(l,c)=>{o[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:o}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===a?(r.split("/").forEach((o,l)=>{0==l&&"."===o||(0==l&&""===o?e=!0:".."===o?t++:""!=o&&s.push(o))}),s):[...s,r]},[]);return new LP(e,t,n)}(e);if(r.toRoot())return Vw(t.root,new Xt([],{}),t,n,s);const a=function oK(i,t,e){if(i.isAbsolute)return new Hw(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new Hw(r,r===t.root,0)}const n=jg(i.commands[0])?0:1;return function lK(i,t,e){let n=i,s=t,r=e;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new Hw(n,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+n,i.numberOfDoubleDots)}(r,t,i),o=a.processChildren?$g(a.segmentGroup,a.index,r.commands):PP(a.segmentGroup,a.index,r.commands);return Vw(a.segmentGroup,o,t,n,s)}(c,this.currentUrlTree,e,u,null!=d?d:null)}navigateByUrl(e,n={skipLocationChange:!1}){const s=Wl(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,n)}navigate(e,n={skipLocationChange:!1}){return function pZ(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let n;try{n=this.urlSerializer.parse(e)}catch(s){n=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return n}isActive(e,n){let s;if(s=!0===n?Object.assign({},uZ):!1===n?Object.assign({},hZ):n,Wl(e))return _P(this.currentUrlTree,e,s);const r=this.parseUrl(e);return _P(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((n,s)=>{const r=e[s];return null!=r&&(n[s]=r),n},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new gp(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,n,s,r,a){var o,l,c;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,u=Jg(n)&&d&&!Jg(d.source),h=d.rawUrl.toString()===e.toString(),p=d.id===(null===(o=this.currentNavigation)||void 0===o?void 0:o.id);if(u&&h&&p)return Promise.resolve(!0);let g,m,_;a?(g=a.resolve,m=a.reject,_=a.promise):_=new Promise((b,w)=>{g=b,m=w});const v=++this.navigationId;let y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),y=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):y=0,this.setTransition({id:v,targetPageId:y,source:n,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:g,reject:m,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(b=>Promise.reject(b))}setBrowserUrl(e,n){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},n.extras.state),this.generateNgRouterState(n.id,n.targetPageId));this.location.isCurrentPathEqualTo(s)||n.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,n=!1){var s,r;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===a?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,n){const s=new lP(e.id,this.serializeUrl(e.extractedUrl),n);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}}return i.\u0275fac=function(e){Vd()},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function Jg(i){return"imperative"!==i}let e_=(()=>{class i{constructor(e,n,s,r,a){this.router=e,this.route=n,this.tabIndexAttribute=s,this.renderer=r,this.el=a,this.commands=null,this.onChanges=new ke,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const n=this.renderer,s=this.el.nativeElement;null!==e?n.setAttribute(s,"tabindex",e):n.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(x(On),x(Yo),qn("tabindex"),x(Gs),x(ve))},i.\u0275dir=j({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,n){1&e&&Le("click",function(){return n.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[bt]}),i})(),t_=(()=>{class i{constructor(e,n,s){this.router=e,this.route=n,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new ke,this.subscription=e.events.subscribe(r=>{r instanceof gp&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,n,s,r,a){if(0!==e||n||s||r||a||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const o={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(x(On),x(Yo),x(Yd))},i.\u0275dir=j({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,n){1&e&&Le("click",function(r){return n.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&Ae("target",n.target)("href",n.href,xd)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[bt]}),i})();function eu(i){return""===i||!!i}let eF=(()=>{class i{constructor(e,n,s,r,a,o){this.router=e,this.element=n,this.renderer=s,this.cdr=r,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new ge,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof gp&&this.update()})}ngAfterContentInit(){ht(this.links.changes,this.linksWithHrefs.changes,ht(null)).pipe(Sh()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const n=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=wn(n).pipe(Sh()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function fZ(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(x(On),x(ve),x(Gs),x(Kt),x(e_,8),x(t_,8))},i.\u0275dir=j({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,n,s){if(1&e&&(St(s,e_,5),St(s,t_,5)),2&e){let r;Ce(r=Se())&&(n.links=r),Ce(r=Se())&&(n.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[bt]}),i})();class tF{}class iF{preload(t,e){return ht(null)}}let nF=(()=>{class i{constructor(e,n,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new ZP(s,n,l=>e.triggerEvent(new cP(l)),l=>e.triggerEvent(new dP(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Oi(e=>e instanceof gp),Qd(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ya);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const s=[];for(const r of n)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const a=r._loadedConfig;s.push(this.processRoutes(a.module,a.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return wn(s).pipe(Sh(),It(r=>{}))}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>(n._loadedConfig?ht(n._loadedConfig):this.loader.load(e.injector,n)).pipe(cn(r=>(n._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return i.\u0275fac=function(e){return new(e||i)($(On),$(pg),$(en),$(tF))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),qw=(()=>{class i{constructor(e,n,s={}){this.router=e,this.viewportScroller=n,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Bg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gp&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uP&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.router.triggerEvent(new uP(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){Vd()},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const jl=new ne("ROUTER_CONFIGURATION"),sF=new ne("ROUTER_FORROOT_GUARD"),gZ=[gg,{provide:bP,useClass:wP},{provide:On,useFactory:function bZ(i,t,e,n,s,r,a={},o,l){const c=new On(null,i,t,e,n,s,fP(r));return o&&(c.urlHandlingStrategy=o),l&&(c.routeReuseStrategy=l),function wZ(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(a,c),a.enableTracing&&c.events.subscribe(d=>{var u,h;null===(u=console.group)||void 0===u||u.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[bP,Cp,gg,en,pg,Yw,jl,[class oZ{},new Mn],[class sZ{},new Mn]]},Cp,{provide:Yo,useFactory:function CZ(i){return i.routerState.root},deps:[On]},nF,iF,class mZ{preload(t,e){return e().pipe(Ka(()=>ht(null)))}},{provide:jl,useValue:{enableTracing:!1}}];function _Z(){return new KI("Router",On)}let rF=(()=>{class i{constructor(e,n){}static forRoot(e,n){return{ngModule:i,providers:[gZ,aF(e),{provide:sF,useFactory:xZ,deps:[[On,new Mn,new Ns]]},{provide:jl,useValue:n||{}},{provide:Yd,useFactory:yZ,deps:[zl,[new zh(uw),new Mn],jl]},{provide:qw,useFactory:vZ,deps:[On,DX,jl]},{provide:tF,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:iF},{provide:KI,multi:!0,useFactory:_Z},[Xw,{provide:hg,multi:!0,useFactory:SZ,deps:[Xw]},{provide:oF,useFactory:MZ,deps:[Xw]},{provide:Jb,multi:!0,useExisting:oF}]]}}static forChild(e){return{ngModule:i,providers:[aF(e)]}}}return i.\u0275fac=function(e){return new(e||i)($(sF,8),$(On,8))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})();function vZ(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new qw(i,t,e)}function yZ(i,t,e={}){return e.useHash?new gq(i,t):new yL(i,t)}function xZ(i){return"guarded"}function aF(i){return[{provide:J8,multi:!0,useValue:i},{provide:Yw,multi:!0,useValue:i}]}let Xw=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke}appInitializer(){return this.injector.get(pq,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let n=null;const s=new Promise(o=>n=o),r=this.injector.get(On),a=this.injector.get(jl);return"disabled"===a.initialNavigation?(r.setUpLocationChangeListener(),n(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?ht(null):(this.initNavigation=!0,n(!0),this.resultOfPreactivationDone),r.initialNavigation()):n(!0),s})}bootstrapListener(e){const n=this.injector.get(jl),s=this.injector.get(nF),r=this.injector.get(qw),a=this.injector.get(On),o=this.injector.get(Vl);e===o.components[0]&&(("enabledNonBlocking"===n.initialNavigation||void 0===n.initialNavigation)&&a.initialNavigation(),s.setUpPreloading(),r.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)($(en))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();function SZ(i){return i.appInitializer.bind(i)}function MZ(i){return i.bootstrapListener.bind(i)}const oF=new ne("Router Initializer");let DZ=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["app-about"]],decls:2,vars:0,template:function(e,n){1&e&&(A(0,"p"),we(1,"about works!"),E())},styles:[""]}),i})();function lF(...i){const t=DA(i),{args:e,keys:n}=tP(i),s=new ni(r=>{const{length:a}=e;if(!a)return void r.complete();const o=new Array(a);let l=a,c=a;for(let d=0;d<a;d++){let u=!1;Rs(e[d]).subscribe(new Ai(r,h=>{u||(u=!0,c--),o[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||r.next(n?iP(n,o):o),r.complete())}))}});return t?s.pipe(Ew(t)):s}let cF=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(x(Gs),x(ve))},i.\u0275dir=j({type:i}),i})(),$l=(()=>{class i extends cF{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,features:[Z]}),i})();const Nn=new ne("NgValueAccessor"),EZ={provide:Nn,useExisting:Ht(()=>i_),multi:!0},RZ=new ne("CompositionEventMode");let i_=(()=>{class i extends cF{constructor(e,n,s){super(e,n),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kZ(){const i=_a()?_a().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(x(Gs),x(ve),x(RZ,8))},i.\u0275dir=j({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,n){1&e&&Le("input",function(r){return n._handleInput(r.target.value)})("blur",function(){return n.onTouched()})("compositionstart",function(){return n._compositionStart()})("compositionend",function(r){return n._compositionEnd(r.target.value)})},features:[Qe([EZ]),Z]}),i})();function Xo(i){return null==i||0===i.length}function uF(i){return null!=i&&"number"==typeof i.length}const En=new ne("NgValidators"),Qo=new ne("NgAsyncValidators"),IZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Yl{static min(t){return function hF(i){return t=>{if(Xo(t.value)||Xo(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function pF(i){return t=>{if(Xo(t.value)||Xo(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return fF(t)}static requiredTrue(t){return function mF(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function gF(i){return Xo(i.value)||IZ.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function _F(i){return t=>Xo(t.value)||!uF(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function vF(i){return t=>uF(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function yF(i){if(!i)return Dp;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),n=>{if(Xo(n.value))return null;const s=n.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return MF(t)}static composeAsync(t){return TF(t)}}function fF(i){return Xo(i.value)?{required:!0}:null}function Dp(i){return null}function xF(i){return null!=i}function bF(i){const t=ep(i)?wn(i):i;return wb(t),t}function wF(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function CF(i,t){return t.map(e=>e(i))}function SF(i){return i.map(t=>function LZ(i){return!i.validate}(t)?t:e=>t.validate(e))}function MF(i){if(!i)return null;const t=i.filter(xF);return 0==t.length?null:function(e){return wF(CF(e,t))}}function Qw(i){return null!=i?MF(SF(i)):null}function TF(i){if(!i)return null;const t=i.filter(xF);return 0==t.length?null:function(e){return lF(CF(e,t).map(bF)).pipe(It(wF))}}function Kw(i){return null!=i?TF(SF(i)):null}function DF(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function AF(i){return i._rawValidators}function EF(i){return i._rawAsyncValidators}function Zw(i){return i?Array.isArray(i)?i:[i]:[]}function n_(i,t){return Array.isArray(i)?i.includes(t):i===t}function kF(i,t){const e=Zw(t);return Zw(i).forEach(s=>{n_(e,s)||e.push(s)}),e}function RF(i,t){return Zw(t).filter(e=>!n_(i,e))}class IF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Kw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Hr extends IF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class _s extends IF{get formDirective(){return null}get path(){return null}}class LF{constructor(t){this._cd=t}is(t){var e,n,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===s?void 0:s[t])}}let PF=(()=>{class i extends LF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(x(Hr,2))},i.\u0275dir=j({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,n){2&e&&ut("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))},features:[Z]}),i})(),s_=(()=>{class i extends LF{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(x(_s,10))},i.\u0275dir=j({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,n){2&e&&ut("ng-untouched",n.is("untouched"))("ng-touched",n.is("touched"))("ng-pristine",n.is("pristine"))("ng-dirty",n.is("dirty"))("ng-valid",n.is("valid"))("ng-invalid",n.is("invalid"))("ng-pending",n.is("pending"))("ng-submitted",n.is("submitted"))},features:[Z]}),i})();function Ap(i,t){tC(i,t),t.valueAccessor.writeValue(i.value),function zZ(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&OF(i,t)})}(i,t),function UZ(i,t){const e=(n,s)=>{t.valueAccessor.writeValue(n),s&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function GZ(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&OF(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function HZ(i,t){if(t.valueAccessor.setDisabledState){const e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function o_(i,t,e=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),c_(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function l_(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tC(i,t){const e=AF(i);null!==t.validator?i.setValidators(DF(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const n=EF(i);null!==t.asyncValidator?i.setAsyncValidators(DF(n,t.asyncValidator)):"function"==typeof n&&i.setAsyncValidators([n]);const s=()=>i.updateValueAndValidity();l_(t._rawValidators,s),l_(t._rawAsyncValidators,s)}function c_(i,t){let e=!1;if(null!==i){if(null!==t.validator){const s=AF(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.validator);r.length!==s.length&&(e=!0,i.setValidators(r))}}if(null!==t.asyncValidator){const s=EF(i);if(Array.isArray(s)&&s.length>0){const r=s.filter(a=>a!==t.asyncValidator);r.length!==s.length&&(e=!0,i.setAsyncValidators(r))}}}const n=()=>{};return l_(t._rawValidators,n),l_(t._rawAsyncValidators,n),e}function OF(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function NF(i,t){tC(i,t)}function BF(i,t){i._syncPendingControls(),t.forEach(e=>{const n=e.control;"submit"===n.updateOn&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function d_(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const Ep="VALID",u_="INVALID",tu="PENDING",kp="DISABLED";function rC(i){return(oC(i)?i.validators:i)||null}function VF(i){return Array.isArray(i)?Qw(i):i||null}function aC(i,t){return(oC(t)?t.asyncValidators:i)||null}function HF(i){return Array.isArray(i)?Kw(i):i||null}function oC(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}const zF=i=>i instanceof Rp,lC=i=>i instanceof h_;function GF(i){return zF(i)?i.value:i.getRawValue()}function UF(i,t){const e=lC(i),n=i.controls;if(!(e?Object.keys(n):n).length)throw new ei(1e3,"");if(!n[t])throw new ei(1001,"")}function WF(i,t){lC(i),i._forEachChild((n,s)=>{if(void 0===t[s])throw new ei(1002,"")})}class cC{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=VF(this._rawValidators),this._composedAsyncValidatorFn=HF(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ep}get invalid(){return this.status===u_}get pending(){return this.status==tu}get disabled(){return this.status===kp}get enabled(){return this.status!==kp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=VF(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=HF(t)}addValidators(t){this.setValidators(kF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(RF(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(RF(t,this._rawAsyncValidators))}hasValidator(t){return n_(this._rawValidators,t)}hasAsyncValidator(t){return n_(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=tu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kp,this.errors=null,this._forEachChild(n=>{n.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ep,this._forEachChild(n=>{n.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ep||this.status===tu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kp:Ep}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=tu,this._hasOwnPendingAsyncValidator=!0;const e=bF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function YZ(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let n=i;return t.forEach(s=>{n=lC(n)?n.controls.hasOwnProperty(s)?n.controls[s]:null:(i=>i instanceof XZ)(n)&&n.at(s)||null}),n}(this,t,".")}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?kp:this.errors?u_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tu)?tu:this._anyControlsHaveStatus(u_)?u_:Ep}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){oC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Rp extends cC{constructor(t=null,e,n){super(rC(e),aC(n,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){d_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){d_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class h_ extends cC{constructor(t,e,n){super(rC(e),aC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){WF(this,t),Object.keys(t).forEach(n=>{UF(this,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=GF(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>!!n._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((s,r)=>{n=e(n,s,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class XZ extends cC{constructor(t,e,n){super(rC(e),aC(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){WF(this,t),t.forEach((n,s)=>{UF(this,s),this.at(s).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((n,s)=>{this.at(s)&&this.at(s).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,s)=>{n.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>GF(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,n)=>!!n._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const QZ={provide:_s,useExisting:Ht(()=>Ko)},Ip=(()=>Promise.resolve(null))();let Ko=(()=>{class i extends _s{constructor(e,n){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ge,this.form=new h_({},Qw(e),Kw(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ip.then(()=>{const n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ap(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ip.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name),d_(this._directives,e)})}addFormGroup(e){Ip.then(()=>{const n=this._findContainer(e.path),s=new h_({});NF(s,e),n.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ip.then(()=>{const n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Ip.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,BF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(x(En,10),x(Qo,10))},i.\u0275dir=j({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,n){1&e&&Le("submit",function(r){return n.onSubmit(r)})("reset",function(){return n.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([QZ]),Z]}),i})(),p_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),QF=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})();const dC=new ne("NgModelWithFormControlWarning"),sJ={provide:_s,useExisting:Ht(()=>ql)};let ql=(()=>{class i extends _s{constructor(e,n){super(),this.validators=e,this.asyncValidators=n,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ge,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(c_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const n=this.form.get(e.path);return Ap(n,e),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){o_(e.control||null,e,!1),d_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this.submitted=!0,BF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const n=e.control,s=this.form.get(e.path);n!==s&&(o_(n||null,e),zF(s)&&(Ap(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const n=this.form.get(e.path);NF(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const n=this.form.get(e.path);n&&function WZ(i,t){return c_(i,t)}(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tC(this.form,this),this._oldForm&&c_(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(x(En,10),x(Qo,10))},i.\u0275dir=j({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,n){1&e&&Le("submit",function(r){return n.onSubmit(r)})("reset",function(){return n.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([sJ]),Z,bt]}),i})();const oJ={provide:Hr,useExisting:Ht(()=>pC)};let pC=(()=>{class i extends Hr{constructor(e,n,s,r,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.update=new ge,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(n),this._setAsyncValidators(s),this.valueAccessor=function nC(i,t){if(!t)return null;let e,n,s;return Array.isArray(t),t.forEach(r=>{r.constructor===i_?e=r:function $Z(i){return Object.getPrototypeOf(i.constructor)===$l}(r)?n=r:s=r}),s||n||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function iC(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function a_(i,t){return[...t.path,i]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i._ngModelWarningSentOnce=!1,i.\u0275fac=function(e){return new(e||i)(x(_s,13),x(En,10),x(Qo,10),x(Nn,10),x(dC,8))},i.\u0275dir=j({type:i,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qe([oJ]),Z,bt]}),i})();const gJ={provide:En,useExisting:Ht(()=>f_),multi:!0};let f_=(()=>{class i{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?fF(e):null}registerOnValidatorChange(e){this._onChange=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,n){2&e&&Ae("required",n.required?"":null)},inputs:{required:"required"},features:[Qe([gJ])]}),i})(),uO=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[QF]]}),i})(),wJ=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[uO]}),i})(),CJ=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:dC,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[uO]}),i})();function hO(i,t,e,n,s,r,a){try{var o=i[r](a),l=o.value}catch(c){return void e(c)}o.done?t(l):Promise.resolve(l).then(n,s)}const Jl=1e3,vs=1001,mn=1003,Ti=1006,Jo=1008,ec=1009,Bp=1012,zr=1015,ba=1016,au=1020,fr=1023,tc=1026,ou=1027,Vp=2300,lu=2301,cu=2400,du=2401,Gr=3e3,ai=3001,to="srgb",nc="srgb-linear",Hp=35044,zp=35048;class el{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const s=this._listeners[t];if(void 0!==s){const r=s.indexOf(e);-1!==r&&s.splice(r,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const n=this._listeners[t.type];if(void 0!==n){t.target=this;const s=n.slice(0);for(let r=0,a=s.length;r<a;r++)s[r].call(this,t);t.target=null}}}const Kn=[];for(let i=0;i<256;i++)Kn[i]=(i<16?"0":"")+i.toString(16);let YO=1234567;const sc=Math.PI/180,Gp=180/Math.PI;function Ws(){const i=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Kn[255&i]+Kn[i>>8&255]+Kn[i>>16&255]+Kn[i>>24&255]+"-"+Kn[255&t]+Kn[t>>8&255]+"-"+Kn[t>>16&15|64]+Kn[t>>24&255]+"-"+Kn[63&e|128]+Kn[e>>8&255]+"-"+Kn[e>>16&255]+Kn[e>>24&255]+Kn[255&n]+Kn[n>>8&255]+Kn[n>>16&255]+Kn[n>>24&255]).toLowerCase()}function rn(i,t,e){return Math.max(t,Math.min(e,i))}function AC(i,t){return(i%t+t)%t}function Up(i,t,e){return(1-e)*i+e*t}function EC(i){return 0==(i&i-1)&&0!==i}function qO(i){return Math.pow(2,Math.ceil(Math.log(i)/Math.LN2))}function w_(i){return Math.pow(2,Math.floor(Math.log(i)/Math.LN2))}var Vee=Object.freeze({__proto__:null,DEG2RAD:sc,RAD2DEG:Gp,generateUUID:Ws,clamp:rn,euclideanModulo:AC,mapLinear:function See(i,t,e,n,s){return n+(i-t)*(s-n)/(e-t)},inverseLerp:function Mee(i,t,e){return i!==t?(e-i)/(t-i):0},lerp:Up,damp:function Tee(i,t,e,n){return Up(i,t,1-Math.exp(-e*n))},pingpong:function Dee(i,t=1){return t-Math.abs(AC(i,2*t)-t)},smoothstep:function Aee(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*(3-2*i)},smootherstep:function Eee(i,t,e){return i<=t?0:i>=e?1:(i=(i-t)/(e-t))*i*i*(i*(6*i-15)+10)},randInt:function kee(i,t){return i+Math.floor(Math.random()*(t-i+1))},randFloat:function Ree(i,t){return i+Math.random()*(t-i)},randFloatSpread:function Iee(i){return i*(.5-Math.random())},seededRandom:function Lee(i){void 0!==i&&(YO=i);let t=YO+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function Pee(i){return i*sc},radToDeg:function Fee(i){return i*Gp},isPowerOfTwo:EC,ceilPowerOfTwo:qO,floorPowerOfTwo:w_,setQuaternionFromProperEuler:function Oee(i,t,e,n,s){const r=Math.cos,a=Math.sin,o=r(e/2),l=a(e/2),c=r((t+n)/2),d=a((t+n)/2),u=r((t-n)/2),h=a((t-n)/2),p=r((n-t)/2),f=a((n-t)/2);switch(s){case"XYX":i.set(o*d,l*u,l*h,o*c);break;case"YZY":i.set(l*h,o*d,l*u,o*c);break;case"ZXZ":i.set(l*u,l*h,o*d,o*c);break;case"XZX":i.set(o*d,l*f,l*p,o*c);break;case"YXY":i.set(l*p,o*d,l*f,o*c);break;case"ZYZ":i.set(l*f,l*p,o*d,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:function Bee(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return Math.round(65535*i);case Uint8Array:return Math.round(255*i);case Int16Array:return Math.round(32767*i);case Int8Array:return Math.round(127*i);default:throw new Error("Invalid component type.")}},denormalize:function Nee(i,t){switch(t.constructor){case Float32Array:return i;case Uint16Array:return i/65535;case Uint8Array:return i/255;case Int16Array:return Math.max(i/32767,-1);case Int8Array:return Math.max(i/127,-1);default:throw new Error("Invalid component type.")}}});class le{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,s=t.elements;return this.x=s[0]*e+s[3]*n+s[6],this.y=s[1]*e+s[4]*n+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),s=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*s+t.x,this.y=r*s+a*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}le.prototype.isVector2=!0;class Bn{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,s,r,a,o,l,c){const d=this.elements;return d[0]=t,d[1]=s,d[2]=o,d[3]=e,d[4]=r,d[5]=l,d[6]=n,d[7]=a,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,s=e.elements,r=this.elements,a=n[0],o=n[3],l=n[6],c=n[1],d=n[4],u=n[7],h=n[2],p=n[5],f=n[8],g=s[0],m=s[3],_=s[6],v=s[1],y=s[4],b=s[7],w=s[2],S=s[5],D=s[8];return r[0]=a*g+o*v+l*w,r[3]=a*m+o*y+l*S,r[6]=a*_+o*b+l*D,r[1]=c*g+d*v+u*w,r[4]=c*m+d*y+u*S,r[7]=c*_+d*b+u*D,r[2]=h*g+p*v+f*w,r[5]=h*m+p*y+f*S,r[8]=h*_+p*b+f*D,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8];return e*a*d-e*o*c-n*r*d+n*o*l+s*r*c-s*a*l}invert(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],u=d*a-o*c,h=o*l-d*r,p=c*r-a*l,f=e*u+n*h+s*p;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const g=1/f;return t[0]=u*g,t[1]=(s*c-d*n)*g,t[2]=(o*n-s*a)*g,t[3]=h*g,t[4]=(d*e-s*l)*g,t[5]=(s*r-o*e)*g,t[6]=p*g,t[7]=(n*l-c*e)*g,t[8]=(a*e-n*r)*g,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,s,r,a,o){const l=Math.cos(r),c=Math.sin(r);return this.set(n*l,n*c,-n*(l*a+c*o)+a+t,-s*c,s*l,-s*(-c*a+l*o)+o+e,0,0,1),this}scale(t,e){const n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}rotate(t){const e=Math.cos(t),n=Math.sin(t),s=this.elements,r=s[0],a=s[3],o=s[6],l=s[1],c=s[4],d=s[7];return s[0]=e*r+n*l,s[3]=e*a+n*c,s[6]=e*o+n*d,s[1]=-n*r+e*l,s[4]=-n*a+e*c,s[7]=-n*o+e*d,this}translate(t,e){const n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}equals(t){const e=this.elements,n=t.elements;for(let s=0;s<9;s++)if(e[s]!==n[s])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function XO(i){for(let t=i.length-1;t>=0;--t)if(i[t]>65535)return!0;return!1}function Wp(i){return document.createElementNS("http://www.w3.org/1999/xhtml",i)}function rc(i){return i<.04045?.0773993808*i:Math.pow(.9478672986*i+.0521327014,2.4)}function C_(i){return i<.0031308?12.92*i:1.055*Math.pow(i,.41666)-.055}Bn.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const kC={[to]:{[nc]:rc},[nc]:{[to]:C_}},Ur={legacyMode:!0,get workingColorSpace(){return nc},set workingColorSpace(i){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(i,t,e){if(this.legacyMode||t===e||!t||!e)return i;if(kC[t]&&void 0!==kC[t][e]){const n=kC[t][e];return i.r=n(i.r),i.g=n(i.g),i.b=n(i.b),i}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(i,t){return this.convert(i,this.workingColorSpace,t)},toWorkingColorSpace:function(i,t){return this.convert(i,t,this.workingColorSpace)}},QO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kn={r:0,g:0,b:0},Wr={h:0,s:0,l:0},S_={h:0,s:0,l:0};function RC(i,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?i+6*(t-i)*e:e<.5?t:e<2/3?i+6*(t-i)*(2/3-e):i}function M_(i,t){return t.r=i.r,t.g=i.g,t.b=i.b,t}let hu,Re=(()=>{class i{constructor(e,n,s){return void 0===n&&void 0===s?this.set(e):this.setRGB(e,n,s)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=to){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Ur.toWorkingColorSpace(this,n),this}setRGB(e,n,s,r=nc){return this.r=e,this.g=n,this.b=s,Ur.toWorkingColorSpace(this,r),this}setHSL(e,n,s,r=nc){if(e=AC(e,1),n=rn(n,0,1),s=rn(s,0,1),0===n)this.r=this.g=this.b=s;else{const a=s<=.5?s*(1+n):s+n-s*n,o=2*s-a;this.r=RC(o,a,e+1/3),this.g=RC(o,a,e),this.b=RC(o,a,e-1/3)}return Ur.toWorkingColorSpace(this,r),this}setStyle(e,n=to){function s(a){void 0!==a&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let a;const l=r[2];switch(r[1]){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(a[1],10))/255,this.g=Math.min(255,parseInt(a[2],10))/255,this.b=Math.min(255,parseInt(a[3],10))/255,Ur.toWorkingColorSpace(this,n),s(a[4]),this;if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(a[1],10))/100,this.g=Math.min(100,parseInt(a[2],10))/100,this.b=Math.min(100,parseInt(a[3],10))/100,Ur.toWorkingColorSpace(this,n),s(a[4]),this;break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(a[1])/360,d=parseInt(a[2],10)/100,u=parseInt(a[3],10)/100;return s(a[4]),this.setHSL(c,d,u,n)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],o=a.length;if(3===o)return this.r=parseInt(a.charAt(0)+a.charAt(0),16)/255,this.g=parseInt(a.charAt(1)+a.charAt(1),16)/255,this.b=parseInt(a.charAt(2)+a.charAt(2),16)/255,Ur.toWorkingColorSpace(this,n),this;if(6===o)return this.r=parseInt(a.charAt(0)+a.charAt(1),16)/255,this.g=parseInt(a.charAt(2)+a.charAt(3),16)/255,this.b=parseInt(a.charAt(4)+a.charAt(5),16)/255,Ur.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}setColorName(e,n=to){const s=QO[e.toLowerCase()];return void 0!==s?this.setHex(s,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=rc(e.r),this.g=rc(e.g),this.b=rc(e.b),this}copyLinearToSRGB(e){return this.r=C_(e.r),this.g=C_(e.g),this.b=C_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=to){return Ur.fromWorkingColorSpace(M_(this,kn),e),rn(255*kn.r,0,255)<<16^rn(255*kn.g,0,255)<<8^rn(255*kn.b,0,255)<<0}getHexString(e=to){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=nc){Ur.fromWorkingColorSpace(M_(this,kn),n);const s=kn.r,r=kn.g,a=kn.b,o=Math.max(s,r,a),l=Math.min(s,r,a);let c,d;const u=(l+o)/2;if(l===o)c=0,d=0;else{const h=o-l;switch(d=u<=.5?h/(o+l):h/(2-o-l),o){case s:c=(r-a)/h+(r<a?6:0);break;case r:c=(a-s)/h+2;break;case a:c=(s-r)/h+4}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,n=nc){return Ur.fromWorkingColorSpace(M_(this,kn),n),e.r=kn.r,e.g=kn.g,e.b=kn.b,e}getStyle(e=to){return Ur.fromWorkingColorSpace(M_(this,kn),e),e!==to?`color(${e} ${kn.r} ${kn.g} ${kn.b})`:`rgb(${255*kn.r|0},${255*kn.g|0},${255*kn.b|0})`}offsetHSL(e,n,s){return this.getHSL(Wr),Wr.h+=e,Wr.s+=n,Wr.l+=s,this.setHSL(Wr.h,Wr.s,Wr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,s){return this.r=e.r+(n.r-e.r)*s,this.g=e.g+(n.g-e.g)*s,this.b=e.b+(n.b-e.b)*s,this}lerpHSL(e,n){this.getHSL(Wr),e.getHSL(S_);const s=Up(Wr.h,S_.h,n),r=Up(Wr.s,S_.s,n),a=Up(Wr.l,S_.l,n);return this.setHSL(s,r,a),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return i.NAMES=QO,i})();Re.prototype.isColor=!0,Re.prototype.r=1,Re.prototype.g=1,Re.prototype.b=1;class ac{static getDataURL(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===hu&&(hu=Wp("canvas")),hu.width=t.width,hu.height=t.height;const n=hu.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=hu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=Wp("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const s=n.getImageData(0,0,t.width,t.height),r=s.data;for(let a=0;a<r.length;a++)r[a]=255*rc(r[a]/255);return n.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let n=0;n<e.length;n++)e[n]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*rc(e[n]/255)):rc(e[n]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class pu{constructor(t=null){this.uuid=Ws(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let a=0,o=s.length;a<o;a++)r.push(IC(s[a].isDataTexture?s[a].image:s[a]))}else r=IC(s);n.url=r}return e||(t.images[this.uuid]=n),n}}function IC(i){return"undefined"!=typeof HTMLImageElement&&i instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&i instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&i instanceof ImageBitmap?ac.getDataURL(i):i.data?{data:Array.prototype.slice.call(i.data),width:i.width,height:i.height,type:i.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}pu.prototype.isSource=!0;let zee=0,ns=(()=>{class i extends el{constructor(e=i.DEFAULT_IMAGE,n=i.DEFAULT_MAPPING,s=vs,r=vs,a=Ti,o=Jo,l=fr,c=ec,d=1,u=Gr){super(),Object.defineProperty(this,"id",{value:zee++}),this.uuid=Ws(),this.name="",this.source=new pu(e),this.mipmaps=[],this.mapping=n,this.wrapS=s,this.wrapT=r,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new le(0,0),this.repeat=new le(1,1),this.center=new le(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=void 0===e||"string"==typeof e;if(!n&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),n||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Jl:e.x=e.x-Math.floor(e.x);break;case vs:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Jl:e.y=e.y-Math.floor(e.y);break;case vs:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}return i.DEFAULT_IMAGE=null,i.DEFAULT_MAPPING=300,i})();ns.prototype.isTexture=!0;class pi{constructor(t=0,e=0,n=0,s=1){this.x=t,this.y=e,this.z=n,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,s){return this.x=t,this.y=e,this.z=n,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,s=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*s+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*s+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*s+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*s+a[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,s,r;const a=.01,o=.1,l=t.elements,c=l[0],d=l[4],u=l[8],h=l[1],p=l[5],f=l[9],g=l[2],m=l[6],_=l[10];if(Math.abs(d-h)<a&&Math.abs(u-g)<a&&Math.abs(f-m)<a){if(Math.abs(d+h)<o&&Math.abs(u+g)<o&&Math.abs(f+m)<o&&Math.abs(c+p+_-3)<o)return this.set(1,0,0,0),this;e=Math.PI;const y=(c+1)/2,b=(p+1)/2,w=(_+1)/2,S=(d+h)/4,D=(u+g)/4,L=(f+m)/4;return y>b&&y>w?y<a?(n=0,s=.707106781,r=.707106781):(n=Math.sqrt(y),s=S/n,r=D/n):b>w?b<a?(n=.707106781,s=0,r=.707106781):(s=Math.sqrt(b),n=S/s,r=L/s):w<a?(n=.707106781,s=.707106781,r=0):(r=Math.sqrt(w),n=D/r,s=L/r),this.set(n,s,r,e),this}let v=Math.sqrt((m-f)*(m-f)+(u-g)*(u-g)+(h-d)*(h-d));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-g)/v,this.z=(h-d)/v,this.w=Math.acos((c+p+_-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}pi.prototype.isVector4=!0;class js extends el{constructor(t,e,n={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new pi(0,0,t,e),this.scissorTest=!1,this.viewport=new pi(0,0,t,e),this.texture=new ns({width:t,height:e,depth:1},n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.internalFormat=void 0!==n.internalFormat?n.internalFormat:null,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Ti,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null,this.samples=void 0!==n.samples?n.samples:0}setSize(t,e,n=1){(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}js.prototype.isWebGLRenderTarget=!0;class T_ extends ns{constructor(t=null,e=1,n=1,s=1){super(null),this.image={data:t,width:e,height:n,depth:s},this.magFilter=mn,this.minFilter=mn,this.wrapR=vs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}T_.prototype.isDataArrayTexture=!0,class Gee extends js{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new T_(null,t,e,n),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGLArrayRenderTarget=!0;class LC extends ns{constructor(t=null,e=1,n=1,s=1){super(null),this.image={data:t,width:e,height:n,depth:s},this.magFilter=mn,this.minFilter=mn,this.wrapR=vs,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}LC.prototype.isData3DTexture=!0,class Uee extends js{constructor(t,e,n){super(t,e),this.depth=n,this.texture=new LC(null,t,e,n),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGL3DRenderTarget=!0,class Wee extends js{constructor(t,e,n,s={}){super(t,e,s);const r=this.texture;this.texture=[];for(let a=0;a<n;a++)this.texture[a]=r.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let s=0,r=this.texture.length;s<r;s++)this.texture[s].image.width=t,this.texture[s].image.height=e,this.texture[s].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,n=t.texture.length;e<n;e++)this.texture[e]=t.texture[e].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class Rn{constructor(t=0,e=0,n=0,s=1){this._x=t,this._y=e,this._z=n,this._w=s}static slerp(t,e,n,s){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,s)}static slerpFlat(t,e,n,s,r,a,o){let l=n[s+0],c=n[s+1],d=n[s+2],u=n[s+3];const h=r[a+0],p=r[a+1],f=r[a+2],g=r[a+3];if(0===o)return t[e+0]=l,t[e+1]=c,t[e+2]=d,void(t[e+3]=u);if(1===o)return t[e+0]=h,t[e+1]=p,t[e+2]=f,void(t[e+3]=g);if(u!==g||l!==h||c!==p||d!==f){let m=1-o;const _=l*h+c*p+d*f+u*g,v=_>=0?1:-1,y=1-_*_;if(y>Number.EPSILON){const w=Math.sqrt(y),S=Math.atan2(w,_*v);m=Math.sin(m*S)/w,o=Math.sin(o*S)/w}const b=o*v;if(l=l*m+h*b,c=c*m+p*b,d=d*m+f*b,u=u*m+g*b,m===1-o){const w=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=w,c*=w,d*=w,u*=w}}t[e]=l,t[e+1]=c,t[e+2]=d,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,s,r,a){const o=n[s],l=n[s+1],c=n[s+2],d=n[s+3],u=r[a],h=r[a+1],p=r[a+2],f=r[a+3];return t[e]=o*f+d*u+l*p-c*h,t[e+1]=l*f+d*h+c*u-o*p,t[e+2]=c*f+d*p+o*h-l*u,t[e+3]=d*f-o*u-l*h-c*p,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,n,s){return this._x=t,this._y=e,this._z=n,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=t._x,s=t._y,r=t._z,a=t._order,o=Math.cos,l=Math.sin,c=o(n/2),d=o(s/2),u=o(r/2),h=l(n/2),p=l(s/2),f=l(r/2);switch(a){case"XYZ":this._x=h*d*u+c*p*f,this._y=c*p*u-h*d*f,this._z=c*d*f+h*p*u,this._w=c*d*u-h*p*f;break;case"YXZ":this._x=h*d*u+c*p*f,this._y=c*p*u-h*d*f,this._z=c*d*f-h*p*u,this._w=c*d*u+h*p*f;break;case"ZXY":this._x=h*d*u-c*p*f,this._y=c*p*u+h*d*f,this._z=c*d*f+h*p*u,this._w=c*d*u-h*p*f;break;case"ZYX":this._x=h*d*u-c*p*f,this._y=c*p*u+h*d*f,this._z=c*d*f-h*p*u,this._w=c*d*u+h*p*f;break;case"YZX":this._x=h*d*u+c*p*f,this._y=c*p*u+h*d*f,this._z=c*d*f-h*p*u,this._w=c*d*u-h*p*f;break;case"XZY":this._x=h*d*u-c*p*f,this._y=c*p*u-h*d*f,this._z=c*d*f+h*p*u,this._w=c*d*u+h*p*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const n=e/2,s=Math.sin(n);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],s=e[4],r=e[8],a=e[1],o=e[5],l=e[9],c=e[2],d=e[6],u=e[10],h=n+o+u;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(d-l)*p,this._y=(r-c)*p,this._z=(a-s)*p}else if(n>o&&n>u){const p=2*Math.sqrt(1+n-o-u);this._w=(d-l)/p,this._x=.25*p,this._y=(s+a)/p,this._z=(r+c)/p}else if(o>u){const p=2*Math.sqrt(1+o-n-u);this._w=(r-c)/p,this._x=(s+a)/p,this._y=.25*p,this._z=(l+d)/p}else{const p=2*Math.sqrt(1+u-n-o);this._w=(a-s)/p,this._x=(r+c)/p,this._y=(l+d)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(rn(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const s=Math.min(1,e/n);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t._x,s=t._y,r=t._z,a=t._w,o=e._x,l=e._y,c=e._z,d=e._w;return this._x=n*d+a*o+s*c-r*l,this._y=s*d+a*l+r*o-n*c,this._z=r*d+a*c+n*l-s*o,this._w=a*d-n*o-s*l-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this._x,s=this._y,r=this._z,a=this._w;let o=a*t._w+n*t._x+s*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=s,this._z=r,this;const l=1-o*o;if(l<=Number.EPSILON){const p=1-e;return this._w=p*a+e*this._w,this._x=p*n+e*this._x,this._y=p*s+e*this._y,this._z=p*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,o),u=Math.sin((1-e)*d)/c,h=Math.sin(e*d)/c;return this._w=a*u+this._w*h,this._x=n*u+this._x*h,this._y=s*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=Math.random(),e=Math.sqrt(1-t),n=Math.sqrt(t),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(s),n*Math.sin(r),n*Math.cos(r),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Rn.prototype.isQuaternion=!0;class M{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(KO.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(KO.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*s,this.y=r[1]*e+r[4]*n+r[7]*s,this.z=r[2]*e+r[5]*n+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,s=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*s+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*s+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*s+r[14])*a,this}applyQuaternion(t){const e=this.x,n=this.y,s=this.z,r=t.x,a=t.y,o=t.z,l=t.w,c=l*e+a*s-o*n,d=l*n+o*e-r*s,u=l*s+r*n-a*e,h=-r*e-a*n-o*s;return this.x=c*l+h*-r+d*-o-u*-a,this.y=d*l+h*-a+u*-r-c*-o,this.z=u*l+h*-o+c*-a-d*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*s,this.y=r[1]*e+r[5]*n+r[9]*s,this.z=r[2]*e+r[6]*n+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,s=t.y,r=t.z,a=e.x,o=e.y,l=e.z;return this.x=s*l-r*o,this.y=r*a-n*l,this.z=n*o-s*a,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return PC.copy(this).projectOnVector(t),this.sub(PC)}reflect(t){return this.sub(PC.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(rn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,s=this.z-t.z;return e*e+n*n+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const s=Math.sin(e)*t;return this.x=s*Math.sin(n),this.y=Math.cos(e)*t,this.z=s*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(e),this.y=n*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}M.prototype.isVector3=!0;const PC=new M,KO=new Rn;class $s{constructor(t=new M(1/0,1/0,1/0),e=new M(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,n=1/0,s=1/0,r=-1/0,a=-1/0,o=-1/0;for(let l=0,c=t.length;l<c;l+=3){const d=t[l],u=t[l+1],h=t[l+2];d<e&&(e=d),u<n&&(n=u),h<s&&(s=h),d>r&&(r=d),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,s),this.max.set(r,a,o),this}setFromBufferAttribute(t){let e=1/0,n=1/0,s=1/0,r=-1/0,a=-1/0,o=-1/0;for(let l=0,c=t.count;l<c;l++){const d=t.getX(l),u=t.getY(l),h=t.getZ(l);d<e&&(e=d),u<n&&(n=u),h<s&&(s=h),d>r&&(r=d),u>a&&(a=u),h>o&&(o=h)}return this.min.set(e,n,s),this.max.set(r,a,o),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=oc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n)if(e&&null!=n.attributes&&void 0!==n.attributes.position){const r=n.attributes.position;for(let a=0,o=r.count;a<o;a++)oc.fromBufferAttribute(r,a).applyMatrix4(t.matrixWorld),this.expandByPoint(oc)}else null===n.boundingBox&&n.computeBoundingBox(),FC.copy(n.boundingBox),FC.applyMatrix4(t.matrixWorld),this.union(FC);const s=t.children;for(let r=0,a=s.length;r<a;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,oc),oc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(jp),D_.subVectors(this.max,jp),fu.subVectors(t.a,jp),mu.subVectors(t.b,jp),gu.subVectors(t.c,jp),tl.subVectors(mu,fu),il.subVectors(gu,mu),lc.subVectors(fu,gu);let e=[0,-tl.z,tl.y,0,-il.z,il.y,0,-lc.z,lc.y,tl.z,0,-tl.x,il.z,0,-il.x,lc.z,0,-lc.x,-tl.y,tl.x,0,-il.y,il.x,0,-lc.y,lc.x,0];return!(!OC(e,fu,mu,gu,D_)||(e=[1,0,0,0,1,0,0,0,1],!OC(e,fu,mu,gu,D_)))&&(A_.crossVectors(tl,il),e=[A_.x,A_.y,A_.z],OC(e,fu,mu,gu,D_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return oc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(oc).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(io[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),io[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),io[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),io[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),io[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),io[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),io[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),io[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(io)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}$s.prototype.isBox3=!0;const io=[new M,new M,new M,new M,new M,new M,new M,new M],oc=new M,FC=new $s,fu=new M,mu=new M,gu=new M,tl=new M,il=new M,lc=new M,jp=new M,D_=new M,A_=new M,cc=new M;function OC(i,t,e,n,s){for(let r=0,a=i.length-3;r<=a;r+=3){cc.fromArray(i,r);const o=s.x*Math.abs(cc.x)+s.y*Math.abs(cc.y)+s.z*Math.abs(cc.z),l=t.dot(cc),c=e.dot(cc),d=n.dot(cc);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>o)return!1}return!0}const jee=new $s,ZO=new M,E_=new M,NC=new M;class nl{constructor(t=new M,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):jee.setFromPoints(t).getCenter(n);let s=0;for(let r=0,a=t.length;r<a;r++)s=Math.max(s,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){NC.subVectors(t,this.center);const e=NC.lengthSq();if(e>this.radius*this.radius){const n=Math.sqrt(e),s=.5*(n-this.radius);this.center.add(NC.multiplyScalar(s/n)),this.radius+=s}return this}union(t){return!0===this.center.equals(t.center)?E_.set(0,0,1).multiplyScalar(t.radius):E_.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(ZO.copy(t.center).add(E_)),this.expandByPoint(ZO.copy(t.center).sub(E_)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const no=new M,BC=new M,k_=new M,sl=new M,VC=new M,R_=new M,HC=new M;class dc{constructor(t=new M,e=new M(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,no)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=no.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(no.copy(this.direction).multiplyScalar(e).add(this.origin),no.distanceToSquared(t))}distanceSqToSegment(t,e,n,s){BC.copy(t).add(e).multiplyScalar(.5),k_.copy(e).sub(t).normalize(),sl.copy(this.origin).sub(BC);const r=.5*t.distanceTo(e),a=-this.direction.dot(k_),o=sl.dot(this.direction),l=-sl.dot(k_),c=sl.lengthSq(),d=Math.abs(1-a*a);let u,h,p,f;if(d>0)if(u=a*l-o,h=a*o-l,f=r*d,u>=0)if(h>=-f)if(h<=f){const g=1/d;u*=g,h*=g,p=u*(u+a*h+2*o)+h*(a*u+h+2*l)+c}else h=r,u=Math.max(0,-(a*h+o)),p=-u*u+h*(h+2*l)+c;else h=-r,u=Math.max(0,-(a*h+o)),p=-u*u+h*(h+2*l)+c;else h<=-f?(u=Math.max(0,-(-a*r+o)),h=u>0?-r:Math.min(Math.max(-r,-l),r),p=-u*u+h*(h+2*l)+c):h<=f?(u=0,h=Math.min(Math.max(-r,-l),r),p=h*(h+2*l)+c):(u=Math.max(0,-(a*r+o)),h=u>0?r:Math.min(Math.max(-r,-l),r),p=-u*u+h*(h+2*l)+c);else h=a>0?-r:r,u=Math.max(0,-(a*h+o)),p=-u*u+h*(h+2*l)+c;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),s&&s.copy(k_).multiplyScalar(h).add(BC),p}intersectSphere(t,e){no.subVectors(t.center,this.origin);const n=no.dot(this.direction),s=no.dot(no)-n*n,r=t.radius*t.radius;if(s>r)return null;const a=Math.sqrt(r-s),o=n-a,l=n+a;return o<0&&l<0?null:this.at(o<0?l:o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,s,r,a,o,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(n=(t.min.x-h.x)*c,s=(t.max.x-h.x)*c):(n=(t.max.x-h.x)*c,s=(t.min.x-h.x)*c),d>=0?(r=(t.min.y-h.y)*d,a=(t.max.y-h.y)*d):(r=(t.max.y-h.y)*d,a=(t.min.y-h.y)*d),n>a||r>s||((r>n||n!=n)&&(n=r),(a<s||s!=s)&&(s=a),u>=0?(o=(t.min.z-h.z)*u,l=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,l=(t.min.z-h.z)*u),n>l||o>s)||((o>n||n!=n)&&(n=o),(l<s||s!=s)&&(s=l),s<0)?null:this.at(n>=0?n:s,e)}intersectsBox(t){return null!==this.intersectBox(t,no)}intersectTriangle(t,e,n,s,r){VC.subVectors(e,t),R_.subVectors(n,t),HC.crossVectors(VC,R_);let o,a=this.direction.dot(HC);if(a>0){if(s)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}sl.subVectors(this.origin,t);const l=o*this.direction.dot(R_.crossVectors(sl,R_));if(l<0)return null;const c=o*this.direction.dot(VC.cross(sl));if(c<0||l+c>a)return null;const d=-o*sl.dot(HC);return d<0?null:this.at(d/a,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class nt{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,n,s,r,a,o,l,c,d,u,h,p,f,g,m){const _=this.elements;return _[0]=t,_[4]=e,_[8]=n,_[12]=s,_[1]=r,_[5]=a,_[9]=o,_[13]=l,_[2]=c,_[6]=d,_[10]=u,_[14]=h,_[3]=p,_[7]=f,_[11]=g,_[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new nt).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,s=1/_u.setFromMatrixColumn(t,0).length(),r=1/_u.setFromMatrixColumn(t,1).length(),a=1/_u.setFromMatrixColumn(t,2).length();return e[0]=n[0]*s,e[1]=n[1]*s,e[2]=n[2]*s,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,n=t.x,s=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),l=Math.cos(s),c=Math.sin(s),d=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const h=a*d,p=a*u,f=o*d,g=o*u;e[0]=l*d,e[4]=-l*u,e[8]=c,e[1]=p+f*c,e[5]=h-g*c,e[9]=-o*l,e[2]=g-h*c,e[6]=f+p*c,e[10]=a*l}else if("YXZ"===t.order){const h=l*d,p=l*u,f=c*d,g=c*u;e[0]=h+g*o,e[4]=f*o-p,e[8]=a*c,e[1]=a*u,e[5]=a*d,e[9]=-o,e[2]=p*o-f,e[6]=g+h*o,e[10]=a*l}else if("ZXY"===t.order){const h=l*d,p=l*u,f=c*d,g=c*u;e[0]=h-g*o,e[4]=-a*u,e[8]=f+p*o,e[1]=p+f*o,e[5]=a*d,e[9]=g-h*o,e[2]=-a*c,e[6]=o,e[10]=a*l}else if("ZYX"===t.order){const h=a*d,p=a*u,f=o*d,g=o*u;e[0]=l*d,e[4]=f*c-p,e[8]=h*c+g,e[1]=l*u,e[5]=g*c+h,e[9]=p*c-f,e[2]=-c,e[6]=o*l,e[10]=a*l}else if("YZX"===t.order){const h=a*l,p=a*c,f=o*l,g=o*c;e[0]=l*d,e[4]=g-h*u,e[8]=f*u+p,e[1]=u,e[5]=a*d,e[9]=-o*d,e[2]=-c*d,e[6]=p*u+f,e[10]=h-g*u}else if("XZY"===t.order){const h=a*l,p=a*c,f=o*l,g=o*c;e[0]=l*d,e[4]=-u,e[8]=c*d,e[1]=h*u+g,e[5]=a*d,e[9]=p*u-f,e[2]=f*u-p,e[6]=o*d,e[10]=g*u+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose($ee,t,Yee)}lookAt(t,e,n){const s=this.elements;return Ys.subVectors(t,e),0===Ys.lengthSq()&&(Ys.z=1),Ys.normalize(),rl.crossVectors(n,Ys),0===rl.lengthSq()&&(1===Math.abs(n.z)?Ys.x+=1e-4:Ys.z+=1e-4,Ys.normalize(),rl.crossVectors(n,Ys)),rl.normalize(),I_.crossVectors(Ys,rl),s[0]=rl.x,s[4]=I_.x,s[8]=Ys.x,s[1]=rl.y,s[5]=I_.y,s[9]=Ys.y,s[2]=rl.z,s[6]=I_.z,s[10]=Ys.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,s=e.elements,r=this.elements,a=n[0],o=n[4],l=n[8],c=n[12],d=n[1],u=n[5],h=n[9],p=n[13],f=n[2],g=n[6],m=n[10],_=n[14],v=n[3],y=n[7],b=n[11],w=n[15],S=s[0],D=s[4],L=s[8],H=s[12],N=s[1],C=s[5],R=s[9],X=s[13],z=s[2],q=s[6],O=s[10],B=s[14],F=s[3],Y=s[7],K=s[11],ce=s[15];return r[0]=a*S+o*N+l*z+c*F,r[4]=a*D+o*C+l*q+c*Y,r[8]=a*L+o*R+l*O+c*K,r[12]=a*H+o*X+l*B+c*ce,r[1]=d*S+u*N+h*z+p*F,r[5]=d*D+u*C+h*q+p*Y,r[9]=d*L+u*R+h*O+p*K,r[13]=d*H+u*X+h*B+p*ce,r[2]=f*S+g*N+m*z+_*F,r[6]=f*D+g*C+m*q+_*Y,r[10]=f*L+g*R+m*O+_*K,r[14]=f*H+g*X+m*B+_*ce,r[3]=v*S+y*N+b*z+w*F,r[7]=v*D+y*C+b*q+w*Y,r[11]=v*L+y*R+b*O+w*K,r[15]=v*H+y*X+b*B+w*ce,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],s=t[8],r=t[12],a=t[1],o=t[5],l=t[9],c=t[13],d=t[2],u=t[6],h=t[10],p=t[14];return t[3]*(+r*l*u-s*c*u-r*o*h+n*c*h+s*o*p-n*l*p)+t[7]*(+e*l*p-e*c*h+r*a*h-s*a*p+s*c*d-r*l*d)+t[11]*(+e*c*u-e*o*p-r*a*u+n*a*p+r*o*d-n*c*d)+t[15]*(-s*o*d-e*l*u+e*o*h+s*a*u-n*a*h+n*l*d)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],s=t[2],r=t[3],a=t[4],o=t[5],l=t[6],c=t[7],d=t[8],u=t[9],h=t[10],p=t[11],f=t[12],g=t[13],m=t[14],_=t[15],v=u*m*c-g*h*c+g*l*p-o*m*p-u*l*_+o*h*_,y=f*h*c-d*m*c-f*l*p+a*m*p+d*l*_-a*h*_,b=d*g*c-f*u*c+f*o*p-a*g*p-d*o*_+a*u*_,w=f*u*l-d*g*l-f*o*h+a*g*h+d*o*m-a*u*m,S=e*v+n*y+s*b+r*w;if(0===S)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/S;return t[0]=v*D,t[1]=(g*h*r-u*m*r-g*s*p+n*m*p+u*s*_-n*h*_)*D,t[2]=(o*m*r-g*l*r+g*s*c-n*m*c-o*s*_+n*l*_)*D,t[3]=(u*l*r-o*h*r-u*s*c+n*h*c+o*s*p-n*l*p)*D,t[4]=y*D,t[5]=(d*m*r-f*h*r+f*s*p-e*m*p-d*s*_+e*h*_)*D,t[6]=(f*l*r-a*m*r-f*s*c+e*m*c+a*s*_-e*l*_)*D,t[7]=(a*h*r-d*l*r+d*s*c-e*h*c-a*s*p+e*l*p)*D,t[8]=b*D,t[9]=(f*u*r-d*g*r-f*n*p+e*g*p+d*n*_-e*u*_)*D,t[10]=(a*g*r-f*o*r+f*n*c-e*g*c-a*n*_+e*o*_)*D,t[11]=(d*o*r-a*u*r-d*n*c+e*u*c+a*n*p-e*o*p)*D,t[12]=w*D,t[13]=(d*g*s-f*u*s+f*n*h-e*g*h-d*n*m+e*u*m)*D,t[14]=(f*o*s-a*g*s-f*n*l+e*g*l+a*n*m-e*o*m)*D,t[15]=(a*u*s-d*o*s+d*n*l-e*u*l-a*n*h+e*o*h)*D,this}scale(t){const e=this.elements,n=t.x,s=t.y,r=t.z;return e[0]*=n,e[4]*=s,e[8]*=r,e[1]*=n,e[5]*=s,e[9]*=r,e[2]*=n,e[6]*=s,e[10]*=r,e[3]*=n,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),s=Math.sin(e),r=1-n,a=t.x,o=t.y,l=t.z,c=r*a,d=r*o;return this.set(c*a+n,c*o-s*l,c*l+s*o,0,c*o+s*l,d*o+n,d*l-s*a,0,c*l-s*o,d*l+s*a,r*l*l+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,s,r,a){return this.set(1,n,r,0,t,1,a,0,e,s,1,0,0,0,0,1),this}compose(t,e,n){const s=this.elements,r=e._x,a=e._y,o=e._z,l=e._w,c=r+r,d=a+a,u=o+o,h=r*c,p=r*d,f=r*u,g=a*d,m=a*u,_=o*u,v=l*c,y=l*d,b=l*u,w=n.x,S=n.y,D=n.z;return s[0]=(1-(g+_))*w,s[1]=(p+b)*w,s[2]=(f-y)*w,s[3]=0,s[4]=(p-b)*S,s[5]=(1-(h+_))*S,s[6]=(m+v)*S,s[7]=0,s[8]=(f+y)*D,s[9]=(m-v)*D,s[10]=(1-(h+g))*D,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,n){const s=this.elements;let r=_u.set(s[0],s[1],s[2]).length();const a=_u.set(s[4],s[5],s[6]).length(),o=_u.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],jr.copy(this);const c=1/r,d=1/a,u=1/o;return jr.elements[0]*=c,jr.elements[1]*=c,jr.elements[2]*=c,jr.elements[4]*=d,jr.elements[5]*=d,jr.elements[6]*=d,jr.elements[8]*=u,jr.elements[9]*=u,jr.elements[10]*=u,e.setFromRotationMatrix(jr),n.x=r,n.y=a,n.z=o,this}makePerspective(t,e,n,s,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,c=2*r/(n-s),d=(e+t)/(e-t),u=(n+s)/(n-s),h=-(a+r)/(a-r),p=-2*a*r/(a-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=d,o[12]=0,o[1]=0,o[5]=c,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,n,s,r,a){const o=this.elements,l=1/(e-t),c=1/(n-s),d=1/(a-r),u=(e+t)*l,h=(n+s)*c,p=(a+r)*d;return o[0]=2*l,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*d,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let s=0;s<16;s++)if(e[s]!==n[s])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}nt.prototype.isMatrix4=!0;const _u=new M,jr=new nt,$ee=new M(0,0,0),Yee=new M(1,1,1),rl=new M,I_=new M,Ys=new M,JO=new nt,e2=new Rn;class uc{constructor(t=0,e=0,n=0,s=uc.DefaultOrder){this._x=t,this._y=e,this._z=n,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,n,s=this._order){return this._x=t,this._y=e,this._z=n,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,n=!0){const s=t.elements,r=s[0],a=s[4],o=s[8],l=s[1],c=s[5],d=s[9],u=s[2],h=s[6],p=s[10];switch(e){case"XYZ":this._y=Math.asin(rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(rn(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-rn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-rn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}setFromQuaternion(t,e,n){return JO.makeRotationFromQuaternion(t),this.setFromRotationMatrix(JO,e,n)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return e2.setFromEuler(this),this.setFromQuaternion(e2,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}uc.prototype.isEuler=!0,uc.DefaultOrder="XYZ",uc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class zC{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let qee=0;const t2=new M,vu=new Rn,so=new nt,L_=new M,$p=new M,Xee=new M,Qee=new Rn,n2=new M(1,0,0),s2=new M(0,1,0),r2=new M(0,0,1),Kee={type:"added"},a2={type:"removed"};class ci extends el{constructor(){super(),Object.defineProperty(this,"id",{value:qee++}),this.uuid=Ws(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ci.DefaultUp.clone();const t=new M,e=new uc,n=new Rn,s=new M(1,1,1);e._onChange(function r(){n.setFromEuler(e,!1)}),n._onChange(function a(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new nt},normalMatrix:{value:new Bn}}),this.matrix=new nt,this.matrixWorld=new nt,this.matrixAutoUpdate=ci.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new zC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return vu.setFromAxisAngle(t,e),this.quaternion.multiply(vu),this}rotateOnWorldAxis(t,e){return vu.setFromAxisAngle(t,e),this.quaternion.premultiply(vu),this}rotateX(t){return this.rotateOnAxis(n2,t)}rotateY(t){return this.rotateOnAxis(s2,t)}rotateZ(t){return this.rotateOnAxis(r2,t)}translateOnAxis(t,e){return t2.copy(t).applyQuaternion(this.quaternion),this.position.add(t2.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(n2,t)}translateY(t){return this.translateOnAxis(s2,t)}translateZ(t){return this.translateOnAxis(r2,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(so.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?L_.copy(t):L_.set(t,e,n);const s=this.parent;this.updateWorldMatrix(!0,!1),$p.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?so.lookAt($p,L_,this.up):so.lookAt(L_,$p,this.up),this.quaternion.setFromRotationMatrix(so),s&&(so.extractRotation(s.matrixWorld),vu.setFromRotationMatrix(so),this.quaternion.premultiply(vu.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Kee)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(a2)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(a2)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),so.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),so.multiply(t.parent.matrixWorld)),t.applyMatrix4(so),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,s=this.children.length;n<s;n++){const a=this.children[n].getObjectByProperty(t,e);if(void 0!==a)return a}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($p,t,Xee),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($p,Qee,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,s=e.length;n<s;n++)e[n].updateMatrixWorld(t)}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const s=this.children;for(let r=0,a=s.length;r<a;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function r(o,l){return void 0===o[l.uuid]&&(o[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){const l=o.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++)r(t.shapes,l[c]);else r(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(r(t.materials,this.material[l]));s.material=o}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let o=0;o<this.children.length;o++)s.children.push(this.children[o].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let o=0;o<this.animations.length;o++)s.animations.push(r(t.animations,this.animations[o]))}if(e){const o=a(t.geometries),l=a(t.materials),c=a(t.textures),d=a(t.images),u=a(t.shapes),h=a(t.skeletons),p=a(t.animations),f=a(t.nodes);o.length>0&&(n.geometries=o),l.length>0&&(n.materials=l),c.length>0&&(n.textures=c),d.length>0&&(n.images=d),u.length>0&&(n.shapes=u),h.length>0&&(n.skeletons=h),p.length>0&&(n.animations=p),f.length>0&&(n.nodes=f)}return n.object=s,n;function a(o){const l=[];for(const c in o){const d=o[c];delete d.metadata,l.push(d)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}ci.DefaultUp=new M(0,1,0),ci.DefaultMatrixAutoUpdate=!0,ci.prototype.isObject3D=!0;const $r=new M,ro=new M,GC=new M,ao=new M,yu=new M,xu=new M,o2=new M,UC=new M,WC=new M,jC=new M;class gn{constructor(t=new M,e=new M,n=new M){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,s){s.subVectors(n,e),$r.subVectors(t,e),s.cross($r);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,n,s,r){$r.subVectors(s,e),ro.subVectors(n,e),GC.subVectors(t,e);const a=$r.dot($r),o=$r.dot(ro),l=$r.dot(GC),c=ro.dot(ro),d=ro.dot(GC),u=a*c-o*o;if(0===u)return r.set(-2,-1,-1);const h=1/u,p=(c*l-o*d)*h,f=(a*d-o*l)*h;return r.set(1-p-f,f,p)}static containsPoint(t,e,n,s){return this.getBarycoord(t,e,n,s,ao),ao.x>=0&&ao.y>=0&&ao.x+ao.y<=1}static getUV(t,e,n,s,r,a,o,l){return this.getBarycoord(t,e,n,s,ao),l.set(0,0),l.addScaledVector(r,ao.x),l.addScaledVector(a,ao.y),l.addScaledVector(o,ao.z),l}static isFrontFacing(t,e,n,s){return $r.subVectors(n,e),ro.subVectors(t,e),$r.cross(ro).dot(s)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,s){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,n,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return $r.subVectors(this.c,this.b),ro.subVectors(this.a,this.b),.5*$r.cross(ro).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return gn.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return gn.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,n,s,r){return gn.getUV(t,this.a,this.b,this.c,e,n,s,r)}containsPoint(t){return gn.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return gn.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,s=this.b,r=this.c;let a,o;yu.subVectors(s,n),xu.subVectors(r,n),UC.subVectors(t,n);const l=yu.dot(UC),c=xu.dot(UC);if(l<=0&&c<=0)return e.copy(n);WC.subVectors(t,s);const d=yu.dot(WC),u=xu.dot(WC);if(d>=0&&u<=d)return e.copy(s);const h=l*u-d*c;if(h<=0&&l>=0&&d<=0)return a=l/(l-d),e.copy(n).addScaledVector(yu,a);jC.subVectors(t,r);const p=yu.dot(jC),f=xu.dot(jC);if(f>=0&&p<=f)return e.copy(r);const g=p*c-l*f;if(g<=0&&c>=0&&f<=0)return o=c/(c-f),e.copy(n).addScaledVector(xu,o);const m=d*f-p*u;if(m<=0&&u-d>=0&&p-f>=0)return o2.subVectors(r,s),o=(u-d)/(u-d+(p-f)),e.copy(s).addScaledVector(o2,o);const _=1/(m+g+h);return a=g*_,o=h*_,e.copy(n).addScaledVector(yu,a).addScaledVector(xu,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Zee=0;class Ui extends el{constructor(){super(),Object.defineProperty(this,"id",{value:Zee++}),this.uuid=Ws(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(n):s&&s.isVector3&&n&&n.isVector3?s.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(r){const a=[];for(const o in r){const l=r[o];delete l.metadata,a.push(l)}return a}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){const r=s(t.textures),a=s(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const s=e.length;n=new Array(s);for(let r=0;r!==s;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}Ui.prototype.isMaterial=!0,Ui.fromType=function(){return null};class qs extends Ui{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}qs.prototype.isMeshBasicMaterial=!0;const _n=new M,P_=new le;class _i{constructor(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[n+s];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),a=new Re),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this}copyVector2sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),a=new le),e[n++]=a.x,e[n++]=a.y}return this}copyVector3sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),a=new M),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this}copyVector4sArray(t){const e=this.array;let n=0;for(let s=0,r=t.length;s<r;s++){let a=t[s];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),a=new pi),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)P_.fromBufferAttribute(this,e),P_.applyMatrix3(t),this.setXY(e,P_.x,P_.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)_n.fromBufferAttribute(this,e),_n.applyMatrix3(t),this.setXYZ(e,_n.x,_n.y,_n.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)_n.fromBufferAttribute(this,e),_n.applyMatrix4(t),this.setXYZ(e,_n.x,_n.y,_n.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)_n.fromBufferAttribute(this,e),_n.applyNormalMatrix(t),this.setXYZ(e,_n.x,_n.y,_n.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)_n.fromBufferAttribute(this,e),_n.transformDirection(t),this.setXYZ(e,_n.x,_n.y,_n.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this}setXYZ(t,e,n,s){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=s,this}setXYZW(t,e,n,s,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Hp&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}_i.prototype.isBufferAttribute=!0;class l2 extends _i{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class c2 extends _i{constructor(t,e,n){super(new Uint32Array(t),e,n)}}(class Jee extends _i{constructor(t,e,n){super(new Uint16Array(t),e,n)}}).prototype.isFloat16BufferAttribute=!0;class rt extends _i{constructor(t,e,n){super(new Float32Array(t),e,n)}}let ete=0;const mr=new nt,$C=new ci,bu=new M,Xs=new $s,Yp=new $s,Vn=new M;class yt extends el{constructor(){super(),Object.defineProperty(this,"id",{value:ete++}),this.uuid=Ws(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(XO(t)?c2:l2)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const r=(new Bn).getNormalMatrix(t);n.applyNormalMatrix(r),n.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return mr.makeRotationFromQuaternion(t),this.applyMatrix4(mr),this}rotateX(t){return mr.makeRotationX(t),this.applyMatrix4(mr),this}rotateY(t){return mr.makeRotationY(t),this.applyMatrix4(mr),this}rotateZ(t){return mr.makeRotationZ(t),this.applyMatrix4(mr),this}translate(t,e,n){return mr.makeTranslation(t,e,n),this.applyMatrix4(mr),this}scale(t,e,n){return mr.makeScale(t,e,n),this.applyMatrix4(mr),this}lookAt(t){return $C.lookAt(t),$C.updateMatrix(),this.applyMatrix4($C.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bu).negate(),this.translate(bu.x,bu.y,bu.z),this}setFromPoints(t){const e=[];for(let n=0,s=t.length;n<s;n++){const r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new rt(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new $s);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new M(-1/0,-1/0,-1/0),new M(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let n=0,s=e.length;n<s;n++)Xs.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(Vn.addVectors(this.boundingBox.min,Xs.min),this.boundingBox.expandByPoint(Vn),Vn.addVectors(this.boundingBox.max,Xs.max),this.boundingBox.expandByPoint(Vn)):(this.boundingBox.expandByPoint(Xs.min),this.boundingBox.expandByPoint(Xs.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new nl);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new M,1/0);if(t){const n=this.boundingSphere.center;if(Xs.setFromBufferAttribute(t),e)for(let r=0,a=e.length;r<a;r++)Yp.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(Vn.addVectors(Xs.min,Yp.min),Xs.expandByPoint(Vn),Vn.addVectors(Xs.max,Yp.max),Xs.expandByPoint(Vn)):(Xs.expandByPoint(Yp.min),Xs.expandByPoint(Yp.max));Xs.getCenter(n);let s=0;for(let r=0,a=t.count;r<a;r++)Vn.fromBufferAttribute(t,r),s=Math.max(s,n.distanceToSquared(Vn));if(e)for(let r=0,a=e.length;r<a;r++){const o=e[r],l=this.morphTargetsRelative;for(let c=0,d=o.count;c<d;c++)Vn.fromBufferAttribute(o,c),l&&(bu.fromBufferAttribute(t,c),Vn.add(bu)),s=Math.max(s,n.distanceToSquared(Vn))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const n=t.array,s=e.position.array,r=e.normal.array,a=e.uv.array,o=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new _i(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let N=0;N<o;N++)c[N]=new M,d[N]=new M;const u=new M,h=new M,p=new M,f=new le,g=new le,m=new le,_=new M,v=new M;function y(N,C,R){u.fromArray(s,3*N),h.fromArray(s,3*C),p.fromArray(s,3*R),f.fromArray(a,2*N),g.fromArray(a,2*C),m.fromArray(a,2*R),h.sub(u),p.sub(u),g.sub(f),m.sub(f);const X=1/(g.x*m.y-m.x*g.y);!isFinite(X)||(_.copy(h).multiplyScalar(m.y).addScaledVector(p,-g.y).multiplyScalar(X),v.copy(p).multiplyScalar(g.x).addScaledVector(h,-m.x).multiplyScalar(X),c[N].add(_),c[C].add(_),c[R].add(_),d[N].add(v),d[C].add(v),d[R].add(v))}let b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(let N=0,C=b.length;N<C;++N){const R=b[N],X=R.start;for(let q=X,O=X+R.count;q<O;q+=3)y(n[q+0],n[q+1],n[q+2])}const w=new M,S=new M,D=new M,L=new M;function H(N){D.fromArray(r,3*N),L.copy(D);const C=c[N];w.copy(C),w.sub(D.multiplyScalar(D.dot(C))).normalize(),S.crossVectors(L,C);const X=S.dot(d[N])<0?-1:1;l[4*N]=w.x,l[4*N+1]=w.y,l[4*N+2]=w.z,l[4*N+3]=X}for(let N=0,C=b.length;N<C;++N){const R=b[N],X=R.start;for(let q=X,O=X+R.count;q<O;q+=3)H(n[q+0]),H(n[q+1]),H(n[q+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new _i(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let h=0,p=n.count;h<p;h++)n.setXYZ(h,0,0,0);const s=new M,r=new M,a=new M,o=new M,l=new M,c=new M,d=new M,u=new M;if(t)for(let h=0,p=t.count;h<p;h+=3){const f=t.getX(h+0),g=t.getX(h+1),m=t.getX(h+2);s.fromBufferAttribute(e,f),r.fromBufferAttribute(e,g),a.fromBufferAttribute(e,m),d.subVectors(a,r),u.subVectors(s,r),d.cross(u),o.fromBufferAttribute(n,f),l.fromBufferAttribute(n,g),c.fromBufferAttribute(n,m),o.add(d),l.add(d),c.add(d),n.setXYZ(f,o.x,o.y,o.z),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,p=e.count;h<p;h+=3)s.fromBufferAttribute(e,h+0),r.fromBufferAttribute(e,h+1),a.fromBufferAttribute(e,h+2),d.subVectors(a,r),u.subVectors(s,r),d.cross(u),n.setXYZ(h+0,d.x,d.y,d.z),n.setXYZ(h+1,d.x,d.y,d.z),n.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),n.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const s in n){if(void 0===t.attributes[s])continue;const a=n[s].array,o=t.attributes[s],l=o.array,c=o.itemSize*e,d=Math.min(l.length,a.length-c);for(let u=0,h=c;u<d;u++,h++)a[h]=l[u]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)Vn.fromBufferAttribute(t,e),Vn.normalize(),t.setXYZ(e,Vn.x,Vn.y,Vn.z)}toNonIndexed(){function t(o,l){const c=o.array,d=o.itemSize,u=o.normalized,h=new c.constructor(l.length*d);let p=0,f=0;for(let g=0,m=l.length;g<m;g++){p=o.isInterleavedBufferAttribute?l[g]*o.data.stride+o.offset:l[g]*d;for(let _=0;_<d;_++)h[f++]=c[p++]}return new _i(h,d,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new yt,n=this.index.array,s=this.attributes;for(const o in s){const c=t(s[o],n);e.setAttribute(o,c)}const r=this.morphAttributes;for(const o in r){const l=[],c=r[o];for(let d=0,u=c.length;d<u;d++){const p=t(c[d],n);l.push(p)}e.morphAttributes[o]=l}e.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const l in n)t.data.attributes[l]=n[l].toJSON(t.data);const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,h=c.length;u<h;u++)d.push(c[u].toJSON(t.data));d.length>0&&(s[l]=d,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(t.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone(e));const s=t.attributes;for(const c in s)this.setAttribute(c,s[c].clone(e));const r=t.morphAttributes;for(const c in r){const d=[],u=r[c];for(let h=0,p=u.length;h<p;h++)d.push(u[h].clone(e));this.morphAttributes[c]=d}this.morphTargetsRelative=t.morphTargetsRelative;const a=t.groups;for(let c=0,d=a.length;c<d;c++){const u=a[c];this.addGroup(u.start,u.count,u.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}yt.prototype.isBufferGeometry=!0;const d2=new nt,wu=new dc,YC=new nl,al=new M,ol=new M,ll=new M,qC=new M,XC=new M,QC=new M,F_=new M,O_=new M,N_=new M,B_=new le,V_=new le,H_=new le,KC=new M,z_=new M;class In extends ci{constructor(t=new yt,e=new qs){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const n=this.geometry,s=this.material,r=this.matrixWorld;if(void 0===s||(null===n.boundingSphere&&n.computeBoundingSphere(),YC.copy(n.boundingSphere),YC.applyMatrix4(r),!1===t.ray.intersectsSphere(YC))||(d2.copy(r).invert(),wu.copy(t.ray).applyMatrix4(d2),null!==n.boundingBox&&!1===wu.intersectsBox(n.boundingBox)))return;let a;if(n.isBufferGeometry){const o=n.index,l=n.attributes.position,c=n.morphAttributes.position,d=n.morphTargetsRelative,u=n.attributes.uv,h=n.attributes.uv2,p=n.groups,f=n.drawRange;if(null!==o)if(Array.isArray(s))for(let g=0,m=p.length;g<m;g++){const _=p[g],v=s[_.materialIndex];for(let w=Math.max(_.start,f.start),S=Math.min(o.count,Math.min(_.start+_.count,f.start+f.count));w<S;w+=3){const D=o.getX(w),L=o.getX(w+1),H=o.getX(w+2);a=G_(this,v,t,wu,l,c,d,u,h,D,L,H),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=_.materialIndex,e.push(a))}}else for(let _=Math.max(0,f.start),v=Math.min(o.count,f.start+f.count);_<v;_+=3){const y=o.getX(_),b=o.getX(_+1),w=o.getX(_+2);a=G_(this,s,t,wu,l,c,d,u,h,y,b,w),a&&(a.faceIndex=Math.floor(_/3),e.push(a))}else if(void 0!==l)if(Array.isArray(s))for(let g=0,m=p.length;g<m;g++){const _=p[g],v=s[_.materialIndex];for(let w=Math.max(_.start,f.start),S=Math.min(l.count,Math.min(_.start+_.count,f.start+f.count));w<S;w+=3)a=G_(this,v,t,wu,l,c,d,u,h,w,w+1,w+2),a&&(a.faceIndex=Math.floor(w/3),a.face.materialIndex=_.materialIndex,e.push(a))}else for(let _=Math.max(0,f.start),v=Math.min(l.count,f.start+f.count);_<v;_+=3)a=G_(this,s,t,wu,l,c,d,u,h,_,_+1,_+2),a&&(a.faceIndex=Math.floor(_/3),e.push(a))}else n.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function G_(i,t,e,n,s,r,a,o,l,c,d,u){al.fromBufferAttribute(s,c),ol.fromBufferAttribute(s,d),ll.fromBufferAttribute(s,u);const h=i.morphTargetInfluences;if(r&&h){F_.set(0,0,0),O_.set(0,0,0),N_.set(0,0,0);for(let f=0,g=r.length;f<g;f++){const m=h[f],_=r[f];0!==m&&(qC.fromBufferAttribute(_,c),XC.fromBufferAttribute(_,d),QC.fromBufferAttribute(_,u),a?(F_.addScaledVector(qC,m),O_.addScaledVector(XC,m),N_.addScaledVector(QC,m)):(F_.addScaledVector(qC.sub(al),m),O_.addScaledVector(XC.sub(ol),m),N_.addScaledVector(QC.sub(ll),m)))}al.add(F_),ol.add(O_),ll.add(N_)}i.isSkinnedMesh&&(i.boneTransform(c,al),i.boneTransform(d,ol),i.boneTransform(u,ll));const p=function tte(i,t,e,n,s,r,a,o){let l;if(l=1===t.side?n.intersectTriangle(a,r,s,!0,o):n.intersectTriangle(s,r,a,2!==t.side,o),null===l)return null;z_.copy(o),z_.applyMatrix4(i.matrixWorld);const c=e.ray.origin.distanceTo(z_);return c<e.near||c>e.far?null:{distance:c,point:z_.clone(),object:i}}(i,t,e,n,al,ol,ll,KC);if(p){o&&(B_.fromBufferAttribute(o,c),V_.fromBufferAttribute(o,d),H_.fromBufferAttribute(o,u),p.uv=gn.getUV(KC,al,ol,ll,B_,V_,H_,new le)),l&&(B_.fromBufferAttribute(l,c),V_.fromBufferAttribute(l,d),H_.fromBufferAttribute(l,u),p.uv2=gn.getUV(KC,al,ol,ll,B_,V_,H_,new le));const f={a:c,b:d,c:u,normal:new M,materialIndex:0};gn.getNormal(al,ol,ll,f.normal),p.face=f}return p}In.prototype.isMesh=!0;class hc extends yt{constructor(t=1,e=1,n=1,s=1,r=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:s,heightSegments:r,depthSegments:a};const o=this;s=Math.floor(s),r=Math.floor(r),a=Math.floor(a);const l=[],c=[],d=[],u=[];let h=0,p=0;function f(g,m,_,v,y,b,w,S,D,L,H){const N=b/D,C=w/L,R=b/2,X=w/2,z=S/2,q=D+1,O=L+1;let B=0,F=0;const Y=new M;for(let K=0;K<O;K++){const ce=K*C-X;for(let ee=0;ee<q;ee++)Y[g]=(ee*N-R)*v,Y[m]=ce*y,Y[_]=z,c.push(Y.x,Y.y,Y.z),Y[g]=0,Y[m]=0,Y[_]=S>0?1:-1,d.push(Y.x,Y.y,Y.z),u.push(ee/D),u.push(1-K/L),B+=1}for(let K=0;K<L;K++)for(let ce=0;ce<D;ce++){const Ke=h+ce+q*(K+1),Ye=h+(ce+1)+q*(K+1),ot=h+(ce+1)+q*K;l.push(h+ce+q*K,Ke,ot),l.push(Ke,Ye,ot),F+=6}o.addGroup(p,F,H),p+=F,h+=B}f("z","y","x",-1,-1,n,e,t,a,r,0),f("z","y","x",1,-1,n,e,-t,a,r,1),f("x","z","y",1,1,t,n,e,s,a,2),f("x","z","y",1,-1,t,n,-e,s,a,3),f("x","y","z",1,-1,t,e,n,s,r,4),f("x","y","z",-1,-1,t,e,-n,s,r,5),this.setIndex(l),this.setAttribute("position",new rt(c,3)),this.setAttribute("normal",new rt(d,3)),this.setAttribute("uv",new rt(u,2))}static fromJSON(t){return new hc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Cu(i){const t={};for(const e in i){t[e]={};for(const n in i[e]){const s=i[e][n];t[e][n]=s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.clone():Array.isArray(s)?s.slice():s}}return t}function ss(i){const t={};for(let e=0;e<i.length;e++){const n=Cu(i[e]);for(const s in n)t[s]=n[s]}return t}const ite={clone:Cu,merge:ss};class Yr extends Ui{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Cu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const a=this.uniforms[s].value;e.uniforms[s]=a&&a.isTexture?{type:"t",value:a.toJSON(t).uuid}:a&&a.isColor?{type:"c",value:a.getHex()}:a&&a.isVector2?{type:"v2",value:a.toArray()}:a&&a.isVector3?{type:"v3",value:a.toArray()}:a&&a.isVector4?{type:"v4",value:a.toArray()}:a&&a.isMatrix3?{type:"m3",value:a.toArray()}:a&&a.isMatrix4?{type:"m4",value:a.toArray()}:{value:a}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const n={};for(const s in this.extensions)!0===this.extensions[s]&&(n[s]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}Yr.prototype.isShaderMaterial=!0;class U_ extends ci{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new nt,this.projectionMatrix=new nt,this.projectionMatrixInverse=new nt}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}U_.prototype.isCamera=!0;class Ln extends U_{constructor(t=50,e=1,n=.1,s=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Gp*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*sc*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Gp*Math.atan(Math.tan(.5*sc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,n,s,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*sc*this.fov)/this.zoom,n=2*e,s=this.aspect*n,r=-.5*s;const a=this.view;if(null!==this.view&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;r+=a.offsetX*s/l,e-=a.offsetY*n/c,s*=a.width/l,n*=a.height/c}const o=this.filmOffset;0!==o&&(r+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}Ln.prototype.isPerspectiveCamera=!0;class ZC extends ci{constructor(t,e,n){if(super(),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const s=new Ln(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new M(1,0,0)),this.add(s);const r=new Ln(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new M(-1,0,0)),this.add(r);const a=new Ln(90,1,t,e);a.layers=this.layers,a.up.set(0,0,1),a.lookAt(new M(0,1,0)),this.add(a);const o=new Ln(90,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new M(0,-1,0)),this.add(o);const l=new Ln(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new M(0,0,1)),this.add(l);const c=new Ln(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new M(0,0,-1)),this.add(c)}update(t,e){null===this.parent&&this.updateMatrixWorld();const n=this.renderTarget,[s,r,a,o,l,c]=this.children,d=t.getRenderTarget(),u=t.outputEncoding,h=t.toneMapping,p=t.xr.enabled;t.outputEncoding=Gr,t.toneMapping=0,t.xr.enabled=!1;const f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,s),t.setRenderTarget(n,1),t.render(e,r),t.setRenderTarget(n,2),t.render(e,a),t.setRenderTarget(n,3),t.render(e,o),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=f,t.setRenderTarget(n,5),t.render(e,c),t.setRenderTarget(d),t.outputEncoding=u,t.toneMapping=h,t.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}class qp extends ns{constructor(t,e,n,s,r,a,o,l,c,d){super(t=void 0!==t?t:[],e=void 0!==e?e:301,n,s,r,a,o,l,c,d),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}qp.prototype.isCubeTexture=!0;class u2 extends js{constructor(t,e={}){super(t,t,e);const n={width:t,height:t,depth:1};this.texture=new qp([n,n,n,n,n,n],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Ti}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n_uniforms={tEquirect:{value:null}},n_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",n_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new hc(5,5,5),r=new Yr({name:"CubemapFromEquirect",uniforms:Cu(n_uniforms),vertexShader:n_vertexShader,fragmentShader:n_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const a=new In(s,r),o=e.minFilter;return e.minFilter===Jo&&(e.minFilter=Ti),new ZC(1,10,this).update(t,a),e.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(t,e,n,s){const r=t.getRenderTarget();for(let a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,s);t.setRenderTarget(r)}}u2.prototype.isWebGLCubeRenderTarget=!0;const JC=new M,rte=new M,ate=new Bn;class oo{constructor(t=new M(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,s){return this.normal.set(t,e,n),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const s=JC.subVectors(n,e).cross(rte.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const n=t.delta(JC),s=this.normal.dot(n);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||ate.getNormalMatrix(t),s=this.coplanarPoint(JC).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}oo.prototype.isPlane=!0;const Tu=new nl,W_=new M;class j_{constructor(t=new oo,e=new oo,n=new oo,s=new oo,r=new oo,a=new oo){this.planes=[t,e,n,s,r,a]}set(t,e,n,s,r,a){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(s),o[4].copy(r),o[5].copy(a),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t){const e=this.planes,n=t.elements,s=n[0],r=n[1],a=n[2],o=n[3],l=n[4],c=n[5],d=n[6],u=n[7],h=n[8],p=n[9],f=n[10],g=n[11],m=n[12],_=n[13],v=n[14],y=n[15];return e[0].setComponents(o-s,u-l,g-h,y-m).normalize(),e[1].setComponents(o+s,u+l,g+h,y+m).normalize(),e[2].setComponents(o+r,u+c,g+p,y+_).normalize(),e[3].setComponents(o-r,u-c,g-p,y-_).normalize(),e[4].setComponents(o-a,u-d,g-f,y-v).normalize(),e[5].setComponents(o+a,u+d,g+f,y+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Tu.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Tu)}intersectsSprite(t){return Tu.center.set(0,0,0),Tu.radius=.7071067811865476,Tu.applyMatrix4(t.matrixWorld),this.intersectsSphere(Tu)}intersectsSphere(t){const e=this.planes,n=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(n)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const s=e[n];if(W_.x=s.normal.x>0?t.max.x:t.min.x,W_.y=s.normal.y>0?t.max.y:t.min.y,W_.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(W_)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function h2(){let i=null,t=!1,e=null,n=null;function s(r,a){e(r,a),n=i.requestAnimationFrame(s)}return{start:function(){!0!==t&&null!==e&&(n=i.requestAnimationFrame(s),t=!0)},stop:function(){i.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){i=r}}}function ote(i,t){const e=t.isWebGL2,n=new WeakMap;return{get:function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),n.get(c)},remove:function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=n.get(c);d&&(i.deleteBuffer(d.buffer),n.delete(c))},update:function l(c,d){if(c.isGLBufferAttribute){const h=n.get(c);return void((!h||h.version<c.version)&&n.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const u=n.get(c);void 0===u?n.set(c,function s(c,d){const u=c.array,h=c.usage,p=i.createBuffer();let f;if(i.bindBuffer(d,p),i.bufferData(d,u,h),c.onUploadCallback(),u instanceof Float32Array)f=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");f=5131}else f=5123;else if(u instanceof Int16Array)f=5122;else if(u instanceof Uint32Array)f=5125;else if(u instanceof Int32Array)f=5124;else if(u instanceof Int8Array)f=5120;else if(u instanceof Uint8Array)f=5121;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);f=5121}return{buffer:p,type:f,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}(c,d)):u.version<c.version&&(function r(c,d,u){const h=d.array,p=d.updateRange;i.bindBuffer(u,c),-1===p.count?i.bufferSubData(u,0,h):(e?i.bufferSubData(u,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):i.bufferSubData(u,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1)}(u.buffer,c,d),u.version=c.version)}}}class Xp extends yt{constructor(t=1,e=1,n=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:s};const r=t/2,a=e/2,o=Math.floor(n),l=Math.floor(s),c=o+1,d=l+1,u=t/o,h=e/l,p=[],f=[],g=[],m=[];for(let _=0;_<d;_++){const v=_*h-a;for(let y=0;y<c;y++)f.push(y*u-r,-v,0),g.push(0,0,1),m.push(y/o),m.push(1-_/l)}for(let _=0;_<l;_++)for(let v=0;v<o;v++){const b=v+c*(_+1),w=v+1+c*(_+1),S=v+1+c*_;p.push(v+c*_,b,S),p.push(b,w,S)}this.setIndex(p),this.setAttribute("position",new rt(f,3)),this.setAttribute("normal",new rt(g,3)),this.setAttribute("uv",new rt(m,2))}static fromJSON(t){return new Xp(t.width,t.height,t.widthSegments,t.heightSegments)}}const qt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Ge={common:{diffuse:{value:new Re(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Bn},uv2Transform:{value:new Bn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new le(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Re(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Re(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bn}},sprite:{diffuse:{value:new Re(16777215)},opacity:{value:1},center:{value:new le(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Bn}}},wa={basic:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:qt.meshbasic_vert,fragmentShader:qt.meshbasic_frag},lambert:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)}}]),vertexShader:qt.meshlambert_vert,fragmentShader:qt.meshlambert_frag},phong:{uniforms:ss([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)},specular:{value:new Re(1118481)},shininess:{value:30}}]),vertexShader:qt.meshphong_vert,fragmentShader:qt.meshphong_frag},standard:{uniforms:ss([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:qt.meshphysical_vert,fragmentShader:qt.meshphysical_frag},toon:{uniforms:ss([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new Re(0)}}]),vertexShader:qt.meshtoon_vert,fragmentShader:qt.meshtoon_frag},matcap:{uniforms:ss([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:qt.meshmatcap_vert,fragmentShader:qt.meshmatcap_frag},points:{uniforms:ss([Ge.points,Ge.fog]),vertexShader:qt.points_vert,fragmentShader:qt.points_frag},dashed:{uniforms:ss([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:qt.linedashed_vert,fragmentShader:qt.linedashed_frag},depth:{uniforms:ss([Ge.common,Ge.displacementmap]),vertexShader:qt.depth_vert,fragmentShader:qt.depth_frag},normal:{uniforms:ss([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:qt.meshnormal_vert,fragmentShader:qt.meshnormal_frag},sprite:{uniforms:ss([Ge.sprite,Ge.fog]),vertexShader:qt.sprite_vert,fragmentShader:qt.sprite_frag},background:{uniforms:{uvTransform:{value:new Bn},t2D:{value:null}},vertexShader:qt.background_vert,fragmentShader:qt.background_frag},cube:{uniforms:ss([Ge.envmap,{opacity:{value:1}}]),vertexShader:qt.cube_vert,fragmentShader:qt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:qt.equirect_vert,fragmentShader:qt.equirect_frag},distanceRGBA:{uniforms:ss([Ge.common,Ge.displacementmap,{referencePosition:{value:new M},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:qt.distanceRGBA_vert,fragmentShader:qt.distanceRGBA_frag},shadow:{uniforms:ss([Ge.lights,Ge.fog,{color:{value:new Re(0)},opacity:{value:1}}]),vertexShader:qt.shadow_vert,fragmentShader:qt.shadow_frag}};function sne(i,t,e,n,s,r){const a=new Re(0);let l,c,o=!0===s?0:1,d=null,u=0,h=null;function f(g,m){e.buffers.color.setClear(g.r,g.g,g.b,m,r)}return{getClearColor:function(){return a},setClearColor:function(g,m=1){a.set(g),o=m,f(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(g){o=g,f(a,o)},render:function p(g,m){let _=!1,v=!0===m.isScene?m.background:null;v&&v.isTexture&&(v=t.get(v));const y=i.xr,b=y.getSession&&y.getSession();b&&"additive"===b.environmentBlendMode&&(v=null),null===v?f(a,o):v&&v.isColor&&(f(v,1),_=!0),(i.autoClear||_)&&i.clear(i.autoClearColor,i.autoClearDepth,i.autoClearStencil),v&&(v.isCubeTexture||306===v.mapping)?(void 0===c&&(c=new In(new hc(1,1,1),new Yr({name:"BackgroundCubeMaterial",uniforms:Cu(wa.cube.uniforms),vertexShader:wa.cube.vertexShader,fragmentShader:wa.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,S,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(c)),c.material.uniforms.envMap.value=v,c.material.uniforms.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,(d!==v||u!==v.version||h!==i.toneMapping)&&(c.material.needsUpdate=!0,d=v,u=v.version,h=i.toneMapping),g.unshift(c,c.geometry,c.material,0,0,null)):v&&v.isTexture&&(void 0===l&&(l=new In(new Xp(2,2),new Yr({name:"BackgroundMaterial",uniforms:Cu(wa.background.uniforms),vertexShader:wa.background.vertexShader,fragmentShader:wa.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(l)),l.material.uniforms.t2D.value=v,!0===v.matrixAutoUpdate&&v.updateMatrix(),l.material.uniforms.uvTransform.value.copy(v.matrix),(d!==v||u!==v.version||h!==i.toneMapping)&&(l.material.needsUpdate=!0,d=v,u=v.version,h=i.toneMapping),g.unshift(l,l.geometry,l.material,0,0,null))}}}function rne(i,t,e,n){const s=i.getParameter(34921),r=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||null!==r,o={},l=m(null);let c=l,d=!1;function p(z){return n.isWebGL2?i.bindVertexArray(z):r.bindVertexArrayOES(z)}function f(z){return n.isWebGL2?i.deleteVertexArray(z):r.deleteVertexArrayOES(z)}function m(z){const q=[],O=[],B=[];for(let F=0;F<s;F++)q[F]=0,O[F]=0,B[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:O,attributeDivisors:B,object:z,attributes:{},index:null}}function y(){const z=c.newAttributes;for(let q=0,O=z.length;q<O;q++)z[q]=0}function b(z){w(z,0)}function w(z,q){const B=c.enabledAttributes,F=c.attributeDivisors;c.newAttributes[z]=1,0===B[z]&&(i.enableVertexAttribArray(z),B[z]=1),F[z]!==q&&((n.isWebGL2?i:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](z,q),F[z]=q)}function S(){const z=c.newAttributes,q=c.enabledAttributes;for(let O=0,B=q.length;O<B;O++)q[O]!==z[O]&&(i.disableVertexAttribArray(O),q[O]=0)}function D(z,q,O,B,F,Y){!0!==n.isWebGL2||5124!==O&&5125!==O?i.vertexAttribPointer(z,q,O,B,F,Y):i.vertexAttribIPointer(z,q,O,F,Y)}function R(){X(),d=!0,c!==l&&(c=l,p(c.object))}function X(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function u(z,q,O,B,F){let Y=!1;if(a){const K=function g(z,q,O){const B=!0===O.wireframe;let F=o[z.id];void 0===F&&(F={},o[z.id]=F);let Y=F[q.id];void 0===Y&&(Y={},F[q.id]=Y);let K=Y[B];return void 0===K&&(K=m(function h(){return n.isWebGL2?i.createVertexArray():r.createVertexArrayOES()}()),Y[B]=K),K}(B,O,q);c!==K&&(c=K,p(c.object)),Y=function _(z,q){const O=c.attributes,B=z.attributes;let F=0;for(const Y in B){const K=O[Y],ce=B[Y];if(void 0===K||K.attribute!==ce||K.data!==ce.data)return!0;F++}return c.attributesNum!==F||c.index!==q}(B,F),Y&&function v(z,q){const O={},B=z.attributes;let F=0;for(const Y in B){const K=B[Y],ce={};ce.attribute=K,K.data&&(ce.data=K.data),O[Y]=ce,F++}c.attributes=O,c.attributesNum=F,c.index=q}(B,F)}else{const K=!0===q.wireframe;(c.geometry!==B.id||c.program!==O.id||c.wireframe!==K)&&(c.geometry=B.id,c.program=O.id,c.wireframe=K,Y=!0)}!0===z.isInstancedMesh&&(Y=!0),null!==F&&e.update(F,34963),(Y||d)&&(d=!1,function L(z,q,O,B){if(!1===n.isWebGL2&&(z.isInstancedMesh||B.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;y();const F=B.attributes,Y=O.getAttributes(),K=q.defaultAttributeValues;for(const ce in Y){const ee=Y[ce];if(ee.location>=0){let Ke=F[ce];if(void 0===Ke&&("instanceMatrix"===ce&&z.instanceMatrix&&(Ke=z.instanceMatrix),"instanceColor"===ce&&z.instanceColor&&(Ke=z.instanceColor)),void 0!==Ke){const Ye=Ke.normalized,ot=Ke.itemSize,ae=e.get(Ke);if(void 0===ae)continue;const tt=ae.buffer,ct=ae.type,oe=ae.bytesPerElement;if(Ke.isInterleavedBufferAttribute){const ie=Ke.data,Oe=ie.stride,V=Ke.offset;if(ie.isInstancedInterleavedBuffer){for(let te=0;te<ee.locationSize;te++)w(ee.location+te,ie.meshPerAttribute);!0!==z.isInstancedMesh&&void 0===B._maxInstanceCount&&(B._maxInstanceCount=ie.meshPerAttribute*ie.count)}else for(let te=0;te<ee.locationSize;te++)b(ee.location+te);i.bindBuffer(34962,tt);for(let te=0;te<ee.locationSize;te++)D(ee.location+te,ot/ee.locationSize,ct,Ye,Oe*oe,(V+ot/ee.locationSize*te)*oe)}else{if(Ke.isInstancedBufferAttribute){for(let ie=0;ie<ee.locationSize;ie++)w(ee.location+ie,Ke.meshPerAttribute);!0!==z.isInstancedMesh&&void 0===B._maxInstanceCount&&(B._maxInstanceCount=Ke.meshPerAttribute*Ke.count)}else for(let ie=0;ie<ee.locationSize;ie++)b(ee.location+ie);i.bindBuffer(34962,tt);for(let ie=0;ie<ee.locationSize;ie++)D(ee.location+ie,ot/ee.locationSize,ct,Ye,ot*oe,ot/ee.locationSize*ie*oe)}}else if(void 0!==K){const Ye=K[ce];if(void 0!==Ye)switch(Ye.length){case 2:i.vertexAttrib2fv(ee.location,Ye);break;case 3:i.vertexAttrib3fv(ee.location,Ye);break;case 4:i.vertexAttrib4fv(ee.location,Ye);break;default:i.vertexAttrib1fv(ee.location,Ye)}}}}S()}(z,q,O,B),null!==F&&i.bindBuffer(34963,e.get(F).buffer))},reset:R,resetDefaultState:X,dispose:function H(){R();for(const z in o){const q=o[z];for(const O in q){const B=q[O];for(const F in B)f(B[F].object),delete B[F];delete q[O]}delete o[z]}},releaseStatesOfGeometry:function N(z){if(void 0===o[z.id])return;const q=o[z.id];for(const O in q){const B=q[O];for(const F in B)f(B[F].object),delete B[F];delete q[O]}delete o[z.id]},releaseStatesOfProgram:function C(z){for(const q in o){const O=o[q];if(void 0===O[z.id])continue;const B=O[z.id];for(const F in B)f(B[F].object),delete B[F];delete O[z.id]}},initAttributes:y,enableAttribute:b,disableUnusedAttributes:S}}function ane(i,t,e,n){const s=n.isWebGL2;let r;this.setMode=function a(c){r=c},this.render=function o(c,d){i.drawArrays(r,c,d),e.update(d,r,1)},this.renderInstances=function l(c,d,u){if(0===u)return;let h,p;if(s)h=i,p="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[p](r,c,d,u),e.update(d,r,u)}}function one(i,t,e){let n;function r(D){if("highp"===D){if(i.getShaderPrecisionFormat(35633,36338).precision>0&&i.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";D="mediump"}return"mediump"===D&&i.getShaderPrecisionFormat(35633,36337).precision>0&&i.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const a="undefined"!=typeof WebGL2RenderingContext&&i instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&i instanceof WebGL2ComputeRenderingContext;let o=void 0!==e.precision?e.precision:"highp";const l=r(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||t.has("WEBGL_draw_buffers"),d=!0===e.logarithmicDepthBuffer,u=i.getParameter(34930),h=i.getParameter(35660),p=i.getParameter(3379),f=i.getParameter(34076),g=i.getParameter(34921),m=i.getParameter(36347),_=i.getParameter(36348),v=i.getParameter(36349),y=h>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:function s(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const D=t.get("EXT_texture_filter_anisotropic");n=i.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:f,maxAttributes:g,maxVertexUniforms:m,maxVaryings:_,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?i.getParameter(36183):0}}function lne(i){const t=this;let e=null,n=0,s=!1,r=!1;const a=new oo,o=new Bn,l={value:null,needsUpdate:!1};function c(){l.value!==e&&(l.value=e,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function d(u,h,p,f){const g=null!==u?u.length:0;let m=null;if(0!==g){if(m=l.value,!0!==f||null===m){const _=p+4*g,v=h.matrixWorldInverse;o.getNormalMatrix(v),(null===m||m.length<_)&&(m=new Float32Array(_));for(let y=0,b=p;y!==g;++y,b+=4)a.copy(u[y]).applyMatrix4(v,o),a.normal.toArray(m,b),m[b+3]=a.constant}l.value=m,l.needsUpdate=!0}return t.numPlanes=g,t.numIntersection=0,m}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h,p){const f=0!==u.length||h||0!==n||s;return s=h,e=d(u,p,0),n=u.length,f},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1,c()},this.setState=function(u,h,p){const f=u.clippingPlanes,g=u.clipIntersection,m=u.clipShadows,_=i.get(u);if(!s||null===f||0===f.length||r&&!m)r?d(null):c();else{const v=r?0:n,y=4*v;let b=_.clippingState||null;l.value=b,b=d(f,h,y,p);for(let w=0;w!==y;++w)b[w]=e[w];_.clippingState=b,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=v}}}function cne(i){let t=new WeakMap;function e(a,o){return 303===o?a.mapping=301:304===o&&(a.mapping=302),a}function s(a){const o=a.target;o.removeEventListener("dispose",s);const l=t.get(o);void 0!==l&&(t.delete(o),l.dispose())}return{get:function n(a){if(a&&a.isTexture&&!1===a.isRenderTargetTexture){const o=a.mapping;if(303===o||304===o){if(t.has(a))return e(t.get(a).texture,a.mapping);{const l=a.image;if(l&&l.height>0){const c=new u2(l.height/2);return c.fromEquirectangularTexture(i,a),t.set(a,c),a.addEventListener("dispose",s),e(c.texture,a.mapping)}return null}}}return a},dispose:function r(){t=new WeakMap}}}wa.physical={uniforms:ss([wa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new le(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Re(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new le},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Re(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Re(1,1,1)},specularColorMap:{value:null}}]),vertexShader:qt.meshphysical_vert,fragmentShader:qt.meshphysical_frag};class Qp extends U_{constructor(t=-1,e=1,n=1,s=-1,r=.1,a=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=s,this.near=r,this.far=a,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,s,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=s,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=n-t,a=n+t,o=s+e,l=s-e;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,a=r+c*this.view.width,o-=d*this.view.offsetY,l=o-d*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Qp.prototype.isOrthographicCamera=!0;const p2=[.125,.215,.35,.446,.526,.582],eS=new Qp,f2=new Re;let tS=null;const fc=(1+Math.sqrt(5))/2,Au=1/fc,m2=[new M(1,1,1),new M(-1,1,1),new M(1,1,-1),new M(-1,1,-1),new M(0,fc,Au),new M(0,fc,-Au),new M(Au,0,fc),new M(-Au,0,fc),new M(fc,Au,0),new M(-fc,Au,0)];class g2{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,n=.1,s=100){tS=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,n,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=y2(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=v2(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(tS),t.scissorTest=!1,$_(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),tS=this._renderer.getRenderTarget();const n=e||this._allocateTargets();return this._textureToCubeUV(t,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,n={magFilter:Ti,minFilter:Ti,generateMipmaps:!1,type:ba,format:fr,encoding:Gr,depthBuffer:!1},s=_2(t,e,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=_2(t,e,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function dne(i){const t=[],e=[],n=[];let s=i;const r=i-4+1+p2.length;for(let a=0;a<r;a++){const o=Math.pow(2,s);e.push(o);let l=1/o;a>i-4?l=p2[a-i+4-1]:0===a&&(l=0),n.push(l);const c=1/(o-1),d=-c/2,u=1+c/2,h=[d,d,u,d,u,u,d,d,u,u,d,u],p=6,f=6,g=3,m=2,_=1,v=new Float32Array(g*f*p),y=new Float32Array(m*f*p),b=new Float32Array(_*f*p);for(let S=0;S<p;S++){const D=S%3*2/3-1,L=S>2?0:-1;v.set([D,L,0,D+2/3,L,0,D+2/3,L+1,0,D,L,0,D+2/3,L+1,0,D,L+1,0],g*f*S),y.set(h,m*f*S),b.set([S,S,S,S,S,S],_*f*S)}const w=new yt;w.setAttribute("position",new _i(v,g)),w.setAttribute("uv",new _i(y,m)),w.setAttribute("faceIndex",new _i(b,_)),t.push(w),s>4&&s--}return{lodPlanes:t,sizeLods:e,sigmas:n}}(r)),this._blurMaterial=function une(i,t,e){const n=new Float32Array(20),s=new M(0,1,0);return new Yr({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${i}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,t,e)}return s}_compileMaterial(t){const e=new In(this._lodPlanes[0],t);this._renderer.compile(e,eS)}_sceneToCubeUV(t,e,n,s){const o=new Ln(90,1,e,n),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,h=d.toneMapping;d.getClearColor(f2),d.toneMapping=0,d.autoClear=!1;const p=new qs({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),f=new In(new hc,p);let g=!1;const m=t.background;m?m.isColor&&(p.color.copy(m),t.background=null,g=!0):(p.color.copy(f2),g=!0);for(let _=0;_<6;_++){const v=_%3;0===v?(o.up.set(0,l[_],0),o.lookAt(c[_],0,0)):1===v?(o.up.set(0,0,l[_]),o.lookAt(0,c[_],0)):(o.up.set(0,l[_],0),o.lookAt(0,0,c[_]));const y=this._cubeSize;$_(s,v*y,_>2?y:0,y,y),d.setRenderTarget(s),g&&d.render(f,o),d.render(t,o)}f.geometry.dispose(),f.material.dispose(),d.toneMapping=h,d.autoClear=u,t.background=m}_textureToCubeUV(t,e){const n=this._renderer,s=301===t.mapping||302===t.mapping;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=y2()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=v2());const r=s?this._cubemapMaterial:this._equirectMaterial,a=new In(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const l=this._cubeSize;$_(e,0,0,3*l,2*l),n.setRenderTarget(e),n.render(a,eS)}_applyPMREM(t){const e=this._renderer,n=e.autoClear;e.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,r,m2[(s-1)%m2.length])}e.autoClear=n}_blur(t,e,n,s,r){const a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,s,"latitudinal",r),this._halfBlur(a,t,n,n,s,"longitudinal",r)}_halfBlur(t,e,n,s,r,a,o){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new In(this._lodPlanes[s],c),h=c.uniforms,p=this._sizeLods[n]-1,f=isFinite(r)?Math.PI/(2*p):2*Math.PI/39,g=r/f,m=isFinite(r)?1+Math.floor(3*g):20;m>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const _=[];let v=0;for(let D=0;D<20;++D){const L=D/g,H=Math.exp(-L*L/2);_.push(H),0===D?v+=H:D<m&&(v+=2*H)}for(let D=0;D<_.length;D++)_[D]=_[D]/v;h.envMap.value=t.texture,h.samples.value=m,h.weights.value=_,h.latitudinal.value="latitudinal"===a,o&&(h.poleAxis.value=o);const{_lodMax:y}=this;h.dTheta.value=f,h.mipInt.value=y-n;const b=this._sizeLods[s];$_(e,3*b*(s>y-4?s-y+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(e),l.render(u,eS)}}function _2(i,t,e){const n=new js(i,t,e);return n.texture.mapping=306,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function $_(i,t,e,n,s){i.viewport.set(t,e,n,s),i.scissor.set(t,e,n,s)}function v2(){return new Yr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function y2(){return new Yr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hne(i){let t=new WeakMap,e=null;function r(o){const l=o.target;l.removeEventListener("dispose",r);const c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function n(o){if(o&&o.isTexture){const l=o.mapping,c=303===l||304===l,d=301===l||302===l;if(c||d){if(o.isRenderTargetTexture&&!0===o.needsPMREMUpdate){o.needsPMREMUpdate=!1;let u=t.get(o);return null===e&&(e=new g2(i)),u=c?e.fromEquirectangular(o,u):e.fromCubemap(o,u),t.set(o,u),u.texture}if(t.has(o))return t.get(o).texture;{const u=o.image;if(c&&u&&u.height>0||d&&u&&function s(o){let l=0;for(let d=0;d<6;d++)void 0!==o[d]&&l++;return 6===l}(u)){null===e&&(e=new g2(i));const h=c?e.fromEquirectangular(o):e.fromCubemap(o);return t.set(o,h),o.addEventListener("dispose",r),h.texture}return null}}}return o},dispose:function a(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function pne(i){const t={};function e(n){if(void 0!==t[n])return t[n];let s;switch(n){case"WEBGL_depth_texture":s=i.getExtension("WEBGL_depth_texture")||i.getExtension("MOZ_WEBGL_depth_texture")||i.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=i.getExtension(n)}return t[n]=s,s}return{has:function(n){return null!==e(n)},init:function(n){n.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(n){const s=e(n);return null===s&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),s}}}function fne(i,t,e,n){const s={},r=new WeakMap;function a(u){const h=u.target;null!==h.index&&t.remove(h.index);for(const f in h.attributes)t.remove(h.attributes[f]);h.removeEventListener("dispose",a),delete s[h.id];const p=r.get(h);p&&(t.remove(p),r.delete(h)),n.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,e.memory.geometries--}function c(u){const h=[],p=u.index,f=u.attributes.position;let g=0;if(null!==p){const v=p.array;g=p.version;for(let y=0,b=v.length;y<b;y+=3){const w=v[y+0],S=v[y+1],D=v[y+2];h.push(w,S,S,D,D,w)}}else{g=f.version;for(let y=0,b=f.array.length/3-1;y<b;y+=3){const w=y+0,S=y+1,D=y+2;h.push(w,S,S,D,D,w)}}const m=new(XO(h)?c2:l2)(h,1);m.version=g;const _=r.get(u);_&&t.remove(_),r.set(u,m)}return{get:function o(u,h){return!0===s[h.id]||(h.addEventListener("dispose",a),s[h.id]=!0,e.memory.geometries++),h},update:function l(u){const h=u.attributes;for(const f in h)t.update(h[f],34962);const p=u.morphAttributes;for(const f in p){const g=p[f];for(let m=0,_=g.length;m<_;m++)t.update(g[m],34962)}},getWireframeAttribute:function d(u){const h=r.get(u);if(h){const p=u.index;null!==p&&h.version<p.version&&c(u)}else c(u);return r.get(u)}}}function mne(i,t,e,n){const s=n.isWebGL2;let r,o,l;this.setMode=function a(h){r=h},this.setIndex=function c(h){o=h.type,l=h.bytesPerElement},this.render=function d(h,p){i.drawElements(r,p,o,h*l),e.update(p,r,1)},this.renderInstances=function u(h,p,f){if(0===f)return;let g,m;if(s)g=i,m="drawElementsInstanced";else if(g=t.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",null===g)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");g[m](r,p,o,h*l,f),e.update(p,r,f)}}function gne(i){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function s(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function n(r,a,o){switch(e.calls++,a){case 4:e.triangles+=o*(r/3);break;case 1:e.lines+=o*(r/2);break;case 3:e.lines+=o*(r-1);break;case 2:e.lines+=o*r;break;case 0:e.points+=o*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function _ne(i,t){return i[0]-t[0]}function vne(i,t){return Math.abs(t[1])-Math.abs(i[1])}function nS(i,t){let e=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?e=127:n instanceof Int16Array?e=32767:n instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),i.divideScalar(e)}function yne(i,t,e){const n={},s=new Float32Array(8),r=new WeakMap,a=new pi,o=[];for(let c=0;c<8;c++)o[c]=[c,0];return{update:function l(c,d,u,h){const p=c.morphTargetInfluences;if(!0===t.isWebGL2){const f=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,g=void 0!==f?f.length:0;let m=r.get(d);if(void 0===m||m.count!==g){let q=function(){X.dispose(),r.delete(d),d.removeEventListener("dispose",q)};void 0!==m&&m.texture.dispose();const y=void 0!==d.morphAttributes.position,b=void 0!==d.morphAttributes.normal,w=void 0!==d.morphAttributes.color,S=d.morphAttributes.position||[],D=d.morphAttributes.normal||[],L=d.morphAttributes.color||[];let H=0;!0===y&&(H=1),!0===b&&(H=2),!0===w&&(H=3);let N=d.attributes.position.count*H,C=1;N>t.maxTextureSize&&(C=Math.ceil(N/t.maxTextureSize),N=t.maxTextureSize);const R=new Float32Array(N*C*4*g),X=new T_(R,N,C,g);X.type=zr,X.needsUpdate=!0;const z=4*H;for(let O=0;O<g;O++){const B=S[O],F=D[O],Y=L[O],K=N*C*4*O;for(let ce=0;ce<B.count;ce++){const ee=ce*z;!0===y&&(a.fromBufferAttribute(B,ce),!0===B.normalized&&nS(a,B),R[K+ee+0]=a.x,R[K+ee+1]=a.y,R[K+ee+2]=a.z,R[K+ee+3]=0),!0===b&&(a.fromBufferAttribute(F,ce),!0===F.normalized&&nS(a,F),R[K+ee+4]=a.x,R[K+ee+5]=a.y,R[K+ee+6]=a.z,R[K+ee+7]=0),!0===w&&(a.fromBufferAttribute(Y,ce),!0===Y.normalized&&nS(a,Y),R[K+ee+8]=a.x,R[K+ee+9]=a.y,R[K+ee+10]=a.z,R[K+ee+11]=4===Y.itemSize?a.w:1)}}m={count:g,texture:X,size:new le(N,C)},r.set(d,m),d.addEventListener("dispose",q)}let _=0;for(let y=0;y<p.length;y++)_+=p[y];const v=d.morphTargetsRelative?1:1-_;h.getUniforms().setValue(i,"morphTargetBaseInfluence",v),h.getUniforms().setValue(i,"morphTargetInfluences",p),h.getUniforms().setValue(i,"morphTargetsTexture",m.texture,e),h.getUniforms().setValue(i,"morphTargetsTextureSize",m.size)}else{const f=void 0===p?0:p.length;let g=n[d.id];if(void 0===g||g.length!==f){g=[];for(let b=0;b<f;b++)g[b]=[b,0];n[d.id]=g}for(let b=0;b<f;b++){const w=g[b];w[0]=b,w[1]=p[b]}g.sort(vne);for(let b=0;b<8;b++)b<f&&g[b][1]?(o[b][0]=g[b][0],o[b][1]=g[b][1]):(o[b][0]=Number.MAX_SAFE_INTEGER,o[b][1]=0);o.sort(_ne);const m=d.morphAttributes.position,_=d.morphAttributes.normal;let v=0;for(let b=0;b<8;b++){const w=o[b],S=w[0],D=w[1];S!==Number.MAX_SAFE_INTEGER&&D?(m&&d.getAttribute("morphTarget"+b)!==m[S]&&d.setAttribute("morphTarget"+b,m[S]),_&&d.getAttribute("morphNormal"+b)!==_[S]&&d.setAttribute("morphNormal"+b,_[S]),s[b]=D,v+=D):(m&&!0===d.hasAttribute("morphTarget"+b)&&d.deleteAttribute("morphTarget"+b),_&&!0===d.hasAttribute("morphNormal"+b)&&d.deleteAttribute("morphNormal"+b),s[b]=0)}const y=d.morphTargetsRelative?1:1-v;h.getUniforms().setValue(i,"morphTargetBaseInfluence",y),h.getUniforms().setValue(i,"morphTargetInfluences",s)}}}}function xne(i,t,e,n){let s=new WeakMap;function o(l){const c=l.target;c.removeEventListener("dispose",o),e.remove(c.instanceMatrix),null!==c.instanceColor&&e.remove(c.instanceColor)}return{update:function r(l){const c=n.render.frame,u=t.get(l,l.geometry);return s.get(u)!==c&&(t.update(u),s.set(u,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",o)&&l.addEventListener("dispose",o),e.update(l.instanceMatrix,34962),null!==l.instanceColor&&e.update(l.instanceColor,34962)),u},dispose:function a(){s=new WeakMap}}}const x2=new ns,b2=new T_,w2=new LC,C2=new qp,S2=[],M2=[],T2=new Float32Array(16),D2=new Float32Array(9),A2=new Float32Array(4);function Eu(i,t,e){const n=i[0];if(n<=0||n>0)return i;const s=t*e;let r=S2[s];if(void 0===r&&(r=new Float32Array(s),S2[s]=r),0!==t){n.toArray(r,0);for(let a=1,o=0;a!==t;++a)o+=e,i[a].toArray(r,o)}return r}function ys(i,t){if(i.length!==t.length)return!1;for(let e=0,n=i.length;e<n;e++)if(i[e]!==t[e])return!1;return!0}function rs(i,t){for(let e=0,n=t.length;e<n;e++)i[e]=t[e]}function Y_(i,t){let e=M2[t];void 0===e&&(e=new Int32Array(t),M2[t]=e);for(let n=0;n!==t;++n)e[n]=i.allocateTextureUnit();return e}function bne(i,t){const e=this.cache;e[0]!==t&&(i.uniform1f(this.addr,t),e[0]=t)}function wne(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(i.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(ys(e,t))return;i.uniform2fv(this.addr,t),rs(e,t)}}function Cne(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(i.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(i.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(ys(e,t))return;i.uniform3fv(this.addr,t),rs(e,t)}}function Sne(i,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(i.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(ys(e,t))return;i.uniform4fv(this.addr,t),rs(e,t)}}function Mne(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(ys(e,t))return;i.uniformMatrix2fv(this.addr,!1,t),rs(e,t)}else{if(ys(e,n))return;A2.set(n),i.uniformMatrix2fv(this.addr,!1,A2),rs(e,n)}}function Tne(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(ys(e,t))return;i.uniformMatrix3fv(this.addr,!1,t),rs(e,t)}else{if(ys(e,n))return;D2.set(n),i.uniformMatrix3fv(this.addr,!1,D2),rs(e,n)}}function Dne(i,t){const e=this.cache,n=t.elements;if(void 0===n){if(ys(e,t))return;i.uniformMatrix4fv(this.addr,!1,t),rs(e,t)}else{if(ys(e,n))return;T2.set(n),i.uniformMatrix4fv(this.addr,!1,T2),rs(e,n)}}function Ane(i,t){const e=this.cache;e[0]!==t&&(i.uniform1i(this.addr,t),e[0]=t)}function Ene(i,t){const e=this.cache;ys(e,t)||(i.uniform2iv(this.addr,t),rs(e,t))}function kne(i,t){const e=this.cache;ys(e,t)||(i.uniform3iv(this.addr,t),rs(e,t))}function Rne(i,t){const e=this.cache;ys(e,t)||(i.uniform4iv(this.addr,t),rs(e,t))}function Ine(i,t){const e=this.cache;e[0]!==t&&(i.uniform1ui(this.addr,t),e[0]=t)}function Lne(i,t){const e=this.cache;ys(e,t)||(i.uniform2uiv(this.addr,t),rs(e,t))}function Pne(i,t){const e=this.cache;ys(e,t)||(i.uniform3uiv(this.addr,t),rs(e,t))}function Fne(i,t){const e=this.cache;ys(e,t)||(i.uniform4uiv(this.addr,t),rs(e,t))}function One(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture2D(t||x2,s)}function Nne(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture3D(t||w2,s)}function Bne(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTextureCube(t||C2,s)}function Vne(i,t,e){const n=this.cache,s=e.allocateTextureUnit();n[0]!==s&&(i.uniform1i(this.addr,s),n[0]=s),e.setTexture2DArray(t||b2,s)}function zne(i,t){i.uniform1fv(this.addr,t)}function Gne(i,t){const e=Eu(t,this.size,2);i.uniform2fv(this.addr,e)}function Une(i,t){const e=Eu(t,this.size,3);i.uniform3fv(this.addr,e)}function Wne(i,t){const e=Eu(t,this.size,4);i.uniform4fv(this.addr,e)}function jne(i,t){const e=Eu(t,this.size,4);i.uniformMatrix2fv(this.addr,!1,e)}function $ne(i,t){const e=Eu(t,this.size,9);i.uniformMatrix3fv(this.addr,!1,e)}function Yne(i,t){const e=Eu(t,this.size,16);i.uniformMatrix4fv(this.addr,!1,e)}function qne(i,t){i.uniform1iv(this.addr,t)}function Xne(i,t){i.uniform2iv(this.addr,t)}function Qne(i,t){i.uniform3iv(this.addr,t)}function Kne(i,t){i.uniform4iv(this.addr,t)}function Zne(i,t){i.uniform1uiv(this.addr,t)}function Jne(i,t){i.uniform2uiv(this.addr,t)}function ese(i,t){i.uniform3uiv(this.addr,t)}function tse(i,t){i.uniform4uiv(this.addr,t)}function ise(i,t,e){const n=t.length,s=Y_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture2D(t[r]||x2,s[r])}function nse(i,t,e){const n=t.length,s=Y_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture3D(t[r]||w2,s[r])}function sse(i,t,e){const n=t.length,s=Y_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTextureCube(t[r]||C2,s[r])}function rse(i,t,e){const n=t.length,s=Y_(e,n);i.uniform1iv(this.addr,s);for(let r=0;r!==n;++r)e.setTexture2DArray(t[r]||b2,s[r])}function ose(i,t,e){this.id=i,this.addr=e,this.cache=[],this.setValue=function Hne(i){switch(i){case 5126:return bne;case 35664:return wne;case 35665:return Cne;case 35666:return Sne;case 35674:return Mne;case 35675:return Tne;case 35676:return Dne;case 5124:case 35670:return Ane;case 35667:case 35671:return Ene;case 35668:case 35672:return kne;case 35669:case 35673:return Rne;case 5125:return Ine;case 36294:return Lne;case 36295:return Pne;case 36296:return Fne;case 35678:case 36198:case 36298:case 36306:case 35682:return One;case 35679:case 36299:case 36307:return Nne;case 35680:case 36300:case 36308:case 36293:return Bne;case 36289:case 36303:case 36311:case 36292:return Vne}}(t.type)}function E2(i,t,e){this.id=i,this.addr=e,this.cache=[],this.size=t.size,this.setValue=function ase(i){switch(i){case 5126:return zne;case 35664:return Gne;case 35665:return Une;case 35666:return Wne;case 35674:return jne;case 35675:return $ne;case 35676:return Yne;case 5124:case 35670:return qne;case 35667:case 35671:return Xne;case 35668:case 35672:return Qne;case 35669:case 35673:return Kne;case 5125:return Zne;case 36294:return Jne;case 36295:return ese;case 36296:return tse;case 35678:case 36198:case 36298:case 36306:case 35682:return ise;case 35679:case 36299:case 36307:return nse;case 35680:case 36300:case 36308:case 36293:return sse;case 36289:case 36303:case 36311:case 36292:return rse}}(t.type)}function k2(i){this.id=i,this.seq=[],this.map={}}E2.prototype.updateCache=function(i){const t=this.cache;i instanceof Float32Array&&t.length!==i.length&&(this.cache=new Float32Array(i.length)),rs(t,i)},k2.prototype.setValue=function(i,t,e){const n=this.seq;for(let s=0,r=n.length;s!==r;++s){const a=n[s];a.setValue(i,t[a.id],e)}};const sS=/(\w+)(\])?(\[|\.)?/g;function R2(i,t){i.seq.push(t),i.map[t.id]=t}function lse(i,t,e){const n=i.name,s=n.length;for(sS.lastIndex=0;;){const r=sS.exec(n),a=sS.lastIndex;let o=r[1];const c=r[3];if("]"===r[2]&&(o|=0),void 0===c||"["===c&&a+2===s){R2(e,void 0===c?new ose(o,i,t):new E2(o,i,t));break}{let u=e.map[o];void 0===u&&(u=new k2(o),R2(e,u)),e=u}}}function cl(i,t){this.seq=[],this.map={};const e=i.getProgramParameter(t,35718);for(let n=0;n<e;++n){const s=i.getActiveUniform(t,n);lse(s,i.getUniformLocation(t,s.name),this)}}function I2(i,t,e){const n=i.createShader(t);return i.shaderSource(n,e),i.compileShader(n),n}cl.prototype.setValue=function(i,t,e,n){const s=this.map[t];void 0!==s&&s.setValue(i,e,n)},cl.prototype.setOptional=function(i,t,e){const n=t[e];void 0!==n&&this.setValue(i,e,n)},cl.upload=function(i,t,e,n){for(let s=0,r=t.length;s!==r;++s){const a=t[s],o=e[a.id];!1!==o.needsUpdate&&a.setValue(i,o.value,n)}},cl.seqWithValue=function(i,t){const e=[];for(let n=0,s=i.length;n!==s;++n){const r=i[n];r.id in t&&e.push(r)}return e};let cse=0;function L2(i,t,e){const n=i.getShaderParameter(t,35713),s=i.getShaderInfoLog(t).trim();if(n&&""===s)return"";const r=parseInt(/ERROR: 0:(\d+)/.exec(s)[1]);return e.toUpperCase()+"\n\n"+s+"\n\n"+function dse(i,t){const e=i.split("\n"),n=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let a=s;a<r;a++)n.push(a+1+": "+e[a]);return n.join("\n")}(i.getShaderSource(t),r)}function hse(i,t){const e=function use(i){switch(i){case Gr:return["Linear","( value )"];case ai:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",i),["Linear","( value )"]}}(t);return"vec4 "+i+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function pse(i,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+i+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function Kp(i){return""!==i}function P2(i,t){return i.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function F2(i,t){return i.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const _se=/^[ \t]*#include +<([\w\d./]+)>/gm;function rS(i){return i.replace(_se,vse)}function vse(i,t){const e=qt[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return rS(e)}const yse=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,xse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function O2(i){return i.replace(xse,N2).replace(yse,bse)}function bse(i,t,e,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),N2(0,t,e,n)}function N2(i,t,e,n){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=n.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function B2(i){let t="precision "+i.precision+" float;\nprecision "+i.precision+" int;";return"highp"===i.precision?t+="\n#define HIGH_PRECISION":"mediump"===i.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===i.precision&&(t+="\n#define LOW_PRECISION"),t}function Dse(i,t,e,n){const s=i.getContext(),r=e.defines;let a=e.vertexShader,o=e.fragmentShader;const l=function wse(i){let t="SHADOWMAP_TYPE_BASIC";return 1===i.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===i.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===i.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),c=function Cse(i){let t="ENVMAP_TYPE_CUBE";if(i.envMap)switch(i.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),d=function Sse(i){let t="ENVMAP_MODE_REFLECTION";return i.envMap&&302===i.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),u=function Mse(i){let t="ENVMAP_BLENDING_NONE";if(i.envMap)switch(i.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),h=function Tse(i){const t=i.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t/32+1)+3,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:n,maxMip:e}}(e),p=e.isWebGL2?"":function fse(i){return[i.extensionDerivatives||i.envMapCubeUVHeight||i.bumpMap||i.tangentSpaceNormalMap||i.clearcoatNormalMap||i.flatShading||"physical"===i.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(i.extensionFragDepth||i.logarithmicDepthBuffer)&&i.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",i.extensionDrawBuffers&&i.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(i.extensionShaderTextureLOD||i.envMap||i.transmission)&&i.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Kp).join("\n")}(e),f=function mse(i){const t=[];for(const e in i){const n=i[e];!1!==n&&t.push("#define "+e+" "+n)}return t.join("\n")}(r),g=s.createProgram();let m,_,v=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(m=[f].filter(Kp).join("\n"),m.length>0&&(m+="\n"),_=[p,f].filter(Kp).join("\n"),_.length>0&&(_+="\n")):(m=[B2(e),"#define SHADER_NAME "+e.shaderName,f,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Kp).join("\n"),_=[p,B2(e),"#define SHADER_NAME "+e.shaderName,f,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+d:"",e.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?qt.tonemapping_pars_fragment:"",0!==e.toneMapping?pse("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",qt.encodings_pars_fragment,hse("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(Kp).join("\n")),a=rS(a),a=P2(a,e),a=F2(a,e),o=rS(o),o=P2(o,e),o=F2(o,e),a=O2(a),o=O2(o),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(v="#version 300 es\n",m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,_=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const b=v+_+o,w=I2(s,35633,v+m+a),S=I2(s,35632,b);if(s.attachShader(g,w),s.attachShader(g,S),void 0!==e.index0AttributeName?s.bindAttribLocation(g,0,e.index0AttributeName):!0===e.morphTargets&&s.bindAttribLocation(g,0,"position"),s.linkProgram(g),i.debug.checkShaderErrors){const H=s.getProgramInfoLog(g).trim(),N=s.getShaderInfoLog(w).trim(),C=s.getShaderInfoLog(S).trim();let R=!0,X=!0;if(!1===s.getProgramParameter(g,35714)){R=!1;const z=L2(s,w,"vertex"),q=L2(s,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+H+"\n"+z+"\n"+q)}else""!==H?console.warn("THREE.WebGLProgram: Program Info Log:",H):(""===N||""===C)&&(X=!1);X&&(this.diagnostics={runnable:R,programLog:H,vertexShader:{log:N,prefix:m},fragmentShader:{log:C,prefix:_}})}let D,L;return s.deleteShader(w),s.deleteShader(S),this.getUniforms=function(){return void 0===D&&(D=new cl(s,g)),D},this.getAttributes=function(){return void 0===L&&(L=function gse(i,t){const e={},n=i.getProgramParameter(t,35721);for(let s=0;s<n;s++){const r=i.getActiveAttrib(t,s),a=r.name;let o=1;35674===r.type&&(o=2),35675===r.type&&(o=3),35676===r.type&&(o=4),e[a]={type:r.type,location:i.getAttribLocation(t,a),locationSize:o}}return e}(s,g)),L},this.destroy=function(){n.releaseStatesOfProgram(this),s.deleteProgram(g),this.program=void 0},this.name=e.shaderName,this.id=cse++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=S,this}let Ase=0;class Ese{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const n=t.fragmentShader,s=this._getShaderStage(t.vertexShader),r=this._getShaderStage(n),a=this._getShaderCacheForMaterial(t);return!1===a.has(s)&&(a.add(s),s.usedTimes++),!1===a.has(r)&&(a.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const n=new kse(t);e.set(t,n)}return e.get(t)}}class kse{constructor(t){this.id=Ase++,this.code=t,this.usedTimes=0}}function Rse(i,t,e,n,s,r,a){const o=new zC,l=new Ese,c=[],d=s.isWebGL2,u=s.logarithmicDepthBuffer,h=s.floatVertexTextures,p=s.maxVertexUniforms,f=s.vertexTextures;let g=s.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function v(C,R,X,z,q){const O=z.fog,B=q.geometry,Y=(C.isMeshStandardMaterial?e:t).get(C.envMap||(C.isMeshStandardMaterial?z.environment:null)),K=Y&&306===Y.mapping?Y.image.height:null,ce=m[C.type],ee=q.isSkinnedMesh?function _(C){const X=C.skeleton.bones;if(h)return 1024;{const q=Math.floor((p-20)/4),O=Math.min(q,X.length);return O<X.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+X.length+" bones. This GPU supports "+O+"."),0):O}}(q):0;null!==C.precision&&(g=s.getMaxPrecision(C.precision),g!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",g,"instead."));const Ke=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,Ye=void 0!==Ke?Ke.length:0;let ae,tt,ct,oe,ot=0;if(void 0!==B.morphAttributes.position&&(ot=1),void 0!==B.morphAttributes.normal&&(ot=2),void 0!==B.morphAttributes.color&&(ot=3),ce){const he=wa[ce];ae=he.vertexShader,tt=he.fragmentShader}else ae=C.vertexShader,tt=C.fragmentShader,l.update(C),ct=l.getVertexShaderID(C),oe=l.getFragmentShaderID(C);const ie=i.getRenderTarget(),V=C.clearcoat>0;return{isWebGL2:d,shaderID:ce,shaderName:C.type,vertexShader:ae,fragmentShader:tt,defines:C.defines,customVertexShaderID:ct,customFragmentShaderID:oe,isRawShaderMaterial:!0===C.isRawShaderMaterial,glslVersion:C.glslVersion,precision:g,instancing:!0===q.isInstancedMesh,instancingColor:!0===q.isInstancedMesh&&null!==q.instanceColor,supportsVertexTextures:f,outputEncoding:null===ie?i.outputEncoding:!0===ie.isXRRenderTarget?ie.texture.encoding:Gr,map:!!C.map,matcap:!!C.matcap,envMap:!!Y,envMapMode:Y&&Y.mapping,envMapCubeUVHeight:K,lightMap:!!C.lightMap,aoMap:!!C.aoMap,emissiveMap:!!C.emissiveMap,bumpMap:!!C.bumpMap,normalMap:!!C.normalMap,objectSpaceNormalMap:1===C.normalMapType,tangentSpaceNormalMap:0===C.normalMapType,decodeVideoTexture:!!C.map&&!0===C.map.isVideoTexture&&C.map.encoding===ai,clearcoat:V,clearcoatMap:V&&!!C.clearcoatMap,clearcoatRoughnessMap:V&&!!C.clearcoatRoughnessMap,clearcoatNormalMap:V&&!!C.clearcoatNormalMap,displacementMap:!!C.displacementMap,roughnessMap:!!C.roughnessMap,metalnessMap:!!C.metalnessMap,specularMap:!!C.specularMap,specularIntensityMap:!!C.specularIntensityMap,specularColorMap:!!C.specularColorMap,opaque:!1===C.transparent&&1===C.blending,alphaMap:!!C.alphaMap,alphaTest:C.alphaTest>0,gradientMap:!!C.gradientMap,sheen:C.sheen>0,sheenColorMap:!!C.sheenColorMap,sheenRoughnessMap:!!C.sheenRoughnessMap,transmission:C.transmission>0,transmissionMap:!!C.transmissionMap,thicknessMap:!!C.thicknessMap,combine:C.combine,vertexTangents:!!C.normalMap&&!!B.attributes.tangent,vertexColors:C.vertexColors,vertexAlphas:!0===C.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUvs:!!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatMap||C.clearcoatRoughnessMap||C.clearcoatNormalMap||C.displacementMap||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheenColorMap||C.sheenRoughnessMap),uvsVertexOnly:!(C.map||C.bumpMap||C.normalMap||C.specularMap||C.alphaMap||C.emissiveMap||C.roughnessMap||C.metalnessMap||C.clearcoatNormalMap||C.transmission>0||C.transmissionMap||C.thicknessMap||C.specularIntensityMap||C.specularColorMap||C.sheen>0||C.sheenColorMap||C.sheenRoughnessMap||!C.displacementMap),fog:!!O,useFog:C.fog,fogExp2:O&&O.isFogExp2,flatShading:!!C.flatShading,sizeAttenuation:C.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===q.isSkinnedMesh&&ee>0,maxBones:ee,useVertexTexture:h,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:Ye,morphTextureStride:ot,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:i.shadowMap.enabled&&X.length>0,shadowMapType:i.shadowMap.type,toneMapping:C.toneMapped?i.toneMapping:0,physicallyCorrectLights:i.physicallyCorrectLights,premultipliedAlpha:C.premultipliedAlpha,doubleSided:2===C.side,flipSided:1===C.side,depthPacking:void 0!==C.depthPacking&&C.depthPacking,index0AttributeName:C.index0AttributeName,extensionDerivatives:C.extensions&&C.extensions.derivatives,extensionFragDepth:C.extensions&&C.extensions.fragDepth,extensionDrawBuffers:C.extensions&&C.extensions.drawBuffers,extensionShaderTextureLOD:C.extensions&&C.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||n.has("EXT_shader_texture_lod"),customProgramCacheKey:C.customProgramCacheKey()}},getProgramCacheKey:function y(C){const R=[];if(C.shaderID?R.push(C.shaderID):(R.push(C.customVertexShaderID),R.push(C.customFragmentShaderID)),void 0!==C.defines)for(const X in C.defines)R.push(X),R.push(C.defines[X]);return!1===C.isRawShaderMaterial&&(function b(C,R){C.push(R.precision),C.push(R.outputEncoding),C.push(R.envMapMode),C.push(R.envMapCubeUVHeight),C.push(R.combine),C.push(R.vertexUvs),C.push(R.fogExp2),C.push(R.sizeAttenuation),C.push(R.maxBones),C.push(R.morphTargetsCount),C.push(R.morphAttributeCount),C.push(R.numDirLights),C.push(R.numPointLights),C.push(R.numSpotLights),C.push(R.numHemiLights),C.push(R.numRectAreaLights),C.push(R.numDirLightShadows),C.push(R.numPointLightShadows),C.push(R.numSpotLightShadows),C.push(R.shadowMapType),C.push(R.toneMapping),C.push(R.numClippingPlanes),C.push(R.numClipIntersection)}(R,C),function w(C,R){o.disableAll(),R.isWebGL2&&o.enable(0),R.supportsVertexTextures&&o.enable(1),R.instancing&&o.enable(2),R.instancingColor&&o.enable(3),R.map&&o.enable(4),R.matcap&&o.enable(5),R.envMap&&o.enable(6),R.lightMap&&o.enable(7),R.aoMap&&o.enable(8),R.emissiveMap&&o.enable(9),R.bumpMap&&o.enable(10),R.normalMap&&o.enable(11),R.objectSpaceNormalMap&&o.enable(12),R.tangentSpaceNormalMap&&o.enable(13),R.clearcoat&&o.enable(14),R.clearcoatMap&&o.enable(15),R.clearcoatRoughnessMap&&o.enable(16),R.clearcoatNormalMap&&o.enable(17),R.displacementMap&&o.enable(18),R.specularMap&&o.enable(19),R.roughnessMap&&o.enable(20),R.metalnessMap&&o.enable(21),R.gradientMap&&o.enable(22),R.alphaMap&&o.enable(23),R.alphaTest&&o.enable(24),R.vertexColors&&o.enable(25),R.vertexAlphas&&o.enable(26),R.vertexUvs&&o.enable(27),R.vertexTangents&&o.enable(28),R.uvsVertexOnly&&o.enable(29),R.fog&&o.enable(30),C.push(o.mask),o.disableAll(),R.useFog&&o.enable(0),R.flatShading&&o.enable(1),R.logarithmicDepthBuffer&&o.enable(2),R.skinning&&o.enable(3),R.useVertexTexture&&o.enable(4),R.morphTargets&&o.enable(5),R.morphNormals&&o.enable(6),R.morphColors&&o.enable(7),R.premultipliedAlpha&&o.enable(8),R.shadowMapEnabled&&o.enable(9),R.physicallyCorrectLights&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.depthPacking&&o.enable(13),R.dithering&&o.enable(14),R.specularIntensityMap&&o.enable(15),R.specularColorMap&&o.enable(16),R.transmission&&o.enable(17),R.transmissionMap&&o.enable(18),R.thicknessMap&&o.enable(19),R.sheen&&o.enable(20),R.sheenColorMap&&o.enable(21),R.sheenRoughnessMap&&o.enable(22),R.decodeVideoTexture&&o.enable(23),R.opaque&&o.enable(24),C.push(o.mask)}(R,C),R.push(i.outputEncoding)),R.push(C.customProgramCacheKey),R.join()},getUniforms:function S(C){const R=m[C.type];let X;return X=R?ite.clone(wa[R].uniforms):C.uniforms,X},acquireProgram:function D(C,R){let X;for(let z=0,q=c.length;z<q;z++){const O=c[z];if(O.cacheKey===R){X=O,++X.usedTimes;break}}return void 0===X&&(X=new Dse(i,R,C,r),c.push(X)),X},releaseProgram:function L(C){if(0==--C.usedTimes){const R=c.indexOf(C);c[R]=c[c.length-1],c.pop(),C.destroy()}},releaseShaderCache:function H(C){l.remove(C)},programs:c,dispose:function N(){l.dispose()}}}function Ise(){let i=new WeakMap;return{get:function t(r){let a=i.get(r);return void 0===a&&(a={},i.set(r,a)),a},remove:function e(r){i.delete(r)},update:function n(r,a,o){i.get(r)[a]=o},dispose:function s(){i=new WeakMap}}}function Lse(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.material.id!==t.material.id?i.material.id-t.material.id:i.z!==t.z?i.z-t.z:i.id-t.id}function V2(i,t){return i.groupOrder!==t.groupOrder?i.groupOrder-t.groupOrder:i.renderOrder!==t.renderOrder?i.renderOrder-t.renderOrder:i.z!==t.z?t.z-i.z:i.id-t.id}function H2(){const i=[];let t=0;const e=[],n=[],s=[];function a(u,h,p,f,g,m){let _=i[t];return void 0===_?(_={id:u.id,object:u,geometry:h,material:p,groupOrder:f,renderOrder:u.renderOrder,z:g,group:m},i[t]=_):(_.id=u.id,_.object=u,_.geometry=h,_.material=p,_.groupOrder=f,_.renderOrder=u.renderOrder,_.z=g,_.group=m),t++,_}return{opaque:e,transmissive:n,transparent:s,init:function r(){t=0,e.length=0,n.length=0,s.length=0},push:function o(u,h,p,f,g,m){const _=a(u,h,p,f,g,m);p.transmission>0?n.push(_):!0===p.transparent?s.push(_):e.push(_)},unshift:function l(u,h,p,f,g,m){const _=a(u,h,p,f,g,m);p.transmission>0?n.unshift(_):!0===p.transparent?s.unshift(_):e.unshift(_)},finish:function d(){for(let u=t,h=i.length;u<h;u++){const p=i[u];if(null===p.id)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}},sort:function c(u,h){e.length>1&&e.sort(u||Lse),n.length>1&&n.sort(h||V2),s.length>1&&s.sort(h||V2)}}}function Pse(){let i=new WeakMap;return{get:function t(n,s){let r;return!1===i.has(n)?(r=new H2,i.set(n,[r])):s>=i.get(n).length?(r=new H2,i.get(n).push(r)):r=i.get(n)[s],r},dispose:function e(){i=new WeakMap}}}function Fse(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new M,color:new Re};break;case"SpotLight":e={position:new M,direction:new M,color:new Re,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new M,color:new Re,distance:0,decay:0};break;case"HemisphereLight":e={direction:new M,skyColor:new Re,groundColor:new Re};break;case"RectAreaLight":e={color:new Re,position:new M,halfWidth:new M,halfHeight:new M}}return i[t.id]=e,e}}}let Nse=0;function Bse(i,t){return(t.castShadow?1:0)-(i.castShadow?1:0)}function Vse(i,t){const e=new Fse,n=function Ose(){const i={};return{get:function(t){if(void 0!==i[t.id])return i[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new le,shadowCameraNear:1,shadowCameraFar:1e3}}return i[t.id]=e,e}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)s.probe.push(new M);const r=new M,a=new nt,o=new nt;return{setup:function l(d,u){let h=0,p=0,f=0;for(let H=0;H<9;H++)s.probe[H].set(0,0,0);let g=0,m=0,_=0,v=0,y=0,b=0,w=0,S=0;d.sort(Bse);const D=!0!==u?Math.PI:1;for(let H=0,N=d.length;H<N;H++){const C=d[H],R=C.color,X=C.intensity,z=C.distance,q=C.shadow&&C.shadow.map?C.shadow.map.texture:null;if(C.isAmbientLight)h+=R.r*X*D,p+=R.g*X*D,f+=R.b*X*D;else if(C.isLightProbe)for(let O=0;O<9;O++)s.probe[O].addScaledVector(C.sh.coefficients[O],X);else if(C.isDirectionalLight){const O=e.get(C);if(O.color.copy(C.color).multiplyScalar(C.intensity*D),C.castShadow){const B=C.shadow,F=n.get(C);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,s.directionalShadow[g]=F,s.directionalShadowMap[g]=q,s.directionalShadowMatrix[g]=C.shadow.matrix,b++}s.directional[g]=O,g++}else if(C.isSpotLight){const O=e.get(C);if(O.position.setFromMatrixPosition(C.matrixWorld),O.color.copy(R).multiplyScalar(X*D),O.distance=z,O.coneCos=Math.cos(C.angle),O.penumbraCos=Math.cos(C.angle*(1-C.penumbra)),O.decay=C.decay,C.castShadow){const B=C.shadow,F=n.get(C);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,s.spotShadow[_]=F,s.spotShadowMap[_]=q,s.spotShadowMatrix[_]=C.shadow.matrix,S++}s.spot[_]=O,_++}else if(C.isRectAreaLight){const O=e.get(C);O.color.copy(R).multiplyScalar(X),O.halfWidth.set(.5*C.width,0,0),O.halfHeight.set(0,.5*C.height,0),s.rectArea[v]=O,v++}else if(C.isPointLight){const O=e.get(C);if(O.color.copy(C.color).multiplyScalar(C.intensity*D),O.distance=C.distance,O.decay=C.decay,C.castShadow){const B=C.shadow,F=n.get(C);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,F.shadowCameraNear=B.camera.near,F.shadowCameraFar=B.camera.far,s.pointShadow[m]=F,s.pointShadowMap[m]=q,s.pointShadowMatrix[m]=C.shadow.matrix,w++}s.point[m]=O,m++}else if(C.isHemisphereLight){const O=e.get(C);O.skyColor.copy(C.color).multiplyScalar(X*D),O.groundColor.copy(C.groundColor).multiplyScalar(X*D),s.hemi[y]=O,y++}}v>0&&(t.isWebGL2||!0===i.has("OES_texture_float_linear")?(s.rectAreaLTC1=Ge.LTC_FLOAT_1,s.rectAreaLTC2=Ge.LTC_FLOAT_2):!0===i.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=Ge.LTC_HALF_1,s.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=h,s.ambient[1]=p,s.ambient[2]=f;const L=s.hash;(L.directionalLength!==g||L.pointLength!==m||L.spotLength!==_||L.rectAreaLength!==v||L.hemiLength!==y||L.numDirectionalShadows!==b||L.numPointShadows!==w||L.numSpotShadows!==S)&&(s.directional.length=g,s.spot.length=_,s.rectArea.length=v,s.point.length=m,s.hemi.length=y,s.directionalShadow.length=b,s.directionalShadowMap.length=b,s.pointShadow.length=w,s.pointShadowMap.length=w,s.spotShadow.length=S,s.spotShadowMap.length=S,s.directionalShadowMatrix.length=b,s.pointShadowMatrix.length=w,s.spotShadowMatrix.length=S,L.directionalLength=g,L.pointLength=m,L.spotLength=_,L.rectAreaLength=v,L.hemiLength=y,L.numDirectionalShadows=b,L.numPointShadows=w,L.numSpotShadows=S,s.version=Nse++)},setupView:function c(d,u){let h=0,p=0,f=0,g=0,m=0;const _=u.matrixWorldInverse;for(let v=0,y=d.length;v<y;v++){const b=d[v];if(b.isDirectionalLight){const w=s.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),h++}else if(b.isSpotLight){const w=s.spot[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),w.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),f++}else if(b.isRectAreaLight){const w=s.rectArea[g];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),o.identity(),a.copy(b.matrixWorld),a.premultiply(_),o.extractRotation(a),w.halfWidth.set(.5*b.width,0,0),w.halfHeight.set(0,.5*b.height,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),g++}else if(b.isPointLight){const w=s.point[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),p++}else if(b.isHemisphereLight){const w=s.hemi[m];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(_),w.direction.normalize(),m++}}},state:s}}function z2(i,t){const e=new Vse(i,t),n=[],s=[];return{init:function r(){n.length=0,s.length=0},state:{lightsArray:n,shadowsArray:s,lights:e},setupLights:function l(u){e.setup(n,u)},setupLightsView:function c(u){e.setupView(n,u)},pushLight:function a(u){n.push(u)},pushShadow:function o(u){s.push(u)}}}function Hse(i,t){let e=new WeakMap;return{get:function n(r,a=0){let o;return!1===e.has(r)?(o=new z2(i,t),e.set(r,[o])):a>=e.get(r).length?(o=new z2(i,t),e.get(r).push(o)):o=e.get(r)[a],o},dispose:function s(){e=new WeakMap}}}class aS extends Ui{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}aS.prototype.isMeshDepthMaterial=!0;class oS extends Ui{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new M,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function G2(i,t,e){let n=new j_;const s=new le,r=new le,a=new pi,o=new aS({depthPacking:3201}),l=new oS,c={},d=e.maxTextureSize,u={0:1,1:0,2:2},h=new Yr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new le},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const f=new yt;f.setAttribute("position",new _i(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new In(f,h),m=this;function _(b,w){const S=t.update(g);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,p.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,i.setRenderTarget(b.mapPass),i.clear(),i.renderBufferDirect(w,null,S,h,g,null),p.uniforms.shadow_pass.value=b.mapPass.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,i.setRenderTarget(b.map),i.clear(),i.renderBufferDirect(w,null,S,p,g,null)}function v(b,w,S,D,L,H){let N=null;const C=!0===S.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(N=void 0!==C?C:!0===S.isPointLight?l:o,i.localClippingEnabled&&!0===w.clipShadows&&0!==w.clippingPlanes.length||w.displacementMap&&0!==w.displacementScale||w.alphaMap&&w.alphaTest>0){const R=N.uuid,X=w.uuid;let z=c[R];void 0===z&&(z={},c[R]=z);let q=z[X];void 0===q&&(q=N.clone(),z[X]=q),N=q}return N.visible=w.visible,N.wireframe=w.wireframe,N.side=3===H?null!==w.shadowSide?w.shadowSide:w.side:null!==w.shadowSide?w.shadowSide:u[w.side],N.alphaMap=w.alphaMap,N.alphaTest=w.alphaTest,N.clipShadows=w.clipShadows,N.clippingPlanes=w.clippingPlanes,N.clipIntersection=w.clipIntersection,N.displacementMap=w.displacementMap,N.displacementScale=w.displacementScale,N.displacementBias=w.displacementBias,N.wireframeLinewidth=w.wireframeLinewidth,N.linewidth=w.linewidth,!0===S.isPointLight&&!0===N.isMeshDistanceMaterial&&(N.referencePosition.setFromMatrixPosition(S.matrixWorld),N.nearDistance=D,N.farDistance=L),N}function y(b,w,S,D,L){if(!1===b.visible)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&3===L)&&(!b.frustumCulled||n.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,b.matrixWorld);const C=t.update(b),R=b.material;if(Array.isArray(R)){const X=C.groups;for(let z=0,q=X.length;z<q;z++){const O=X[z],B=R[O.materialIndex];if(B&&B.visible){const F=v(b,B,D,S.near,S.far,L);i.renderBufferDirect(S,null,C,F,b,O)}}}else if(R.visible){const X=v(b,R,D,S.near,S.far,L);i.renderBufferDirect(S,null,C,X,b,null)}}const N=b.children;for(let C=0,R=N.length;C<R;C++)y(N[C],w,S,D,L)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,w,S){if(!1===m.enabled||!1===m.autoUpdate&&!1===m.needsUpdate||0===b.length)return;const D=i.getRenderTarget(),L=i.getActiveCubeFace(),H=i.getActiveMipmapLevel(),N=i.state;N.setBlending(0),N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);for(let C=0,R=b.length;C<R;C++){const X=b[C],z=X.shadow;if(void 0===z){console.warn("THREE.WebGLShadowMap:",X,"has no shadow.");continue}if(!1===z.autoUpdate&&!1===z.needsUpdate)continue;s.copy(z.mapSize);const q=z.getFrameExtents();s.multiply(q),r.copy(z.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(r.x=Math.floor(d/q.x),s.x=r.x*q.x,z.mapSize.x=r.x),s.y>d&&(r.y=Math.floor(d/q.y),s.y=r.y*q.y,z.mapSize.y=r.y)),null===z.map&&!z.isPointLightShadow&&3===this.type&&(z.map=new js(s.x,s.y),z.map.texture.name=X.name+".shadowMap",z.mapPass=new js(s.x,s.y),z.camera.updateProjectionMatrix()),null===z.map&&(z.map=new js(s.x,s.y,{minFilter:mn,magFilter:mn,format:fr}),z.map.texture.name=X.name+".shadowMap",z.camera.updateProjectionMatrix()),i.setRenderTarget(z.map),i.clear();const O=z.getViewportCount();for(let B=0;B<O;B++){const F=z.getViewport(B);a.set(r.x*F.x,r.y*F.y,r.x*F.z,r.y*F.w),N.viewport(a),z.updateMatrices(X,B),n=z.getFrustum(),y(w,S,z.camera,X,this.type)}!z.isPointLightShadow&&3===this.type&&_(z,S),z.needsUpdate=!1}m.needsUpdate=!1,i.setRenderTarget(D,L,H)}}function Use(i,t,e){const n=e.isWebGL2,o=new function s(){let G=!1;const Ne=new pi;let Fe=null;const xt=new pi(0,0,0,0);return{setMask:function(Xe){Fe!==Xe&&!G&&(i.colorMask(Xe,Xe,Xe,Xe),Fe=Xe)},setLocked:function(Xe){G=Xe},setClear:function(Xe,dt,ze,Pt,Ii){!0===Ii&&(Xe*=Pt,dt*=Pt,ze*=Pt),Ne.set(Xe,dt,ze,Pt),!1===xt.equals(Ne)&&(i.clearColor(Xe,dt,ze,Pt),xt.copy(Ne))},reset:function(){G=!1,Fe=null,xt.set(-1,0,0,0)}}},l=new function r(){let G=!1,Ne=null,Fe=null,xt=null;return{setTest:function(Xe){Xe?ot(2929):ae(2929)},setMask:function(Xe){Ne!==Xe&&!G&&(i.depthMask(Xe),Ne=Xe)},setFunc:function(Xe){if(Fe!==Xe){if(Xe)switch(Xe){case 0:i.depthFunc(512);break;case 1:i.depthFunc(519);break;case 2:i.depthFunc(513);break;case 3:default:i.depthFunc(515);break;case 4:i.depthFunc(514);break;case 5:i.depthFunc(518);break;case 6:i.depthFunc(516);break;case 7:i.depthFunc(517)}else i.depthFunc(515);Fe=Xe}},setLocked:function(Xe){G=Xe},setClear:function(Xe){xt!==Xe&&(i.clearDepth(Xe),xt=Xe)},reset:function(){G=!1,Ne=null,Fe=null,xt=null}}},c=new function a(){let G=!1,Ne=null,Fe=null,xt=null,Xe=null,dt=null,ze=null,Pt=null,Ii=null;return{setTest:function(ii){G||(ii?ot(2960):ae(2960))},setMask:function(ii){Ne!==ii&&!G&&(i.stencilMask(ii),Ne=ii)},setFunc:function(ii,Fa,Oa){(Fe!==ii||xt!==Fa||Xe!==Oa)&&(i.stencilFunc(ii,Fa,Oa),Fe=ii,xt=Fa,Xe=Oa)},setOp:function(ii,Fa,Oa){(dt!==ii||ze!==Fa||Pt!==Oa)&&(i.stencilOp(ii,Fa,Oa),dt=ii,ze=Fa,Pt=Oa)},setLocked:function(ii){G=ii},setClear:function(ii){Ii!==ii&&(i.clearStencil(ii),Ii=ii)},reset:function(){G=!1,Ne=null,Fe=null,xt=null,Xe=null,dt=null,ze=null,Pt=null,Ii=null}}};let d={},u={},h=new WeakMap,p=[],f=null,g=!1,m=null,_=null,v=null,y=null,b=null,w=null,S=null,D=!1,L=null,H=null,N=null,C=null,R=null;const X=i.getParameter(35661);let z=!1,q=0;const O=i.getParameter(7938);-1!==O.indexOf("WebGL")?(q=parseFloat(/^WebGL (\d)/.exec(O)[1]),z=q>=1):-1!==O.indexOf("OpenGL ES")&&(q=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),z=q>=2);let B=null,F={};const Y=i.getParameter(3088),K=i.getParameter(2978),ce=(new pi).fromArray(Y),ee=(new pi).fromArray(K);function Ke(G,Ne,Fe){const xt=new Uint8Array(4),Xe=i.createTexture();i.bindTexture(G,Xe),i.texParameteri(G,10241,9728),i.texParameteri(G,10240,9728);for(let dt=0;dt<Fe;dt++)i.texImage2D(Ne+dt,0,6408,1,1,0,6408,5121,xt);return Xe}const Ye={};function ot(G){!0!==d[G]&&(i.enable(G),d[G]=!0)}function ae(G){!1!==d[G]&&(i.disable(G),d[G]=!1)}Ye[3553]=Ke(3553,3553,1),Ye[34067]=Ke(34067,34069,6),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ot(2929),l.setFunc(3),he(!1),Ve(1),ot(2884),V(0);const ie={100:32774,101:32778,102:32779};if(n)ie[103]=32775,ie[104]=32776;else{const G=t.get("EXT_blend_minmax");null!==G&&(ie[103]=G.MIN_EXT,ie[104]=G.MAX_EXT)}const Oe={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function V(G,Ne,Fe,xt,Xe,dt,ze,Pt){if(0!==G){if(!1===g&&(ot(3042),g=!0),5===G)Xe=Xe||Ne,dt=dt||Fe,ze=ze||xt,(Ne!==_||Xe!==b)&&(i.blendEquationSeparate(ie[Ne],ie[Xe]),_=Ne,b=Xe),(Fe!==v||xt!==y||dt!==w||ze!==S)&&(i.blendFuncSeparate(Oe[Fe],Oe[xt],Oe[dt],Oe[ze]),v=Fe,y=xt,w=dt,S=ze),m=G,D=null;else if(G!==m||Pt!==D){if((100!==_||100!==b)&&(i.blendEquation(32774),_=100,b=100),Pt)switch(G){case 1:i.blendFuncSeparate(1,771,1,771);break;case 2:i.blendFunc(1,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",G)}else switch(G){case 1:i.blendFuncSeparate(770,771,1,771);break;case 2:i.blendFunc(770,1);break;case 3:i.blendFuncSeparate(0,769,0,1);break;case 4:i.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",G)}v=null,y=null,w=null,S=null,m=G,D=Pt}}else!0===g&&(ae(3042),g=!1)}function he(G){L!==G&&(i.frontFace(G?2304:2305),L=G)}function Ve(G){0!==G?(ot(2884),G!==H&&i.cullFace(1===G?1029:2===G?1028:1032)):ae(2884),H=G}function Te(G,Ne,Fe){G?(ot(32823),(C!==Ne||R!==Fe)&&(i.polygonOffset(Ne,Fe),C=Ne,R=Fe)):ae(32823)}function at(G){void 0===G&&(G=33984+X-1),B!==G&&(i.activeTexture(G),B=G)}return{buffers:{color:o,depth:l,stencil:c},enable:ot,disable:ae,bindFramebuffer:function tt(G,Ne){return u[G]!==Ne&&(i.bindFramebuffer(G,Ne),u[G]=Ne,n&&(36009===G&&(u[36160]=Ne),36160===G&&(u[36009]=Ne)),!0)},drawBuffers:function ct(G,Ne){let Fe=p,xt=!1;if(G)if(Fe=h.get(Ne),void 0===Fe&&(Fe=[],h.set(Ne,Fe)),G.isWebGLMultipleRenderTargets){const Xe=G.texture;if(Fe.length!==Xe.length||36064!==Fe[0]){for(let dt=0,ze=Xe.length;dt<ze;dt++)Fe[dt]=36064+dt;Fe.length=Xe.length,xt=!0}}else 36064!==Fe[0]&&(Fe[0]=36064,xt=!0);else 1029!==Fe[0]&&(Fe[0]=1029,xt=!0);xt&&(e.isWebGL2?i.drawBuffers(Fe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Fe))},useProgram:function oe(G){return f!==G&&(i.useProgram(G),f=G,!0)},setBlending:V,setMaterial:function te(G,Ne){2===G.side?ae(2884):ot(2884);let Fe=1===G.side;Ne&&(Fe=!Fe),he(Fe),1===G.blending&&!1===G.transparent?V(0):V(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha),l.setFunc(G.depthFunc),l.setTest(G.depthTest),l.setMask(G.depthWrite),o.setMask(G.colorWrite);const xt=G.stencilWrite;c.setTest(xt),xt&&(c.setMask(G.stencilWriteMask),c.setFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),c.setOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),Te(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),!0===G.alphaToCoverage?ot(32926):ae(32926)},setFlipSided:he,setCullFace:Ve,setLineWidth:function Me(G){G!==N&&(z&&i.lineWidth(G),N=G)},setPolygonOffset:Te,setScissorTest:function qe(G){G?ot(3089):ae(3089)},activeTexture:at,bindTexture:function Jt(G,Ne){null===B&&at();let Fe=F[B];void 0===Fe&&(Fe={type:void 0,texture:void 0},F[B]=Fe),(Fe.type!==G||Fe.texture!==Ne)&&(i.bindTexture(G,Ne||Ye[G]),Fe.type=G,Fe.texture=Ne)},unbindTexture:function di(){const G=F[B];void 0!==G&&void 0!==G.type&&(i.bindTexture(G.type,null),G.type=void 0,G.texture=void 0)},compressedTexImage2D:function P(){try{i.compressedTexImage2D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texImage2D:function ft(){try{i.texImage2D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texImage3D:function k(){try{i.texImage3D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texStorage2D:function We(){try{i.texStorage2D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texStorage3D:function Ze(){try{i.texStorage3D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texSubImage2D:function T(){try{i.texSubImage2D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},texSubImage3D:function se(){try{i.texSubImage3D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},compressedTexSubImage2D:function ye(){try{i.compressedTexSubImage2D.apply(i,arguments)}catch(G){console.error("THREE.WebGLState:",G)}},scissor:function De(G){!1===ce.equals(G)&&(i.scissor(G.x,G.y,G.z,G.w),ce.copy(G))},viewport:function lt(G){!1===ee.equals(G)&&(i.viewport(G.x,G.y,G.z,G.w),ee.copy(G))},reset:function He(){i.disable(3042),i.disable(2884),i.disable(2929),i.disable(32823),i.disable(3089),i.disable(2960),i.disable(32926),i.blendEquation(32774),i.blendFunc(1,0),i.blendFuncSeparate(1,0,1,0),i.colorMask(!0,!0,!0,!0),i.clearColor(0,0,0,0),i.depthMask(!0),i.depthFunc(513),i.clearDepth(1),i.stencilMask(4294967295),i.stencilFunc(519,0,4294967295),i.stencilOp(7680,7680,7680),i.clearStencil(0),i.cullFace(1029),i.frontFace(2305),i.polygonOffset(0,0),i.activeTexture(33984),i.bindFramebuffer(36160,null),!0===n&&(i.bindFramebuffer(36009,null),i.bindFramebuffer(36008,null)),i.useProgram(null),i.lineWidth(1),i.scissor(0,0,i.canvas.width,i.canvas.height),i.viewport(0,0,i.canvas.width,i.canvas.height),d={},B=null,F={},u={},h=new WeakMap,p=[],f=null,g=!1,m=null,_=null,v=null,y=null,b=null,w=null,S=null,D=!1,L=null,H=null,N=null,C=null,R=null,ce.set(0,0,i.canvas.width,i.canvas.height),ee.set(0,0,i.canvas.width,i.canvas.height),o.reset(),l.reset(),c.reset()}}}function Wse(i,t,e,n,s,r,a){const o=s.isWebGL2,l=s.maxTextures,c=s.maxCubemapSize,d=s.maxTextureSize,u=s.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=/OculusBrowser/g.test(navigator.userAgent),f=new WeakMap;let g;const m=new WeakMap;let _=!1;try{_="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(P){}function v(P,T){return _?new OffscreenCanvas(P,T):Wp("canvas")}function y(P,T,se,ye){let We=1;if((P.width>ye||P.height>ye)&&(We=ye/Math.max(P.width,P.height)),We<1||!0===T){if("undefined"!=typeof HTMLImageElement&&P instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&P instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&P instanceof ImageBitmap){const Ze=T?w_:Math.floor,ft=Ze(We*P.width),k=Ze(We*P.height);void 0===g&&(g=v(ft,k));const De=se?v(ft,k):g;return De.width=ft,De.height=k,De.getContext("2d").drawImage(P,0,0,ft,k),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+ft+"x"+k+")."),De}return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P}return P}function b(P){return EC(P.width)&&EC(P.height)}function S(P,T){return P.generateMipmaps&&T&&P.minFilter!==mn&&P.minFilter!==Ti}function D(P){i.generateMipmap(P)}function L(P,T,se,ye,We=!1){if(!1===o)return T;if(null!==P){if(void 0!==i[P])return i[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Ze=T;return 6403===T&&(5126===se&&(Ze=33326),5131===se&&(Ze=33325),5121===se&&(Ze=33321)),33319===T&&(5126===se&&(Ze=33328),5131===se&&(Ze=33327),5121===se&&(Ze=33323)),6408===T&&(5126===se&&(Ze=34836),5131===se&&(Ze=34842),5121===se&&(Ze=ye===ai&&!1===We?35907:32856),32819===se&&(Ze=32854),32820===se&&(Ze=32855)),(33325===Ze||33326===Ze||33327===Ze||33328===Ze||34842===Ze||34836===Ze)&&t.get("EXT_color_buffer_float"),Ze}function H(P,T,se){return!0===S(P,se)||P.isFramebufferTexture&&P.minFilter!==mn&&P.minFilter!==Ti?Math.log2(Math.max(T.width,T.height))+1:void 0!==P.mipmaps&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?T.mipmaps.length:1}function N(P){return P===mn||1004===P||1005===P?9728:9729}function C(P){const T=P.target;T.removeEventListener("dispose",C),function X(P){const T=n.get(P);if(void 0===T.__webglInit)return;const se=P.source,ye=m.get(se);if(ye){const We=ye[T.__cacheKey];We.usedTimes--,0===We.usedTimes&&z(P),0===Object.keys(ye).length&&m.delete(se)}n.remove(P)}(T),T.isVideoTexture&&f.delete(T)}function R(P){const T=P.target;T.removeEventListener("dispose",R),function q(P){const T=P.texture,se=n.get(P),ye=n.get(T);if(void 0!==ye.__webglTexture&&(i.deleteTexture(ye.__webglTexture),a.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let We=0;We<6;We++)i.deleteFramebuffer(se.__webglFramebuffer[We]),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer[We]);else i.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&i.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&i.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer&&i.deleteRenderbuffer(se.__webglColorRenderbuffer),se.__webglDepthRenderbuffer&&i.deleteRenderbuffer(se.__webglDepthRenderbuffer);if(P.isWebGLMultipleRenderTargets)for(let We=0,Ze=T.length;We<Ze;We++){const ft=n.get(T[We]);ft.__webglTexture&&(i.deleteTexture(ft.__webglTexture),a.memory.textures--),n.remove(T[We])}n.remove(T),n.remove(P)}(T)}function z(P){const T=n.get(P);i.deleteTexture(T.__webglTexture),delete m.get(P.source)[T.__cacheKey],a.memory.textures--}let O=0;function K(P,T){const se=n.get(P);if(P.isVideoTexture&&function Jt(P){const T=a.render.frame;f.get(P)!==T&&(f.set(P,T),P.update())}(P),!1===P.isRenderTargetTexture&&P.version>0&&se.__version!==P.version){const ye=P.image;if(null===ye)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ye.complete)return void ct(se,P,T);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+T),e.bindTexture(3553,se.__webglTexture)}const Ye={[Jl]:10497,[vs]:33071,1002:33648},ot={[mn]:9728,1004:9984,1005:9986,[Ti]:9729,1007:9985,[Jo]:9987};function ae(P,T,se){if(se?(i.texParameteri(P,10242,Ye[T.wrapS]),i.texParameteri(P,10243,Ye[T.wrapT]),(32879===P||35866===P)&&i.texParameteri(P,32882,Ye[T.wrapR]),i.texParameteri(P,10240,ot[T.magFilter]),i.texParameteri(P,10241,ot[T.minFilter])):(i.texParameteri(P,10242,33071),i.texParameteri(P,10243,33071),(32879===P||35866===P)&&i.texParameteri(P,32882,33071),(T.wrapS!==vs||T.wrapT!==vs)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),i.texParameteri(P,10240,N(T.magFilter)),i.texParameteri(P,10241,N(T.minFilter)),T.minFilter!==mn&&T.minFilter!==Ti&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const ye=t.get("EXT_texture_filter_anisotropic");if(T.type===zr&&!1===t.has("OES_texture_float_linear")||!1===o&&T.type===ba&&!1===t.has("OES_texture_half_float_linear"))return;(T.anisotropy>1||n.get(T).__currentAnisotropy)&&(i.texParameterf(P,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(T.anisotropy,s.getMaxAnisotropy())),n.get(T).__currentAnisotropy=T.anisotropy)}}function tt(P,T){let se=!1;void 0===P.__webglInit&&(P.__webglInit=!0,T.addEventListener("dispose",C));const ye=T.source;let We=m.get(ye);void 0===We&&(We={},m.set(ye,We));const Ze=function Y(P){const T=[];return T.push(P.wrapS),T.push(P.wrapT),T.push(P.magFilter),T.push(P.minFilter),T.push(P.anisotropy),T.push(P.internalFormat),T.push(P.format),T.push(P.type),T.push(P.generateMipmaps),T.push(P.premultiplyAlpha),T.push(P.flipY),T.push(P.unpackAlignment),T.push(P.encoding),T.join()}(T);if(Ze!==P.__cacheKey){void 0===We[Ze]&&(We[Ze]={texture:i.createTexture(),usedTimes:0},a.memory.textures++,se=!0),We[Ze].usedTimes++;const ft=We[P.__cacheKey];void 0!==ft&&(We[P.__cacheKey].usedTimes--,0===ft.usedTimes&&z(T)),P.__cacheKey=Ze,P.__webglTexture=We[Ze].texture}return se}function ct(P,T,se){let ye=3553;T.isDataArrayTexture&&(ye=35866),T.isData3DTexture&&(ye=32879);const We=tt(P,T),Ze=T.source;if(e.activeTexture(33984+se),e.bindTexture(ye,P.__webglTexture),Ze.version!==Ze.__currentVersion||!0===We){i.pixelStorei(37440,T.flipY),i.pixelStorei(37441,T.premultiplyAlpha),i.pixelStorei(3317,T.unpackAlignment),i.pixelStorei(37443,0);const ft=function w(P){return!o&&(P.wrapS!==vs||P.wrapT!==vs||P.minFilter!==mn&&P.minFilter!==Ti)}(T)&&!1===b(T.image);let k=y(T.image,ft,!1,d);k=di(T,k);const De=b(k)||o,lt=r.convert(T.format,T.encoding);let Ne,He=r.convert(T.type),G=L(T.internalFormat,lt,He,T.encoding,T.isVideoTexture);ae(ye,T,De);const Fe=T.mipmaps,xt=o&&!0!==T.isVideoTexture,Xe=void 0===P.__version,dt=H(T,k,De);if(T.isDepthTexture)G=6402,o?G=T.type===zr?36012:1014===T.type?33190:T.type===au?35056:33189:T.type===zr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),T.format===tc&&6402===G&&T.type!==Bp&&1014!==T.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),T.type=Bp,He=r.convert(T.type)),T.format===ou&&6402===G&&(G=34041,T.type!==au&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),T.type=au,He=r.convert(T.type))),xt&&Xe?e.texStorage2D(3553,1,G,k.width,k.height):e.texImage2D(3553,0,G,k.width,k.height,0,lt,He,null);else if(T.isDataTexture)if(Fe.length>0&&De){xt&&Xe&&e.texStorage2D(3553,dt,G,Fe[0].width,Fe[0].height);for(let ze=0,Pt=Fe.length;ze<Pt;ze++)Ne=Fe[ze],xt?e.texSubImage2D(3553,ze,0,0,Ne.width,Ne.height,lt,He,Ne.data):e.texImage2D(3553,ze,G,Ne.width,Ne.height,0,lt,He,Ne.data);T.generateMipmaps=!1}else xt?(Xe&&e.texStorage2D(3553,dt,G,k.width,k.height),e.texSubImage2D(3553,0,0,0,k.width,k.height,lt,He,k.data)):e.texImage2D(3553,0,G,k.width,k.height,0,lt,He,k.data);else if(T.isCompressedTexture){xt&&Xe&&e.texStorage2D(3553,dt,G,Fe[0].width,Fe[0].height);for(let ze=0,Pt=Fe.length;ze<Pt;ze++)Ne=Fe[ze],T.format!==fr?null!==lt?xt?e.compressedTexSubImage2D(3553,ze,0,0,Ne.width,Ne.height,lt,Ne.data):e.compressedTexImage2D(3553,ze,G,Ne.width,Ne.height,0,Ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xt?e.texSubImage2D(3553,ze,0,0,Ne.width,Ne.height,lt,He,Ne.data):e.texImage2D(3553,ze,G,Ne.width,Ne.height,0,lt,He,Ne.data)}else if(T.isDataArrayTexture)xt?(Xe&&e.texStorage3D(35866,dt,G,k.width,k.height,k.depth),e.texSubImage3D(35866,0,0,0,0,k.width,k.height,k.depth,lt,He,k.data)):e.texImage3D(35866,0,G,k.width,k.height,k.depth,0,lt,He,k.data);else if(T.isData3DTexture)xt?(Xe&&e.texStorage3D(32879,dt,G,k.width,k.height,k.depth),e.texSubImage3D(32879,0,0,0,0,k.width,k.height,k.depth,lt,He,k.data)):e.texImage3D(32879,0,G,k.width,k.height,k.depth,0,lt,He,k.data);else if(T.isFramebufferTexture)xt&&Xe?e.texStorage2D(3553,dt,G,k.width,k.height):e.texImage2D(3553,0,G,k.width,k.height,0,lt,He,null);else if(Fe.length>0&&De){xt&&Xe&&e.texStorage2D(3553,dt,G,Fe[0].width,Fe[0].height);for(let ze=0,Pt=Fe.length;ze<Pt;ze++)Ne=Fe[ze],xt?e.texSubImage2D(3553,ze,0,0,lt,He,Ne):e.texImage2D(3553,ze,G,lt,He,Ne);T.generateMipmaps=!1}else xt?(Xe&&e.texStorage2D(3553,dt,G,k.width,k.height),e.texSubImage2D(3553,0,0,0,lt,He,k)):e.texImage2D(3553,0,G,lt,He,k);S(T,De)&&D(ye),Ze.__currentVersion=Ze.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}function ie(P,T,se,ye,We){const Ze=r.convert(se.format,se.encoding),ft=r.convert(se.type),k=L(se.internalFormat,Ze,ft,se.encoding);n.get(T).__hasExternalTextures||(32879===We||35866===We?e.texImage3D(We,0,k,T.width,T.height,T.depth,0,Ze,ft,null):e.texImage2D(We,0,k,T.width,T.height,0,Ze,ft,null)),e.bindFramebuffer(36160,P),at(T)?h.framebufferTexture2DMultisampleEXT(36160,ye,We,n.get(se).__webglTexture,0,qe(T)):i.framebufferTexture2D(36160,ye,We,n.get(se).__webglTexture,0),e.bindFramebuffer(36160,null)}function Oe(P,T,se){if(i.bindRenderbuffer(36161,P),T.depthBuffer&&!T.stencilBuffer){let ye=33189;if(se||at(T)){const We=T.depthTexture;We&&We.isDepthTexture&&(We.type===zr?ye=36012:1014===We.type&&(ye=33190));const Ze=qe(T);at(T)?h.renderbufferStorageMultisampleEXT(36161,Ze,ye,T.width,T.height):i.renderbufferStorageMultisample(36161,Ze,ye,T.width,T.height)}else i.renderbufferStorage(36161,ye,T.width,T.height);i.framebufferRenderbuffer(36160,36096,36161,P)}else if(T.depthBuffer&&T.stencilBuffer){const ye=qe(T);se&&!1===at(T)?i.renderbufferStorageMultisample(36161,ye,35056,T.width,T.height):at(T)?h.renderbufferStorageMultisampleEXT(36161,ye,35056,T.width,T.height):i.renderbufferStorage(36161,34041,T.width,T.height),i.framebufferRenderbuffer(36160,33306,36161,P)}else{const ye=!0===T.isWebGLMultipleRenderTargets?T.texture[0]:T.texture,We=r.convert(ye.format,ye.encoding),Ze=r.convert(ye.type),ft=L(ye.internalFormat,We,Ze,ye.encoding),k=qe(T);se&&!1===at(T)?i.renderbufferStorageMultisample(36161,k,ft,T.width,T.height):at(T)?h.renderbufferStorageMultisampleEXT(36161,k,ft,T.width,T.height):i.renderbufferStorage(36161,ft,T.width,T.height)}i.bindRenderbuffer(36161,null)}function te(P){const T=n.get(P),se=!0===P.isWebGLCubeRenderTarget;if(P.depthTexture&&!T.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");!function V(P,T){if(T&&T.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,P),!T.depthTexture||!T.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(T.depthTexture).__webglTexture||T.depthTexture.image.width!==T.width||T.depthTexture.image.height!==T.height)&&(T.depthTexture.image.width=T.width,T.depthTexture.image.height=T.height,T.depthTexture.needsUpdate=!0),K(T.depthTexture,0);const ye=n.get(T.depthTexture).__webglTexture,We=qe(T);if(T.depthTexture.format===tc)at(T)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ye,0,We):i.framebufferTexture2D(36160,36096,3553,ye,0);else{if(T.depthTexture.format!==ou)throw new Error("Unknown depthTexture format");at(T)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ye,0,We):i.framebufferTexture2D(36160,33306,3553,ye,0)}}(T.__webglFramebuffer,P)}else if(se){T.__webglDepthbuffer=[];for(let ye=0;ye<6;ye++)e.bindFramebuffer(36160,T.__webglFramebuffer[ye]),T.__webglDepthbuffer[ye]=i.createRenderbuffer(),Oe(T.__webglDepthbuffer[ye],P,!1)}else e.bindFramebuffer(36160,T.__webglFramebuffer),T.__webglDepthbuffer=i.createRenderbuffer(),Oe(T.__webglDepthbuffer,P,!1);e.bindFramebuffer(36160,null)}function qe(P){return Math.min(u,P.samples)}function at(P){const T=n.get(P);return o&&P.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==T.__useRenderToTexture}function di(P,T){const se=P.encoding,ye=P.format,We=P.type;return!0===P.isCompressedTexture||!0===P.isVideoTexture||1035===P.format||se!==Gr&&(se===ai?!1===o?!0===t.has("EXT_sRGB")&&ye===fr?(P.format=1035,P.minFilter=Ti,P.generateMipmaps=!1):T=ac.sRGBToLinear(T):(ye!==fr||We!==ec)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),T}this.allocateTextureUnit=function F(){const P=O;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),O+=1,P},this.resetTextureUnits=function B(){O=0},this.setTexture2D=K,this.setTexture2DArray=function ce(P,T){const se=n.get(P);P.version>0&&se.__version!==P.version?ct(se,P,T):(e.activeTexture(33984+T),e.bindTexture(35866,se.__webglTexture))},this.setTexture3D=function ee(P,T){const se=n.get(P);P.version>0&&se.__version!==P.version?ct(se,P,T):(e.activeTexture(33984+T),e.bindTexture(32879,se.__webglTexture))},this.setTextureCube=function Ke(P,T){const se=n.get(P);P.version>0&&se.__version!==P.version?function oe(P,T,se){if(6!==T.image.length)return;const ye=tt(P,T),We=T.source;if(e.activeTexture(33984+se),e.bindTexture(34067,P.__webglTexture),We.version!==We.__currentVersion||!0===ye){i.pixelStorei(37440,T.flipY),i.pixelStorei(37441,T.premultiplyAlpha),i.pixelStorei(3317,T.unpackAlignment),i.pixelStorei(37443,0);const Ze=T.isCompressedTexture||T.image[0].isCompressedTexture,ft=T.image[0]&&T.image[0].isDataTexture,k=[];for(let ze=0;ze<6;ze++)k[ze]=Ze||ft?ft?T.image[ze].image:T.image[ze]:y(T.image[ze],!1,!0,c),k[ze]=di(T,k[ze]);const De=k[0],lt=b(De)||o,He=r.convert(T.format,T.encoding),G=r.convert(T.type),Ne=L(T.internalFormat,He,G,T.encoding),Fe=o&&!0!==T.isVideoTexture,xt=void 0===P.__version;let dt,Xe=H(T,De,lt);if(ae(34067,T,lt),Ze){Fe&&xt&&e.texStorage2D(34067,Xe,Ne,De.width,De.height);for(let ze=0;ze<6;ze++){dt=k[ze].mipmaps;for(let Pt=0;Pt<dt.length;Pt++){const Ii=dt[Pt];T.format!==fr?null!==He?Fe?e.compressedTexSubImage2D(34069+ze,Pt,0,0,Ii.width,Ii.height,He,Ii.data):e.compressedTexImage2D(34069+ze,Pt,Ne,Ii.width,Ii.height,0,Ii.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?e.texSubImage2D(34069+ze,Pt,0,0,Ii.width,Ii.height,He,G,Ii.data):e.texImage2D(34069+ze,Pt,Ne,Ii.width,Ii.height,0,He,G,Ii.data)}}}else{dt=T.mipmaps,Fe&&xt&&(dt.length>0&&Xe++,e.texStorage2D(34067,Xe,Ne,k[0].width,k[0].height));for(let ze=0;ze<6;ze++)if(ft){Fe?e.texSubImage2D(34069+ze,0,0,0,k[ze].width,k[ze].height,He,G,k[ze].data):e.texImage2D(34069+ze,0,Ne,k[ze].width,k[ze].height,0,He,G,k[ze].data);for(let Pt=0;Pt<dt.length;Pt++){const ii=dt[Pt].image[ze].image;Fe?e.texSubImage2D(34069+ze,Pt+1,0,0,ii.width,ii.height,He,G,ii.data):e.texImage2D(34069+ze,Pt+1,Ne,ii.width,ii.height,0,He,G,ii.data)}}else{Fe?e.texSubImage2D(34069+ze,0,0,0,He,G,k[ze]):e.texImage2D(34069+ze,0,Ne,He,G,k[ze]);for(let Pt=0;Pt<dt.length;Pt++){const Ii=dt[Pt];Fe?e.texSubImage2D(34069+ze,Pt+1,0,0,He,G,Ii.image[ze]):e.texImage2D(34069+ze,Pt+1,Ne,He,G,Ii.image[ze])}}}S(T,lt)&&D(34067),We.__currentVersion=We.version,T.onUpdate&&T.onUpdate(T)}P.__version=T.version}(se,P,T):(e.activeTexture(33984+T),e.bindTexture(34067,se.__webglTexture))},this.rebindTextures=function he(P,T,se){const ye=n.get(P);void 0!==T&&ie(ye.__webglFramebuffer,P,P.texture,36064,3553),void 0!==se&&te(P)},this.setupRenderTarget=function Ve(P){const T=P.texture,se=n.get(P),ye=n.get(T);P.addEventListener("dispose",R),!0!==P.isWebGLMultipleRenderTargets&&(void 0===ye.__webglTexture&&(ye.__webglTexture=i.createTexture()),ye.__version=T.version,a.memory.textures++);const We=!0===P.isWebGLCubeRenderTarget,Ze=!0===P.isWebGLMultipleRenderTargets,ft=b(P)||o;if(We){se.__webglFramebuffer=[];for(let k=0;k<6;k++)se.__webglFramebuffer[k]=i.createFramebuffer()}else if(se.__webglFramebuffer=i.createFramebuffer(),Ze)if(s.drawBuffers){const k=P.texture;for(let De=0,lt=k.length;De<lt;De++){const He=n.get(k[De]);void 0===He.__webglTexture&&(He.__webglTexture=i.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(o&&P.samples>0&&!1===at(P)){se.__webglMultisampledFramebuffer=i.createFramebuffer(),se.__webglColorRenderbuffer=i.createRenderbuffer(),i.bindRenderbuffer(36161,se.__webglColorRenderbuffer);const k=r.convert(T.format,T.encoding),De=r.convert(T.type),lt=L(T.internalFormat,k,De,T.encoding),He=qe(P);i.renderbufferStorageMultisample(36161,He,lt,P.width,P.height),e.bindFramebuffer(36160,se.__webglMultisampledFramebuffer),i.framebufferRenderbuffer(36160,36064,36161,se.__webglColorRenderbuffer),i.bindRenderbuffer(36161,null),P.depthBuffer&&(se.__webglDepthRenderbuffer=i.createRenderbuffer(),Oe(se.__webglDepthRenderbuffer,P,!0)),e.bindFramebuffer(36160,null)}if(We){e.bindTexture(34067,ye.__webglTexture),ae(34067,T,ft);for(let k=0;k<6;k++)ie(se.__webglFramebuffer[k],P,T,36064,34069+k);S(T,ft)&&D(34067),e.unbindTexture()}else if(Ze){const k=P.texture;for(let De=0,lt=k.length;De<lt;De++){const He=k[De],G=n.get(He);e.bindTexture(3553,G.__webglTexture),ae(3553,He,ft),ie(se.__webglFramebuffer,P,He,36064+De,3553),S(He,ft)&&D(3553)}e.unbindTexture()}else{let k=3553;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(o?k=P.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(k,ye.__webglTexture),ae(k,T,ft),ie(se.__webglFramebuffer,P,T,36064,k),S(T,ft)&&D(k),e.unbindTexture()}P.depthBuffer&&te(P)},this.updateRenderTargetMipmap=function Me(P){const T=b(P)||o,se=!0===P.isWebGLMultipleRenderTargets?P.texture:[P.texture];for(let ye=0,We=se.length;ye<We;ye++){const Ze=se[ye];if(S(Ze,T)){const ft=P.isWebGLCubeRenderTarget?34067:3553,k=n.get(Ze).__webglTexture;e.bindTexture(ft,k),D(ft),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Te(P){if(o&&P.samples>0&&!1===at(P)){const T=P.width,se=P.height;let ye=16384;const We=[36064],Ze=P.stencilBuffer?33306:36096;P.depthBuffer&&We.push(Ze);const ft=n.get(P),k=void 0!==ft.__ignoreDepthValues&&ft.__ignoreDepthValues;!1===k&&(P.depthBuffer&&(ye|=256),P.stencilBuffer&&(ye|=1024)),e.bindFramebuffer(36008,ft.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,ft.__webglFramebuffer),!0===k&&(i.invalidateFramebuffer(36008,[Ze]),i.invalidateFramebuffer(36009,[Ze])),i.blitFramebuffer(0,0,T,se,0,0,T,se,ye,9728),p&&i.invalidateFramebuffer(36008,We),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,ft.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=ie,this.useMultisampledRTT=at}function jse(i,t,e){const n=e.isWebGL2;return{convert:function s(r,a=null){let o;if(r===ec)return 5121;if(1017===r)return 32819;if(1018===r)return 32820;if(1010===r)return 5120;if(1011===r)return 5122;if(r===Bp)return 5123;if(1013===r)return 5124;if(1014===r)return 5125;if(r===zr)return 5126;if(r===ba)return n?5131:(o=t.get("OES_texture_half_float"),null!==o?o.HALF_FLOAT_OES:null);if(1021===r)return 6406;if(r===fr)return 6408;if(1024===r)return 6409;if(1025===r)return 6410;if(r===tc)return 6402;if(r===ou)return 34041;if(1028===r)return 6403;if(1022===r)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===r)return o=t.get("EXT_sRGB"),null!==o?o.SRGB_ALPHA_EXT:null;if(1029===r)return 36244;if(1030===r)return 33319;if(1031===r)return 33320;if(1033===r)return 36249;if(33776===r||33777===r||33778===r||33779===r)if(a===ai){if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===o)return null;if(33776===r)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(o=t.get("WEBGL_compressed_texture_s3tc"),null===o)return null;if(33776===r)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(o=t.get("WEBGL_compressed_texture_pvrtc"),null===o)return null;if(35840===r)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return o=t.get("WEBGL_compressed_texture_etc1"),null!==o?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(o=t.get("WEBGL_compressed_texture_etc"),null===o)return null;if(37492===r)return a===ai?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(37496===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(o=t.get("WEBGL_compressed_texture_astc"),null===o)return null;if(37808===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return a===ai?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r){if(o=t.get("EXT_texture_compression_bptc"),null===o)return null;if(36492===r)return a===ai?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT}return r===au?n?34042:(o=t.get("WEBGL_depth_texture"),null!==o?o.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}oS.prototype.isMeshDistanceMaterial=!0;class U2 extends Ln{constructor(t=[]){super(),this.cameras=t}}U2.prototype.isArrayCamera=!0;class lo extends ci{constructor(){super(),this.type="Group"}}lo.prototype.isGroup=!0;const $se={type:"move"};class lS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new lo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new lo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new M,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new M),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new lo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new M,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new M),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,n){let s=null,r=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==o&&(s=e.getPose(t.targetRaySpace,n),null!==s&&(o.matrix.fromArray(s.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),s.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(s.linearVelocity)):o.hasLinearVelocity=!1,s.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(s.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent($se))),c&&t.hand){a=!0;for(const g of t.hand.values()){const m=e.getJointPose(g,n);if(void 0===c.joints[g.jointName]){const v=new lo;v.matrixAutoUpdate=!1,v.visible=!1,c.joints[g.jointName]=v,c.add(v)}const _=c.joints[g.jointName];null!==m&&(_.matrix.fromArray(m.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=m.radius),_.visible=null!==m}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),p=.02,f=.005;c.inputState.pinching&&h>p+f?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&h<=p-f&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));return null!==o&&(o.visible=null!==s),null!==l&&(l.visible=null!==r),null!==c&&(c.visible=null!==a),this}}class W2 extends ns{constructor(t,e,n,s,r,a,o,l,c,d){if((d=void 0!==d?d:tc)!==tc&&d!==ou)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&d===tc&&(n=Bp),void 0===n&&d===ou&&(n=au),super(null,s,r,a,o,l,d,n,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:mn,this.minFilter=void 0!==l?l:mn,this.flipY=!1,this.generateMipmaps=!1}}W2.prototype.isDepthTexture=!0;class Yse extends el{constructor(t,e){super();const n=this;let s=null,r=1,a=null,o="local-floor",l=null,c=null,d=null,u=null,h=null;const p=e.getContextAttributes();let f=null,g=null;const m=[],_=new Map,v=new Ln;v.layers.enable(1),v.viewport=new pi;const y=new Ln;y.layers.enable(2),y.viewport=new pi;const b=[v,y],w=new U2;w.layers.enable(1),w.layers.enable(2);let S=null,D=null;function L(F){const Y=_.get(F.inputSource);Y&&Y.dispatchEvent({type:F.type,data:F.inputSource})}function H(){_.forEach(function(F,Y){F.disconnect(Y)}),_.clear(),S=null,D=null,t.setRenderTarget(f),u=null,d=null,c=null,s=null,g=null,B.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function N(F){const Y=s.inputSources;for(let K=0;K<m.length;K++)_.set(Y[K],m[K]);for(let K=0;K<F.removed.length;K++){const ce=F.removed[K],ee=_.get(ce);ee&&(ee.dispatchEvent({type:"disconnected",data:ce}),_.delete(ce))}for(let K=0;K<F.added.length;K++){const ce=F.added[K],ee=_.get(ce);ee&&ee.dispatchEvent({type:"connected",data:ce})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let Y=m[F];return void 0===Y&&(Y=new lS,m[F]=Y),Y.getTargetRaySpace()},this.getControllerGrip=function(F){let Y=m[F];return void 0===Y&&(Y=new lS,m[F]=Y),Y.getGripSpace()},this.getHand=function(F){let Y=m[F];return void 0===Y&&(Y=new lS,m[F]=Y),Y.getHandSpace()},this.setFramebufferScaleFactor=function(F){r=F,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){o=F,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a},this.getBaseLayer=function(){return null!==d?d:u},this.getBinding=function(){return c},this.getFrame=function(){return h},this.getSession=function(){return s},this.setSession=function(){var F=function SJ(i){return function(){var t=this,e=arguments;return new Promise(function(n,s){var r=i.apply(t,e);function a(l){hO(r,n,s,a,o,"next",l)}function o(l){hO(r,n,s,a,o,"throw",l)}a(void 0)})}}(function*(Y){if(s=Y,null!==s){if(f=t.getRenderTarget(),s.addEventListener("select",L),s.addEventListener("selectstart",L),s.addEventListener("selectend",L),s.addEventListener("squeeze",L),s.addEventListener("squeezestart",L),s.addEventListener("squeezeend",L),s.addEventListener("end",H),s.addEventListener("inputsourceschange",N),!0!==p.xrCompatible&&(yield e.makeXRCompatible()),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2)u=new XRWebGLLayer(s,e,{antialias:void 0!==s.renderState.layers||p.antialias,alpha:p.alpha,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:u}),g=new js(u.framebufferWidth,u.framebufferHeight,{format:fr,type:ec,encoding:t.outputEncoding});else{let K=null,ce=null,ee=null;p.depth&&(ee=p.stencil?35056:33190,K=p.stencil?ou:tc,ce=p.stencil?au:Bp);const Ke={colorFormat:t.outputEncoding===ai?35907:32856,depthFormat:ee,scaleFactor:r};c=new XRWebGLBinding(s,e),d=c.createProjectionLayer(Ke),s.updateRenderState({layers:[d]}),g=new js(d.textureWidth,d.textureHeight,{format:fr,type:ec,depthTexture:new W2(d.textureWidth,d.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:p.stencil,encoding:t.outputEncoding,samples:p.antialias?4:0}),t.properties.get(g).__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(1),a=yield s.requestReferenceSpace(o),B.setContext(s),B.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}});return function(Y){return F.apply(this,arguments)}}();const C=new M,R=new M;function z(F,Y){null===Y?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(Y.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(null===s)return;w.near=y.near=v.near=F.near,w.far=y.far=v.far=F.far,(S!==w.near||D!==w.far)&&(s.updateRenderState({depthNear:w.near,depthFar:w.far}),S=w.near,D=w.far);const Y=F.parent,K=w.cameras;z(w,Y);for(let ee=0;ee<K.length;ee++)z(K[ee],Y);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),F.position.copy(w.position),F.quaternion.copy(w.quaternion),F.scale.copy(w.scale),F.matrix.copy(w.matrix),F.matrixWorld.copy(w.matrixWorld);const ce=F.children;for(let ee=0,Ke=ce.length;ee<Ke;ee++)ce[ee].updateMatrixWorld(!0);2===K.length?function X(F,Y,K){C.setFromMatrixPosition(Y.matrixWorld),R.setFromMatrixPosition(K.matrixWorld);const ce=C.distanceTo(R),ee=Y.projectionMatrix.elements,Ke=K.projectionMatrix.elements,Ye=ee[14]/(ee[10]-1),ot=ee[14]/(ee[10]+1),ae=(ee[9]+1)/ee[5],tt=(ee[9]-1)/ee[5],ct=(ee[8]-1)/ee[0],oe=(Ke[8]+1)/Ke[0],ie=Ye*ct,Oe=Ye*oe,V=ce/(-ct+oe),te=V*-ct;Y.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(te),F.translateZ(V),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const he=Ye+V,Ve=ot+V;F.projectionMatrix.makePerspective(ie-te,Oe+(ce-te),ae*ot/Ve*he,tt*ot/Ve*he,he,Ve)}(w,v,y):w.projectionMatrix.copy(v.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==u?u.fixedFoveation:void 0},this.setFoveation=function(F){null!==d&&(d.fixedFoveation=F),null!==u&&void 0!==u.fixedFoveation&&(u.fixedFoveation=F)};let q=null;const B=new h2;B.setAnimationLoop(function O(F,Y){if(l=Y.getViewerPose(a),h=Y,null!==l){const ce=l.views;null!==u&&(t.setRenderTargetFramebuffer(g,u.framebuffer),t.setRenderTarget(g));let ee=!1;ce.length!==w.cameras.length&&(w.cameras.length=0,ee=!0);for(let Ke=0;Ke<ce.length;Ke++){const Ye=ce[Ke];let ot=null;if(null!==u)ot=u.getViewport(Ye);else{const tt=c.getViewSubImage(d,Ye);ot=tt.viewport,0===Ke&&(t.setRenderTargetTextures(g,tt.colorTexture,d.ignoreDepthValues?void 0:tt.depthStencilTexture),t.setRenderTarget(g))}const ae=b[Ke];ae.matrix.fromArray(Ye.transform.matrix),ae.projectionMatrix.fromArray(Ye.projectionMatrix),ae.viewport.set(ot.x,ot.y,ot.width,ot.height),0===Ke&&w.matrix.copy(ae.matrix),!0===ee&&w.cameras.push(ae)}}const K=s.inputSources;for(let ce=0;ce<m.length;ce++)m[ce].update(K[ce],Y,a);q&&q(F,Y),h=null}),this.setAnimationLoop=function(F){q=F},this.dispose=function(){}}}function qse(i,t){function s(g,m){g.opacity.value=m.opacity,m.color&&g.diffuse.value.copy(m.color),m.emissive&&g.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.bumpMap&&(g.bumpMap.value=m.bumpMap,g.bumpScale.value=m.bumpScale,1===m.side&&(g.bumpScale.value*=-1)),m.displacementMap&&(g.displacementMap.value=m.displacementMap,g.displacementScale.value=m.displacementScale,g.displacementBias.value=m.displacementBias),m.emissiveMap&&(g.emissiveMap.value=m.emissiveMap),m.normalMap&&(g.normalMap.value=m.normalMap,g.normalScale.value.copy(m.normalScale),1===m.side&&g.normalScale.value.negate()),m.specularMap&&(g.specularMap.value=m.specularMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest);const _=t.get(m).envMap;if(_&&(g.envMap.value=_,g.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,g.reflectivity.value=m.reflectivity,g.ior.value=m.ior,g.refractionRatio.value=m.refractionRatio),m.lightMap){g.lightMap.value=m.lightMap;const b=!0!==i.physicallyCorrectLights?Math.PI:1;g.lightMapIntensity.value=m.lightMapIntensity*b}let v,y;m.aoMap&&(g.aoMap.value=m.aoMap,g.aoMapIntensity.value=m.aoMapIntensity),m.map?v=m.map:m.specularMap?v=m.specularMap:m.displacementMap?v=m.displacementMap:m.normalMap?v=m.normalMap:m.bumpMap?v=m.bumpMap:m.roughnessMap?v=m.roughnessMap:m.metalnessMap?v=m.metalnessMap:m.alphaMap?v=m.alphaMap:m.emissiveMap?v=m.emissiveMap:m.clearcoatMap?v=m.clearcoatMap:m.clearcoatNormalMap?v=m.clearcoatNormalMap:m.clearcoatRoughnessMap?v=m.clearcoatRoughnessMap:m.specularIntensityMap?v=m.specularIntensityMap:m.specularColorMap?v=m.specularColorMap:m.transmissionMap?v=m.transmissionMap:m.thicknessMap?v=m.thicknessMap:m.sheenColorMap?v=m.sheenColorMap:m.sheenRoughnessMap&&(v=m.sheenRoughnessMap),void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),g.uvTransform.value.copy(v.matrix)),m.aoMap?y=m.aoMap:m.lightMap&&(y=m.lightMap),void 0!==y&&(y.isWebGLRenderTarget&&(y=y.texture),!0===y.matrixAutoUpdate&&y.updateMatrix(),g.uv2Transform.value.copy(y.matrix))}return{refreshFogUniforms:function e(g,m){g.fogColor.value.copy(m.color),m.isFog?(g.fogNear.value=m.near,g.fogFar.value=m.far):m.isFogExp2&&(g.fogDensity.value=m.density)},refreshMaterialUniforms:function n(g,m,_,v,y){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(g,m):m.isMeshToonMaterial?(s(g,m),function d(g,m){m.gradientMap&&(g.gradientMap.value=m.gradientMap)}(g,m)):m.isMeshPhongMaterial?(s(g,m),function c(g,m){g.specular.value.copy(m.specular),g.shininess.value=Math.max(m.shininess,1e-4)}(g,m)):m.isMeshStandardMaterial?(s(g,m),function u(g,m){g.roughness.value=m.roughness,g.metalness.value=m.metalness,m.roughnessMap&&(g.roughnessMap.value=m.roughnessMap),m.metalnessMap&&(g.metalnessMap.value=m.metalnessMap),t.get(m).envMap&&(g.envMapIntensity.value=m.envMapIntensity)}(g,m),m.isMeshPhysicalMaterial&&function h(g,m,_){g.ior.value=m.ior,m.sheen>0&&(g.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),g.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(g.sheenColorMap.value=m.sheenColorMap),m.sheenRoughnessMap&&(g.sheenRoughnessMap.value=m.sheenRoughnessMap)),m.clearcoat>0&&(g.clearcoat.value=m.clearcoat,g.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(g.clearcoatMap.value=m.clearcoatMap),m.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap),m.clearcoatNormalMap&&(g.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),g.clearcoatNormalMap.value=m.clearcoatNormalMap,1===m.side&&g.clearcoatNormalScale.value.negate())),m.transmission>0&&(g.transmission.value=m.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),m.transmissionMap&&(g.transmissionMap.value=m.transmissionMap),g.thickness.value=m.thickness,m.thicknessMap&&(g.thicknessMap.value=m.thicknessMap),g.attenuationDistance.value=m.attenuationDistance,g.attenuationColor.value.copy(m.attenuationColor)),g.specularIntensity.value=m.specularIntensity,g.specularColor.value.copy(m.specularColor),m.specularIntensityMap&&(g.specularIntensityMap.value=m.specularIntensityMap),m.specularColorMap&&(g.specularColorMap.value=m.specularColorMap)}(g,m,y)):m.isMeshMatcapMaterial?(s(g,m),function p(g,m){m.matcap&&(g.matcap.value=m.matcap)}(g,m)):m.isMeshDepthMaterial?s(g,m):m.isMeshDistanceMaterial?(s(g,m),function f(g,m){g.referencePosition.value.copy(m.referencePosition),g.nearDistance.value=m.nearDistance,g.farDistance.value=m.farDistance}(g,m)):m.isMeshNormalMaterial?s(g,m):m.isLineBasicMaterial?(function r(g,m){g.diffuse.value.copy(m.color),g.opacity.value=m.opacity}(g,m),m.isLineDashedMaterial&&function a(g,m){g.dashSize.value=m.dashSize,g.totalSize.value=m.dashSize+m.gapSize,g.scale.value=m.scale}(g,m)):m.isPointsMaterial?function o(g,m,_,v){let y;g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.size.value=m.size*_,g.scale.value=.5*v,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest),m.map?y=m.map:m.alphaMap&&(y=m.alphaMap),void 0!==y&&(!0===y.matrixAutoUpdate&&y.updateMatrix(),g.uvTransform.value.copy(y.matrix))}(g,m,_,v):m.isSpriteMaterial?function l(g,m){let _;g.diffuse.value.copy(m.color),g.opacity.value=m.opacity,g.rotation.value=m.rotation,m.map&&(g.map.value=m.map),m.alphaMap&&(g.alphaMap.value=m.alphaMap),m.alphaTest>0&&(g.alphaTest.value=m.alphaTest),m.map?_=m.map:m.alphaMap&&(_=m.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),g.uvTransform.value.copy(_.matrix))}(g,m):m.isShadowMaterial?(g.color.value.copy(m.color),g.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}}}function fi(i={}){const t=void 0!==i.canvas?i.canvas:function Xse(){const i=Wp("canvas");return i.style.display="block",i}(),e=void 0!==i.context?i.context:null,n=void 0===i.depth||i.depth,s=void 0===i.stencil||i.stencil,r=void 0!==i.antialias&&i.antialias,a=void 0===i.premultipliedAlpha||i.premultipliedAlpha,o=void 0!==i.preserveDrawingBuffer&&i.preserveDrawingBuffer,l=void 0!==i.powerPreference?i.powerPreference:"default",c=void 0!==i.failIfMajorPerformanceCaveat&&i.failIfMajorPerformanceCaveat;let d;d=void 0!==i.context?e.getContextAttributes().alpha:void 0!==i.alpha&&i.alpha;let u=null,h=null;const p=[],f=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Gr,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const g=this;let m=!1,_=0,v=0,y=null,b=-1,w=null;const S=new pi,D=new pi;let L=null,H=t.width,N=t.height,C=1,R=null,X=null;const z=new pi(0,0,H,N),q=new pi(0,0,H,N);let O=!1;const B=new j_;let F=!1,Y=!1,K=null;const ce=new nt,ee=new le,Ke=new M,Ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ot(){return null===y?C:1}let ct,oe,ie,Oe,V,te,he,Ve,Me,Te,qe,at,Jt,di,P,T,se,ye,We,Ze,ft,k,De,ae=e;function tt(I,Q){for(let re=0;re<I.length;re++){const me=t.getContext(I[re],Q);if(null!==me)return me}return null}try{const I={alpha:!0,depth:n,stencil:s,antialias:r,premultipliedAlpha:a,preserveDrawingBuffer:o,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r139"),t.addEventListener("webglcontextlost",G,!1),t.addEventListener("webglcontextrestored",Ne,!1),null===ae){const Q=["webgl2","webgl","experimental-webgl"];if(!0===g.isWebGL1Renderer&&Q.shift(),ae=tt(Q,I),null===ae)throw tt(Q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ae.getShaderPrecisionFormat&&(ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(I){throw console.error("THREE.WebGLRenderer: "+I.message),I}function lt(){ct=new pne(ae),oe=new one(ae,ct,i),ct.init(oe),k=new jse(ae,ct,oe),ie=new Use(ae,ct,oe),Oe=new gne(ae),V=new Ise,te=new Wse(ae,ct,ie,V,oe,k,Oe),he=new cne(g),Ve=new hne(g),Me=new ote(ae,oe),De=new rne(ae,ct,Me,oe),Te=new fne(ae,Me,Oe,De),qe=new xne(ae,Te,Me,Oe),We=new yne(ae,oe,te),T=new lne(V),at=new Rse(g,he,Ve,ct,oe,De,T),Jt=new qse(g,V),di=new Pse,P=new Hse(ct,oe),ye=new sne(g,he,ie,qe,d,a),se=new G2(g,qe,oe),Ze=new ane(ae,ct,Oe,oe),ft=new mne(ae,ct,Oe,oe),Oe.programs=at.programs,g.capabilities=oe,g.extensions=ct,g.properties=V,g.renderLists=di,g.shadowMap=se,g.state=ie,g.info=Oe}lt();const He=new Yse(g,ae);function G(I){I.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Ne(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;const I=Oe.autoReset,Q=se.enabled,re=se.autoUpdate,J=se.needsUpdate,me=se.type;lt(),Oe.autoReset=I,se.enabled=Q,se.autoUpdate=re,se.needsUpdate=J,se.type=me}function Fe(I){const Q=I.target;Q.removeEventListener("dispose",Fe),function xt(I){(function Xe(I){const Q=V.get(I).programs;void 0!==Q&&(Q.forEach(function(re){at.releaseProgram(re)}),I.isShaderMaterial&&at.releaseShaderCache(I))})(I),V.remove(I)}(Q)}this.xr=He,this.getContext=function(){return ae},this.getContextAttributes=function(){return ae.getContextAttributes()},this.forceContextLoss=function(){const I=ct.get("WEBGL_lose_context");I&&I.loseContext()},this.forceContextRestore=function(){const I=ct.get("WEBGL_lose_context");I&&I.restoreContext()},this.getPixelRatio=function(){return C},this.setPixelRatio=function(I){void 0!==I&&(C=I,this.setSize(H,N,!1))},this.getSize=function(I){return I.set(H,N)},this.setSize=function(I,Q,re){He.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(H=I,N=Q,t.width=Math.floor(I*C),t.height=Math.floor(Q*C),!1!==re&&(t.style.width=I+"px",t.style.height=Q+"px"),this.setViewport(0,0,I,Q))},this.getDrawingBufferSize=function(I){return I.set(H*C,N*C).floor()},this.setDrawingBufferSize=function(I,Q,re){H=I,N=Q,C=re,t.width=Math.floor(I*re),t.height=Math.floor(Q*re),this.setViewport(0,0,I,Q)},this.getCurrentViewport=function(I){return I.copy(S)},this.getViewport=function(I){return I.copy(z)},this.setViewport=function(I,Q,re,J){I.isVector4?z.set(I.x,I.y,I.z,I.w):z.set(I,Q,re,J),ie.viewport(S.copy(z).multiplyScalar(C).floor())},this.getScissor=function(I){return I.copy(q)},this.setScissor=function(I,Q,re,J){I.isVector4?q.set(I.x,I.y,I.z,I.w):q.set(I,Q,re,J),ie.scissor(D.copy(q).multiplyScalar(C).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(I){ie.setScissorTest(O=I)},this.setOpaqueSort=function(I){R=I},this.setTransparentSort=function(I){X=I},this.getClearColor=function(I){return I.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor.apply(ye,arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha.apply(ye,arguments)},this.clear=function(I=!0,Q=!0,re=!0){let J=0;I&&(J|=16384),Q&&(J|=256),re&&(J|=1024),ae.clear(J)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",G,!1),t.removeEventListener("webglcontextrestored",Ne,!1),di.dispose(),P.dispose(),V.dispose(),he.dispose(),Ve.dispose(),qe.dispose(),De.dispose(),at.dispose(),He.dispose(),He.removeEventListener("sessionstart",Pt),He.removeEventListener("sessionend",Ii),K&&(K.dispose(),K=null),ii.stop()},this.renderBufferDirect=function(I,Q,re,J,me,Mt){null===Q&&(Q=Ye);const Vt=me.isMesh&&me.matrixWorld.determinant()<0,$t=function SDe(I,Q,re,J,me){!0!==Q.isScene&&(Q=Ye),te.resetTextureUnits();const Mt=Q.fog,$t=null===y?g.outputEncoding:!0===y.isXRRenderTarget?y.texture.encoding:Gr,Ut=(J.isMeshStandardMaterial?Ve:he).get(J.envMap||(J.isMeshStandardMaterial?Q.environment:null)),mi=!0===J.vertexColors&&!!re.attributes.color&&4===re.attributes.color.itemSize,si=!!J.normalMap&&!!re.attributes.tangent,li=!!re.morphAttributes.position,Ki=!!re.morphAttributes.normal,Jc=!!re.morphAttributes.color,bh=J.toneMapped?g.toneMapping:0,wh=re.morphAttributes.position||re.morphAttributes.normal||re.morphAttributes.color,Na=void 0!==wh?wh.length:0,ui=V.get(J),Ch=h.state.lights;!0!==F||!0!==Y&&I===w||T.setState(J,I,I===w&&J.id===b);let bn=!1;J.version===ui.__version?(ui.needsLights&&ui.lightsStateVersion!==Ch.state.version||ui.outputEncoding!==$t||me.isInstancedMesh&&!1===ui.instancing||!me.isInstancedMesh&&!0===ui.instancing||me.isSkinnedMesh&&!1===ui.skinning||!me.isSkinnedMesh&&!0===ui.skinning||ui.envMap!==Ut||J.fog&&ui.fog!==Mt||void 0!==ui.numClippingPlanes&&(ui.numClippingPlanes!==T.numPlanes||ui.numIntersection!==T.numIntersection)||ui.vertexAlphas!==mi||ui.vertexTangents!==si||ui.morphTargets!==li||ui.morphNormals!==Ki||ui.morphColors!==Jc||ui.toneMapping!==bh||!0===oe.isWebGL2&&ui.morphTargetsCount!==Na)&&(bn=!0):(bn=!0,ui.__version=J.version);let Ba=ui.currentProgram;!0===bn&&(Ba=aA(J,Q,me));let Ml=!1,dm=!1,oA=!1;const ls=Ba.getUniforms(),um=ui.uniforms;if(ie.useProgram(Ba.program)&&(Ml=!0,dm=!0,oA=!0),J.id!==b&&(b=J.id,dm=!0),Ml||w!==I){if(ls.setValue(ae,"projectionMatrix",I.projectionMatrix),oe.logarithmicDepthBuffer&&ls.setValue(ae,"logDepthBufFC",2/(Math.log(I.far+1)/Math.LN2)),w!==I&&(w=I,dm=!0,oA=!0),J.isShaderMaterial||J.isMeshPhongMaterial||J.isMeshToonMaterial||J.isMeshStandardMaterial||J.envMap){const na=ls.map.cameraPosition;void 0!==na&&na.setValue(ae,Ke.setFromMatrixPosition(I.matrixWorld))}(J.isMeshPhongMaterial||J.isMeshToonMaterial||J.isMeshLambertMaterial||J.isMeshBasicMaterial||J.isMeshStandardMaterial||J.isShaderMaterial)&&ls.setValue(ae,"isOrthographic",!0===I.isOrthographicCamera),(J.isMeshPhongMaterial||J.isMeshToonMaterial||J.isMeshLambertMaterial||J.isMeshBasicMaterial||J.isMeshStandardMaterial||J.isShaderMaterial||J.isShadowMaterial||me.isSkinnedMesh)&&ls.setValue(ae,"viewMatrix",I.matrixWorldInverse)}if(me.isSkinnedMesh){ls.setOptional(ae,me,"bindMatrix"),ls.setOptional(ae,me,"bindMatrixInverse");const na=me.skeleton;na&&(oe.floatVertexTextures?(null===na.boneTexture&&na.computeBoneTexture(),ls.setValue(ae,"boneTexture",na.boneTexture,te),ls.setValue(ae,"boneTextureSize",na.boneTextureSize)):ls.setOptional(ae,na,"boneMatrices"))}const lA=re.morphAttributes;return(void 0!==lA.position||void 0!==lA.normal||void 0!==lA.color&&!0===oe.isWebGL2)&&We.update(me,re,J,Ba),(dm||ui.receiveShadow!==me.receiveShadow)&&(ui.receiveShadow=me.receiveShadow,ls.setValue(ae,"receiveShadow",me.receiveShadow)),dm&&(ls.setValue(ae,"toneMappingExposure",g.toneMappingExposure),ui.needsLights&&function MDe(I,Q){I.ambientLightColor.needsUpdate=Q,I.lightProbe.needsUpdate=Q,I.directionalLights.needsUpdate=Q,I.directionalLightShadows.needsUpdate=Q,I.pointLights.needsUpdate=Q,I.pointLightShadows.needsUpdate=Q,I.spotLights.needsUpdate=Q,I.spotLightShadows.needsUpdate=Q,I.rectAreaLights.needsUpdate=Q,I.hemisphereLights.needsUpdate=Q}(um,oA),Mt&&J.fog&&Jt.refreshFogUniforms(um,Mt),Jt.refreshMaterialUniforms(um,J,C,N,K),cl.upload(ae,ui.uniformsList,um,te)),J.isShaderMaterial&&!0===J.uniformsNeedUpdate&&(cl.upload(ae,ui.uniformsList,um,te),J.uniformsNeedUpdate=!1),J.isSpriteMaterial&&ls.setValue(ae,"center",me.center),ls.setValue(ae,"modelViewMatrix",me.modelViewMatrix),ls.setValue(ae,"normalMatrix",me.normalMatrix),ls.setValue(ae,"modelMatrix",me.matrixWorld),Ba}(I,Q,re,J,me);ie.setMaterial(J,Vt);let Ut=re.index;const mi=re.attributes.position;if(null===Ut){if(void 0===mi||0===mi.count)return}else if(0===Ut.count)return;let si=1;!0===J.wireframe&&(Ut=Te.getWireframeAttribute(re),si=2),De.setup(me,J,$t,re,Ut);let li,Ki=Ze;null!==Ut&&(li=Me.get(Ut),Ki=ft,Ki.setIndex(li));const Jc=null!==Ut?Ut.count:mi.count,bh=re.drawRange.start*si,wh=re.drawRange.count*si,Na=null!==Mt?Mt.start*si:0,ui=null!==Mt?Mt.count*si:1/0,Ch=Math.max(bh,Na),bn=Math.min(Jc,bh+wh,Na+ui)-1,Ba=Math.max(0,bn-Ch+1);if(0!==Ba){if(me.isMesh)!0===J.wireframe?(ie.setLineWidth(J.wireframeLinewidth*ot()),Ki.setMode(1)):Ki.setMode(4);else if(me.isLine){let Ml=J.linewidth;void 0===Ml&&(Ml=1),ie.setLineWidth(Ml*ot()),Ki.setMode(me.isLineSegments?1:me.isLineLoop?2:3)}else me.isPoints?Ki.setMode(0):me.isSprite&&Ki.setMode(4);if(me.isInstancedMesh)Ki.renderInstances(Ch,Ba,me.count);else if(re.isInstancedBufferGeometry){const Ml=Math.min(re.instanceCount,re._maxInstanceCount);Ki.renderInstances(Ch,Ba,Ml)}else Ki.render(Ch,Ba)}},this.compile=function(I,Q){h=P.get(I),h.init(),f.push(h),I.traverseVisible(function(re){re.isLight&&re.layers.test(Q.layers)&&(h.pushLight(re),re.castShadow&&h.pushShadow(re))}),h.setupLights(g.physicallyCorrectLights),I.traverse(function(re){const J=re.material;if(J)if(Array.isArray(J))for(let me=0;me<J.length;me++)aA(J[me],I,re);else aA(J,I,re)}),f.pop(),h=null};let dt=null;function Pt(){ii.stop()}function Ii(){ii.start()}const ii=new h2;function Fa(I,Q,re,J){if(!1===I.visible)return;if(I.layers.test(Q.layers))if(I.isGroup)re=I.renderOrder;else if(I.isLOD)!0===I.autoUpdate&&I.update(Q);else if(I.isLight)h.pushLight(I),I.castShadow&&h.pushShadow(I);else if(I.isSprite){if(!I.frustumCulled||B.intersectsSprite(I)){J&&Ke.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ce);const Vt=qe.update(I),$t=I.material;$t.visible&&u.push(I,Vt,$t,re,Ke.z,null)}}else if((I.isMesh||I.isLine||I.isPoints)&&(I.isSkinnedMesh&&I.skeleton.frame!==Oe.render.frame&&(I.skeleton.update(),I.skeleton.frame=Oe.render.frame),!I.frustumCulled||B.intersectsObject(I))){J&&Ke.setFromMatrixPosition(I.matrixWorld).applyMatrix4(ce);const Vt=qe.update(I),$t=I.material;if(Array.isArray($t)){const Ut=Vt.groups;for(let mi=0,si=Ut.length;mi<si;mi++){const li=Ut[mi],Ki=$t[li.materialIndex];Ki&&Ki.visible&&u.push(I,Vt,Ki,re,Ke.z,li)}}else $t.visible&&u.push(I,Vt,$t,re,Ke.z,null)}const Mt=I.children;for(let Vt=0,$t=Mt.length;Vt<$t;Vt++)Fa(Mt[Vt],Q,re,J)}function Oa(I,Q,re,J){const me=I.opaque,Mt=I.transmissive,Vt=I.transparent;h.setupLightsView(re),Mt.length>0&&function wDe(I,Q,re){const J=oe.isWebGL2;null===K&&(K=new js(1,1,{generateMipmaps:!0,type:null!==k.convert(ba)?ba:ec,minFilter:Jo,samples:J&&!0===r?4:0})),g.getDrawingBufferSize(ee),J?K.setSize(ee.x,ee.y):K.setSize(w_(ee.x),w_(ee.y));const me=g.getRenderTarget();g.setRenderTarget(K),g.clear();const Mt=g.toneMapping;g.toneMapping=0,Mx(I,Q,re),g.toneMapping=Mt,te.updateMultisampleRenderTarget(K),te.updateRenderTargetMipmap(K),g.setRenderTarget(me)}(me,Q,re),J&&ie.viewport(S.copy(J)),me.length>0&&Mx(me,Q,re),Mt.length>0&&Mx(Mt,Q,re),Vt.length>0&&Mx(Vt,Q,re),ie.buffers.depth.setTest(!0),ie.buffers.depth.setMask(!0),ie.buffers.color.setMask(!0),ie.setPolygonOffset(!1)}function Mx(I,Q,re){const J=!0===Q.isScene?Q.overrideMaterial:null;for(let me=0,Mt=I.length;me<Mt;me++){const Vt=I[me],$t=Vt.object,Ut=Vt.geometry,mi=null===J?Vt.material:J,si=Vt.group;$t.layers.test(re.layers)&&CDe($t,Q,re,Ut,mi,si)}}function CDe(I,Q,re,J,me,Mt){I.onBeforeRender(g,Q,re,J,me,Mt),I.modelViewMatrix.multiplyMatrices(re.matrixWorldInverse,I.matrixWorld),I.normalMatrix.getNormalMatrix(I.modelViewMatrix),me.onBeforeRender(g,Q,re,J,I,Mt),!0===me.transparent&&2===me.side?(me.side=1,me.needsUpdate=!0,g.renderBufferDirect(re,Q,J,me,I,Mt),me.side=0,me.needsUpdate=!0,g.renderBufferDirect(re,Q,J,me,I,Mt),me.side=2):g.renderBufferDirect(re,Q,J,me,I,Mt),I.onAfterRender(g,Q,re,J,me,Mt)}function aA(I,Q,re){!0!==Q.isScene&&(Q=Ye);const J=V.get(I),me=h.state.lights,Vt=me.state.version,$t=at.getParameters(I,me.state,h.state.shadowsArray,Q,re),Ut=at.getProgramCacheKey($t);let mi=J.programs;J.environment=I.isMeshStandardMaterial?Q.environment:null,J.fog=Q.fog,J.envMap=(I.isMeshStandardMaterial?Ve:he).get(I.envMap||J.environment),void 0===mi&&(I.addEventListener("dispose",Fe),mi=new Map,J.programs=mi);let si=mi.get(Ut);if(void 0!==si){if(J.currentProgram===si&&J.lightsStateVersion===Vt)return gU(I,$t),si}else $t.uniforms=at.getUniforms(I),I.onBuild(re,$t,g),I.onBeforeCompile($t,g),si=at.acquireProgram($t,Ut),mi.set(Ut,si),J.uniforms=$t.uniforms;const li=J.uniforms;(!I.isShaderMaterial&&!I.isRawShaderMaterial||!0===I.clipping)&&(li.clippingPlanes=T.uniform),gU(I,$t),J.needsLights=function TDe(I){return I.isMeshLambertMaterial||I.isMeshToonMaterial||I.isMeshPhongMaterial||I.isMeshStandardMaterial||I.isShadowMaterial||I.isShaderMaterial&&!0===I.lights}(I),J.lightsStateVersion=Vt,J.needsLights&&(li.ambientLightColor.value=me.state.ambient,li.lightProbe.value=me.state.probe,li.directionalLights.value=me.state.directional,li.directionalLightShadows.value=me.state.directionalShadow,li.spotLights.value=me.state.spot,li.spotLightShadows.value=me.state.spotShadow,li.rectAreaLights.value=me.state.rectArea,li.ltc_1.value=me.state.rectAreaLTC1,li.ltc_2.value=me.state.rectAreaLTC2,li.pointLights.value=me.state.point,li.pointLightShadows.value=me.state.pointShadow,li.hemisphereLights.value=me.state.hemi,li.directionalShadowMap.value=me.state.directionalShadowMap,li.directionalShadowMatrix.value=me.state.directionalShadowMatrix,li.spotShadowMap.value=me.state.spotShadowMap,li.spotShadowMatrix.value=me.state.spotShadowMatrix,li.pointShadowMap.value=me.state.pointShadowMap,li.pointShadowMatrix.value=me.state.pointShadowMatrix);const Ki=si.getUniforms(),Jc=cl.seqWithValue(Ki.seq,li);return J.currentProgram=si,J.uniformsList=Jc,si}function gU(I,Q){const re=V.get(I);re.outputEncoding=Q.outputEncoding,re.instancing=Q.instancing,re.skinning=Q.skinning,re.morphTargets=Q.morphTargets,re.morphNormals=Q.morphNormals,re.morphColors=Q.morphColors,re.morphTargetsCount=Q.morphTargetsCount,re.numClippingPlanes=Q.numClippingPlanes,re.numIntersection=Q.numClipIntersection,re.vertexAlphas=Q.vertexAlphas,re.vertexTangents=Q.vertexTangents,re.toneMapping=Q.toneMapping}ii.setAnimationLoop(function ze(I){dt&&dt(I)}),"undefined"!=typeof self&&ii.setContext(self),this.setAnimationLoop=function(I){dt=I,He.setAnimationLoop(I),null===I?ii.stop():ii.start()},He.addEventListener("sessionstart",Pt),He.addEventListener("sessionend",Ii),this.render=function(I,Q){if(void 0===Q||!0===Q.isCamera){if(!0!==m){if(!0===I.autoUpdate&&I.updateMatrixWorld(),null===Q.parent&&Q.updateMatrixWorld(),!0===He.enabled&&!0===He.isPresenting&&(!0===He.cameraAutoUpdate&&He.updateCamera(Q),Q=He.getCamera()),!0===I.isScene&&I.onBeforeRender(g,I,Q,y),h=P.get(I,f.length),h.init(),f.push(h),ce.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),B.setFromProjectionMatrix(ce),Y=this.localClippingEnabled,F=T.init(this.clippingPlanes,Y,Q),u=di.get(I,p.length),u.init(),p.push(u),Fa(I,Q,0,g.sortObjects),u.finish(),!0===g.sortObjects&&u.sort(R,X),!0===F&&T.beginShadows(),se.render(h.state.shadowsArray,I,Q),!0===F&&T.endShadows(),!0===this.info.autoReset&&this.info.reset(),ye.render(u,I),h.setupLights(g.physicallyCorrectLights),Q.isArrayCamera){const J=Q.cameras;for(let me=0,Mt=J.length;me<Mt;me++){const Vt=J[me];Oa(u,I,Vt,Vt.viewport)}}else Oa(u,I,Q);null!==y&&(te.updateMultisampleRenderTarget(y),te.updateRenderTargetMipmap(y)),!0===I.isScene&&I.onAfterRender(g,I,Q),De.resetDefaultState(),b=-1,w=null,f.pop(),h=f.length>0?f[f.length-1]:null,p.pop(),u=p.length>0?p[p.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return v},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function(I,Q,re){V.get(I.texture).__webglTexture=Q,V.get(I.depthTexture).__webglTexture=re;const J=V.get(I);J.__hasExternalTextures=!0,J.__hasExternalTextures&&(J.__autoAllocateDepthBuffer=void 0===re,J.__autoAllocateDepthBuffer||!0===ct.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),J.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(I,Q){const re=V.get(I);re.__webglFramebuffer=Q,re.__useDefaultFramebuffer=void 0===Q},this.setRenderTarget=function(I,Q=0,re=0){y=I,_=Q,v=re;let J=!0;if(I){const Ut=V.get(I);void 0!==Ut.__useDefaultFramebuffer?(ie.bindFramebuffer(36160,null),J=!1):void 0===Ut.__webglFramebuffer?te.setupRenderTarget(I):Ut.__hasExternalTextures&&te.rebindTextures(I,V.get(I.texture).__webglTexture,V.get(I.depthTexture).__webglTexture)}let me=null,Mt=!1,Vt=!1;if(I){const Ut=I.texture;(Ut.isData3DTexture||Ut.isDataArrayTexture)&&(Vt=!0);const mi=V.get(I).__webglFramebuffer;I.isWebGLCubeRenderTarget?(me=mi[Q],Mt=!0):me=oe.isWebGL2&&I.samples>0&&!1===te.useMultisampledRTT(I)?V.get(I).__webglMultisampledFramebuffer:mi,S.copy(I.viewport),D.copy(I.scissor),L=I.scissorTest}else S.copy(z).multiplyScalar(C).floor(),D.copy(q).multiplyScalar(C).floor(),L=O;if(ie.bindFramebuffer(36160,me)&&oe.drawBuffers&&J&&ie.drawBuffers(I,me),ie.viewport(S),ie.scissor(D),ie.setScissorTest(L),Mt){const Ut=V.get(I.texture);ae.framebufferTexture2D(36160,36064,34069+Q,Ut.__webglTexture,re)}else if(Vt){const Ut=V.get(I.texture);ae.framebufferTextureLayer(36160,36064,Ut.__webglTexture,re||0,Q||0)}b=-1},this.readRenderTargetPixels=function(I,Q,re,J,me,Mt,Vt){if(!I||!I.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let $t=V.get(I).__webglFramebuffer;if(I.isWebGLCubeRenderTarget&&void 0!==Vt&&($t=$t[Vt]),$t){ie.bindFramebuffer(36160,$t);try{const Ut=I.texture,mi=Ut.format,si=Ut.type;if(mi!==fr&&k.convert(mi)!==ae.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const li=si===ba&&(ct.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ct.has("EXT_color_buffer_float"));if(!(si===ec||k.convert(si)===ae.getParameter(35738)||si===zr&&(oe.isWebGL2||ct.has("OES_texture_float")||ct.has("WEBGL_color_buffer_float"))||li))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Q>=0&&Q<=I.width-J&&re>=0&&re<=I.height-me&&ae.readPixels(Q,re,J,me,k.convert(mi),k.convert(si),Mt)}finally{const Ut=null!==y?V.get(y).__webglFramebuffer:null;ie.bindFramebuffer(36160,Ut)}}},this.copyFramebufferToTexture=function(I,Q,re=0){if(!0!==Q.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const J=Math.pow(2,-re),me=Math.floor(Q.image.width*J),Mt=Math.floor(Q.image.height*J);te.setTexture2D(Q,0),ae.copyTexSubImage2D(3553,re,0,0,I.x,I.y,me,Mt),ie.unbindTexture()},this.copyTextureToTexture=function(I,Q,re,J=0){const me=Q.image.width,Mt=Q.image.height,Vt=k.convert(re.format),$t=k.convert(re.type);te.setTexture2D(re,0),ae.pixelStorei(37440,re.flipY),ae.pixelStorei(37441,re.premultiplyAlpha),ae.pixelStorei(3317,re.unpackAlignment),Q.isDataTexture?ae.texSubImage2D(3553,J,I.x,I.y,me,Mt,Vt,$t,Q.image.data):Q.isCompressedTexture?ae.compressedTexSubImage2D(3553,J,I.x,I.y,Q.mipmaps[0].width,Q.mipmaps[0].height,Vt,Q.mipmaps[0].data):ae.texSubImage2D(3553,J,I.x,I.y,Vt,$t,Q.image),0===J&&re.generateMipmaps&&ae.generateMipmap(3553),ie.unbindTexture()},this.copyTextureToTexture3D=function(I,Q,re,J,me=0){if(g.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Mt=I.max.x-I.min.x+1,Vt=I.max.y-I.min.y+1,$t=I.max.z-I.min.z+1,Ut=k.convert(J.format),mi=k.convert(J.type);let si;if(J.isData3DTexture)te.setTexture3D(J,0),si=32879;else{if(!J.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");te.setTexture2DArray(J,0),si=35866}ae.pixelStorei(37440,J.flipY),ae.pixelStorei(37441,J.premultiplyAlpha),ae.pixelStorei(3317,J.unpackAlignment);const li=ae.getParameter(3314),Ki=ae.getParameter(32878),Jc=ae.getParameter(3316),bh=ae.getParameter(3315),wh=ae.getParameter(32877),Na=re.isCompressedTexture?re.mipmaps[0]:re.image;ae.pixelStorei(3314,Na.width),ae.pixelStorei(32878,Na.height),ae.pixelStorei(3316,I.min.x),ae.pixelStorei(3315,I.min.y),ae.pixelStorei(32877,I.min.z),re.isDataTexture||re.isData3DTexture?ae.texSubImage3D(si,me,Q.x,Q.y,Q.z,Mt,Vt,$t,Ut,mi,Na.data):re.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ae.compressedTexSubImage3D(si,me,Q.x,Q.y,Q.z,Mt,Vt,$t,Ut,Na.data)):ae.texSubImage3D(si,me,Q.x,Q.y,Q.z,Mt,Vt,$t,Ut,mi,Na),ae.pixelStorei(3314,li),ae.pixelStorei(32878,Ki),ae.pixelStorei(3316,Jc),ae.pixelStorei(3315,bh),ae.pixelStorei(32877,wh),0===me&&J.generateMipmaps&&ae.generateMipmap(si),ie.unbindTexture()},this.initTexture=function(I){te.setTexture2D(I,0),ie.unbindTexture()},this.resetState=function(){_=0,v=0,y=null,ie.reset(),De.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}fi.prototype.isWebGLRenderer=!0,class Qse extends fi{}.prototype.isWebGL1Renderer=!0;class q_{constructor(t,e=25e-5){this.name="",this.color=new Re(t),this.density=e}clone(){return new q_(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}q_.prototype.isFogExp2=!0;class X_{constructor(t,e=1,n=1e3){this.name="",this.color=new Re(t),this.near=e,this.far=n}clone(){return new X_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}X_.prototype.isFog=!0;class Q_ extends ci{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}Q_.prototype.isScene=!0;class mc{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Hp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ws()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[n+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ws()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ws()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}mc.prototype.isInterleavedBuffer=!0;const xs=new M;class dl{constructor(t,e,n,s=!1){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)xs.fromBufferAttribute(this,e),xs.applyMatrix4(t),this.setXYZ(e,xs.x,xs.y,xs.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)xs.fromBufferAttribute(this,e),xs.applyNormalMatrix(t),this.setXYZ(e,xs.x,xs.y,xs.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)xs.fromBufferAttribute(this,e),xs.transformDirection(t),this.setXYZ(e,xs.x,xs.y,xs.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,s){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=s,this}setXYZW(t,e,n,s,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new _i(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new dl(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let n=0;n<this.count;n++){const s=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}dl.prototype.isInterleavedBufferAttribute=!0;class cS extends Ui{constructor(t){super(),this.type="SpriteMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let ku;cS.prototype.isSpriteMaterial=!0;const Zp=new M,Ru=new M,Iu=new M,Lu=new le,Jp=new le,j2=new nt,K_=new M,ef=new M,Z_=new M,$2=new le,dS=new le,Y2=new le;function J_(i,t,e,n,s,r){Lu.subVectors(i,e).addScalar(.5).multiply(n),void 0!==s?(Jp.x=r*Lu.x-s*Lu.y,Jp.y=s*Lu.x+r*Lu.y):Jp.copy(Lu),i.copy(t),i.x+=Jp.x,i.y+=Jp.y,i.applyMatrix4(j2)}(class q2 extends ci{constructor(t){if(super(),this.type="Sprite",void 0===ku){ku=new yt;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new mc(e,5);ku.setIndex([0,1,2,0,2,3]),ku.setAttribute("position",new dl(n,3,0,!1)),ku.setAttribute("uv",new dl(n,2,3,!1))}this.geometry=ku,this.material=void 0!==t?t:new cS,this.center=new le(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ru.setFromMatrixScale(this.matrixWorld),j2.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Iu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ru.multiplyScalar(-Iu.z);const n=this.material.rotation;let s,r;0!==n&&(r=Math.cos(n),s=Math.sin(n));const a=this.center;J_(K_.set(-.5,-.5,0),Iu,a,Ru,s,r),J_(ef.set(.5,-.5,0),Iu,a,Ru,s,r),J_(Z_.set(.5,.5,0),Iu,a,Ru,s,r),$2.set(0,0),dS.set(1,0),Y2.set(1,1);let o=t.ray.intersectTriangle(K_,ef,Z_,!1,Zp);if(null===o&&(J_(ef.set(-.5,.5,0),Iu,a,Ru,s,r),dS.set(0,1),o=t.ray.intersectTriangle(K_,Z_,ef,!1,Zp),null===o))return;const l=t.ray.origin.distanceTo(Zp);l<t.near||l>t.far||e.push({distance:l,point:Zp.clone(),uv:gn.getUV(Zp,K_,ef,Z_,$2,dS,Y2,new le),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}).prototype.isSprite=!0;const Q2=new M,K2=new pi,Z2=new pi,Zse=new M,J2=new nt;class tv extends In{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new nt,this.bindMatrixInverse=new nt}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new pi,e=this.geometry.attributes.skinWeight;for(let n=0,s=e.count;n<s;n++){t.fromBufferAttribute(e,n);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const n=this.skeleton,s=this.geometry;K2.fromBufferAttribute(s.attributes.skinIndex,t),Z2.fromBufferAttribute(s.attributes.skinWeight,t),Q2.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const a=Z2.getComponent(r);if(0!==a){const o=K2.getComponent(r);J2.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(Zse.copy(Q2).applyMatrix4(J2),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}tv.prototype.isSkinnedMesh=!0;class iv extends ci{constructor(){super(),this.type="Bone"}}iv.prototype.isBone=!0;class Pu extends ns{constructor(t=null,e=1,n=1,s,r,a,o,l,c=mn,d=mn,u,h){super(null,a,o,l,c,d,s,r,u,h),this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Pu.prototype.isDataTexture=!0;const eN=new nt,Jse=new nt;class nv{constructor(t=[],e=[]){this.uuid=Ws(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,s=this.bones.length;n<s;n++)this.boneInverses.push(new nt)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const n=new nt;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const n=this.bones[t];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,s=this.boneTexture;for(let r=0,a=t.length;r<a;r++)eN.multiplyMatrices(t[r]?t[r].matrixWorld:Jse,e[r]),eN.toArray(n,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new nv(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=qO(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new Pu(e,t,t,fr,zr);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,s=t.bones.length;n<s;n++){const r=t.bones[n];let a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new iv),this.bones.push(a),this.boneInverses.push((new nt).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let s=0,r=e.length;s<r;s++)t.bones.push(e[s].uuid),t.boneInverses.push(n[s].toArray());return t}}class Fu extends _i{constructor(t,e,n,s=1){"number"==typeof n&&(s=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,n),this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Fu.prototype.isInstancedBufferAttribute=!0;const tN=new nt,iN=new nt,sv=[],tf=new In;(class nN extends In{constructor(t,e,n){super(t,e),this.instanceMatrix=new Fu(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const n=this.matrixWorld,s=this.count;if(tf.geometry=this.geometry,tf.material=this.material,void 0!==tf.material)for(let r=0;r<s;r++){this.getMatrixAt(r,tN),iN.multiplyMatrices(n,tN),tf.matrixWorld=iN,tf.raycast(t,sv);for(let a=0,o=sv.length;a<o;a++){const l=sv[a];l.instanceId=r,l.object=this,e.push(l)}sv.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Fu(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class Hn extends Ui{constructor(t){super(),this.type="LineBasicMaterial",this.color=new Re(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}Hn.prototype.isLineBasicMaterial=!0;const sN=new M,rN=new M,aN=new nt,uS=new dc,rv=new nl;class ul extends ci{constructor(t=new yt,e=new Hn){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[0];for(let s=1,r=e.count;s<r;s++)sN.fromBufferAttribute(e,s-1),rN.fromBufferAttribute(e,s),n[s]=n[s-1],n[s]+=sN.distanceTo(rN);t.setAttribute("lineDistance",new rt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const n=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),rv.copy(n.boundingSphere),rv.applyMatrix4(s),rv.radius+=r,!1===t.ray.intersectsSphere(rv))return;aN.copy(s).invert(),uS.copy(t.ray).applyMatrix4(aN);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new M,d=new M,u=new M,h=new M,p=this.isLineSegments?2:1;if(n.isBufferGeometry){const f=n.index,m=n.attributes.position;if(null!==f)for(let y=Math.max(0,a.start),b=Math.min(f.count,a.start+a.count)-1;y<b;y+=p){const w=f.getX(y),S=f.getX(y+1);if(c.fromBufferAttribute(m,w),d.fromBufferAttribute(m,S),uS.distanceSqToSegment(c,d,h,u)>l)continue;h.applyMatrix4(this.matrixWorld);const L=t.ray.origin.distanceTo(h);L<t.near||L>t.far||e.push({distance:L,point:u.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(let y=Math.max(0,a.start),b=Math.min(m.count,a.start+a.count)-1;y<b;y+=p){if(c.fromBufferAttribute(m,y),d.fromBufferAttribute(m,y+1),uS.distanceSqToSegment(c,d,h,u)>l)continue;h.applyMatrix4(this.matrixWorld);const S=t.ray.origin.distanceTo(h);S<t.near||S>t.far||e.push({distance:S,point:u.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}ul.prototype.isLine=!0;const oN=new M,lN=new M;class gc extends ul{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,n=[];for(let s=0,r=e.count;s<r;s+=2)oN.fromBufferAttribute(e,s),lN.fromBufferAttribute(e,s+1),n[s]=0===s?0:n[s-1],n[s+1]=n[s]+oN.distanceTo(lN);t.setAttribute("lineDistance",new rt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}gc.prototype.isLineSegments=!0;class hS extends ul{constructor(t,e){super(t,e),this.type="LineLoop"}}hS.prototype.isLineLoop=!0;class av extends Ui{constructor(t){super(),this.type="PointsMaterial",this.color=new Re(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}av.prototype.isPointsMaterial=!0;const cN=new nt,pS=new dc,ov=new nl,lv=new M;class fS extends ci{constructor(t=new yt,e=new av){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),ov.copy(n.boundingSphere),ov.applyMatrix4(s),ov.radius+=r,!1===t.ray.intersectsSphere(ov))return;cN.copy(s).invert(),pS.copy(t.ray).applyMatrix4(cN);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o;if(n.isBufferGeometry){const c=n.index,u=n.attributes.position;if(null!==c)for(let f=Math.max(0,a.start),g=Math.min(c.count,a.start+a.count);f<g;f++){const m=c.getX(f);lv.fromBufferAttribute(u,m),dN(lv,m,l,s,t,e,this)}else for(let f=Math.max(0,a.start),g=Math.min(u.count,a.start+a.count);f<g;f++)lv.fromBufferAttribute(u,f),dN(lv,f,l,s,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,n=Object.keys(e);if(n.length>0){const s=e[n[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,a=s.length;r<a;r++){const o=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function dN(i,t,e,n,s,r,a){const o=pS.distanceSqToPoint(i);if(o<e){const l=new M;pS.closestPointToPoint(i,l),l.applyMatrix4(n);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:t,face:null,object:a})}}fS.prototype.isPoints=!0,class ere extends ns{constructor(t,e,n,s,r,a,o,l,c){super(t,e,n,s,r,a,o,l,c),this.minFilter=void 0!==a?a:Ti,this.magFilter=void 0!==r?r:Ti,this.generateMipmaps=!1;const d=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function u(){d.needsUpdate=!0,t.requestVideoFrameCallback(u)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class tre extends ns{constructor(t,e,n){super({width:t,height:e}),this.format=n,this.magFilter=mn,this.minFilter=mn,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class uN extends ns{constructor(t,e,n,s,r,a,o,l,c,d,u,h){super(null,a,o,l,c,d,s,r,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class ire extends ns{constructor(t,e,n,s,r,a,o,l,c){super(t,e,n,s,r,a,o,l,c),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class gr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,s=this.getPoint(0),r=0;e.push(0);for(let a=1;a<=t;a++)n=this.getPoint(a/t),r+=n.distanceTo(s),e.push(r),s=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const n=this.getLengths();let s=0;const r=n.length;let a;a=e||t*n[r-1];let c,o=0,l=r-1;for(;o<=l;)if(s=Math.floor(o+(l-o)/2),c=n[s]-a,c<0)o=s+1;else{if(!(c>0)){l=s;break}l=s-1}if(s=l,n[s]===a)return s/(r-1);const d=n[s];return(s+(a-d)/(n[s+1]-d))/(r-1)}getTangent(t,e){const n=1e-4;let s=t-n,r=t+n;s<0&&(s=0),r>1&&(r=1);const a=this.getPoint(s),o=this.getPoint(r),l=e||(a.isVector2?new le:new M);return l.copy(o).sub(a).normalize(),l}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e){const n=new M,s=[],r=[],a=[],o=new M,l=new nt;for(let p=0;p<=t;p++)s[p]=this.getTangentAt(p/t,new M);r[0]=new M,a[0]=new M;let c=Number.MAX_VALUE;const d=Math.abs(s[0].x),u=Math.abs(s[0].y),h=Math.abs(s[0].z);d<=c&&(c=d,n.set(1,0,0)),u<=c&&(c=u,n.set(0,1,0)),h<=c&&n.set(0,0,1),o.crossVectors(s[0],n).normalize(),r[0].crossVectors(s[0],o),a[0].crossVectors(s[0],r[0]);for(let p=1;p<=t;p++){if(r[p]=r[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(s[p-1],s[p]),o.length()>Number.EPSILON){o.normalize();const f=Math.acos(rn(s[p-1].dot(s[p]),-1,1));r[p].applyMatrix4(l.makeRotationAxis(o,f))}a[p].crossVectors(s[p],r[p])}if(!0===e){let p=Math.acos(rn(r[0].dot(r[t]),-1,1));p/=t,s[0].dot(o.crossVectors(r[0],r[t]))>0&&(p=-p);for(let f=1;f<=t;f++)r[f].applyMatrix4(l.makeRotationAxis(s[f],p*f)),a[f].crossVectors(s[f],r[f])}return{tangents:s,normals:r,binormals:a}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class cv extends gr{constructor(t=0,e=0,n=1,s=1,r=0,a=2*Math.PI,o=!1,l=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(t,e){const n=e||new le,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const a=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=a?0:s),!0===this.aClockwise&&!a&&(r===s?r=-s:r-=s);const o=this.aStartAngle+t*r;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=l-this.aX,p=c-this.aY;l=h*d-p*u+this.aX,c=h*u+p*d+this.aY}return n.set(l,c)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}cv.prototype.isEllipseCurve=!0;class hN extends cv{constructor(t,e,n,s,r,a){super(t,e,n,n,s,r,a),this.type="ArcCurve"}}function mS(){let i=0,t=0,e=0,n=0;function s(r,a,o,l){i=r,t=o,e=-3*r+3*a-2*o-l,n=2*r-2*a+o+l}return{initCatmullRom:function(r,a,o,l,c){s(a,o,c*(o-r),c*(l-a))},initNonuniformCatmullRom:function(r,a,o,l,c,d,u){let h=(a-r)/c-(o-r)/(c+d)+(o-a)/d,p=(o-a)/d-(l-a)/(d+u)+(l-o)/u;h*=d,p*=d,s(a,o,h,p)},calc:function(r){const a=r*r;return i+t*r+e*a+n*(a*r)}}}hN.prototype.isArcCurve=!0;const dv=new M,gS=new mS,_S=new mS,vS=new mS;class pN extends gr{constructor(t=[],e=!1,n="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=s}getPoint(t,e=new M){const n=e,s=this.points,r=s.length,a=(r-(this.closed?0:1))*t;let c,d,o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/r)+1)*r:0===l&&o===r-1&&(o=r-2,l=1),this.closed||o>0?c=s[(o-1)%r]:(dv.subVectors(s[0],s[1]).add(s[0]),c=dv);const u=s[o%r],h=s[(o+1)%r];if(this.closed||o+2<r?d=s[(o+2)%r]:(dv.subVectors(s[r-1],s[r-2]).add(s[r-1]),d=dv),"centripetal"===this.curveType||"chordal"===this.curveType){const p="chordal"===this.curveType?.5:.25;let f=Math.pow(c.distanceToSquared(u),p),g=Math.pow(u.distanceToSquared(h),p),m=Math.pow(h.distanceToSquared(d),p);g<1e-4&&(g=1),f<1e-4&&(f=g),m<1e-4&&(m=g),gS.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,f,g,m),_S.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,f,g,m),vS.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,f,g,m)}else"catmullrom"===this.curveType&&(gS.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),_S.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),vS.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return n.set(gS.calc(l),_S.calc(l),vS.calc(l)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const s=t.points[e];this.points.push((new M).fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function fN(i,t,e,n,s){const r=.5*(n-t),a=.5*(s-e),o=i*i;return(2*e-2*n+r+a)*(i*o)+(-3*e+3*n-2*r-a)*o+r*i+e}function nf(i,t,e,n){return function nre(i,t){const e=1-i;return e*e*t}(i,t)+function sre(i,t){return 2*(1-i)*i*t}(i,e)+function rre(i,t){return i*i*t}(i,n)}function sf(i,t,e,n,s){return function are(i,t){const e=1-i;return e*e*e*t}(i,t)+function ore(i,t){const e=1-i;return 3*e*e*i*t}(i,e)+function lre(i,t){return 3*(1-i)*i*i*t}(i,n)+function cre(i,t){return i*i*i*t}(i,s)}pN.prototype.isCatmullRomCurve3=!0;class yS extends gr{constructor(t=new le,e=new le,n=new le,s=new le){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=s}getPoint(t,e=new le){const n=e,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(sf(t,s.x,r.x,a.x,o.x),sf(t,s.y,r.y,a.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}yS.prototype.isCubicBezierCurve=!0;class mN extends gr{constructor(t=new M,e=new M,n=new M,s=new M){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=s}getPoint(t,e=new M){const n=e,s=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(sf(t,s.x,r.x,a.x,o.x),sf(t,s.y,r.y,a.y,o.y),sf(t,s.z,r.z,a.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}mN.prototype.isCubicBezierCurve3=!0;class uv extends gr{constructor(t=new le,e=new le){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new le){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const n=e||new le;return n.copy(this.v2).sub(this.v1).normalize(),n}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}uv.prototype.isLineCurve=!0;class xS extends gr{constructor(t=new le,e=new le,n=new le){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new le){const n=e,s=this.v0,r=this.v1,a=this.v2;return n.set(nf(t,s.x,r.x,a.x),nf(t,s.y,r.y,a.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}xS.prototype.isQuadraticBezierCurve=!0;class bS extends gr{constructor(t=new M,e=new M,n=new M){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new M){const n=e,s=this.v0,r=this.v1,a=this.v2;return n.set(nf(t,s.x,r.x,a.x),nf(t,s.y,r.y,a.y),nf(t,s.z,r.z,a.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}bS.prototype.isQuadraticBezierCurve3=!0;class wS extends gr{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new le){const n=e,s=this.points,r=(s.length-1)*t,a=Math.floor(r),o=r-a,l=s[0===a?a:a-1],c=s[a],d=s[a>s.length-2?s.length-1:a+1],u=s[a>s.length-3?s.length-1:a+2];return n.set(fN(o,l.x,c.x,d.x,u.x),fN(o,l.y,c.y,d.y,u.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const s=t.points[e];this.points.push((new le).fromArray(s))}return this}}wS.prototype.isSplineCurve=!0;var CS=Object.freeze({__proto__:null,ArcCurve:hN,CatmullRomCurve3:pN,CubicBezierCurve:yS,CubicBezierCurve3:mN,EllipseCurve:cv,LineCurve:uv,LineCurve3:class dre extends gr{constructor(t=new M,e=new M){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new M){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:xS,QuadraticBezierCurve3:bS,SplineCurve:wS});class ure extends gr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new uv(e,t))}getPoint(t,e){const n=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=n){const a=s[r]-n,o=this.curves[r],l=o.getLength();return o.getPointAt(0===l?0:1-a/l,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,s=this.curves.length;n<s;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let s=0,r=this.curves;s<r.length;s++){const a=r[s],l=a.getPoints(a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t);for(let c=0;c<l.length;c++){const d=l[c];n&&n.equals(d)||(e.push(d),n=d)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const s=t.curves[e];this.curves.push((new CS[s.type]).fromJSON(s))}return this}}class rf extends ure{constructor(t){super(),this.type="Path",this.currentPoint=new le,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new uv(this.currentPoint.clone(),new le(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,s){const r=new xS(this.currentPoint.clone(),new le(t,e),new le(n,s));return this.curves.push(r),this.currentPoint.set(n,s),this}bezierCurveTo(t,e,n,s,r,a){const o=new yS(this.currentPoint.clone(),new le(t,e),new le(n,s),new le(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new wS(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,s,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,s,r,a),this}absarc(t,e,n,s,r,a){return this.absellipse(t,e,n,n,s,r,a),this}ellipse(t,e,n,s,r,a,o,l){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,s,r,a,o,l),this}absellipse(t,e,n,s,r,a,o,l){const c=new cv(t,e,n,s,r,a,o,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new M,new M,new M,new gn;class co extends rf{constructor(t){super(t),this.uuid=Ws(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,s=this.holes.length;n<s;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const s=t.holes[e];this.holes.push((new rf).fromJSON(s))}return this}}function _N(i,t,e,n,s){let r,a;if(s===function Are(i,t,e,n){let s=0;for(let r=t,a=e-n;r<e;r+=n)s+=(i[a]-i[r])*(i[r+1]+i[a+1]),a=r;return s}(i,t,e,n)>0)for(r=t;r<e;r+=n)a=xN(r,i[r],i[r+1],a);else for(r=e-n;r>=t;r-=n)a=xN(r,i[r],i[r+1],a);return a&&yv(a,a.next)&&(df(a),a=a.next),a}function pl(i,t){if(!i)return i;t||(t=i);let n,e=i;do{if(n=!1,e.steiner||!yv(e,e.next)&&0!==Wi(e.prev,e,e.next))e=e.next;else{if(df(e),e=t=e.prev,e===e.next)break;n=!0}}while(n||e!==t);return t}function lf(i,t,e,n,s,r,a){if(!i)return;!a&&r&&function wre(i,t,e,n){let s=i;do{null===s.z&&(s.z=MS(s.x,s.y,t,e,n)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==i);s.prevZ.nextZ=null,s.prevZ=null,function Cre(i){let t,e,n,s,r,a,o,l,c=1;do{for(e=i,i=null,r=null,a=0;e;){for(a++,n=e,o=0,t=0;t<c&&(o++,n=n.nextZ,n);t++);for(l=c;o>0||l>0&&n;)0!==o&&(0===l||!n||e.z<=n.z)?(s=e,e=e.nextZ,o--):(s=n,n=n.nextZ,l--),r?r.nextZ=s:i=s,s.prevZ=r,r=s;e=n}r.nextZ=null,c*=2}while(a>1)}(s)}(i,n,s,r);let l,c,o=i;for(;i.prev!==i.next;)if(l=i.prev,c=i.next,r?fre(i,n,s,r):pre(i))t.push(l.i/e),t.push(i.i/e),t.push(c.i/e),df(i),i=c.next,o=c.next;else if((i=c)===o){a?1===a?lf(i=mre(pl(i),t,e),t,e,n,s,r,2):2===a&&gre(i,t,e,n,s,r):lf(pl(i),t,e,n,s,r,1);break}}function pre(i){const t=i.prev,e=i,n=i.next;if(Wi(t,e,n)>=0)return!1;let s=i.next.next;for(;s!==i.prev;){if(Nu(t.x,t.y,e.x,e.y,n.x,n.y,s.x,s.y)&&Wi(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function fre(i,t,e,n){const s=i.prev,r=i,a=i.next;if(Wi(s,r,a)>=0)return!1;const c=s.x>r.x?s.x>a.x?s.x:a.x:r.x>a.x?r.x:a.x,d=s.y>r.y?s.y>a.y?s.y:a.y:r.y>a.y?r.y:a.y,u=MS(s.x<r.x?s.x<a.x?s.x:a.x:r.x<a.x?r.x:a.x,s.y<r.y?s.y<a.y?s.y:a.y:r.y<a.y?r.y:a.y,t,e,n),h=MS(c,d,t,e,n);let p=i.prevZ,f=i.nextZ;for(;p&&p.z>=u&&f&&f.z<=h;){if(p!==i.prev&&p!==i.next&&Nu(s.x,s.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Wi(p.prev,p,p.next)>=0||(p=p.prevZ,f!==i.prev&&f!==i.next&&Nu(s.x,s.y,r.x,r.y,a.x,a.y,f.x,f.y)&&Wi(f.prev,f,f.next)>=0))return!1;f=f.nextZ}for(;p&&p.z>=u;){if(p!==i.prev&&p!==i.next&&Nu(s.x,s.y,r.x,r.y,a.x,a.y,p.x,p.y)&&Wi(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=h;){if(f!==i.prev&&f!==i.next&&Nu(s.x,s.y,r.x,r.y,a.x,a.y,f.x,f.y)&&Wi(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function mre(i,t,e){let n=i;do{const s=n.prev,r=n.next.next;!yv(s,r)&&vN(s,n,n.next,r)&&cf(s,r)&&cf(r,s)&&(t.push(s.i/e),t.push(n.i/e),t.push(r.i/e),df(n),df(n.next),n=i=r),n=n.next}while(n!==i);return pl(n)}function gre(i,t,e,n,s,r){let a=i;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Mre(a,o)){let l=yN(a,o);return a=pl(a,a.next),l=pl(l,l.next),lf(a,t,e,n,s,r),void lf(l,t,e,n,s,r)}o=o.next}a=a.next}while(a!==i)}function vre(i,t){return i.x-t.x}function yre(i,t){if(t=function xre(i,t){let e=t;const n=i.x,s=i.y;let a,r=-1/0;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const h=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(h<=n&&h>r){if(r=h,h===n){if(s===e.y)return e;if(s===e.next.y)return e.next}a=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!a)return null;if(n===r)return a;const o=a,l=a.x,c=a.y;let u,d=1/0;e=a;do{n>=e.x&&e.x>=l&&n!==e.x&&Nu(s<c?n:r,s,l,c,s<c?r:n,s,e.x,e.y)&&(u=Math.abs(s-e.y)/(n-e.x),cf(e,i)&&(u<d||u===d&&(e.x>a.x||e.x===a.x&&bre(a,e)))&&(a=e,d=u)),e=e.next}while(e!==o);return a}(i,t),t){const e=yN(t,i);pl(t,t.next),pl(e,e.next)}}function bre(i,t){return Wi(i.prev,i,t.prev)<0&&Wi(t.next,i,i.next)<0}function MS(i,t,e,n,s){return(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=32767*(i-e)*s)|i<<8))|i<<4))|i<<2))|i<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*s)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Sre(i){let t=i,e=i;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==i);return e}function Nu(i,t,e,n,s,r,a,o){return(s-a)*(t-o)-(i-a)*(r-o)>=0&&(i-a)*(n-o)-(e-a)*(t-o)>=0&&(e-a)*(r-o)-(s-a)*(n-o)>=0}function Mre(i,t){return i.next.i!==t.i&&i.prev.i!==t.i&&!function Tre(i,t){let e=i;do{if(e.i!==i.i&&e.next.i!==i.i&&e.i!==t.i&&e.next.i!==t.i&&vN(e,e.next,i,t))return!0;e=e.next}while(e!==i);return!1}(i,t)&&(cf(i,t)&&cf(t,i)&&function Dre(i,t){let e=i,n=!1;const s=(i.x+t.x)/2,r=(i.y+t.y)/2;do{e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next}while(e!==i);return n}(i,t)&&(Wi(i.prev,i,t.prev)||Wi(i,t.prev,t))||yv(i,t)&&Wi(i.prev,i,i.next)>0&&Wi(t.prev,t,t.next)>0)}function Wi(i,t,e){return(t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y)}function yv(i,t){return i.x===t.x&&i.y===t.y}function vN(i,t,e,n){const s=bv(Wi(i,t,e)),r=bv(Wi(i,t,n)),a=bv(Wi(e,n,i)),o=bv(Wi(e,n,t));return!!(s!==r&&a!==o||0===s&&xv(i,e,t)||0===r&&xv(i,n,t)||0===a&&xv(e,i,n)||0===o&&xv(e,t,n))}function xv(i,t,e){return t.x<=Math.max(i.x,e.x)&&t.x>=Math.min(i.x,e.x)&&t.y<=Math.max(i.y,e.y)&&t.y>=Math.min(i.y,e.y)}function bv(i){return i>0?1:i<0?-1:0}function cf(i,t){return Wi(i.prev,i,i.next)<0?Wi(i,t,i.next)>=0&&Wi(i,i.prev,t)>=0:Wi(i,t,i.prev)<0||Wi(i,i.next,t)<0}function yN(i,t){const e=new TS(i.i,i.x,i.y),n=new TS(t.i,t.x,t.y),s=i.next,r=t.prev;return i.next=t,t.prev=i,e.next=s,s.prev=e,n.next=e,e.prev=n,r.next=n,n.prev=r,n}function xN(i,t,e,n){const s=new TS(i,t,e);return n?(s.next=n.next,s.prev=n,n.next.prev=s,n.next=s):(s.prev=s,s.next=s),s}function df(i){i.next.prev=i.prev,i.prev.next=i.next,i.prevZ&&(i.prevZ.nextZ=i.nextZ),i.nextZ&&(i.nextZ.prevZ=i.prevZ)}function TS(i,t,e){this.i=i,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class uo{static area(t){const e=t.length;let n=0;for(let s=e-1,r=0;r<e;s=r++)n+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*n}static isClockWise(t){return uo.area(t)<0}static triangulateShape(t,e){const n=[],s=[],r=[];bN(t),wN(n,t);let a=t.length;e.forEach(bN);for(let l=0;l<e.length;l++)s.push(a),a+=e[l].length,wN(n,e[l]);const o=function(i,t,e=2){const n=t&&t.length,s=n?t[0]*e:i.length;let r=_N(i,0,s,e,!0);const a=[];if(!r||r.next===r.prev)return a;let o,l,c,d,u,h,p;if(n&&(r=function _re(i,t,e,n){const s=[];let r,a,o,l,c;for(r=0,a=t.length;r<a;r++)o=t[r]*n,l=r<a-1?t[r+1]*n:i.length,c=_N(i,o,l,n,!1),c===c.next&&(c.steiner=!0),s.push(Sre(c));for(s.sort(vre),r=0;r<s.length;r++)yre(s[r],e),e=pl(e,e.next);return e}(i,t,r,e)),i.length>80*e){o=c=i[0],l=d=i[1];for(let f=e;f<s;f+=e)u=i[f],h=i[f+1],u<o&&(o=u),h<l&&(l=h),u>c&&(c=u),h>d&&(d=h);p=Math.max(c-o,d-l),p=0!==p?1/p:0}return lf(r,a,e,o,l,p),a}(n,s);for(let l=0;l<o.length;l+=3)r.push(o.slice(l,l+3));return r}}function bN(i){const t=i.length;t>2&&i[t-1].equals(i[0])&&i.pop()}function wN(i,t){for(let e=0;e<t.length;e++)i.push(t[e].x),i.push(t[e].y)}class fl extends yt{constructor(t=new co([new le(.5,.5),new le(-.5,.5),new le(-.5,-.5),new le(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,s=[],r=[];for(let o=0,l=t.length;o<l;o++)a(t[o]);function a(o){const l=[],c=void 0!==e.curveSegments?e.curveSegments:12,d=void 0!==e.steps?e.steps:1;let u=void 0!==e.depth?e.depth:1,h=void 0===e.bevelEnabled||e.bevelEnabled,p=void 0!==e.bevelThickness?e.bevelThickness:.2,f=void 0!==e.bevelSize?e.bevelSize:p-.1,g=void 0!==e.bevelOffset?e.bevelOffset:0,m=void 0!==e.bevelSegments?e.bevelSegments:3;const _=e.extrudePath,v=void 0!==e.UVGenerator?e.UVGenerator:Ere;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=e.amount);let y,w,S,D,L,b=!1;_&&(y=_.getSpacedPoints(d),b=!0,h=!1,w=_.computeFrenetFrames(d,!1),S=new M,D=new M,L=new M),h||(m=0,p=0,f=0,g=0);const H=o.extractPoints(c);let N=H.shape;const C=H.holes;if(!uo.isClockWise(N)){N=N.reverse();for(let V=0,te=C.length;V<te;V++){const he=C[V];uo.isClockWise(he)&&(C[V]=he.reverse())}}const X=uo.triangulateShape(N,C),z=N;for(let V=0,te=C.length;V<te;V++)N=N.concat(C[V]);function q(V,te,he){return te||console.error("THREE.ExtrudeGeometry: vec does not exist"),te.clone().multiplyScalar(he).add(V)}const O=N.length,B=X.length;function F(V,te,he){let Ve,Me,Te;const qe=V.x-te.x,at=V.y-te.y,Jt=he.x-V.x,di=he.y-V.y,P=qe*qe+at*at;if(Math.abs(qe*di-at*Jt)>Number.EPSILON){const se=Math.sqrt(P),ye=Math.sqrt(Jt*Jt+di*di),We=te.x-at/se,Ze=te.y+qe/se,De=((he.x-di/ye-We)*di-(he.y+Jt/ye-Ze)*Jt)/(qe*di-at*Jt);Ve=We+qe*De-V.x,Me=Ze+at*De-V.y;const lt=Ve*Ve+Me*Me;if(lt<=2)return new le(Ve,Me);Te=Math.sqrt(lt/2)}else{let se=!1;qe>Number.EPSILON?Jt>Number.EPSILON&&(se=!0):qe<-Number.EPSILON?Jt<-Number.EPSILON&&(se=!0):Math.sign(at)===Math.sign(di)&&(se=!0),se?(Ve=-at,Me=qe,Te=Math.sqrt(P)):(Ve=qe,Me=at,Te=Math.sqrt(P/2))}return new le(Ve/Te,Me/Te)}const Y=[];for(let V=0,te=z.length,he=te-1,Ve=V+1;V<te;V++,he++,Ve++)he===te&&(he=0),Ve===te&&(Ve=0),Y[V]=F(z[V],z[he],z[Ve]);const K=[];let ce,ee=Y.concat();for(let V=0,te=C.length;V<te;V++){const he=C[V];ce=[];for(let Ve=0,Me=he.length,Te=Me-1,qe=Ve+1;Ve<Me;Ve++,Te++,qe++)Te===Me&&(Te=0),qe===Me&&(qe=0),ce[Ve]=F(he[Ve],he[Te],he[qe]);K.push(ce),ee=ee.concat(ce)}for(let V=0;V<m;V++){const te=V/m,he=p*Math.cos(te*Math.PI/2),Ve=f*Math.sin(te*Math.PI/2)+g;for(let Me=0,Te=z.length;Me<Te;Me++){const qe=q(z[Me],Y[Me],Ve);tt(qe.x,qe.y,-he)}for(let Me=0,Te=C.length;Me<Te;Me++){const qe=C[Me];ce=K[Me];for(let at=0,Jt=qe.length;at<Jt;at++){const di=q(qe[at],ce[at],Ve);tt(di.x,di.y,-he)}}}const Ke=f+g;for(let V=0;V<O;V++){const te=h?q(N[V],ee[V],Ke):N[V];b?(D.copy(w.normals[0]).multiplyScalar(te.x),S.copy(w.binormals[0]).multiplyScalar(te.y),L.copy(y[0]).add(D).add(S),tt(L.x,L.y,L.z)):tt(te.x,te.y,0)}for(let V=1;V<=d;V++)for(let te=0;te<O;te++){const he=h?q(N[te],ee[te],Ke):N[te];b?(D.copy(w.normals[V]).multiplyScalar(he.x),S.copy(w.binormals[V]).multiplyScalar(he.y),L.copy(y[V]).add(D).add(S),tt(L.x,L.y,L.z)):tt(he.x,he.y,u/d*V)}for(let V=m-1;V>=0;V--){const te=V/m,he=p*Math.cos(te*Math.PI/2),Ve=f*Math.sin(te*Math.PI/2)+g;for(let Me=0,Te=z.length;Me<Te;Me++){const qe=q(z[Me],Y[Me],Ve);tt(qe.x,qe.y,u+he)}for(let Me=0,Te=C.length;Me<Te;Me++){const qe=C[Me];ce=K[Me];for(let at=0,Jt=qe.length;at<Jt;at++){const di=q(qe[at],ce[at],Ve);b?tt(di.x,di.y+y[d-1].y,y[d-1].x+he):tt(di.x,di.y,u+he)}}}function ae(V,te){let he=V.length;for(;--he>=0;){const Ve=he;let Me=he-1;Me<0&&(Me=V.length-1);for(let Te=0,qe=d+2*m;Te<qe;Te++){const at=O*Te,Jt=O*(Te+1);oe(te+Ve+at,te+Me+at,te+Me+Jt,te+Ve+Jt)}}}function tt(V,te,he){l.push(V),l.push(te),l.push(he)}function ct(V,te,he){ie(V),ie(te),ie(he);const Ve=s.length/3,Me=v.generateTopUV(n,s,Ve-3,Ve-2,Ve-1);Oe(Me[0]),Oe(Me[1]),Oe(Me[2])}function oe(V,te,he,Ve){ie(V),ie(te),ie(Ve),ie(te),ie(he),ie(Ve);const Me=s.length/3,Te=v.generateSideWallUV(n,s,Me-6,Me-3,Me-2,Me-1);Oe(Te[0]),Oe(Te[1]),Oe(Te[3]),Oe(Te[1]),Oe(Te[2]),Oe(Te[3])}function ie(V){s.push(l[3*V+0]),s.push(l[3*V+1]),s.push(l[3*V+2])}function Oe(V){r.push(V.x),r.push(V.y)}(function Ye(){const V=s.length/3;if(h){let te=0,he=O*te;for(let Ve=0;Ve<B;Ve++){const Me=X[Ve];ct(Me[2]+he,Me[1]+he,Me[0]+he)}te=d+2*m,he=O*te;for(let Ve=0;Ve<B;Ve++){const Me=X[Ve];ct(Me[0]+he,Me[1]+he,Me[2]+he)}}else{for(let te=0;te<B;te++){const he=X[te];ct(he[2],he[1],he[0])}for(let te=0;te<B;te++){const he=X[te];ct(he[0]+O*d,he[1]+O*d,he[2]+O*d)}}n.addGroup(V,s.length/3-V,0)})(),function ot(){const V=s.length/3;let te=0;ae(z,te),te+=z.length;for(let he=0,Ve=C.length;he<Ve;he++){const Me=C[he];ae(Me,te),te+=Me.length}n.addGroup(V,s.length/3-V,1)}()}this.setAttribute("position",new rt(s,3)),this.setAttribute("uv",new rt(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function kre(i,t,e){if(e.shapes=[],Array.isArray(i))for(let n=0,s=i.length;n<s;n++)e.shapes.push(i[n].uuid);else e.shapes.push(i.uuid);return void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let r=0,a=t.shapes.length;r<a;r++)n.push(e[t.shapes[r]]);const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new CS[s.type]).fromJSON(s)),new fl(n,t.options)}}const Ere={generateTopUV:function(i,t,e,n,s){const o=t[3*n],l=t[3*n+1],c=t[3*s],d=t[3*s+1];return[new le(t[3*e],t[3*e+1]),new le(o,l),new le(c,d)]},generateSideWallUV:function(i,t,e,n,s,r){const a=t[3*e],o=t[3*e+1],l=t[3*e+2],c=t[3*n],d=t[3*n+1],u=t[3*n+2],h=t[3*s],p=t[3*s+1],f=t[3*s+2],g=t[3*r],m=t[3*r+1],_=t[3*r+2];return Math.abs(o-d)<Math.abs(a-c)?[new le(a,1-l),new le(c,1-u),new le(h,1-f),new le(g,1-_)]:[new le(o,1-l),new le(d,1-u),new le(p,1-f),new le(m,1-_)]}};class hf extends yt{constructor(t=new co([new le(0,.5),new le(-.5,-.5),new le(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],s=[],r=[],a=[];let o=0,l=0;if(!1===Array.isArray(t))c(t);else for(let d=0;d<t.length;d++)c(t[d]),this.addGroup(o,l,d),o+=l,l=0;function c(d){const u=s.length/3,h=d.extractPoints(e);let p=h.shape;const f=h.holes;!1===uo.isClockWise(p)&&(p=p.reverse());for(let m=0,_=f.length;m<_;m++){const v=f[m];!0===uo.isClockWise(v)&&(f[m]=v.reverse())}const g=uo.triangulateShape(p,f);for(let m=0,_=f.length;m<_;m++)p=p.concat(f[m]);for(let m=0,_=p.length;m<_;m++){const v=p[m];s.push(v.x,v.y,0),r.push(0,0,1),a.push(v.x,v.y)}for(let m=0,_=g.length;m<_;m++){const v=g[m];n.push(v[0]+u,v[1]+u,v[2]+u),l+=3}}this.setIndex(n),this.setAttribute("position",new rt(s,3)),this.setAttribute("normal",new rt(r,3)),this.setAttribute("uv",new rt(a,2))}toJSON(){const t=super.toJSON();return function Rre(i,t){if(t.shapes=[],Array.isArray(i))for(let e=0,n=i.length;e<n;e++)t.shapes.push(i[e].uuid);else t.shapes.push(i.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let s=0,r=t.shapes.length;s<r;s++)n.push(e[t.shapes[s]]);return new hf(n,t.curveSegments)}}class TN extends Ui{constructor(t){super(),this.type="ShadowMaterial",this.color=new Re(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}TN.prototype.isShadowMaterial=!0;class DN extends Yr{constructor(t){super(t),this.type="RawShaderMaterial"}}DN.prototype.isRawShaderMaterial=!0;class Bu extends Ui{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Re(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Bu.prototype.isMeshStandardMaterial=!0;class ml extends Bu{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new le(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Re(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Re(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Re(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}ml.prototype.isMeshPhysicalMaterial=!0;class AN extends Ui{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new Re(16777215),this.specular=new Re(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}AN.prototype.isMeshPhongMaterial=!0;class EN extends Ui{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Re(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}EN.prototype.isMeshToonMaterial=!0;class kN extends Ui{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}kN.prototype.isMeshNormalMaterial=!0;class RN extends Ui{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new Re(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Re(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}RN.prototype.isMeshLambertMaterial=!0;class IN extends Ui{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Re(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new le(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}IN.prototype.isMeshMatcapMaterial=!0;class LN extends Hn{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}LN.prototype.isLineDashedMaterial=!0;const Ire={ShadowMaterial:TN,SpriteMaterial:cS,RawShaderMaterial:DN,ShaderMaterial:Yr,PointsMaterial:av,MeshPhysicalMaterial:ml,MeshStandardMaterial:Bu,MeshPhongMaterial:AN,MeshToonMaterial:EN,MeshNormalMaterial:kN,MeshLambertMaterial:RN,MeshDepthMaterial:aS,MeshDistanceMaterial:oS,MeshBasicMaterial:qs,MeshMatcapMaterial:IN,LineDashedMaterial:LN,LineBasicMaterial:Hn,Material:Ui};Ui.fromType=function(i){return new Ire[i]};const Ni={arraySlice:function(i,t,e){return Ni.isTypedArray(i)?new i.constructor(i.subarray(t,void 0!==e?e:i.length)):i.slice(t,e)},convertArray:function(i,t,e){return!i||!e&&i.constructor===t?i:"number"==typeof t.BYTES_PER_ELEMENT?new t(i):Array.prototype.slice.call(i)},isTypedArray:function(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)},getKeyframeOrder:function(i){const e=i.length,n=new Array(e);for(let s=0;s!==e;++s)n[s]=s;return n.sort(function t(s,r){return i[s]-i[r]}),n},sortedArray:function(i,t,e){const n=i.length,s=new i.constructor(n);for(let r=0,a=0;a!==n;++r){const o=e[r]*t;for(let l=0;l!==t;++l)s[a++]=i[o+l]}return s},flattenJSON:function(i,t,e,n){let s=1,r=i[0];for(;void 0!==r&&void 0===r[n];)r=i[s++];if(void 0===r)return;let a=r[n];if(void 0!==a)if(Array.isArray(a))do{a=r[n],void 0!==a&&(t.push(r.time),e.push.apply(e,a)),r=i[s++]}while(void 0!==r);else if(void 0!==a.toArray)do{a=r[n],void 0!==a&&(t.push(r.time),a.toArray(e,e.length)),r=i[s++]}while(void 0!==r);else do{a=r[n],void 0!==a&&(t.push(r.time),e.push(a)),r=i[s++]}while(void 0!==r)},subclip:function(i,t,e,n,s=30){const r=i.clone();r.name=t;const a=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],d=c.getValueSize(),u=[],h=[];for(let p=0;p<c.times.length;++p){const f=c.times[p]*s;if(!(f<e||f>=n)){u.push(c.times[p]);for(let g=0;g<d;++g)h.push(c.values[p*d+g])}}0!==u.length&&(c.times=Ni.convertArray(u,c.times.constructor),c.values=Ni.convertArray(h,c.values.constructor),a.push(c))}r.tracks=a;let o=1/0;for(let l=0;l<r.tracks.length;++l)o>r.tracks[l].times[0]&&(o=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*o);return r.resetDuration(),r},makeClipAdditive:function(i,t=0,e=i,n=30){n<=0&&(n=30);const s=e.tracks.length,r=t/n;for(let a=0;a<s;++a){const o=e.tracks[a],l=o.ValueTypeName;if("bool"===l||"string"===l)continue;const c=i.tracks.find(function(_){return _.name===o.name&&_.ValueTypeName===l});if(void 0===c)continue;let d=0;const u=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let h=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);const f=o.times.length-1;let g;if(r<=o.times[0])g=Ni.arraySlice(o.values,d,u-d);else if(r>=o.times[f]){const _=f*u+d;g=Ni.arraySlice(o.values,_,_+u-d)}else{const _=o.createInterpolant(),v=d,y=u-d;_.evaluate(r),g=Ni.arraySlice(_.resultBuffer,v,y)}"quaternion"===l&&(new Rn).fromArray(g).normalize().conjugate().toArray(g);const m=c.times.length;for(let _=0;_<m;++_){const v=_*p+h;if("quaternion"===l)Rn.multiplyQuaternionsFlat(c.values,v,g,0,c.values,v);else{const y=p-2*h;for(let b=0;b<y;++b)c.values[v+b]-=g[b]}}}return i.blendMode=2501,i}};class ho{constructor(t,e,n,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this._cachedIndex,s=e[n],r=e[n-1];e:{t:{let a;i:{n:if(!(t<s)){for(let o=n+2;;){if(void 0===s){if(t<r)break n;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=s,s=e[++n],t<s)break t}a=e.length;break i}if(t>=r)break e;{const o=e[1];t<o&&(n=2,r=o);for(let l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(n===l)break;if(s=r,r=e[--n-1],t>=r)break t}a=n,n=0}}for(;n<a;){const o=n+a>>>1;t<e[o]?a=o:n=o+1}if(s=e[n],r=e[n-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(void 0===s)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,s)}return this.interpolate_(n,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=t*s;for(let a=0;a!==s;++a)e[a]=n[r+a];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}ho.prototype.beforeStart_=ho.prototype.copySampleValue_,ho.prototype.afterEnd_=ho.prototype.copySampleValue_;class Lre extends ho{constructor(t,e,n,s){super(t,e,n,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cu,endingEnd:cu}}intervalChanged_(t,e,n){const s=this.parameterPositions;let r=t-2,a=t+1,o=s[r],l=s[a];if(void 0===o)switch(this.getSettings_().endingStart){case du:r=t,o=2*e-n;break;case 2402:r=s.length-2,o=e+s[r]-s[r+1];break;default:r=t,o=n}if(void 0===l)switch(this.getSettings_().endingEnd){case du:a=t,l=2*n-e;break;case 2402:a=1,l=n+s[1]-s[0];break;default:a=t-1,l=e}const c=.5*(n-e),d=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(l-n),this._offsetPrev=r*d,this._offsetNext=a*d}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=t*o,c=l-o,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,f=(n-e)/(s-e),g=f*f,m=g*f,_=-h*m+2*h*g-h*f,v=(1+h)*m+(-1.5-2*h)*g+(-.5+h)*f+1,y=(-1-p)*m+(1.5+p)*g+.5*f,b=p*m-p*g;for(let w=0;w!==o;++w)r[w]=_*a[d+w]+v*a[c+w]+y*a[l+w]+b*a[u+w];return r}}class PN extends ho{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=t*o,c=l-o,d=(n-e)/(s-e),u=1-d;for(let h=0;h!==o;++h)r[h]=a[c+h]*u+a[l+h]*d;return r}}class Pre extends ho{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ca{constructor(t,e,n,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ni.convertArray(e,this.TimeBufferType),this.values=Ni.convertArray(n,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Ni.convertArray(t.times,Array),values:Ni.convertArray(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(n.interpolation=s)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new Pre(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new PN(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Lre(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Vp:e=this.InterpolantFactoryMethodDiscrete;break;case lu:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Vp;case this.InterpolantFactoryMethodLinear:return lu;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,s=e.length;n!==s;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,s=e.length;n!==s;++n)e[n]*=t}return this}trim(t,e){const n=this.times,s=n.length;let r=0,a=s-1;for(;r!==s&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==s){r>=a&&(a=Math.max(a,1),r=a-1);const o=this.getValueSize();this.times=Ni.arraySlice(n,r,a),this.values=Ni.arraySlice(this.values,r*o,a*o)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const n=this.times,s=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let a=null;for(let o=0;o!==r;o++){const l=n[o];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),t=!1;break}if(null!==a&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),t=!1;break}a=l}if(void 0!==s&&Ni.isTypedArray(s))for(let o=0,l=s.length;o!==l;++o){const c=s[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),t=!1;break}}return t}optimize(){const t=Ni.arraySlice(this.times),e=Ni.arraySlice(this.values),n=this.getValueSize(),s=2302===this.getInterpolation(),r=t.length-1;let a=1;for(let o=1;o<r;++o){let l=!1;const c=t[o];if(c!==t[o+1]&&(1!==o||c!==t[0]))if(s)l=!0;else{const u=o*n,h=u-n,p=u+n;for(let f=0;f!==n;++f){const g=e[u+f];if(g!==e[h+f]||g!==e[p+f]){l=!0;break}}}if(l){if(o!==a){t[a]=t[o];const u=o*n,h=a*n;for(let p=0;p!==n;++p)e[h+p]=e[u+p]}++a}}if(r>0){t[a]=t[r];for(let o=r*n,l=a*n,c=0;c!==n;++c)e[l+c]=e[o+c];++a}return a!==t.length?(this.times=Ni.arraySlice(t,0,a),this.values=Ni.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this}clone(){const t=Ni.arraySlice(this.times,0),e=Ni.arraySlice(this.values,0),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}Ca.prototype.TimeBufferType=Float32Array,Ca.prototype.ValueBufferType=Float32Array,Ca.prototype.DefaultInterpolation=lu;class Vu extends Ca{}Vu.prototype.ValueTypeName="bool",Vu.prototype.ValueBufferType=Array,Vu.prototype.DefaultInterpolation=Vp,Vu.prototype.InterpolantFactoryMethodLinear=void 0,Vu.prototype.InterpolantFactoryMethodSmooth=void 0;class FN extends Ca{}FN.prototype.ValueTypeName="color";class ff extends Ca{}ff.prototype.ValueTypeName="number";class Fre extends ho{constructor(t,e,n,s){super(t,e,n,s)}interpolate_(t,e,n,s){const r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(n-e)/(s-e);let c=t*o;for(let d=c+o;c!==d;c+=4)Rn.slerpFlat(r,0,a,c-o,a,c,l);return r}}class _c extends Ca{InterpolantFactoryMethodLinear(t){return new Fre(this.times,this.values,this.getValueSize(),t)}}_c.prototype.ValueTypeName="quaternion",_c.prototype.DefaultInterpolation=lu,_c.prototype.InterpolantFactoryMethodSmooth=void 0;class Hu extends Ca{}Hu.prototype.ValueTypeName="string",Hu.prototype.ValueBufferType=Array,Hu.prototype.DefaultInterpolation=Vp,Hu.prototype.InterpolantFactoryMethodLinear=void 0,Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class mf extends Ca{}mf.prototype.ValueTypeName="vector";class gf{constructor(t,e=-1,n,s=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=s,this.uuid=Ws(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,s=1/(t.fps||1);for(let a=0,o=n.length;a!==o;++a)e.push(Nre(n[a]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,a=n.length;r!==a;++r)e.push(Ca.toJSON(n[r]));return s}static CreateFromMorphTargetSequence(t,e,n,s){const r=e.length,a=[];for(let o=0;o<r;o++){let l=[],c=[];l.push((o+r-1)%r,o,(o+1)%r),c.push(0,1,0);const d=Ni.getKeyframeOrder(l);l=Ni.sortedArray(l,1,d),c=Ni.sortedArray(c,1,d),!s&&0===l[0]&&(l.push(r),c.push(c[0])),a.push(new ff(".morphTargetInfluences["+e[o].name+"]",l,c).scale(1/n))}return new this(t,-1,a)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const s=t;n=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<n.length;s++)if(n[s].name===e)return n[s];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const s={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,l=t.length;o<l;o++){const c=t[o],d=c.name.match(r);if(d&&d.length>1){const u=d[1];let h=s[u];h||(s[u]=h=[]),h.push(c)}}const a=[];for(const o in s)a.push(this.CreateFromMorphTargetSequence(o,s[o],e,n));return a}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,h,p,f,g){if(0!==p.length){const m=[],_=[];Ni.flattenJSON(p,m,_,f),0!==m.length&&g.push(new u(h,m,_))}},s=[],r=t.name||"default",a=t.fps||30,o=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let u=0;u<c.length;u++){const h=c[u].keys;if(h&&0!==h.length)if(h[0].morphTargets){const p={};let f;for(f=0;f<h.length;f++)if(h[f].morphTargets)for(let g=0;g<h[f].morphTargets.length;g++)p[h[f].morphTargets[g]]=-1;for(const g in p){const m=[],_=[];for(let v=0;v!==h[f].morphTargets.length;++v){const y=h[f];m.push(y.time),_.push(y.morphTarget===g?1:0)}s.push(new ff(".morphTargetInfluence["+g+"]",m,_))}l=p.length*a}else{const p=".bones["+e[u].name+"]";n(mf,p+".position",h,"pos",s),n(_c,p+".quaternion",h,"rot",s),n(mf,p+".scale",h,"scl",s)}}return 0===s.length?null:new this(r,l,s,o)}resetDuration(){let e=0;for(let n=0,s=this.tracks.length;n!==s;++n){const r=this.tracks[n];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Nre(i){if(void 0===i.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function Ore(i){switch(i.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ff;case"vector":case"vector2":case"vector3":case"vector4":return mf;case"color":return FN;case"quaternion":return _c;case"bool":case"boolean":return Vu;case"string":return Hu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+i)}(i.type);if(void 0===i.times){const e=[],n=[];Ni.flattenJSON(i.keys,e,n,"value"),i.times=e,i.values=n}return void 0!==t.parse?t.parse(i):new t(i.name,i.times,i.values,i.interpolation)}const zu={enabled:!1,files:{},add:function(i,t){!1!==this.enabled&&(this.files[i]=t)},get:function(i){if(!1!==this.enabled)return this.files[i]},remove:function(i){delete this.files[i]},clear:function(){this.files={}}};class DS{constructor(t,e,n){const s=this;let l,r=!1,a=0,o=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(d){o++,!1===r&&void 0!==s.onStart&&s.onStart(d,a,o),r=!0},this.itemEnd=function(d){a++,void 0!==s.onProgress&&s.onProgress(d,a,o),a===o&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(d){void 0!==s.onError&&s.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return-1!==u&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,h=c.length;u<h;u+=2){const p=c[u],f=c[u+1];if(p.global&&(p.lastIndex=0),p.test(d))return f}return null}}}const Bre=new DS;class Sa{constructor(t){this.manager=void 0!==t?t:Bre,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise(function(s,r){n.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const po={};class Ma extends Sa{constructor(t){super(t)}load(t,e,n,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=zu.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==po[t])return void po[t].push({onLoad:e,onProgress:n,onError:s});po[t]=[],po[t].push({onLoad:e,onProgress:n,onError:s});const a=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===c.body||void 0===c.body.getReader)return c;const d=po[t],u=c.body.getReader(),h=c.headers.get("Content-Length"),p=h?parseInt(h):0,f=0!==p;let g=0;const m=new ReadableStream({start(_){!function v(){u.read().then(({done:y,value:b})=>{if(y)_.close();else{g+=b.byteLength;const w=new ProgressEvent("progress",{lengthComputable:f,loaded:g,total:p});for(let S=0,D=d.length;S<D;S++){const L=d[S];L.onProgress&&L.onProgress(w)}_.enqueue(b),v()}})}()}});return new Response(m)}throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>(new DOMParser).parseFromString(d,o));case"json":return c.json();default:if(void 0===o)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(o),h=u&&u[1]?u[1].toLowerCase():void 0,p=new TextDecoder(h);return c.arrayBuffer().then(f=>p.decode(f))}}}).then(c=>{zu.add(t,c);const d=po[t];delete po[t];for(let u=0,h=d.length;u<h;u++){const p=d[u];p.onLoad&&p.onLoad(c)}}).catch(c=>{const d=po[t];if(void 0===d)throw this.manager.itemError(t),c;delete po[t];for(let u=0,h=d.length;u<h;u++){const p=d[u];p.onError&&p.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class Av extends Sa{constructor(t){super(t)}load(t,e,n,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=zu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const o=Wp("img");function l(){d(),zu.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(u){d(),s&&s(u),r.manager.itemError(t),r.manager.itemEnd(t)}function d(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}class Vre extends Sa{constructor(t){super(t)}load(t,e,n,s){const r=new qp,a=new Av(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(t[c],function(d){r.images[c]=d,o++,6===o&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let c=0;c<t.length;++c)l(c);return r}}class Hre extends Sa{constructor(t){super(t)}load(t,e,n,s){const r=this,a=new Pu,o=new Ma(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,function(l){const c=r.parse(l);!c||(void 0!==c.image?a.image=c.image:void 0!==c.data&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=void 0!==c.wrapS?c.wrapS:vs,a.wrapT=void 0!==c.wrapT?c.wrapT:vs,a.magFilter=void 0!==c.magFilter?c.magFilter:Ti,a.minFilter=void 0!==c.minFilter?c.minFilter:Ti,a.anisotropy=void 0!==c.anisotropy?c.anisotropy:1,void 0!==c.encoding&&(a.encoding=c.encoding),void 0!==c.flipY&&(a.flipY=c.flipY),void 0!==c.format&&(a.format=c.format),void 0!==c.type&&(a.type=c.type),void 0!==c.mipmaps&&(a.mipmaps=c.mipmaps,a.minFilter=Jo),1===c.mipmapCount&&(a.minFilter=Ti),void 0!==c.generateMipmaps&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,e&&e(a,c))},n,s),a}}class ON extends Sa{constructor(t){super(t)}load(t,e,n,s){const r=new ns,a=new Av(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(o){r.image=o,r.needsUpdate=!0,void 0!==e&&e(r)},n,s),r}}class Ta extends ci{constructor(t,e=1){super(),this.type="Light",this.color=new Re(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}Ta.prototype.isLight=!0;class AS extends Ta{constructor(t,e,n){super(t,n),this.type="HemisphereLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.groundColor=new Re(e)}copy(t){return Ta.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}AS.prototype.isHemisphereLight=!0;const NN=new nt,BN=new M,VN=new M;class ES{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new le(512,512),this.map=null,this.mapPass=null,this.matrix=new nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new j_,this._frameExtents=new le(1,1),this._viewportCount=1,this._viewports=[new pi(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,n=this.matrix;BN.setFromMatrixPosition(t.matrixWorld),e.position.copy(BN),VN.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(VN),e.updateMatrixWorld(),NN.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NN),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class HN extends ES{constructor(){super(new Ln(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,n=2*Gp*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(n!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=n,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}HN.prototype.isSpotLightShadow=!0;class kS extends Ta{constructor(t,e,n=0,s=Math.PI/3,r=0,a=1){super(t,e),this.type="SpotLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.target=new ci,this.distance=n,this.angle=s,this.penumbra=r,this.decay=a,this.shadow=new HN}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}kS.prototype.isSpotLight=!0;const zN=new nt,_f=new M,RS=new M;class GN extends ES{constructor(){super(new Ln(90,1,.5,500)),this._frameExtents=new le(4,2),this._viewportCount=6,this._viewports=[new pi(2,1,1,1),new pi(0,1,1,1),new pi(3,1,1,1),new pi(1,1,1,1),new pi(3,0,1,1),new pi(1,0,1,1)],this._cubeDirections=[new M(1,0,0),new M(-1,0,0),new M(0,0,1),new M(0,0,-1),new M(0,1,0),new M(0,-1,0)],this._cubeUps=[new M(0,1,0),new M(0,1,0),new M(0,1,0),new M(0,1,0),new M(0,0,1),new M(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,s=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),_f.setFromMatrixPosition(t.matrixWorld),n.position.copy(_f),RS.copy(n.position),RS.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(RS),n.updateMatrixWorld(),s.makeTranslation(-_f.x,-_f.y,-_f.z),zN.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zN)}}GN.prototype.isPointLightShadow=!0;class IS extends Ta{constructor(t,e,n=0,s=1){super(t,e),this.type="PointLight",this.distance=n,this.decay=s,this.shadow=new GN}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}IS.prototype.isPointLight=!0;class UN extends ES{constructor(){super(new Qp(-5,5,5,-5,.5,500))}}UN.prototype.isDirectionalLightShadow=!0;class LS extends Ta{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(ci.DefaultUp),this.updateMatrix(),this.target=new ci,this.shadow=new UN}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}LS.prototype.isDirectionalLight=!0;class PS extends Ta{constructor(t,e){super(t,e),this.type="AmbientLight"}}PS.prototype.isAmbientLight=!0;(class WN extends Ta{constructor(t,e,n=10,s=10){super(t,e),this.type="RectAreaLight",this.width=n,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class jN{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new M)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*s),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*s*1.092548),e.addScaledVector(a[5],s*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-s*s)),e}getIrradianceAt(t,e){const n=t.x,s=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*s),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*s),e.addScaledVector(a[5],.858086*s*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const n=this.coefficients;for(let s=0;s<9;s++)n[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const n=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-s*s)}}jN.prototype.isSphericalHarmonics3=!0;class Ev extends Ta{constructor(t=new jN,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Ev.prototype.isLightProbe=!0;class Da{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let n=0,s=t.length;n<s;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(n){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}(class $N extends yt{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}).prototype.isInstancedBufferGeometry=!0;class XN extends Sa{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,a=zu.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){zu.add(t,l),e&&e(l),r.manager.itemEnd(t)}).catch(function(l){s&&s(l),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let kv;XN.prototype.isImageBitmapLoader=!0;class Wre extends Sa{constructor(t){super(t)}load(t,e,n,s){const r=this,a=new Ma(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(o){try{const l=o.slice(0);(void 0===kv&&(kv=new(window.AudioContext||window.webkitAudioContext)),kv).decodeAudioData(l,function(d){e(d)})}catch(l){s?s(l):console.error(l),r.manager.itemError(t)}},n,s)}}(class jre extends Ev{constructor(t,e,n=1){super(void 0,n);const s=(new Re).set(t),r=(new Re).set(e),a=new M(s.r,s.g,s.b),o=new M(r.r,r.g,r.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(a).add(o).multiplyScalar(l),this.sh.coefficients[1].copy(a).sub(o).multiplyScalar(c)}}).prototype.isHemisphereLightProbe=!0,class $re extends Ev{constructor(t,e=1){super(void 0,e);const n=(new Re).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class JN{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=eB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=eB();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function eB(){return("undefined"==typeof performance?Date:performance).now()}class Kre{constructor(t,e,n){let s,r,a;switch(this.binding=t,this.valueSize=n,e){case"quaternion":s=this._slerp,r=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:s=this._lerp,r=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,s=this.valueSize,r=t*s+s;let a=this.cumulativeWeight;if(0===a){for(let o=0;o!==s;++o)n[r+o]=n[o];a=e}else a+=e,this._mixBufferRegion(n,r,0,e/a,s);this.cumulativeWeight=a}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,s=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,s=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,s,e*this._origIndex,1-r,e),a>0&&this._mixBufferRegionAdditive(n,s,this._addIndex*e,1,e);for(let l=e,c=e+e;l!==c;++l)if(n[l]!==n[l+e]){o.setValue(n,s);break}}saveOriginalState(){const e=this.buffer,n=this.valueSize,s=n*this._origIndex;this.binding.getValue(e,s);for(let r=n,a=s;r!==a;++r)e[r]=e[s+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}_select(t,e,n,s,r){if(s>=.5)for(let a=0;a!==r;++a)t[e+a]=t[n+a]}_slerp(t,e,n,s){Rn.slerpFlat(t,e,t,e,t,n,s)}_slerpAdditive(t,e,n,s,r){const a=this._workIndex*r;Rn.multiplyQuaternionsFlat(t,a,t,e,t,n),Rn.slerpFlat(t,e,t,e,t,a,s)}_lerp(t,e,n,s,r){const a=1-s;for(let o=0;o!==r;++o){const l=e+o;t[l]=t[l]*a+t[n+o]*s}}_lerpAdditive(t,e,n,s,r){for(let a=0;a!==r;++a){const o=e+a;t[o]=t[o]+t[n+a]*s}}}const FS="\\[\\]\\.:\\/",Zre=new RegExp("["+FS+"]","g"),OS="[^"+FS+"]",Jre="[^"+FS.replace("\\.","")+"]",eae=/((?:WC+[\/:])*)/.source.replace("WC",OS),tae=/(WCOD+)?/.source.replace("WCOD",Jre),iae=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",OS),nae=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",OS),sae=new RegExp("^"+eae+tae+iae+nae+"$"),rae=["material","materials","bones"];class aae{constructor(t,e,n){const s=n||Di.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const n=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=n.length;s!==r;++s)n[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}let Di=(()=>{class i{constructor(e,n,s){this.path=n,this.parsedPath=s||i.parseTrackName(n),this.node=i.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,s){return e&&e.isAnimationObjectGroup?new i.Composite(e,n,s):new i(e,n,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Zre,"")}static parseTrackName(e){const n=sae.exec(e);if(null===n)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const a=s.nodeName.substring(r+1);-1!==rae.indexOf(a)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=a)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,n){if(void 0===n||""===n||"."===n||-1===n||n===e.name||n===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(n);if(void 0!==s)return s}if(e.children){const s=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===n||l.uuid===n)return l;const c=s(l.children);if(c)return c}return null},r=s(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)e[n++]=s[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const s=this.resolvedProperty;for(let r=0,a=s.length;r!==a;++r)s[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,s=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=i.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(s){let d=n.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==d){if(void 0===e[d])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[d]}}const o=e[r];if(void 0===o)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+r+" but it wasn't found.",e);let l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else void 0!==o.fromArray&&void 0!==o.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return i.Composite=aae,i})();Di.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Di.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Di.prototype.GetterByBindingType=[Di.prototype._getValue_direct,Di.prototype._getValue_array,Di.prototype._getValue_arrayElement,Di.prototype._getValue_toArray],Di.prototype.SetterByBindingTypeAndVersioning=[[Di.prototype._setValue_direct,Di.prototype._setValue_direct_setNeedsUpdate,Di.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_array,Di.prototype._setValue_array_setNeedsUpdate,Di.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_arrayElement,Di.prototype._setValue_arrayElement_setNeedsUpdate,Di.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_fromArray,Di.prototype._setValue_fromArray_setNeedsUpdate,Di.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lae{constructor(t,e,n=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=n,this.blendMode=s;const r=e.tracks,a=r.length,o=new Array(a),l={endingStart:cu,endingEnd:cu};for(let c=0;c!==a;++c){const d=r[c].createInterpolant(null);o[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){const s=this._clip.duration,r=t._clip.duration,o=s/r;t.warp(1,r/s,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,n){const s=this._mixer,r=s.time,a=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=s._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=r,l[1]=r+n,c[0]=t/a,c[1]=e/a,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,n,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const l=(t-r)*n;if(l<0||0===n)return;this._startTime=null,e=n*l}e*=this._updateTimeScale(t);const a=this._updateTime(e),o=this._updateWeight(t);if(o>0){const l=this._interpolants,c=this._propertyBindings;if(2501===this.blendMode)for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(a),c[d].accumulateAdditive(o);else for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(a),c[d].accumulate(s,o)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const n=this._weightInterpolant;if(null!==n){const s=n.evaluate(t)[0];e*=s,t>n.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,n=this.loop;let s=this.time+t,r=this._loopCount;const a=2202===n;if(0===t)return-1===r?s:a&&1==(1&r)?e-s:s;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break e}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),s>=e||s<0){const o=Math.floor(s/e);s-=e*o,r+=Math.abs(o);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){const c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=s;if(a&&1==(1&r))return e-s}return s}_setEndings(t,e,n){const s=this._interpolantSettings;n?(s.endingStart=du,s.endingEnd=du):(s.endingStart=t?this.zeroSlopeAtStart?du:cu:2402,s.endingEnd=e?this.zeroSlopeAtEnd?du:cu:2402)}_scheduleFading(t,e,n){const s=this._mixer,r=s.time;let a=this._weightInterpolant;null===a&&(a=s._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,l[0]=e,o[1]=r+t,l[1]=n,this}}class nB extends el{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const n=t._localRoot||this._root,s=t._clip.tracks,r=s.length,a=t._propertyBindings,o=t._interpolants,l=n.uuid,c=this._bindingsByRootAndName;let d=c[l];void 0===d&&(d={},c[l]=d);for(let u=0;u!==r;++u){const h=s[u],p=h.name;let f=d[p];if(void 0!==f)++f.referenceCount,a[u]=f;else{if(f=a[u],void 0!==f){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,l,p));continue}f=new Kre(Di.create(n,p,e&&e._propertyBindings[u].binding.parsedPath),h.ValueTypeName,h.getValueSize()),++f.referenceCount,this._addInactiveBinding(f,l,p),a[u]=f}o[u].resultBuffer=f.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const n=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,n)}const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,n){const s=this._actions,r=this._actionsByClip;let a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{const o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=s.length,s.push(t),a.actionByRoot[n]=t}_removeInactiveAction(t){const e=this._actions,n=e[e.length-1],s=t._cacheIndex;n._cacheIndex=s,e[s]=n,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,a=this._actionsByClip,o=a[r],l=o.knownActions,c=l[l.length-1],d=t._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===l.length&&delete a[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let n=0,s=e.length;n!==s;++n){const r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,n=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_takeBackAction(t){const e=this._actions,n=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_addInactiveBinding(t,e,n){const s=this._bindingsByRootAndName,r=this._bindings;let a=s[e];void 0===a&&(a={},s[e]=a),a[n]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,n=t.binding,s=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[s],l=e[e.length-1],c=t._cacheIndex;l._cacheIndex=c,e[c]=l,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[s]}_lendBinding(t){const e=this._bindings,n=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_takeBackBinding(t){const e=this._bindings,n=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=n,e[n]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let n=t[e];return void 0===n&&(n=new PN(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=e,t[e]=n),n}_takeBackControlInterpolant(t){const e=this._controlInterpolants,n=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=n,e[n]=r}clipAction(t,e,n){const s=e||this._root,r=s.uuid;let a="string"==typeof t?gf.findByName(s,t):t;const o=null!==a?a.uuid:t,l=this._actionsByClip[o];let c=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==l){const u=l.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;c=l.knownActions[0],null===a&&(a=c._clip)}if(null===a)return null;const d=new lae(this,a,e,n);return this._bindAction(d,c),this._addInactiveAction(d,o,r),d}existingAction(t,e){const n=e||this._root,s=n.uuid,r="string"==typeof t?gf.findByName(n,t):t,o=this._actionsByClip[r?r.uuid:t];return void 0!==o&&o.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)t[n].stop();return this}update(t){const e=this._actions,n=this._nActiveActions,s=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1;for(let c=0;c!==n;++c)e[c]._update(s,t,r,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,n=t.uuid,s=this._actionsByClip,r=s[n];if(void 0!==r){const a=r.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const d=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,e[d]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete s[n]}}uncacheRoot(t){const e=t.uuid,n=this._actionsByClip;for(const a in n){const l=n[a].actionByRoot[e];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const a in r){const o=r[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}nB.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class NS{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new NS(void 0===this.value.clone?this.value:this.value.clone())}}(class cae extends mc{constructor(t,e,n=1){super(t,e),this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}).prototype.isInstancedInterleavedBuffer=!0;class rB{constructor(t=1,e=0,n=0){return this.radius=t,this.phi=e,this.theta=n,this}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(rn(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const aB=new le;class vf{constructor(t=new le(1/0,1/0),e=new le(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=aB.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return aB.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}vf.prototype.isBox2=!0;const gl=new M,Iv=new nt,VS=new nt;function cB(i){const t=[];!0===i.isBone&&t.push(i);for(let e=0;e<i.children.length;e++)t.push.apply(t,cB(i.children[e]));return t}class Nv{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=rn(t,-65504,65504),gB[0]=t;const e=_B[0],n=e>>23&511;return qr[n]+((8388607&e)>>Xr[n])}static fromHalfFloat(t){const e=t>>10;return _B[0]=zS[vB[e]+(1023&t)]+Gu[e],gB[0]}}const mB=new ArrayBuffer(4),gB=new Float32Array(mB),_B=new Uint32Array(mB),qr=new Uint32Array(512),Xr=new Uint32Array(512);for(let i=0;i<256;++i){const t=i-127;t<-27?(qr[i]=0,qr[256|i]=32768,Xr[i]=24,Xr[256|i]=24):t<-14?(qr[i]=1024>>-t-14,qr[256|i]=1024>>-t-14|32768,Xr[i]=-t-1,Xr[256|i]=-t-1):t<=15?(qr[i]=t+15<<10,qr[256|i]=t+15<<10|32768,Xr[i]=13,Xr[256|i]=13):t<128?(qr[i]=31744,qr[256|i]=64512,Xr[i]=24,Xr[256|i]=24):(qr[i]=31744,qr[256|i]=64512,Xr[i]=13,Xr[256|i]=13)}const zS=new Uint32Array(2048),Gu=new Uint32Array(64),vB=new Uint32Array(64);for(let i=1;i<1024;++i){let t=i<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,zS[i]=t|e}for(let i=1024;i<2048;++i)zS[i]=939524096+(i-1024<<13);for(let i=1;i<31;++i)Gu[i]=i<<23;Gu[31]=1199570944,Gu[32]=2147483648;for(let i=33;i<63;++i)Gu[i]=2147483648+(i-32<<23);Gu[63]=3347054592;for(let i=1;i<64;++i)32!==i&&(vB[i]=1024);gr.create=function(i,t){return console.log("THREE.Curve.create() has been deprecated"),i.prototype=Object.create(gr.prototype),i.prototype.constructor=i,i.prototype.getPoint=t,i},rf.prototype.fromPoints=function(i){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(i)},class fae extends gc{constructor(t=10,e=10,n=4473924,s=8947848){n=new Re(n),s=new Re(s);const r=e/2,a=t/e,o=t/2,l=[],c=[];for(let h=0,p=0,f=-o;h<=e;h++,f+=a){l.push(-o,0,f,o,0,f),l.push(f,0,-o,f,0,o);const g=h===r?n:s;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const d=new yt;d.setAttribute("position",new rt(l,3)),d.setAttribute("color",new rt(c,3)),super(d,new Hn({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class hae extends gc{constructor(t){const e=cB(t),n=new yt,s=[],r=[],a=new Re(0,0,1),o=new Re(0,1,0);for(let c=0;c<e.length;c++){const d=e[c];d.parent&&d.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(a.r,a.g,a.b),r.push(o.r,o.g,o.b))}n.setAttribute("position",new rt(s,3)),n.setAttribute("color",new rt(r,3)),super(n,new Hn({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,s=n.getAttribute("position");VS.copy(this.root.matrixWorld).invert();for(let r=0,a=0;r<e.length;r++){const o=e[r];o.parent&&o.parent.isBone&&(Iv.multiplyMatrices(VS,o.matrixWorld),gl.setFromMatrixPosition(Iv),s.setXYZ(a,gl.x,gl.y,gl.z),Iv.multiplyMatrices(VS,o.parent.matrixWorld),gl.setFromMatrixPosition(Iv),s.setXYZ(a+1,gl.x,gl.y,gl.z),a+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Sa.prototype.extractUrlBase=function(i){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Da.extractUrlBase(i)},Sa.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},vf.prototype.center=function(i){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(i)},vf.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},vf.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},vf.prototype.size=function(i){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(i)},$s.prototype.center=function(i){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(i)},$s.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},$s.prototype.isIntersectionBox=function(i){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},$s.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},$s.prototype.size=function(i){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(i)},uc.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},nl.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},j_.prototype.setFromMatrix=function(i){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(i)},Bn.prototype.flattenToArrayOffset=function(i,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,t)},Bn.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},Bn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Bn.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),i.applyMatrix3(this)},Bn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Bn.prototype.getInverse=function(i){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},nt.prototype.extractPosition=function(i){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(i)},nt.prototype.flattenToArrayOffset=function(i,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(i,t)},nt.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new M).setFromMatrixColumn(this,3)},nt.prototype.setRotationFromQuaternion=function(i){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(i)},nt.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},nt.prototype.multiplyVector3=function(i){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},nt.prototype.multiplyVector4=function(i){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},nt.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},nt.prototype.rotateAxis=function(i){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),i.transformDirection(this)},nt.prototype.crossVector=function(i){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},nt.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},nt.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},nt.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},nt.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},nt.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},nt.prototype.applyToBufferAttribute=function(i){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),i.applyMatrix4(this)},nt.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},nt.prototype.makeFrustum=function(i,t,e,n,s,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(i,t,n,e,s,r)},nt.prototype.getInverse=function(i){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(i).invert()},oo.prototype.isIntersectionLine=function(i){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(i)},Rn.prototype.multiplyVector3=function(i){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),i.applyQuaternion(this)},Rn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},dc.prototype.isIntersectionBox=function(i){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(i)},dc.prototype.isIntersectionPlane=function(i){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(i)},dc.prototype.isIntersectionSphere=function(i){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(i)},gn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},gn.prototype.barycoordFromPoint=function(i,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(i,t)},gn.prototype.midpoint=function(i){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(i)},gn.prototypenormal=function(i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(i)},gn.prototype.plane=function(i){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(i)},gn.barycoordFromPoint=function(i,t,e,n,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),gn.getBarycoord(i,t,e,n,s)},gn.normal=function(i,t,e,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),gn.getNormal(i,t,e,n)},co.prototype.extractAllPoints=function(i){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(i)},co.prototype.extrude=function(i){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new fl(this,i)},co.prototype.makeGeometry=function(i){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new hf(this,i)},le.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},le.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},le.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},M.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},M.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},M.prototype.getPositionFromMatrix=function(i){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(i)},M.prototype.getScaleFromMatrix=function(i){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(i)},M.prototype.getColumnFromMatrix=function(i,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,i)},M.prototype.applyProjection=function(i){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(i)},M.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},M.prototype.distanceToManhattan=function(i){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(i)},M.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},pi.prototype.fromAttribute=function(i,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(i,t,e)},pi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ci.prototype.getChildByName=function(i){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(i)},ci.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},ci.prototype.translate=function(i,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,i)},ci.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},ci.prototype.applyMatrix=function(i){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(ci.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(i){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=i}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),In.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(In.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),tv.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Ln.prototype.setLens=function(i,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(i)},Object.defineProperties(Ta.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(i){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=i}},shadowCameraLeft:{set:function(i){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=i}},shadowCameraRight:{set:function(i){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=i}},shadowCameraTop:{set:function(i){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=i}},shadowCameraBottom:{set:function(i){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=i}},shadowCameraNear:{set:function(i){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=i}},shadowCameraFar:{set:function(i){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=i}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(i){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=i}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(i){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=i}},shadowMapHeight:{set:function(i){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=i}}}),Object.defineProperties(_i.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===zp},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(zp)}}}),_i.prototype.setDynamic=function(i){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?zp:Hp),this},_i.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},_i.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},yt.prototype.addIndex=function(i){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(i)},yt.prototype.addAttribute=function(i,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===i?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(i,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(i,new _i(arguments[1],arguments[2])))},yt.prototype.addDrawCall=function(i,t,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(i,t)},yt.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},yt.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},yt.prototype.removeAttribute=function(i){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(i)},yt.prototype.applyMatrix=function(i){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(i)},Object.defineProperties(yt.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),mc.prototype.setDynamic=function(i){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===i?zp:Hp),this},mc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},fl.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},fl.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},fl.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Q_.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},NS.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Ui.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Re}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(i){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(i){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=i}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(Yr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(i){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=i}}}),fi.prototype.clearTarget=function(i,t,e,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(i),this.clear(t,e,n)},fi.prototype.animate=function(i){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(i)},fi.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},fi.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},fi.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},fi.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},fi.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},fi.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},fi.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},fi.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},fi.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},fi.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},fi.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},fi.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},fi.prototype.enableScissorTest=function(i){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(i)},fi.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},fi.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},fi.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},fi.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},fi.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},fi.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},fi.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},fi.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},fi.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},fi.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(fi.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=i}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(i){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=i}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(i){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===i?ai:Gr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(G2.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(js.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=i}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(i){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=i}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=i}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(i){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=i}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(i){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=i}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(i){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=i}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(i){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=i}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(i){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=i}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(i){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=i}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(i){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=i}}}),class qre extends ci{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype.load=function(i){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Wre).load(i,function(n){t.setBuffer(n)}),this},ZC.prototype.updateCubeMap=function(i,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(i,t)},ZC.prototype.clear=function(i,t,e,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(i,t,e,n)},ac.crossOrigin=void 0,ac.loadTexture=function(i,t,e,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new ON;s.setCrossOrigin(this.crossOrigin);const r=s.load(i,e,void 0,n);return t&&(r.mapping=t),r},ac.loadTextureCube=function(i,t,e,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new Vre;s.setCrossOrigin(this.crossOrigin);const r=s.load(i,e,void 0,n);return t&&(r.mapping=t),r},ac.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ac.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"139"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="139");class mae extends Sa{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new yae(e)}),this.register(function(e){return new Mae(e)}),this.register(function(e){return new Tae(e)}),this.register(function(e){return new xae(e)}),this.register(function(e){return new bae(e)}),this.register(function(e){return new wae(e)}),this.register(function(e){return new Cae(e)}),this.register(function(e){return new Sae(e)}),this.register(function(e){return new _ae(e)}),this.register(function(e){return new Dae(e)})}load(t,e,n,s){const r=this;let a;a=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Da.extractUrlBase(t),this.manager.itemStart(t);const o=function(c){s?s(c):console.error(c),r.manager.itemError(t),r.manager.itemEnd(t)},l=new Ma(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){try{r.parse(c,a,function(d){e(d),r.manager.itemEnd(t)},o)}catch(d){o(d)}},n,o)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,n,s){let r;const a={},o={};if("string"==typeof t)r=t;else if(Da.decodeText(new Uint8Array(t,0,4))===yB){try{a[Zt.KHR_BINARY_GLTF]=new Aae(t)}catch(u){return void(s&&s(u))}r=a[Zt.KHR_BINARY_GLTF].content}else r=Da.decodeText(new Uint8Array(t));const l=JSON.parse(r);if(void 0===l.asset||l.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new zae(l,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const u=this.pluginCallbacks[d](c);o[u.name]=u,a[u.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const u=l.extensionsUsed[d],h=l.extensionsRequired||[];switch(u){case Zt.KHR_MATERIALS_UNLIT:a[u]=new vae;break;case Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:a[u]=new Rae;break;case Zt.KHR_DRACO_MESH_COMPRESSION:a[u]=new Eae(l,this.dracoLoader);break;case Zt.KHR_TEXTURE_TRANSFORM:a[u]=new kae;break;case Zt.KHR_MESH_QUANTIZATION:a[u]=new Iae;break;default:h.indexOf(u)>=0&&void 0===o[u]&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(n,s)}parseAsync(t,e){const n=this;return new Promise(function(s,r){n.parse(t,e,s,r)})}}function gae(){let i={};return{get:function(t){return i[t]},add:function(t,e){i[t]=e},remove:function(t){delete i[t]},removeAll:function(){i={}}}}const Zt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class _ae{constructor(t){this.parser=t,this.name=Zt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let n=0,s=e.length;n<s;n++){const r=e[n];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,n="light:"+t;let s=e.cache.get(n);if(s)return s;const r=e.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let c;const d=new Re(16777215);void 0!==l.color&&d.fromArray(l.color);const u=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new LS(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new IS(d),c.distance=u;break;case"spot":c=new kS(d),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,void 0!==l.intensity&&(c.intensity=l.intensity),c.name=e.createUniqueName(l.name||"light_"+t),s=Promise.resolve(c),e.cache.add(n,s),s}createNodeAttachment(t){const e=this,n=this.parser,r=n.json.nodes[t],o=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then(function(l){return n._getNodeRef(e.cache,o,l)})}}class vae{constructor(){this.name=Zt.KHR_MATERIALS_UNLIT}getMaterialType(){return qs}extendParams(t,e,n){const s=[];t.color=new Re(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const a=r.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==r.baseColorTexture&&s.push(n.assignTexture(t,"map",r.baseColorTexture,ai))}return Promise.all(s)}}class yae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];if(void 0!==a.clearcoatFactor&&(e.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&r.push(n.assignTexture(e,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(e.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&r.push(n.assignTexture(e,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(r.push(n.assignTexture(e,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){const o=a.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new le(o,o)}return Promise.all(r)}}class xae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_SHEEN}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new Re(0,0,0),e.sheenRoughness=0,e.sheen=1;const a=s.extensions[this.name];return void 0!==a.sheenColorFactor&&e.sheenColor.fromArray(a.sheenColorFactor),void 0!==a.sheenRoughnessFactor&&(e.sheenRoughness=a.sheenRoughnessFactor),void 0!==a.sheenColorTexture&&r.push(n.assignTexture(e,"sheenColorMap",a.sheenColorTexture,ai)),void 0!==a.sheenRoughnessTexture&&r.push(n.assignTexture(e,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(r)}}class bae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];return void 0!==a.transmissionFactor&&(e.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&r.push(n.assignTexture(e,"transmissionMap",a.transmissionTexture)),Promise.all(r)}}class wae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_VOLUME}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.thickness=void 0!==a.thicknessFactor?a.thicknessFactor:0,void 0!==a.thicknessTexture&&r.push(n.assignTexture(e,"thicknessMap",a.thicknessTexture)),e.attenuationDistance=a.attenuationDistance||0;const o=a.attenuationColor||[1,1,1];return e.attenuationColor=new Re(o[0],o[1],o[2]),Promise.all(r)}}class Cae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_IOR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class Sae{constructor(t){this.parser=t,this.name=Zt.KHR_MATERIALS_SPECULAR}getMaterialType(t){const n=this.parser.json.materials[t];return n.extensions&&n.extensions[this.name]?ml:null}extendMaterialParams(t,e){const n=this.parser,s=n.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],a=s.extensions[this.name];e.specularIntensity=void 0!==a.specularFactor?a.specularFactor:1,void 0!==a.specularTexture&&r.push(n.assignTexture(e,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return e.specularColor=new Re(o[0],o[1],o[2]),void 0!==a.specularColorTexture&&r.push(n.assignTexture(e,"specularColorMap",a.specularColorTexture,ai)),Promise.all(r)}}class Mae{constructor(t){this.parser=t,this.name=Zt.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,n=e.json,s=n.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],a=e.options.ktx2Loader;if(!a){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,a)}}class Tae{constructor(t){this.parser=t,this.name=Zt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,n=this.parser,s=n.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const a=r.extensions[e],o=s.images[a.source];let l=n.textureLoader;if(o.uri){const c=n.options.manager.getHandler(o.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return n.loadTextureImage(t,a.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return n.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class Dae{constructor(t){this.name=Zt.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,n=e.bufferViews[t];if(n.extensions&&n.extensions[this.name]){const s=n.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,a.ready]).then(function(o){const l=s.byteOffset||0,c=s.byteLength||0,d=s.count,u=s.byteStride,h=new ArrayBuffer(d*u),p=new Uint8Array(o[0],l,c);return a.decodeGltfBuffer(new Uint8Array(h),d,u,p,s.mode,s.filter),h})}return null}}const yB="glTF";class Aae{constructor(t){this.name=Zt.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:Da.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==yB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const n=this.header.length-12,s=new DataView(t,12);let r=0;for(;r<n;){const a=s.getUint32(r,!0);r+=4;const o=s.getUint32(r,!0);if(r+=4,1313821514===o){const l=new Uint8Array(t,12+r,a);this.content=Da.decodeText(l)}else if(5130562===o){const l=12+r;this.body=t.slice(l,l+a)}r+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Eae{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Zt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const n=this.json,s=this.dracoLoader,r=t.extensions[this.name].bufferView,a=t.extensions[this.name].attributes,o={},l={},c={};for(const d in a){const u=US[d]||d.toLowerCase();o[u]=a[d]}for(const d in t.attributes){const u=US[d]||d.toLowerCase();if(void 0!==a[d]){const h=n.accessors[t.attributes[d]];c[u]=xf[h.componentType],l[u]=!0===h.normalized}}return e.getDependency("bufferView",r).then(function(d){return new Promise(function(u){s.decodeDracoFile(d,function(h){for(const p in h.attributes){const f=h.attributes[p],g=l[p];void 0!==g&&(f.normalized=g)}u(h)},o,c)})})}}class kae{constructor(){this.name=Zt.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class GS extends Bu{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new Re).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(l){for(const c in o)l.uniforms[c]=o[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(l){o.specular.value=l}},specularMap:{get:function(){return o.specularMap.value},set:function(l){o.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(l){o.glossiness.value=l}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(l){o.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class Rae{constructor(){this.name=Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return GS}extendParams(t,e,n){const s=e.extensions[this.name];t.color=new Re(1,1,1),t.opacity=1;const r=[];if(Array.isArray(s.diffuseFactor)){const a=s.diffuseFactor;t.color.fromArray(a),t.opacity=a[3]}if(void 0!==s.diffuseTexture&&r.push(n.assignTexture(t,"map",s.diffuseTexture,ai)),t.emissive=new Re(0,0,0),t.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,t.specular=new Re(1,1,1),Array.isArray(s.specularFactor)&&t.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){const a=s.specularGlossinessTexture;r.push(n.assignTexture(t,"glossinessMap",a)),r.push(n.assignTexture(t,"specularMap",a,ai))}return Promise.all(r)}createMaterial(t){const e=new GS(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class Iae{constructor(){this.name=Zt.KHR_MESH_QUANTIZATION}}class Cc extends ho{constructor(t,e,n,s){super(t,e,n,s)}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,s=this.valueSize,r=t*s*3+s;for(let a=0;a!==s;a++)e[a]=n[r+a];return e}}Cc.prototype.beforeStart_=Cc.prototype.copySampleValue_,Cc.prototype.afterEnd_=Cc.prototype.copySampleValue_,Cc.prototype.interpolate_=function(i,t,e,n){const s=this.resultBuffer,r=this.sampleValues,a=this.valueSize,o=2*a,l=3*a,c=n-t,d=(e-t)/c,u=d*d,h=u*d,p=i*l,f=p-l,g=-2*h+3*u,m=h-u,_=1-g,v=m-u+d;for(let y=0;y!==a;y++)s[y]=_*r[f+y+a]+v*(r[f+y+o]*c)+g*r[p+y+a]+m*(r[p+y]*c);return s};const Lae=new Rn;class Pae extends Cc{interpolate_(t,e,n,s){const r=super.interpolate_(t,e,n,s);return Lae.fromArray(r).normalize().toArray(r),r}}const xf={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},bB={9728:mn,9729:Ti,9984:1004,9985:1007,9986:1005,9987:Jo},wB={33071:vs,33648:1002,10497:Jl},CB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},US={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_l={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Fae={CUBICSPLINE:void 0,LINEAR:lu,STEP:Vp};function bf(i,t,e){for(const n in e.extensions)void 0===i[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=e.extensions[n])}function Sc(i,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(i.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function Bae(i,t){if(i.updateMorphTargets(),void 0!==t.weights)for(let e=0,n=t.weights.length;e<n;e++)i.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(i.morphTargetInfluences.length===e.length){i.morphTargetDictionary={};for(let n=0,s=e.length;n<s;n++)i.morphTargetDictionary[e[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Vae(i){const t=i.extensions&&i.extensions[Zt.KHR_DRACO_MESH_COMPRESSION];let e;return e=t?"draco:"+t.bufferView+":"+t.indices+":"+SB(t.attributes):i.indices+":"+SB(i.attributes)+":"+i.mode,e}function SB(i){let t="";const e=Object.keys(i).sort();for(let n=0,s=e.length;n<s;n++)t+=e[n]+":"+i[e[n]]+";";return t}function jS(i){switch(i){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class zae{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new gae,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?new XN(this.options.manager):new ON(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Ma(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const n=this,s=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([n.getDependencies("scene"),n.getDependencies("animation"),n.getDependencies("camera")])}).then(function(a){const o={scene:a[0][s.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:s.asset,parser:n,userData:{}};bf(r,o,s),Sc(o,s),Promise.all(n._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){t(o)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[];for(let s=0,r=e.length;s<r;s++){const a=e[s].joints;for(let o=0,l=a.length;o<l;o++)t[a[o]].isBone=!0}for(let s=0,r=t.length;s<r;s++){const a=t[s];void 0!==a.mesh&&(this._addNodeRef(this.meshCache,a.mesh),void 0!==a.skin&&(n[a.mesh].isSkinnedMesh=!0)),void 0!==a.camera&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,n){if(t.refs[e]<=1)return n;const s=n.clone(),r=(a,o)=>{const l=this.associations.get(a);null!=l&&this.associations.set(o,l);for(const[c,d]of a.children.entries())r(d,o.children[c])};return r(n,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let n=0;n<e.length;n++){const s=t(e[n]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const n=[];for(let s=0;s<e.length;s++){const r=t(e[s]);r&&n.push(r)}return n}getDependency(t,e){const n=t+":"+e;let s=this.cache.get(n);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this.loadNode(e);break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this.loadAnimation(e);break;case"camera":s=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(n,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const n=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(r,a){return n.getDependency(t,a)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Zt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,a){n.load(Da.resolveURL(e.uri,s.path),r,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(n){const r=e.byteOffset||0;return n.slice(r,r+(e.byteLength||0))})}loadAccessor(t){const e=this,n=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);const r=[];return r.push(void 0!==s.bufferView?this.getDependency("bufferView",s.bufferView):null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(a){const o=a[0],l=CB[s.type],c=xf[s.componentType],d=c.BYTES_PER_ELEMENT,h=s.byteOffset||0,p=void 0!==s.bufferView?n.bufferViews[s.bufferView].byteStride:void 0,f=!0===s.normalized;let g,m;if(p&&p!==d*l){const _=Math.floor(h/p),v="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+_+":"+s.count;let y=e.cache.get(v);y||(g=new c(o,_*p,s.count*p/d),y=new mc(g,p/d),e.cache.add(v,y)),m=new dl(y,l,h%p/d,f)}else g=null===o?new c(s.count*l):new c(o,h,s.count*l),m=new _i(g,l,f);if(void 0!==s.sparse){const b=s.sparse.values.byteOffset||0,w=new(0,xf[s.sparse.indices.componentType])(a[1],s.sparse.indices.byteOffset||0,s.sparse.count*CB.SCALAR),S=new c(a[2],b,s.sparse.count*l);null!==o&&(m=new _i(m.array.slice(),m.itemSize,m.normalized));for(let D=0,L=w.length;D<L;D++){const H=w[D];if(m.setX(H,S[D*l]),l>=2&&m.setY(H,S[D*l+1]),l>=3&&m.setZ(H,S[D*l+2]),l>=4&&m.setW(H,S[D*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(t){const e=this.json,r=e.textures[t].source,a=e.images[r];let o=this.textureLoader;if(a.uri){const l=this.options.manager.getHandler(a.uri);null!==l&&(o=l)}return this.loadTextureImage(t,r,o)}loadTextureImage(t,e,n){const s=this,r=this.json,a=r.textures[t],o=r.images[e],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(e,n).then(function(d){d.flipY=!1,a.name&&(d.name=a.name);const h=(r.samplers||{})[a.sampler]||{};return d.magFilter=bB[h.magFilter]||Ti,d.minFilter=bB[h.minFilter]||Jo,d.wrapS=wB[h.wrapS]||Jl,d.wrapT=wB[h.wrapT]||Jl,s.associations.set(d,{textures:t}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(t,e){const s=this.json,r=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(u=>u.clone());const a=s.images[t],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(void 0!==a.bufferView)l=this.getDependency("bufferView",a.bufferView).then(function(u){c=!0;const h=new Blob([u],{type:a.mimeType});return l=o.createObjectURL(h),l});else if(void 0===a.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(u){return new Promise(function(h,p){let f=h;!0===e.isImageBitmapLoader&&(f=function(g){const m=new ns(g);m.needsUpdate=!0,h(m)}),e.load(Da.resolveURL(u,r.path),f,void 0,p)})}).then(function(u){return!0===c&&o.revokeObjectURL(l),u.userData.mimeType=a.mimeType||function Hae(i){return i.search(/\.jpe?g($|\?)/i)>0||0===i.search(/^data\:image\/jpeg/)?"image/jpeg":i.search(/\.webp($|\?)/i)>0||0===i.search(/^data\:image\/webp/)?"image/webp":"image/png"}(a.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[t]=d,d}assignTexture(t,e,n,s){const r=this;return this.getDependency("texture",n.index).then(function(a){if(void 0!==n.texCoord&&0!=n.texCoord&&!("aoMap"===e&&1==n.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),r.extensions[Zt.KHR_TEXTURE_TRANSFORM]){const o=void 0!==n.extensions?n.extensions[Zt.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=r.associations.get(a);a=r.extensions[Zt.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),r.associations.set(a,l)}}return void 0!==s&&(a.encoding=s),t[e]=a,a})}assignFinalMaterial(t){const e=t.geometry;let n=t.material;const s=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,a=void 0===e.attributes.normal;if(t.isPoints){const o="PointsMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new av,Ui.prototype.copy.call(l,n),l.color.copy(n.color),l.map=n.map,l.sizeAttenuation=!1,this.cache.add(o,l)),n=l}else if(t.isLine){const o="LineBasicMaterial:"+n.uuid;let l=this.cache.get(o);l||(l=new Hn,Ui.prototype.copy.call(l,n),l.color.copy(n.color),this.cache.add(o,l)),n=l}if(s||r||a){let o="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(o+="specular-glossiness:"),s&&(o+="derivative-tangents:"),r&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=n.clone(),r&&(l.vertexColors=!0),a&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(n))),n=l}n.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=n}getMaterialType(){return Bu}loadMaterial(t){const e=this,s=this.extensions,r=this.json.materials[t];let a;const o={},l=r.extensions||{},c=[];if(l[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const u=s[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=u.getMaterialType(),c.push(u.extendParams(o,r,e))}else if(l[Zt.KHR_MATERIALS_UNLIT]){const u=s[Zt.KHR_MATERIALS_UNLIT];a=u.getMaterialType(),c.push(u.extendParams(o,r,e))}else{const u=r.pbrMetallicRoughness||{};if(o.color=new Re(1,1,1),o.opacity=1,Array.isArray(u.baseColorFactor)){const h=u.baseColorFactor;o.color.fromArray(h),o.opacity=h[3]}void 0!==u.baseColorTexture&&c.push(e.assignTexture(o,"map",u.baseColorTexture,ai)),o.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,o.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(c.push(e.assignTexture(o,"metalnessMap",u.metallicRoughnessTexture)),c.push(e.assignTexture(o,"roughnessMap",u.metallicRoughnessTexture))),a=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(t,o)})))}!0===r.doubleSided&&(o.side=2);const d=r.alphaMode||"OPAQUE";if("BLEND"===d?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,"MASK"===d&&(o.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&a!==qs&&(c.push(e.assignTexture(o,"normalMap",r.normalTexture)),o.normalScale=new le(1,1),void 0!==r.normalTexture.scale)){const u=r.normalTexture.scale;o.normalScale.set(u,u)}return void 0!==r.occlusionTexture&&a!==qs&&(c.push(e.assignTexture(o,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(o.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&a!==qs&&(o.emissive=(new Re).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&a!==qs&&c.push(e.assignTexture(o,"emissiveMap",r.emissiveTexture,ai)),Promise.all(c).then(function(){let u;return u=a===GS?s[Zt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(o):new a(o),r.name&&(u.name=r.name),Sc(u,r),e.associations.set(u,{materials:t}),r.extensions&&bf(s,u,r),u})}createUniqueName(t){const e=Di.sanitizeNodeName(t||"");let n=e;for(let s=1;this.nodeNamesUsed[n];++s)n=e+"_"+s;return this.nodeNamesUsed[n]=!0,n}loadGeometries(t){const e=this,n=this.extensions,s=this.primitiveCache;function r(o){return n[Zt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,e).then(function(l){return TB(l,o,e)})}const a=[];for(let o=0,l=t.length;o<l;o++){const c=t[o],d=Vae(c),u=s[d];if(u)a.push(u.promise);else{let h;h=c.extensions&&c.extensions[Zt.KHR_DRACO_MESH_COMPRESSION]?r(c):TB(new yt,c,e),s[d]={primitive:c,promise:h},a.push(h)}}return Promise.all(a)}loadMesh(t){const e=this,s=this.extensions,r=this.json.meshes[t],a=r.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const d=void 0===a[l].material?(void 0===(i=this.cache).DefaultMaterial&&(i.DefaultMaterial=new Bu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),i.DefaultMaterial):this.getDependency("material",a[l].material);o.push(d)}var i;return o.push(e.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],u=[];for(let p=0,f=d.length;p<f;p++){const g=d[p],m=a[p];let _;const v=c[p];if(4===m.mode||5===m.mode||6===m.mode||void 0===m.mode)_=!0===r.isSkinnedMesh?new tv(g,v):new In(g,v),!0===_.isSkinnedMesh&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),5===m.mode?_.geometry=DB(_.geometry,1):6===m.mode&&(_.geometry=DB(_.geometry,2));else if(1===m.mode)_=new gc(g,v);else if(3===m.mode)_=new ul(g,v);else if(2===m.mode)_=new hS(g,v);else{if(0!==m.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);_=new fS(g,v)}Object.keys(_.geometry.morphAttributes).length>0&&Bae(_,r),_.name=e.createUniqueName(r.name||"mesh_"+t),Sc(_,r),m.extensions&&bf(s,_,m),e.assignFinalMaterial(_),u.push(_)}for(let p=0,f=u.length;p<f;p++)e.associations.set(u[p],{meshes:t,primitives:p});if(1===u.length)return u[0];const h=new lo;e.associations.set(h,{meshes:t});for(let p=0,f=u.length;p<f;p++)h.add(u[p]);return h})}loadCamera(t){let e;const n=this.json.cameras[t],s=n[n.type];if(s)return"perspective"===n.type?e=new Ln(Vee.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===n.type&&(e=new Qp(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),n.name&&(e.name=this.createUniqueName(n.name)),Sc(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then(function(s){return n.inverseBindMatrices=s,n})}loadAnimation(t){const n=this.json.animations[t],s=[],r=[],a=[],o=[],l=[];for(let c=0,d=n.channels.length;c<d;c++){const u=n.channels[c],h=n.samplers[u.sampler],p=u.target,g=void 0!==n.parameters?n.parameters[h.input]:h.input,m=void 0!==n.parameters?n.parameters[h.output]:h.output;s.push(this.getDependency("node",void 0!==p.node?p.node:p.id)),r.push(this.getDependency("accessor",g)),a.push(this.getDependency("accessor",m)),o.push(h),l.push(p)}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],h=c[2],p=c[3],f=c[4],g=[];for(let _=0,v=d.length;_<v;_++){const y=d[_],b=u[_],w=h[_],S=p[_],D=f[_];if(void 0===y)continue;let L;switch(y.updateMatrix(),y.matrixAutoUpdate=!0,_l[D.path]){case _l.weights:L=ff;break;case _l.rotation:L=_c;break;default:L=mf}const H=y.name?y.name:y.uuid,N=void 0!==S.interpolation?Fae[S.interpolation]:lu,C=[];_l[D.path]===_l.weights?y.traverse(function(X){X.morphTargetInfluences&&C.push(X.name?X.name:X.uuid)}):C.push(H);let R=w.array;if(w.normalized){const X=jS(R.constructor),z=new Float32Array(R.length);for(let q=0,O=R.length;q<O;q++)z[q]=R[q]*X;R=z}for(let X=0,z=C.length;X<z;X++){const q=new L(C[X]+"."+_l[D.path],b.array,R,N);"CUBICSPLINE"===S.interpolation&&(q.createInterpolant=function(B){return new(this instanceof _c?Pae:Cc)(this.times,this.values,this.getValueSize()/3,B)},q.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(q)}}return new gf(n.name?n.name:"animation_"+t,void 0,g)})}createNodeMesh(t){const n=this,s=this.json.nodes[t];return void 0===s.mesh?null:n.getDependency("mesh",s.mesh).then(function(r){const a=n._getNodeRef(n.meshCache,s.mesh,r);return void 0!==s.weights&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=s.weights.length;l<c;l++)o.morphTargetInfluences[l]=s.weights[l]}),a})}loadNode(t){const n=this.extensions,s=this,r=this.json.nodes[t],a=r.name?s.createUniqueName(r.name):"";return function(){const o=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(t)});return l&&o.push(l),void 0!==r.camera&&o.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(t)}).forEach(function(c){o.push(c)}),Promise.all(o)}().then(function(o){let l;if(l=!0===r.isBone?new iv:o.length>1?new lo:1===o.length?o[0]:new ci,l!==o[0])for(let c=0,d=o.length;c<d;c++)l.add(o[c]);if(r.name&&(l.userData.name=r.name,l.name=a),Sc(l,r),r.extensions&&bf(n,l,r),void 0!==r.matrix){const c=new nt;c.fromArray(r.matrix),l.applyMatrix4(c)}else void 0!==r.translation&&l.position.fromArray(r.translation),void 0!==r.rotation&&l.quaternion.fromArray(r.rotation),void 0!==r.scale&&l.scale.fromArray(r.scale);return s.associations.has(l)||s.associations.set(l,{}),s.associations.get(l).nodes=t,l})}loadScene(t){const e=this.json,n=this.extensions,s=this.json.scenes[t],r=this,a=new lo;s.name&&(a.name=r.createUniqueName(s.name)),Sc(a,s),s.extensions&&bf(n,a,s);const o=s.nodes||[],l=[];for(let c=0,d=o.length;c<d;c++)l.push(MB(o[c],a,e,r));return Promise.all(l).then(function(){return r.associations=(d=>{const u=new Map;for(const[h,p]of r.associations)(h instanceof Ui||h instanceof ns)&&u.set(h,p);return d.traverse(h=>{const p=r.associations.get(h);null!=p&&u.set(h,p)}),u})(a),a})}}function MB(i,t,e,n){const s=e.nodes[i];return n.getDependency("node",i).then(function(r){if(void 0===s.skin)return r;let a;return n.getDependency("skin",s.skin).then(function(o){a=o;const l=[];for(let c=0,d=a.joints.length;c<d;c++)l.push(n.getDependency("node",a.joints[c]));return Promise.all(l)}).then(function(o){return r.traverse(function(l){if(!l.isMesh)return;const c=[],d=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];if(p){c.push(p);const f=new nt;void 0!==a.inverseBindMatrices&&f.fromArray(a.inverseBindMatrices.array,16*u),d.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',a.joints[u])}l.bind(new nv(c,d),l.matrixWorld)}),r})}).then(function(r){t.add(r);const a=[];if(s.children){const o=s.children;for(let l=0,c=o.length;l<c;l++)a.push(MB(o[l],r,e,n))}return Promise.all(a)})}function TB(i,t,e){const n=t.attributes,s=[];function r(a,o){return e.getDependency("accessor",a).then(function(l){i.setAttribute(o,l)})}for(const a in n){const o=US[a]||a.toLowerCase();o in i.attributes||s.push(r(n[a],o))}if(void 0!==t.indices&&!i.index){const a=e.getDependency("accessor",t.indices).then(function(o){i.setIndex(o)});s.push(a)}return Sc(i,t),function Gae(i,t,e){const n=t.attributes,s=new $s;if(void 0===n.POSITION)return;{const o=e.json.accessors[n.POSITION],l=o.min,c=o.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new M(l[0],l[1],l[2]),new M(c[0],c[1],c[2])),o.normalized){const d=jS(xf[o.componentType]);s.min.multiplyScalar(d),s.max.multiplyScalar(d)}}const r=t.targets;if(void 0!==r){const o=new M,l=new M;for(let c=0,d=r.length;c<d;c++){const u=r[c];if(void 0!==u.POSITION){const h=e.json.accessors[u.POSITION],p=h.min,f=h.max;if(void 0!==p&&void 0!==f){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(f[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(f[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(f[2]))),h.normalized){const g=jS(xf[h.componentType]);l.multiplyScalar(g)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(o)}i.boundingBox=s;const a=new nl;s.getCenter(a.center),a.radius=s.min.distanceTo(s.max)/2,i.boundingSphere=a}(i,t,e),Promise.all(s).then(function(){return void 0!==t.targets?function Nae(i,t,e){let n=!1,s=!1,r=!1;for(let c=0,d=t.length;c<d;c++){const u=t[c];if(void 0!==u.POSITION&&(n=!0),void 0!==u.NORMAL&&(s=!0),void 0!==u.COLOR_0&&(r=!0),n&&s&&r)break}if(!n&&!s&&!r)return Promise.resolve(i);const a=[],o=[],l=[];for(let c=0,d=t.length;c<d;c++){const u=t[c];if(n){const h=void 0!==u.POSITION?e.getDependency("accessor",u.POSITION):i.attributes.position;a.push(h)}if(s){const h=void 0!==u.NORMAL?e.getDependency("accessor",u.NORMAL):i.attributes.normal;o.push(h)}if(r){const h=void 0!==u.COLOR_0?e.getDependency("accessor",u.COLOR_0):i.attributes.color;l.push(h)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[1],h=c[2];return n&&(i.morphAttributes.position=c[0]),s&&(i.morphAttributes.normal=u),r&&(i.morphAttributes.color=h),i.morphTargetsRelative=!0,i})}(i,t.targets,e):i})}function DB(i,t){let e=i.getIndex();if(null===e){const a=[],o=i.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),i;for(let l=0;l<o.count;l++)a.push(l);i.setIndex(a),e=i.getIndex()}const n=e.count-2,s=[];if(2===t)for(let a=1;a<=n;a++)s.push(e.getX(0)),s.push(e.getX(a)),s.push(e.getX(a+1));else for(let a=0;a<n;a++)a%2==0?(s.push(e.getX(a)),s.push(e.getX(a+1)),s.push(e.getX(a+2))):(s.push(e.getX(a+2)),s.push(e.getX(a+1)),s.push(e.getX(a)));s.length/3!==n&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=i.clone();return r.setIndex(s),r}const AB={type:"change"},$S={type:"start"},EB={type:"end"};class Uae extends el{constructor(t,e){super(),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new M,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return o.phi},this.getAzimuthalAngle=function(){return o.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(k){k.addEventListener("keydown",di),this._domElementKeyEvents=k},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(AB),n.update(),r=s.NONE},this.update=function(){const k=new M,De=(new Rn).setFromUnitVectors(t.up,new M(0,1,0)),lt=De.clone().invert(),He=new M,G=new Rn,Ne=2*Math.PI;return function(){const xt=n.object.position;k.copy(xt).sub(n.target),k.applyQuaternion(De),o.setFromVector3(k),n.autoRotate&&r===s.NONE&&H(function D(){return 2*Math.PI/60/60*n.autoRotateSpeed}()),n.enableDamping?(o.theta+=l.theta*n.dampingFactor,o.phi+=l.phi*n.dampingFactor):(o.theta+=l.theta,o.phi+=l.phi);let Xe=n.minAzimuthAngle,dt=n.maxAzimuthAngle;return isFinite(Xe)&&isFinite(dt)&&(Xe<-Math.PI?Xe+=Ne:Xe>Math.PI&&(Xe-=Ne),dt<-Math.PI?dt+=Ne:dt>Math.PI&&(dt-=Ne),o.theta=Xe<=dt?Math.max(Xe,Math.min(dt,o.theta)):o.theta>(Xe+dt)/2?Math.max(Xe,o.theta):Math.min(dt,o.theta)),o.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,o.phi)),o.makeSafe(),o.radius*=c,o.radius=Math.max(n.minDistance,Math.min(n.maxDistance,o.radius)),!0===n.enableDamping?n.target.addScaledVector(d,n.dampingFactor):n.target.add(d),k.setFromSpherical(o),k.applyQuaternion(lt),xt.copy(n.target).add(k),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,d.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),d.set(0,0,0)),c=1,!!(u||He.distanceToSquared(n.object.position)>a||8*(1-G.dot(n.object.quaternion))>a)&&(n.dispatchEvent(AB),He.copy(n.object.position),G.copy(n.object.quaternion),u=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",se),n.domElement.removeEventListener("pointerdown",he),n.domElement.removeEventListener("pointercancel",Te),n.domElement.removeEventListener("wheel",Jt),n.domElement.removeEventListener("pointermove",Ve),n.domElement.removeEventListener("pointerup",Me),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",di)};const n=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=s.NONE;const a=1e-6,o=new rB,l=new rB;let c=1;const d=new M;let u=!1;const h=new le,p=new le,f=new le,g=new le,m=new le,_=new le,v=new le,y=new le,b=new le,w=[],S={};function L(){return Math.pow(.95,n.zoomSpeed)}function H(k){l.theta-=k}function N(k){l.phi-=k}const C=function(){const k=new M;return function(lt,He){k.setFromMatrixColumn(He,0),k.multiplyScalar(-lt),d.add(k)}}(),R=function(){const k=new M;return function(lt,He){!0===n.screenSpacePanning?k.setFromMatrixColumn(He,1):(k.setFromMatrixColumn(He,0),k.crossVectors(n.object.up,k)),k.multiplyScalar(lt),d.add(k)}}(),X=function(){const k=new M;return function(lt,He){const G=n.domElement;if(n.object.isPerspectiveCamera){k.copy(n.object.position).sub(n.target);let Fe=k.length();Fe*=Math.tan(n.object.fov/2*Math.PI/180),C(2*lt*Fe/G.clientHeight,n.object.matrix),R(2*He*Fe/G.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(C(lt*(n.object.right-n.object.left)/n.object.zoom/G.clientWidth,n.object.matrix),R(He*(n.object.top-n.object.bottom)/n.object.zoom/G.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function z(k){n.object.isPerspectiveCamera?c/=k:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*k)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function q(k){n.object.isPerspectiveCamera?c*=k:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/k)),n.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function O(k){h.set(k.clientX,k.clientY)}function F(k){g.set(k.clientX,k.clientY)}function Ye(){1===w.length?h.set(w[0].pageX,w[0].pageY):h.set(.5*(w[0].pageX+w[1].pageX),.5*(w[0].pageY+w[1].pageY))}function ot(){1===w.length?g.set(w[0].pageX,w[0].pageY):g.set(.5*(w[0].pageX+w[1].pageX),.5*(w[0].pageY+w[1].pageY))}function ae(){const k=w[0].pageX-w[1].pageX,De=w[0].pageY-w[1].pageY,lt=Math.sqrt(k*k+De*De);v.set(0,lt)}function oe(k){if(1==w.length)p.set(k.pageX,k.pageY);else{const lt=ft(k);p.set(.5*(k.pageX+lt.x),.5*(k.pageY+lt.y))}f.subVectors(p,h).multiplyScalar(n.rotateSpeed);const De=n.domElement;H(2*Math.PI*f.x/De.clientHeight),N(2*Math.PI*f.y/De.clientHeight),h.copy(p)}function ie(k){if(1===w.length)m.set(k.pageX,k.pageY);else{const De=ft(k);m.set(.5*(k.pageX+De.x),.5*(k.pageY+De.y))}_.subVectors(m,g).multiplyScalar(n.panSpeed),X(_.x,_.y),g.copy(m)}function Oe(k){const De=ft(k),lt=k.pageX-De.x,He=k.pageY-De.y,G=Math.sqrt(lt*lt+He*He);y.set(0,G),b.set(0,Math.pow(y.y/v.y,n.zoomSpeed)),z(b.y),v.copy(y)}function he(k){!1!==n.enabled&&(0===w.length&&(n.domElement.setPointerCapture(k.pointerId),n.domElement.addEventListener("pointermove",Ve),n.domElement.addEventListener("pointerup",Me)),function ye(k){w.push(k)}(k),"touch"===k.pointerType?function P(k){switch(Ze(k),w.length){case 1:switch(n.touches.ONE){case 0:if(!1===n.enableRotate)return;Ye(),r=s.TOUCH_ROTATE;break;case 1:if(!1===n.enablePan)return;ot(),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(n.touches.TWO){case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;(function tt(){n.enableZoom&&ae(),n.enablePan&&ot()})(),r=s.TOUCH_DOLLY_PAN;break;case 3:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function ct(){n.enableZoom&&ae(),n.enableRotate&&Ye()})(),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent($S)}(k):function qe(k){let De;switch(k.button){case 0:De=n.mouseButtons.LEFT;break;case 1:De=n.mouseButtons.MIDDLE;break;case 2:De=n.mouseButtons.RIGHT;break;default:De=-1}switch(De){case 1:if(!1===n.enableZoom)return;(function B(k){v.set(k.clientX,k.clientY)})(k),r=s.DOLLY;break;case 0:if(k.ctrlKey||k.metaKey||k.shiftKey){if(!1===n.enablePan)return;F(k),r=s.PAN}else{if(!1===n.enableRotate)return;O(k),r=s.ROTATE}break;case 2:if(k.ctrlKey||k.metaKey||k.shiftKey){if(!1===n.enableRotate)return;O(k),r=s.ROTATE}else{if(!1===n.enablePan)return;F(k),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&n.dispatchEvent($S)}(k))}function Ve(k){!1!==n.enabled&&("touch"===k.pointerType?function T(k){switch(Ze(k),r){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;oe(k),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;ie(k),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;(function V(k){n.enableZoom&&Oe(k),n.enablePan&&ie(k)})(k),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;(function te(k){n.enableZoom&&Oe(k),n.enableRotate&&oe(k)})(k),n.update();break;default:r=s.NONE}}(k):function at(k){if(!1!==n.enabled)switch(r){case s.ROTATE:if(!1===n.enableRotate)return;!function Y(k){p.set(k.clientX,k.clientY),f.subVectors(p,h).multiplyScalar(n.rotateSpeed);const De=n.domElement;H(2*Math.PI*f.x/De.clientHeight),N(2*Math.PI*f.y/De.clientHeight),h.copy(p),n.update()}(k);break;case s.DOLLY:if(!1===n.enableZoom)return;!function K(k){y.set(k.clientX,k.clientY),b.subVectors(y,v),b.y>0?z(L()):b.y<0&&q(L()),v.copy(y),n.update()}(k);break;case s.PAN:if(!1===n.enablePan)return;!function ce(k){m.set(k.clientX,k.clientY),_.subVectors(m,g).multiplyScalar(n.panSpeed),X(_.x,_.y),g.copy(m),n.update()}(k)}}(k))}function Me(k){We(k),0===w.length&&(n.domElement.releasePointerCapture(k.pointerId),n.domElement.removeEventListener("pointermove",Ve),n.domElement.removeEventListener("pointerup",Me)),n.dispatchEvent(EB),r=s.NONE}function Te(k){We(k)}function Jt(k){!1===n.enabled||!1===n.enableZoom||r!==s.NONE||(k.preventDefault(),n.dispatchEvent($S),function ee(k){k.deltaY<0?q(L()):k.deltaY>0&&z(L()),n.update()}(k),n.dispatchEvent(EB))}function di(k){!1===n.enabled||!1===n.enablePan||function Ke(k){let De=!1;switch(k.code){case n.keys.UP:X(0,n.keyPanSpeed),De=!0;break;case n.keys.BOTTOM:X(0,-n.keyPanSpeed),De=!0;break;case n.keys.LEFT:X(n.keyPanSpeed,0),De=!0;break;case n.keys.RIGHT:X(-n.keyPanSpeed,0),De=!0}De&&(k.preventDefault(),n.update())}(k)}function se(k){!1!==n.enabled&&k.preventDefault()}function We(k){delete S[k.pointerId];for(let De=0;De<w.length;De++)if(w[De].pointerId==k.pointerId)return void w.splice(De,1)}function Ze(k){let De=S[k.pointerId];void 0===De&&(De=new le,S[k.pointerId]=De),De.set(k.pageX,k.pageY)}function ft(k){return S[(k.pointerId===w[0].pointerId?w[1]:w[0]).pointerId]}n.domElement.addEventListener("contextmenu",se),n.domElement.addEventListener("pointerdown",he),n.domElement.addEventListener("pointercancel",Te),n.domElement.addEventListener("wheel",Jt,{passive:!1}),this.update()}}class Wae extends Hre{constructor(t){super(t),this.type=ba}parse(t){const o=function(y,b){switch(y){case 1:console.error("THREE.RGBELoader Read Error: "+(b||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(b||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(b||""));break;default:console.error("THREE.RGBELoader: Error: "+(b||""))}return-1},h=function(y,b,w){b=b||1024;let D=y.pos,L=-1,H=0,N="",C=String.fromCharCode.apply(null,new Uint16Array(y.subarray(D,D+128)));for(;0>(L=C.indexOf("\n"))&&H<b&&D<y.byteLength;)N+=C,H+=C.length,D+=128,C+=String.fromCharCode.apply(null,new Uint16Array(y.subarray(D,D+128)));return-1<L&&(!1!==w&&(y.pos+=H+L+1),N+C.slice(0,L))},g=function(y,b,w,S){const L=Math.pow(2,y[b+3]-128)/255;w[S+0]=y[b+0]*L,w[S+1]=y[b+1]*L,w[S+2]=y[b+2]*L,w[S+3]=1},m=function(y,b,w,S){const L=Math.pow(2,y[b+3]-128)/255;w[S+0]=Nv.toHalfFloat(Math.min(y[b+0]*L,65504)),w[S+1]=Nv.toHalfFloat(Math.min(y[b+1]*L,65504)),w[S+2]=Nv.toHalfFloat(Math.min(y[b+2]*L,65504)),w[S+3]=Nv.toHalfFloat(1)},_=new Uint8Array(t);_.pos=0;const v=function(y){const w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*FORMAT=(\S+)\s*$/,L=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,H={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let N,C;if(y.pos>=y.byteLength||!(N=h(y)))return o(1,"no header found");if(!(C=N.match(/^#\?(\S+)/)))return o(3,"bad initial token");for(H.valid|=1,H.programtype=C[1],H.string+=N+"\n";N=h(y),!1!==N;)if(H.string+=N+"\n","#"!==N.charAt(0)){if((C=N.match(w))&&(H.gamma=parseFloat(C[1])),(C=N.match(S))&&(H.exposure=parseFloat(C[1])),(C=N.match(D))&&(H.valid|=2,H.format=C[1]),(C=N.match(L))&&(H.valid|=4,H.height=parseInt(C[1],10),H.width=parseInt(C[2],10)),2&H.valid&&4&H.valid)break}else H.comments+=N+"\n";return 2&H.valid?4&H.valid?H:o(3,"missing image size specifier"):o(3,"missing format specifier")}(_);if(-1!==v){const y=v.width,b=v.height,w=function(y,b,w){const S=b;if(S<8||S>32767||2!==y[0]||2!==y[1]||128&y[2])return new Uint8Array(y);if(S!==(y[2]<<8|y[3]))return o(3,"wrong scanline width");const D=new Uint8Array(4*b*w);if(!D.length)return o(4,"unable to allocate buffer space");let L=0,H=0;const N=4*S,C=new Uint8Array(4),R=new Uint8Array(N);let X=w;for(;X>0&&H<y.byteLength;){if(H+4>y.byteLength)return o(1);if(C[0]=y[H++],C[1]=y[H++],C[2]=y[H++],C[3]=y[H++],2!=C[0]||2!=C[1]||(C[2]<<8|C[3])!=S)return o(3,"bad rgbe scanline format");let q,z=0;for(;z<N&&H<y.byteLength;){q=y[H++];const B=q>128;if(B&&(q-=128),0===q||z+q>N)return o(3,"bad scanline data");if(B){const F=y[H++];for(let Y=0;Y<q;Y++)R[z++]=F}else R.set(y.subarray(H,H+q),z),z+=q,H+=q}const O=S;for(let B=0;B<O;B++){let F=0;D[L]=R[B+F],F+=S,D[L+1]=R[B+F],F+=S,D[L+2]=R[B+F],F+=S,D[L+3]=R[B+F],L+=4}X--}return D}(_.subarray(_.pos),y,b);if(-1!==w){let S,D,L,H;switch(this.type){case zr:H=w.length/4;const N=new Float32Array(4*H);for(let R=0;R<H;R++)g(w,4*R,N,4*R);S=N,L=zr;break;case ba:H=w.length/4;const C=new Uint16Array(4*H);for(let R=0;R<H;R++)m(w,4*R,C,4*R);S=C,L=ba;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:y,height:b,data:S,header:v.string,gamma:v.gamma,exposure:v.exposure,format:D,type:L}}}return null}setDataType(t){return this.type=t,this}load(t,e,n,s){return super.load(t,function r(a,o){switch(a.type){case zr:case ba:a.encoding=Gr,a.minFilter=Ti,a.magFilter=Ti,a.generateMipmaps=!1,a.flipY=!0}e&&e(a,o)},n,s)}}let YS=(()=>{class i{constructor(){this.deltaX=.01,this.deltaY=.01,this.deltaZ=.01,this.far=100,this.fov=35,this.gammaFactor=2.2,this.gammaOutput=!0,this.near=1,this.physicallyCorrectLights=!0,this.sceneBackground=9419988,this.renderer=new fi({antialias:!0}),this.clock=new JN,this.mixers=new Array,this.modelPosition=new M(0,-1,0),this.modelScale=new M(.01,.01,.01),this.loadingManager=new DS,this.directionalLightOptions={color:15524284,intensity:20},this.hemisphereOptions={skyColor:16772785,groundColor:32800,intensity:4},this.createCamera=()=>{this.camera=new Ln(this.fov,this.aspect,this.near,this.far),this.camera.position.set(7,4,9.5)},this.createControls=()=>this.controls=new Uae(this.camera,this.container),this.createLight=()=>{this.hemisphere=new AS(this.hemisphereOptions.skyColor,this.hemisphereOptions.groundColor,this.hemisphereOptions.intensity),this.mainLight=new PS(this.directionalLightOptions.color,this.directionalLightOptions.intensity),this.mainLight.position.set(-7,-4,-9.5),this.scene.add(this.hemisphere)},this.createModels=(e,n,s)=>{this.loader=new mae(this.loadingManager);const r=a=>{const o=a.scene.children[0];o.position.copy(n),o.scale.copy(s);const l=a.animations[0];if(l){const c=new nB(o);this.mixers.push(c),c.clipAction(l).play()}this.scene.add(o),console.log(this.scene)};this.loader.load(e,a=>{r(a)},()=>{},a=>console.log(a))},this.onWindowResize=()=>{this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer&&this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)},this.createRenderer=()=>{this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=ai,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize)},this.update=()=>{const e=this.clock.getDelta();this.mixers.forEach(n=>n.update(e))},this.render=()=>this.renderer.render(this.scene,this.camera),this.start=()=>this.renderer.setAnimationLoop(()=>{this.update(),this.render()}),this.stop=()=>this.renderer.setAnimationLoop(()=>{}),this.initialize=(e,n)=>{this.container=e,this.scene=new Q_,this.scene.background=new Re(this.sceneBackground),this.aspect=e.clientWidth/e.clientHeight,this.createCamera(),this.createControls(),this.createLight(),this.initializeLoadingManager(),this.createModels(n.modelUrl,n.modelPosition,n.modelScale),this.createRenderer(),this.setEnviromentLighting().then(s=>{this.scene.environment=s}),this.start()}}setEnviromentLighting(){return new Promise((e,n)=>{new Wae(this.loadingManager).load("./assets/hdr/venice_sunset.hdr",s=>{s.mapping=303,e(s)})})}initializeLoadingManager(){this.loadingManager.onStart=(e,n,s)=>{var r,a;(null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild).classList.remove("fade-out")},this.loadingManager.onLoad=()=>{var e,n;(null===(n=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===n?void 0:n.lastChild).classList.add("fade-out")},this.loadingManager.onProgress=(e,n,s)=>{var r,a;const o=null===(a=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.lastChild;(null==o?void 0:o.lastChild).innerText=Math.round(n/s*100)+"%"},this.loadingManager.onError=e=>{console.log("There was an error loading "+e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class kB{}class RB{}class mo{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const s=e.slice(0,n),r=s.toLowerCase(),a=e.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(a):this.headers.set(r,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const s=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof mo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new mo;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof mo?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...n),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let a=this.headers.get(e);if(!a)return;a=a.filter(o=>-1===r.indexOf(o)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jae{encodeKey(t){return IB(t)}encodeValue(t){return IB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Yae=/%(\d[a-f0-9])/gi,qae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function IB(i){return encodeURIComponent(i).replace(Yae,(t,e)=>{var n;return null!==(n=qae[e])&&void 0!==n?n:t})}function LB(i){return`${i}`}class vl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jae,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $ae(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[a,o]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(a)||[];l.push(o),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const s=t[n];Array.isArray(s)?s.forEach(r=>{e.push({param:n,value:r,op:"a"})}):e.push({param:n,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new vl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(LB(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const s=n.indexOf(LB(t.value));-1!==s&&n.splice(s,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Xae{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function PB(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function FB(i){return"undefined"!=typeof Blob&&i instanceof Blob}function OB(i){return"undefined"!=typeof FormData&&i instanceof FormData}class wf{constructor(t,e,n,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Qae(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new mo),this.context||(this.context=new Xae),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+a}}else this.params=new vl,this.urlWithParams=e}serializeBody(){return null===this.body?null:PB(this.body)||FB(this.body)||OB(this.body)||function Kae(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||OB(this.body)?null:FB(this.body)?this.body.type||null:PB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,p)=>h.set(p,t.setHeaders[p]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,p)=>h.set(p,t.setParams[p]),d)),new wf(n,s,a,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:o})}}var vn=(()=>((vn=vn||{})[vn.Sent=0]="Sent",vn[vn.UploadProgress=1]="UploadProgress",vn[vn.ResponseHeader=2]="ResponseHeader",vn[vn.DownloadProgress=3]="DownloadProgress",vn[vn.Response=4]="Response",vn[vn.User=5]="User",vn))();class qS{constructor(t,e=200,n="OK"){this.headers=t.headers||new mo,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class XS extends qS{constructor(t={}){super(t),this.type=vn.ResponseHeader}clone(t={}){return new XS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Bv extends qS{constructor(t={}){super(t),this.type=vn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Bv({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class NB extends qS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function QS(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let Vv=(()=>{class i{constructor(e){this.handler=e}request(e,n,s={}){let r;if(e instanceof wf)r=e;else{let l,c;l=s.headers instanceof mo?s.headers:new mo(s.headers),s.params&&(c=s.params instanceof vl?s.params:new vl({fromObject:s.params})),r=new wf(e,n,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=ht(r).pipe(Qd(l=>this.handler.handle(l)));if(e instanceof wf||"events"===s.observe)return a;const o=a.pipe(Oi(l=>l instanceof Bv));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(It(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return o.pipe(It(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return o.pipe(It(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return o.pipe(It(l=>l.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new vl).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,s={}){return this.request("PATCH",e,QS(s,n))}post(e,n,s={}){return this.request("POST",e,QS(s,n))}put(e,n,s={}){return this.request("PUT",e,QS(s,n))}}return i.\u0275fac=function(e){return new(e||i)($(kB))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class BB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const KS=new ne("HTTP_INTERCEPTORS");let Zae=(()=>{class i{intercept(e,n){return n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const Jae=/^\)\]\}',?\n/;let VB=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ni(n=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((p,f)=>s.setRequestHeader(p,f.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const p=e.detectContentTypeHeader();null!==p&&s.setRequestHeader("Content-Type",p)}if(e.responseType){const p=e.responseType.toLowerCase();s.responseType="json"!==p?p:"text"}const r=e.serializeBody();let a=null;const o=()=>{if(null!==a)return a;const p=1223===s.status?204:s.status,f=s.statusText||"OK",g=new mo(s.getAllResponseHeaders()),m=function eoe(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return a=new XS({headers:g,status:p,statusText:f,url:m}),a},l=()=>{let{headers:p,status:f,statusText:g,url:m}=o(),_=null;204!==f&&(_=void 0===s.response?s.responseText:s.response),0===f&&(f=_?200:0);let v=f>=200&&f<300;if("json"===e.responseType&&"string"==typeof _){const y=_;_=_.replace(Jae,"");try{_=""!==_?JSON.parse(_):null}catch(b){_=y,v&&(v=!1,_={error:b,text:_})}}v?(n.next(new Bv({body:_,headers:p,status:f,statusText:g,url:m||void 0})),n.complete()):n.error(new NB({error:_,headers:p,status:f,statusText:g,url:m||void 0}))},c=p=>{const{url:f}=o(),g=new NB({error:p,status:s.status||0,statusText:s.statusText||"Unknown Error",url:f||void 0});n.error(g)};let d=!1;const u=p=>{d||(n.next(o()),d=!0);let f={type:vn.DownloadProgress,loaded:p.loaded};p.lengthComputable&&(f.total=p.total),"text"===e.responseType&&!!s.responseText&&(f.partialText=s.responseText),n.next(f)},h=p=>{let f={type:vn.UploadProgress,loaded:p.loaded};p.lengthComputable&&(f.total=p.total),n.next(f)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),e.reportProgress&&(s.addEventListener("progress",u),null!==r&&s.upload&&s.upload.addEventListener("progress",h)),s.send(r),n.next({type:vn.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),e.reportProgress&&(s.removeEventListener("progress",u),null!==r&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(e){return new(e||i)($(HL))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const ZS=new ne("XSRF_COOKIE_NAME"),JS=new ne("XSRF_HEADER_NAME");class HB{}let toe=(()=>{class i{constructor(e,n,s){this.doc=e,this.platform=n,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=EL(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(hn),$(ZS))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),eM=(()=>{class i{constructor(e,n){this.tokenService=e,this.headerName=n}intercept(e,n){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return n.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),n.handle(e)}}return i.\u0275fac=function(e){return new(e||i)($(HB),$(JS))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),ioe=(()=>{class i{constructor(e,n){this.backend=e,this.injector=n,this.chain=null}handle(e){if(null===this.chain){const n=this.injector.get(KS,[]);this.chain=n.reduceRight((s,r)=>new BB(s,r),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)($(RB),$(en))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),noe=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:eM,useClass:Zae}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:ZS,useValue:e.cookieName}:[],e.headerName?{provide:JS,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[eM,{provide:KS,useExisting:eM,multi:!0},{provide:HB,useClass:toe},{provide:ZS,useValue:"XSRF-TOKEN"},{provide:JS,useValue:"X-XSRF-TOKEN"}]}),i})(),soe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[Vv,{provide:kB,useClass:ioe},VB,{provide:RB,useExisting:VB}],imports:[[noe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})(),Hv=(()=>{class i{constructor(e){this.http=e,this.url="https://cryptic-falls-04173.herokuapp.com/api"}getMachines(){return this.http.get(this.url+"/machine")}getMachineDetails(e){return this.http.get(this.url+`/machine/${e}`)}createDigitalTwin(e){return this.http.post(this.url+"/digital-twin",e)}getDigitalTwins(){return this.http.get(this.url+"/digital-twin")}getDigitalTwinDetails(e){return this.http.get(this.url+`/digital-twin/${e}`)}deletDigitalTwin(e){return this.http.delete(this.url+`/digital-twin/${e}`)}}return i.\u0275fac=function(e){return new(e||i)($(Vv))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class roe extends _t{constructor(t,e){super()}schedule(t,e=0){return this}}const zv={setInterval(...i){const{delegate:t}=zv;return((null==t?void 0:t.setInterval)||setInterval)(...i)},clearInterval(i){const{delegate:t}=zv;return((null==t?void 0:t.clearInterval)||clearInterval)(i)},delegate:void 0};class tM extends roe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,n=0){return zv.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;zv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,n=!1;try{this.work(t)}catch(r){n=!0,s=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,cs(n,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const zB={now:()=>(zB.delegate||Date).now(),delegate:void 0};class Cf{constructor(t,e=Cf.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}}Cf.now=zB.now;class iM extends Cf{constructor(t,e=Cf.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}const Gv=new iM(tM),GB=Gv;function Sf(i=0,t,e=GB){let n=-1;return null!=t&&(TA(t)?e=t:n=t),new ni(s=>{let r=function aoe(i){return i instanceof Date&&!isNaN(i)}(i)?+i-e.now():i;r<0&&(r=0);let a=0;return e.schedule(function(){s.closed||(s.next(a++),0<=n?this.schedule(void 0,n):s.complete())},r)})}let nM=(()=>{class i{constructor(e){this.router=e,this.subject=new ke,this.keepAfterNavigationChange=!1,this.isActive=!1,e.events.subscribe(n=>{n instanceof Bg&&(this.keepAfterNavigationChange?this.keepAfterNavigationChange=!1:this.subject.next(null))})}success(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"success",text:e}),this.isActive=!0,this.hide(n))}error(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"error",text:e}),this.isActive=!0,this.hide(n))}info(e,n=3,s=!1){this.isActive||(this.keepAfterNavigationChange=s,this.subject.next({type:"info",text:e}),this.isActive=!0,this.hide(n))}getMessage(){return this.subject.asObservable()}hide(e){Sf(1e3*e).subscribe(()=>{this.subject.next(null),this.isActive=!1})}}return i.\u0275fac=function(e){return new(e||i)($(On))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ooe=new ne("cdk-dir-doc",{providedIn:"root",factory:function loe(){return _d(mt)}}),coe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let zn=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new ge,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function doe(i){const t=(null==i?void 0:i.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?coe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)($(ooe,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Mc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})();function UB(i){for(let t in i){let e=i[t]||"";switch(t){case"display":i.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":i["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",i["-webkit-flex-direction"]=e,i["flex-direction"]=e;break;case"order":i.order=i["-webkit-"+t]=isNaN(+e)?"0":e}}return i}const sM="inline",Uv=["row","column","row-reverse","column-reverse"];function WB(i){let[t,e,n]=jB(i);return function hoe(i,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":i,"flex-wrap":t||null}}(t,e,n)}function jB(i){var t;i=null!==(t=null==i?void 0:i.toLowerCase())&&void 0!==t?t:"";let[e,n,s]=i.split(" ");return Uv.find(r=>r===e)||(e=Uv[0]),n===sM&&(n=s!==sM?s:"",s=sM),[e,uoe(n),!!s]}function Mf(i){let[t]=jB(i);return t.indexOf("row")>-1}function uoe(i){if(i)switch(i.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":i="wrap-reverse";break;case"no":case"none":case"nowrap":i="nowrap";break;default:i="wrap"}return i}function go(i,...t){if(null==i)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}const foe={provide:Jb,useFactory:function poe(i,t){return()=>{if(Us(t)){const e=Array.from(i.querySelectorAll(`[class*=${$B}]`)),n=/\bflex-layout-.+?\b/g;e.forEach(s=>{s.classList.contains(`${$B}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(n,"")})}}},deps:[mt,hn],multi:!0},$B="flex-layout-";let rM=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[foe]}),i})();class Tc{constructor(t=!1,e="all",n="",s="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=n,this.suffix=s,this.priority=r,this.property=""}clone(){return new Tc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let moe=(()=>{class i{constructor(){this.stylesheet=new Map}addStyleToElement(e,n,s){const r=this.stylesheet.get(e);r?r.set(n,s):this.stylesheet.set(e,new Map([[n,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,n){const s=this.stylesheet.get(e);let r="";if(s){const a=s.get(n);("number"==typeof a||"string"==typeof a)&&(r=a+"")}return r}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const aM={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Qr=new ne("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>aM}),Uu=new ne("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),oM=new ne("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function YB(i,t){return i=i?i.clone():new Tc,t&&(i.mqAlias=t.alias,i.mediaQuery=t.mediaQuery,i.suffix=t.suffix,i.priority=t.priority),i}class Qi{constructor(){this.shouldCache=!0}sideEffect(t,e,n){}}let Ri=(()=>{class i{constructor(e,n,s,r){this._serverStylesheet=e,this._serverModuleLoaded=n,this._platformId=s,this.layoutConfig=r}applyStyleToElement(e,n,s=null){let r={};"string"==typeof n&&(r[n]=s,n=r),r=this.layoutConfig.disableVendorPrefixes?n:UB(n),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,n=[]){const s=this.layoutConfig.disableVendorPrefixes?e:UB(e);n.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(e){const n="flex-direction";let s=this.lookupStyle(e,n);return[s||"row",this.lookupInlineStyle(e,n)||va(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,n){var s;return null!==(s=e.getAttribute(n))&&void 0!==s?s:""}lookupInlineStyle(e,n){return Us(this._platformId)?e.style.getPropertyValue(n):function goe(i,t){var e;return null!==(e=qB(i)[t])&&void 0!==e?e:""}(e,n)}lookupStyle(e,n,s=!1){let r="";return e&&((r=this.lookupInlineStyle(e,n))||(Us(this._platformId)?s||(r=getComputedStyle(e).getPropertyValue(n)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,n)))),r?r.trim():""}_applyMultiValueStyleToElement(e,n){Object.keys(e).sort().forEach(s=>{const r=e[s],a=Array.isArray(r)?r:[r];a.sort();for(let o of a)o=o?o+"":"",Us(this._platformId)||!this._serverModuleLoaded?Us(this._platformId)?n.style.setProperty(s,o):_oe(n,s,o):this._serverStylesheet.addStyleToElement(n,s,o)})}}return i.\u0275fac=function(e){return new(e||i)($(moe),$(Uu),$(hn),$(Qr))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _oe(i,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const n=qB(i);n[t]=null!=e?e:"",function voe(i,t){let e="";for(const n in t)t[n]&&(e+=`${n}:${t[n]};`);i.setAttribute("style",e)}(i,n)}function qB(i){const t={},e=i.getAttribute("style");if(e){const n=e.split(/;+/g);for(let s=0;s<n.length;s++){const r=n[s].trim();if(r.length>0){const a=r.indexOf(":");if(-1===a)throw new Error(`Invalid CSS style: ${r}`);t[r.substr(0,a).trim()]=r.substr(a+1).trim()}}}return t}function Tf(i,t){return(t&&t.priority||0)-(i&&i.priority||0)}function yoe(i,t){return(i.priority||0)-(t.priority||0)}let lM=(()=>{class i{constructor(e,n,s){this._zone=e,this._platformId=n,this._document=s,this.source=new gs(new Tc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((n,s)=>{n.matches&&e.push(s)}),e}isActive(e){var n;const s=this.registry.get(e);return null!==(n=null==s?void 0:s.matches)&&void 0!==n?n:this.registerQuery(e).some(r=>r.matches)}observe(e,n=!1){if(e&&e.length){const s=this._observable$.pipe(Oi(a=>!n||e.indexOf(a.mediaQuery)>-1));return Zi(new ni(a=>{const o=this.registerQuery(e);if(o.length){const l=o.pop();o.forEach(c=>{a.next(c)}),this.source.next(l)}a.complete()}),s)}return this._observable$}registerQuery(e){const n=Array.isArray(e)?e:[e],s=[];return function xoe(i,t){const e=i.filter(n=>!XB[n]);if(e.length>0){const n=e.join(", ");try{const s=t.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${n} {.fx-query-test{ }}\n`)),t.head.appendChild(s),e.forEach(r=>XB[r]=s)}catch(s){console.error(s)}}}(n,this._document),n.forEach(r=>{const a=l=>{this._zone.run(()=>this.source.next(new Tc(l.matches,r)))};let o=this.registry.get(r);o||(o=this.buildMQL(r),o.addListener(a),this.pendingRemoveListenerFns.push(()=>o.removeListener(a)),this.registry.set(r,o)),o.matches&&s.push(new Tc(!0,r))}),s}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function boe(i,t){return t&&window.matchMedia("all").addListener?window.matchMedia(i):{matches:"all"===i||""===i,media:i,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Us(this._platformId))}}return i.\u0275fac=function(e){return new(e||i)($(st),$(hn),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const XB={},woe=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],QB="(orientation: portrait) and (max-width: 599.98px)",KB="(orientation: landscape) and (max-width: 959.98px)",ZB="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",JB="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",e3="(orientation: portrait) and (min-width: 840px)",t3="(orientation: landscape) and (min-width: 1280px)",_o={HANDSET:`${QB}, ${KB}`,TABLET:`${ZB} , ${JB}`,WEB:`${e3}, ${t3} `,HANDSET_PORTRAIT:`${QB}`,TABLET_PORTRAIT:`${ZB} `,WEB_PORTRAIT:`${e3}`,HANDSET_LANDSCAPE:`${KB}`,TABLET_LANDSCAPE:`${JB}`,WEB_LANDSCAPE:`${t3}`},Coe=[{alias:"handset",priority:2e3,mediaQuery:_o.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:_o.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:_o.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:_o.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:_o.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:_o.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:_o.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:_o.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:_o.WEB_PORTRAIT,overlapping:!0}],Soe=/(\.|-|_)/g;function Moe(i){let t=i.length>0?i.charAt(0):"",e=i.length>1?i.slice(1):"";return t.toUpperCase()+e}const Eoe=new ne("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const i=_d(oM),t=_d(Qr),e=[].concat.apply([],(i||[]).map(s=>Array.isArray(s)?s:[s]));return function Aoe(i,t=[]){const e={};return i.forEach(n=>{e[n.alias]=n}),t.forEach(n=>{e[n.alias]?go(e[n.alias],n):e[n.alias]=n}),function Doe(i){return i.forEach(t=>{t.suffix||(t.suffix=function Toe(i){return i.replace(Soe,"|").split("|").map(Moe).join("")}(t.alias),t.overlapping=!!t.overlapping)}),i}(Object.keys(e).map(n=>e[n]))}((t.disableDefaultBps?[]:woe).concat(t.addOrientationBps?Coe:[]),e)}});let cM=(()=>{class i{constructor(e){this.findByMap=new Map,this.items=[...e].sort(yoe)}findByAlias(e){return e?this.findWithPredicate(e,n=>n.alias===e):null}findByQuery(e){return this.findWithPredicate(e,n=>n.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var n;return null!==(n=null==e?void 0:e.suffix)&&void 0!==n?n:""})}findWithPredicate(e,n){var s;let r=this.findByMap.get(e);return r||(r=null!==(s=this.items.find(n))&&void 0!==s?s:null,this.findByMap.set(e,r)),null!=r?r:null}}return i.\u0275fac=function(e){return new(e||i)($(Eoe))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Wu="print",koe={alias:Wu,mediaQuery:Wu,priority:1e3};let Roe=(()=>{class i{constructor(e,n,s){this.breakpoints=e,this.layoutConfig=n,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Ioe,this.deactivations=[]}withPrintQuery(e){return[...e,Wu]}isPrintEvent(e){return e.mediaQuery.startsWith(Wu)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const n=this.breakpoints.findByQuery(e);return(n?[...this.printBreakPoints,n]:this.printBreakPoints).sort(Tf)}updateEvent(e){var n;let s=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(s=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(n=null==s?void 0:s.mediaQuery)&&void 0!==n?n:""),YB(e,s)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const n=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Tc(!0,Wu))),e.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",n),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(n),this.afterPrintEventListeners.push(s)}interceptEvents(e){return n=>{this.isPrintEvent(n)?n.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(n)),e.updateStyles()):!n.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,n)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,n){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(n)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,n){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!n.matches){const s=this.breakpoints.findByQuery(n.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),a=!this.formerActivations&&e.activatedBreakpoints.includes(s);(r||a)&&(this.deactivations.push(s),this.deactivations.sort(Tf))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return i.\u0275fac=function(e){return new(e||i)($(cM),$(Qr),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Ioe{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(koe),t.sort(Tf),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(n=>n.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function Loe(i){var t;return null!==(t=null==i?void 0:i.mediaQuery.startsWith(Wu))&&void 0!==t&&t}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Bi=(()=>{class i{constructor(e,n,s){this.matchMedia=e,this.breakpoints=n,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ke,this.observeActivations()}get activatedAlias(){var e,n;return null!==(n=null===(e=this.activatedBreakpoints[0])||void 0===e?void 0:e.alias)&&void 0!==n?n:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const n=this.findByQuery(e.mediaQuery);if(n){e=YB(e,n);const s=this.activatedBreakpoints.indexOf(n);e.matches&&-1===s?(this._activatedBreakpoints.push(n),this._activatedBreakpoints.sort(Tf),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Tf),this.updateStyles())}}init(e,n,s,r,a=[]){n3(this.updateMap,e,n,s),n3(this.clearMap,e,n,r),this.buildElementKeyMap(e,n),this.watchExtraTriggers(e,n,a)}getValue(e,n,s){const r=this.elementMap.get(e);if(r){const a=void 0!==s?r.get(s):this.getActivatedValues(r,n);if(a)return a.get(n)}}hasValue(e,n){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,n);if(r)return void 0!==r.get(n)||!1}return!1}setValue(e,n,s,r){var a;let o=this.elementMap.get(e);if(o){const c=(null!==(a=o.get(r))&&void 0!==a?a:new Map).set(n,s);o.set(r,c),this.elementMap.set(e,o)}else o=(new Map).set(r,(new Map).set(n,s)),this.elementMap.set(e,o);const l=this.getValue(e,n);void 0!==l&&this.updateElement(e,n,l)}trackValue(e,n){return this.subject.asObservable().pipe(Oi(s=>s.element===e&&s.key===n))}updateStyles(){this.elementMap.forEach((e,n)=>{const s=new Set(this.elementKeyMap.get(n));let r=this.getActivatedValues(e);r&&r.forEach((a,o)=>{this.updateElement(n,o,a),s.delete(o)}),s.forEach(a=>{if(r=this.getActivatedValues(e,a),r){const o=r.get(a);this.updateElement(n,a,o)}else this.clearElement(n,a)})})}clearElement(e,n){const s=this.clearMap.get(e);if(s){const r=s.get(n);r&&(r(),this.subject.next({element:e,key:n,value:""}))}}updateElement(e,n,s){const r=this.updateMap.get(e);if(r){const a=r.get(n);a&&(a(s),this.subject.next({element:e,key:n,value:s}))}}releaseElement(e){const n=this.watcherMap.get(e);n&&(n.forEach(r=>r.unsubscribe()),this.watcherMap.delete(e));const s=this.elementMap.get(e);s&&(s.forEach((r,a)=>s.delete(a)),this.elementMap.delete(e))}triggerUpdate(e,n){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,n);r&&(n?this.updateElement(e,n,r.get(n)):r.forEach((a,o)=>this.updateElement(e,o,a)))}}buildElementKeyMap(e,n){let s=this.elementKeyMap.get(e);s||(s=new Set,this.elementKeyMap.set(e,s)),s.add(n)}watchExtraTriggers(e,n,s){if(s&&s.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(n)){const o=Zi(...s).subscribe(()=>{const l=this.getValue(e,n);this.updateElement(e,n,l)});r.set(n,o)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,n){for(let r=0;r<this.activatedBreakpoints.length;r++){const o=e.get(this.activatedBreakpoints[r].alias);if(o&&(void 0===n||o.has(n)&&null!=o.get(n)))return o}if(!this._useFallbacks)return;const s=e.get("");return void 0===n||s&&s.has(n)?s:void 0}observeActivations(){const e=this.breakpoints.items.map(n=>n.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(An(this.hook.interceptEvents(this)),Oi(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return i.\u0275fac=function(e){return new(e||i)($(lM),$(cM),$(Roe))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function n3(i,t,e,n){var s;if(void 0!==n){const r=null!==(s=i.get(t))&&void 0!==s?s:new Map;r.set(e,n),i.set(t,r)}}let ji=(()=>{class i{constructor(e,n,s,r){this.elementRef=e,this.styleBuilder=n,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ke,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(n=>{if(-1!==this.inputs.indexOf(n)){const s=n.split(".").slice(1).join(".");this.setValue(e[n].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,n){const s=this.styleBuilder,r=s.shouldCache;let a=this.styleCache.get(e);(!a||!r)&&(a=s.buildStyles(e,n),r&&this.styleCache.set(e,a)),this.mru=Object.assign({},a),this.applyStyleToElement(a),s.sideEffect(e,a,n)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,n=!1){if(e){const[s,r]=this.styler.getFlowDirection(e);if(!r&&n){const a=WB(s);this.styler.applyStyleToElements(a,[e])}return s.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,n,s=this.nativeElement){this.styler.applyStyleToElement(s,e,n)}setValue(e,n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,n)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Qi),x(Ri),x(Bi))},i.\u0275dir=j({type:i,features:[bt]}),i})();function s3(i,t="1",e="1"){let n=[t,e,i],s=i.indexOf("calc");if(s>0){n[2]=r3(i.substring(s).trim());let r=i.substr(0,s).trim().split(" ");2==r.length&&(n[0]=r[0],n[1]=r[1])}else if(0==s)n[2]=r3(i.trim());else{let r=i.split(" ");n=3===r.length?r:[t,e,i]}return n}function r3(i){return i.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Wv(i,t){if(void 0===t)return i;const e=n=>{const s=+n.slice(0,-"x".length);return i.endsWith("x")&&!isNaN(s)?`${s*t.value}${t.unit}`:i};return i.includes(" ")?i.split(" ").map(e).join(" "):e(i)}function pt(i){return Hi((t,e)=>{Rs(i).subscribe(new Ai(e,()=>e.complete(),ed)),!e.closed&&t.subscribe(e)})}let Ooe=(()=>{class i extends Qi{buildStyles(e,{display:n}){const s=WB(e);return Object.assign(Object.assign({},s),{display:"none"===n?n:s.display})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Noe=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let Boe=(()=>{class i extends ji{constructor(e,n,s,r,a){super(e,s,n,r),this._config=a,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){var n;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(n=o3.get(r))&&void 0!==n?n:new Map,o3.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Ri),x(Ooe),x(Bi),x(Qr))},i.\u0275dir=j({type:i,features:[Z]}),i})(),yl=(()=>{class i extends Boe{constructor(){super(...arguments),this.inputs=Noe}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Z]}),i})();const o3=new Map,l3={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let Voe=(()=>{class i extends Qi{constructor(e,n){super(),this._styler=e,this._config=n}buildStyles(e,n){return e.endsWith($v)?function Yoe(i,t){const[e,n]=i.split(" "),r=c=>`-${c}`;let a="0px",o=r(null!=n?n:e),l="0px";return"rtl"===t?l=r(e):a=r(e),{margin:`0px ${a} ${o} ${l}`}}(e=Wv(e=e.slice(0,e.indexOf($v)),this._config.multiplier),n.directionality):{}}sideEffect(e,n,s){const r=s.items;if(e.endsWith($v)){const a=function $oe(i,t){const[e,n]=i.split(" ");let r="0px",o="0px";return"rtl"===t?o=e:r=e,{padding:`0px ${r} ${null!=n?n:e} ${o}`}}(e=Wv(e=e.slice(0,e.indexOf($v)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(a,s.items)}else{e=Wv(e,this._config.multiplier),e=this.addFallbackUnit(e);const a=r.pop(),o=function qoe(i,t){const e=c3(t.directionality,t.layout),n=Object.assign({},l3);return n[e]=i,n}(e,s);this._styler.applyStyleToElements(o,r),this._styler.applyStyleToElements(l3,[a])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return i.\u0275fac=function(e){return new(e||i)($(Ri),$(Qr))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Hoe=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let zoe=(()=>{class i extends ji{constructor(e,n,s,r,a,o){super(e,a,r,o),this.zone=n,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ke;const l=[this.directionality.change,this.observerSubject.asObservable()];this.init(l),this.marshal.trackValue(this.nativeElement,"layout").pipe(pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,n=[];for(let s=e.length;s--;)n[s]=e[s];return n}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const s=e.value.split(" ");this.layout=s[0],Uv.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const n=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const a=+this.styler.lookupStyle(s,"order"),o=+this.styler.lookupStyle(r,"order");return isNaN(a)||isNaN(o)||a===o?0:a>o?1:-1});if(n.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=Goe:"row"===r&&"rtl"!==s?this.styleCache=Woe:"column"===r&&"rtl"===s?this.styleCache=Uoe:"column"===r&&"rtl"!==s&&(this.styleCache=joe),this.addStyles(e,{directionality:s,items:n,layout:r})}}clearStyles(){const e=Object.keys(this.mru).length>0,n=e?"padding":c3(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[n]:""},this.childrenNodes)}willDisplay(e){const n=this.marshal.getValue(e,"show-hide");return!0===n||void 0===n&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(st),x(zn),x(Ri),x(Voe),x(Bi))},i.\u0275dir=j({type:i,features:[Z]}),i})(),jv=(()=>{class i extends zoe{constructor(){super(...arguments),this.inputs=Hoe}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Z]}),i})();const Goe=new Map,Uoe=new Map,Woe=new Map,joe=new Map,$v=" grid";function c3(i,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===i?"margin-left":"margin-right";case"row-reverse":return"rtl"===i?"margin-right":"margin-left"}}let Xoe=(()=>{class i extends Qi{constructor(e){super(),this.layoutConfig=e}buildStyles(e,n){let[s,r,...a]=e.split(" "),o=a.join(" ");const l=n.direction.indexOf("column")>-1?"column":"row",c=Mf(l)?"max-width":"max-height",d=Mf(l)?"min-width":"min-height",u=String(o).indexOf("calc")>-1,h=u||"auto"===o,p=String(o).indexOf("%")>-1&&!u,f=String(o).indexOf("px")>-1||String(o).indexOf("rem")>-1||String(o).indexOf("em")>-1||String(o).indexOf("vw")>-1||String(o).indexOf("vh")>-1;let g=u||f;s="0"==s?0:s,r="0"==r?0:r;const m=!s&&!r;let _={};const v={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(o||""){case"":const y=!1!==this.layoutConfig.useColumnBasisZero;o="row"===l?"0%":y?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,o="auto";break;case"grow":o="100%";break;case"noshrink":r=0,o="auto";break;case"auto":break;case"none":s=0,r=0,o="auto";break;default:!g&&!p&&!isNaN(o)&&(o+="%"),"0%"===o&&(g=!0),"0px"===o&&(o="0%"),_=go(v,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":g?o:"100%"}:{flex:`${s} ${r} ${g?o:"100%"}`})}return _.flex||_["flex-grow"]||(_=go(v,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":o}:{flex:`${s} ${r} ${o}`})),"0%"!==o&&"0px"!==o&&"0.000000001px"!==o&&"auto"!==o&&(_[d]=m||g&&s?o:null,_[c]=m||!h&&r?o:null),_[d]||_[c]?n.hasWrap&&(_[u?"flex-basis":"flex"]=_[c]?u?_[c]:`${s} ${r} ${_[c]}`:u?_[d]:`${s} ${r} ${_[d]}`):_=go(v,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":o}:{flex:`${s} ${r} ${o}`}),go(_,{"box-sizing":"border-box"})}}return i.\u0275fac=function(e){return new(e||i)($(Qr))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Qoe=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Koe=(()=>{class i extends ji{constructor(e,n,s,r,a){super(e,r,n,a),this.layoutConfig=s,this.marshal=a,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(pt(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const s=e.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),a=this.wrap;r&&a?this.styleCache=ele:r&&!a?this.styleCache=Zoe:!r&&a?this.styleCache=tle:!r&&!a&&(this.styleCache=Joe);const l=s3(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(l.join(" "),{direction:s,hasWrap:a})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const n=s3(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,n.join(" "))}}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Ri),x(Qr),x(Xoe),x(Bi))},i.\u0275dir=j({type:i,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Z]}),i})(),Df=(()=>{class i extends Koe{constructor(){super(...arguments),this.inputs=Qoe}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Z]}),i})();const Zoe=new Map,Joe=new Map,ele=new Map,tle=new Map;let Sle=(()=>{class i extends Qi{buildStyles(e,n){const s={},[r,a]=e.split(" ");switch(r){case"center":s["justify-content"]="center";break;case"space-around":s["justify-content"]="space-around";break;case"space-between":s["justify-content"]="space-between";break;case"space-evenly":s["justify-content"]="space-evenly";break;case"end":case"flex-end":s["justify-content"]="flex-end";break;default:s["justify-content"]="flex-start"}switch(a){case"start":case"flex-start":s["align-items"]=s["align-content"]="flex-start";break;case"center":s["align-items"]=s["align-content"]="center";break;case"end":case"flex-end":s["align-items"]=s["align-content"]="flex-end";break;case"space-between":s["align-content"]="space-between",s["align-items"]="stretch";break;case"space-around":s["align-content"]="space-around",s["align-items"]="stretch";break;case"baseline":s["align-content"]="stretch",s["align-items"]="baseline";break;default:s["align-items"]=s["align-content"]="stretch"}return go(s,{display:n.inline?"inline-flex":"flex","flex-direction":n.layout,"box-sizing":"border-box","max-width":"stretch"===a?Mf(n.layout)?null:"100%":null,"max-height":"stretch"===a&&Mf(n.layout)?"100%":null})}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Mle=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let Tle=(()=>{class i extends ji{constructor(e,n,s,r){super(e,s,n,r),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(pt(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const n=this.layout||"row",s=this.inline;"row"===n&&s?this.styleCache=Rle:"row"!==n||s?"row-reverse"===n&&s?this.styleCache=Lle:"row-reverse"!==n||s?"column"===n&&s?this.styleCache=Ile:"column"!==n||s?"column-reverse"===n&&s?this.styleCache=Ple:"column-reverse"===n&&!s&&(this.styleCache=kle):this.styleCache=Ale:this.styleCache=Ele:this.styleCache=Dle,this.addStyles(e,{layout:n,inline:s})}onLayoutChange(e){const n=e.value.split(" ");this.layout=n[0],this.inline=e.value.includes("inline"),Uv.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Ri),x(Sle),x(Bi))},i.\u0275dir=j({type:i,features:[Z]}),i})(),ju=(()=>{class i extends Tle{constructor(){super(...arguments),this.inputs=Mle}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Z]}),i})();const Dle=new Map,Ale=new Map,Ele=new Map,kle=new Map,Rle=new Map,Ile=new Map,Lle=new Map,Ple=new Map;let d3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[rM,Mc]]}),i})();class u3{}const vo="*";function bi(i,t){return{type:7,name:i,definitions:t,options:{}}}function Bt(i,t=null){return{type:4,styles:t,timings:i}}function p3(i,t=null){return{type:2,steps:i,options:t}}function Pe(i){return{type:6,styles:i,offset:null}}function Lt(i,t,e){return{type:0,name:i,styles:t,options:e}}function Rt(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function Yv(i=null){return{type:9,options:i}}function qv(i,t,e=null){return{type:11,selector:i,animation:t,options:e}}function f3(i){Promise.resolve(null).then(i)}class $u{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){f3(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class m3{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,s=0;const r=this.players.length;0==r?f3(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==r&&this._onFinish()}),a.onDestroy(()=>{++n==r&&this._onDestroy()}),a.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((a,o)=>Math.max(a,o.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(n=>{const s=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(s)})}getPosition(){const t=this.players.reduce((e,n)=>null===e||n.totalTime>e.totalTime?n:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}function g3(){return"undefined"!=typeof window&&void 0!==window.document}function uM(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function xl(i){switch(i.length){case 0:return new $u;case 1:return i[0];default:return new m3(i)}}function _3(i,t,e,n,s={},r={}){const a=[],o=[];let l=-1,c=null;if(n.forEach(d=>{const u=d.offset,h=u==l,p=h&&c||{};Object.keys(d).forEach(f=>{let g=f,m=d[f];if("offset"!==f)switch(g=t.normalizePropertyName(g,a),m){case"!":m=s[f];break;case vo:m=r[f];break;default:m=t.normalizeStyleValue(f,g,m,a)}p[g]=m}),h||o.push(p),c=p,l=u}),a.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${a.join(d)}`)}return o}function hM(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&pM(e,"start",i)));break;case"done":i.onDone(()=>n(e&&pM(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&pM(e,"destroy",i)))}}function pM(i,t,e){const n=e.totalTime,r=fM(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==n?i.totalTime:n,!!e.disabled),a=i._data;return null!=a&&(r._data=a),r}function fM(i,t,e,n,s="",r=0,a){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:s,totalTime:r,disabled:!!a}}function Qs(i,t,e){let n;return i instanceof Map?(n=i.get(t),n||i.set(t,n=e)):(n=i[t],n||(n=i[t]=e)),n}function v3(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let mM=(i,t)=>!1,y3=(i,t,e)=>[];(uM()||"undefined"!=typeof Element)&&(mM=g3()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),y3=(i,t,e)=>{if(e)return Array.from(i.querySelectorAll(t));const n=i.querySelector(t);return n?[n]:[]});let Ac=null,x3=!1;function gM(i){Ac||(Ac=function Nle(){return"undefined"!=typeof document?document.body:null}()||{},x3=!!Ac.style&&"WebkitAppearance"in Ac.style);let t=!0;return Ac.style&&!function Ole(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Ac.style,!t&&x3&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ac.style)),t}const _M=mM,vM=y3;function b3(i){const t={};return Object.keys(i).forEach(e=>{const n=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=i[e]}),t}let w3=(()=>{class i{validateStyleProperty(e){return gM(e)}matchesElement(e,n){return!1}containsElement(e,n){return _M(e,n)}query(e,n,s){return vM(e,n,s)}computeStyle(e,n,s){return s||""}animate(e,n,s,r,a,o=[],l){return new $u(s,r)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),yM=(()=>{class i{}return i.NOOP=new w3,i})();const xM="ng-enter",Xv="ng-leave",Qv="ng-trigger",Kv=".ng-trigger",S3="ng-animating",bM=".ng-animating";function Ec(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wM(parseFloat(t[1]),t[2])}function wM(i,t){return"s"===t?1e3*i:i}function Zv(i,t,e){return i.hasOwnProperty("duration")?i:function Hle(i,t,e){let s,r=0,a="";if("string"==typeof i){const o=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=wM(parseFloat(o[1]),o[2]);const l=o[3];null!=l&&(r=wM(parseFloat(l),o[4]));const c=o[5];c&&(a=c)}else s=i;if(!e){let o=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),o=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),o=!0),o&&t.splice(l,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:r,easing:a}}(i,t,e)}function Yu(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function bl(i,t,e={}){if(t)for(let n in i)e[n]=i[n];else Yu(i,e);return e}function T3(i,t,e){return e?t+":"+e+";":""}function D3(i){let t="";for(let e=0;e<i.style.length;e++){const n=i.style.item(e);t+=T3(0,n,i.style.getPropertyValue(n))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=T3(0,Ule(e),i.style[e]));i.setAttribute("style",t)}function Aa(i,t,e){i.style&&(Object.keys(t).forEach(n=>{const s=SM(n);e&&!e.hasOwnProperty(n)&&(e[n]=i.style[s]),i.style[s]=t[n]}),uM()&&D3(i))}function kc(i,t){i.style&&(Object.keys(t).forEach(e=>{const n=SM(e);i.style[n]=""}),uM()&&D3(i))}function Af(i){return Array.isArray(i)?1==i.length?i[0]:p3(i):i}const CM=new RegExp("{{\\s*(.+?)\\s*}}","g");function A3(i){let t=[];if("string"==typeof i){let e;for(;e=CM.exec(i);)t.push(e[1]);CM.lastIndex=0}return t}function Jv(i,t,e){const n=i.toString(),s=n.replace(CM,(r,a)=>{let o=t[a];return t.hasOwnProperty(a)||(e.push(`Please provide a value for the animation param ${a}`),o=""),o.toString()});return s==n?i:s}function ey(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const Gle=/-+([a-z0-9])/g;function SM(i){return i.replace(Gle,(...t)=>t[1].toUpperCase())}function Ule(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function E3(i,t){return 0===i||0===t}function k3(i,t,e){const n=Object.keys(e);if(n.length&&t.length){let r=t[0],a=[];if(n.forEach(o=>{r.hasOwnProperty(o)||a.push(o),r[o]=e[o]}),a.length)for(var s=1;s<t.length;s++){let o=t[s];a.forEach(function(l){o[l]=MM(i,l)})}}return t}function Ks(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function MM(i,t){return window.getComputedStyle(i)[t]}function Wle(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(n=>function jle(i,t,e){if(":"==i[0]){const l=function $le(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof l)return void t.push(l);i=l}const n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const s=n[1],r=n[2],a=n[3];t.push(R3(s,a));"<"==r[0]&&!("*"==s&&"*"==a)&&t.push(R3(a,s))}(n,e,t)):e.push(i),e}const iy=new Set(["true","1"]),ny=new Set(["false","0"]);function R3(i,t){const e=iy.has(i)||ny.has(i),n=iy.has(t)||ny.has(t);return(s,r)=>{let a="*"==i||i==s,o="*"==t||t==r;return!a&&e&&"boolean"==typeof s&&(a=s?iy.has(i):ny.has(i)),!o&&n&&"boolean"==typeof r&&(o=r?iy.has(t):ny.has(t)),a&&o}}const Yle=new RegExp("s*:selfs*,?","g");function TM(i,t,e){return new qle(i).build(t,e)}class qle{constructor(t){this._driver=t}build(t,e){const n=new Kle(e);return this._resetContextStyleTimingState(n),Ks(this,Af(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0;const r=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(o=>{if(this._resetContextStyleTimingState(e),0==o.type){const l=o,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=c}else if(1==o.type){const l=this.visitTransition(o,e);n+=l.queryCount,s+=l.depCount,a.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:a,queryCount:n,depCount:s,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,a=s||{};if(n.styles.forEach(o=>{if(sy(o)){const l=o;Object.keys(l).forEach(c=>{A3(l[c]).forEach(d=>{a.hasOwnProperty(d)||r.add(d)})})}}),r.size){const o=ey(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${o.join(", ")}`)}}return{type:0,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Ks(this,Af(t.animation),e);return{type:1,matchers:Wle(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Rc(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(n=>Ks(this,n,e)),options:Rc(t.options)}}visitGroup(t,e){const n=e.currentTime;let s=0;const r=t.steps.map(a=>{e.currentTime=n;const o=Ks(this,a,e);return s=Math.max(s,e.currentTime),o});return e.currentTime=s,{type:3,steps:r,options:Rc(t.options)}}visitAnimate(t,e){const n=function Jle(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return DM(Zv(i,t).duration,0,"");const n=i;if(n.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=DM(0,0,"");return r.dynamic=!0,r.strValue=n,r}return e=e||Zv(n,t),DM(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let s,r=t.styles?t.styles:Pe({});if(5==r.type)s=this.visitKeyframes(r,e);else{let a=t.styles,o=!1;if(!a){o=!0;const c={};n.easing&&(c.easing=n.easing),a=Pe(c)}e.currentTime+=n.duration+n.delay;const l=this.visitStyle(a,e);l.isEmptyStep=o,s=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==vo?n.push(a):e.errors.push(`The provided style string value ${a} is not allowed.`):n.push(a)}):n.push(t.styles);let s=!1,r=null;return n.forEach(a=>{if(sy(a)){const o=a,l=o.easing;if(l&&(r=l,delete o.easing),!s)for(let c in o)if(o[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(o=>{if(!this._driver.validateStyleProperty(o))return void e.errors.push(`The provided animation property "${o}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],c=l[o];let d=!0;c&&(r!=s&&r>=c.startTime&&s<=c.endTime&&(e.errors.push(`The CSS property "${o}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),d=!1),r=c.startTime),d&&(l[o]={startTime:r,endTime:s}),e.options&&function zle(i,t,e){const n=t.params||{},s=A3(i);s.length&&s.forEach(r=>{n.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(a[o],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const a=[];let o=!1,l=!1,c=0;const d=t.steps.map(_=>{const v=this._makeStyleAst(_,e);let y=null!=v.offset?v.offset:function Zle(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(sy(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(sy(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(v.styles),b=0;return null!=y&&(r++,b=v.offset=y),l=l||b<0||b>1,o=o||b<c,c=b,a.push(b),v});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let h=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));const p=u-1,f=e.currentTime,g=e.currentAnimateTimings,m=g.duration;return d.forEach((_,v)=>{const y=h>0?v==p?1:h*v:a[v],b=y*m;e.currentTime=f+g.delay+b,g.duration=b,this._validateStyleAst(_,e),_.offset=y,n.styles.push(_)}),n}visitReference(t,e){return{type:8,animation:Ks(this,Af(t.animation),e),options:Rc(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Rc(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rc(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,a]=function Xle(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(Yle,"")),i=i.replace(/@\*/g,Kv).replace(/@\w+/g,e=>Kv+"-"+e.substr(1)).replace(/:animating/g,bM),[i,t]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,Qs(e.collectedStyles,e.currentQuerySelector,{});const o=Ks(this,Af(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:a,animation:o,originalSelector:t.selector,options:Rc(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zv(t.timings,e.errors,!0);return{type:12,animation:Ks(this,Af(t.animation),e),timings:n,options:null}}}class Kle{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function sy(i){return!Array.isArray(i)&&"object"==typeof i}function Rc(i){return i?(i=Yu(i)).params&&(i.params=function Qle(i){return i?Yu(i):null}(i.params)):i={},i}function DM(i,t,e){return{duration:i,delay:t,easing:e}}function AM(i,t,e,n,s,r,a=null,o=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:a,subTimeline:o}}class ry{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ice=new RegExp(":enter","g"),sce=new RegExp(":leave","g");function EM(i,t,e,n,s,r={},a={},o,l,c=[]){return(new rce).buildKeyframes(i,t,e,n,s,r,a,o,l,c)}class rce{buildKeyframes(t,e,n,s,r,a,o,l,c,d=[]){c=c||new ry;const u=new kM(t,e,c,s,r,d,[]);u.options=l,u.currentTimeline.setStyles([a],null,u.errors,l),Ks(this,n,u);const h=u.timelines.filter(p=>p.containsAnimation());if(Object.keys(o).length){let p;for(let f=h.length-1;f>=0;f--){const g=h[f];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([o],null,u.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[AM(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.get(e.element);if(n){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,s,s.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const a=null!=n.duration?Ec(n.duration):null,o=null!=n.delay?Ec(n.delay):null;return 0!==a&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,a,o);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Ks(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=ay);const a=Ec(r.delay);s.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>Ks(this,a,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Ec(t.options.delay):0;t.steps.forEach(a=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Ks(this,a,o),s=Math.max(s,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Zv(e.params?Jv(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,s=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(l=>{o.forwardTime((l.offset||0)*r),o.setStyles(l.styles,l.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Ec(s.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ay);let a=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=o.length;let l=null;o.forEach((c,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,c);r&&u.delayNextStep(r),c===e.element&&(l=u.currentTimeline),Ks(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,s=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=o-l;break;case"full":l=n.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;Ks(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-u+(s.startTime-n.currentTimeline.startTime)}}const ay={};class kM{constructor(t,e,n,s,r,a,o,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ay,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new oy(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let s=this.options;null!=n.duration&&(s.duration=Ec(n.duration)),null!=n.delay&&(s.delay=Ec(n.delay));const r=n.params;if(r){let a=s.params;a||(a=this.options.params={}),Object.keys(r).forEach(o=>{(!e||!a.hasOwnProperty(o))&&(a[o]=Jv(r[o],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(s=>{n[s]=e[s]})}}return t}createSubContext(t=null,e,n){const s=e||this.element,r=new kM(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=ay,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new ace(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,r,a){let o=[];if(s&&o.push(this.element),t.length>0){t=(t=t.replace(ice,"."+this._enterClassName)).replace(sce,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=n);0!==n&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),o.push(...c)}return!r&&0==o.length&&a.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class oy{constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new oy(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||vo,this._currentKeyframe[e]=vo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},a=function oce(i,t){const e={};let n;return i.forEach(s=>{"*"===s?(n=n||Object.keys(t),n.forEach(r=>{e[r]=vo})):bl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(o=>{const l=Jv(a[o],r,n);this._pendingStyles[o]=l,this._localTimelineStyles.hasOwnProperty(o)||(this._backFill[o]=this._globalTimelineStyles.hasOwnProperty(o)?this._globalTimelineStyles[o]:vo),this._updateStyle(o,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(n=>{this._currentKeyframe[n]=t[n]}),Object.keys(this._localTimelineStyles).forEach(n=>{this._currentKeyframe.hasOwnProperty(n)||(this._currentKeyframe[n]=this._localTimelineStyles[n])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],s=t._styleSummary[e];(!n||s.time>n.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((o,l)=>{const c=bl(o,!0);Object.keys(c).forEach(d=>{const u=c[d];"!"==u?t.add(d):u==vo&&e.add(d)}),n||(c.offset=l/this.duration),s.push(c)});const r=t.size?ey(t.values()):[],a=e.size?ey(e.values()):[];if(n){const o=s[0],l=Yu(o);o.offset=0,l.offset=1,s=[o,l]}return AM(this.element,s,r,a,this.duration,this.startTime,this.easing,!1)}}class ace extends oy{constructor(t,e,n,s,r,a,o=!1){super(t,e,a.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],a=n+e,o=e/a,l=bl(t[0],!1);l.offset=0,r.push(l);const c=bl(t[0],!1);c.offset=P3(o),r.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let h=bl(t[u],!1);h.offset=P3((e+h.offset*n)/a),r.push(h)}n=a,e=0,s="",t=r}return AM(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}}function P3(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class RM{}class lce extends RM{normalizePropertyName(t,e){return SM(t)}normalizeStyleValue(t,e,n,s){let r="";const a=n.toString().trim();if(cce[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&s.push(`Please provide a CSS unit value for ${t}:${n}`)}return a+r}}const cce=(()=>function dce(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function F3(i,t,e,n,s,r,a,o,l,c,d,u,h){return{type:0,element:i,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:n,toStyles:a,timelines:o,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}const IM={};class O3{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return function uce(i,t,e,n,s){return i.some(r=>r(t,e,n,s))}(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){const s=this._stateStyles["*"],r=this._stateStyles[t],a=s?s.buildStyles(e,n):{};return r?r.buildStyles(e,n):a}build(t,e,n,s,r,a,o,l,c,d){const u=[],h=this.ast.options&&this.ast.options.params||IM,f=this.buildStyles(n,o&&o.params||IM,u),g=l&&l.params||IM,m=this.buildStyles(s,g,u),_=new Set,v=new Map,y=new Map,b="void"===s,w={params:Object.assign(Object.assign({},h),g)},S=d?[]:EM(t,e,this.ast.animation,r,a,f,m,w,c,u);let D=0;if(S.forEach(H=>{D=Math.max(H.duration+H.delay,D)}),u.length)return F3(e,this._triggerName,n,s,b,f,m,[],[],v,y,D,u);S.forEach(H=>{const N=H.element,C=Qs(v,N,{});H.preStyleProps.forEach(X=>C[X]=!0);const R=Qs(y,N,{});H.postStyleProps.forEach(X=>R[X]=!0),N!==e&&_.add(N)});const L=ey(_.values());return F3(e,this._triggerName,n,s,b,f,m,S,L,v,y,D)}}class hce{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},s=Yu(this.defaultParams);return Object.keys(t).forEach(r=>{const a=t[r];null!=a&&(s[r]=a)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const a=r;Object.keys(a).forEach(o=>{let l=a[o];l.length>1&&(l=Jv(l,s,e));const c=this.normalizer.normalizePropertyName(o,e);l=this.normalizer.normalizeStyleValue(o,c,l,e),n[c]=l})}}),n}}class fce{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new hce(s.style,s.options&&s.options.params||{},n)}),N3(this.states,"true","1"),N3(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new O3(t,s,this.states))}),this.fallbackTransition=function mce(i,t,e){return new O3(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,o)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(a=>a.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function N3(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const gce=new ry;class _ce{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],s=TM(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,n){const s=t.element,r=_3(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const s=[],r=this._animations[t];let a;const o=new Map;if(r?(a=EM(this._driver,e,r,xM,Xv,{},{},n,gce,s),a.forEach(d=>{const u=Qs(o,d.element,{});d.postStyleProps.forEach(h=>u[h]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),a=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((d,u)=>{Object.keys(d).forEach(h=>{d[h]=this._driver.computeStyle(u,h,vo)})});const c=xl(a.map(d=>{const u=o.get(d.element);return this._buildPlayer(d,{},u)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,s){const r=fM(e,"","","");return hM(this._getPlayer(t),n,r,s),()=>{}}command(t,e,n,s){if("register"==n)return void this.register(t,s[0]);if("create"==n)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const B3="ng-animate-queued",LM="ng-animate-disabled",wce=[],V3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Cce={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_r="__ng_removed";class PM{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function Dce(i){return null!=i?i:null}(n?t.value:t),n){const r=Yu(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const n=this.options.params;Object.keys(e).forEach(s=>{null==n[s]&&(n[s]=e[s])})}}}const Ef="void",FM=new PM(Ef);class Sce{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,vr(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function Ace(i){return"start"==i||"done"==i}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const r=Qs(this._elementListeners,t,[]),a={name:e,phase:n,callback:s};r.push(a);const o=Qs(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(vr(t,Qv),vr(t,Qv+"-"+e),o[e]=FM),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(a);l>=0&&r.splice(l,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,s=!0){const r=this._getTrigger(e),a=new OM(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(vr(t,Qv),vr(t,Qv+"-"+e),this._engine.statesByElement.set(t,o={}));let l=o[e];const c=new PM(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),o[e]=c,l||(l=FM),c.value!==Ef&&l.value===c.value){if(!function Rce(i,t){const e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||i[r]!==t[r])return!1}return!0}(l.params,c.params)){const g=[],m=r.matchStyles(l.value,l.params,g),_=r.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{kc(t,m),Aa(t,_)})}return}const h=Qs(this._engine.playersByElement,t,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==e&&g.queued&&g.destroy()});let p=r.matchTransition(l.value,c.value,t,c.params),f=!1;if(!p){if(!s)return;p=r.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:p,fromState:l,toState:c,player:a,isFallbackTransition:f}),f||(vr(t,B3),a.onStart(()=>{qu(t,B3)})),a.onDone(()=>{let g=this.players.indexOf(a);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(t);if(m){let _=m.indexOf(a);_>=0&&m.splice(_,1)}}),this.players.push(a),h.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Kv,!0);n.forEach(s=>{if(s[_r])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(a=>a.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,n,s){const r=this._engine.statesByElement.get(t),a=new Map;if(r){const o=[];if(Object.keys(r).forEach(l=>{if(a.set(l,r[l].value),this._triggers[l]){const c=this.trigger(t,l,Ef,s);c&&o.push(c)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),n&&xl(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const s=new Set;e.forEach(r=>{const a=r.name;if(s.has(a))return;s.add(a);const l=this._triggers[a].fallbackTransition,c=n[a]||FM,d=new PM(Ef),u=new OM(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){const r=n.players.length?n.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let a=t;for(;a=a.parentNode;)if(n.statesByElement.get(a)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t[_r];(!r||r===V3)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){vr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,a=this._elementListeners.get(r);a&&a.forEach(o=>{if(o.name==n.triggerName){const l=fM(r,n.triggerName,n.fromState.value,n.toState.value);l._data=t,hM(n.player,o.phase,l,o.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((n,s)=>{const r=n.transition.ast.depCount,a=s.transition.ast.depCount;return 0==r||0==a?r-a:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(n=>n.element===t)||e,e}}class Mce{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){const n=new Sce(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const s=Object.keys(n);for(let r=0;r<s.length;r++){const a=n[s[r]].namespaceId;if(a){const o=this._fetchNamespace(a);o&&e.add(o)}}}return e}trigger(t,e,n,s){if(ly(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!ly(e))return;const r=e[_r];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),vr(t,LM)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qu(t,LM))}removeNode(t,e,n,s){if(ly(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),n){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,n,s,r){this.collectedLeaveElements.push(e),e[_r]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,n,s,r){return ly(e)?this._fetchNamespace(t).listen(e,n,s,r):()=>{}}_buildInstruction(t,e,n,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,Kv,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bM,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return xl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const n=t[_r];if(n&&n.setForRemoval){if(t[_r]=V3,n.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(LM))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)vr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){const n=this._whenQuietFns;this._whenQuietFns=[],e.length?xl(e).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ry,s=[],r=new Map,a=[],o=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(O=>{d.add(O);const B=this.driver.query(O,".ng-animate-queued",!0);for(let F=0;F<B.length;F++)d.add(B[F])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),p=G3(h,this.collectedEnterElements),f=new Map;let g=0;p.forEach((O,B)=>{const F=xM+g++;f.set(B,F),O.forEach(Y=>vr(Y,F))});const m=[],_=new Set,v=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const B=this.collectedLeaveElements[O],F=B[_r];F&&F.setForRemoval&&(m.push(B),_.add(B),F.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach(Y=>_.add(Y)):v.add(B))}const y=new Map,b=G3(h,Array.from(_));b.forEach((O,B)=>{const F=Xv+g++;y.set(B,F),O.forEach(Y=>vr(Y,F))}),t.push(()=>{p.forEach((O,B)=>{const F=f.get(B);O.forEach(Y=>qu(Y,F))}),b.forEach((O,B)=>{const F=y.get(B);O.forEach(Y=>qu(Y,F))}),m.forEach(O=>{this.processLeaveNode(O)})});const w=[],S=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(F=>{const Y=F.player,K=F.element;if(w.push(Y),this.collectedEnterElements.length){const tt=K[_r];if(tt&&tt.setForMove){if(tt.previousTriggersValues&&tt.previousTriggersValues.has(F.triggerName)){const ct=tt.previousTriggersValues.get(F.triggerName),oe=this.statesByElement.get(F.element);oe&&oe[F.triggerName]&&(oe[F.triggerName].value=ct)}return void Y.destroy()}}const ce=!u||!this.driver.containsElement(u,K),ee=y.get(K),Ke=f.get(K),Ye=this._buildInstruction(F,n,Ke,ee,ce);if(Ye.errors&&Ye.errors.length)return void S.push(Ye);if(ce)return Y.onStart(()=>kc(K,Ye.fromStyles)),Y.onDestroy(()=>Aa(K,Ye.toStyles)),void s.push(Y);if(F.isFallbackTransition)return Y.onStart(()=>kc(K,Ye.fromStyles)),Y.onDestroy(()=>Aa(K,Ye.toStyles)),void s.push(Y);const ot=[];Ye.timelines.forEach(tt=>{tt.stretchStartingKeyframe=!0,this.disabledNodes.has(tt.element)||ot.push(tt)}),Ye.timelines=ot,n.append(K,Ye.timelines),a.push({instruction:Ye,player:Y,element:K}),Ye.queriedElements.forEach(tt=>Qs(o,tt,[]).push(Y)),Ye.preStyleProps.forEach((tt,ct)=>{const oe=Object.keys(tt);if(oe.length){let ie=l.get(ct);ie||l.set(ct,ie=new Set),oe.forEach(Oe=>ie.add(Oe))}}),Ye.postStyleProps.forEach((tt,ct)=>{const oe=Object.keys(tt);let ie=c.get(ct);ie||c.set(ct,ie=new Set),oe.forEach(Oe=>ie.add(Oe))})});if(S.length){const O=[];S.forEach(B=>{O.push(`@${B.triggerName} has failed due to:\n`),B.errors.forEach(F=>O.push(`- ${F}\n`))}),w.forEach(B=>B.destroy()),this.reportError(O)}const D=new Map,L=new Map;a.forEach(O=>{const B=O.element;n.has(B)&&(L.set(B,B),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,D))}),s.forEach(O=>{const B=O.element;this._getPreviousPlayers(B,!1,O.namespaceId,O.triggerName,null).forEach(Y=>{Qs(D,B,[]).push(Y),Y.destroy()})});const H=m.filter(O=>W3(O,l,c)),N=new Map;z3(N,this.driver,v,c,vo).forEach(O=>{W3(O,l,c)&&H.push(O)});const R=new Map;p.forEach((O,B)=>{z3(R,this.driver,new Set(O),l,"!")}),H.forEach(O=>{const B=N.get(O),F=R.get(O);N.set(O,Object.assign(Object.assign({},B),F))});const X=[],z=[],q={};a.forEach(O=>{const{element:B,player:F,instruction:Y}=O;if(n.has(B)){if(d.has(B))return F.onDestroy(()=>Aa(B,Y.toStyles)),F.disabled=!0,F.overrideTotalTime(Y.totalTime),void s.push(F);let K=q;if(L.size>1){let ee=B;const Ke=[];for(;ee=ee.parentNode;){const Ye=L.get(ee);if(Ye){K=Ye;break}Ke.push(ee)}Ke.forEach(Ye=>L.set(Ye,K))}const ce=this._buildAnimation(F.namespaceId,Y,D,r,R,N);if(F.setRealPlayer(ce),K===q)X.push(F);else{const ee=this.playersByElement.get(K);ee&&ee.length&&(F.parentPlayer=xl(ee)),s.push(F)}}else kc(B,Y.fromStyles),F.onDestroy(()=>Aa(B,Y.toStyles)),z.push(F),d.has(B)&&s.push(F)}),z.forEach(O=>{const B=r.get(O.element);if(B&&B.length){const F=xl(B);O.setRealPlayer(F)}}),s.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<m.length;O++){const B=m[O],F=B[_r];if(qu(B,Xv),F&&F.hasAnimation)continue;let Y=[];if(o.size){let ce=o.get(B);ce&&ce.length&&Y.push(...ce);let ee=this.driver.query(B,bM,!0);for(let Ke=0;Ke<ee.length;Ke++){let Ye=o.get(ee[Ke]);Ye&&Ye.length&&Y.push(...Ye)}}const K=Y.filter(ce=>!ce.destroyed);K.length?Ece(this,B,K):this.processLeaveNode(B)}return m.length=0,X.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const B=this.players.indexOf(O);this.players.splice(B,1)}),O.play()}),X}elementContainsData(t,e){let n=!1;const s=e[_r];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,r){let a=[];if(e){const o=this.playersByQueriedElement.get(t);o&&(a=o)}else{const o=this.playersByElement.get(t);if(o){const l=!r||r==Ef;o.forEach(c=>{c.queued||!l&&c.triggerName!=s||a.push(c)})}}return(n||s)&&(a=a.filter(o=>!(n&&n!=o.namespaceId||s&&s!=o.triggerName))),a}_beforeAnimationBuild(t,e,n){const r=e.element,a=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==r,u=Qs(n,c,[]);this._getPreviousPlayers(c,d,a,o,e.toState).forEach(p=>{const f=p.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),p.destroy(),u.push(p)})}kc(r,e.fromStyles)}_buildAnimation(t,e,n,s,r,a){const o=e.triggerName,l=e.element,c=[],d=new Set,u=new Set,h=e.timelines.map(f=>{const g=f.element;d.add(g);const m=g[_r];if(m&&m.removedBeforeQueried)return new $u(f.duration,f.delay);const _=g!==l,v=function kce(i){const t=[];return U3(i,t),t}((n.get(g)||wce).map(D=>D.getRealPlayer())).filter(D=>!!D.element&&D.element===g),y=r.get(g),b=a.get(g),w=_3(0,this._normalizer,0,f.keyframes,y,b),S=this._buildPlayer(f,w,v);if(f.subTimeline&&s&&u.add(g),_){const D=new OM(t,o,g);D.setRealPlayer(S),c.push(D)}return S});c.forEach(f=>{Qs(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>function Tce(i,t,e){let n;if(i instanceof Map){if(n=i.get(t),n){if(n.length){const s=n.indexOf(e);n.splice(s,1)}0==n.length&&i.delete(t)}}else if(n=i[t],n){if(n.length){const s=n.indexOf(e);n.splice(s,1)}0==n.length&&delete i[t]}return n}(this.playersByQueriedElement,f.element,f))}),d.forEach(f=>vr(f,S3));const p=xl(h);return p.onDestroy(()=>{d.forEach(f=>qu(f,S3)),Aa(l,e.toStyles)}),u.forEach(f=>{Qs(s,f,[]).push(p)}),p}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new $u(t.duration,t.delay)}}class OM{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new $u,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>hM(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Qs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ly(i){return i&&1===i.nodeType}function H3(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function z3(i,t,e,n,s){const r=[];e.forEach(l=>r.push(H3(l)));const a=[];n.forEach((l,c)=>{const d={};l.forEach(u=>{const h=d[u]=t.computeStyle(c,u,s);(!h||0==h.length)&&(c[_r]=Cce,a.push(c))}),i.set(c,d)});let o=0;return e.forEach(l=>H3(l,r[o++])),a}function G3(i,t){const e=new Map;if(i.forEach(o=>e.set(o,[])),0==t.length)return e;const s=new Set(t),r=new Map;function a(o){if(!o)return 1;let l=r.get(o);if(l)return l;const c=o.parentNode;return l=e.has(c)?c:s.has(c)?1:a(c),r.set(o,l),l}return t.forEach(o=>{const l=a(o);1!==l&&e.get(l).push(o)}),e}function vr(i,t){var e;null===(e=i.classList)||void 0===e||e.add(t)}function qu(i,t){var e;null===(e=i.classList)||void 0===e||e.remove(t)}function Ece(i,t,e){xl(e).onDone(()=>i.processLeaveNode(t))}function U3(i,t){for(let e=0;e<i.length;e++){const n=i[e];n instanceof m3?U3(n.players,t):t.push(n)}}function W3(i,t,e){const n=e.get(i);if(!n)return!1;let s=t.get(i);return s?n.forEach(r=>s.add(r)):t.set(i,n),e.delete(i),!0}class cy{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new Mce(t,e,n),this._timelineEngine=new _ce(t,e,n),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,n,s,r){const a=t+"-"+s;let o=this._triggerCache[a];if(!o){const l=[],c=TM(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);o=function pce(i,t,e){return new fce(i,t,e)}(s,c,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,s,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n,s){this._transitionEngine.removeNode(t,e,s||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if("@"==n.charAt(0)){const[r,a]=v3(n);this._timelineEngine.command(r,e,a,s)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,r){if("@"==n.charAt(0)){const[a,o]=v3(n);return this._timelineEngine.listen(a,e,o,r)}return this._transitionEngine.listen(t,e,n,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function j3(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=NM(t[0]),t.length>1&&(n=NM(t[t.length-1]))):t&&(e=NM(t)),e||n?new Ice(i,e,n):null}let Ice=(()=>{class i{constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s,this._state=0;let r=i.initialStylesByElement.get(e);r||i.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Aa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Aa(this._element,this._initialStyles),this._endStyles&&(Aa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(kc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(kc(this._element,this._endStyles),this._endStyles=null),Aa(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function NM(i){let t=null;const e=Object.keys(i);for(let n=0;n<e.length;n++){const s=e[n];Lce(s)&&(t=t||{},t[s]=i[s])}return t}function Lce(i){return"display"===i||"position"===i}const $3="animation",Y3="animationend";class Oce{constructor(t,e,n,s,r,a,o){this._element=t,this._name=e,this._duration=n,this._delay=s,this._easing=r,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function Nce(i,t){const e=VM(i,"").trim();let n=0;e.length&&(n=function Vce(i,t){let e=0;for(let n=0;n<i.length;n++)i.charAt(n)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),dy(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Q3(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){q3(this._element,this._name,"paused")}resume(){q3(this._element,this._name,"running")}setPosition(t){const e=X3(this._element,this._name);this._position=t*this._duration,dy(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Q3(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Bce(i,t){const n=VM(i,"").split(","),s=BM(n,t);s>=0&&(n.splice(s,1),dy(i,"",n.join(",")))}(this._element,this._name))}}function q3(i,t,e){dy(i,"PlayState",e,X3(i,t))}function X3(i,t){const e=VM(i,"");return e.indexOf(",")>0?BM(e.split(","),t):BM([e],t)}function BM(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function Q3(i,t,e){e?i.removeEventListener(Y3,t):i.addEventListener(Y3,t)}function dy(i,t,e,n){const s=$3+t;if(null!=n){const r=i.style[s];if(r.length){const a=r.split(",");a[n]=e,e=a.join(",")}}i.style[s]=e}function VM(i,t){return i.style[$3+t]||""}class K3{constructor(t,e,n,s,r,a,o,l){this.element=t,this.keyframes=e,this.animationName=n,this._duration=s,this._delay=r,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Oce(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:MM(this.element,n))})}this.currentSnapshot=t}}class Gce extends $u{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=b3(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class J3{constructor(){this._count=0}validateStyleProperty(t){return gM(t)}matchesElement(t,e){return!1}containsElement(t,e){return _M(t,e)}query(t,e,n){return vM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(o=>b3(o));let s=`@keyframes ${e} {\n`,r="";n.forEach(o=>{r=" ";const l=parseFloat(o.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(o).forEach(c=>{const d=o[c];switch(c){case"offset":return;case"easing":return void(d&&(s+=`${r}animation-timing-function: ${d};\n`));default:return void(s+=`${r}${c}: ${d};\n`)}}),s+=`${r}}\n`}),s+="}\n";const a=document.createElement("style");return a.textContent=s,a}animate(t,e,n,s,r,a=[],o){const l=a.filter(m=>m instanceof K3),c={};E3(n,s)&&l.forEach(m=>{let _=m.currentSnapshot;Object.keys(_).forEach(v=>c[v]=_[v])});const d=function jce(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(n=>{Object.keys(n).forEach(s=>{"offset"==s||"easing"==s||(t[s]=n[s])})}),t}(e=k3(t,e,c));if(0==n)return new Gce(t,d);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function Wce(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(h);const f=j3(t,e),g=new K3(t,e,u,n,s,r,d,f);return g.onDestroy(()=>function $ce(i){i.parentNode.removeChild(i)}(h)),g}}class tV{constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(n=>{"offset"!=n&&(t[n]=this._finished?e[n]:MM(this.element,n))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}}class Yce{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(iV().toString()),this._cssKeyframesDriver=new J3}validateStyleProperty(t){return gM(t)}matchesElement(t,e){return!1}containsElement(t,e){return _M(t,e)}query(t,e,n){return vM(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,s,r,a=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,s,r,a);const d={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(d.easing=r);const u={},h=a.filter(f=>f instanceof tV);E3(n,s)&&h.forEach(f=>{let g=f.currentSnapshot;Object.keys(g).forEach(m=>u[m]=g[m])});const p=j3(t,e=k3(t,e=e.map(f=>bl(f,!1)),u));return new tV(t,e,d,p)}}function iV(){return g3()&&Element.prototype.animate||{}}let Xce=(()=>{class i extends u3{constructor(e,n){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(n.body,{id:"0",encapsulation:Ar.None,styles:[],data:{animation:[]}})}build(e){const n=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?p3(e):e;return nV(this._renderer,null,n,"register",[s]),new Qce(n,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)($(ap),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class Qce extends class Fle{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Kce(this._id,t,e||{},this._renderer)}}class Kce{constructor(t,e,n,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return nV(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function nV(i,t,e,n,s){return i.setProperty(t,`@@${e}:${n}`,s)}const sV="@.disabled";let Zce=(()=>{class i{constructor(e,n,s){this.delegate=e,this.engine=n,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=(r,a)=>{const o=null==a?void 0:a.parentNode(r);o&&a.removeChild(o,r)}}createRenderer(e,n){const r=this.delegate.createRenderer(e,n);if(!(e&&n&&n.data&&n.data.animation)){let d=this._rendererCache.get(r);return d||(d=new rV("",r,this.engine),this._rendererCache.set(r,d)),d}const a=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(a,o,e,d.name,d)};return n.data.animation.forEach(l),new Jce(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,s){e>=0&&e<this._microtaskId?this._zone.run(()=>n(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[a,o]=r;a(o)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)($(ap),$(cy),$(st))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();class rV{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,s=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==sV?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Jce extends rV{constructor(t,e,n,s){super(e,n,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==sV?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const s=function ede(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let r=e.substr(1),a="";return"@"!=r.charAt(0)&&([r,a]=function tde(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,a,o=>{this.factory.scheduleListenerCallback(o._data||-1,n,o)})}return this.delegate.listen(t,e,n)}}let ide=(()=>{class i extends cy{constructor(e,n,s){super(e.body,n,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(yM),$(RM))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const yn=new ne("AnimationModuleType"),aV=[{provide:u3,useClass:Xce},{provide:RM,useFactory:function sde(){return new lce}},{provide:cy,useClass:ide},{provide:ap,useFactory:function rde(i,t,e){return new Zce(i,t,e)},deps:[Lg,cy,st]}],oV=[{provide:yM,useFactory:function nde(){return function qce(){return"function"==typeof iV()}()?new Yce:new J3}},{provide:yn,useValue:"BrowserAnimations"},...aV],ade=[{provide:yM,useClass:w3},{provide:yn,useValue:"NoopAnimations"},...aV];let HM,ode=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?ade:oV}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:oV,imports:[KL]}),i})();try{HM="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){HM=!1}let Xu,on=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Us(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!HM)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)($(hn))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const cV=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dV(){if(Xu)return Xu;if("object"!=typeof document||!document)return Xu=new Set(cV),Xu;let i=document.createElement("input");return Xu=new Set(cV.filter(t=>(i.setAttribute("type",t),i.type===t))),Xu}let kf,hy,Ic,zM;function Kr(i){return function lde(){if(null==kf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kf=!0}))}finally{kf=kf||!1}return kf}()?i:!!i.capture}function uV(){if(null==Ic){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ic=!1,Ic;if("scrollBehavior"in document.documentElement.style)Ic=!0;else{const i=Element.prototype.scrollTo;Ic=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ic}function Rf(){if("object"!=typeof document||!document)return 0;if(null==hy){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),hy=0,0===i.scrollLeft&&(i.scrollLeft=1,hy=0===i.scrollLeft?1:2),i.remove()}return hy}function py(i){if(function cde(){if(null==zM){const i="undefined"!=typeof document?document.head:null;zM=!(!i||!i.createShadowRoot&&!i.attachShadow)}return zM}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function yr(i){return i.composedPath?i.composedPath()[0]:i.target}function GM(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function bs(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function my(i,t=Gv){return Hi((e,n)=>{let s=null,r=null,a=null;const o=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,n.next(c)}};function l(){const c=a+i,d=t.now();if(d<c)return s=this.schedule(void 0,c-d),void n.add(s);o()}e.subscribe(new Ai(n,c=>{r=c,a=t.now(),s||(s=t.schedule(l,i),n.add(s))},()=>{o(),n.complete()},void 0,()=>{r=s=null}))})}function gy(i,t=Lo){return i=null!=i?i:wde,Hi((e,n)=>{let s,r=!0;e.subscribe(new Ai(n,a=>{const o=t(a);(r||!i(s,o))&&(r=!1,s=o,n.next(a))}))})}function wde(i,t){return i===t}function Ue(i){return null!=i&&"false"!=`${i}`}function Gn(i,t=0){return function Cde(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function fV(i){return Array.isArray(i)?i:[i]}function xn(i){return null==i?"":"string"==typeof i?i:`${i}px`}function ln(i){return i instanceof ve?i.nativeElement:i}let mV=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Sde=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){const n=ln(e);return new ni(s=>{const a=this._observeElement(n).subscribe(s);return()=>{a.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const n=new ke,s=this._mutationObserverFactory.create(r=>n.next(r));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:n,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:n,stream:s}=this._observedElements.get(e);n&&n.disconnect(),s.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)($(mV))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_y=(()=>{class i{constructor(e,n,s){this._contentObserver=e,this._elementRef=n,this._ngZone=s,this.event=new ge,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Ue(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Gn(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(my(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(x(Sde),x(ve),x(st))},i.\u0275dir=j({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),If=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[mV]}),i})();class vV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ke,this._typeaheadSubscription=_t.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ke,this.change=new ke,t instanceof Bl&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(An(e=>this._pressedLetters.push(e)),my(t),Oi(()=>this._pressedLetters.length>0),It(()=>this._pressedLetters.join(""))).subscribe(e=>{const n=this._getItemsArray();for(let s=1;s<n.length+1;s++){const r=(this._activeItemIndex+s)%n.length,a=n[r];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||bs(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),s=e[n];this._activeItem=null==s?null:s,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const s=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Bl?this._items.toArray():this._items}}class Dde extends vV{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class qM extends vV{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let yV=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ede(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function Ade(i){try{return i.frameElement}catch(t){return null}}(function Nde(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(n&&(-1===bV(n)||!this.isVisible(n)))return!1;let s=e.nodeName.toLowerCase(),r=bV(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function Fde(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function Ode(i){return!function Rde(i){return function Lde(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function kde(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function Ide(i){return function Pde(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||xV(i))}(e)&&!this.isDisabled(e)&&((null==n?void 0:n.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)($(on))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function xV(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function bV(i){if(!xV(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Bde{constructor(t,e,n,s,r=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=0;n<e.length;n++){const s=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let n=e.length-1;n>=0;n--){const s=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zi(1)).subscribe(t)}}let Vde=(()=>{class i{constructor(e,n,s){this._checker=e,this._ngZone=n,this._document=s}create(e,n=!1){return new Bde(e,this._checker,this._ngZone,this._document,n)}}return i.\u0275fac=function(e){return new(e||i)($(yV),$(st),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function XM(i){return 0===i.buttons||0===i.offsetX&&0===i.offsetY}function QM(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Hde=new ne("cdk-input-modality-detector-options"),zde={ignoreKeys:[18,17,224,91,16]},Ku=Kr({passive:!0,capture:!0});let Gde=(()=>{class i{constructor(e,n,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new gs(null),this._lastTouchMs=0,this._onKeydown=a=>{var o,l;(null===(l=null===(o=this._options)||void 0===o?void 0:o.ignoreKeys)||void 0===l?void 0:l.some(c=>c===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=yr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(XM(a)?"keyboard":"mouse"),this._mostRecentTarget=yr(a))},this._onTouchstart=a=>{QM(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yr(a))},this._options=Object.assign(Object.assign({},zde),r),this.modalityDetected=this._modality.pipe(function bde(i){return Oi((t,e)=>i<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(gy()),e.isBrowser&&n.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Ku),s.addEventListener("mousedown",this._onMousedown,Ku),s.addEventListener("touchstart",this._onTouchstart,Ku)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ku),document.removeEventListener("mousedown",this._onMousedown,Ku),document.removeEventListener("touchstart",this._onTouchstart,Ku))}}return i.\u0275fac=function(e){return new(e||i)($(on),$(st),$(mt),$(Hde,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ude=new ne("liveAnnouncerElement",{providedIn:"root",factory:function Wde(){return null}}),jde=new ne("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $de=(()=>{class i{constructor(e,n,s,r){this._ngZone=n,this._defaultOptions=r,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...n){const s=this._defaultOptions;let r,a;return 1===n.length&&"number"==typeof n[0]?a=n[0]:[r,a]=n,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),null==a&&s&&(a=s.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(o=>this._currentResolve=o)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,n;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(n=this._currentResolve)||void 0===n||n.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let r=0;r<n.length;r++)n[r].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return i.\u0275fac=function(e){return new(e||i)($(Ude,8),$(st),$(mt),$(jde,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yde=new ne("cdk-focus-monitor-default-options"),vy=Kr({passive:!0,capture:!0});let yo=(()=>{class i{constructor(e,n,s,r,a){this._ngZone=e,this._platform=n,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=o=>{const l=yr(o),c="focus"===o.type?this._onFocus:this._onBlur;for(let d=l;d;d=d.parentElement)c.call(this,o,d)},this._document=r,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,n=!1){const s=ln(e);if(!this._platform.isBrowser||1!==s.nodeType)return ht(null);const r=py(s)||this._getDocument(),a=this._elementInfo.get(s);if(a)return n&&(a.checkChildren=!0),a.subject;const o={checkChildren:n,subject:new ke,rootNode:r};return this._elementInfo.set(s,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(e){const n=ln(e),s=this._elementInfo.get(n);s&&(s.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(s))}focusVia(e,n,s){const r=ln(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([o,l])=>this._originChanged(o,n,l)):(this._setOrigin(n),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused","touch"===n),e.classList.toggle("cdk-keyboard-focused","keyboard"===n),e.classList.toggle("cdk-mouse-focused","mouse"===n),e.classList.toggle("cdk-program-focused","program"===n)}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&n,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,n){const s=this._elementInfo.get(n),r=yr(e);!s||!s.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),s)}_onBlur(e,n){const s=this._elementInfo.get(n);!s||s.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(s.subject,null))}_emitOrigin(e,n){this._ngZone.run(()=>e.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const n=e.rootNode,s=this._rootNodeFocusListenerCount.get(n)||0;s||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,vy),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,vy)}),this._rootNodeFocusListenerCount.set(n,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(pt(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){const s=this._rootNodeFocusListenerCount.get(n);s>1?this._rootNodeFocusListenerCount.set(n,s-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,vy),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,vy),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,s){this._setClasses(e,n),this._emitOrigin(s.subject,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){const n=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&n.push([r,s])}),n}}return i.\u0275fac=function(e){return new(e||i)($(st),$(on),$(Gde),$(mt,8),$(Yde,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qde=(()=>{class i{constructor(e,n){this._elementRef=e,this._focusMonitor=n,this.cdkFocusChange=new ge}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>this.cdkFocusChange.emit(n))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(yo))},i.\u0275dir=j({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),i})();const CV="cdk-high-contrast-black-on-white",SV="cdk-high-contrast-white-on-black",KM="cdk-high-contrast-active";let MV=(()=>{class i{constructor(e,n){this._platform=e,this._document=n}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,s=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(KM),e.remove(CV),e.remove(SV),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?(e.add(KM),e.add(CV)):2===n&&(e.add(KM),e.add(SV))}}}return i.\u0275fac=function(e){return new(e||i)($(on),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yy=(()=>{class i{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return i.\u0275fac=function(e){return new(e||i)($(MV))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[If]]}),i})();function Xde(i,t){if(1&i&&fe(0,"mat-pseudo-checkbox",4),2&i){const e=ue();W("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Qde(i,t){if(1&i&&(A(0,"span",5),we(1),E()),2&i){const e=ue();U(1),ki("(",e.group.label,")")}}const Kde=["*"],Jde=new ne("mat-sanity-checks",{providedIn:"root",factory:function Zde(){return!0}});let et=(()=>{class i{constructor(e,n,s){this._sanityChecks=n,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!GM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return i.\u0275fac=function(e){return new(e||i)($(MV),$(Jde,8),$(mt))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mc],Mc]}),i})();function xo(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Ue(t)}}}function bo(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const n=e||this.defaultColor;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function xr(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Ue(t)}}}function Oc(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Gn(e):this.defaultTabIndex}}}function eT(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new ke,this.errorState=!1}updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}}}const eue=new ne("MAT_DATE_LOCALE",{providedIn:"root",factory:function tue(){return _d(qa)}});class Ea{constructor(){this._localeChanges=new ke,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),s=this.isValid(e);return n&&s?!this.compareDate(t,e):n==s}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}}const tT=new ne("mat-date-formats"),iue=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function iT(i,t){const e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}let nue=(()=>{class i extends Ea{constructor(e,n){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return iT(12,s=>this._format(n,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return iT(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){const n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return iT(7,s=>this._format(n,new Date(2017,0,s+1)))}getYearName(e){const n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,s){let r=this._createDateWithOverflow(e,n,s);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},n),{timeZone:"utc"}));return this._format(s,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,12*n)}addCalendarMonths(e,n){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+n)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(iue.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,n,s){const r=new Date;return r.setFullYear(e,n,s),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,n){const s=new Date;return s.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),s.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(s)}}return i.\u0275fac=function(e){return new(e||i)($(eue,8),$(on))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const sue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let rue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[{provide:Ea,useClass:nue}]}),i})(),DV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[{provide:tT,useValue:sue}],imports:[[rue]]}),i})(),Zu=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),nT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),i})();function Lf(i,t,e){i.nativeElement.classList.toggle(t,e)}let xy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})();class aue{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const EV={enterDuration:225,exitDuration:150},sT=Kr({passive:!0}),kV=["mousedown","touchstart"],RV=["mouseup","mouseleave","touchend","touchcancel"];class IV{constructor(t,e,n,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=ln(n))}fadeInRipple(t,e,n={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},EV),n.animation);n.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const a=n.radius||function cue(i,t,e){const n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+s*s)}(t,e,s),o=t-s.left,l=e-s.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=o-a+"px",d.style.top=l-a+"px",d.style.height=2*a+"px",d.style.width=2*a+"px",null!=n.color&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d),function lue(i){window.getComputedStyle(i).getPropertyValue("opacity")}(d),d.style.transform="scale(1)";const u=new aue(this,d,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const h=u===this._mostRecentTransientRipple;u.state=1,!n.persistent&&(!h||!this._isPointerDown)&&u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,s=Object.assign(Object.assign({},EV),t.config.animation);n.style.transitionDuration=`${s.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ln(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(kV))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(RV),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=XM(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!QM(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,sT)})})}_removeTriggerEvents(){this._triggerElement&&(kV.forEach(t=>{this._triggerElement.removeEventListener(t,this,sT)}),this._pointerUpEventsRegistered&&RV.forEach(t=>{this._triggerElement.removeEventListener(t,this,sT)}))}}const LV=new ne("mat-ripple-global-options");let br=(()=>{class i{constructor(e,n,s,r,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new IV(this,n,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,n,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(st),x(on),x(LV,8),x(yn,8))},i.\u0275dir=j({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,n){2&e&&ut("mat-ripple-unbounded",n.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),wr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})(),PV=(()=>{class i{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(e){return new(e||i)(x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,n){2&e&&ut("mat-pseudo-checkbox-indeterminate","indeterminate"===n.state)("mat-pseudo-checkbox-checked","checked"===n.state)("mat-pseudo-checkbox-disabled",n.disabled)("_mat-animation-noopable","NoopAnimations"===n._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,n){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),rT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et]]}),i})();const FV=new ne("MAT_OPTION_PARENT_COMPONENT"),OV=new ne("MatOptgroup");let due=0;class NV{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let uue=(()=>{class i{constructor(e,n,s,r){this._element=e,this._changeDetectorRef=n,this._parent=s,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+due++,this.onSelectionChange=new ge,this._stateChanges=new ke}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Ue(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,n){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!bs(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new NV(this,e))}}return i.\u0275fac=function(e){Vd()},i.\u0275dir=j({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),aT=(()=>{class i extends uue{constructor(e,n,s,r){super(e,n,s,r)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(FV,8),x(OV,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,n){1&e&&Le("click",function(){return n._selectViaInteraction()})("keydown",function(r){return n._handleKeydown(r)}),2&e&&(ma("id",n.id),Ae("tabindex",n._getTabIndex())("aria-selected",n._getAriaSelected())("aria-disabled",n.disabled.toString()),ut("mat-selected",n.selected)("mat-option-multiple",n.multiple)("mat-active",n.active)("mat-option-disabled",n.disabled))},exportAs:["matOption"],features:[Z],ngContentSelectors:Kde,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,n){1&e&&(Ci(),pe(0,Xde,1,2,"mat-pseudo-checkbox",0),A(1,"span",1),At(2),E(),pe(3,Qde,2,1,"span",2),fe(4,"div",3)),2&e&&(W("ngIf",n.multiple),U(3),W("ngIf",n.group&&n.group._inert),U(1),W("matRippleTrigger",n._getHostElement())("matRippleDisabled",n.disabled||n.disableRipple))},directives:[PV,Mi,br],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function oT(i,t,e){if(e.length){let n=t.toArray(),s=e.toArray(),r=0;for(let a=0;a<i+1;a++)n[a].group&&n[a].group===s[r]&&r++;return r}return 0}let by=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[wr,Fi,et,rT]]}),i})();const hue=["*",[["mat-card-footer"]]],pue=["*","mat-card-footer"],fue=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],mue=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let VV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),lT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),i})(),HV=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,n){2&e&&ut("_mat-animation-noopable","NoopAnimations"===n._animationMode)},exportAs:["matCard"],ngContentSelectors:pue,decls:2,vars:0,template:function(e,n){1&e&&(Ci(hue),At(0),At(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),zV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:mue,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,n){1&e&&(Ci(fue),At(0),A(1,"div",0),At(2,1),E(),At(3,2))},encapsulation:2,changeDetection:0}),i})(),GV=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})();const gue=["addListener","removeListener"],_ue=["addEventListener","removeEventListener"],vue=["on","off"];function Zs(i,t,e,n){if(Et(e)&&(n=e,e=void 0),n)return Zs(i,t,e).pipe(Ew(n));const[s,r]=function bue(i){return Et(i.addEventListener)&&Et(i.removeEventListener)}(i)?_ue.map(a=>o=>i[a](t,o,e)):function yue(i){return Et(i.addListener)&&Et(i.removeListener)}(i)?gue.map(UV(i,t)):function xue(i){return Et(i.on)&&Et(i.off)}(i)?vue.map(UV(i,t)):[];if(!s&&Lx(i))return cn(a=>Zs(a,t,e))(Rs(i));if(!s)throw new TypeError("Invalid event target");return new ni(a=>{const o=(...l)=>a.next(1<l.length?l:l[0]);return s(o),()=>r(o)})}function UV(i,t){return e=>n=>i[e](t,n)}const wue=["connectionContainer"],Cue=["inputContainer"],Sue=["label"];function Mue(i,t){1&i&&(Go(0),A(1,"div",14),fe(2,"div",15),fe(3,"div",16),fe(4,"div",17),E(),A(5,"div",18),fe(6,"div",15),fe(7,"div",16),fe(8,"div",17),E(),Uo())}function Tue(i,t){if(1&i){const e=tn();A(0,"div",19),Le("cdkObserveContent",function(){return Qt(e),ue().updateOutlineGap()}),At(1,1),E()}2&i&&W("cdkObserveContentDisabled","outline"!=ue().appearance)}function Due(i,t){if(1&i&&(Go(0),At(1,2),A(2,"span"),we(3),E(),Uo()),2&i){const e=ue(2);U(3),un(e._control.placeholder)}}function Aue(i,t){1&i&&At(0,3,["*ngSwitchCase","true"])}function Eue(i,t){1&i&&(A(0,"span",23),we(1," *"),E())}function kue(i,t){if(1&i){const e=tn();A(0,"label",20,21),Le("cdkObserveContent",function(){return Qt(e),ue().updateOutlineGap()}),pe(2,Due,4,1,"ng-container",12),pe(3,Aue,1,0,"ng-content",12),pe(4,Eue,2,0,"span",22),E()}if(2&i){const e=ue();ut("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),W("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),Ae("for",e._control.id)("aria-owns",e._control.id),U(2),W("ngSwitchCase",!1),U(1),W("ngSwitchCase",!0),U(1),W("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Rue(i,t){1&i&&(A(0,"div",24),At(1,4),E())}function Iue(i,t){if(1&i&&(A(0,"div",25),fe(1,"span",26),E()),2&i){const e=ue();U(1),ut("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Lue(i,t){1&i&&(A(0,"div"),At(1,5),E()),2&i&&W("@transitionMessages",ue()._subscriptAnimationState)}function Pue(i,t){if(1&i&&(A(0,"div",30),we(1),E()),2&i){const e=ue(2);W("id",e._hintLabelId),U(1),un(e.hintLabel)}}function Fue(i,t){if(1&i&&(A(0,"div",27),pe(1,Pue,2,2,"div",28),At(2,6),fe(3,"div",29),At(4,7),E()),2&i){const e=ue();W("@transitionMessages",e._subscriptAnimationState),U(1),W("ngIf",e.hintLabel)}}const Oue=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Nue=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Bue=new ne("MatError"),Vue={transitionMessages:bi("transitionMessages",[Lt("enter",Pe({opacity:1,transform:"translateY(0%)"})),Rt("void => enter",[Pe({opacity:0,transform:"translateY(-5px)"}),Bt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Pf=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i}),i})();const Hue=new ne("MatHint");let wy=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["mat-label"]]}),i})(),zue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["mat-placeholder"]]}),i})();const Gue=new ne("MatPrefix"),Uue=new ne("MatSuffix");let WV=0;const jue=bo(class{constructor(i){this._elementRef=i}},"primary"),$ue=new ne("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Ff=new ne("MatFormField");let $V=(()=>{class i extends jue{constructor(e,n,s,r,a,o,l){super(e),this._changeDetectorRef=n,this._dir=s,this._defaults=r,this._platform=a,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new ke,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+WV++,this._labelId="mat-form-field-label-"+WV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const n=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&n!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Ue(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Ds(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(pt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(pt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Zi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ds(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ds(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(pt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const n=this._control?this._control.ngControl:null;return n&&n[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Zs(this._label.nativeElement,"transitionend").pipe(zi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const n=this._hintChildren?this._hintChildren.find(r=>"start"===r.align):null,s=this._hintChildren?this._hintChildren.find(r=>"end"===r.align):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,n=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",r=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const d=n.querySelectorAll(`${s}, ${r}`);for(let u=0;u<d.length;u++)d[u].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let a=0,o=0;const l=n.querySelectorAll(s),c=n.querySelectorAll(r);if(this._label&&this._label.nativeElement.children.length){const d=n.getBoundingClientRect();if(0===d.width&&0===d.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const u=this._getStartEnd(d),h=e.children,p=this._getStartEnd(h[0].getBoundingClientRect());let f=0;for(let g=0;g<h.length;g++)f+=h[g].offsetWidth;a=Math.abs(p-u)-5,o=f>0?.75*f+10:0}for(let d=0;d<l.length;d++)l[d].style.width=`${a}px`;for(let d=0;d<c.length;d++)c[d].style.width=`${o}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(zn,8),x($ue,8),x(on),x(st),x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,n,s){if(1&e&&(St(s,Pf,5),St(s,Pf,7),St(s,wy,5),St(s,wy,7),St(s,zue,5),St(s,Bue,5),St(s,Hue,5),St(s,Gue,5),St(s,Uue,5)),2&e){let r;Ce(r=Se())&&(n._controlNonStatic=r.first),Ce(r=Se())&&(n._controlStatic=r.first),Ce(r=Se())&&(n._labelChildNonStatic=r.first),Ce(r=Se())&&(n._labelChildStatic=r.first),Ce(r=Se())&&(n._placeholderChild=r.first),Ce(r=Se())&&(n._errorChildren=r),Ce(r=Se())&&(n._hintChildren=r),Ce(r=Se())&&(n._prefixChildren=r),Ce(r=Se())&&(n._suffixChildren=r)}},viewQuery:function(e,n){if(1&e&&(Ct(wue,7),Ct(Cue,5),Ct(Sue,5)),2&e){let s;Ce(s=Se())&&(n._connectionContainerRef=s.first),Ce(s=Se())&&(n._inputContainerRef=s.first),Ce(s=Se())&&(n._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,n){2&e&&ut("mat-form-field-appearance-standard","standard"==n.appearance)("mat-form-field-appearance-fill","fill"==n.appearance)("mat-form-field-appearance-outline","outline"==n.appearance)("mat-form-field-appearance-legacy","legacy"==n.appearance)("mat-form-field-invalid",n._control.errorState)("mat-form-field-can-float",n._canLabelFloat())("mat-form-field-should-float",n._shouldLabelFloat())("mat-form-field-has-label",n._hasFloatingLabel())("mat-form-field-hide-placeholder",n._hideControlPlaceholder())("mat-form-field-disabled",n._control.disabled)("mat-form-field-autofilled",n._control.autofilled)("mat-focused",n._control.focused)("ng-untouched",n._shouldForward("untouched"))("ng-touched",n._shouldForward("touched"))("ng-pristine",n._shouldForward("pristine"))("ng-dirty",n._shouldForward("dirty"))("ng-valid",n._shouldForward("valid"))("ng-invalid",n._shouldForward("invalid"))("ng-pending",n._shouldForward("pending"))("_mat-animation-noopable",!n._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Qe([{provide:Ff,useExisting:i}]),Z],ngContentSelectors:Nue,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,n){1&e&&(Ci(Oue),A(0,"div",0),A(1,"div",1,2),Le("click",function(r){return n._control.onContainerClick&&n._control.onContainerClick(r)}),pe(3,Mue,9,0,"ng-container",3),pe(4,Tue,2,1,"div",4),A(5,"div",5,6),At(7),A(8,"span",7),pe(9,kue,5,16,"label",8),E(),E(),pe(10,Rue,2,0,"div",9),E(),pe(11,Iue,2,4,"div",10),A(12,"div",11),pe(13,Lue,2,1,"div",12),pe(14,Fue,5,2,"div",13),E(),E()),2&e&&(U(3),W("ngIf","outline"==n.appearance),U(1),W("ngIf",n._prefixChildren.length),U(5),W("ngIf",n._hasFloatingLabel()),U(1),W("ngIf",n._suffixChildren.length),U(1),W("ngIf","outline"!=n.appearance),U(1),W("ngSwitch",n._getDisplayedMessages()),U(1),W("ngSwitchCase","error"),U(1),W("ngSwitchCase","hint"))},directives:[Mi,_y,Xd,Dg],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Vue.transitionMessages]},changeDetection:0}),i})(),Of=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et,If],et]}),i})();const Nf={schedule(i){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Nf;n&&(t=n.requestAnimationFrame,e=n.cancelAnimationFrame);const s=t(r=>{e=void 0,i(r)});return new _t(()=>null==e?void 0:e(s))},requestAnimationFrame(...i){const{delegate:t}=Nf;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:t}=Nf;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0},YV=new class que extends iM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let n,s=-1;t=t||e.shift();const r=e.length;do{if(n=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,n){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class Yue extends tM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Nf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Nf.cancelAnimationFrame(e),t._scheduled=void 0)}});let cT,Xue=1;const Cy={};function qV(i){return i in Cy&&(delete Cy[i],!0)}const Que={setImmediate(i){const t=Xue++;return Cy[t]=!0,cT||(cT=Promise.resolve()),cT.then(()=>qV(t)&&i()),t},clearImmediate(i){qV(i)}},{setImmediate:Kue,clearImmediate:Zue}=Que,Sy={setImmediate(...i){const{delegate:t}=Sy;return((null==t?void 0:t.setImmediate)||Kue)(...i)},clearImmediate(i){const{delegate:t}=Sy;return((null==t?void 0:t.clearImmediate)||Zue)(i)},delegate:void 0};new class ehe extends iM{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let n,s=-1;t=t||e.shift();const r=e.length;do{if(n=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,n){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw n}}}(class Jue extends tM{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=Sy.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,n=0){if(null!=n&&n>0||null==n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(Sy.clearImmediate(e),t._scheduled=void 0)}});function XV(i,t=GB){return function ihe(i){return Hi((t,e)=>{let n=!1,s=null,r=null,a=!1;const o=()=>{if(null==r||r.unsubscribe(),r=null,n){n=!1;const c=s;s=null,e.next(c)}a&&e.complete()},l=()=>{r=null,a&&e.complete()};t.subscribe(new Ai(e,c=>{n=!0,s=c,r||Rs(i(c)).subscribe(r=new Ai(e,o,l))},()=>{a=!0,(!n||!r||r.closed)&&e.complete()}))})}(()=>Sf(i,t))}let dT=(()=>{class i{constructor(e,n,s){this._ngZone=e,this._platform=n,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ni(n=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(XV(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ht()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const s=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Oi(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&n.push(r)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let s=ln(n),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Zs(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)($(st),$(on),$(mt,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),uT=(()=>{class i{constructor(e,n,s,r){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=s,this.dir=r,this._destroyed=new ke,this._elementScrolled=new ni(a=>this.ngZone.runOutsideAngular(()=>Zs(this.elementRef.nativeElement,"scroll").pipe(pt(this._destroyed)).subscribe(a)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const n=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),s&&0!=Rf()?(null!=e.left&&(e.right=n.scrollWidth-n.clientWidth-e.left),2==Rf()?e.left=e.right:1==Rf()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const n=this.elementRef.nativeElement;uV()?n.scrollTo(e):(null!=e.top&&(n.scrollTop=e.top),null!=e.left&&(n.scrollLeft=e.left))}measureScrollOffset(e){const n="left",s="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const a=this.dir&&"rtl"==this.dir.value;return"start"==e?e=a?s:n:"end"==e&&(e=a?n:s),a&&2==Rf()?e==n?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&1==Rf()?e==n?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==n?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(dT),x(st),x(zn,8))},i.\u0275dir=j({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),Zr=(()=>{class i{constructor(e,n,s){this._platform=e,this._change=new ke,this._changeListener=r=>{this._change.next(r)},this._document=s,n.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+n,height:s,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||n.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||n.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(XV(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)($(on),$(st),$(mt,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ka=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),hT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mc,ka],Mc,ka]}),i})();class pT{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class QV extends pT{constructor(t,e,n,s){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=s}}class My extends pT{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rhe extends pT{constructor(t){super(),this.element=t instanceof ve?t.nativeElement:t}}class KV{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof QV?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof My?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof rhe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ZV extends KV{constructor(t,e,n,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=s,this.attachDomPortal=a=>{const o=a.element,l=this._document.createComment("dom-portal");o.parentNode.insertBefore(l,o),this.outletElement.appendChild(o),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(o,l)})},this._document=r}attachComponentPortal(t){const n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=n.create(t.injector||this._defaultInjector||en.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(s=>this.outletElement.appendChild(s)),n.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(n);-1!==s&&e.remove(s)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let fT=(()=>{class i extends KV{constructor(e,n,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=n,this._isInitialized=!1,this.attached=new ge,this.attachDomPortal=r=>{const a=r.element,o=this._document.createComment("dom-portal");r.setAttachedHost(this),a.parentNode.insertBefore(o,a),this._getRootNode().appendChild(a),this._attachedPortal=r,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(a,o)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const n=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=n.createComponent(r,n.length,e.injector||n.injector);return n!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(x(ga),x(Pi),x(mt))},i.\u0275dir=j({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Z]}),i})(),Nc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})();const JV=uV();class ohe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=xn(-this._previousScrollPosition.left),t.style.top=xn(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,n=t.style,s=this._document.body.style,r=n.scrollBehavior||"",a=s.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),JV&&(n.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),JV&&(n.scrollBehavior=r,s.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class lhe{constructor(t,e,n,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eH{enable(){}disable(){}attach(){}}function mT(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function tH(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class che{constructor(t,e,n,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:s}=this._viewportRuler.getViewportSize();mT(e,[{width:n,height:s,bottom:s,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let dhe=(()=>{class i{constructor(e,n,s,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=s,this.noop=()=>new eH,this.close=a=>new lhe(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new ohe(this._viewportRuler,this._document),this.reposition=a=>new che(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=r}}return i.\u0275fac=function(e){return new(e||i)($(dT),$(Zr),$(st),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class gT{constructor(t){if(this.scrollStrategy=new eH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class uhe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class hhe{constructor(t,e,n,s,r,a,o,l,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=s,this._ngZone=r,this._keyboardDispatcher=a,this._document=o,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=_t.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=xn(this._config.width),t.height=xn(this._config.height),t.minWidth=xn(this._config.minWidth),t.minHeight=xn(this._config.minHeight),t.maxWidth=xn(this._config.maxWidth),t.maxHeight=xn(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,n){const s=fV(e||[]).filter(r=>!!r);s.length&&(n?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(pt(Zi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let iH=(()=>{class i{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||GM()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const n=this._document.createElement("div");n.classList.add(e),GM()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(on))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const nH="cdk-overlay-connected-position-bounding-box",phe=/([A-Za-z%]+)$/;class fhe{constructor(t,e,n,s,r){this._viewportRuler=e,this._document=n,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=_t.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(nH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,s=this._containerRect,r=[];let a;for(let o of this._preferredPositions){let l=this._getOriginPoint(t,s,o),c=this._getOverlayPoint(l,e,o),d=this._getOverlayFit(c,e,n,o);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,l);this._canFitWithFlexibleDimensions(d,c,n)?r.push({position:o,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,o)}):(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:c,originPoint:l,position:o,overlayRect:e})}if(r.length){let o=null,l=-1;for(const c of r){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,o=c)}return this._isPushed=!1,void this._applyPosition(o.position,o.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Bc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,n){let s,r;if("center"==n.originX)s=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,o=this._isRtl()?t.left:t.right;s="start"==n.originX?a:o}return e.left<0&&(s-=e.left),r="center"==n.originY?t.top+t.height/2:"top"==n.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,n){let s,r;return s="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,n,s){const r=rH(e);let{x:a,y:o}=t,l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(a+=l),c&&(o+=c);let h=0-o,p=o+r.height-n.height,f=this._subtractOverflows(r.width,0-a,a+r.width-n.width),g=this._subtractOverflows(r.height,h,p),m=f*g;return{visibleArea:m,isCompletelyWithinViewport:r.width*r.height===m,fitsInViewportVertically:g===r.height,fitsInViewportHorizontally:f==r.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const s=n.bottom-e.y,r=n.right-e.x,a=sH(this._overlayRef.getConfig().minHeight),o=sH(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=a&&a<=s)&&c}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=rH(e),r=this._viewportRect,a=Math.max(t.x+s.width-r.width,0),o=Math.max(t.y+s.height-r.height,0),l=Math.max(r.top-n.top-t.y,0),c=Math.max(r.left-n.left-t.x,0);let d=0,u=0;return d=s.width<=r.width?c||-a:t.x<this._viewportMargin?r.left-n.left-t.x:0,u=s.height<=r.height?l||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const n=this._getScrollVisibility(),s=new uhe(t,n);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,s=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${s}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,s=this._isRtl();let r,a,o,d,u,h;if("top"===e.overlayY)a=t.y,r=n.height-a+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const p=Math.min(n.bottom-t.y+n.top,t.y),f=this._lastBoundingBoxSize.height;r=2*p,a=t.y-p,r>f&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-f/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)h=n.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)u=t.x,d=n.right-t.x;else{const p=Math.min(n.right-t.x+n.left,t.x),f=this._lastBoundingBoxSize.width;d=2*p,u=t.x-p,d>f&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-f/2)}return{top:a,left:u,bottom:o,right:h,width:d,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;s.height=xn(n.height),s.top=xn(n.top),s.bottom=xn(n.bottom),s.width=xn(n.width),s.left=xn(n.left),s.right=xn(n.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=xn(r)),a&&(s.maxWidth=xn(a))}this._lastBoundingBoxSize=n,Bc(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Bc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Bc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(s){const d=this._viewportRuler.getViewportScrollPosition();Bc(n,this._getExactOverlayY(e,t,d)),Bc(n,this._getExactOverlayX(e,t,d))}else n.position="static";let o="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(o+=`translateX(${l}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),a.maxHeight&&(s?n.maxHeight=xn(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(s?n.maxWidth=xn(a.maxWidth):r&&(n.maxWidth="")),Bc(this._pane.style,n)}_getExactOverlayY(t,e,n){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=xn(r.y),s}_getExactOverlayX(t,e,n){let a,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=xn(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tH(t,n),isOriginOutsideView:mT(t,n),isOverlayClipped:tH(e,n),isOverlayOutsideView:mT(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,s)=>n-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&fV(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof ve)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Bc(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function sH(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(phe);return e&&"px"!==e?null:parseFloat(t)}return i||null}function rH(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const aH="cdk-global-overlay-wrapper";class mhe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(aH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:a,maxHeight:o}=n,l=!("100%"!==s&&"100vw"!==s||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(aH),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ghe=(()=>{class i{constructor(e,n,s,r){this._viewportRuler=e,this._document=n,this._platform=s,this._overlayContainer=r}global(){return new mhe}flexibleConnectedTo(e){return new fhe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)($(Zr),$(mt),$(on),$(iH))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),oH=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)($(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),_he=(()=>{class i extends oH{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=s=>{const r=this._attachedOverlays;for(let a=r.length-1;a>-1;a--)if(r[a]._keydownEvents.observers.length>0){const o=r[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>o.next(s)):o.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(st,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),vhe=(()=>{class i extends oH{constructor(e,n,s){super(e),this._platform=n,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=yr(r)},this._clickListener=r=>{const a=yr(r),o="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(a)||d.overlayElement.contains(o))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(on),$(st,8))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yhe=0,wo=(()=>{class i{constructor(e,n,s,r,a,o,l,c,d,u,h){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=a,this._injector=o,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=h}create(e){const n=this._createHostElement(),s=this._createPaneElement(n),r=this._createPortalOutlet(s),a=new gT(e);return a.direction=a.direction||this._directionality.value,new hhe(r,n,s,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+yhe++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Vl)),new ZV(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)($(dhe),$(iH),$(ga),$(ghe),$(_he),$(en),$(st),$(mt),$(zn),$(gg),$(vhe))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();const xhe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],lH=new ne("cdk-connected-overlay-scroll-strategy");let cH=(()=>{class i{constructor(e){this.elementRef=e}}return i.\u0275fac=function(e){return new(e||i)(x(ve))},i.\u0275dir=j({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),dH=(()=>{class i{constructor(e,n,s,r,a){this._overlay=e,this._dir=a,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=_t.EMPTY,this._attachSubscription=_t.EMPTY,this._detachSubscription=_t.EMPTY,this._positionSubscription=_t.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new ge,this.positionChange=new ge,this.attach=new ge,this.detach=new ge,this.overlayKeydown=new ge,this.overlayOutsideClick=new ge,this._templatePortal=new My(n,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Ue(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Ue(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Ue(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Ue(e)}get push(){return this._push}set push(e){this._push=Ue(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=xhe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),27===n.keyCode&&!this.disableClose&&!bs(n)&&(n.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{this.overlayOutsideClick.next(n)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new gT({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(n.width=this.width),(this.height||0===this.height)&&(n.height=this.height),(this.minWidth||0===this.minWidth)&&(n.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){const n=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof cH?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function ahe(i,t=!1){return Hi((e,n)=>{let s=0;e.subscribe(new Ai(n,r=>{const a=i(r,s++);(a||t)&&n.next(r),!a&&n.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(x(wo),x(nn),x(Pi),x(lH),x(zn,8))},i.\u0275dir=j({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[bt]}),i})();const whe={provide:lH,deps:[wo],useFactory:function bhe(i){return()=>i.scrollStrategies.reposition()}};let Vc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[wo,whe],imports:[[Mc,Nc,hT],hT]}),i})();function Ty(i){return i&&"function"==typeof i.connect}class uH{applyChanges(t,e,n,s,r){t.forEachOperation((a,o,l)=>{let c,d;if(null==a.previousIndex){const u=n(a,o,l);c=e.createEmbeddedView(u.templateRef,u.context,u.index),d=1}else null==l?(e.remove(o),d=3):(c=e.get(o),e.move(c,l),d=2);r&&r({context:null==c?void 0:c.context,operation:d,record:a})})}detach(){}}class Bf{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new ke,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const Vf=new ne("_ViewRepeater"),She=["trigger"],Mhe=["panel"];function The(i,t){if(1&i&&(A(0,"span",8),we(1),E()),2&i){const e=ue();U(1),un(e.placeholder)}}function Dhe(i,t){if(1&i&&(A(0,"span",12),we(1),E()),2&i){const e=ue(2);U(1),un(e.triggerValue)}}function Ahe(i,t){1&i&&At(0,0,["*ngSwitchCase","true"])}function Ehe(i,t){1&i&&(A(0,"span",9),pe(1,Dhe,2,1,"span",10),pe(2,Ahe,1,0,"ng-content",11),E()),2&i&&(W("ngSwitch",!!ue().customTrigger),U(2),W("ngSwitchCase",!0))}function khe(i,t){if(1&i){const e=tn();A(0,"div",13),A(1,"div",14,15),Le("@transformPanel.done",function(s){return Qt(e),ue()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return Qt(e),ue()._handleKeydown(s)}),At(3,1),E(),E()}if(2&i){const e=ue();W("@transformPanelWrap",void 0),U(1),Db("mat-select-panel ",e._getPanelTheme(),""),xi("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),W("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),Ae("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Rhe=[[["mat-select-trigger"]],"*"],Ihe=["mat-select-trigger","*"],pH={transformPanelWrap:bi("transformPanelWrap",[Rt("* => void",qv("@transformPanel",[Yv()],{optional:!0}))]),transformPanel:bi("transformPanel",[Lt("void",Pe({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Lt("showing",Pe({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Lt("showing-multiple",Pe({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Rt("void => *",Bt("120ms cubic-bezier(0, 0, 0.2, 1)")),Rt("* => void",Bt("100ms 25ms linear",Pe({opacity:0})))])};let fH=0;const gH=new ne("mat-select-scroll-strategy"),Ohe=new ne("MAT_SELECT_CONFIG"),Nhe={provide:gH,deps:[wo],useFactory:function Fhe(i){return()=>i.scrollStrategies.reposition()}};class Bhe{constructor(t,e){this.source=t,this.value=e}}const Vhe=xr(Oc(xo(eT(class{constructor(i,t,e,n,s){this._elementRef=i,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=s}})))),Hhe=new ne("MatSelectTrigger");let zhe=(()=>{class i extends Vhe{constructor(e,n,s,r,a,o,l,c,d,u,h,p,f,g){var m,_,v;super(a,r,l,c,u),this._viewportRuler=e,this._changeDetectorRef=n,this._ngZone=s,this._dir=o,this._parentFormField=d,this._liveAnnouncer=f,this._defaultOptions=g,this._panelOpen=!1,this._compareWith=(y,b)=>y===b,this._uid="mat-select-"+fH++,this._triggerAriaLabelledBy=null,this._destroy=new ke,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fH++,this._panelDoneAnimatingStream=new ke,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(v=null===(_=this._defaultOptions)||void 0===_?void 0:_.disableOptionCentering)&&void 0!==v&&v,this.ariaLabel="",this.optionSelectionChanges=Ng(()=>{const y=this.options;return y?y.changes.pipe(Ds(y),ur(()=>Zi(...y.map(b=>b.onSelectionChange)))):this._ngZone.onStable.pipe(zi(1),ur(()=>this.optionSelectionChanges))}),this.openedChange=new ge,this._openedStream=this.openedChange.pipe(Oi(y=>y),It(()=>{})),this._closedStream=this.openedChange.pipe(Oi(y=>!y),It(()=>{})),this.selectionChange=new ge,this.valueChange=new ge,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==g?void 0:g.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=g.typeaheadDebounceInterval),this._scrollStrategyFactory=p,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,n,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===s?void 0:s.hasValidator(Yl.required))&&void 0!==r&&r}set required(e){this._required=Ue(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Ue(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Ue(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Gn(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Bf(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(gy(),pt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(pt(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Ds(null),pt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(void 0!==this._previousControl&&null!==n.disabled&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,n;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(n=this._selectionModel)||void 0===n?void 0:n.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const n=e.keyCode,s=40===n||38===n||37===n||39===n,r=13===n||32===n,a=this._keyManager;if(!a.isTyping()&&r&&!bs(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const o=this.selected;a.onKeydown(e);const l=this.selected;l&&o!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const n=this._keyManager,s=e.keyCode,r=40===s||38===s,a=n.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(a||13!==s&&32!==s||!n.activeItem||bs(e))if(!a&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const o=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(o?l.select():l.deselect())})}else{const o=n.activeItemIndex;n.onKeydown(e),this._multiple&&r&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==o&&n.activeItem._selectViaInteraction()}else e.preventDefault(),n.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(zi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{const n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const n=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(r){return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new Dde(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(pt(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(pt(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Zi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(pt(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Zi(...this.options.map(n=>n._stateChanges)).pipe(pt(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,n){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((n,s)=>this.sortComparator?this.sortComparator(n,s,e):e.indexOf(n)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let n=null;n=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const n=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(n?n+" ":"")+this.ariaLabelledby:n}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const n=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(n?n+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(e){return new(e||i)(x(Zr),x(Kt),x(st),x(Zu),x(ve),x(zn,8),x(Ko,8),x(ql,8),x(Ff,8),x(Hr,10),qn("tabindex"),x(gH),x($de),x(Ohe,8))},i.\u0275dir=j({type:i,viewQuery:function(e,n){if(1&e&&(Ct(She,5),Ct(Mhe,5),Ct(dH,5)),2&e){let s;Ce(s=Se())&&(n.trigger=s.first),Ce(s=Se())&&(n.panel=s.first),Ce(s=Se())&&(n._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Z,bt]}),i})(),_H=(()=>{class i extends zhe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,n,s){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-n+r/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(pt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const n=oT(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===n?0:function BV(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}((e+n)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Bhe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),n=this._viewportRuler.getViewportSize(),s=this._isRtl(),r=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let c=this._selectionModel.selected[0]||this.options.first;a=c&&c.group?32:16}s||(a*=-1);const o=0-(e.left+a-(s?r:0)),l=e.right+a-n.width+(s?0:r);o>0?a+=o+8:l>0&&(a-=l+8),this._overlayDir.offsetX=Math.round(a),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,n,s){const r=this._getItemHeight(),a=(r-this._triggerRect.height)/2,o=Math.floor(256/r);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*r:this._scrollTop===s?(e-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-256)%r):n-r/2,Math.round(-1*l-a))}_checkOverlayWithinViewport(e){const n=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,a=s.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*n,256)-o-this._triggerRect.height;c>a?this._adjustPanelUp(c,a):o>r?this._adjustPanelDown(o,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,n){const s=Math.round(e-n);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,n,s){const r=Math.round(e-n);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),n=this._getItemCount(),s=Math.min(n*e,256),a=n*e-s;let o;o=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),o+=oT(o,this.options,this.optionGroups);const l=s/2;this._scrollTop=this._calculateOverlayScroll(o,l,a),this._offsetY=this._calculateOverlayOffsetY(o,l,a),this._checkOverlayWithinViewport(a)}_getOriginBasedOnOption(){const e=this._getItemHeight(),n=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-n+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["mat-select"]],contentQueries:function(e,n,s){if(1&e&&(St(s,Hhe,5),St(s,aT,5),St(s,OV,5)),2&e){let r;Ce(r=Se())&&(n.customTrigger=r.first),Ce(r=Se())&&(n.options=r),Ce(r=Se())&&(n.optionGroups=r)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,n){1&e&&Le("keydown",function(r){return n._handleKeydown(r)})("focus",function(){return n._onFocus()})("blur",function(){return n._onBlur()}),2&e&&(Ae("id",n.id)("tabindex",n.tabIndex)("aria-controls",n.panelOpen?n.id+"-panel":null)("aria-expanded",n.panelOpen)("aria-label",n.ariaLabel||null)("aria-required",n.required.toString())("aria-disabled",n.disabled.toString())("aria-invalid",n.errorState)("aria-describedby",n._ariaDescribedby||null)("aria-activedescendant",n._getAriaActiveDescendant()),ut("mat-select-disabled",n.disabled)("mat-select-invalid",n.errorState)("mat-select-required",n.required)("mat-select-empty",n.empty)("mat-select-multiple",n.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Qe([{provide:Pf,useExisting:i},{provide:FV,useExisting:i}]),Z],ngContentSelectors:Ihe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,n){if(1&e&&(Ci(Rhe),A(0,"div",0,1),Le("click",function(){return n.toggle()}),A(3,"div",2),pe(4,The,2,1,"span",3),pe(5,Ehe,3,2,"span",4),E(),A(6,"div",5),fe(7,"div",6),E(),E(),pe(8,khe,4,14,"ng-template",7),Le("backdropClick",function(){return n.close()})("attach",function(){return n._onAttached()})("detach",function(){return n.close()})),2&e){const s=zs(1);Ae("aria-owns",n.panelOpen?n.id+"-panel":null),U(3),W("ngSwitch",n.empty),Ae("id",n._valueId),U(1),W("ngSwitchCase",!0),U(1),W("ngSwitchCase",!1),U(3),W("cdkConnectedOverlayPanelClass",n._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",n._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",n.panelOpen)("cdkConnectedOverlayPositions",n._positions)("cdkConnectedOverlayMinWidth",null==n._triggerRect?null:n._triggerRect.width)("cdkConnectedOverlayOffsetY",n._offsetY)}},directives:[cH,Xd,Dg,IL,dH,qd],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[pH.transformPanelWrap,pH.transformPanel]},changeDetection:0}),i})(),_T=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[Nhe],imports:[[Fi,Vc,by,et],ka,Of,by,et]}),i})();const vH=Kr({passive:!0});let Ghe=(()=>{class i{constructor(e,n){this._platform=e,this._ngZone=n,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return sa;const n=ln(e),s=this._monitoredElements.get(n);if(s)return s.subject;const r=new ke,a="cdk-text-field-autofilled",o=l=>{"cdk-text-field-autofill-start"!==l.animationName||n.classList.contains(a)?"cdk-text-field-autofill-end"===l.animationName&&n.classList.contains(a)&&(n.classList.remove(a),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1}))):(n.classList.add(a),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{n.addEventListener("animationstart",o,vH),n.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(n,{subject:r,unlisten:()=>{n.removeEventListener("animationstart",o,vH)}}),r}stopMonitoring(e){const n=ln(e),s=this._monitoredElements.get(n);s&&(s.unlisten(),s.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}}return i.\u0275fac=function(e){return new(e||i)($(on),$(st))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),yH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})();const xH=new ne("MAT_INPUT_VALUE_ACCESSOR"),Uhe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Whe=0;const jhe=eT(class{constructor(i,t,e,n){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=n}});let $he=(()=>{class i extends jhe{constructor(e,n,s,r,a,o,l,c,d,u){super(o,r,a,s),this._elementRef=e,this._platform=n,this._autofillMonitor=c,this._formField=u,this._uid="mat-input-"+Whe++,this.focused=!1,this.stateChanges=new ke,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(f=>dV().has(f)),this._iOSKeyupListener=f=>{const g=f.target;!g.value&&0===g.selectionStart&&0===g.selectionEnd&&(g.setSelectionRange(1,1),g.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,p=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,n.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===p,this._isTextarea="textarea"===p,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Ue(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,n,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(n=this.ngControl)||void 0===n?void 0:n.control)||void 0===s?void 0:s.hasValidator(Yl.required))&&void 0!==r&&r}set required(e){this._required=Ue(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dV().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Ue(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,n;const s=(null===(n=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===n?void 0:n.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=s,s?r.setAttribute("placeholder",s):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Uhe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(on),x(Hr,10),x(Ko,8),x(ql,8),x(Zu),x(xH,10),x(Ghe),x(st),x(Ff,8))},i.\u0275dir=j({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,n){1&e&&Le("focus",function(){return n._focusChanged(!0)})("blur",function(){return n._focusChanged(!1)})("input",function(){return n._onInput()}),2&e&&(ma("disabled",n.disabled)("required",n.required),Ae("id",n.id)("data-placeholder",n.placeholder)("name",n.name||null)("readonly",n.readonly&&!n._isNativeSelect||null)("aria-invalid",n.empty&&n.required?null:n.errorState)("aria-required",n.required),ut("mat-input-server",n._isServer)("mat-native-select-inline",n._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Qe([{provide:Pf,useExisting:i}]),Z,bt]}),i})(),bH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[Zu],imports:[[yH,Of,et],yH,Of]}),i})();const Yhe=["mat-button",""],qhe=["*"],Qhe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Khe=bo(xo(xr(class{constructor(i){this._elementRef=i}})));let Ay=(()=>{class i extends Khe{constructor(e,n,s){super(e),this._focusMonitor=n,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Qhe)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,n){e?this._focusMonitor.focusVia(this._getHostElement(),e,n):this._getHostElement().focus(n)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(n=>this._getHostElement().hasAttribute(n))}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(yo),x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,n){if(1&e&&Ct(br,5),2&e){let s;Ce(s=Se())&&(n.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,n){2&e&&(Ae("disabled",n.disabled||null),ut("_mat-animation-noopable","NoopAnimations"===n._animationMode)("mat-button-disabled",n.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Z],attrs:Yhe,ngContentSelectors:qhe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,n){1&e&&(Ci(),A(0,"span",0),At(1),E(),fe(2,"span",1),fe(3,"span",2)),2&e&&(U(2),ut("mat-button-ripple-round",n.isRoundButton||n.isIconButton),W("matRippleDisabled",n._isRippleDisabled())("matRippleCentered",n.isIconButton)("matRippleTrigger",n._getHostElement()))},directives:[br],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),Hc=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[wr,et],et]}),i})();const Zhe=["container"];function Jhe(i,t){1&i&&(A(0,"mat-option",18),we(1,"No Data"),E())}function epe(i,t){if(1&i&&(A(0,"mat-option",19),we(1),E()),2&i){const e=t.$implicit;W("value",e),U(1),un(e)}}function tpe(i,t){1&i&&(A(0,"mat-option",18),we(1,"No Data"),E())}function ipe(i,t){if(1&i&&(A(0,"mat-option",19),we(1),E()),2&i){const e=t.$implicit;W("value",e.id),U(1),ki("",e.name," ")}}let npe=(()=>{class i{constructor(e,n,s,r,a){this.scene=e,this.route=n,this.router=s,this.httpService=r,this.alertService=a,this.machineId="",this.connectionUrls=["192.162.78.21","192.162.78.22"],this.mappedmachines=[],this.machineForm=new h_({connectionUrl:new Rp("",[Yl.required]),mappedMachine:new Rp("",[Yl.required]),name:new Rp("",[Yl.required])}),this.route.params.subscribe(o=>{this.machineId=o.id,this.machine=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))))})}ngOnInit(){this.httpService.getMachines().subscribe(e=>{console.log(e)})}set container(e){const n=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))));this.scene.initialize(e.nativeElement,n)}createDigitalTwin(){const e=this.machineForm.value,n={machineId:this.machineId,name:e.name,connectionUrl:e.connectionUrl,mappedMachine:e.mappedMachine};console.log(this.machineForm.value),console.log(n),this.httpService.createDigitalTwin(n).subscribe(s=>{this.alertService.success("Digital Twin created",3,!0),this.router.navigateByUrl("/digital-twin")})}connectionUrlChanged(){this.mappedmachines=[{name:"Turbofan 45",id:1},{name:"Turbofan 56 ",id:2},{name:"Turbofan 34",id:3},{name:"Turbofan 33",id:4}]}}return i.\u0275fac=function(e){return new(e||i)(x(YS),x(Yo),x(On),x(Hv),x(nM))},i.\u0275cmp=Be({type:i,selectors:[["app-create-digital-twin"]],viewQuery:function(e,n){if(1&e&&Ct(Zhe,5),2&e){let s;Ce(s=Se())&&(n.container=s.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","75",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","24","fxLayout","column","fxLayoutAlign","start center",1,"right-content"],[1,"machine-name"],["matCardImage","",1,"machine-image",3,"src"],["fxLayout","column","fxLayoutAlign","start center",1,"form","create-twin",3,"formGroup"],["appearance","outline"],["required","","formControlName","connectionUrl",3,"selectionChange"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","mappedMachine"],["required","","matInput","","formControlName","name"],["mat-flat-button","",1,"button",3,"disabled","click"],["disabled",""],[3,"value"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"div",1),fe(2,"div",2,3),A(4,"div",4),fe(5,"div",5),fe(6,"div",6),E(),E(),A(7,"div",7),A(8,"h1",8),we(9),E(),fe(10,"img",9),A(11,"form",10),A(12,"mat-form-field",11),A(13,"mat-label"),we(14,"Connection url"),E(),A(15,"mat-select",12),Le("selectionChange",function(){return n.connectionUrlChanged()}),pe(16,Jhe,2,0,"mat-option",13),pe(17,epe,2,2,"mat-option",14),E(),E(),A(18,"mat-form-field",11),A(19,"mat-label"),we(20,"Select Machine"),E(),A(21,"mat-select",15),pe(22,tpe,2,0,"mat-option",13),pe(23,ipe,2,2,"mat-option",14),E(),E(),A(24,"mat-form-field",11),A(25,"mat-label"),we(26,"Name"),E(),fe(27,"input",16),E(),E(),A(28,"button",17),Le("click",function(){return n.createDigitalTwin()}),we(29,"Create Digital Twin"),E(),E(),E()),2&e&&(U(9),un(null==n.machine?null:n.machine.name),U(1),W("src",n.machine.imageUrl,xd),U(1),W("formGroup",n.machineForm),U(5),W("ngIf",n.connectionUrls.length<1),U(1),W("ngForOf",n.connectionUrls),U(5),W("ngIf",n.mappedmachines.length<1),U(1),W("ngForOf",n.mappedmachines),U(5),W("disabled",n.machineForm.invalid))},directives:[yl,ju,Df,lT,p_,s_,ql,$V,wy,_H,f_,PF,pC,Mi,aT,Ts,$he,i_,Ay],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.right-content[_ngcontent-%COMP%]{background:#fff;height:100vh;padding:20px 0}.form[_ngcontent-%COMP%]{width:80%}.mat-form-field[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{width:50%;height:60px;font-size:20px;color:#fff;background:#16c3d5}.form.create-twin[_ngcontent-%COMP%]{margin-top:20px}.machine-image[_ngcontent-%COMP%]{width:90%}"]}),i})();function spe(i,t){1&i&&At(0)}const wH=["*"];function rpe(i,t){}const ape=function(i){return{animationDuration:i}},ope=function(i,t){return{value:i,params:t}},lpe=["tabListContainer"],cpe=["tabList"],dpe=["tabListInner"],upe=["nextPaginator"],hpe=["previousPaginator"],ppe=["tabBodyWrapper"],fpe=["tabHeader"];function mpe(i,t){}function gpe(i,t){1&i&&pe(0,mpe,0,0,"ng-template",10),2&i&&W("cdkPortalOutlet",ue().$implicit.templateLabel)}function _pe(i,t){1&i&&we(0),2&i&&un(ue().$implicit.textLabel)}function vpe(i,t){if(1&i){const e=tn();A(0,"div",6),Le("click",function(){const s=Qt(e),r=s.$implicit,a=s.index,o=ue(),l=zs(1);return o._handleClick(r,l,a)})("cdkFocusChange",function(s){const a=Qt(e).index;return ue()._tabFocusChanged(s,a)}),A(1,"div",7),pe(2,gpe,1,1,"ng-template",8),pe(3,_pe,1,1,"ng-template",null,9,$b),E(),E()}if(2&i){const e=t.$implicit,n=t.index,s=zs(4),r=ue();ut("mat-tab-label-active",r.selectedIndex===n),W("id",r._getTabLabelId(n))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),Ae("tabIndex",r._getTabIndex(e,n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),U(2),W("ngIf",e.templateLabel)("ngIfElse",s)}}function ype(i,t){if(1&i){const e=tn();A(0,"mat-tab-body",11),Le("_onCentered",function(){return Qt(e),ue()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return Qt(e),ue()._setTabBodyWrapperHeight(s)}),E()}if(2&i){const e=t.$implicit,n=t.index,s=ue();ut("mat-tab-body-active",s.selectedIndex===n),W("id",s._getTabContentId(n))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),Ae("tabindex",null!=s.contentTabIndex&&s.selectedIndex===n?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(n))}}const xpe=new ne("MatInkBarPositioner",{providedIn:"root",factory:function bpe(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let CH=(()=>{class i{constructor(e,n,s,r){this._elementRef=e,this._ngZone=n,this._inkBarPositioner=s,this._animationMode=r}alignToElement(e){this.show(),this._ngZone.onStable.pipe(zi(1)).subscribe(()=>{const n=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=n.left,s.style.width=n.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(st),x(xpe),x(yn,8))},i.\u0275dir=j({type:i,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,n){2&e&&ut("_mat-animation-noopable","NoopAnimations"===n._animationMode)}}),i})();const wpe=new ne("MatTabContent"),Cpe=new ne("MatTabLabel"),Spe=new ne("MAT_TAB"),Mpe=xo(class{}),SH=new ne("MAT_TAB_GROUP");let MH=(()=>{class i extends Mpe{constructor(e,n){super(),this._viewContainerRef=e,this._closestTabGroup=n,this.textLabel="",this._contentPortal=null,this._stateChanges=new ke,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new My(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(SH,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-tab"]],contentQueries:function(e,n,s){if(1&e&&(St(s,Cpe,5),St(s,wpe,7,nn)),2&e){let r;Ce(r=Se())&&(n.templateLabel=r.first),Ce(r=Se())&&(n._explicitContent=r.first)}},viewQuery:function(e,n){if(1&e&&Ct(nn,7),2&e){let s;Ce(s=Se())&&(n._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Qe([{provide:Spe,useExisting:i}]),Z,bt],ngContentSelectors:wH,decls:1,vars:0,template:function(e,n){1&e&&(Ci(),pe(0,spe,1,0,"ng-template"))},encapsulation:2}),i})();const Tpe={translateTab:bi("translateTab",[Lt("center, void, left-origin-center, right-origin-center",Pe({transform:"none"})),Lt("left",Pe({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Lt("right",Pe({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Rt("* => left, * => right, left => center, right => center",Bt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Rt("void => left-origin-center",[Pe({transform:"translate3d(-100%, 0, 0)"}),Bt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Rt("void => right-origin-center",[Pe({transform:"translate3d(100%, 0, 0)"}),Bt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Dpe=(()=>{class i extends fT{constructor(e,n,s,r){super(e,n,r),this._host=s,this._centeringSub=_t.EMPTY,this._leavingSub=_t.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ds(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(x(ga),x(Pi),x(Ht(()=>TH)),x(mt))},i.\u0275dir=j({type:i,selectors:[["","matTabBodyHost",""]],features:[Z]}),i})(),Ape=(()=>{class i{constructor(e,n,s){this._elementRef=e,this._dir=n,this._dirChangeSubscription=_t.EMPTY,this._translateTabComplete=new ke,this._onCentering=new ge,this._beforeCentering=new ge,this._afterLeavingCenter=new ge,this._onCentered=new ge(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe(r=>{this._computePositionAnimationState(r),s.markForCheck()})),this._translateTabComplete.pipe(gy((r,a)=>r.fromState===a.fromState&&r.toState===a.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const n=this._isCenterPosition(e.toState);this._beforeCentering.emit(n),n&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const n=this._getLayoutDirection();return"ltr"==n&&e<=0||"rtl"==n&&e>0?"left-origin-center":"right-origin-center"}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(zn,8),x(Kt))},i.\u0275dir=j({type:i,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),i})(),TH=(()=>{class i extends Ape{constructor(e,n,s){super(e,n,s)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(zn,8),x(Kt))},i.\u0275cmp=Be({type:i,selectors:[["mat-tab-body"]],viewQuery:function(e,n){if(1&e&&Ct(fT,5),2&e){let s;Ce(s=Se())&&(n._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[Z],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,n){1&e&&(A(0,"div",0,1),Le("@translateTab.start",function(r){return n._onTranslateTabStarted(r)})("@translateTab.done",function(r){return n._translateTabComplete.next(r)}),pe(2,rpe,0,0,"ng-template",2),E()),2&e&&W("@translateTab",og(3,ope,n._position,Nl(1,ape,n.animationDuration)))},directives:[Dpe],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[Tpe.translateTab]}}),i})();const DH=new ne("MAT_TABS_CONFIG"),Epe=xo(class{});let AH=(()=>{class i extends Epe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return i.\u0275fac=function(e){return new(e||i)(x(ve))},i.\u0275dir=j({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,n){2&e&&(Ae("aria-disabled",!!n.disabled),ut("mat-tab-disabled",n.disabled))},inputs:{disabled:"disabled"},features:[Z]}),i})();const EH=Kr({passive:!0});let Ipe=(()=>{class i{constructor(e,n,s,r,a,o,l){this._elementRef=e,this._changeDetectorRef=n,this._viewportRuler=s,this._dir=r,this._ngZone=a,this._platform=o,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ke,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ke,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new ge,this.indexFocused=new ge,a.runOutsideAngular(()=>{Zs(e.nativeElement,"mouseleave").pipe(pt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Gn(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Zs(this._previousPaginator.nativeElement,"touchstart",EH).pipe(pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Zs(this._nextPaginator.nativeElement,"touchstart",EH).pipe(pt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:ht("ltr"),n=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new qM(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(zi(1)).subscribe(s),Zi(e,n,this._items.changes).pipe(pt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(pt(this._destroyed)).subscribe(r=>{this.indexFocused.emit(r),this._setTabFocus(r)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!bs(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const n=this._items?this._items.toArray()[e]:null;return!!n&&!n.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const n=this._tabListContainer.nativeElement;n.scrollLeft="ltr"==this._getLayoutDirection()?0:n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const n=this._items?this._items.toArray()[e]:null;if(!n)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=n.elementRef.nativeElement;let o,l;"ltr"==this._getLayoutDirection()?(o=r,l=o+a):(l=this._tabListInner.nativeElement.offsetWidth-r,o=l-a);const c=this.scrollDistance,d=this.scrollDistance+s;o<c?this.scrollDistance-=c-o+60:l>d&&(this.scrollDistance+=l-d+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&null!=n.button&&0!==n.button||(this._stopInterval(),Sf(650,100).pipe(pt(Zi(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:r}=this._scrollHeader(e);(0===r||r>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(Zr),x(zn,8),x(st),x(on),x(yn,8))},i.\u0275dir=j({type:i,inputs:{disablePagination:"disablePagination"}}),i})(),Lpe=(()=>{class i extends Ipe{constructor(e,n,s,r,a,o,l){super(e,n,s,r,a,o,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ue(e)}_itemSelected(e){e.preventDefault()}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(Zr),x(zn,8),x(st),x(on),x(yn,8))},i.\u0275dir=j({type:i,inputs:{disableRipple:"disableRipple"},features:[Z]}),i})(),Ppe=(()=>{class i extends Lpe{constructor(e,n,s,r,a,o,l){super(e,n,s,r,a,o,l)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(Zr),x(zn,8),x(st),x(on),x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-tab-header"]],contentQueries:function(e,n,s){if(1&e&&St(s,AH,4),2&e){let r;Ce(r=Se())&&(n._items=r)}},viewQuery:function(e,n){if(1&e&&(Ct(CH,7),Ct(lpe,7),Ct(cpe,7),Ct(dpe,7),Ct(upe,5),Ct(hpe,5)),2&e){let s;Ce(s=Se())&&(n._inkBar=s.first),Ce(s=Se())&&(n._tabListContainer=s.first),Ce(s=Se())&&(n._tabList=s.first),Ce(s=Se())&&(n._tabListInner=s.first),Ce(s=Se())&&(n._nextPaginator=s.first),Ce(s=Se())&&(n._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,n){2&e&&ut("mat-tab-header-pagination-controls-enabled",n._showPaginationControls)("mat-tab-header-rtl","rtl"==n._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Z],ngContentSelectors:wH,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,n){1&e&&(Ci(),A(0,"button",0,1),Le("click",function(){return n._handlePaginatorClick("before")})("mousedown",function(r){return n._handlePaginatorPress("before",r)})("touchend",function(){return n._stopInterval()}),fe(2,"div",2),E(),A(3,"div",3,4),Le("keydown",function(r){return n._handleKeydown(r)}),A(5,"div",5,6),Le("cdkObserveContent",function(){return n._onContentChanges()}),A(7,"div",7,8),At(9),E(),fe(10,"mat-ink-bar"),E(),E(),A(11,"button",9,10),Le("mousedown",function(r){return n._handlePaginatorPress("after",r)})("click",function(){return n._handlePaginatorClick("after")})("touchend",function(){return n._stopInterval()}),fe(13,"div",2),E()),2&e&&(ut("mat-tab-header-pagination-disabled",n._disableScrollBefore),W("matRippleDisabled",n._disableScrollBefore||n.disableRipple)("disabled",n._disableScrollBefore||null),U(5),ut("_mat-animation-noopable","NoopAnimations"===n._animationMode),U(6),ut("mat-tab-header-pagination-disabled",n._disableScrollAfter),W("matRippleDisabled",n._disableScrollAfter||n.disableRipple)("disabled",n._disableScrollAfter||null))},directives:[br,_y,CH],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),i})(),Fpe=0;class Ope{}const Npe=bo(xr(class{constructor(i){this._elementRef=i}}),"primary");let Bpe=(()=>{class i extends Npe{constructor(e,n,s,r){var a;super(e),this._changeDetectorRef=n,this._animationMode=r,this._tabs=new Bl,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=_t.EMPTY,this._tabLabelSubscription=_t.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new ge,this.focusChange=new ge,this.animationDone=new ge,this.selectedTabChange=new ge(!0),this._groupId=Fpe++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(a=null==s?void 0:s.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Ue(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Gn(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Gn(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const n=this._elementRef.nativeElement;n.classList.remove(`mat-background-${this.backgroundColor}`),e&&n.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const n=null==this._selectedIndex;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,r)=>s.isActive=r===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,s)=>{n.position=s-e,null!=this._selectedIndex&&0==n.position&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const n=this._tabs.toArray();let s;for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,s=n[r];break}!s&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ds(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const n=new Ope;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Zi(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,n,s){e.disabled||(this.selectedIndex=n.focusIndex=s)}_getTabIndex(e,n){var s;return e.disabled?null:n===(null!==(s=this._lastFocusedTabIndex)&&void 0!==s?s:this.selectedIndex)?0:-1}_tabFocusChanged(e,n){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=n)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(DH,8),x(yn,8))},i.\u0275dir=j({type:i,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Z]}),i})(),Vpe=(()=>{class i extends Bpe{constructor(e,n,s,r){super(e,n,s,r)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(DH,8),x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-tab-group"]],contentQueries:function(e,n,s){if(1&e&&St(s,MH,5),2&e){let r;Ce(r=Se())&&(n._allTabs=r)}},viewQuery:function(e,n){if(1&e&&(Ct(ppe,5),Ct(fpe,5)),2&e){let s;Ce(s=Se())&&(n._tabBodyWrapper=s.first),Ce(s=Se())&&(n._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,n){2&e&&ut("mat-tab-group-dynamic-height",n.dynamicHeight)("mat-tab-group-inverted-header","below"===n.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Qe([{provide:SH,useExisting:i}]),Z],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,n){1&e&&(A(0,"mat-tab-header",0,1),Le("indexFocused",function(r){return n._focusChanged(r)})("selectFocusedIndex",function(r){return n.selectedIndex=r}),pe(2,vpe,5,15,"div",2),E(),A(3,"div",3,4),pe(5,ype,1,10,"mat-tab-body",5),E()),2&e&&(W("selectedIndex",n.selectedIndex||0)("disableRipple",n.disableRipple)("disablePagination",n.disablePagination),U(2),W("ngForOf",n._tabs),U(1),ut("_mat-animation-noopable","NoopAnimations"===n._animationMode),U(2),W("ngForOf",n._tabs))},directives:[Ppe,TH,Ts,AH,br,qde,qd,Mi,fT],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),i})(),RH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et,Nc,wr,If,yy],et]}),i})();function Upe(){}function yT(i){return null==i?Upe:function(){return this.querySelector(i)}}function FH(i){return"object"==typeof i&&"length"in i?i:Array.from(i)}function jpe(){return[]}function OH(i){return null==i?jpe:function(){return this.querySelectorAll(i)}}function NH(i){return function(){return this.matches(i)}}function BH(i){return function(t){return t.matches(i)}}var qpe=Array.prototype.find;function Qpe(){return this.firstElementChild}var Zpe=Array.prototype.filter;function Jpe(){return this.children}function VH(i){return new Array(i.length)}function ky(i,t){this.ownerDocument=i.ownerDocument,this.namespaceURI=i.namespaceURI,this._next=null,this._parent=i,this.__data__=t}function sfe(i){return function(){return i}}function rfe(i,t,e,n,s,r){for(var o,a=0,l=t.length,c=r.length;a<c;++a)(o=t[a])?(o.__data__=r[a],n[a]=o):e[a]=new ky(i,r[a]);for(;a<l;++a)(o=t[a])&&(s[a]=o)}function afe(i,t,e,n,s,r,a){var o,l,p,c=new Map,d=t.length,u=r.length,h=new Array(d);for(o=0;o<d;++o)(l=t[o])&&(h[o]=p=a.call(l,l.__data__,o,t)+"",c.has(p)?s[o]=l:c.set(p,l));for(o=0;o<u;++o)p=a.call(i,r[o],o,r)+"",(l=c.get(p))?(n[o]=l,l.__data__=r[o],c.delete(p)):e[o]=new ky(i,r[o]);for(o=0;o<d;++o)(l=t[o])&&c.get(h[o])===l&&(s[o]=l)}function ofe(i){return i.__data__}function ffe(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}ky.prototype={constructor:ky,appendChild:function(i){return this._parent.insertBefore(i,this._next)},insertBefore:function(i,t){return this._parent.insertBefore(i,t)},querySelector:function(i){return this._parent.querySelector(i)},querySelectorAll:function(i){return this._parent.querySelectorAll(i)}};var xT="http://www.w3.org/1999/xhtml";const HH={svg:"http://www.w3.org/2000/svg",xhtml:xT,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ry(i){var t=i+="",e=t.indexOf(":");return e>=0&&"xmlns"!==(t=i.slice(0,e))&&(i=i.slice(e+1)),HH.hasOwnProperty(t)?{space:HH[t],local:i}:i}function bfe(i){return function(){this.removeAttribute(i)}}function wfe(i){return function(){this.removeAttributeNS(i.space,i.local)}}function Cfe(i,t){return function(){this.setAttribute(i,t)}}function Sfe(i,t){return function(){this.setAttributeNS(i.space,i.local,t)}}function Mfe(i,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttribute(i):this.setAttribute(i,e)}}function Tfe(i,t){return function(){var e=t.apply(this,arguments);null==e?this.removeAttributeNS(i.space,i.local):this.setAttributeNS(i.space,i.local,e)}}function zH(i){return i.ownerDocument&&i.ownerDocument.defaultView||i.document&&i||i.defaultView}function Afe(i){return function(){this.style.removeProperty(i)}}function Efe(i,t,e){return function(){this.style.setProperty(i,t,e)}}function kfe(i,t,e){return function(){var n=t.apply(this,arguments);null==n?this.style.removeProperty(i):this.style.setProperty(i,n,e)}}function eh(i,t){return i.style.getPropertyValue(t)||zH(i).getComputedStyle(i,null).getPropertyValue(t)}function Ife(i){return function(){delete this[i]}}function Lfe(i,t){return function(){this[i]=t}}function Pfe(i,t){return function(){var e=t.apply(this,arguments);null==e?delete this[i]:this[i]=e}}function GH(i){return i.trim().split(/^|\s+/)}function bT(i){return i.classList||new UH(i)}function UH(i){this._node=i,this._names=GH(i.getAttribute("class")||"")}function WH(i,t){for(var e=bT(i),n=-1,s=t.length;++n<s;)e.add(t[n])}function jH(i,t){for(var e=bT(i),n=-1,s=t.length;++n<s;)e.remove(t[n])}function Ofe(i){return function(){WH(this,i)}}function Nfe(i){return function(){jH(this,i)}}function Bfe(i,t){return function(){(t.apply(this,arguments)?WH:jH)(this,i)}}function Hfe(){this.textContent=""}function zfe(i){return function(){this.textContent=i}}function Gfe(i){return function(){var t=i.apply(this,arguments);this.textContent=null==t?"":t}}function Wfe(){this.innerHTML=""}function jfe(i){return function(){this.innerHTML=i}}function $fe(i){return function(){var t=i.apply(this,arguments);this.innerHTML=null==t?"":t}}function qfe(){this.nextSibling&&this.parentNode.appendChild(this)}function Qfe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zfe(i){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===xT&&t.documentElement.namespaceURI===xT?t.createElement(i):t.createElementNS(e,i)}}function Jfe(i){return function(){return this.ownerDocument.createElementNS(i.space,i.local)}}function $H(i){var t=Ry(i);return(t.local?Jfe:Zfe)(t)}function tme(){return null}function nme(){var i=this.parentNode;i&&i.removeChild(this)}function rme(){var i=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function ame(){var i=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(i,this.nextSibling):i}function dme(i){return i.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function ume(i){return function(){var t=this.__on;if(t){for(var r,e=0,n=-1,s=t.length;e<s;++e)r=t[e],i.type&&r.type!==i.type||r.name!==i.name?t[++n]=r:this.removeEventListener(r.type,r.listener,r.options);++n?t.length=n:delete this.__on}}}function hme(i,t,e){return function(){var s,n=this.__on,r=function cme(i){return function(t){i.call(this,t,this.__data__)}}(t);if(n)for(var a=0,o=n.length;a<o;++a)if((s=n[a]).type===i.type&&s.name===i.name)return this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=r,s.options=e),void(s.value=t);this.addEventListener(i.type,r,e),s={type:i.type,name:i.name,value:t,listener:r,options:e},n?n.push(s):this.__on=[s]}}function YH(i,t,e){var n=zH(i),s=n.CustomEvent;"function"==typeof s?s=new s(t,e):(s=n.document.createEvent("Event"),e?(s.initEvent(t,e.bubbles,e.cancelable),s.detail=e.detail):s.initEvent(t,!1,!1)),i.dispatchEvent(s)}function fme(i,t){return function(){return YH(this,i,t)}}function mme(i,t){return function(){return YH(this,i,t.apply(this,arguments))}}UH.prototype={add:function(i){this._names.indexOf(i)<0&&(this._names.push(i),this._node.setAttribute("class",this._names.join(" ")))},remove:function(i){var t=this._names.indexOf(i);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(i){return this._names.indexOf(i)>=0}};var qH=[null];function As(i,t){this._groups=i,this._parents=t}function XH(){return new As([[document.documentElement]],qH)}As.prototype=XH.prototype={constructor:As,select:function Wpe(i){"function"!=typeof i&&(i=yT(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var l,c,r=t[s],a=r.length,o=n[s]=new Array(a),d=0;d<a;++d)(l=r[d])&&(c=i.call(l,l.__data__,d,r))&&("__data__"in l&&(c.__data__=l.__data__),o[d]=c);return new As(n,this._parents)},selectAll:function Ype(i){i="function"==typeof i?function $pe(i){return function(){var t=i.apply(this,arguments);return null==t?[]:FH(t)}}(i):OH(i);for(var t=this._groups,e=t.length,n=[],s=[],r=0;r<e;++r)for(var l,a=t[r],o=a.length,c=0;c<o;++c)(l=a[c])&&(n.push(i.call(l,l.__data__,c,a)),s.push(l));return new As(n,s)},selectChild:function Kpe(i){return this.select(null==i?Qpe:function Xpe(i){return function(){return qpe.call(this.children,i)}}("function"==typeof i?i:BH(i)))},selectChildren:function tfe(i){return this.selectAll(null==i?Jpe:function efe(i){return function(){return Zpe.call(this.children,i)}}("function"==typeof i?i:BH(i)))},filter:function ife(i){"function"!=typeof i&&(i=NH(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var l,r=t[s],a=r.length,o=n[s]=[],c=0;c<a;++c)(l=r[c])&&i.call(l,l.__data__,c,r)&&o.push(l);return new As(n,this._parents)},data:function lfe(i,t){if(!arguments.length)return Array.from(this,ofe);var e=t?afe:rfe,n=this._parents,s=this._groups;"function"!=typeof i&&(i=sfe(i));for(var r=s.length,a=new Array(r),o=new Array(r),l=new Array(r),c=0;c<r;++c){var d=n[c],u=s[c],h=u.length,p=FH(i.call(d,d&&d.__data__,c,n)),f=p.length,g=o[c]=new Array(f),m=a[c]=new Array(f),_=l[c]=new Array(h);e(d,u,g,m,_,p,t);for(var b,w,v=0,y=0;v<f;++v)if(b=g[v]){for(v>=y&&(y=v+1);!(w=m[y])&&++y<f;);b._next=w||null}}return(a=new As(a,n))._enter=o,a._exit=l,a},enter:function nfe(){return new As(this._enter||this._groups.map(VH),this._parents)},exit:function cfe(){return new As(this._exit||this._groups.map(VH),this._parents)},join:function dfe(i,t,e){var n=this.enter(),s=this,r=this.exit();return n="function"==typeof i?i(n):n.append(i+""),null!=t&&(s=t(s)),null==e?r.remove():e(r),n&&s?n.merge(s).order():s},merge:function ufe(i){if(!(i instanceof As))throw new Error("invalid merge");for(var t=this._groups,e=i._groups,n=t.length,r=Math.min(n,e.length),a=new Array(n),o=0;o<r;++o)for(var h,l=t[o],c=e[o],d=l.length,u=a[o]=new Array(d),p=0;p<d;++p)(h=l[p]||c[p])&&(u[p]=h);for(;o<n;++o)a[o]=t[o];return new As(a,this._parents)},selection:function vme(){return this},order:function hfe(){for(var i=this._groups,t=-1,e=i.length;++t<e;)for(var a,n=i[t],s=n.length-1,r=n[s];--s>=0;)(a=n[s])&&(r&&4^a.compareDocumentPosition(r)&&r.parentNode.insertBefore(a,r),r=a);return this},sort:function pfe(i){function t(u,h){return u&&h?i(u.__data__,h.__data__):!u-!h}i||(i=ffe);for(var e=this._groups,n=e.length,s=new Array(n),r=0;r<n;++r){for(var c,a=e[r],o=a.length,l=s[r]=new Array(o),d=0;d<o;++d)(c=a[d])&&(l[d]=c);l.sort(t)}return new As(s,this._parents).order()},call:function mfe(){var i=arguments[0];return arguments[0]=this,i.apply(null,arguments),this},nodes:function gfe(){return Array.from(this)},node:function _fe(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var n=i[t],s=0,r=n.length;s<r;++s){var a=n[s];if(a)return a}return null},size:function vfe(){let i=0;for(const t of this)++i;return i},empty:function yfe(){return!this.node()},each:function xfe(i){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o,s=t[e],r=0,a=s.length;r<a;++r)(o=s[r])&&i.call(o,o.__data__,r,s);return this},attr:function Dfe(i,t){var e=Ry(i);if(arguments.length<2){var n=this.node();return e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}return this.each((null==t?e.local?wfe:bfe:"function"==typeof t?e.local?Tfe:Mfe:e.local?Sfe:Cfe)(e,t))},style:function Rfe(i,t,e){return arguments.length>1?this.each((null==t?Afe:"function"==typeof t?kfe:Efe)(i,t,null==e?"":e)):eh(this.node(),i)},property:function Ffe(i,t){return arguments.length>1?this.each((null==t?Ife:"function"==typeof t?Pfe:Lfe)(i,t)):this.node()[i]},classed:function Vfe(i,t){var e=GH(i+"");if(arguments.length<2){for(var n=bT(this.node()),s=-1,r=e.length;++s<r;)if(!n.contains(e[s]))return!1;return!0}return this.each(("function"==typeof t?Bfe:t?Ofe:Nfe)(e,t))},text:function Ufe(i){return arguments.length?this.each(null==i?Hfe:("function"==typeof i?Gfe:zfe)(i)):this.node().textContent},html:function Yfe(i){return arguments.length?this.each(null==i?Wfe:("function"==typeof i?$fe:jfe)(i)):this.node().innerHTML},raise:function Xfe(){return this.each(qfe)},lower:function Kfe(){return this.each(Qfe)},append:function eme(i){var t="function"==typeof i?i:$H(i);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function ime(i,t){var e="function"==typeof i?i:$H(i),n=null==t?tme:"function"==typeof t?t:yT(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function sme(){return this.each(nme)},clone:function ome(i){return this.select(i?ame:rme)},datum:function lme(i){return arguments.length?this.property("__data__",i):this.node().__data__},on:function pme(i,t,e){var s,a,n=dme(i+""),r=n.length;if(!(arguments.length<2)){for(o=t?hme:ume,s=0;s<r;++s)this.each(o(n[s],t,e));return this}var o=this.node().__on;if(o)for(var d,l=0,c=o.length;l<c;++l)for(s=0,d=o[l];s<r;++s)if((a=n[s]).type===d.type&&a.name===d.name)return d.value},dispatch:function gme(i,t){return this.each(("function"==typeof t?mme:fme)(i,t))},[Symbol.iterator]:function*_me(){for(var i=this._groups,t=0,e=i.length;t<e;++t)for(var a,n=i[t],s=0,r=n.length;s<r;++s)(a=n[s])&&(yield a)}};const zf=XH;function Cr(i){return"string"==typeof i?new As([[document.querySelector(i)]],[document.documentElement]):new As([[i]],qH)}var yme={value:()=>{}};function QH(){for(var n,i=0,t=arguments.length,e={};i<t;++i){if(!(n=arguments[i]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new Iy(e)}function Iy(i){this._=i}function xme(i,t){return i.trim().split(/^|\s+/).map(function(e){var n="",s=e.indexOf(".");if(s>=0&&(n=e.slice(s+1),e=e.slice(0,s)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}function bme(i,t){for(var s,e=0,n=i.length;e<n;++e)if((s=i[e]).name===t)return s.value}function KH(i,t,e){for(var n=0,s=i.length;n<s;++n)if(i[n].name===t){i[n]=yme,i=i.slice(0,n).concat(i.slice(n+1));break}return null!=e&&i.push({name:t,value:e}),i}Iy.prototype=QH.prototype={constructor:Iy,on:function(i,t){var s,e=this._,n=xme(i+"",e),r=-1,a=n.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<a;)if(s=(i=n[r]).type)e[s]=KH(e[s],i.name,t);else if(null==t)for(s in e)e[s]=KH(e[s],i.name,null);return this}for(;++r<a;)if((s=(i=n[r]).type)&&(s=bme(e[s],i.name)))return s},copy:function(){var i={},t=this._;for(var e in t)i[e]=t[e].slice();return new Iy(i)},call:function(i,t){if((s=arguments.length-2)>0)for(var s,r,e=new Array(s),n=0;n<s;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(n=0,s=(r=this._[i]).length;n<s;++n)r[n].value.apply(t,e)},apply:function(i,t,e){if(!this._.hasOwnProperty(i))throw new Error("unknown type: "+i);for(var n=this._[i],s=0,r=n.length;s<r;++s)n[s].value.apply(t,e)}};const ZH=QH;function wT(i){i.preventDefault(),i.stopImmediatePropagation()}function wme(i){var t=i.document.documentElement,e=Cr(i).on("dragstart.drag",wT,!0);"onselectstart"in t?e.on("selectstart.drag",wT,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Cme(i,t){var e=i.document.documentElement,n=Cr(i).on("dragstart.drag",null);t&&(n.on("click.drag",wT,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in e?n.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function CT(i,t,e){i.prototype=t.prototype=e,e.constructor=i}function JH(i,t){var e=Object.create(i.prototype);for(var n in t)e[n]=t[n];return e}function Gf(){}var Ly=1/.7,th="\\s*([+-]?\\d+)\\s*",Wf="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ra="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Sme=/^#([0-9a-f]{3,8})$/,Mme=new RegExp("^rgb\\("+[th,th,th]+"\\)$"),Tme=new RegExp("^rgb\\("+[Ra,Ra,Ra]+"\\)$"),Dme=new RegExp("^rgba\\("+[th,th,th,Wf]+"\\)$"),Ame=new RegExp("^rgba\\("+[Ra,Ra,Ra,Wf]+"\\)$"),Eme=new RegExp("^hsl\\("+[Wf,Ra,Ra]+"\\)$"),kme=new RegExp("^hsla\\("+[Wf,Ra,Ra,Wf]+"\\)$"),ez={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function tz(){return this.rgb().formatHex()}function iz(){return this.rgb().formatRgb()}function zc(i){var t,e;return i=(i+"").trim().toLowerCase(),(t=Sme.exec(i))?(e=t[1].length,t=parseInt(t[1],16),6===e?nz(t):3===e?new Js(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===e?Py(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===e?Py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Mme.exec(i))?new Js(t[1],t[2],t[3],1):(t=Tme.exec(i))?new Js(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Dme.exec(i))?Py(t[1],t[2],t[3],t[4]):(t=Ame.exec(i))?Py(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Eme.exec(i))?az(t[1],t[2]/100,t[3]/100,1):(t=kme.exec(i))?az(t[1],t[2]/100,t[3]/100,t[4]):ez.hasOwnProperty(i)?nz(ez[i]):"transparent"===i?new Js(NaN,NaN,NaN,0):null}function nz(i){return new Js(i>>16&255,i>>8&255,255&i,1)}function Py(i,t,e,n){return n<=0&&(i=t=e=NaN),new Js(i,t,e,n)}function Ime(i){return i instanceof Gf||(i=zc(i)),i?new Js((i=i.rgb()).r,i.g,i.b,i.opacity):new Js}function Fy(i,t,e,n){return 1===arguments.length?Ime(i):new Js(i,t,e,null==n?1:n)}function Js(i,t,e,n){this.r=+i,this.g=+t,this.b=+e,this.opacity=+n}function sz(){return"#"+ST(this.r)+ST(this.g)+ST(this.b)}function rz(){var i=this.opacity;return(1===(i=isNaN(i)?1:Math.max(0,Math.min(1,i)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===i?")":", "+i+")")}function ST(i){return((i=Math.max(0,Math.min(255,Math.round(i)||0)))<16?"0":"")+i.toString(16)}function az(i,t,e,n){return n<=0?i=t=e=NaN:e<=0||e>=1?i=t=NaN:t<=0&&(i=NaN),new Ia(i,t,e,n)}function oz(i){if(i instanceof Ia)return new Ia(i.h,i.s,i.l,i.opacity);if(i instanceof Gf||(i=zc(i)),!i)return new Ia;if(i instanceof Ia)return i;var t=(i=i.rgb()).r/255,e=i.g/255,n=i.b/255,s=Math.min(t,e,n),r=Math.max(t,e,n),a=NaN,o=r-s,l=(r+s)/2;return o?(a=t===r?(e-n)/o+6*(e<n):e===r?(n-t)/o+2:(t-e)/o+4,o/=l<.5?r+s:2-r-s,a*=60):o=l>0&&l<1?0:a,new Ia(a,o,l,i.opacity)}function Ia(i,t,e,n){this.h=+i,this.s=+t,this.l=+e,this.opacity=+n}function MT(i,t,e){return 255*(i<60?t+(e-t)*i/60:i<180?e:i<240?t+(e-t)*(240-i)/60:t)}function lz(i,t,e,n,s){var r=i*i,a=r*i;return((1-3*i+3*r-a)*t+(4-6*r+3*a)*e+(1+3*i+3*r-3*a)*n+a*s)/6}CT(Gf,zc,{copy:function(i){return Object.assign(new this.constructor,this,i)},displayable:function(){return this.rgb().displayable()},hex:tz,formatHex:tz,formatHsl:function Rme(){return oz(this).formatHsl()},formatRgb:iz,toString:iz}),CT(Js,Fy,JH(Gf,{brighter:function(i){return i=null==i?Ly:Math.pow(Ly,i),new Js(this.r*i,this.g*i,this.b*i,this.opacity)},darker:function(i){return i=null==i?.7:Math.pow(.7,i),new Js(this.r*i,this.g*i,this.b*i,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sz,formatHex:sz,formatRgb:rz,toString:rz})),CT(Ia,function Lme(i,t,e,n){return 1===arguments.length?oz(i):new Ia(i,t,e,null==n?1:n)},JH(Gf,{brighter:function(i){return i=null==i?Ly:Math.pow(Ly,i),new Ia(this.h,this.s,this.l*i,this.opacity)},darker:function(i){return i=null==i?.7:Math.pow(.7,i),new Ia(this.h,this.s,this.l*i,this.opacity)},rgb:function(){var i=this.h%360+360*(this.h<0),t=isNaN(i)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*t,s=2*e-n;return new Js(MT(i>=240?i-240:i+120,s,n),MT(i,s,n),MT(i<120?i+240:i-120,s,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var i=this.opacity;return(1===(i=isNaN(i)?1:Math.max(0,Math.min(1,i)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===i?")":", "+i+")")}}));const TT=i=>()=>i;function dz(i,t){var e=t-i;return e?function cz(i,t){return function(e){return i+e*t}}(i,e):TT(isNaN(i)?t:i)}const Oy=function i(t){var e=function Nme(i){return 1==(i=+i)?dz:function(t,e){return e-t?function Ome(i,t,e){return i=Math.pow(i,e),t=Math.pow(t,e)-i,e=1/e,function(n){return Math.pow(i+n*t,e)}}(t,e,i):TT(isNaN(t)?e:t)}}(t);function n(s,r){var a=e((s=Fy(s)).r,(r=Fy(r)).r),o=e(s.g,r.g),l=e(s.b,r.b),c=dz(s.opacity,r.opacity);return function(d){return s.r=a(d),s.g=o(d),s.b=l(d),s.opacity=c(d),s+""}}return n.gamma=i,n}(1);function uz(i){return function(t){var a,o,e=t.length,n=new Array(e),s=new Array(e),r=new Array(e);for(a=0;a<e;++a)o=Fy(t[a]),n[a]=o.r||0,s[a]=o.g||0,r[a]=o.b||0;return n=i(n),s=i(s),r=i(r),o.opacity=1,function(l){return o.r=n(l),o.g=s(l),o.b=r(l),o+""}}}function hz(i,t){var a,e=t?t.length:0,n=i?Math.min(e,i.length):0,s=new Array(n),r=new Array(e);for(a=0;a<n;++a)s[a]=Ny(i[a],t[a]);for(;a<e;++a)r[a]=t[a];return function(o){for(a=0;a<n;++a)r[a]=s[a](o);return r}}function Bme(i,t){var e=new Date;return i=+i,t=+t,function(n){return e.setTime(i*(1-n)+t*n),e}}function Jr(i,t){return i=+i,t=+t,function(e){return i*(1-e)+t*e}}function Vme(i,t){var s,e={},n={};for(s in(null===i||"object"!=typeof i)&&(i={}),(null===t||"object"!=typeof t)&&(t={}),t)s in i?e[s]=Ny(i[s],t[s]):n[s]=t[s];return function(r){for(s in e)n[s]=e[s](r);return n}}uz(function Pme(i){var t=i.length-1;return function(e){var n=e<=0?e=0:e>=1?(e=1,t-1):Math.floor(e*t),s=i[n],r=i[n+1];return lz((e-n/t)*t,n>0?i[n-1]:2*s-r,s,r,n<t-1?i[n+2]:2*r-s)}}),uz(function Fme(i){var t=i.length;return function(e){var n=Math.floor(((e%=1)<0?++e:e)*t);return lz((e-n/t)*t,i[(n+t-1)%t],i[n%t],i[(n+1)%t],i[(n+2)%t])}});var DT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AT=new RegExp(DT.source,"g");function pz(i,t){var n,s,r,e=DT.lastIndex=AT.lastIndex=0,a=-1,o=[],l=[];for(i+="",t+="";(n=DT.exec(i))&&(s=AT.exec(t));)(r=s.index)>e&&(r=t.slice(e,r),o[a]?o[a]+=r:o[++a]=r),(n=n[0])===(s=s[0])?o[a]?o[a]+=s:o[++a]=s:(o[++a]=null,l.push({i:a,x:Jr(n,s)})),e=AT.lastIndex;return e<t.length&&(r=t.slice(e),o[a]?o[a]+=r:o[++a]=r),o.length<2?l[0]?function zme(i){return function(t){return i(t)+""}}(l[0].x):function Hme(i){return function(){return i}}(t):(t=l.length,function(c){for(var u,d=0;d<t;++d)o[(u=l[d]).i]=u.x(c);return o.join("")})}function Gme(i,t){t||(t=[]);var s,e=i?Math.min(t.length,i.length):0,n=t.slice();return function(r){for(s=0;s<e;++s)n[s]=i[s]*(1-r)+t[s]*r;return n}}function Ny(i,t){var n,e=typeof t;return null==t||"boolean"===e?TT(t):("number"===e?Jr:"string"===e?(n=zc(t))?(t=n,Oy):pz:t instanceof zc?Oy:t instanceof Date?Bme:function Ume(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}(t)?Gme:Array.isArray(t)?hz:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?Vme:Jr)(i,t)}function fz(i,t){if(i=function Wme(i){let t;for(;t=i.sourceEvent;)i=t;return i}(i),void 0===t&&(t=i.currentTarget),t){var e=t.ownerSVGElement||t;if(e.createSVGPoint){var n=e.createSVGPoint();return n.x=i.clientX,n.y=i.clientY,[(n=n.matrixTransform(t.getScreenCTM().inverse())).x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[i.clientX-s.left-t.clientLeft,i.clientY-s.top-t.clientTop]}}return[i.pageX,i.pageY]}var By,Yf,ih=0,jf=0,$f=0,Vy=0,Gc=0,Hy=0,qf="object"==typeof performance&&performance.now?performance:Date,gz="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(i){setTimeout(i,17)};function ET(){return Gc||(gz(jme),Gc=qf.now()+Hy)}function jme(){Gc=0}function zy(){this._call=this._time=this._next=null}function _z(i,t,e){var n=new zy;return n.restart(i,t,e),n}function vz(){Gc=(Vy=qf.now())+Hy,ih=jf=0;try{!function $me(){ET(),++ih;for(var t,i=By;i;)(t=Gc-i._time)>=0&&i._call.call(null,t),i=i._next;--ih}()}finally{ih=0,function qme(){for(var i,e,t=By,n=1/0;t;)t._call?(n>t._time&&(n=t._time),i=t,t=t._next):(e=t._next,t._next=null,t=i?i._next=e:By=e);Yf=i,kT(n)}(),Gc=0}}function Yme(){var i=qf.now(),t=i-Vy;t>1e3&&(Hy-=t,Vy=i)}function kT(i){ih||(jf&&(jf=clearTimeout(jf)),i-Gc>24?(i<1/0&&(jf=setTimeout(vz,i-qf.now()-Hy)),$f&&($f=clearInterval($f))):($f||(Vy=qf.now(),$f=setInterval(Yme,1e3)),ih=1,gz(vz)))}function yz(i,t,e){var n=new zy;return n.restart(s=>{n.stop(),i(s+t)},t=null==t?0:+t,e),n}zy.prototype=_z.prototype={constructor:zy,restart:function(i,t,e){if("function"!=typeof i)throw new TypeError("callback is not a function");e=(null==e?ET():+e)+(null==t?0:+t),!this._next&&Yf!==this&&(Yf?Yf._next=this:By=this,Yf=this),this._call=i,this._time=e,kT()},stop:function(){this._call&&(this._call=null,this._time=1/0,kT())}};var Xme=ZH("start","end","cancel","interrupt"),Qme=[];function Wy(i,t,e,n,s,r){var a=i.__transition;if(a){if(e in a)return}else i.__transition={};!function Kme(i,t,e){var s,n=i.__transition;function a(c){var d,u,h,p;if(1!==e.state)return l();for(d in n)if((p=n[d]).name===e.name){if(3===p.state)return yz(a);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",i,i.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=6,p.timer.stop(),p.on.call("cancel",i,i.__data__,p.index,p.group),delete n[d])}if(yz(function(){3===e.state&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(c))}),e.state=2,e.on.call("start",i,i.__data__,e.index,e.group),2===e.state){for(e.state=3,s=new Array(h=e.tween.length),d=0,u=-1;d<h;++d)(p=e.tween[d].value.call(i,i.__data__,e.index,e.group))&&(s[++u]=p);s.length=u+1}}function o(c){for(var d=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(l),e.state=5,1),u=-1,h=s.length;++u<h;)s[u].call(i,d);5===e.state&&(e.on.call("end",i,i.__data__,e.index,e.group),l())}function l(){for(var c in e.state=6,e.timer.stop(),delete n[t],n)return;delete i.__transition}n[t]=e,e.timer=_z(function r(c){e.state=1,e.timer.restart(a,e.delay,e.time),e.delay<=c&&a(c-e.delay)},0,e.time)}(i,e,{name:t,index:n,group:s,on:Xme,tween:Qme,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:0})}function LT(i,t){var e=ea(i,t);if(e.state>0)throw new Error("too late; already scheduled");return e}function La(i,t){var e=ea(i,t);if(e.state>3)throw new Error("too late; already running");return e}function ea(i,t){var e=i.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function PT(i,t){var n,s,a,e=i.__transition,r=!0;if(e){for(a in t=null==t?null:t+"",e)(n=e[a]).name===t?(s=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(s?"interrupt":"cancel",i,i.__data__,n.index,n.group),delete e[a]):r=!1;r&&delete i.__transition}}var jy,Cz=180/Math.PI,FT={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sz(i,t,e,n,s,r){var a,o,l;return(a=Math.sqrt(i*i+t*t))&&(i/=a,t/=a),(l=i*e+t*n)&&(e-=i*l,n-=t*l),(o=Math.sqrt(e*e+n*n))&&(e/=o,n/=o,l/=o),i*n<t*e&&(i=-i,t=-t,l=-l,a=-a),{translateX:s,translateY:r,rotate:Math.atan2(t,i)*Cz,skewX:Math.atan(l)*Cz,scaleX:a,scaleY:o}}function Mz(i,t,e,n){function s(c){return c.length?c.pop()+" ":""}return function(c,d){var u=[],h=[];return c=i(c),d=i(d),function r(c,d,u,h,p,f){if(c!==u||d!==h){var g=p.push("translate(",null,t,null,e);f.push({i:g-4,x:Jr(c,u)},{i:g-2,x:Jr(d,h)})}else(u||h)&&p.push("translate("+u+t+h+e)}(c.translateX,c.translateY,d.translateX,d.translateY,u,h),function a(c,d,u,h){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),h.push({i:u.push(s(u)+"rotate(",null,n)-2,x:Jr(c,d)})):d&&u.push(s(u)+"rotate("+d+n)}(c.rotate,d.rotate,u,h),function o(c,d,u,h){c!==d?h.push({i:u.push(s(u)+"skewX(",null,n)-2,x:Jr(c,d)}):d&&u.push(s(u)+"skewX("+d+n)}(c.skewX,d.skewX,u,h),function l(c,d,u,h,p,f){if(c!==u||d!==h){var g=p.push(s(p)+"scale(",null,",",null,")");f.push({i:g-4,x:Jr(c,u)},{i:g-2,x:Jr(d,h)})}else(1!==u||1!==h)&&p.push(s(p)+"scale("+u+","+h+")")}(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,h),c=d=null,function(p){for(var m,f=-1,g=h.length;++f<g;)u[(m=h[f]).i]=m.x(p);return u.join("")}}}var tge=Mz(function Jme(i){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(i+"");return t.isIdentity?FT:Sz(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),ige=Mz(function ege(i){return null!=i&&(jy||(jy=document.createElementNS("http://www.w3.org/2000/svg","g")),jy.setAttribute("transform",i),i=jy.transform.baseVal.consolidate())?Sz((i=i.matrix).a,i.b,i.c,i.d,i.e,i.f):FT},", ",")",")");function nge(i,t){var e,n;return function(){var s=La(this,i),r=s.tween;if(r!==e)for(var a=0,o=(n=e=r).length;a<o;++a)if(n[a].name===t){(n=n.slice()).splice(a,1);break}s.tween=n}}function sge(i,t,e){var n,s;if("function"!=typeof e)throw new Error;return function(){var r=La(this,i),a=r.tween;if(a!==n){s=(n=a).slice();for(var o={name:t,value:e},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=o;break}l===c&&s.push(o)}r.tween=s}}function OT(i,t,e){var n=i._id;return i.each(function(){var s=La(this,n);(s.value||(s.value={}))[t]=e.apply(this,arguments)}),function(s){return ea(s,n).value[t]}}function Tz(i,t){var e;return("number"==typeof t?Jr:t instanceof zc?Oy:(e=zc(t))?(t=e,Oy):pz)(i,t)}function age(i){return function(){this.removeAttribute(i)}}function oge(i){return function(){this.removeAttributeNS(i.space,i.local)}}function lge(i,t,e){var n,r,s=e+"";return function(){var a=this.getAttribute(i);return a===s?null:a===n?r:r=t(n=a,e)}}function cge(i,t,e){var n,r,s=e+"";return function(){var a=this.getAttributeNS(i.space,i.local);return a===s?null:a===n?r:r=t(n=a,e)}}function dge(i,t,e){var n,s,r;return function(){var a,l,o=e(this);return null==o?void this.removeAttribute(i):(a=this.getAttribute(i))===(l=o+"")?null:a===n&&l===s?r:(s=l,r=t(n=a,o))}}function uge(i,t,e){var n,s,r;return function(){var a,l,o=e(this);return null==o?void this.removeAttributeNS(i.space,i.local):(a=this.getAttributeNS(i.space,i.local))===(l=o+"")?null:a===n&&l===s?r:(s=l,r=t(n=a,o))}}function pge(i,t){return function(e){this.setAttribute(i,t.call(this,e))}}function fge(i,t){return function(e){this.setAttributeNS(i.space,i.local,t.call(this,e))}}function mge(i,t){var e,n;function s(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&fge(i,r)),e}return s._value=t,s}function gge(i,t){var e,n;function s(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&pge(i,r)),e}return s._value=t,s}function vge(i,t){return function(){LT(this,i).delay=+t.apply(this,arguments)}}function yge(i,t){return t=+t,function(){LT(this,i).delay=t}}function bge(i,t){return function(){La(this,i).duration=+t.apply(this,arguments)}}function wge(i,t){return t=+t,function(){La(this,i).duration=t}}function Sge(i,t){if("function"!=typeof t)throw new Error;return function(){La(this,i).ease=t}}function Rge(i,t,e){var n,s,r=function kge(i){return(i+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(t)?LT:La;return function(){var a=r(this,i),o=a.on;o!==n&&(s=(n=o).copy()).on(t,e),a.on=s}}var Nge=zf.prototype.constructor;function Dz(i){return function(){this.style.removeProperty(i)}}function Wge(i,t,e){return function(n){this.style.setProperty(i,t.call(this,n),e)}}function jge(i,t,e){var n,s;function r(){var a=t.apply(this,arguments);return a!==s&&(n=(s=a)&&Wge(i,a,e)),n}return r._value=t,r}function Qge(i){return function(t){this.textContent=i.call(this,t)}}function Kge(i){var t,e;function n(){var s=i.apply(this,arguments);return s!==e&&(t=(e=s)&&Qge(s)),t}return n._value=i,n}var t_e=0;function Co(i,t,e,n){this._groups=i,this._parents=t,this._name=e,this._id=n}function Az(){return++t_e}var Uc=zf.prototype;Co.prototype=function i_e(i){return zf().transition(i)}.prototype={constructor:Co,select:function Fge(i){var t=this._name,e=this._id;"function"!=typeof i&&(i=yT(i));for(var n=this._groups,s=n.length,r=new Array(s),a=0;a<s;++a)for(var d,u,o=n[a],l=o.length,c=r[a]=new Array(l),h=0;h<l;++h)(d=o[h])&&(u=i.call(d,d.__data__,h,o))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u,Wy(c[h],t,e,h,c,ea(d,e)));return new Co(r,this._parents,t,e)},selectAll:function Oge(i){var t=this._name,e=this._id;"function"!=typeof i&&(i=OH(i));for(var n=this._groups,s=n.length,r=[],a=[],o=0;o<s;++o)for(var d,l=n[o],c=l.length,u=0;u<c;++u)if(d=l[u]){for(var p,h=i.call(d,d.__data__,u,l),f=ea(d,e),g=0,m=h.length;g<m;++g)(p=h[g])&&Wy(p,t,e,g,h,f);r.push(h),a.push(d)}return new Co(r,a,t,e)},filter:function Age(i){"function"!=typeof i&&(i=NH(i));for(var t=this._groups,e=t.length,n=new Array(e),s=0;s<e;++s)for(var l,r=t[s],a=r.length,o=n[s]=[],c=0;c<a;++c)(l=r[c])&&i.call(l,l.__data__,c,r)&&o.push(l);return new Co(n,this._parents,this._name,this._id)},merge:function Ege(i){if(i._id!==this._id)throw new Error;for(var t=this._groups,e=i._groups,n=t.length,r=Math.min(n,e.length),a=new Array(n),o=0;o<r;++o)for(var h,l=t[o],c=e[o],d=l.length,u=a[o]=new Array(d),p=0;p<d;++p)(h=l[p]||c[p])&&(u[p]=h);for(;o<n;++o)a[o]=t[o];return new Co(a,this._parents,this._name,this._id)},selection:function Bge(){return new Nge(this._groups,this._parents)},transition:function Jge(){for(var i=this._name,t=this._id,e=Az(),n=this._groups,s=n.length,r=0;r<s;++r)for(var l,a=n[r],o=a.length,c=0;c<o;++c)if(l=a[c]){var d=ea(l,t);Wy(l,i,e,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Co(n,this._parents,i,e)},call:Uc.call,nodes:Uc.nodes,node:Uc.node,size:Uc.size,empty:Uc.empty,each:Uc.each,on:function Ige(i,t){var e=this._id;return arguments.length<2?ea(this.node(),e).on.on(i):this.each(Rge(e,i,t))},attr:function hge(i,t){var e=Ry(i),n="transform"===e?ige:Tz;return this.attrTween(i,"function"==typeof t?(e.local?uge:dge)(e,n,OT(this,"attr."+i,t)):null==t?(e.local?oge:age)(e):(e.local?cge:lge)(e,n,t))},attrTween:function _ge(i,t){var e="attr."+i;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var n=Ry(i);return this.tween(e,(n.local?mge:gge)(n,t))},style:function Uge(i,t,e){var n="transform"==(i+="")?tge:Tz;return null==t?this.styleTween(i,function Vge(i,t){var e,n,s;return function(){var r=eh(this,i),a=(this.style.removeProperty(i),eh(this,i));return r===a?null:r===e&&a===n?s:s=t(e=r,n=a)}}(i,n)).on("end.style."+i,Dz(i)):"function"==typeof t?this.styleTween(i,function zge(i,t,e){var n,s,r;return function(){var a=eh(this,i),o=e(this),l=o+"";return null==o&&(this.style.removeProperty(i),l=o=eh(this,i)),a===l?null:a===n&&l===s?r:(s=l,r=t(n=a,o))}}(i,n,OT(this,"style."+i,t))).each(function Gge(i,t){var e,n,s,o,r="style."+t,a="end."+r;return function(){var l=La(this,i),c=l.on,d=null==l.value[r]?o||(o=Dz(t)):void 0;(c!==e||s!==d)&&(n=(e=c).copy()).on(a,s=d),l.on=n}}(this._id,i)):this.styleTween(i,function Hge(i,t,e){var n,r,s=e+"";return function(){var a=eh(this,i);return a===s?null:a===n?r:r=t(n=a,e)}}(i,n,t),e).on("end.style."+i,null)},styleTween:function $ge(i,t,e){var n="style."+(i+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,jge(i,t,null==e?"":e))},text:function Xge(i){return this.tween("text","function"==typeof i?function qge(i){return function(){var t=i(this);this.textContent=null==t?"":t}}(OT(this,"text",i)):function Yge(i){return function(){this.textContent=i}}(null==i?"":i+""))},textTween:function Zge(i){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==i)return this.tween(t,null);if("function"!=typeof i)throw new Error;return this.tween(t,Kge(i))},remove:function Pge(){return this.on("end.remove",function Lge(i){return function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==i)return;t&&t.removeChild(this)}}(this._id))},tween:function rge(i,t){var e=this._id;if(i+="",arguments.length<2){for(var a,n=ea(this.node(),e).tween,s=0,r=n.length;s<r;++s)if((a=n[s]).name===i)return a.value;return null}return this.each((null==t?nge:sge)(e,i,t))},delay:function xge(i){var t=this._id;return arguments.length?this.each(("function"==typeof i?vge:yge)(t,i)):ea(this.node(),t).delay},duration:function Cge(i){var t=this._id;return arguments.length?this.each(("function"==typeof i?bge:wge)(t,i)):ea(this.node(),t).duration},ease:function Mge(i){var t=this._id;return arguments.length?this.each(Sge(t,i)):ea(this.node(),t).ease},easeVarying:function Dge(i){if("function"!=typeof i)throw new Error;return this.each(function Tge(i,t){return function(){var e=t.apply(this,arguments);if("function"!=typeof e)throw new Error;La(this,i).ease=e}}(this._id,i))},end:function e_e(){var i,t,e=this,n=e._id,s=e.size();return new Promise(function(r,a){var o={value:a},l={value:function(){0==--s&&r()}};e.each(function(){var c=La(this,n),d=c.on;d!==i&&((t=(i=d).copy())._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),0===s&&r()})},[Symbol.iterator]:Uc[Symbol.iterator]};var s_e={time:null,delay:0,duration:250,ease:function n_e(i){return((i*=2)<=1?i*i*i:(i-=2)*i*i+2)/2}};function r_e(i,t){for(var e;!(e=i.__transition)||!(e=e[t]);)if(!(i=i.parentNode))throw new Error(`transition ${t} not found`);return e}zf.prototype.interrupt=function Zme(i){return this.each(function(){PT(this,i)})},zf.prototype.transition=function a_e(i){var t,e;i instanceof Co?(t=i._id,i=i._name):(t=Az(),(e=s_e).time=ET(),i=null==i?null:i+"");for(var n=this._groups,s=n.length,r=0;r<s;++r)for(var l,a=n[r],o=a.length,c=0;c<o;++c)(l=a[c])&&Wy(l,i,t,c,a,e||r_e(l,t));return new Co(n,this._parents,i,t)};const NT=i=>()=>i;function l_e(i,{sourceEvent:t,target:e,selection:n,mode:s,dispatch:r}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:s,enumerable:!0,configurable:!0},_:{value:r}})}function c_e(i){i.stopImmediatePropagation()}function BT(i){i.preventDefault(),i.stopImmediatePropagation()}var Ez={name:"drag"},VT={name:"space"},nh={name:"handle"},sh={name:"center"};const{abs:kz,max:as,min:os}=Math;function Rz(i){return[+i[0],+i[1]]}function HT(i){return[Rz(i[0]),Rz(i[1])]}var $y={name:"x",handles:["w","e"].map(Xf),input:function(i,t){return null==i?null:[[+i[0],t[0][1]],[+i[1],t[1][1]]]},output:function(i){return i&&[i[0][0],i[1][0]]}},Yy={name:"y",handles:["n","s"].map(Xf),input:function(i,t){return null==i?null:[[t[0][0],+i[0]],[t[1][0],+i[1]]]},output:function(i){return i&&[i[0][1],i[1][1]]}},So=(["n","w","e","s","nw","ne","sw","se"].map(Xf),{overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"}),Iz={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Lz={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},u_e={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},h_e={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Xf(i){return{type:i}}function p_e(i){return!i.ctrlKey&&!i.button}function f_e(){var i=this.ownerSVGElement||this;return i.hasAttribute("viewBox")?[[(i=i.viewBox.baseVal).x,i.y],[i.x+i.width,i.y+i.height]]:[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]}function m_e(){return navigator.maxTouchPoints||"ontouchstart"in this}function zT(i){for(;!i.__brush;)if(!(i=i.parentNode))return;return i.__brush}function g_e(i){return i[0][0]===i[1][0]||i[0][1]===i[1][1]}function UT(i,t){return i<t?-1:i>t?1:i>=t?0:NaN}function WT(i){let t=i,e=i;function n(a,o,l,c){for(null==l&&(l=0),null==c&&(c=a.length);l<c;){const d=l+c>>>1;e(a[d],o)<0?l=d+1:c=d}return l}return 1===i.length&&(t=(a,o)=>i(a)-o,e=function v_e(i){return(t,e)=>UT(i(t),e)}(i)),{left:n,center:function r(a,o,l,c){null==l&&(l=0),null==c&&(c=a.length);const d=n(a,o,l,c-1);return d>l&&t(a[d-1],o)>-t(a[d],o)?d-1:d},right:function s(a,o,l,c){for(null==l&&(l=0),null==c&&(c=a.length);l<c;){const d=l+c>>>1;e(a[d],o)>0?c=d:l=d+1}return l}}}var jT=Math.sqrt(50),$T=Math.sqrt(10),YT=Math.sqrt(2);function Pz(i,t,e){var n=(t-i)/Math.max(0,e),s=Math.floor(Math.log(n)/Math.LN10),r=n/Math.pow(10,s);return s>=0?(r>=jT?10:r>=$T?5:r>=YT?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(r>=jT?10:r>=$T?5:r>=YT?2:1)}function qT(i,t,e){var n=Math.abs(t-i)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),r=n/s;return r>=jT?s*=10:r>=$T?s*=5:r>=YT&&(s*=2),t<i?-s:s}const Mo=1e3,Sr=6e4,To=60*Sr,Wc=24*To,XT=7*Wc,Fz=30*Wc,QT=365*Wc;var KT=new Date,ZT=new Date;function Un(i,t,e,n){function s(r){return i(r=0===arguments.length?new Date:new Date(+r)),r}return s.floor=function(r){return i(r=new Date(+r)),r},s.ceil=function(r){return i(r=new Date(r-1)),t(r,1),i(r),r},s.round=function(r){var a=s(r),o=s.ceil(r);return r-a<o-r?a:o},s.offset=function(r,a){return t(r=new Date(+r),null==a?1:Math.floor(a)),r},s.range=function(r,a,o){var c,l=[];if(r=s.ceil(r),o=null==o?1:Math.floor(o),!(r<a&&o>0))return l;do{l.push(c=new Date(+r)),t(r,o),i(r)}while(c<r&&r<a);return l},s.filter=function(r){return Un(function(a){if(a>=a)for(;i(a),!r(a);)a.setTime(a-1)},function(a,o){if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!r(a););else for(;--o>=0;)for(;t(a,1),!r(a););})},e&&(s.count=function(r,a){return KT.setTime(+r),ZT.setTime(+a),i(KT),i(ZT),Math.floor(e(KT,ZT))},s.every=function(r){return r=Math.floor(r),isFinite(r)&&r>0?r>1?s.filter(n?function(a){return n(a)%r==0}:function(a){return s.count(0,a)%r==0}):s:null}),s}var qy=Un(function(){},function(i,t){i.setTime(+i+t)},function(i,t){return t-i});qy.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?Un(function(t){t.setTime(Math.floor(t/i)*i)},function(t,e){t.setTime(+t+e*i)},function(t,e){return(e-t)/i}):qy:null};const x_e=qy;const Qf=Un(function(i){i.setTime(i-i.getMilliseconds())},function(i,t){i.setTime(+i+t*Mo)},function(i,t){return(t-i)/Mo},function(i){return i.getUTCSeconds()});const Bz=Un(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*Mo)},function(i,t){i.setTime(+i+t*Sr)},function(i,t){return(t-i)/Sr},function(i){return i.getMinutes()});const Hz=Un(function(i){i.setTime(i-i.getMilliseconds()-i.getSeconds()*Mo-i.getMinutes()*Sr)},function(i,t){i.setTime(+i+t*To)},function(i,t){return(t-i)/To},function(i){return i.getHours()});const Xy=Un(i=>i.setHours(0,0,0,0),(i,t)=>i.setDate(i.getDate()+t),(i,t)=>(t-i-(t.getTimezoneOffset()-i.getTimezoneOffset())*Sr)/Wc,i=>i.getDate()-1);function jc(i){return Un(function(t){t.setDate(t.getDate()-(t.getDay()+7-i)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sr)/XT})}var Qy=jc(0),Ky=jc(1),rh=(jc(2),jc(3),jc(4));const Uz=(jc(5),jc(6),Un(function(i){i.setDate(1),i.setHours(0,0,0,0)},function(i,t){i.setMonth(i.getMonth()+t)},function(i,t){return t.getMonth()-i.getMonth()+12*(t.getFullYear()-i.getFullYear())},function(i){return i.getMonth()}));var JT=Un(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,t){i.setFullYear(i.getFullYear()+t)},function(i,t){return t.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});JT.every=function(i){return isFinite(i=Math.floor(i))&&i>0?Un(function(t){t.setFullYear(Math.floor(t.getFullYear()/i)*i),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*i)}):null};const $c=JT;const M_e=Un(function(i){i.setUTCSeconds(0,0)},function(i,t){i.setTime(+i+t*Sr)},function(i,t){return(t-i)/Sr},function(i){return i.getUTCMinutes()});const T_e=Un(function(i){i.setUTCMinutes(0,0,0)},function(i,t){i.setTime(+i+t*To)},function(i,t){return(t-i)/To},function(i){return i.getUTCHours()});const eD=Un(function(i){i.setUTCHours(0,0,0,0)},function(i,t){i.setUTCDate(i.getUTCDate()+t)},function(i,t){return(t-i)/Wc},function(i){return i.getUTCDate()-1});function Yc(i){return Un(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-i)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/XT})}var tD=Yc(0),Zy=Yc(1),ah=(Yc(2),Yc(3),Yc(4));const R_e=(Yc(5),Yc(6),Un(function(i){i.setUTCDate(1),i.setUTCHours(0,0,0,0)},function(i,t){i.setUTCMonth(i.getUTCMonth()+t)},function(i,t){return t.getUTCMonth()-i.getUTCMonth()+12*(t.getUTCFullYear()-i.getUTCFullYear())},function(i){return i.getUTCMonth()}));var iD=Un(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,t){i.setUTCFullYear(i.getUTCFullYear()+t)},function(i,t){return t.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});iD.every=function(i){return isFinite(i=Math.floor(i))&&i>0?Un(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/i)*i),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*i)}):null};const oh=iD;function qz(i,t,e,n,s,r){const a=[[Qf,1,Mo],[Qf,5,5e3],[Qf,15,15e3],[Qf,30,3e4],[r,1,Sr],[r,5,5*Sr],[r,15,15*Sr],[r,30,30*Sr],[s,1,To],[s,3,3*To],[s,6,6*To],[s,12,12*To],[n,1,Wc],[n,2,2*Wc],[e,1,XT],[t,1,Fz],[t,3,3*Fz],[i,1,QT]];function l(c,d,u){const h=Math.abs(d-c)/u,p=WT(([,,m])=>m).right(a,h);if(p===a.length)return i.every(qT(c/QT,d/QT,u));if(0===p)return x_e.every(Math.max(qT(c,d,u),1));const[f,g]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return f.every(g)}return[function o(c,d,u){const h=d<c;h&&([c,d]=[d,c]);const p=u&&"function"==typeof u.range?u:l(c,d,u),f=p?p.range(c,+d+1):[];return h?f.reverse():f},l]}const[sBe,rBe]=qz(oh,R_e,tD,eD,T_e,M_e),[I_e,L_e]=qz($c,Uz,Qy,Xy,Hz,Bz);function nD(i){if(0<=i.y&&i.y<100){var t=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return t.setFullYear(i.y),t}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function sD(i){if(0<=i.y&&i.y<100){var t=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return t.setUTCFullYear(i.y),t}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function Kf(i,t,e){return{y:i,m:t,d:e,H:0,M:0,S:0,L:0}}var lh,cG,Xz={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,F_e=/^%/,O_e=/[\\^$*+?|[\]().{}]/g;function oi(i,t,e){var n=i<0?"-":"",s=(n?-i:i)+"",r=s.length;return n+(r<e?new Array(e-r+1).join(t)+s:s)}function N_e(i){return i.replace(O_e,"\\$&")}function Zf(i){return new RegExp("^(?:"+i.map(N_e).join("|")+")","i")}function Jf(i){return new Map(i.map((t,e)=>[t.toLowerCase(),e]))}function B_e(i,t,e){var n=Wn.exec(t.slice(e,e+1));return n?(i.w=+n[0],e+n[0].length):-1}function V_e(i,t,e){var n=Wn.exec(t.slice(e,e+1));return n?(i.u=+n[0],e+n[0].length):-1}function H_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.U=+n[0],e+n[0].length):-1}function z_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.V=+n[0],e+n[0].length):-1}function G_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.W=+n[0],e+n[0].length):-1}function Qz(i,t,e){var n=Wn.exec(t.slice(e,e+4));return n?(i.y=+n[0],e+n[0].length):-1}function Kz(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.y=+n[0]+(+n[0]>68?1900:2e3),e+n[0].length):-1}function U_e(i,t,e){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(e,e+6));return n?(i.Z=n[1]?0:-(n[2]+(n[3]||"00")),e+n[0].length):-1}function W_e(i,t,e){var n=Wn.exec(t.slice(e,e+1));return n?(i.q=3*n[0]-3,e+n[0].length):-1}function j_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.m=n[0]-1,e+n[0].length):-1}function Zz(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.d=+n[0],e+n[0].length):-1}function $_e(i,t,e){var n=Wn.exec(t.slice(e,e+3));return n?(i.m=0,i.d=+n[0],e+n[0].length):-1}function Jz(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.H=+n[0],e+n[0].length):-1}function Y_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.M=+n[0],e+n[0].length):-1}function q_e(i,t,e){var n=Wn.exec(t.slice(e,e+2));return n?(i.S=+n[0],e+n[0].length):-1}function X_e(i,t,e){var n=Wn.exec(t.slice(e,e+3));return n?(i.L=+n[0],e+n[0].length):-1}function Q_e(i,t,e){var n=Wn.exec(t.slice(e,e+6));return n?(i.L=Math.floor(n[0]/1e3),e+n[0].length):-1}function K_e(i,t,e){var n=F_e.exec(t.slice(e,e+1));return n?e+n[0].length:-1}function Z_e(i,t,e){var n=Wn.exec(t.slice(e));return n?(i.Q=+n[0],e+n[0].length):-1}function J_e(i,t,e){var n=Wn.exec(t.slice(e));return n?(i.s=+n[0],e+n[0].length):-1}function eG(i,t){return oi(i.getDate(),t,2)}function eve(i,t){return oi(i.getHours(),t,2)}function tve(i,t){return oi(i.getHours()%12||12,t,2)}function ive(i,t){return oi(1+Xy.count($c(i),i),t,3)}function tG(i,t){return oi(i.getMilliseconds(),t,3)}function nve(i,t){return tG(i,t)+"000"}function sve(i,t){return oi(i.getMonth()+1,t,2)}function rve(i,t){return oi(i.getMinutes(),t,2)}function ave(i,t){return oi(i.getSeconds(),t,2)}function ove(i){var t=i.getDay();return 0===t?7:t}function lve(i,t){return oi(Qy.count($c(i)-1,i),t,2)}function iG(i){var t=i.getDay();return t>=4||0===t?rh(i):rh.ceil(i)}function cve(i,t){return i=iG(i),oi(rh.count($c(i),i)+(4===$c(i).getDay()),t,2)}function dve(i){return i.getDay()}function uve(i,t){return oi(Ky.count($c(i)-1,i),t,2)}function hve(i,t){return oi(i.getFullYear()%100,t,2)}function pve(i,t){return oi((i=iG(i)).getFullYear()%100,t,2)}function fve(i,t){return oi(i.getFullYear()%1e4,t,4)}function mve(i,t){var e=i.getDay();return oi((i=e>=4||0===e?rh(i):rh.ceil(i)).getFullYear()%1e4,t,4)}function gve(i){var t=i.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+oi(t/60|0,"0",2)+oi(t%60,"0",2)}function nG(i,t){return oi(i.getUTCDate(),t,2)}function _ve(i,t){return oi(i.getUTCHours(),t,2)}function vve(i,t){return oi(i.getUTCHours()%12||12,t,2)}function yve(i,t){return oi(1+eD.count(oh(i),i),t,3)}function sG(i,t){return oi(i.getUTCMilliseconds(),t,3)}function xve(i,t){return sG(i,t)+"000"}function bve(i,t){return oi(i.getUTCMonth()+1,t,2)}function wve(i,t){return oi(i.getUTCMinutes(),t,2)}function Cve(i,t){return oi(i.getUTCSeconds(),t,2)}function Sve(i){var t=i.getUTCDay();return 0===t?7:t}function Mve(i,t){return oi(tD.count(oh(i)-1,i),t,2)}function rG(i){var t=i.getUTCDay();return t>=4||0===t?ah(i):ah.ceil(i)}function Tve(i,t){return i=rG(i),oi(ah.count(oh(i),i)+(4===oh(i).getUTCDay()),t,2)}function Dve(i){return i.getUTCDay()}function Ave(i,t){return oi(Zy.count(oh(i)-1,i),t,2)}function Eve(i,t){return oi(i.getUTCFullYear()%100,t,2)}function kve(i,t){return oi((i=rG(i)).getUTCFullYear()%100,t,2)}function Rve(i,t){return oi(i.getUTCFullYear()%1e4,t,4)}function Ive(i,t){var e=i.getUTCDay();return oi((i=e>=4||0===e?ah(i):ah.ceil(i)).getUTCFullYear()%1e4,t,4)}function Lve(){return"+0000"}function aG(){return"%"}function oG(i){return+i}function lG(i){return Math.floor(+i/1e3)}function dG(i){return null===i?NaN:+i}!function Nve(i){lh=function P_e(i){var t=i.dateTime,e=i.date,n=i.time,s=i.periods,r=i.days,a=i.shortDays,o=i.months,l=i.shortMonths,c=Zf(s),d=Jf(s),u=Zf(r),h=Jf(r),p=Zf(a),f=Jf(a),g=Zf(o),m=Jf(o),_=Zf(l),v=Jf(l),y={a:function B(oe){return a[oe.getDay()]},A:function F(oe){return r[oe.getDay()]},b:function Y(oe){return l[oe.getMonth()]},B:function K(oe){return o[oe.getMonth()]},c:null,d:eG,e:eG,f:nve,g:pve,G:mve,H:eve,I:tve,j:ive,L:tG,m:sve,M:rve,p:function ce(oe){return s[+(oe.getHours()>=12)]},q:function ee(oe){return 1+~~(oe.getMonth()/3)},Q:oG,s:lG,S:ave,u:ove,U:lve,V:cve,w:dve,W:uve,x:null,X:null,y:hve,Y:fve,Z:gve,"%":aG},b={a:function Ke(oe){return a[oe.getUTCDay()]},A:function Ye(oe){return r[oe.getUTCDay()]},b:function ot(oe){return l[oe.getUTCMonth()]},B:function ae(oe){return o[oe.getUTCMonth()]},c:null,d:nG,e:nG,f:xve,g:kve,G:Ive,H:_ve,I:vve,j:yve,L:sG,m:bve,M:wve,p:function tt(oe){return s[+(oe.getUTCHours()>=12)]},q:function ct(oe){return 1+~~(oe.getUTCMonth()/3)},Q:oG,s:lG,S:Cve,u:Sve,U:Mve,V:Tve,w:Dve,W:Ave,x:null,X:null,y:Eve,Y:Rve,Z:Lve,"%":aG},w={a:function N(oe,ie,Oe){var V=p.exec(ie.slice(Oe));return V?(oe.w=f.get(V[0].toLowerCase()),Oe+V[0].length):-1},A:function C(oe,ie,Oe){var V=u.exec(ie.slice(Oe));return V?(oe.w=h.get(V[0].toLowerCase()),Oe+V[0].length):-1},b:function R(oe,ie,Oe){var V=_.exec(ie.slice(Oe));return V?(oe.m=v.get(V[0].toLowerCase()),Oe+V[0].length):-1},B:function X(oe,ie,Oe){var V=g.exec(ie.slice(Oe));return V?(oe.m=m.get(V[0].toLowerCase()),Oe+V[0].length):-1},c:function z(oe,ie,Oe){return L(oe,t,ie,Oe)},d:Zz,e:Zz,f:Q_e,g:Kz,G:Qz,H:Jz,I:Jz,j:$_e,L:X_e,m:j_e,M:Y_e,p:function H(oe,ie,Oe){var V=c.exec(ie.slice(Oe));return V?(oe.p=d.get(V[0].toLowerCase()),Oe+V[0].length):-1},q:W_e,Q:Z_e,s:J_e,S:q_e,u:V_e,U:H_e,V:z_e,w:B_e,W:G_e,x:function q(oe,ie,Oe){return L(oe,e,ie,Oe)},X:function O(oe,ie,Oe){return L(oe,n,ie,Oe)},y:Kz,Y:Qz,Z:U_e,"%":K_e};function S(oe,ie){return function(Oe){var Me,Te,qe,V=[],te=-1,he=0,Ve=oe.length;for(Oe instanceof Date||(Oe=new Date(+Oe));++te<Ve;)37===oe.charCodeAt(te)&&(V.push(oe.slice(he,te)),null!=(Te=Xz[Me=oe.charAt(++te)])?Me=oe.charAt(++te):Te="e"===Me?" ":"0",(qe=ie[Me])&&(Me=qe(Oe,Te)),V.push(Me),he=te+1);return V.push(oe.slice(he,te)),V.join("")}}function D(oe,ie){return function(Oe){var he,Ve,V=Kf(1900,void 0,1);if(L(V,oe,Oe+="",0)!=Oe.length)return null;if("Q"in V)return new Date(V.Q);if("s"in V)return new Date(1e3*V.s+("L"in V?V.L:0));if(ie&&!("Z"in V)&&(V.Z=0),"p"in V&&(V.H=V.H%12+12*V.p),void 0===V.m&&(V.m="q"in V?V.q:0),"V"in V){if(V.V<1||V.V>53)return null;"w"in V||(V.w=1),"Z"in V?(Ve=(he=sD(Kf(V.y,0,1))).getUTCDay(),he=Ve>4||0===Ve?Zy.ceil(he):Zy(he),he=eD.offset(he,7*(V.V-1)),V.y=he.getUTCFullYear(),V.m=he.getUTCMonth(),V.d=he.getUTCDate()+(V.w+6)%7):(Ve=(he=nD(Kf(V.y,0,1))).getDay(),he=Ve>4||0===Ve?Ky.ceil(he):Ky(he),he=Xy.offset(he,7*(V.V-1)),V.y=he.getFullYear(),V.m=he.getMonth(),V.d=he.getDate()+(V.w+6)%7)}else("W"in V||"U"in V)&&("w"in V||(V.w="u"in V?V.u%7:"W"in V?1:0),Ve="Z"in V?sD(Kf(V.y,0,1)).getUTCDay():nD(Kf(V.y,0,1)).getDay(),V.m=0,V.d="W"in V?(V.w+6)%7+7*V.W-(Ve+5)%7:V.w+7*V.U-(Ve+6)%7);return"Z"in V?(V.H+=V.Z/100|0,V.M+=V.Z%100,sD(V)):nD(V)}}function L(oe,ie,Oe,V){for(var Me,Te,te=0,he=ie.length,Ve=Oe.length;te<he;){if(V>=Ve)return-1;if(37===(Me=ie.charCodeAt(te++))){if(Me=ie.charAt(te++),!(Te=w[Me in Xz?ie.charAt(te++):Me])||(V=Te(oe,Oe,V))<0)return-1}else if(Me!=Oe.charCodeAt(V++))return-1}return V}return y.x=S(e,y),y.X=S(n,y),y.c=S(t,y),b.x=S(e,b),b.X=S(n,b),b.c=S(t,b),{format:function(oe){var ie=S(oe+="",y);return ie.toString=function(){return oe},ie},parse:function(oe){var ie=D(oe+="",!1);return ie.toString=function(){return oe},ie},utcFormat:function(oe){var ie=S(oe+="",b);return ie.toString=function(){return oe},ie},utcParse:function(oe){var ie=D(oe+="",!0);return ie.toString=function(){return oe},ie}}}(i),cG=lh.format}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Bve=WT(UT).right,hG=(WT(dG),Bve);function Vve(i,t){return i=+i,t=+t,function(e){return Math.round(i*(1-e)+t*e)}}function zve(i){return+i}var pG=[0,1];function ch(i){return i}function rD(i,t){return(t-=i=+i)?function(e){return(e-i)/t}:function Hve(i){return function(){return i}}(isNaN(t)?NaN:.5)}function Uve(i,t,e){var n=i[0],s=i[1],r=t[0],a=t[1];return s<n?(n=rD(s,n),r=e(a,r)):(n=rD(n,s),r=e(r,a)),function(o){return r(n(o))}}function Wve(i,t,e){var n=Math.min(i.length,t.length)-1,s=new Array(n),r=new Array(n),a=-1;for(i[n]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=rD(i[a],i[a+1]),r[a]=e(t[a],t[a+1]);return function(o){var l=hG(i,o,1,n)-1;return r[l](s[l](o))}}function fG(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function mG(){return function jve(){var n,s,r,o,l,c,i=pG,t=pG,e=Ny,a=ch;function d(){var h=Math.min(i.length,t.length);return a!==ch&&(a=function Gve(i,t){var e;return i>t&&(e=i,i=t,t=e),function(n){return Math.max(i,Math.min(t,n))}}(i[0],i[h-1])),o=h>2?Wve:Uve,l=c=null,u}function u(h){return null==h||isNaN(h=+h)?r:(l||(l=o(i.map(n),t,e)))(n(a(h)))}return u.invert=function(h){return a(s((c||(c=o(t,i.map(n),Jr)))(h)))},u.domain=function(h){return arguments.length?(i=Array.from(h,zve),d()):i.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),e=Vve,d()},u.clamp=function(h){return arguments.length?(a=!!h||ch,d()):a!==ch},u.interpolate=function(h){return arguments.length?(e=h,d()):e},u.unknown=function(h){return arguments.length?(r=h,u):r},function(h,p){return n=h,s=p,d()}}()(ch,ch)}function em(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i)}return this}function Yve(i){return new Date(i)}function qve(i){return i instanceof Date?+i:+new Date(+i)}function gG(i,t,e,n,s,r,a,o,l,c){var d=mG(),u=d.invert,h=d.domain,p=c(".%L"),f=c(":%S"),g=c("%I:%M"),m=c("%I %p"),_=c("%a %d"),v=c("%b %d"),y=c("%B"),b=c("%Y");function w(S){return(l(S)<S?p:o(S)<S?f:a(S)<S?g:r(S)<S?m:n(S)<S?s(S)<S?_:v:e(S)<S?y:b)(S)}return d.invert=function(S){return new Date(u(S))},d.domain=function(S){return arguments.length?h(Array.from(S,qve)):h().map(Yve)},d.ticks=function(S){var D=h();return i(D[0],D[D.length-1],null==S?10:S)},d.tickFormat=function(S,D){return null==D?w:c(D)},d.nice=function(S){var D=h();return(!S||"function"!=typeof S.range)&&(S=t(D[0],D[D.length-1],null==S?10:S)),S?h(function $ve(i,t){var a,e=0,n=(i=i.slice()).length-1,s=i[e],r=i[n];return r<s&&(a=e,e=n,n=a,a=s,s=r,r=a),i[e]=t.floor(s),i[n]=t.ceil(r),i}(D,S)):d},d.copy=function(){return fG(d,gG(i,t,e,n,s,r,a,o,l,c))},d}function _G(){return em.apply(gG(I_e,L_e,$c,Uz,Qy,Xy,Hz,Bz,Qf,cG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var vG,Xve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jy(i){if(!(t=Xve.exec(i)))throw new Error("invalid format: "+i);var t;return new aD({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function aD(i){this.fill=void 0===i.fill?" ":i.fill+"",this.align=void 0===i.align?">":i.align+"",this.sign=void 0===i.sign?"-":i.sign+"",this.symbol=void 0===i.symbol?"":i.symbol+"",this.zero=!!i.zero,this.width=void 0===i.width?void 0:+i.width,this.comma=!!i.comma,this.precision=void 0===i.precision?void 0:+i.precision,this.trim=!!i.trim,this.type=void 0===i.type?"":i.type+""}function ex(i,t){if((e=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var e,n=i.slice(0,e);return[n.length>1?n[0]+n.slice(2):n,+i.slice(e+1)]}function dh(i){return(i=ex(Math.abs(i)))?i[1]:NaN}function yG(i,t){var e=ex(i,t);if(!e)return i+"";var n=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}Jy.prototype=aD.prototype,aD.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const xG={"%":(i,t)=>(100*i).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:function Qve(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)},e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>yG(100*i,t),r:yG,s:function tye(i,t){var e=ex(i,t);if(!e)return i+"";var n=e[0],s=e[1],r=s-(vG=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,a=n.length;return r===a?n:r>a?n+new Array(r-a+1).join("0"):r>0?n.slice(0,r)+"."+n.slice(r):"0."+new Array(1-r).join("0")+ex(i,Math.max(0,t+r-1))[0]},X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function bG(i){return i}var tx,SG,MG,wG=Array.prototype.map,CG=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function oye(i){var t=i.domain;return i.ticks=function(e){var n=t();return function y_e(i,t,e){var n,r,a,o,s=-1;if(e=+e,(i=+i)==(t=+t)&&e>0)return[i];if((n=t<i)&&(r=i,i=t,t=r),0===(o=Pz(i,t,e))||!isFinite(o))return[];if(o>0){let l=Math.round(i/o),c=Math.round(t/o);for(l*o<i&&++l,c*o>t&&--c,a=new Array(r=c-l+1);++s<r;)a[s]=(l+s)*o}else{o=-o;let l=Math.round(i*o),c=Math.round(t*o);for(l/o<i&&++l,c/o>t&&--c,a=new Array(r=c-l+1);++s<r;)a[s]=(l+s)/o}return n&&a.reverse(),a}(n[0],n[n.length-1],null==e?10:e)},i.tickFormat=function(e,n){var s=t();return function aye(i,t,e,n){var r,s=qT(i,t,e);switch((n=Jy(null==n?",f":n)).type){case"s":var a=Math.max(Math.abs(i),Math.abs(t));return null==n.precision&&!isNaN(r=function Kve(i,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(dh(t)/3)))-dh(Math.abs(i)))}(s,a))&&(n.precision=r),MG(n,a);case"":case"e":case"g":case"p":case"r":null==n.precision&&!isNaN(r=function sye(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,dh(t)-dh(i))+1}(s,Math.max(Math.abs(i),Math.abs(t))))&&(n.precision=r-("e"===n.type));break;case"f":case"%":null==n.precision&&!isNaN(r=function rye(i){return Math.max(0,-dh(Math.abs(i)))}(s))&&(n.precision=r-2*("%"===n.type))}return SG(n)}(s[0],s[s.length-1],null==e?10:e,n)},i.nice=function(e){null==e&&(e=10);var l,c,n=t(),s=0,r=n.length-1,a=n[s],o=n[r],d=10;for(o<a&&(c=a,a=o,o=c,c=s,s=r,r=c);d-- >0;){if((c=Pz(a,o,e))===l)return n[s]=a,n[r]=o,t(n);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else{if(!(c<0))break;a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c}l=c}return i},i}function qc(){var i=mG();return i.copy=function(){return fG(i,qc())},em.apply(i,arguments),oye(i)}function TG(i,t,e){i=+i,t=+t,e=(s=arguments.length)<2?(t=i,i=0,1):s<3?1:+e;for(var n=-1,s=0|Math.max(0,Math.ceil((t-i)/e)),r=new Array(s);++n<s;)r[n]=i+n*e;return r}!function nye(i){tx=function iye(i){var t=void 0===i.grouping||void 0===i.thousands?bG:function Zve(i,t){return function(e,n){for(var s=e.length,r=[],a=0,o=i[0],l=0;s>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),r.push(e.substring(s-=o,s+o)),!((l+=o+1)>n));)o=i[a=(a+1)%i.length];return r.reverse().join(t)}}(wG.call(i.grouping,Number),i.thousands+""),e=void 0===i.currency?"":i.currency[0]+"",n=void 0===i.currency?"":i.currency[1]+"",s=void 0===i.decimal?".":i.decimal+"",r=void 0===i.numerals?bG:function Jve(i){return function(t){return t.replace(/[0-9]/g,function(e){return i[+e]})}}(wG.call(i.numerals,String)),a=void 0===i.percent?"%":i.percent+"",o=void 0===i.minus?"\u2212":i.minus+"",l=void 0===i.nan?"NaN":i.nan+"";function c(u){var h=(u=Jy(u)).fill,p=u.align,f=u.sign,g=u.symbol,m=u.zero,_=u.width,v=u.comma,y=u.precision,b=u.trim,w=u.type;"n"===w?(v=!0,w="g"):xG[w]||(void 0===y&&(y=12),b=!0,w="g"),(m||"0"===h&&"="===p)&&(m=!0,h="0",p="=");var S="$"===g?e:"#"===g&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",D="$"===g?n:/[%p]/.test(w)?a:"",L=xG[w],H=/[defgprs%]/.test(w);function N(C){var z,q,O,R=S,X=D;if("c"===w)X=L(C)+X,C="";else{var B=(C=+C)<0||1/C<0;if(C=isNaN(C)?l:L(Math.abs(C),y),b&&(C=function eye(i){e:for(var s,t=i.length,e=1,n=-1;e<t;++e)switch(i[e]){case".":n=s=e;break;case"0":0===n&&(n=e),s=e;break;default:if(!+i[e])break e;n>0&&(n=0)}return n>0?i.slice(0,n)+i.slice(s+1):i}(C)),B&&0==+C&&"+"!==f&&(B=!1),R=(B?"("===f?f:o:"-"===f||"("===f?"":f)+R,X=("s"===w?CG[8+vG/3]:"")+X+(B&&"("===f?")":""),H)for(z=-1,q=C.length;++z<q;)if(48>(O=C.charCodeAt(z))||O>57){X=(46===O?s+C.slice(z+1):C.slice(z))+X,C=C.slice(0,z);break}}v&&!m&&(C=t(C,1/0));var F=R.length+C.length+X.length,Y=F<_?new Array(_-F+1).join(h):"";switch(v&&m&&(C=t(Y+C,Y.length?_-X.length:1/0),Y=""),p){case"<":C=R+C+X+Y;break;case"=":C=R+Y+C+X;break;case"^":C=Y.slice(0,F=Y.length>>1)+R+C+X+Y.slice(F);break;default:C=Y+R+C+X}return r(C)}return y=void 0===y?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),N.toString=function(){return u+""},N}return{format:c,formatPrefix:function d(u,h){var p=c(((u=Jy(u)).type="f",u)),f=3*Math.max(-8,Math.min(8,Math.floor(dh(h)/3))),g=Math.pow(10,-f),m=CG[8+f/3];return function(_){return p(g*_)+m}}}}(i),SG=tx.format,MG=tx.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});const DG=Symbol("implicit");function oD(){var i=new Map,t=[],e=[],n=DG;function s(r){var a=r+"",o=i.get(a);if(!o){if(n!==DG)return n;i.set(a,o=t.push(r))}return e[(o-1)%e.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],i=new Map;for(const a of r){const o=a+"";i.has(o)||i.set(o,t.push(a))}return s},s.range=function(r){return arguments.length?(e=Array.from(r),s):e.slice()},s.unknown=function(r){return arguments.length?(n=r,s):n},s.copy=function(){return oD(t,e).unknown(n)},em.apply(s,arguments),s}function lD(){var r,a,i=oD().unknown(void 0),t=i.domain,e=i.range,n=0,s=1,o=!1,l=0,c=0,d=.5;function u(){var h=t().length,p=s<n,f=p?s:n,g=p?n:s;r=(g-f)/Math.max(1,h-l+2*c),o&&(r=Math.floor(r)),f+=(g-f-r*(h-l))*d,a=r*(1-l),o&&(f=Math.round(f),a=Math.round(a));var m=TG(h).map(function(_){return f+r*_});return e(p?m.reverse():m)}return delete i.unknown,i.domain=function(h){return arguments.length?(t(h),u()):t()},i.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,u()):[n,s]},i.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,o=!0,u()},i.bandwidth=function(){return a},i.step=function(){return r},i.round=function(h){return arguments.length?(o=!!h,u()):o},i.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),u()):l},i.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),u()):l},i.paddingOuter=function(h){return arguments.length?(c=+h,u()):c},i.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),u()):d},i.copy=function(){return lD(t(),[n,s]).round(o).paddingInner(l).paddingOuter(c).align(d)},em.apply(u(),arguments)}function AG(i){var t=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return AG(t())},i}function EG(){return AG(lD.apply(null,arguments).paddingInner(1))}function lye(i,t,e=dG){if(n=i.length){if((t=+t)<=0||n<2)return+e(i[0],0,i);if(t>=1)return+e(i[n-1],n-1,i);var n,s=(n-1)*t,r=Math.floor(s),a=+e(i[r],r,i);return a+(+e(i[r+1],r+1,i)-a)*(s-r)}}function kG(){var n,i=[],t=[],e=[];function s(){var a=0,o=Math.max(1,t.length);for(e=new Array(o-1);++a<o;)e[a-1]=lye(i,a/o);return r}function r(a){return null==a||isNaN(a=+a)?n:t[hG(e,a)]}return r.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?e[o-1]:i[0],o<e.length?e[o]:i[i.length-1]]},r.domain=function(a){if(!arguments.length)return i.slice();i=[];for(let o of a)null!=o&&!isNaN(o=+o)&&i.push(o);return i.sort(UT),s()},r.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},r.unknown=function(a){return arguments.length?(n=a,r):n},r.quantiles=function(){return e.slice()},r.copy=function(){return kG().domain(i).range(t).unknown(n)},em.apply(r,arguments)}const cD=Math.PI,dD=2*cD,Xc=1e-6,cye=dD-Xc;function uD(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function RG(){return new uD}uD.prototype=RG.prototype={constructor:uD,moveTo:function(i,t){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,t){this._+="L"+(this._x1=+i)+","+(this._y1=+t)},quadraticCurveTo:function(i,t,e,n){this._+="Q"+ +i+","+ +t+","+(this._x1=+e)+","+(this._y1=+n)},bezierCurveTo:function(i,t,e,n,s,r){this._+="C"+ +i+","+ +t+","+ +e+","+ +n+","+(this._x1=+s)+","+(this._y1=+r)},arcTo:function(i,t,e,n,s){var r=this._x1,a=this._y1,o=(e=+e)-(i=+i),l=(n=+n)-(t=+t),c=r-i,d=a-t,u=c*c+d*d;if((s=+s)<0)throw new Error("negative radius: "+s);if(null===this._x1)this._+="M"+(this._x1=i)+","+(this._y1=t);else if(u>Xc)if(Math.abs(d*o-l*c)>Xc&&s){var h=e-r,p=n-a,f=o*o+l*l,g=h*h+p*p,m=Math.sqrt(f),_=Math.sqrt(u),v=s*Math.tan((cD-Math.acos((f+u-g)/(2*m*_)))/2),y=v/_,b=v/m;Math.abs(y-1)>Xc&&(this._+="L"+(i+y*c)+","+(t+y*d)),this._+="A"+s+","+s+",0,0,"+ +(d*h>c*p)+","+(this._x1=i+b*o)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=i)+","+(this._y1=t)},arc:function(i,t,e,n,s,r){i=+i,t=+t,r=!!r;var a=(e=+e)*Math.cos(n),o=e*Math.sin(n),l=i+a,c=t+o,d=1^r,u=r?n-s:s-n;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Xc||Math.abs(this._y1-c)>Xc)&&(this._+="L"+l+","+c),e&&(u<0&&(u=u%dD+dD),u>cye?this._+="A"+e+","+e+",0,1,"+d+","+(i-a)+","+(t-o)+"A"+e+","+e+",0,1,"+d+","+(this._x1=l)+","+(this._y1=c):u>Xc&&(this._+="A"+e+","+e+",0,"+ +(u>=cD)+","+d+","+(this._x1=i+e*Math.cos(s))+","+(this._y1=t+e*Math.sin(s))))},rect:function(i,t,e,n){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+t)+"h"+ +e+"v"+ +n+"h"+-e+"Z"},toString:function(){return this._}};const IG=RG;function LG(i){return"object"==typeof i&&"length"in i?i:Array.from(i)}function jn(i){return function(){return i}}function PG(i){this._context=i}function hD(i){return new PG(i)}function FG(i){return i[0]}function OG(i){return i[1]}function NG(i,t){var e=jn(!0),n=null,s=hD,r=null;function a(o){var l,d,h,c=(o=LG(o)).length,u=!1;for(null==n&&(r=s(h=IG())),l=0;l<=c;++l)!(l<c&&e(d=o[l],l,o))===u&&((u=!u)?r.lineStart():r.lineEnd()),u&&r.point(+i(d,l,o),+t(d,l,o));if(h)return r=null,h+""||null}return i="function"==typeof i?i:void 0===i?FG:jn(i),t="function"==typeof t?t:void 0===t?OG:jn(t),a.x=function(o){return arguments.length?(i="function"==typeof o?o:jn(+o),a):i},a.y=function(o){return arguments.length?(t="function"==typeof o?o:jn(+o),a):t},a.defined=function(o){return arguments.length?(e="function"==typeof o?o:jn(!!o),a):e},a.curve=function(o){return arguments.length?(s=o,null!=n&&(r=s(n)),a):s},a.context=function(o){return arguments.length?(null==o?n=r=null:r=s(n=o),a):n},a}function BG(i,t,e){var n=null,s=jn(!0),r=null,a=hD,o=null;function l(d){var u,h,p,g,_,f=(d=LG(d)).length,m=!1,v=new Array(f),y=new Array(f);for(null==r&&(o=a(_=IG())),u=0;u<=f;++u){if(!(u<f&&s(g=d[u],u,d))===m)if(m=!m)h=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=u-1;p>=h;--p)o.point(v[p],y[p]);o.lineEnd(),o.areaEnd()}m&&(v[u]=+i(g,u,d),y[u]=+t(g,u,d),o.point(n?+n(g,u,d):v[u],e?+e(g,u,d):y[u]))}if(_)return o=null,_+""||null}function c(){return NG().defined(s).curve(a).context(r)}return i="function"==typeof i?i:void 0===i?FG:jn(+i),t="function"==typeof t?t:jn(void 0===t?0:+t),e="function"==typeof e?e:void 0===e?OG:jn(+e),l.x=function(d){return arguments.length?(i="function"==typeof d?d:jn(+d),n=null,l):i},l.x0=function(d){return arguments.length?(i="function"==typeof d?d:jn(+d),l):i},l.x1=function(d){return arguments.length?(n=null==d?null:"function"==typeof d?d:jn(+d),l):n},l.y=function(d){return arguments.length?(t="function"==typeof d?d:jn(+d),e=null,l):t},l.y0=function(d){return arguments.length?(t="function"==typeof d?d:jn(+d),l):t},l.y1=function(d){return arguments.length?(e=null==d?null:"function"==typeof d?d:jn(+d),l):e},l.lineX0=l.lineY0=function(){return c().x(i).y(t)},l.lineY1=function(){return c().x(i).y(e)},l.lineX1=function(){return c().x(n).y(t)},l.defined=function(d){return arguments.length?(s="function"==typeof d?d:jn(!!d),l):s},l.curve=function(d){return arguments.length?(a=d,null!=r&&(o=a(r)),l):a},l.context=function(d){return arguments.length?(null==d?r=o=null:o=a(r=d),l):r},l}PG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(i,t){switch(i=+i,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,t):this._context.moveTo(i,t);break;case 1:this._point=2;default:this._context.lineTo(i,t)}}},$n(87);const dye=["caretElm"];function uye(i,t){}const hye=function(i){return{model:i}};function pye(i,t){if(1&i&&(A(0,"span"),pe(1,uye,0,0,"ng-template",5),E()),2&i){const e=ue();U(1),W("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Nl(2,hye,e.context))}}function fye(i,t){1&i&&fe(0,"span",6),2&i&&W("innerHTML",ue().title,WE)}function mye(i,t){if(1&i&&(A(0,"header",4),A(1,"span",5),we(2),E(),E()),2&i){const e=ue();U(2),un(e.title)}}function gye(i,t){if(1&i){const e=tn();A(0,"li",6),A(1,"ngx-charts-legend-entry",7),Le("select",function(s){return Qt(e),ue().labelClick.emit(s)})("activate",function(s){return Qt(e),ue().activate(s)})("deactivate",function(s){return Qt(e),ue().deactivate(s)}),E(),E()}if(2&i){const e=t.$implicit,n=ue();U(1),W("label",e.label)("formattedLabel",e.formattedLabel)("color",e.color)("isActive",n.isActive(e))}}function _ye(i,t){if(1&i&&(it(),ld(),fe(0,"ngx-charts-scale-legend",4)),2&i){const e=ue();W("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("valueRange",e.legendOptions.domain)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)}}function vye(i,t){if(1&i){const e=tn();it(),ld(),A(0,"ngx-charts-legend",5),Le("labelClick",function(s){return Qt(e),ue().legendLabelClick.emit(s)})("labelActivate",function(s){return Qt(e),ue().legendLabelActivate.emit(s)})("labelDeactivate",function(s){return Qt(e),ue().legendLabelDeactivate.emit(s)}),E()}if(2&i){const e=ue();W("horizontal",e.legendOptions&&e.legendOptions.position===e.LegendPosition.Below)("data",e.legendOptions.domain)("title",e.legendOptions.title)("colors",e.legendOptions.colors)("height",e.view[1])("width",e.legendWidth)("activeEntries",e.activeEntries)}}const VG=["*"],yye=["ngx-charts-axis-label",""],HG=["ticksel"],xye=["ngx-charts-x-axis-ticks",""];function bye(i,t){if(1&i&&(it(),A(0,"g",3),A(1,"title"),we(2),E(),A(3,"text",4),we(4),E(),E()),2&i){const e=t.$implicit,n=ue();Ae("transform",n.tickTransform(e)),U(2),un(n.tickFormat(e)),U(1),xi("font-size","12px"),Ae("text-anchor",n.textAnchor)("transform",n.textTransform),U(1),ki(" ",n.tickTrim(n.tickFormat(e))," ")}}function wye(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"line",6),E()),2&i){const e=ue(2);Ae("transform",e.gridLineTransform()),U(1),Ae("y1",-e.gridLineHeight)}}function Cye(i,t){if(1&i&&(it(),A(0,"g"),pe(1,wye,2,2,"g",5),E()),2&i){const e=t.$implicit,n=ue();Ae("transform",n.tickTransform(e)),U(1),W("ngIf",n.showGridLines)}}const Sye=["ngx-charts-x-axis",""];function Mye(i,t){if(1&i){const e=tn();it(),A(0,"g",2),Le("dimensionsChanged",function(s){return Qt(e),ue().emitTicksHeight(s)}),E()}if(2&i){const e=ue();W("trimTicks",e.trimTicks)("rotateTicks",e.rotateTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickStroke",e.tickStroke)("scale",e.xScale)("orient",e.xOrient)("showGridLines",e.showGridLines)("gridLineHeight",e.dims.height)("width",e.dims.width)("tickValues",e.ticks)}}function Tye(i,t){if(1&i&&(it(),fe(0,"g",3)),2&i){const e=ue();W("label",e.labelText)("offset",e.labelOffset)("orient",e.orientation.Bottom)("height",e.dims.height)("width",e.dims.width)}}const Dye=["ngx-charts-y-axis-ticks",""];function Aye(i,t){if(1&i&&(it(),A(0,"g",4),A(1,"title"),we(2),E(),A(3,"text",5),we(4),E(),E()),2&i){const e=t.$implicit,n=ue();Ae("transform",n.transform(e)),U(2),un(n.tickFormat(e)),U(1),xi("font-size","12px"),Ae("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),U(1),ki(" ",n.tickTrim(n.tickFormat(e))," ")}}function Eye(i,t){if(1&i&&(it(),fe(0,"path",6)),2&i){const e=ue();Ae("d",e.referenceAreaPath)("transform",e.gridLineTransform())}}function kye(i,t){1&i&&(it(),fe(0,"line",9)),2&i&&Ae("x2",ue(3).gridLineWidth)}function Rye(i,t){1&i&&(it(),fe(0,"line",9)),2&i&&Ae("x2",-ue(3).gridLineWidth)}function Iye(i,t){if(1&i&&(it(),A(0,"g"),pe(1,kye,1,1,"line",8),pe(2,Rye,1,1,"line",8),E()),2&i){const e=ue(2);Ae("transform",e.gridLineTransform()),U(1),W("ngIf",e.orient===e.Orientation.Left),U(1),W("ngIf",e.orient===e.Orientation.Right)}}function Lye(i,t){if(1&i&&(it(),A(0,"g"),pe(1,Iye,3,3,"g",7),E()),2&i){const e=t.$implicit,n=ue();Ae("transform",n.transform(e)),U(1),W("ngIf",n.showGridLines)}}function Pye(i,t){if(1&i&&(it(),A(0,"g"),A(1,"title"),we(2),E(),A(3,"text",11),we(4),E(),E()),2&i){const e=ue(2).$implicit,n=ue();U(2),un(n.tickTrim(n.tickFormat(e.value))),U(1),Ae("dy",n.dy)("y",-6)("x",n.gridLineWidth)("text-anchor",n.textAnchor),U(1),ki(" ",e.name," ")}}function Fye(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"line",10),pe(2,Pye,5,6,"g",7),E()),2&i){const e=ue().$implicit,n=ue();Ae("transform",n.transform(e.value)),U(1),Ae("x2",n.gridLineWidth)("transform",n.gridLineTransform()),U(1),W("ngIf",n.showRefLabels)}}function Oye(i,t){if(1&i&&(it(),A(0,"g"),pe(1,Fye,3,4,"g",7),E()),2&i){const e=ue();U(1),W("ngIf",e.showRefLines)}}const Nye=["ngx-charts-y-axis",""];function Bye(i,t){if(1&i){const e=tn();it(),A(0,"g",2),Le("dimensionsChanged",function(s){return Qt(e),ue().emitTicksWidth(s)}),E()}if(2&i){const e=ue();W("trimTicks",e.trimTicks)("maxTickLength",e.maxTickLength)("tickFormatting",e.tickFormatting)("tickArguments",e.tickArguments)("tickValues",e.ticks)("tickStroke",e.tickStroke)("scale",e.yScale)("orient",e.yOrient)("showGridLines",e.showGridLines)("gridLineWidth",e.dims.width)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)("height",e.dims.height)}}function Vye(i,t){if(1&i&&(it(),fe(0,"g",3)),2&i){const e=ue();W("label",e.labelText)("offset",e.labelOffset)("orient",e.yOrient)("height",e.dims.height)("width",e.dims.width)}}const Hye=["ngx-charts-svg-linear-gradient",""];function zye(i,t){if(1&i&&(it(),fe(0,"stop")),2&i){const e=t.$implicit;xi("stop-color",e.color)("stop-opacity",e.opacity),Ae("offset",e.offset+"%")}}const Gye=["ngx-charts-circle",""],Uye=["ngx-charts-circle-series",""];function Wye(i,t){if(1&i&&(it(),fe(0,"rect",4)),2&i){const e=ue(2);W("@animationState","active"),Ae("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}function jye(i,t){if(1&i&&(it(),fe(0,"rect",4)),2&i){const e=ue(2);Ae("x",e.circle.cx-e.circle.radius)("y",e.circle.cy)("width",2*e.circle.radius)("height",e.circle.height)("fill",e.gradientFill)}}const $ye=function(i){return{name:i}};function Yye(i,t){if(1&i){const e=tn();it(),A(0,"g"),A(1,"defs"),fe(2,"g",1),E(),pe(3,Wye,1,6,"rect",2),pe(4,jye,1,5,"rect",2),A(5,"g",3),Le("select",function(){Qt(e);const s=ue();return s.onClick(s.circle.data)})("activate",function(){return Qt(e),ue().activateCircle()})("deactivate",function(){return Qt(e),ue().deactivateCircle()}),E(),E()}if(2&i){const e=ue();U(2),W("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.circle.gradientStops),U(1),W("ngIf",!e.isSSR&&e.barVisible&&"standard"===e.type),U(1),W("ngIf",e.isSSR&&e.barVisible&&"standard"===e.type),U(1),ut("active",e.isActive(Nl(20,$ye,e.circle.seriesName))),W("cx",e.circle.cx)("cy",e.circle.cy)("r",e.circle.radius)("fill",e.circle.color)("pointerEvents",0===e.circle.value?"none":"all")("data",e.circle.value)("classNames",e.circle.classNames)("tooltipDisabled",e.tooltipDisabled)("tooltipPlacement",e.placementTypes.Top)("tooltipType",e.styleTypes.tooltip)("tooltipTitle",e.tooltipTemplate?void 0:e.getTooltipText(e.circle))("tooltipTemplate",e.tooltipTemplate)("tooltipContext",e.circle.data)}}const Jye=["ngx-charts-area",""];function exe(i,t){if(1&i&&(it(),A(0,"defs"),fe(1,"g",2),E()),2&i){const e=ue();U(1),W("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}const ixe=["tooltipAnchor"],nxe=["ngx-charts-tooltip-area",""];function sxe(i,t){if(1&i&&(A(0,"div",6),fe(1,"span",7),we(2),E()),2&i){const e=t.$implicit,n=ue(2);U(1),xi("background-color",e.color),U(1),ki(" ",n.getToolTipText(e)," ")}}function rxe(i,t){if(1&i&&(it(),ld(),A(0,"div",4),pe(1,sxe,3,3,"div",5),E()),2&i){const e=t.model;U(1),W("ngForOf",e)}}const axe=["ngx-charts-timeline",""],fxe=["tooltipTemplate"],mxe=["seriesTooltipTemplate"],tm=function(i,t){return[i,t]},Wxe=["ngx-charts-line",""];function jxe(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"path",1),E()),2&i){const e=ue();U(1),W("@animationState","active"),Ae("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}function $xe(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"path",1),E()),2&i){const e=ue();U(1),Ae("d",e.initialPath)("fill",e.fill)("stroke",e.stroke)}}const Yxe=["ngx-charts-line-series",""];function qxe(i,t){if(1&i&&(it(),fe(0,"g",4)),2&i){const e=ue();W("orientation",e.barOrientation.Vertical)("name",e.gradientId)("stops",e.gradientStops)}}function Xxe(i,t){if(1&i&&(it(),fe(0,"g",5)),2&i){const e=ue();ut("active",e.isActive(e.data))("inactive",e.isInactive(e.data)),W("data",e.data)("path",e.outerPath)("fill",e.hasGradient?e.gradientUrl:e.colors.getColor(e.data.name))("opacity",e.rangeFillOpacity)("animations",e.animations)}}function Qxe(i,t){if(1&i){const e=tn();it(),A(0,"g",7),Le("dimensionsChanged",function(s){return Qt(e),ue().updateXAxisHeight(s)}),E()}if(2&i){const e=ue();W("xScale",e.xScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showXAxisLabel)("labelText",e.xAxisLabel)("trimTicks",e.trimXAxisTicks)("rotateTicks",e.rotateXAxisTicks)("maxTickLength",e.maxXAxisTickLength)("tickFormatting",e.xAxisTickFormatting)("ticks",e.xAxisTicks)}}function Kxe(i,t){if(1&i){const e=tn();it(),A(0,"g",8),Le("dimensionsChanged",function(s){return Qt(e),ue().updateYAxisWidth(s)}),E()}if(2&i){const e=ue();W("yScale",e.yScale)("dims",e.dims)("showGridLines",e.showGridLines)("showLabel",e.showYAxisLabel)("labelText",e.yAxisLabel)("trimTicks",e.trimYAxisTicks)("maxTickLength",e.maxYAxisTickLength)("tickFormatting",e.yAxisTickFormatting)("ticks",e.yAxisTicks)("referenceLines",e.referenceLines)("showRefLines",e.showRefLines)("showRefLabels",e.showRefLabels)}}function Zxe(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"g",10),E()),2&i){const e=t.$implicit,n=ue(2);W("@animationState","active"),U(1),W("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("hasRange",n.hasRange)("animations",n.animations)}}function Jxe(i,t){if(1&i&&(it(),A(0,"g"),pe(1,Zxe,2,11,"g",9),E()),2&i){const e=ue();U(1),W("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function e0e(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"g",10),E()),2&i){const e=t.$implicit,n=ue(2);U(1),W("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("activeEntries",n.activeEntries)("scaleType",n.scaleType)("curve",n.curve)("rangeFillOpacity",n.rangeFillOpacity)("hasRange",n.hasRange)("animations",n.animations)}}function t0e(i,t){if(1&i&&(it(),A(0,"g"),pe(1,e0e,2,10,"g",9),E()),2&i){const e=ue();U(1),W("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function i0e(i,t){if(1&i){const e=tn();it(),A(0,"g"),A(1,"g",14),Le("select",function(s){return Qt(e),ue(2).onClick(s)})("activate",function(s){return Qt(e),ue(2).onActivate(s)})("deactivate",function(s){return Qt(e),ue(2).onDeactivate(s)}),E(),E()}if(2&i){const e=t.$implicit,n=ue(2);U(1),W("xScale",n.xScale)("yScale",n.yScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("visibleValue",n.hoveredVertical)("activeEntries",n.activeEntries)("tooltipDisabled",n.tooltipDisabled)("tooltipTemplate",n.tooltipTemplate)}}function n0e(i,t){if(1&i){const e=tn();it(),A(0,"g",11),Le("mouseleave",function(){return Qt(e),ue().hideCircles()}),A(1,"g",12),Le("hover",function(s){return Qt(e),ue().updateHoveredVertical(s)}),E(),pe(2,i0e,2,9,"g",13),E()}if(2&i){const e=ue();U(1),W("dims",e.dims)("xSet",e.xSet)("xScale",e.xScale)("yScale",e.yScale)("results",e.results)("colors",e.colors)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.seriesTooltipTemplate),U(1),W("ngForOf",e.results)}}function s0e(i,t){if(1&i&&(it(),A(0,"g"),fe(1,"g",16),E()),2&i){const e=t.$implicit,n=ue(2);U(1),W("xScale",n.timelineXScale)("yScale",n.timelineYScale)("colors",n.colors)("data",e)("scaleType",n.scaleType)("curve",n.curve)("hasRange",n.hasRange)("animations",n.animations)}}function r0e(i,t){if(1&i){const e=tn();it(),A(0,"g",15),Le("onDomainChange",function(s){return Qt(e),ue().updateDomain(s)}),pe(1,s0e,2,8,"g",9),E()}if(2&i){const e=ue();W("results",e.results)("view",og(10,tm,e.timelineWidth,e.height))("height",e.timelineHeight)("scheme",e.scheme)("customColors",e.customColors)("scaleType",e.scaleType)("legend",e.legend),Ae("transform",e.timelineTransform),U(1),W("ngForOf",e.results)("ngForTrackBy",e.trackBy)}}function v0e(i,t,e){e=e||{};let n,s,r,a=null,o=0;function l(){o=!1===e.leading?0:+new Date,a=null,r=i.apply(n,s)}return function(){const c=+new Date;!o&&!1===e.leading&&(o=c);const d=t-(c-o);return n=this,s=arguments,d<=0?(clearTimeout(a),a=null,o=c,r=i.apply(n,s)):!a&&!1!==e.trailing&&(a=setTimeout(l,d)),r}}function y0e(i,t){return function(n,s,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,s,{configurable:!0,enumerable:r.enumerable,value:v0e(r.value,i,t)}),this[s]}}}}var Gt=(()=>{return(i=Gt||(Gt={})).Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",i.Center="center",Gt;var i})();function zG(i,t,e){return e===Gt.Top?i.top-7:e===Gt.Bottom?i.top+i.height-t.height+7:e===Gt.Center?i.top+i.height/2-t.height/2:void 0}function GG(i,t,e){return e===Gt.Left?i.left-7:e===Gt.Right?i.left+i.width-t.width+7:e===Gt.Center?i.left+i.width/2-t.width/2:void 0}class er{static calculateVerticalAlignment(t,e,n){let s=zG(t,e,n);return s+e.height>window.innerHeight&&(s=window.innerHeight-e.height),s}static calculateVerticalCaret(t,e,n,s){let r;s===Gt.Top&&(r=t.height/2-n.height/2+7),s===Gt.Bottom&&(r=e.height-t.height/2-n.height/2-7),s===Gt.Center&&(r=e.height/2-n.height/2);const a=zG(t,e,s);return a+e.height>window.innerHeight&&(r+=a+e.height-window.innerHeight),r}static calculateHorizontalAlignment(t,e,n){let s=GG(t,e,n);return s+e.width>window.innerWidth&&(s=window.innerWidth-e.width),s}static calculateHorizontalCaret(t,e,n,s){let r;s===Gt.Left&&(r=t.width/2-n.width/2+7),s===Gt.Right&&(r=e.width-t.width/2-n.width/2-7),s===Gt.Center&&(r=e.width/2-n.width/2);const a=GG(t,e,s);return a+e.width>window.innerWidth&&(r+=a+e.width-window.innerWidth),r}static shouldFlip(t,e,n,s){let r=!1;return n===Gt.Right&&t.left+t.width+e.width+s>window.innerWidth&&(r=!0),n===Gt.Left&&t.left-e.width-s<0&&(r=!0),n===Gt.Top&&t.top-e.height-s<0&&(r=!0),n===Gt.Bottom&&t.top+t.height+e.height+s>window.innerHeight&&(r=!0),r}static positionCaret(t,e,n,s,r){let a=0,o=0;return t===Gt.Right?(o=-7,a=er.calculateVerticalCaret(n,e,s,r)):t===Gt.Left?(o=e.width,a=er.calculateVerticalCaret(n,e,s,r)):t===Gt.Top?(a=e.height,o=er.calculateHorizontalCaret(n,e,s,r)):t===Gt.Bottom&&(a=-7,o=er.calculateHorizontalCaret(n,e,s,r)),{top:a,left:o}}static positionContent(t,e,n,s,r){let a=0,o=0;return t===Gt.Right?(o=n.left+n.width+s,a=er.calculateVerticalAlignment(n,e,r)):t===Gt.Left?(o=n.left-e.width-s,a=er.calculateVerticalAlignment(n,e,r)):t===Gt.Top?(a=n.top-e.height-s,o=er.calculateHorizontalAlignment(n,e,r)):t===Gt.Bottom&&(a=n.top+n.height+s,o=er.calculateHorizontalAlignment(n,e,r)),{top:a,left:o}}static determinePlacement(t,e,n,s){if(er.shouldFlip(n,e,t,s)){if(t===Gt.Right)return Gt.Left;if(t===Gt.Left)return Gt.Right;if(t===Gt.Top)return Gt.Bottom;if(t===Gt.Bottom)return Gt.Top}return t}}let x0e=(()=>{class i{constructor(e,n,s){this.element=e,this.renderer=n,this.platformId=s}get cssClasses(){let e="ngx-charts-tooltip-content";return e+=` position-${this.placement}`,e+=` type-${this.type}`,e+=` ${this.cssClass}`,e}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!Us(this.platformId))return;const e=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;const s=e.getBoundingClientRect();this.checkFlip(n,s),this.positionContent(e,n,s),this.showCaret&&this.positionCaret(n,s),setTimeout(()=>this.renderer.addClass(e,"animate"),1)}positionContent(e,n,s){const{top:r,left:a}=er.positionContent(this.placement,s,n,this.spacing,this.alignment);this.renderer.setStyle(e,"top",`${r}px`),this.renderer.setStyle(e,"left",`${a}px`)}positionCaret(e,n){const s=this.caretElm.nativeElement,r=s.getBoundingClientRect(),{top:a,left:o}=er.positionCaret(this.placement,n,e,r,this.alignment);this.renderer.setStyle(s,"top",`${a}px`),this.renderer.setStyle(s,"left",`${o}px`)}checkFlip(e,n){this.placement=er.determinePlacement(this.placement,n,e,this.spacing)}onWindowResize(){this.position()}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Gs),x(hn))},i.\u0275cmp=Be({type:i,selectors:[["ngx-tooltip-content"]],viewQuery:function(e,n){if(1&e&&Ct(dye,5),2&e){let s;Ce(s=Se())&&(n.caretElm=s.first)}},hostVars:2,hostBindings:function(e,n){1&e&&Le("resize",function(){return n.onWindowResize()},!1,JE),2&e&&function aR(i){Or(Os,fa,i,!0)}(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(e,n){1&e&&(A(0,"div"),fe(1,"span",0,1),A(3,"div",2),pe(4,pye,2,4,"span",3),pe(5,fye,1,1,"span",4),E(),E()),2&e&&(U(1),Db("tooltip-caret position-",n.placement,""),W("hidden",!n.showCaret),U(3),W("ngIf",!n.title),U(1),W("ngIf",n.title))},directives:[Mi,PL],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),function Hpe(i,t,e,n){var a,s=arguments.length,r=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(i,t,e,n);else for(var o=i.length-1;o>=0;o--)(a=i[o])&&(r=(s<3?a(r):s>3?a(t,e,r):a(t,e))||r);s>3&&r&&Object.defineProperty(t,e,r)}([y0e(100)],i.prototype,"onWindowResize",null),i})(),UG=(()=>{class i{constructor(e,n,s){this.applicationRef=e,this.componentFactoryResolver=n,this.injector=s}static setGlobalRootViewContainer(e){i.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(i.globalRootViewContainer)return i.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(e){this._container=e}getComponentRootNode(e){return function w0e(i){return i.element}(e)?e.element.nativeElement:e.hostView&&e.hostView.rootNodes.length>0?e.hostView.rootNodes[0]:e.location.nativeElement}getRootViewContainerNode(e){return this.getComponentRootNode(e)}projectComponentBindings(e,n){if(n){if(void 0!==n.inputs){const s=Object.getOwnPropertyNames(n.inputs);for(const r of s)e.instance[r]=n.inputs[r]}if(void 0!==n.outputs){const s=Object.getOwnPropertyNames(n.outputs);for(const r of s)e.instance[r]=n.outputs[r]}}return e}appendComponent(e,n={},s){s||(s=this.getRootViewContainer());const r=this.getComponentRootNode(s),a=new ZV(r,this.componentFactoryResolver,this.applicationRef,this.injector),o=new QV(e),l=a.attach(o);return this.projectComponentBindings(l,n),l}}return i.globalRootViewContainer=null,i.\u0275fac=function(e){return new(e||i)($(Vl),$(ga),$(en))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),pD=(()=>{class i extends class b0e{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let n=e.length-1;for(;n>=0;)this.destroy(e[n--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return!t.inputs&&!t.outputs&&(t={inputs:t}),e&&(t.inputs=Object.assign(Object.assign({},e),t.inputs)),n&&(t.outputs=Object.assign(Object.assign({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(e){super(e),this.type=x0e}}return i.\u0275fac=function(e){return new(e||i)($(UG))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})();var Do=(()=>{return(i=Do||(Do={})).Right="right",i.Below="below",Do;var i})(),Qc=(()=>{return(i=Qc||(Qc={})).ScaleLegend="scaleLegend",i.Legend="legend",Qc;var i})(),Je=(()=>{return(i=Je||(Je={})).Time="time",i.Linear="linear",i.Ordinal="ordinal",i.Quantile="quantile",Je;var i})();let WG=(()=>{class i{constructor(){this.horizontal=!1}ngOnChanges(e){const n=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${n})`}gradientString(e,n){n.push(1);const s=[];return e.reverse().forEach((r,a)=>{s.push(`${r} ${Math.round(100*n[a])}%`)}),s.join(", ")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["ngx-charts-scale-legend"]],inputs:{valueRange:"valueRange",colors:"colors",height:"height",width:"width",horizontal:"horizontal"},features:[bt],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"div",1),A(2,"span"),we(3),E(),E(),fe(4,"div",2),A(5,"div",1),A(6,"span"),we(7),E(),E(),E()),2&e&&(xi("height",n.horizontal?void 0:n.height,"px")("width",n.width,"px"),ut("horizontal-legend",n.horizontal),U(3),un(n.valueRange[1].toLocaleString()),U(1),xi("background",n.gradient),U(3),un(n.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{text-align:center;display:flex;flex-direction:column}.chart-legend .scale-legend-wrap{display:inline-block;flex:1;width:30px;border-radius:5px;margin:0 auto}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{width:auto;height:30px;margin:0 16px}\n"],encapsulation:2,changeDetection:0}),i})();function fD(i){return i instanceof Date?i.toLocaleDateString():i.toLocaleString()}function jG(i){return i.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}let $G=(()=>{class i{constructor(){this.isActive=!1,this.select=new ge,this.activate=new ge,this.deactivate=new ge,this.toggle=new ge}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(e,n){1&e&&Le("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{color:"color",label:"label",formattedLabel:"formattedLabel",isActive:"isActive"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(e,n){1&e&&(A(0,"span",0),Le("click",function(){return n.select.emit(n.formattedLabel)}),A(1,"span",1),Le("click",function(){return n.toggle.emit(n.formattedLabel)}),E(),A(2,"span",2),we(3),E(),E()),2&e&&(ut("active",n.isActive),W("title",n.formattedLabel),U(1),xi("background-color",n.color),U(2),ki(" ",n.trimmedLabel," "))},encapsulation:2,changeDetection:0}),i})(),YG=(()=>{class i{constructor(e){this.cd=e,this.horizontal=!1,this.labelClick=new ge,this.labelActivate=new ge,this.labelDeactivate=new ge,this.legendEntries=[]}ngOnChanges(e){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const e=[];for(const n of this.data){const s=fD(n);-1===e.findIndex(a=>a.label===s)&&e.push({label:n,formattedLabel:s,color:this.colors.getColor(n)})}return e}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.label===s.name)}activate(e){this.labelActivate.emit(e)}deactivate(e){this.labelDeactivate.emit(e)}trackBy(e,n){return n.label}}return i.\u0275fac=function(e){return new(e||i)(x(Kt))},i.\u0275cmp=Be({type:i,selectors:[["ngx-charts-legend"]],inputs:{data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries",horizontal:"horizontal"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[bt],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(e,n){1&e&&(A(0,"div"),pe(1,mye,3,1,"header",0),A(2,"div",1),A(3,"ul",2),pe(4,gye,2,4,"li",3),E(),E(),E()),2&e&&(xi("width",n.width,"px"),U(1),W("ngIf",(null==n.title?null:n.title.length)>0),U(2),xi("max-height",n.height-45,"px"),ut("horizontal-legend",n.horizontal),U(1),W("ngForOf",n.legendEntries)("ngForTrackBy",n.trackBy))},directives:[$G,Mi,Ts],styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{white-space:nowrap;overflow:hidden;margin-left:10px;margin-bottom:5px;font-size:14px;font-weight:700}.chart-legend ul,.chart-legend li{padding:0;margin:0;list-style:none}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{line-height:85%;list-style:none;text-align:left;float:left;width:100%;border-radius:3px;overflow-y:auto;overflow-x:hidden;white-space:nowrap;background:rgba(0,0,0,.05)}.chart-legend .legend-label{cursor:pointer;font-size:90%;margin:8px;color:#afb7c8}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{display:inline-block;height:15px;width:15px;margin-right:5px;color:#5b646b;border-radius:3px}.chart-legend .legend-label-text{display:inline-block;vertical-align:top;line-height:15px;font-size:12px;width:calc(100% - 20px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.chart-legend .legend-title-text{vertical-align:bottom;display:inline-block;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),i})(),qG=(()=>{class i{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new ge,this.legendLabelActivate=new ge,this.legendLabelDeactivate=new ge,this.LegendPosition=Do,this.LegendType=Qc}ngOnChanges(e){this.update()}update(){let e=0;this.showLegend&&(this.legendType=this.getLegendType(),(!this.legendOptions||this.legendOptions.position===Do.Right)&&(e=this.legendType===Qc.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-e)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==Do.Right?this.chartWidth:Math.floor(this.view[0]*e/12)}getLegendType(){return this.legendOptions.scaleType===Je.Linear?Qc.ScaleLegend:Qc.Legend}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["ngx-charts-chart"]],inputs:{view:"view",showLegend:"showLegend",legendOptions:"legendOptions",legendType:"legendType",activeEntries:"activeEntries",animations:"animations"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[Qe([pD]),bt],ngContentSelectors:VG,decls:5,vars:6,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(e,n){1&e&&(Ci(),A(0,"div",0),it(),A(1,"svg",1),At(2),E(),pe(3,_ye,1,5,"ngx-charts-scale-legend",2),pe(4,vye,1,7,"ngx-charts-legend",3),E()),2&e&&(xi("width",n.view[0],"px"),U(1),Ae("width",n.chartWidth)("height",n.view[1]),U(2),W("ngIf",n.showLegend&&n.legendType===n.LegendType.ScaleLegend),U(1),W("ngIf",n.showLegend&&n.legendType===n.LegendType.Legend))},directives:[WG,YG,Mi],encapsulation:2,changeDetection:0}),i})(),C0e=(()=>{class i{constructor(e,n){this.element=e,this.zone=n,this.visible=new ge,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const e=()=>{if(!this.element)return;const{offsetHeight:n,offsetWidth:s}=this.element.nativeElement;n&&s?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>e())})}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(st))},i.\u0275dir=j({type:i,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),i})();function XG(i){return"[object Date]"===toString.call(i)}let QG=(()=>{class i{constructor(e,n,s,r){this.chartElement=e,this.zone=n,this.cd=s,this.platformId=r,this.scheme="cool",this.schemeType=Je.Ordinal,this.animations=!0,this.select=new ge}ngOnInit(){va(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new C0e(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(e){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const e=this.getContainerDims();e&&(this.width=e.width,this.height=e.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let e,n;const s=this.chartElement.nativeElement;if(Us(this.platformId)&&null!==s.parentNode){const r=s.parentNode.getBoundingClientRect();e=r.width,n=r.height}return e&&n?{width:e,height:n}:null}formatDates(){for(let e=0;e<this.results.length;e++){const n=this.results[e];if(n.label=n.name,XG(n.label)&&(n.label=n.label.toLocaleDateString()),n.series)for(let s=0;s<n.series.length;s++){const r=n.series[s];r.label=r.name,XG(r.label)&&(r.label=r.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!Us(this.platformId))return;const n=Zs(window,"resize").pipe(my(200)).subscribe(s=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=n}cloneData(e){const n=[];for(const s of e){const r={name:s.name};if(void 0!==s.value&&(r.value=s.value),void 0!==s.series){r.series=[];for(const a of s.series){const o=Object.assign({},a);r.series.push(o)}}void 0!==s.extra&&(r.extra=JSON.parse(JSON.stringify(s.extra))),n.push(r)}return n}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(st),x(Kt),x(hn))},i.\u0275cmp=Be({type:i,selectors:[["base-chart"]],inputs:{results:"results",view:"view",scheme:"scheme",schemeType:"schemeType",customColors:"customColors",animations:"animations"},outputs:{select:"select"},features:[bt],decls:1,vars:0,template:function(e,n){1&e&&fe(0,"div")},encapsulation:2}),i})();var Pn=(()=>{return(i=Pn||(Pn={})).Top="top",i.Bottom="bottom",i.Left="left",i.Right="right",Pn;var i})();let KG=(()=>{class i{constructor(e){this.textHeight=25,this.margin=5,this.element=e.nativeElement}ngOnChanges(e){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case Pn.Top:case Pn.Bottom:this.y=this.offset,this.x=this.width/2;break;case Pn.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case Pn.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return i.\u0275fac=function(e){return new(e||i)(x(ve))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[bt],attrs:yye,decls:2,vars:6,template:function(e,n){1&e&&(it(),A(0,"text"),we(1),E()),2&e&&(Ae("stroke-width",n.strokeWidth)("x",n.x)("y",n.y)("text-anchor",n.textAnchor)("transform",n.transform),U(1),ki(" ",n.label," "))},encapsulation:2,changeDetection:0}),i})();function mD(i,t=16){return"string"!=typeof i?"number"==typeof i?i+"":"":(i=i.trim()).length<=t?i:`${i.slice(0,t)}...`}function ZG(i,t){if(i.length>t){const e=[],n=Math.floor(i.length/t);for(let s=0;s<i.length;s++)s%n==0&&e.push(i[s]);i=e}return i}var ta=(()=>{return(i=ta||(ta={})).Start="start",i.Middle="middle",i.End="end",ta;var i})();let JG=(()=>{class i{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new ge,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=ta.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Us(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);e!==this.height&&(this.height=e,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const e=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()};const n=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(s){return this.scale(s)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",n&&0!==n?(this.textTransform=`rotate(${n})`,this.textAnchor=ta.End,this.verticalSpacing=10):this.textAnchor=ta.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(e){let n=0;this.maxTicksLength=0;for(let c=0;c<e.length;c++){const d=this.tickFormat(e[c]).toString();let u=d.length;this.trimTicks&&(u=this.tickTrim(d).length),u>this.maxTicksLength&&(this.maxTicksLength=u)}const a=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let o=a;const l=Math.floor(this.width/e.length);for(;o>l&&n>-90;)n-=30,o=Math.cos(n*(Math.PI/180))*a;return this.approxHeight=Math.max(Math.abs(Math.sin(n*(Math.PI/180))*a),10),n}getTicks(){let e;const n=this.getMaxTicks(20),s=this.getMaxTicks(100);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=ZG(e,n)),e}getMaxTicks(e){return Math.floor(this.width/e)}tickTransform(e){return"translate("+this.adjustedScale(e)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(e){return this.trimTicks?mD(e,this.maxTickLength):e}}return i.\u0275fac=function(e){return new(e||i)(x(hn))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(e,n){if(1&e&&Ct(HG,5),2&e){let s;Ce(s=Se())&&(n.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineHeight:"gridLineHeight",width:"width",rotateTicks:"rotateTicks"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[bt],attrs:xye,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(e,n){1&e&&(it(),A(0,"g",null,0),pe(2,bye,5,7,"g",1),E(),pe(3,Cye,2,2,"g",2)),2&e&&(U(2),W("ngForOf",n.ticks),U(1),W("ngForOf",n.ticks))},directives:[Ts,Mi],encapsulation:2,changeDetection:0}),i})(),S0e=(()=>{class i{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=Pn.Bottom,this.xAxisOffset=0,this.dimensionsChanged=new ge,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.orientation=Pn}ngOnChanges(e){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:e}){const n=e+25+5;n!==this.labelOffset&&(this.labelOffset=n,setTimeout(()=>{this.dimensionsChanged.emit({height:e})},0))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(e,n){if(1&e&&Ct(JG,5),2&e){let s;Ce(s=Se())&&(n.ticksComponent=s.first)}},inputs:{xScale:"xScale",dims:"dims",trimTicks:"trimTicks",rotateTicks:"rotateTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount",xOrient:"xOrient",xAxisOffset:"xAxisOffset"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[bt],attrs:Sye,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,n){1&e&&(it(),A(0,"g"),pe(1,Mye,1,12,"g",0),pe(2,Tye,1,5,"g",1),E()),2&e&&(Ae("class",n.xAxisClassName)("transform",n.transform),U(1),W("ngIf",n.xScale),U(1),W("ngIf",n.showLabel))},directives:[JG,KG,Mi],encapsulation:2,changeDetection:0}),i})(),e5=(()=>{class i{constructor(e){this.platformId=e,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new ge,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=ta.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=Pn}ngOnChanges(e){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!Us(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const e=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);e!==this.width&&(this.width=e,this.dimensionsChanged.emit({width:e}),setTimeout(()=>this.updateDims()))}update(){let e;const n=this.orient===Pn.Top||this.orient===Pn.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,e=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:e.tickFormat?e.tickFormat.apply(e,this.tickArguments):function(s){return"Date"===s.constructor.name?s.toLocaleDateString():s.toLocaleString()},this.adjustedScale=e.bandwidth?function(s){return e(s)+.5*e.bandwidth()}:e,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case Pn.Top:case Pn.Bottom:this.transform=function(s){return"translate("+this.adjustedScale(s)+",0)"},this.textAnchor=ta.Middle,this.y2=this.innerTickSize*n,this.y1=this.tickSpacing*n,this.dy=n<0?"0em":".71em";break;case Pn.Left:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ta.End,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em";break;case Pn.Right:this.transform=function(s){return"translate(0,"+this.adjustedScale(s)+")"},this.textAnchor=ta.Start,this.x2=this.innerTickSize*-n,this.x1=this.tickSpacing*-n,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(e=>e.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(e=>e.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=function M0e(i,t,e,n,s,[r,a,o,l]){let c="";return c=`M${[i+s,t]}`,c+="h"+((e=0===(e=Math.floor(e))?1:e)-2*s),c+=a?`a${[s,s]} 0 0 1 ${[s,s]}`:`h${s}v${s}`,c+="v"+((n=0===(n=Math.floor(n))?1:n)-2*s),c+=l?`a${[s,s]} 0 0 1 ${[-s,s]}`:`v${s}h${-s}`,c+="h"+(2*s-e),c+=o?`a${[s,s]} 0 0 1 ${[-s,-s]}`:`h${-s}v${-s}`,c+="v"+(2*s-n),c+=r?`a${[s,s]} 0 0 1 ${[s,-s]}`:`v${-s}h${s}`,c+="z",c}(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let e;const n=this.getMaxTicks(20),s=this.getMaxTicks(50);return this.tickValues?e=this.tickValues:this.scale.ticks?e=this.scale.ticks.apply(this.scale,[s]):(e=this.scale.domain(),e=ZG(e,n)),e}getMaxTicks(e){return Math.floor(this.height/e)}tickTransform(e){return`translate(${this.adjustedScale(e)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(e){return this.trimTicks?mD(e,this.maxTickLength):e}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(s=>this.tickTrim(this.tickFormat(s)).length))}}return i.\u0275fac=function(e){return new(e||i)(x(hn))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(e,n){if(1&e&&Ct(HG,5),2&e){let s;Ce(s=Se())&&(n.ticksElement=s.first)}},inputs:{scale:"scale",orient:"orient",tickArguments:"tickArguments",tickValues:"tickValues",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showGridLines:"showGridLines",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[bt],attrs:Dye,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(e,n){1&e&&(it(),A(0,"g",null,0),pe(2,Aye,5,9,"g",1),E(),pe(3,Eye,1,2,"path",2),pe(4,Lye,2,2,"g",3),pe(5,Oye,2,1,"g",3)),2&e&&(U(2),W("ngForOf",n.ticks),U(1),W("ngIf",n.referenceLineLength>1&&n.refMax&&n.refMin&&n.showRefLines),U(1),W("ngForOf",n.ticks),U(1),W("ngForOf",n.referenceLines))},directives:[Ts,Mi],encapsulation:2,changeDetection:0}),i})(),T0e=(()=>{class i{constructor(){this.showGridLines=!1,this.yOrient=Pn.Left,this.yAxisOffset=0,this.dimensionsChanged=new ge,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(e){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===Pn.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:e}){e!==this.labelOffset&&this.yOrient===Pn.Right?(this.labelOffset=e+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0)):e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({width:e})},0))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(e,n){if(1&e&&Ct(e5,5),2&e){let s;Ce(s=Se())&&(n.ticksComponent=s.first)}},inputs:{yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showGridLines:"showGridLines",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",yOrient:"yOrient",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels",yAxisOffset:"yAxisOffset"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[bt],attrs:Nye,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(e,n){1&e&&(it(),A(0,"g"),pe(1,Bye,1,14,"g",0),pe(2,Vye,1,5,"g",1),E()),2&e&&(Ae("class",n.yAxisClassName)("transform",n.transform),U(1),W("ngIf",n.yScale),U(1),W("ngIf",n.showLabel))},directives:[e5,KG,Mi],encapsulation:2,changeDetection:0}),i})(),t5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi]]}),i})();var uh=(()=>{return(i=uh||(uh={})).popover="popover",i.tooltip="tooltip",uh;var i})(),Cl=(()=>{return(i=Cl||(Cl={}))[i.all="all"]="all",i[i.focus="focus"]="focus",i[i.mouseover="mouseover"]="mouseover",Cl;var i})();let n5=(()=>{class i{constructor(e,n,s){this.tooltipService=e,this.viewContainerRef=n,this.renderer=s,this.tooltipCssClass="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=Gt.Top,this.tooltipAlignment=Gt.Center,this.tooltipType=uh.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Cl.all,this.tooltipImmediateExit=!1,this.show=new ge,this.hide=new ge}get listensForFocus(){return this.tooltipShowEvent===Cl.all||this.tooltipShowEvent===Cl.focus}get listensForHover(){return this.tooltipShowEvent===Cl.all||this.tooltipShowEvent===Cl.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(e){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(e))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(e){if(this.component||this.tooltipDisabled)return;const n=e?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const s=this.createBoundOptions();this.component=this.tooltipService.create(s),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},n)}addHideListeners(e){this.mouseEnterContentEvent=this.renderer.listen(e,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(e,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",n=>{e.contains(n.target)||this.hideTooltip()}))}hideTooltip(e=!1){if(!this.component)return;const n=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),e?n():this.timeout=setTimeout(n,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return i.\u0275fac=function(e){return new(e||i)(x(pD),x(Pi),x(Gs))},i.\u0275dir=j({type:i,selectors:[["","ngx-tooltip",""]],hostBindings:function(e,n){1&e&&Le("focusin",function(){return n.onFocus()})("blur",function(){return n.onBlur()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(r){return n.onMouseLeave(r.target)})("click",function(){return n.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipTemplate:"tooltipTemplate",tooltipShowEvent:"tooltipShowEvent",tooltipContext:"tooltipContext",tooltipImmediateExit:"tooltipImmediateExit"},outputs:{show:"show",hide:"hide"}}),i})(),s5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[UG,pD],imports:[[Fi]]}),i})();const r5={};function hh(){let i=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return i=`a${i}`,r5[i]?hh():(r5[i]=!0,i)}var ia=(()=>{return(i=ia||(ia={})).Vertical="vertical",i.Horizontal="horizontal",ia;var i})();let ix=(()=>{class i{constructor(){this.orientation=ia.Vertical}ngOnChanges(e){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===ia.Horizontal?this.x2="100%":this.orientation===ia.Vertical&&(this.y1="100%")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[bt],attrs:Hye,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(e,n){1&e&&(it(),A(0,"linearGradient",0),pe(1,zye,1,5,"stop",1),E()),2&e&&(W("id",n.name),Ae("x1",n.x1)("y1",n.y1)("x2",n.x2)("y2",n.y2),U(1),W("ngForOf",n.stops))},directives:[Ts],encapsulation:2,changeDetection:0}),i})(),a5=(()=>{class i{constructor(){this.select=new ge,this.activate=new ge,this.deactivate=new ge}onClick(){this.select.emit(this.data)}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}ngOnChanges(e){this.classNames=Array.isArray(this.classNames)?this.classNames.join(" "):"",this.classNames+="circle"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-circle",""]],hostBindings:function(e,n){1&e&&Le("click",function(){return n.onClick()})("mouseenter",function(){return n.onMouseEnter()})("mouseleave",function(){return n.onMouseLeave()})},inputs:{cx:"cx",cy:"cy",r:"r",fill:"fill",stroke:"stroke",data:"data",classNames:"classNames",circleOpacity:"circleOpacity",pointerEvents:"pointerEvents"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[bt],attrs:Gye,decls:1,vars:8,template:function(e,n){1&e&&(it(),fe(0,"circle")),2&e&&Ae("cx",n.cx)("cy",n.cy)("r",n.r)("fill",n.fill)("stroke",n.stroke)("opacity",n.circleOpacity)("class",n.classNames)("pointer-events",n.pointerEvents)},encapsulation:2,changeDetection:0}),i})();var ph=(()=>{return(i=ph||(ph={})).Standard="standard",i.Stacked="stacked",ph;var i})();let gD,o5=(()=>{class i{constructor(e){this.platformId=e,this.type=ph.Standard,this.tooltipDisabled=!1,this.select=new ge,this.activate=new ge,this.deactivate=new ge,this.barVisible=!1,this.barOrientation=ia,this.placementTypes=Gt,this.styleTypes=uh,this.isSSR=!1}ngOnInit(){this.gradientId="grad"+hh().toString(),this.gradientFill=`url(#${this.gradientId})`,va(this.platformId)&&(this.isSSR=!0)}ngOnChanges(){this.update()}update(){this.circle=this.getActiveCircle()}getActiveCircle(){const e=this.data.series.findIndex(n=>{const s=n.name;return s&&this.visibleValue&&s.toString()===this.visibleValue.toString()&&void 0!==n.value});if(-1!==e)return this.mapDataPointToCircle(this.data.series[e],e)}mapDataPointToCircle(e,n){const s=this.data.name,r=e.value,a=e.name,o=fD(a);let l;l=this.xScale(this.scaleType===Je.Time?a:this.scaleType===Je.Linear?Number(a):a);const c=this.yScale(this.type===ph.Standard?r:e.d1),u=this.yScale.range()[0]-c;let p;return p=this.colors.getColor(this.colors.scaleType===Je.Linear?this.type===ph.Standard?r:e.d1:s),{classNames:[`circle-data-${n}`],value:r,label:a,data:Object.assign({},e,{series:s,value:r,name:a}),cx:l,cy:c,radius:5,height:u,tooltipLabel:o,color:p,opacity:1,seriesName:s,gradientStops:this.getGradientStops(p),min:e.min,max:e.max}}getTooltipText({tooltipLabel:e,value:n,seriesName:s,min:r,max:a}){return`\n      <span class="tooltip-label">${jG(s)} \u2022 ${jG(e)}</span>\n      <span class="tooltip-val">${n.toLocaleString()}${this.getTooltipMinMaxText(r,a)}</span>\n    `}getTooltipMinMaxText(e,n){if(void 0!==e||void 0!==n){let s=" (";return void 0!==e?(void 0===n&&(s+="\u2265"),s+=e.toLocaleString(),void 0!==n&&(s+=" - ")):void 0!==n&&(s+="\u2264"),void 0!==n&&(s+=n.toLocaleString()),s+=")",s}return""}getGradientStops(e){return[{offset:0,color:e,opacity:.2},{offset:100,color:e,opacity:1}]}onClick(e){this.select.emit(e)}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}activateCircle(){this.barVisible=!0,this.activate.emit({name:this.data.name})}deactivateCircle(){this.barVisible=!1,this.circle.opacity=0,this.deactivate.emit({name:this.data.name})}}return i.\u0275fac=function(e){return new(e||i)(x(hn))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-circle-series",""]],inputs:{data:"data",type:"type",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",visibleValue:"visibleValue",activeEntries:"activeEntries",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[bt],attrs:Uye,decls:1,vars:1,consts:[[4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["class","tooltip-bar",4,"ngIf"],["ngx-charts-circle","","ngx-tooltip","",1,"circle",3,"cx","cy","r","fill","pointerEvents","data","classNames","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","select","activate","deactivate"],[1,"tooltip-bar"]],template:function(e,n){1&e&&pe(0,Yye,6,22,"g",0),2&e&&W("ngIf",n.circle)},directives:[ix,a5,Mi,n5],encapsulation:2,data:{animation:[bi("animationState",[Rt(":enter",[Pe({opacity:0}),Bt(250,Pe({opacity:1}))])])]},changeDetection:0}),i})(),c5=(()=>{class i{constructor(e){this.opacity=1,this.startOpacity=.5,this.endOpacity=1,this.gradient=!1,this.animations=!0,this.select=new ge,this.animationsLoaded=!1,this.hasGradient=!1,this.barOrientation=ia,this.element=e.nativeElement}ngOnChanges(){this.update(),this.animationsLoaded||(this.loadAnimation(),this.animationsLoaded=!0)}update(){this.gradientId="grad"+hh().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl()}loadAnimation(){this.areaPath=this.startingPath,setTimeout(this.updatePathEl.bind(this),100)}updatePathEl(){const e=Cr(this.element).select(".area");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.startOpacity},{offset:100,color:this.fill,opacity:this.endOpacity}]}}return i.\u0275fac=function(e){return new(e||i)(x(ve))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-area",""]],inputs:{data:"data",path:"path",startingPath:"startingPath",fill:"fill",opacity:"opacity",startOpacity:"startOpacity",endOpacity:"endOpacity",gradient:"gradient",stops:"stops",animations:"animations"},outputs:{select:"select"},features:[bt],attrs:Jye,decls:2,vars:5,consts:[[4,"ngIf"],[1,"area"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(e,n){1&e&&(pe(0,exe,2,3,"defs",0),it(),fe(1,"path",1)),2&e&&(W("ngIf",n.gradient),U(1),xi("opacity",n.opacity),Ae("d",n.areaPath)("fill",n.gradient?n.gradientFill:n.fill))},directives:[ix,Mi],encapsulation:2,changeDetection:0}),i})();"undefined"!=typeof window?gD=window:"undefined"!=typeof global&&(gD=global);const h5=gD.MouseEvent;function _D(i,t=!1,e=!0){if("function"==typeof h5)return new h5(i,{bubbles:t,cancelable:e});{const n=document.createEvent("MouseEvent");return n.initEvent(i,t,e),n}}let p5=(()=>{class i{constructor(e){this.platformId=e,this.anchorOpacity=0,this.anchorPos=-1,this.anchorValues=[],this.placementTypes=Gt,this.styleTypes=uh,this.showPercentage=!1,this.tooltipDisabled=!1,this.hover=new ge}getValues(e){const n=[];for(const s of this.results){const r=s.series.find(o=>o.name.toString()===e.toString());let a=s.name;if(a instanceof Date&&(a=a.toLocaleDateString()),r){const o=r.name;let c,l=r.value;if(this.showPercentage&&(l=(r.d1-r.d0).toFixed(2)+"%"),this.colors.scaleType===Je.Linear){let u=l;r.d1&&(u=r.d1),c=this.colors.getColor(u)}else c=this.colors.getColor(s.name);const d=Object.assign({},r,{value:l,name:o,series:a,min:r.min,max:r.max,color:c});n.push(d)}}return n}mouseMove(e){if(!Us(this.platformId))return;const n=e.pageX-e.target.getBoundingClientRect().left,s=this.findClosestPointIndex(n),r=this.xSet[s];if(this.anchorPos=this.xScale(r),this.anchorPos=Math.max(0,this.anchorPos),this.anchorPos=Math.min(this.dims.width,this.anchorPos),this.anchorValues=this.getValues(r),this.anchorPos!==this.lastAnchorPos){const a=_D("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(a),this.anchorOpacity=.7,this.hover.emit({value:r}),this.showTooltip(),this.lastAnchorPos=this.anchorPos}}findClosestPointIndex(e){let n=0,s=this.xSet.length-1,r=Number.MAX_VALUE,a=0;for(;n<=s;){const o=(n+s)/2|0,l=this.xScale(this.xSet[o]),c=Math.abs(l-e);if(c<r&&(r=c,a=o),l<e)n=o+1;else{if(!(l>e)){r=0,a=o;break}s=o-1}}return a}showTooltip(){const e=_D("mouseenter");this.tooltipAnchor.nativeElement.dispatchEvent(e)}hideTooltip(){const e=_D("mouseleave");this.tooltipAnchor.nativeElement.dispatchEvent(e),this.anchorOpacity=0,this.lastAnchorPos=-1}getToolTipText(e){let n="";return n+=void 0!==e.series?e.series:"???",n+=": ",void 0!==e.value&&(n+=e.value.toLocaleString()),(void 0!==e.min||void 0!==e.max)&&(n+=" (",void 0!==e.min?(void 0===e.max&&(n+="\u2265"),n+=e.min.toLocaleString(),void 0!==e.max&&(n+=" - ")):void 0!==e.max&&(n+="\u2264"),void 0!==e.max&&(n+=e.max.toLocaleString()),n+=")"),n}}return i.\u0275fac=function(e){return new(e||i)(x(hn))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-tooltip-area",""]],viewQuery:function(e,n){if(1&e&&Ct(ixe,5),2&e){let s;Ce(s=Se())&&(n.tooltipAnchor=s.first)}},inputs:{dims:"dims",xSet:"xSet",xScale:"xScale",yScale:"yScale",results:"results",colors:"colors",showPercentage:"showPercentage",tooltipDisabled:"tooltipDisabled",tooltipTemplate:"tooltipTemplate"},outputs:{hover:"hover"},attrs:nxe,decls:6,vars:18,consts:[["y","0",1,"tooltip-area",2,"opacity","0","cursor","auto",3,"mousemove","mouseleave"],["defaultTooltipTemplate",""],["y","0","ngx-tooltip","",1,"tooltip-anchor",3,"tooltipDisabled","tooltipPlacement","tooltipType","tooltipSpacing","tooltipTemplate","tooltipContext","tooltipImmediateExit"],["tooltipAnchor",""],[1,"area-tooltip-container"],["class","tooltip-item",4,"ngFor","ngForOf"],[1,"tooltip-item"],[1,"tooltip-item-color"]],template:function(e,n){if(1&e&&(it(),A(0,"g"),A(1,"rect",0),Le("mousemove",function(r){return n.mouseMove(r)})("mouseleave",function(){return n.hideTooltip()}),E(),pe(2,rxe,2,1,"ng-template",null,1,$b),fe(4,"rect",2,3),E()),2&e){const s=zs(3);U(1),Ae("x",0)("width",n.dims.width)("height",n.dims.height),U(3),xi("opacity",n.anchorOpacity)("pointer-events","none"),W("@animationState",0!==n.anchorOpacity?"active":"inactive")("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.placementTypes.Right)("tooltipType",n.styleTypes.tooltip)("tooltipSpacing",15)("tooltipTemplate",n.tooltipTemplate?n.tooltipTemplate:s)("tooltipContext",n.anchorValues)("tooltipImmediateExit",!0),Ae("x",n.anchorPos)("width",1)("height",n.dims.height)}},directives:[Ts,n5],encapsulation:2,data:{animation:[bi("animationState",[Rt("inactive => active",[Pe({opacity:0}),Bt(250,Pe({opacity:.7}))]),Rt("active => inactive",[Pe({opacity:.7}),Bt(250,Pe({opacity:0}))])])]},changeDetection:0}),i})(),f5=(()=>{class i{constructor(e,n){this.cd=n,this.height=50,this.select=new ge,this.onDomainChange=new ge,this.initialized=!1,this.element=e.nativeElement}ngOnChanges(e){this.update(),this.initialized||(this.addBrush(),this.initialized=!0)}update(){this.dims=this.getDims(),this.height=this.dims.height;const e=this.view[1]-this.height;this.xDomain=this.getXDomain(),this.xScale=this.getXScale(),this.brush&&this.updateBrush(),this.transform=`translate(0 , ${e})`,this.filterId="filter"+hh().toString(),this.filter=`url(#${this.filterId})`,this.cd.markForCheck()}getXDomain(){let e=[];for(const s of this.results)for(const r of s.series)e.includes(r.name)||e.push(r.name);let n=[];return this.scaleType===Je.Time?n=[Math.min(...e),Math.max(...e)]:this.scaleType===Je.Linear?(e=e.map(a=>Number(a)),n=[Math.min(...e),Math.max(...e)]):n=e,n}getXScale(){let e;return this.scaleType===Je.Time?e=_G().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===Je.Linear?e=qc().range([0,this.dims.width]).domain(this.xDomain):this.scaleType===Je.Ordinal&&(e=EG().range([0,this.dims.width]).padding(.1).domain(this.xDomain)),e}addBrush(){if(this.brush)return;const e=this.height,n=this.view[0];this.brush=function __e(){return function GT(i){var o,t=f_e,e=p_e,n=m_e,s=!0,r=ZH("start","brush","end"),a=6;function l(m){var _=m.property("__brush",g).selectAll(".overlay").data([Xf("overlay")]);_.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",So.overlay).merge(_).each(function(){var y=zT(this).extent;Cr(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),m.selectAll(".selection").data([Xf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",So.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var v=m.selectAll(".handle").data(i.handles,function(y){return y.type});v.exit().remove(),v.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return So[y.type]}),m.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(n).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",f).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var m=Cr(this),_=zT(this).selection;_?(m.selectAll(".selection").style("display",null).attr("x",_[0][0]).attr("y",_[0][1]).attr("width",_[1][0]-_[0][0]).attr("height",_[1][1]-_[0][1]),m.selectAll(".handle").style("display",null).attr("x",function(v){return"e"===v.type[v.type.length-1]?_[1][0]-a/2:_[0][0]-a/2}).attr("y",function(v){return"s"===v.type[0]?_[1][1]-a/2:_[0][1]-a/2}).attr("width",function(v){return"n"===v.type||"s"===v.type?_[1][0]-_[0][0]+a:a}).attr("height",function(v){return"e"===v.type||"w"===v.type?_[1][1]-_[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(m,_,v){var y=m.__brush.emitter;return!y||v&&y.clean?new u(m,_,v):y}function u(m,_,v){this.that=m,this.args=_,this.state=m.__brush,this.active=0,this.clean=v}function h(m){if((!o||m.touches)&&e.apply(this,arguments)){var N,C,X,z,O,B,Y,K,Ke,ot,ae,_=this,v=m.target.__data__.type,y="selection"===(s&&m.metaKey?v="overlay":v)?Ez:s&&m.altKey?sh:nh,b=i===Yy?null:u_e[v],w=i===$y?null:h_e[v],S=zT(_),D=S.extent,L=S.selection,H=D[0][0],R=D[0][1],q=D[1][0],F=D[1][1],ce=0,ee=0,Ye=b&&w&&s&&m.shiftKey,tt=Array.from(m.touches||[m],Te=>{const qe=Te.identifier;return(Te=fz(Te,_)).point0=Te.slice(),Te.identifier=qe,Te});if("overlay"===v){L&&(Ke=!0);const Te=[tt[0],tt[1]||tt[0]];S.selection=L=[[N=i===Yy?H:os(Te[0][0],Te[1][0]),X=i===$y?R:os(Te[0][1],Te[1][1])],[O=i===Yy?q:as(Te[0][0],Te[1][0]),Y=i===$y?F:as(Te[0][1],Te[1][1])]],tt.length>1&&te()}else N=L[0][0],X=L[0][1],O=L[1][0],Y=L[1][1];C=N,z=X,B=O,K=Y;var ct=Cr(_).attr("pointer-events","none"),oe=ct.selectAll(".overlay").attr("cursor",So[v]);PT(_);var ie=d(_,arguments,!0).beforestart();if(m.touches)ie.moved=V,ie.ended=he;else{var Oe=Cr(m.view).on("mousemove.brush",V,!0).on("mouseup.brush",he,!0);s&&Oe.on("keydown.brush",Ve,!0).on("keyup.brush",Me,!0),wme(m.view)}c.call(_),ie.start(m,y.name)}function V(Te){for(const qe of Te.changedTouches||[Te])for(const at of tt)at.identifier===qe.identifier&&(at.cur=fz(qe,_));if(Ye&&!ot&&!ae&&1===tt.length){const qe=tt[0];kz(qe.cur[0]-qe[0])>kz(qe.cur[1]-qe[1])?ae=!0:ot=!0}for(const qe of tt)qe.cur&&(qe[0]=qe.cur[0],qe[1]=qe.cur[1]);Ke=!0,BT(Te),te(Te)}function te(Te){const qe=tt[0],at=qe.point0;var Jt;switch(ce=qe[0]-at[0],ee=qe[1]-at[1],y){case VT:case Ez:b&&(ce=as(H-N,os(q-O,ce)),C=N+ce,B=O+ce),w&&(ee=as(R-X,os(F-Y,ee)),z=X+ee,K=Y+ee);break;case nh:tt[1]?(b&&(C=as(H,os(q,tt[0][0])),B=as(H,os(q,tt[1][0])),b=1),w&&(z=as(R,os(F,tt[0][1])),K=as(R,os(F,tt[1][1])),w=1)):(b<0?(ce=as(H-N,os(q-N,ce)),C=N+ce,B=O):b>0&&(ce=as(H-O,os(q-O,ce)),C=N,B=O+ce),w<0?(ee=as(R-X,os(F-X,ee)),z=X+ee,K=Y):w>0&&(ee=as(R-Y,os(F-Y,ee)),z=X,K=Y+ee));break;case sh:b&&(C=as(H,os(q,N-ce*b)),B=as(H,os(q,O+ce*b))),w&&(z=as(R,os(F,X-ee*w)),K=as(R,os(F,Y+ee*w)))}B<C&&(b*=-1,Jt=N,N=O,O=Jt,Jt=C,C=B,B=Jt,v in Iz&&oe.attr("cursor",So[v=Iz[v]])),K<z&&(w*=-1,Jt=X,X=Y,Y=Jt,Jt=z,z=K,K=Jt,v in Lz&&oe.attr("cursor",So[v=Lz[v]])),S.selection&&(L=S.selection),ot&&(C=L[0][0],B=L[1][0]),ae&&(z=L[0][1],K=L[1][1]),(L[0][0]!==C||L[0][1]!==z||L[1][0]!==B||L[1][1]!==K)&&(S.selection=[[C,z],[B,K]],c.call(_),ie.brush(Te,y.name))}function he(Te){if(c_e(Te),Te.touches){if(Te.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Cme(Te.view,Ke),Oe.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ct.attr("pointer-events","all"),oe.attr("cursor",So.overlay),S.selection&&(L=S.selection),g_e(L)&&(S.selection=null,c.call(_)),ie.end(Te,y.name)}function Ve(Te){switch(Te.keyCode){case 16:Ye=b&&w;break;case 18:y===nh&&(b&&(O=B-ce*b,N=C+ce*b),w&&(Y=K-ee*w,X=z+ee*w),y=sh,te());break;case 32:(y===nh||y===sh)&&(b<0?O=B-ce:b>0&&(N=C-ce),w<0?Y=K-ee:w>0&&(X=z-ee),y=VT,oe.attr("cursor",So.selection),te());break;default:return}BT(Te)}function Me(Te){switch(Te.keyCode){case 16:Ye&&(ot=ae=Ye=!1,te());break;case 18:y===sh&&(b<0?O=B:b>0&&(N=C),w<0?Y=K:w>0&&(X=z),y=nh,te());break;case 32:y===VT&&(Te.altKey?(b&&(O=B-ce*b,N=C+ce*b),w&&(Y=K-ee*w,X=z+ee*w),y=sh):(b<0?O=B:b>0&&(N=C),w<0?Y=K:w>0&&(X=z),y=nh),oe.attr("cursor",So[v]),te());break;default:return}BT(Te)}}function p(m){d(this,arguments).moved(m)}function f(m){d(this,arguments).ended(m)}function g(){var m=this.__brush||{selection:null};return m.extent=HT(t.apply(this,arguments)),m.dim=i,m}return l.move=function(m,_){m.tween?m.on("start.brush",function(v){d(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){d(this,arguments).end(v)}).tween("brush",function(){var v=this,y=v.__brush,b=d(v,arguments),w=y.selection,S=i.input("function"==typeof _?_.apply(this,arguments):_,y.extent),D=Ny(w,S);function L(H){y.selection=1===H&&null===S?null:D(H),c.call(v),b.brush()}return null!==w&&null!==S?L:L(1)}):m.each(function(){var v=this,y=arguments,b=v.__brush,w=i.input("function"==typeof _?_.apply(v,y):_,b.extent),S=d(v,y).beforestart();PT(v),b.selection=null===w?null:w,c.call(v),S.start().brush().end()})},l.clear=function(m){l.move(m,null)},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(m,_){return this.starting?(this.starting=!1,this.emit("start",m,_)):this.emit("brush",m),this},brush:function(m,_){return this.emit("brush",m,_),this},end:function(m,_){return 0==--this.active&&(delete this.state.emitter,this.emit("end",m,_)),this},emit:function(m,_,v){var y=Cr(this.that).datum();r.call(m,this.that,new l_e(m,{sourceEvent:_,target:l,selection:i.output(this.state.selection),mode:v,dispatch:r}),y)}},l.extent=function(m){return arguments.length?(t="function"==typeof m?m:NT(HT(m)),l):t},l.filter=function(m){return arguments.length?(e="function"==typeof m?m:NT(!!m),l):e},l.touchable=function(m){return arguments.length?(n="function"==typeof m?m:NT(!!m),l):n},l.handleSize=function(m){return arguments.length?(a=+m,l):a},l.keyModifiers=function(m){return arguments.length?(s=!!m,l):s},l.on=function(){var m=r.on.apply(r,arguments);return m===r?l:m},l}($y)}().extent([[0,0],[n,e]]).on("brush end",({selection:s})=>{const a=(s||this.xScale.range()).map(this.xScale.invert);this.onDomainChange.emit(a),this.cd.markForCheck()}),Cr(this.element).select(".brush").call(this.brush)}updateBrush(){this.brush&&(this.brush.extent([[0,0],[this.view[0],this.height]]),Cr(this.element).select(".brush").call(this.brush),Cr(this.element).select(".selection").attr("fill",void 0).attr("stroke",void 0).attr("fill-opacity",void 0),this.cd.markForCheck())}getDims(){return{width:this.view[0],height:this.height}}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-timeline",""]],inputs:{view:"view",results:"results",scheme:"scheme",customColors:"customColors",legend:"legend",autoScale:"autoScale",scaleType:"scaleType",height:"height"},outputs:{select:"select",onDomainChange:"onDomainChange"},features:[bt],attrs:axe,ngContentSelectors:VG,decls:7,vars:4,consts:[[1,"timeline"],["in","SourceGraphic","type","matrix","values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"],[1,"embedded-chart"],["x","0","y","0",1,"brush-background"],[1,"brush"]],template:function(e,n){1&e&&(Ci(),it(),A(0,"g",0),A(1,"filter"),fe(2,"feColorMatrix",1),E(),A(3,"g",2),At(4),E(),fe(5,"rect",3),fe(6,"g",4),E()),2&e&&(Ae("transform",n.transform),U(1),Ae("id",n.filterId),U(4),Ae("width",n.view[0])("height",n.height))},styles:[".timeline .brush-background{fill:#0000000d}.timeline .brush .selection{fill:#0000001a;stroke-width:1px;stroke:#888}.timeline .brush .handle{fill-opacity:0}.timeline .embedded-chart{opacity:.6}\n"],encapsulation:2,changeDetection:0}),i})(),Mr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,t5,s5],Fi,t5,s5]}),i})(),m5=[{name:"vivid",selectable:!0,group:Je.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:Je.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:Je.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:Je.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:Je.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:Je.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:Je.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:Je.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:Je.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:Je.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:Je.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:Je.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:Je.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:Je.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:Je.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class I0e{constructor(t,e,n,s){"string"==typeof t&&(t=m5.find(r=>r.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=s,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){let s;switch("string"==typeof t&&(t=m5.find(r=>r.name===t)),e){case Je.Quantile:s=kG().range(t.domain).domain(n);break;case Je.Ordinal:s=oD().range(t.domain).domain(n);break;case Je.Linear:{const r=[...t.domain];1===r.length&&(r.push(r[0]),this.colorDomain=r);const a=TG(0,1,1/r.length);s=qc().range(r).domain(a)}}return s}getColor(t){if(null==t)throw new Error("Value can not be null");if(this.scaleType===Je.Linear){const e=qc().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(s=>s.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const n=qc().domain(this.domain).range([0,1]),s=lD().domain(this.colorDomain).range([0,1]),r=this.getColor(t),a=n(e),o=this.getColor(e),l=n(t);let c=1,d=a;const u=[];for(u.push({color:o,offset:a,originalOffset:a,opacity:1});d<l&&c<this.colorDomain.length;){const h=this.colorDomain[c],p=s(h);if(p<=a)c++;else{if(p.toFixed(4)>=(l-s.bandwidth()).toFixed(4))break;u.push({color:h,offset:p,opacity:1}),d=p,c++}}if(u[u.length-1].offset<100&&u.push({color:r,offset:l,opacity:1}),l===a)u[0].offset=0,u[1].offset=100;else if(100!==u[u.length-1].offset)for(const h of u)h.offset=(h.offset-a)/(l-a)*100;return u}}let N0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),_5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),B0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),V0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),H0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),z0e=(()=>{class i{constructor(e,n){this.element=e,this.platformId=n,this.fill="none",this.animations=!0,this.initialized=!1,this.isSSR=!1}ngOnInit(){va(this.platformId)&&(this.isSSR=!0)}ngOnChanges(e){this.initialized?this.updatePathEl():(this.initialized=!0,this.initialPath=this.path)}updatePathEl(){const e=Cr(this.element.nativeElement).select(".line");this.animations?e.transition().duration(750).attr("d",this.path):e.attr("d",this.path)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(hn))},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-line",""]],inputs:{path:"path",stroke:"stroke",data:"data",fill:"fill",animations:"animations"},features:[bt],attrs:Wxe,decls:2,vars:2,consts:[[4,"ngIf"],["stroke-width","1.5px",1,"line"]],template:function(e,n){1&e&&(pe(0,jxe,2,4,"g",0),pe(1,$xe,2,3,"g",0)),2&e&&(W("ngIf",!n.isSSR),U(1),W("ngIf",n.isSSR))},directives:[Mi],encapsulation:2,data:{animation:[bi("animationState",[Rt(":enter",[Pe({strokeDasharray:2e3,strokeDashoffset:2e3}),Bt(1e3,Pe({strokeDashoffset:0}))])])]},changeDetection:0}),i})(),G0e=(()=>{class i{constructor(){this.animations=!0,this.barOrientation=ia}ngOnChanges(e){this.update()}update(){this.updateGradients();const e=this.sortData(this.data.series),n=this.getLineGenerator();this.path=n(e)||"";const s=this.getAreaGenerator();if(this.areaPath=s(e)||"",this.hasRange){const r=this.getRangeGenerator();this.outerPath=r(e)||""}if(this.hasGradient){this.stroke=this.gradientUrl;const r=this.data.series.map(l=>l.value),a=Math.max(...r);a===Math.min(...r)&&(this.stroke=this.colors.getColor(a))}else this.stroke=this.colors.getColor(this.data.name)}getLineGenerator(){return NG().x(e=>{const n=e.name;let s;return s=this.xScale(this.scaleType===Je.Time?n:this.scaleType===Je.Linear?Number(n):n),s}).y(e=>this.yScale(e.value)).curve(this.curve)}getRangeGenerator(){return BG().x(e=>{const n=e.name;let s;return s=this.xScale(this.scaleType===Je.Time?n:this.scaleType===Je.Linear?Number(n):n),s}).y0(e=>this.yScale("number"==typeof e.min?e.min:e.value)).y1(e=>this.yScale("number"==typeof e.max?e.max:e.value)).curve(this.curve)}getAreaGenerator(){return BG().x(n=>this.xScale(n.name)).y0(()=>this.yScale.range()[0]).y1(n=>this.yScale(n.value)).curve(this.curve)}sortData(e){return e=this.scaleType===Je.Linear?function P0e(i,t,e="asc"){return i.sort((n,s)=>"asc"===e?n[t]-s[t]:s[t]-n[t])}(e,"name"):this.scaleType===Je.Time?function O0e(i,t,e="asc"){return i.sort((n,s)=>{const r=n[t].getTime(),a=s[t].getTime();return"asc"===e?r>a?1:a>r?-1:0:r>a?-1:a>r?1:0})}(e,"name"):function F0e(i,t,e="asc",n){return i.sort((s,r)=>{const o=r[t],l=n.indexOf(s[t]),c=n.indexOf(o);return"asc"===e?l-c:c-l})}(e,"name","asc",this.xScale.domain()),e}updateGradients(){if(this.colors.scaleType===Je.Linear){this.hasGradient=!0,this.gradientId="grad"+hh().toString(),this.gradientUrl=`url(#${this.gradientId})`;const e=this.data.series.map(r=>r.value),n=Math.max(...e),s=Math.min(...e);this.gradientStops=this.colors.getLinearGradientStops(n,s),this.areaGradientStops=this.colors.getLinearGradientStops(n)}else this.hasGradient=!1,this.gradientStops=void 0,this.areaGradientStops=void 0}isActive(e){return!!this.activeEntries&&void 0!==this.activeEntries.find(s=>e.name===s.name)}isInactive(e){return!(!this.activeEntries||0===this.activeEntries.length)&&void 0===this.activeEntries.find(s=>e.name===s.name)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["g","ngx-charts-line-series",""]],inputs:{data:"data",xScale:"xScale",yScale:"yScale",colors:"colors",scaleType:"scaleType",curve:"curve",activeEntries:"activeEntries",rangeFillOpacity:"rangeFillOpacity",hasRange:"hasRange",animations:"animations"},features:[bt],attrs:Yxe,decls:6,vars:22,consts:[["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops",4,"ngIf"],["ngx-charts-area","",1,"line-highlight",3,"data","path","fill","opacity","startOpacity","gradient","stops","animations"],["ngx-charts-line","",1,"line-series",3,"data","path","stroke","animations"],["ngx-charts-area","","class","line-series-range",3,"data","path","fill","active","inactive","opacity","animations",4,"ngIf"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"],["ngx-charts-area","",1,"line-series-range",3,"data","path","fill","opacity","animations"]],template:function(e,n){1&e&&(it(),A(0,"g"),A(1,"defs"),pe(2,qxe,1,3,"g",0),E(),fe(3,"g",1),fe(4,"g",2),pe(5,Xxe,1,9,"g",3),E()),2&e&&(U(2),W("ngIf",n.hasGradient),U(1),ut("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),W("data",n.data)("path",n.areaPath)("fill",n.hasGradient?n.gradientUrl:n.colors.getColor(n.data.name))("opacity",.25)("startOpacity",0)("gradient",!0)("stops",n.areaGradientStops)("animations",n.animations),U(1),ut("active",n.isActive(n.data))("inactive",n.isInactive(n.data)),W("data",n.data)("path",n.path)("stroke",n.stroke)("animations",n.animations),U(1),W("ngIf",n.hasRange))},directives:[ix,c5,z0e,Mi],encapsulation:2,changeDetection:0}),i})(),U0e=(()=>{class i extends QG{constructor(){super(...arguments),this.legendTitle="Legend",this.legendPosition=Do.Right,this.showGridLines=!0,this.curve=hD,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.roundDomains=!1,this.tooltipDisabled=!1,this.showRefLines=!1,this.showRefLabels=!0,this.activate=new ge,this.deactivate=new ge,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.timelineHeight=50,this.timelinePadding=10,this.isSSR=!1}ngOnInit(){va(this.platformId)&&(this.isSSR=!0)}update(){super.update(),this.dims=function R0e({width:i,height:t,margins:e,showXAxis:n=!1,showYAxis:s=!1,xAxisHeight:r=0,yAxisWidth:a=0,showXLabel:o=!1,showYLabel:l=!1,showLegend:c=!1,legendType:d=Je.Ordinal,legendPosition:u=Do.Right,columns:h=12}){let p=e[3],f=i,g=t-e[0]-e[2];if(c&&u===Do.Right&&(h-=d===Je.Ordinal?2:1),f=f*h/12,f=f-e[1]-e[3],n&&(g-=5,g-=r,o&&(g-=30)),s&&(f-=5,f-=a,p+=a,p+=10,l)){const m=30;f-=m,p+=m}return f=Math.max(0,f),g=Math.max(0,g),{width:Math.floor(f),height:Math.floor(g),xOffset:Math.floor(p)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.timeline&&(this.dims.height-=this.timelineHeight+this.margin[2]+this.timelinePadding),this.xDomain=this.getXDomain(),this.filteredDomain&&(this.xDomain=this.filteredDomain),this.yDomain=this.getYDomain(),this.seriesDomain=this.getSeriesDomain(),this.xScale=this.getXScale(this.xDomain,this.dims.width),this.yScale=this.getYScale(this.yDomain,this.dims.height),this.updateTimeline(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]})`,this.clipPathId="clip"+hh().toString(),this.clipPath=`url(#${this.clipPathId})`}updateTimeline(){this.timeline&&(this.timelineWidth=this.dims.width,this.timelineXDomain=this.getXDomain(),this.timelineXScale=this.getXScale(this.timelineXDomain,this.timelineWidth),this.timelineYScale=this.getYScale(this.yDomain,this.timelineHeight),this.timelineTransform=`translate(${this.dims.xOffset}, ${-this.margin[2]})`)}getXDomain(){let e=function L0e(i){const t=new Set;for(const e of i)for(const n of e.series)t.add(n.name);return Array.from(t)}(this.results);this.scaleType=function g5(i,t=!0){return t&&i.every(s=>s instanceof Date)?Je.Time:i.every(n=>"number"==typeof n)?Je.Linear:Je.Ordinal}(e);let s,r,n=[];return this.scaleType===Je.Linear&&(e=e.map(a=>Number(a))),(this.scaleType===Je.Time||this.scaleType===Je.Linear)&&(s=this.xScaleMin?this.xScaleMin:Math.min(...e),r=this.xScaleMax?this.xScaleMax:Math.max(...e)),this.scaleType===Je.Time?(n=[new Date(s),new Date(r)],this.xSet=[...e].sort((a,o)=>{const l=a.getTime(),c=o.getTime();return l>c?1:c>l?-1:0})):this.scaleType===Je.Linear?(n=[s,r],this.xSet=[...e].sort((a,o)=>a-o)):(n=e,this.xSet=e),n}getYDomain(){const e=[];for(const a of this.results)for(const o of a.series)e.indexOf(o.value)<0&&e.push(o.value),void 0!==o.min&&(this.hasRange=!0,e.indexOf(o.min)<0&&e.push(o.min)),void 0!==o.max&&(this.hasRange=!0,e.indexOf(o.max)<0&&e.push(o.max));const n=[...e];return this.autoScale||n.push(0),[this.yScaleMin?this.yScaleMin:Math.min(...n),this.yScaleMax?this.yScaleMax:Math.max(...n)]}getSeriesDomain(){return this.results.map(e=>e.name)}getXScale(e,n){let s;return this.scaleType===Je.Time?s=_G().range([0,n]).domain(e):this.scaleType===Je.Linear?(s=qc().range([0,n]).domain(e),this.roundDomains&&(s=s.nice())):this.scaleType===Je.Ordinal&&(s=EG().range([0,n]).padding(.1).domain(e)),s}getYScale(e,n){const s=qc().range([n,0]).domain(e);return this.roundDomains?s.nice():s}updateDomain(e){this.filteredDomain=e,this.xDomain=this.filteredDomain,this.xScale=this.getXScale(this.xDomain,this.dims.width)}updateHoveredVertical(e){this.hoveredVertical=e.value,this.deactivateAll()}hideCircles(){this.hoveredVertical=null,this.deactivateAll()}onClick(e){this.select.emit(e)}trackBy(e,n){return`${n.name}`}setColors(){let e;e=this.schemeType===Je.Ordinal?this.seriesDomain:this.yDomain,this.colors=new I0e(this.scheme,this.schemeType,e,this.customColors)}getLegendOptions(){const e={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return e.scaleType===Je.Ordinal?(e.domain=this.seriesDomain,e.colors=this.colors,e.title=this.legendTitle):(e.domain=this.yDomain,e.colors=this.colors.scale),e}updateYAxisWidth({width:e}){this.yAxisWidth=e,this.update()}updateXAxisHeight({height:e}){this.xAxisHeight=e,this.update()}onActivate(e){this.deactivateAll(),!(this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value)>-1)&&(this.activeEntries=[e],this.activate.emit({value:e,entries:this.activeEntries}))}onDeactivate(e){const n=this.activeEntries.findIndex(s=>s.name===e.name&&s.value===e.value);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:e,entries:this.activeEntries})}deactivateAll(){this.activeEntries=[...this.activeEntries];for(const e of this.activeEntries)this.deactivate.emit({value:e,entries:[]});this.activeEntries=[]}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["ngx-charts-line-chart"]],contentQueries:function(e,n,s){if(1&e&&(St(s,fxe,5),St(s,mxe,5)),2&e){let r;Ce(r=Se())&&(n.tooltipTemplate=r.first),Ce(r=Se())&&(n.seriesTooltipTemplate=r.first)}},hostBindings:function(e,n){1&e&&Le("mouseleave",function(){return n.hideCircles()})},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",autoScale:"autoScale",timeline:"timeline",gradient:"gradient",showGridLines:"showGridLines",curve:"curve",activeEntries:"activeEntries",schemeType:"schemeType",rangeFillOpacity:"rangeFillOpacity",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",roundDomains:"roundDomains",tooltipDisabled:"tooltipDisabled",showRefLines:"showRefLines",referenceLines:"referenceLines",showRefLabels:"showRefLabels",xScaleMin:"xScaleMin",xScaleMax:"xScaleMax",yScaleMin:"yScaleMin",yScaleMax:"yScaleMax"},outputs:{activate:"activate",deactivate:"deactivate"},features:[Z],decls:12,vars:20,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"line-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","dimensionsChanged",4,"ngIf"],[4,"ngIf"],[3,"mouseleave",4,"ngIf"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange",4,"ngIf"],["ngx-charts-x-axis","",3,"xScale","dims","showGridLines","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","referenceLines","showRefLines","showRefLabels","dimensionsChanged"],[4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","activeEntries","scaleType","curve","rangeFillOpacity","hasRange","animations"],[3,"mouseleave"],["ngx-charts-tooltip-area","",3,"dims","xSet","xScale","yScale","results","colors","tooltipDisabled","tooltipTemplate","hover"],[4,"ngFor","ngForOf"],["ngx-charts-circle-series","",3,"xScale","yScale","colors","data","scaleType","visibleValue","activeEntries","tooltipDisabled","tooltipTemplate","select","activate","deactivate"],["ngx-charts-timeline","",3,"results","view","height","scheme","customColors","scaleType","legend","onDomainChange"],["ngx-charts-line-series","",3,"xScale","yScale","colors","data","scaleType","curve","hasRange","animations"]],template:function(e,n){1&e&&(A(0,"ngx-charts-chart",0),Le("legendLabelClick",function(r){return n.onClick(r)})("legendLabelActivate",function(r){return n.onActivate(r)})("legendLabelDeactivate",function(r){return n.onDeactivate(r)}),it(),A(1,"defs"),A(2,"clipPath"),fe(3,"rect"),E(),E(),A(4,"g",1),pe(5,Qxe,1,10,"g",2),pe(6,Kxe,1,12,"g",3),A(7,"g"),pe(8,Jxe,2,2,"g",4),pe(9,t0e,2,2,"g",4),pe(10,n0e,3,9,"g",5),E(),E(),pe(11,r0e,2,13,"g",6),E()),2&e&&(W("view",og(17,tm,n.width,n.height))("showLegend",n.legend)("legendOptions",n.legendOptions)("activeEntries",n.activeEntries)("animations",n.animations),U(2),Ae("id",n.clipPathId),U(1),Ae("width",n.dims.width+10)("height",n.dims.height+10)("transform","translate(-5, -5)"),U(1),Ae("transform",n.transform),U(1),W("ngIf",n.xAxis),U(1),W("ngIf",n.yAxis),U(1),Ae("clip-path",n.clipPath),U(1),W("ngIf",!n.isSSR),U(1),W("ngIf",n.isSSR),U(1),W("ngIf",!n.tooltipDisabled),U(1),W("ngIf",n.timeline&&"ordinal"!=n.scaleType))},directives:[qG,S0e,T0e,G0e,p5,o5,f5,Mi,Ts],styles:[".ngx-charts-outer{-webkit-animation:chartFadeIn linear .6s;animation:chartFadeIn linear .6s}@-webkit-keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}@keyframes chartFadeIn{0%{opacity:0}20%{opacity:0}to{opacity:1}}.ngx-charts{float:left;overflow:visible}.ngx-charts .circle,.ngx-charts .cell,.ngx-charts .bar,.ngx-charts .arc{cursor:pointer}.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover,.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .card.active,.ngx-charts .card:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .bar:focus,.ngx-charts .cell:focus,.ngx-charts .arc:focus,.ngx-charts .card:focus{outline:none}.ngx-charts .bar.hidden,.ngx-charts .cell.hidden,.ngx-charts .arc.hidden,.ngx-charts .card.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .line-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .polar-series-path.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .area-series.inactive{transition:opacity .1s ease-in-out;opacity:.2}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{stroke:#ddd;stroke-width:1;fill:none}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-width:1;stroke-dasharray:5;stroke-dashoffset:5}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill-opacity:.05;fill:#000}.ngx-charts .gridline-path-dotted{stroke:#ddd;stroke-width:1;fill:none;stroke-dasharray:1,20;stroke-dashoffset:3}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:#0000000d}\n"],encapsulation:2,data:{animation:[bi("animationState",[Rt(":leave",[Pe({opacity:1}),Bt(500,Pe({opacity:0}))])])]},changeDetection:0}),i})(),v5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})();Math;let vD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),$0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr,vD,v5]]}),i})(),q0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),X0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr]]}),i})(),Q0e=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mr,vD,_5]]}),i})(),Z0e=(()=>{class i{constructor(){!function K0e(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[Mr,N0e,_5,B0e,V0e,H0e,v5,$0e,q0e,vD,X0e,Q0e]}),i})(),J0e=(()=>{class i{constructor(){this.view=[700,300],this.legend=!1,this.showLabels=!0,this.animations=!0,this.xAxis=!0,this.yAxis=!0,this.showYAxisLabel=!0,this.showXAxisLabel=!0,this.xAxisLabel="cycle",this.yAxisLabel="value",this.timeline=!0,this.colorScheme={name:"line",selectable:!1,group:Je.Ordinal,domain:["#5AA454","#E44D25","#CFC0BB","#7aa3e5","#a8385d","#aae3f5"]}}ngOnInit(){}onSelect(e){console.log("Item clicked",JSON.parse(JSON.stringify(e)))}onActivate(e){console.log("Activate",JSON.parse(JSON.stringify(e)))}onDeactivate(e){console.log("Deactivate",JSON.parse(JSON.stringify(e)))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["app-model-bar-chart"]],inputs:{data:"data"},decls:1,vars:11,consts:[[3,"view","scheme","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","xAxisLabel","yAxisLabel","timeline","results","select","activate","deactivate"]],template:function(e,n){1&e&&(A(0,"ngx-charts-line-chart",0),Le("select",function(r){return n.onSelect(r)})("activate",function(r){return n.onActivate(r)})("deactivate",function(r){return n.onDeactivate(r)}),E()),2&e&&W("view",n.view)("scheme",n.colorScheme)("legend",n.legend)("showXAxisLabel",n.showXAxisLabel)("showYAxisLabel",n.showYAxisLabel)("xAxis",n.xAxis)("yAxis",n.yAxis)("xAxisLabel",n.xAxisLabel)("yAxisLabel",n.yAxisLabel)("timeline",n.timeline)("results",n.data)},directives:[U0e],styles:[""]}),i})(),ebe=(()=>{class i{constructor(){this.chartData=[{name:"Germany",series:[{name:"1",value:62e6},{name:"2",value:73e6},{name:"3",value:894e5},{name:"4",value:62e6},{name:"5",value:73e6},{name:"6",value:894e5},{name:"7",value:62e6},{name:"2010",value:73e6},{name:"8",value:894e5},{name:"9",value:62e6},{name:"10",value:73e6},{name:"11",value:894e5}]}]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["app-overview"]],inputs:{digitalTwin:"digitalTwin"},decls:53,vars:3,consts:[["fxLayout","column","fxLayoutAlign","start stretch",1,"overview"],[1,"item"],["src","assets/images/turbo-schematics.png","alt","","srcset","",1,"image-details"],["appearance","outline",1,"sensor-dropdown"],["panelClass","select-panel"],["value","T2"],["value","T24"],["value","T30"],["value","T50"],["value","P2"],["value","P15"],["value","P30"],["value","Nf"],["value","Nc"],["value","epr"],["value","Ps30"],["value","phi"],["value","NRf"],["value","NRc"],["value","BPR"],["value","farB"],["value","htBleed"],["value","Nf_dmd"],["value","PCNfR_dmd"],["value","W31"],["value","W3"],[3,"data"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"div",1),we(2),E(),A(3,"div",1),we(4),E(),fe(5,"img",2),A(6,"mat-form-field",3),A(7,"mat-label"),we(8,"Select Sensor Data"),E(),A(9,"mat-select",4),A(10,"mat-option",5),we(11,"Total temperature at fan inlet (\xb0R) "),E(),A(12,"mat-option",6),we(13,"Total temperature at LPC outlet (\xb0R) "),E(),A(14,"mat-option",7),we(15,"Total temperature at HPC outlet (\xb0R) "),E(),A(16,"mat-option",8),we(17,"Total temperature at LPT outlet (\xb0R) "),E(),A(18,"mat-option",9),we(19,"Pressure at fan inlet (psia) "),E(),A(20,"mat-option",10),we(21,"Total pressure in bypass-duct (psia) "),E(),A(22,"mat-option",11),we(23,"Total pressure at HPC outlet (psia) "),E(),A(24,"mat-option",12),we(25,"Physical fan speed (rpm) "),E(),A(26,"mat-option",13),we(27,"Physical core speed (rpm) "),E(),A(28,"mat-option",14),we(29,"Engine pressure ratio "),E(),A(30,"mat-option",15),we(31,"Static pressure at HPC outlet (psia) "),E(),A(32,"mat-option",16),we(33,"Ratio of fuel flow to Ps30 (pps/psi) "),E(),A(34,"mat-option",17),we(35,"Corrected fan speed (rpm) "),E(),A(36,"mat-option",18),we(37,"Corrected core speed (rpm) "),E(),A(38,"mat-option",19),we(39,"Bypass Ratio "),E(),A(40,"mat-option",20),we(41,"Burner fuel-air ratio "),E(),A(42,"mat-option",21),we(43,"Bleed Enthalpy "),E(),A(44,"mat-option",22),we(45,"Demanded fan speed (rpm) "),E(),A(46,"mat-option",23),we(47,"Demanded corrected fan speed (rpm) "),E(),A(48,"mat-option",24),we(49,"HPT coolant bleed (lbm/s) "),E(),A(50,"mat-option",25),we(51,"LPT coolant bleed (lbm/s) "),E(),E(),E(),fe(52,"app-model-bar-chart",26),E()),2&e&&(U(2),ki("Name : ",n.digitalTwin.name,""),U(2),ki("Type : ",n.digitalTwin.machine.name,""),U(48),W("data",n.chartData))},directives:[yl,ju,$V,wy,_H,aT,J0e],styles:[".overview[_ngcontent-%COMP%]{margin:10px}.overview[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{font-size:20px;margin-bottom:20px}.sensor-dropdown[_ngcontent-%COMP%]{width:50%}.image-details[_ngcontent-%COMP%]{width:50%;margin:20px auto}"]}),i})();const tbe=[[["caption"]],[["colgroup"],["col"]]],ibe=["caption","colgroup, col"];function xD(i){return class extends i{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Ue(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const mh=new ne("CDK_TABLE");let gh=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(x(nn))},i.\u0275dir=j({type:i,selectors:[["","cdkCellDef",""]]}),i})(),_h=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(x(nn))},i.\u0275dir=j({type:i,selectors:[["","cdkHeaderCellDef",""]]}),i})(),nx=(()=>{class i{constructor(e){this.template=e}}return i.\u0275fac=function(e){return new(e||i)(x(nn))},i.\u0275dir=j({type:i,selectors:[["","cdkFooterCellDef",""]]}),i})();class abe{}const obe=xD(abe);let Ao=(()=>{class i extends obe{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const n=this._stickyEnd;this._stickyEnd=Ue(e),this._hasStickyChanged=n!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return i.\u0275fac=function(e){return new(e||i)(x(mh,8))},i.\u0275dir=j({type:i,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,n,s){if(1&e&&(St(s,gh,5),St(s,_h,5),St(s,nx,5)),2&e){let r;Ce(r=Se())&&(n.cell=r.first),Ce(r=Se())&&(n.headerCell=r.first),Ce(r=Se())&&(n.footerCell=r.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Qe([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Z]}),i})();class bD{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let wD=(()=>{class i extends bD{constructor(e,n){super(e,n)}}return i.\u0275fac=function(e){return new(e||i)(x(Ao),x(ve))},i.\u0275dir=j({type:i,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[Z]}),i})(),CD=(()=>{class i extends bD{constructor(e,n){var s;if(super(e,n),1===(null===(s=e._table)||void 0===s?void 0:s._elementRef.nativeElement.nodeType)){const r=e._table._elementRef.nativeElement.getAttribute("role");n.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return i.\u0275fac=function(e){return new(e||i)(x(Ao),x(ve))},i.\u0275dir=j({type:i,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[Z]}),i})();class x5{constructor(){this.tasks=[],this.endTasks=[]}}const SD=new ne("_COALESCED_STYLE_SCHEDULER");let b5=(()=>{class i{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new ke}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new x5,this._getScheduleObservable().pipe(pt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new x5;for(const n of e.tasks)n();for(const n of e.endTasks)n()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?wn(Promise.resolve(void 0)):this._ngZone.onStable.pipe(zi(1))}}return i.\u0275fac=function(e){return new(e||i)($(st))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),MD=(()=>{class i{constructor(e,n){this.template=e,this._differs=n}ngOnChanges(e){if(!this._columnsDiffer){const n=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(n).create(),this._columnsDiffer.diff(n)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof im?e.headerCell.template:this instanceof nm?e.footerCell.template:e.cell.template}}return i.\u0275fac=function(e){return new(e||i)(x(nn),x(Ss))},i.\u0275dir=j({type:i,features:[bt]}),i})();class lbe extends MD{}const cbe=xD(lbe);let im=(()=>{class i extends cbe{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(x(nn),x(Ss),x(mh,8))},i.\u0275dir=j({type:i,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[Z,bt]}),i})();class dbe extends MD{}const ube=xD(dbe);let nm=(()=>{class i extends ube{constructor(e,n,s){super(e,n),this._table=s}ngOnChanges(e){super.ngOnChanges(e)}}return i.\u0275fac=function(e){return new(e||i)(x(nn),x(Ss),x(mh,8))},i.\u0275dir=j({type:i,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[Z,bt]}),i})(),sx=(()=>{class i extends MD{constructor(e,n,s){super(e,n),this._table=s}}return i.\u0275fac=function(e){return new(e||i)(x(nn),x(Ss),x(mh,8))},i.\u0275dir=j({type:i,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[Z]}),i})(),Eo=(()=>{class i{constructor(e){this._viewContainer=e,i.mostRecentCellOutlet=this}ngOnDestroy(){i.mostRecentCellOutlet===this&&(i.mostRecentCellOutlet=null)}}return i.mostRecentCellOutlet=null,i.\u0275fac=function(e){return new(e||i)(x(Pi))},i.\u0275dir=j({type:i,selectors:[["","cdkCellOutlet",""]]}),i})(),TD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&Xn(0,0)},directives:[Eo],encapsulation:2}),i})(),AD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&Xn(0,0)},directives:[Eo],encapsulation:2}),i})(),rx=(()=>{class i{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return i.\u0275fac=function(e){return new(e||i)(x(nn))},i.\u0275dir=j({type:i,selectors:[["ng-template","cdkNoDataRow",""]]}),i})();const w5=["top","bottom","left","right"];class hbe{constructor(t,e,n,s,r=!0,a=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=s,this._isBrowser=r,this._needsPositionStickyOnElement=a,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const s of t)if(s.nodeType===s.ELEMENT_NODE){n.push(s);for(let r=0;r<s.children.length;r++)n.push(s.children[r])}this._coalescedStyleScheduler.schedule(()=>{for(const s of n)this._removeStickyStyle(s,e)})}updateStickyColumns(t,e,n,s=!0){if(!t.length||!this._isBrowser||!e.some(h=>h)&&!n.some(h=>h))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const r=t[0],a=r.children.length,o=this._getCellWidths(r,s),l=this._getStickyStartColumnPositions(o,e),c=this._getStickyEndColumnPositions(o,n),d=e.lastIndexOf(!0),u=n.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const h="rtl"===this.direction,p=h?"right":"left",f=h?"left":"right";for(const g of t)for(let m=0;m<a;m++){const _=g.children[m];e[m]&&this._addStickyStyle(_,p,l[m],m===d),n[m]&&this._addStickyStyle(_,f,c[m],m===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===d?[]:o.slice(0,d+1).map((g,m)=>e[m]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((g,m)=>n[m+u]?g:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const s="bottom"===n?t.slice().reverse():t,r="bottom"===n?e.slice().reverse():e,a=[],o=[],l=[];for(let d=0,u=0;d<s.length;d++){if(!r[d])continue;a[d]=u;const h=s[d];l[d]=this._isNativeHtmlTable?Array.from(h.children):[h];const p=h.getBoundingClientRect().height;u+=p,o[d]=p}const c=r.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var d,u;for(let h=0;h<s.length;h++){if(!r[h])continue;const p=a[h],f=h===c;for(const g of l[h])this._addStickyStyle(g,n,p,f)}"top"===n?null===(d=this._positionListener)||void 0===d||d.stickyHeaderRowsUpdated({sizes:o,offsets:a,elements:l}):null===(u=this._positionListener)||void 0===u||u.stickyFooterRowsUpdated({sizes:o,offsets:a,elements:l})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(s=>!s)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const s of e)t.style[s]="",t.classList.remove(this._borderCellCss[s]);w5.some(s=>-1===e.indexOf(s)&&t.style[s])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,s){t.classList.add(this._stickCellCss),s&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const s of w5)t.style[s]&&(n+=e[s]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],s=t.children;for(let r=0;r<s.length;r++)n.push(s[r].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let s=0;for(let r=0;r<t.length;r++)e[r]&&(n[r]=s,s+=t[r]);return n}_getStickyEndColumnPositions(t,e){const n=[];let s=0;for(let r=t.length;r>0;r--)e[r]&&(n[r]=s,s+=t[r]);return n}}const ED=new ne("CDK_SPL");let ax=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(ve))},i.\u0275dir=j({type:i,selectors:[["","rowOutlet",""]]}),i})(),ox=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(ve))},i.\u0275dir=j({type:i,selectors:[["","headerRowOutlet",""]]}),i})(),lx=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(ve))},i.\u0275dir=j({type:i,selectors:[["","footerRowOutlet",""]]}),i})(),cx=(()=>{class i{constructor(e,n){this.viewContainer=e,this.elementRef=n}}return i.\u0275fac=function(e){return new(e||i)(x(Pi),x(ve))},i.\u0275dir=j({type:i,selectors:[["","noDataRowOutlet",""]]}),i})(),dx=(()=>{class i{constructor(e,n,s,r,a,o,l,c,d,u,h,p){this._differs=e,this._changeDetectorRef=n,this._elementRef=s,this._dir=a,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=d,this._viewportRuler=u,this._stickyPositioningListener=h,this._ngZone=p,this._onDestroy=new ke,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new ge,this.viewChange=new gs({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","table"),this._document=o,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Ue(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Ue(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,n)=>this.trackBy?this.trackBy(n.dataIndex,n.data):n),this._viewportRuler.change().pipe(pt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const n=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||n,this._forceRecalculateCellWidths=n,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Ty(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const n=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,n,(s,r,a)=>this._getEmbeddedViewArgs(s.item,a),s=>s.item.data,s=>{1===s.operation&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(s=>{n.get(s.currentIndex).context.$implicit=s.item.data}),this._updateNoDataRow(),this._ngZone&&st.isInAngularZone()?this._ngZone.onStable.pipe(zi(1),pt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),s=this._elementRef.nativeElement.querySelector("thead");s&&(s.style.display=e.length?"":"none");const r=this._headerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,r,"top"),this._headerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),s=this._elementRef.nativeElement.querySelector("tfoot");s&&(s.style.display=e.length?"":"none");const r=this._footerRowDefs.map(a=>a.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(a=>a.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),n=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...n,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((r,a)=>{this._addStickyColumnStyles([r],this._headerRowDefs[a])}),this._rowDefs.forEach(r=>{const a=[];for(let o=0;o<n.length;o++)this._renderRows[o].rowDef===r&&a.push(n[o]);this._addStickyColumnStyles(a,r)}),s.forEach((r,a)=>{this._addStickyColumnStyles([r],this._footerRowDefs[a])}),Array.from(this._columnDefsByName.values()).forEach(r=>r.resetStickyChanged())}_getAllRenderRows(){const e=[],n=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let r=this._data[s];const a=this._getRenderRowsForData(r,s,n.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let o=0;o<a.length;o++){let l=a[o];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,n,s){return this._getRowDefs(e,n).map(a=>{const o=s&&s.has(a)?s.get(a):[];if(o.length){const l=o.shift();return l.dataIndex=n,l}return{data:e,rowDef:a,dataIndex:n}})}_cacheColumnDefs(){this._columnDefsByName.clear(),ux(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(n=>{this._columnDefsByName.has(n.name),this._columnDefsByName.set(n.name,n)})}_cacheRowDefs(){this._headerRowDefs=ux(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=ux(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=ux(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(n=>!n.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(a,o)=>a||!!o.getColumnsDiff(),n=this._rowDefs.reduce(e,!1);n&&this._forceRenderDataRows();const s=this._headerRowDefs.reduce(e,!1);s&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(e,!1);return r&&this._forceRenderFooterRows(),n||s||r}_switchDataSource(e){this._data=[],Ty(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;Ty(this.dataSource)?e=this.dataSource.connect(this):function yD(i){return!!i&&(i instanceof ni||Et(i.lift)&&Et(i.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=ht(this.dataSource)),this._renderChangeSubscription=e.pipe(pt(this._onDestroy)).subscribe(n=>{this._data=n||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,n)=>this._renderRow(this._headerRowOutlet,e,n)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,n)=>this._renderRow(this._footerRowOutlet,e,n)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,n){const s=Array.from(n.columns||[]).map(o=>this._columnDefsByName.get(o)),r=s.map(o=>o.sticky),a=s.map(o=>o.stickyEnd);this._stickyStyler.updateStickyColumns(e,r,a,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const n=[];for(let s=0;s<e.viewContainer.length;s++){const r=e.viewContainer.get(s);n.push(r.rootNodes[0])}return n}_getRowDefs(e,n){if(1==this._rowDefs.length)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(r=>!r.when||r.when(n,e));else{let r=this._rowDefs.find(a=>a.when&&a.when(n,e))||this._defaultRowDef;r&&s.push(r)}return s}_getEmbeddedViewArgs(e,n){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:n}}_renderRow(e,n,s,r={}){const a=e.viewContainer.createEmbeddedView(n.template,r,s);return this._renderCellTemplateForItem(n,r),a}_renderCellTemplateForItem(e,n){for(let s of this._getCellTemplates(e))Eo.mostRecentCellOutlet&&Eo.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,n);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let n=0,s=e.length;n<s;n++){const a=e.get(n).context;a.count=s,a.first=0===n,a.last=n===s-1,a.even=n%2==0,a.odd=!a.even,this.multiTemplateDataRows?(a.dataIndex=this._renderRows[n].dataIndex,a.renderIndex=n):a.index=this._renderRows[n].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,n=>{const s=this._columnDefsByName.get(n);return e.extractCellTemplate(s)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),n=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const s of n){const r=this._document.createElement(s.tag);r.setAttribute("role","rowgroup");for(const a of s.outlets)r.appendChild(a.elementRef.nativeElement);e.appendChild(r)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(n,s)=>n||s.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new hbe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ht()).pipe(pt(this._onDestroy)).subscribe(n=>{this._stickyStyler.direction=n,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(n=>!n._table||n._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const n=0===this._rowOutlet.viewContainer.length;if(n===this._isShowingNoDataRow)return;const s=this._noDataRowOutlet.viewContainer;if(n){const r=s.createEmbeddedView(e.templateRef),a=r.rootNodes[0];1===r.rootNodes.length&&(null==a?void 0:a.nodeType)===this._document.ELEMENT_NODE&&(a.setAttribute("role","row"),a.classList.add(e._contentClassName))}else s.clear();this._isShowingNoDataRow=n}}return i.\u0275fac=function(e){return new(e||i)(x(Ss),x(Kt),x(ve),qn("role"),x(zn,8),x(mt),x(on),x(Vf),x(SD),x(Zr),x(ED,12),x(st,8))},i.\u0275cmp=Be({type:i,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,n,s){if(1&e&&(St(s,rx,5),St(s,Ao,5),St(s,sx,5),St(s,im,5),St(s,nm,5)),2&e){let r;Ce(r=Se())&&(n._noDataRow=r.first),Ce(r=Se())&&(n._contentColumnDefs=r),Ce(r=Se())&&(n._contentRowDefs=r),Ce(r=Se())&&(n._contentHeaderRowDefs=r),Ce(r=Se())&&(n._contentFooterRowDefs=r)}},viewQuery:function(e,n){if(1&e&&(Ct(ax,7),Ct(ox,7),Ct(lx,7),Ct(cx,7)),2&e){let s;Ce(s=Se())&&(n._rowOutlet=s.first),Ce(s=Se())&&(n._headerRowOutlet=s.first),Ce(s=Se())&&(n._footerRowOutlet=s.first),Ce(s=Se())&&(n._noDataRowOutlet=s.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,n){2&e&&ut("cdk-table-fixed-layout",n.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[Qe([{provide:mh,useExisting:i},{provide:Vf,useClass:uH},{provide:SD,useClass:b5},{provide:ED,useValue:null}])],ngContentSelectors:ibe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(Ci(tbe),At(0),At(1,1),Xn(2,0),Xn(3,1),Xn(4,2),Xn(5,3))},directives:[ox,ax,cx,lx],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})();function ux(i,t){return i.concat(Array.from(t))}let fbe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[hT]]}),i})();const mbe=[[["caption"]],[["colgroup"],["col"]]],gbe=["caption","colgroup, col"];let S5=(()=>{class i extends dx{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(e,n){2&e&&ut("mat-table-fixed-layout",n.fixedLayout)},exportAs:["matTable"],features:[Qe([{provide:Vf,useClass:uH},{provide:dx,useExisting:i},{provide:mh,useExisting:i},{provide:SD,useClass:b5},{provide:ED,useValue:null}]),Z],ngContentSelectors:gbe,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,n){1&e&&(Ci(mbe),At(0),At(1,1),Xn(2,0),Xn(3,1),Xn(4,2),Xn(5,3))},directives:[ox,ax,cx,lx],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),i})(),kD=(()=>{class i extends gh{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","matCellDef",""]],features:[Qe([{provide:gh,useExisting:i}]),Z]}),i})(),RD=(()=>{class i extends _h{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","matHeaderCellDef",""]],features:[Qe([{provide:_h,useExisting:i}]),Z]}),i})(),ID=(()=>{class i extends Ao{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Qe([{provide:Ao,useExisting:i},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:i}]),Z]}),i})(),LD=(()=>{class i extends wD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[Z]}),i})(),PD=(()=>{class i extends CD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[Z]}),i})(),M5=(()=>{class i extends im{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Qe([{provide:im,useExisting:i}]),Z]}),i})(),T5=(()=>{class i extends sx{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Qe([{provide:sx,useExisting:i}]),Z]}),i})(),D5=(()=>{class i extends TD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Qe([{provide:TD,useExisting:i}]),Z],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&Xn(0,0)},directives:[Eo],encapsulation:2}),i})(),A5=(()=>{class i extends AD{}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Qe([{provide:AD,useExisting:i}]),Z],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,n){1&e&&Xn(0,0)},directives:[Eo],encapsulation:2}),i})(),E5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[fbe,et],et]}),i})();function Dbe(i,t){1&i&&(A(0,"th",13),we(1," Name "),E())}function Abe(i,t){if(1&i&&(A(0,"td",14),we(1),E()),2&i){const e=t.$implicit;U(1),ki(" ",e.name," ")}}function Ebe(i,t){1&i&&(A(0,"th",13),we(1," Value "),E())}function kbe(i,t){if(1&i&&(A(0,"td",14),we(1),E()),2&i){const e=t.$implicit;U(1),ki(" ",e.value," ")}}function Rbe(i,t){1&i&&fe(0,"tr",15)}function Ibe(i,t){1&i&&fe(0,"tr",16)}function Lbe(i,t){if(1&i&&(A(0,"table",6),Go(1,7),pe(2,Dbe,2,0,"th",8),pe(3,Abe,2,1,"td",9),Uo(),Go(4,10),pe(5,Ebe,2,0,"th",8),pe(6,kbe,2,1,"td",9),Uo(),pe(7,Rbe,1,0,"tr",11),pe(8,Ibe,1,0,"tr",12),E()),2&i){const e=ue();W("dataSource",e.trainData),U(7),W("matHeaderRowDef",e.displayedColumns),U(1),W("matRowDefColumns",e.displayedColumns)}}function Pbe(i,t){if(1&i&&(A(0,"span"),we(1),Bb(2,"date"),E()),2&i){const e=ue();U(1),ki(" Last Updated : ",function yI(i,t,e,n){const s=i+20,r=_e(),a=ad(r,s);return cp(r,s)?fI(r,us(),t,a.transform,e,n,a):a.transform(e,n)}(2,1,e.lastUpdatedTime,"dd/MM/yyyy hh:mm a"),"\n")}}function Fbe(i,t){if(1&i){const e=tn();A(0,"button",17),Le("click",function(){return Qt(e),ue().train()}),we(1,"Train"),E()}2&i&&W("disabled",!ue().isLatestData)}let Obe=(()=>{class i{constructor(e){this.alertService=e,this.trainData=[],this.isLatestData=!1,this.lastUpdatedTime=null,this.displayedColumns=["name","value"]}ngOnInit(){console.log(this.digitalTwin)}train(){this.alertService.info("Please wait, computation in progress...",3,!0)}getLatestData(){this.trainData=[],this.isLatestData=!0,this.lastUpdatedTime=new Date(Date.now())}}return i.\u0275fac=function(e){return new(e||i)(x(nM))},i.\u0275cmp=Be({type:i,selectors:[["app-predict"]],inputs:{digitalTwin:"digitalTwin"},decls:7,vars:3,consts:[["div","","fxLayout","column","fxLayoutAlign","space-around start","fxLayoutGap","20px",1,"content"],["mat-button","",1,"button-basic",3,"click"],[1,"table-container"],["mat-table","","class","mat-elevation-z8",3,"dataSource",4,"ngIf"],[4,"ngIf"],["mat-button","","class","button-basic",3,"disabled","click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["mat-header-row","","class","table-header",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row","",1,"table-header"],["mat-row",""],["mat-button","",1,"button-basic",3,"disabled","click"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"button",1),Le("click",function(){return n.getLatestData()}),we(2,"Get Latest Data"),E(),A(3,"div",2),pe(4,Lbe,9,3,"table",3),E(),pe(5,Pbe,3,4,"span",4),pe(6,Fbe,2,1,"button",5),E()),2&e&&(U(4),W("ngIf",n.isLatestData),U(1),W("ngIf",n.isLatestData),U(1),W("ngIf",n.isLatestData))},directives:[yl,ju,jv,Ay,Mi,S5,ID,RD,LD,kD,PD,M5,D5,T5,A5],pipes:[OL],styles:[".content[_ngcontent-%COMP%]{margin:20px 10px}.table-container[_ngcontent-%COMP%]{margin-top:10px;max-height:calc(100vh - 300px);overflow:auto;width:100%}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}th.mat-header-cell.cdk-header-cell[_ngcontent-%COMP%]{font-size:20px}"]}),i})(),Nbe=(()=>{class i{constructor(e,n){this.httpService=e,this.router=n}ngOnInit(){}delete(){this.httpService.deletDigitalTwin(this.digitalTwin._id).subscribe(e=>{localStorage.removeItem(this.digitalTwin._id),this.router.navigateByUrl("digital-twin")})}}return i.\u0275fac=function(e){return new(e||i)(x(Hv),x(On))},i.\u0275cmp=Be({type:i,selectors:[["app-twin-setting"]],inputs:{digitalTwin:"digitalTwin"},decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"delete"],["mat-raised-button","",1,"button-basic",3,"click"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"button",1),Le("click",function(){return n.delete()}),we(2,"Delete"),E(),E())},directives:[yl,ju,Ay],styles:[".delete[_ngcontent-%COMP%]{width:100%;margin-top:50px}"]}),i})();const Bbe=["container"];let Vbe=(()=>{class i{constructor(e,n){this.scene=e,this.route=n,this.digitalTwinId="",this.digitalTwin=null,this.route.params.subscribe(s=>{this.digitalTwinId=s.id}),this.digitalTwin=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))))}ngOnInit(){console.log(this.digitalTwin)}set container(e){const n=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))));console.log(n),this.scene.initialize(e.nativeElement,n.machine)}}return i.\u0275fac=function(e){return new(e||i)(x(YS),x(Yo))},i.\u0275cmp=Be({type:i,selectors:[["app-digital-twin-overview"]],viewQuery:function(e,n){if(1&e&&Ct(Bbe,5),2&e){let s;Ce(s=Se())&&(n.container=s.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","50",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","49",1,"right-content"],["animationDuration","1000ms"],["label","Overview"],[3,"digitalTwin"],["label","Predict"],["label","Setting"]],template:function(e,n){1&e&&(A(0,"div",0),A(1,"div",1),fe(2,"div",2,3),A(4,"div",4),fe(5,"div",5),fe(6,"div",6),E(),E(),A(7,"div",7),A(8,"mat-tab-group",8),A(9,"mat-tab",9),fe(10,"app-overview",10),E(),A(11,"mat-tab",11),fe(12,"app-predict",10),E(),A(13,"mat-tab",12),fe(14,"app-twin-setting",10),E(),E(),E(),E()),2&e&&(U(10),W("digitalTwin",n.digitalTwin),U(2),W("digitalTwin",n.digitalTwin),U(2),W("digitalTwin",n.digitalTwin))},directives:[yl,ju,Df,Vpe,MH,ebe,Obe,Nbe],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.loading-screen[_ngcontent-%COMP%]{width:50%}.right-content[_ngcontent-%COMP%]{background-color:#fff;height:100%}"]}),i})();function Hbe(i,t){if(1&i){const e=tn();A(0,"div",7),A(1,"mat-card",8),Le("click",function(){const r=Qt(e).$implicit;return ue().navigateTo(r)}),A(2,"mat-card-header"),A(3,"mat-card-title"),we(4),E(),E(),fe(5,"img",9),E(),E()}if(2&i){const e=t.$implicit;W("fxFlex","14%"),U(4),un(e.name),U(1),W("src",e.machine.imageUrl,xd)}}function zbe(i,t){1&i&&(A(0,"div",10),A(1,"h2"),we(2,"No Data"),E(),E())}let Gbe=(()=>{class i{constructor(e,n){this.router=e,this.httpService=n,this.digitalTwin=[],this.filteredList=[]}ngOnInit(){this.httpService.getDigitalTwins().subscribe(e=>{e.data.map(n=>{n.machine.modelPosition=this.convertToVector(n.machine.modelPosition),n.machine.modelScale=this.convertToVector(n.machine.modelScale),this.digitalTwin.push(n)}),this.filteredList=this.digitalTwin})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/digital-twin/${e._id}`,{state:e})}search(e){const n=e.target.value;this.filteredList=this.digitalTwin.filter(s=>{if(s.name.toLowerCase().includes(n))return s})}convertToVector(e){return new M(e[0],e[1],e[2])}}return i.\u0275fac=function(e){return new(e||i)(x(On),x(Hv))},i.\u0275cmp=Be({type:i,selectors:[["app-digital-twin"]],decls:8,vars:2,consts:[[1,"container"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Digital Twin...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid",1,"content"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.md","25%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,n){1&e&&(A(0,"section",0),A(1,"form",1),A(2,"input",2),Le("keyup",function(r){return n.search(r)}),E(),A(3,"a"),fe(4,"img",3),E(),E(),A(5,"div",4),pe(6,Hbe,6,3,"div",5),E(),pe(7,zbe,3,0,"div",6),E()),2&e&&(U(6),W("ngForOf",n.filteredList),U(1),W("ngIf",0==n.filteredList.length))},directives:[p_,s_,Ko,yl,jv,Ts,Df,HV,zV,VV,lT,Mi],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.content[_ngcontent-%COMP%]{width:99%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.card-image[_ngcontent-%COMP%]{height:285px}"]}),i})();function Wbe(i,t){if(1&i){const e=tn();A(0,"div",7),A(1,"mat-card",8),Le("click",function(){const r=Qt(e).$implicit;return ue().navigateTo(r)}),A(2,"mat-card-header"),A(3,"mat-card-title"),we(4),E(),E(),fe(5,"img",9),E(),E()}if(2&i){const e=t.$implicit;W("fxFlex","25%"),U(4),un(e.name),U(1),W("src",e.imageUrl,xd)}}function jbe(i,t){1&i&&(A(0,"div",10),A(1,"h2"),we(2," No Data"),E(),E())}const $be=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["app-home"]],decls:16,vars:0,consts:[["width","380px","height","500px","viewBox","0 0 837 1045","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z","id","Polygon-1","stroke","#007FB2","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z","id","Polygon-2","stroke","#EF4A5B","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z","id","Polygon-3","stroke","#795D9C","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z","id","Polygon-4","stroke","#F2773F","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z","id","Polygon-5","stroke","#36B455","stroke-width","6",0,"sketch","type","MSShapeGroup"],[1,"message-box"],[1,"buttons-con"],[1,"action-link-wrap"],["routerLink","/create",1,"link-button","link-back-button"],["routerLink","/about",1,"link-button"]],template:function(e,n){1&e&&(it(),A(0,"svg",0),A(1,"g",1),fe(2,"path",2),fe(3,"path",3),fe(4,"path",4),fe(5,"path",5),fe(6,"path",6),E(),E(),ld(),A(7,"div",7),A(8,"h1"),we(9,"Data twin"),E(),A(10,"div",8),A(11,"div",9),A(12,"a",10),we(13,"Get Started"),E(),A(14,"a",11),we(15,"Learn more about it"),E(),E(),E(),E())},directives:[t_],styles:["[_nghost-%COMP%]{background-color:#5a5c6c}svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-400px}.message-box[_ngcontent-%COMP%]{height:200px;width:380px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:50px;color:#fff;font-family:Roboto;font-weight:300}.message-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:46px;margin-bottom:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]{margin-top:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#68c950;padding:8px 25px;border-radius:4px;color:#fff;font-weight:700;font-size:14px;transition:all .3s linear;cursor:pointer;text-decoration:none;margin-right:10px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#5A5C6C;color:#fff}#Polygon-1[_ngcontent-%COMP%], #Polygon-2[_ngcontent-%COMP%], #Polygon-3[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-5[_ngcontent-%COMP%]{animation:float 1s infinite ease-in-out alternate}#Polygon-2[_ngcontent-%COMP%]{animation-delay:.2s}#Polygon-3[_ngcontent-%COMP%]{animation-delay:.4s}#Polygon-4[_ngcontent-%COMP%]{animation-delay:.6s}#Polygon-5[_ngcontent-%COMP%]{animation-delay:.8s}@keyframes float{to{transform:translateY(20px)}}@media (max-width: 450px){svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-190px}.message-box[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-100px;margin-left:-190px;text-align:center}}"]}),i})()},{path:"create",component:(()=>{class i{constructor(e,n){this.router=e,this.httpService=n,this.machineList=[],this.filteredList=[]}ngOnInit(){this.machineList=[],this.httpService.getMachines().subscribe(e=>{e.data.map(n=>{n.modelPosition=this.convertToVector(n.modelPosition),n.modelScale=this.convertToVector(n.modelScale),this.machineList.push(n)}),this.filteredList=this.machineList,console.log(this.machineList)})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/create/${e._id}`)}search(e){const n=e.target.value;this.filteredList=this.machineList.filter(s=>{if(s.name.toLowerCase().includes(n))return s})}convertToVector(e){return new M(e[0],e[1],e[2])}}return i.\u0275fac=function(e){return new(e||i)(x(On),x(Hv))},i.\u0275cmp=Be({type:i,selectors:[["app-machine-selection"]],decls:8,vars:2,consts:[[1,"machine-select"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search Machine...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,n){1&e&&(A(0,"section",0),A(1,"form",1),A(2,"input",2),Le("keyup",function(r){return n.search(r)}),E(),A(3,"a"),fe(4,"img",3),E(),E(),A(5,"div",4),pe(6,Wbe,6,3,"div",5),E(),pe(7,jbe,3,0,"div",6),E()),2&e&&(U(6),W("ngForOf",n.filteredList),U(1),W("ngIf",0==n.filteredList.length))},directives:[p_,s_,Ko,yl,jv,Ts,Df,HV,zV,VV,lT,Mi],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:75px;height:75px;top:-80px;right:-45px}.card-image[_ngcontent-%COMP%]{height:285px}"]}),i})()},{path:"about",component:DZ},{path:"create/:id",component:npe},{path:"digital-twin",component:Gbe},{path:"digital-twin/:id",component:Vbe}];let Ybe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[rF.forRoot($be)],rF]}),i})(),k5=(()=>{class i{constructor(){this.isLoading=new ke}show(){this.isLoading.next(!0)}hide(){this.isLoading.next(!1)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function qbe(i,t){if(1&i&&(it(),fe(0,"circle",4)),2&i){const e=ue(),n=zs(1);xi("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(n)),Ae("r",e._getCircleRadius())}}function Xbe(i,t){if(1&i&&(it(),fe(0,"circle",4)),2&i){const e=ue(),n=zs(1);xi("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(n)),Ae("r",e._getCircleRadius())}}const Kbe=bo(class{constructor(i){this._elementRef=i}},"primary"),Zbe=new ne("mat-progress-spinner-default-options",{providedIn:"root",factory:function Jbe(){return{diameter:100}}});class ko extends Kbe{constructor(t,e,n,s,r,a,o,l){super(t),this._document=n,this._diameter=100,this._value=0,this._resizeSubscription=_t.EMPTY,this.mode="determinate";const c=ko._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(n.head)||c.set(n.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!r&&!r._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth)),e.isBrowser&&e.SAFARI&&o&&a&&l&&(this._resizeSubscription=o.change(150).subscribe(()=>{"indeterminate"===this.mode&&l.run(()=>a.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Gn(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Gn(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Gn(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=py(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const n=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${n}% ${n}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,n=ko._diameters;let s=n.get(t);if(!s||!s.has(e)){const r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),t.appendChild(r),s||(s=new Set,n.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}ko._diameters=new WeakMap,ko.\u0275fac=function(t){return new(t||ko)(x(ve),x(on),x(mt,8),x(yn,8),x(Zbe),x(Kt),x(Zr),x(st))},ko.\u0275cmp=Be({type:ko,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Ae("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),xi("width",e.diameter,"px")("height",e.diameter,"px"),ut("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Z],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(it(),A(0,"svg",0,1),pe(2,qbe,1,11,"circle",2),pe(3,Xbe,1,9,"circle",3),E()),2&t&&(xi("width",e.diameter,"px")("height",e.diameter,"px"),W("ngSwitch","indeterminate"===e.mode),Ae("viewBox",e._getViewBox()),U(2),W("ngSwitchCase",!0),U(1),W("ngSwitchCase",!1))},directives:[Xd,Dg],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let R5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et,Fi],et]}),i})();function twe(i,t){1&i&&(A(0,"div",1),fe(1,"mat-progress-spinner",2),E())}let iwe=(()=>{class i{constructor(e){this.loaderService=e,this.isLoading=this.loaderService.isLoading}}return i.\u0275fac=function(e){return new(e||i)(x(k5))},i.\u0275cmp=Be({type:i,selectors:[["app-loader"]],decls:2,vars:3,consts:[["class","overlay",4,"ngIf"],[1,"overlay"],["mode","indeterminate",1,"spinner"]],template:function(e,n){1&e&&(pe(0,twe,2,0,"div",0),Bb(1,"async")),2&e&&W("ngIf",function vI(i,t,e){const n=i+20,s=_e(),r=ad(s,n);return cp(s,n)?pI(s,us(),t,r.transform,e,r):r.transform(e)}(1,1,n.isLoading))},directives:[Mi,ko],pipes:[FL],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;display:block;width:100%;height:100%;top:0;left:0;background-color:#4a4a4acc;z-index:99999}.spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}"]}),i})(),lwe=(()=>{class i extends ji{constructor(e,n,s,r,a,o,l){super(e,null,n,s),this.ngClassInstance=l,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new qd(r,a,e,o)),this.init(),this.setValue("","")}set klass(e){this.ngClassInstance.klass=e,this.setValue(e,"")}updateWithValue(e){this.ngClassInstance.ngClass=e,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Ri),x(Bi),x(Ss),x(jo),x(Gs),x(qd,10))},i.\u0275dir=j({type:i,inputs:{klass:["class","klass"]},features:[Z]}),i})();const cwe=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];let I5=(()=>{class i extends lwe{constructor(){super(...arguments),this.inputs=cwe}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275dir=j({type:i,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[Z]}),i})(),B5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[rM]]}),i})();const xwe=function(i,t,e,n){return{alert:i,"alert-success":t,"alert-danger":e,"alert-info":n}};function bwe(i,t){if(1&i&&(A(0,"div",1),we(1),E()),2&i){const e=ue();W("@simpleFadeAnimation","in")("ngClass",hI(3,xwe,e.message,"success"===e.message.type,"error"===e.message.type,"info"==e.message.type)),U(1),un(e.message.text)}}let wwe=(()=>{class i{constructor(e){this.alertService=e,this.subscription=new _t}ngOnInit(){this.subscription=this.alertService.getMessage().subscribe(e=>{this.message=e,console.log(e)})}ngOnDestroy(){this.subscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(x(nM))},i.\u0275cmp=Be({type:i,selectors:[["app-alert"]],decls:1,vars:1,consts:[[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(e,n){1&e&&pe(0,bwe,2,8,"div",0),2&e&&W("ngIf",n.message)},directives:[Mi,qd,I5],styles:[".alert[_ngcontent-%COMP%]{position:absolute;min-height:40px;text-align:center;right:5%;z-index:500000;top:5%;border-radius:20px;align-items:center;display:flex;justify-content:center;color:#fff;font-size:16px!important;width:-moz-fit-content;width:fit-content;padding:5px 24px;max-width:300px}.alert-success[_ngcontent-%COMP%]{background:#00C851}.alert-danger[_ngcontent-%COMP%]{background:#ff4444}.alert-info[_ngcontent-%COMP%]{background:#33b5e5}@media only screen and (max-width: 750px){.alert[_ngcontent-%COMP%]{top:10%;width:50%}}"],data:{animation:[bi("simpleFadeAnimation",[Lt("in",Pe({opacity:1})),Rt(":enter",[Pe({opacity:0}),Bt(600)]),Rt(":leave",Bt(300,Pe({opacity:0})))])]}}),i})();function ND(i){return It(()=>i)}const V5=["*"],Cwe=["content"];function Swe(i,t){if(1&i){const e=tn();A(0,"div",2),Le("click",function(){return Qt(e),ue()._onBackdropClicked()}),E()}2&i&&ut("mat-drawer-shown",ue()._isShowingBackdrop())}function Mwe(i,t){1&i&&(A(0,"mat-drawer-content"),At(1,2),E())}const Twe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Dwe=["mat-drawer","mat-drawer-content","*"],Awe={transformDrawer:bi("transform",[Lt("open, open-instant",Pe({transform:"none",visibility:"visible"})),Lt("void",Pe({"box-shadow":"none",visibility:"hidden"})),Rt("void => open-instant",Bt("0ms")),Rt("void <=> open, open-instant => void",Bt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ewe=new ne("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function kwe(){return!1}}),H5=new ne("MAT_DRAWER_CONTAINER");let BD=(()=>{class i extends uT{constructor(e,n,s,r,a){super(s,r,a),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(x(Kt),x(Ht(()=>G5)),x(ve),x(dT),x(st))},i.\u0275cmp=Be({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&xi("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[Qe([{provide:uT,useExisting:i}]),Z],ngContentSelectors:V5,decls:1,vars:0,template:function(e,n){1&e&&(Ci(),At(0))},encapsulation:2,changeDetection:0}),i})(),z5=(()=>{class i{constructor(e,n,s,r,a,o,l,c){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=s,this._platform=r,this._ngZone=a,this._interactivityChecker=o,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new ke,this._animationEnd=new ke,this._animationState="void",this.openedChange=new ge(!0),this._openedStream=this.openedChange.pipe(Oi(d=>d),It(()=>{})),this.openedStart=this._animationStarted.pipe(Oi(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),ND(void 0)),this._closedStream=this.openedChange.pipe(Oi(d=>!d),It(()=>{})),this.closedStart=this._animationStarted.pipe(Oi(d=>d.fromState!==d.toState&&"void"===d.toState),ND(void 0)),this._destroyed=new ke,this.onPositionChanged=new ge,this._modeChanged=new ke,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Zs(this._elementRef.nativeElement,"keydown").pipe(Oi(d=>27===d.keyCode&&!this.disableClose&&!bs(d)),pt(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(gy((d,u)=>d.fromState===u.fromState&&d.toState===u.toState)).subscribe(d=>{const{fromState:u,toState:h}=d;(0===h.indexOf("open")&&"void"===u||"void"===h&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Ue(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Ue(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Ue(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,n,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(zi(1)).subscribe(a=>r(a?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,s=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,n)),s.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Vde),x(yo),x(on),x(st),x(yV),x(mt,8),x(H5,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&Ct(Cwe,5),2&e){let s;Ce(s=Se())&&(n._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&Cb("@transform.start",function(r){return n._animationStarted.next(r)})("@transform.done",function(r){return n._animationEnd.next(r)}),2&e&&(Ae("align",null),Ab("@transform",n._animationState),ut("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:V5,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(Ci(),A(0,"div",0,1),At(2),E())},directives:[uT],encapsulation:2,data:{animation:[Awe.transformDrawer]},changeDetection:0}),i})(),G5=(()=>{class i{constructor(e,n,s,r,a,o=!1,l){this._dir=e,this._element=n,this._ngZone=s,this._changeDetectorRef=r,this._animationMode=l,this._drawers=new Bl,this.backdropClick=new ge,this._destroyed=new ke,this._doCheckSubject=new ke,this._contentMargins={left:null,right:null},this._contentMarginChanges=new ke,e&&e.change.pipe(pt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),a.change().pipe(pt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Ue(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Ue(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ds(this._allDrawers),pt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ds(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(my(10),pt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,n-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();n+=s,e-=s}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Oi(n=>n.fromState!==n.toState),pt(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(pt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(pt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(zi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(pt(Zi(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?n.add(s):n.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(x(zn,8),x(ve),x(st),x(Kt),x(Zr),x(Ewe),x(yn,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,s){if(1&e&&(St(s,BD,5),St(s,z5,5)),2&e){let r;Ce(r=Se())&&(n._content=r.first),Ce(r=Se())&&(n._allDrawers=r)}},viewQuery:function(e,n){if(1&e&&Ct(BD,5),2&e){let s;Ce(s=Se())&&(n._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&ut("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Qe([{provide:H5,useExisting:i}])],ngContentSelectors:Dwe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(Ci(Twe),pe(0,Swe,1,2,"div",0),At(1),At(2,1),pe(3,Mwe,2,0,"mat-drawer-content",1)),2&e&&(W("ngIf",n.hasBackdrop),U(3),W("ngIf",!n._content))},directives:[BD,Mi],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),i})(),VD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et,ka],ka,et]}),i})();const Iwe=["*"];let hx;function sm(i){var t;return(null===(t=function Lwe(){if(void 0===hx&&(hx=null,"undefined"!=typeof window)){const i=window;void 0!==i.trustedTypes&&(hx=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return hx}())||void 0===t?void 0:t.createHTML(i))||i}function U5(i){return Error(`Unable to find icon with the name "${i}"`)}function W5(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function j5(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class Kc{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let px=(()=>{class i{constructor(e,n,s,r){this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,n,s){return this.addSvgIconInNamespace("",e,n,s)}addSvgIconLiteral(e,n,s){return this.addSvgIconLiteralInNamespace("",e,n,s)}addSvgIconInNamespace(e,n,s,r){return this._addSvgIconConfig(e,n,new Kc(s,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,s,r){const a=this._sanitizer.sanitize(ri.HTML,s);if(!a)throw j5(s);const o=sm(a);return this._addSvgIconConfig(e,n,new Kc("",o,r))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,s){return this._addSvgIconSetConfig(e,new Kc(n,null,s))}addSvgIconSetLiteralInNamespace(e,n,s){const r=this._sanitizer.sanitize(ri.HTML,n);if(!r)throw j5(n);const a=sm(r);return this._addSvgIconSetConfig(e,new Kc("",a,s))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const n=this._sanitizer.sanitize(ri.RESOURCE_URL,e);if(!n)throw W5(e);const s=this._cachedIconsByUrl.get(n);return s?ht(fx(s)):this._loadSvgIconFromConfig(new Kc(e,null)).pipe(An(r=>this._cachedIconsByUrl.set(n,r)),It(r=>fx(r)))}getNamedSvgIcon(e,n=""){const s=$5(n,e);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,e),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):function Rwe(i,t){const e=Et(i)?i:()=>i,n=s=>s.error(e());return new ni(t?s=>t.schedule(n,0,s):n)}(U5(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?ht(fx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(It(n=>fx(n)))}_getSvgFromIconSetConfigs(e,n){const s=this._extractIconWithNameFromAnySet(e,n);return s?ht(s):lF(n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ka(o=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ri.RESOURCE_URL,a.url)} failed: ${o.message}`;return this._errorHandler.handleError(new Error(c)),ht(null)})))).pipe(It(()=>{const a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw U5(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(r),o=this._extractSvgIconFromSet(a,e,r.options);if(o)return o}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(An(n=>e.svgText=n),It(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?ht(null):this._fetchIcon(e).pipe(An(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,s){const r=e.querySelector(`[id="${n}"]`);if(!r)return null;const a=r.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const o=this._svgElementFromString(sm("<svg></svg>"));return o.appendChild(a),this._setSvgAttributes(o,s)}_svgElementFromString(e){const n=this._document.createElement("DIV");n.innerHTML=e;const s=n.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const n=this._svgElementFromString(sm("<svg></svg>")),s=e.attributes;for(let r=0;r<s.length;r++){const{name:a,value:o}=s[r];"id"!==a&&n.setAttribute(a,o)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){var n;const{url:s,options:r}=e,a=null!==(n=null==r?void 0:r.withCredentials)&&void 0!==n&&n;if(!this._httpClient)throw function Pwe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const o=this._sanitizer.sanitize(ri.RESOURCE_URL,s);if(!o)throw W5(s);const l=this._inProgressUrlFetches.get(o);if(l)return l;const c=this._httpClient.get(o,{responseType:"text",withCredentials:a}).pipe(It(d=>sm(d)),Rw(()=>this._inProgressUrlFetches.delete(o)),RA());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(e,n,s){return this._svgIconConfigs.set($5(e,n),s),this}_addSvgIconSetConfig(e,n){const s=this._iconSetConfigs.get(e);return s?s.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){const n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](n,e);if(r)return Owe(r)?new Kc(r.url,null,r.options):new Kc(r,null)}}}return i.\u0275fac=function(e){return new(e||i)($(Vv,8),$(Pg),$(mt,8),$(Wa))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fx(i){return i.cloneNode(!0)}function $5(i,t){return i+":"+t}function Owe(i){return!(!i.url||!i.options)}const Nwe=bo(class{constructor(i){this._elementRef=i}}),Bwe=new ne("mat-icon-location",{providedIn:"root",factory:function Vwe(){const i=_d(mt),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Y5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Hwe=Y5.map(i=>`[${i}]`).join(", "),zwe=/^url\(['"]?#(.*?)['"]?\)$/;let Gwe=(()=>{class i extends Nwe{constructor(e,n,s,r,a){super(e),this._iconRegistry=n,this._location=r,this._errorHandler=a,this._inline=!1,this._currentIconFetch=_t.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Ue(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){const s=e.childNodes[n];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),n&&e.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const n=this._elementsWithExternalReferences;n&&n.forEach((s,r)=>{s.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const n=e.querySelectorAll(Hwe),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)Y5.forEach(a=>{const o=n[r],l=o.getAttribute(a),c=l?l.match(zwe):null;if(c){let d=s.get(o);d||(d=[],s.set(o,d)),d.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[n,s]=this._splitIconName(e);n&&(this._svgNamespace=n),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,n).pipe(zi(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${n}:${s}! ${r.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(px),qn("aria-hidden"),x(Bwe),x(Wa))},i.\u0275cmp=Be({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,n){2&e&&(Ae("data-mat-icon-type",n._usingFontIcon()?"font":"svg")("data-mat-icon-name",n._svgName||n.fontIcon)("data-mat-icon-namespace",n._svgNamespace||n.fontSet),ut("mat-icon-inline",n.inline)("mat-icon-no-color","primary"!==n.color&&"accent"!==n.color&&"warn"!==n.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Z],ngContentSelectors:Iwe,decls:1,vars:0,template:function(e,n){1&e&&(Ci(),At(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),mx=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})(),HD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})();const q5=["*"],Wwe=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],jwe=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Qwe=xo(xr(class{})),Kwe=xr(class{}),Zwe=new ne("MatList"),X5=new ne("MatNavList");let Jwe=(()=>{class i extends Qwe{constructor(){super(...arguments),this._stateChanges=new ke}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return i.\u0275fac=function(){let t;return function(n){return(t||(t=Ie(i)))(n||i)}}(),i.\u0275cmp=Be({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Qe([{provide:X5,useExisting:i}]),Z,bt],ngContentSelectors:q5,decls:1,vars:0,template:function(e,n){1&e&&(Ci(),At(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),i})(),Q5=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),i})(),zD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=j({type:i,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),i})(),eCe=(()=>{class i extends Kwe{constructor(e,n,s,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new ke,this._disabled=!1,this._isInteractiveList=!!(s||r&&"action-list"===r._getListType()),this._list=s||r;const a=this._getHostElement();"button"===a.nodeName.toLowerCase()&&!a.hasAttribute("type")&&a.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(pt(this._destroyed)).subscribe(()=>{n.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Ue(e)}ngAfterContentInit(){!function AV(i,t,e="mat"){i.changes.pipe(Ds(i)).subscribe(({length:n})=>{Lf(t,`${e}-2-line`,!1),Lf(t,`${e}-3-line`,!1),Lf(t,`${e}-multi-line`,!1),2===n||3===n?Lf(t,`${e}-${n}-line`,!0):n>3&&Lf(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return i.\u0275fac=function(e){return new(e||i)(x(ve),x(Kt),x(X5,8),x(Zwe,8))},i.\u0275cmp=Be({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,n,s){if(1&e&&(St(s,Q5,5),St(s,zD,5),St(s,nT,5)),2&e){let r;Ce(r=Se())&&(n._avatar=r.first),Ce(r=Se())&&(n._icon=r.first),Ce(r=Se())&&(n._lines=r)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,n){2&e&&ut("mat-list-item-disabled",n.disabled)("mat-list-item-avatar",n._avatar||n._icon)("mat-list-item-with-avatar",n._avatar||n._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Z],ngContentSelectors:jwe,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,n){1&e&&(Ci(Wwe),A(0,"span",0),fe(1,"span",1),At(2),A(3,"span",2),At(4,1),E(),At(5,2),E()),2&e&&(U(1),W("matRippleTrigger",n._getHostElement())("matRippleDisabled",n._isRippleDisabled()))},directives:[br],encapsulation:2,changeDetection:0}),i})(),GD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[xy,wr,et,rT,Fi],xy,et,rT,HD]}),i})();function aCe(i,t){1&i&&(A(0,"h4",10),we(1,"Home"),E())}function oCe(i,t){1&i&&(A(0,"h4",10),we(1,"Select Machine"),E())}function lCe(i,t){1&i&&(A(0,"h4",10),we(1,"Your Digital Twin"),E())}const cCe=function(){return{exact:!0}};let dCe=(()=>{class i{constructor(){this.title="DigitalTwin",this.isExpanded=!0}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=Be({type:i,selectors:[["app-root"]],decls:23,vars:8,consts:[["autosize","",1,"container","mat-typography"],["mode","side","disableClose","true","opened","true",1,"drawer"],["drawer",""],["mat-mini-fab","","color","warn",2,"margin","10px",3,"click"],["aria-label","Menu"],["routerLinkActive","nav-active",3,"routerLink","routerLinkActiveOptions"],["mat-list-icon","",1,"nav-icon"],["mat-line","","class","nav-text",4,"ngIf"],["routerLinkActive","nav-active",3,"routerLink"],[1,"sidenav-content"],["mat-line","",1,"nav-text"]],template:function(e,n){1&e&&(fe(0,"app-loader"),fe(1,"app-alert"),A(2,"mat-drawer-container",0),A(3,"mat-drawer",1,2),A(5,"button",3),Le("click",function(){return n.isExpanded=!n.isExpanded}),A(6,"mat-icon",4),we(7,"menu"),E(),E(),A(8,"mat-nav-list"),A(9,"mat-list-item",5),A(10,"mat-icon",6),we(11,"home"),E(),pe(12,aCe,2,0,"h4",7),E(),A(13,"mat-list-item",8),A(14,"mat-icon",6),we(15,"build"),E(),pe(16,oCe,2,0,"h4",7),E(),A(17,"mat-list-item",8),A(18,"mat-icon",6),we(19,"build"),E(),pe(20,lCe,2,0,"h4",7),E(),E(),E(),A(21,"div",9),fe(22,"router-outlet"),E(),E()),2&e&&(U(9),W("routerLink","")("routerLinkActiveOptions",function uI(i,t,e){const n=us()+i,s=_e();return s[n]===Dt?ha(s,n,e?t.call(e):t()):function Jh(i,t){return i[t]}(s,n)}(7,cCe)),U(3),W("ngIf",n.isExpanded),U(1),W("routerLink","create"),U(3),W("ngIf",n.isExpanded),U(1),W("routerLink","digital-twin"),U(3),W("ngIf",n.isExpanded))},directives:[iwe,wwe,G5,z5,Ay,Gwe,Jwe,eCe,eF,e_,zD,Mi,nT,Uw],styles:[".container[_ngcontent-%COMP%]{height:100vh;background:#5584AC}.container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{background:#22577E;color:#fff}.container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{padding-left:10px;height:100%}.nav-icon[_ngcontent-%COMP%], .nav-text[_ngcontent-%COMP%]{color:#fff}.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{background-color:#5584ac}"]}),i})(),a4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[rM]]}),i})(),ISe=(()=>{class i{constructor(e,n){va(n)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,n=[]){return{ngModule:i,providers:e.serverLoaded?[{provide:Qr,useValue:Object.assign(Object.assign({},aM),e)},{provide:oM,useValue:n,multi:!0},{provide:Uu,useValue:!0}]:[{provide:Qr,useValue:Object.assign(Object.assign({},aM),e)},{provide:oM,useValue:n,multi:!0}]}}}return i.\u0275fac=function(e){return new(e||i)($(Uu),$(hn))},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[d3,B5,a4],d3,B5,a4]}),i})();const BSe={provide:new ne("mat-autocomplete-scroll-strategy"),deps:[wo],useFactory:function NSe(i){return()=>i.scrollStrategies.reposition()}};let c4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[BSe],imports:[[Vc,by,et,Fi],ka,by,et]}),i})(),h4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),p4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[wr,et,If,h4],et,h4]}),i})(),lMe=(()=>{class i{constructor(){this.changes=new ke,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,n){return`${e} \u2013 ${n}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uMe={provide:new ne("mat-datepicker-scroll-strategy"),deps:[wo],useFactory:function dMe(i){return()=>i.scrollStrategies.reposition()}};let _4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[lMe,uMe],imports:[[Fi,Hc,Vc,yy,Nc,et],ka]}),i})(),b4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[wr,et],et]}),i})(),S4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et],et]}),i})(),M4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),T4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[M4,wr,et,If],M4,et]}),i})();const eTe={provide:new ne("mat-menu-scroll-strategy"),deps:[wo],useFactory:function JMe(i){return()=>i.scrollStrategies.reposition()}};let A4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[eTe],imports:[[Fi,et,wr,Vc],ka,et]}),i})(),WD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et],et]}),i})(),jD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),k4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et,jD,Nc]]}),i})(),I4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[xy,et],xy,et]}),i})(),nTe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Mc]]}),i})(),$D=(()=>{class i{constructor(){this.changes=new ke,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const fTe={provide:$D,deps:[[new Mn,new Ns,$D]],useFactory:function pTe(i){return i||new $D}};let P4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[fTe,Zu],imports:[[et,Fi,Nc,Hc,nTe,mx,wr],et]}),i})(),yTe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),F4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[yTe,et],et]}),i})(),H4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[et,wr],et]}),i})(),z4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[yy,et],et]}),i})();const j4=new ne("mat-chips-default-options");let $4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[Zu,{provide:j4,useValue:{separatorKeyCodes:[13]}}],imports:[[et]]}),i})(),Y4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,et],et]}),i})(),q4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Vc,et,Nc],et]}),i})(),X4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Vc,Nc,Fi,Hc,et],et]}),i})();const ZTe={provide:new ne("mat-tooltip-scroll-strategy"),deps:[wo],useFactory:function KTe(i){return()=>i.scrollStrategies.reposition({scrollThrottle:20})}};let ZD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[ZTe],imports:[[yy,Fi,Vc,et],et,ka]}),i})(),JD=(()=>{class i{constructor(){this.changes=new ke,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,n,s)=>{if(0==s||0==n)return`0 of ${s}`;const r=e*n;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+n,s):r+n} of ${s}`}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const sDe={provide:JD,deps:[[new Mn,new Ns,JD]],useFactory:function nDe(i){return i||new JD}};let Q4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[sDe],imports:[[Fi,Hc,_T,ZD,et]]}),i})(),eA=(()=>{class i{constructor(){this.changes=new ke}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const aDe={provide:eA,deps:[[new Mn,new Ns,eA]],useFactory:function rDe(i){return i||new eA}};let K4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[aDe],imports:[[Fi,et]]}),i})();function tA(i,t,e){for(let n in t)if(t.hasOwnProperty(n)){const s=t[n];s?i.setProperty(n,s,(null==e?void 0:e.has(n))?"important":""):i.removeProperty(n)}return i}function yh(i,t){const e=t?"":"none";tA(i.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function Z4(i,t,e){tA(i.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function bx(i,t){return t&&"none"!=t?i+" "+t:i}function J4(i){const t=i.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(i)*t}function iA(i,t){return i.getPropertyValue(t).split(",").map(n=>n.trim())}function nA(i){const t=i.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function sA(i,t,e){const{top:n,bottom:s,left:r,right:a}=i;return e>=n&&e<=s&&t>=r&&t<=a}function om(i,t,e){i.top+=t,i.bottom=i.top+i.height,i.left+=e,i.right=i.left+i.width}function eU(i,t,e,n){const{top:s,right:r,bottom:a,left:o,width:l,height:c}=i,d=l*t,u=c*t;return n>s-u&&n<a+u&&e>o-d&&e<r+d}class tU{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:nA(e)})})}handleScroll(t){const e=yr(t),n=this.positions.get(e);if(!n)return null;const s=n.scrollPosition;let r,a;if(e===this._document){const c=this.getViewportScrollPosition();r=c.top,a=c.left}else r=e.scrollTop,a=e.scrollLeft;const o=s.top-r,l=s.left-a;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&om(c.clientRect,o,l)}),s.top=r,s.left=a,{top:o,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function iU(i){const t=i.cloneNode(!0),e=t.querySelectorAll("[id]"),n=i.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===n?rU(i,t):("input"===n||"select"===n||"textarea"===n)&&sU(i,t),nU("canvas",i,t,rU),nU("input, textarea, select",i,t,sU),t}function nU(i,t,e,n){const s=t.querySelectorAll(i);if(s.length){const r=e.querySelectorAll(i);for(let a=0;a<s.length;a++)n(s[a],r[a])}}let cDe=0;function sU(i,t){"file"!==t.type&&(t.value=i.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${cDe++}`)}function rU(i,t){const e=t.getContext("2d");if(e)try{e.drawImage(i,0,0)}catch(n){}}const aU=Kr({passive:!0}),wx=Kr({passive:!1}),rA=new Set(["position"]);class uDe{constructor(t,e,n,s,r,a){this._config=e,this._document=n,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new ke,this._pointerMoveSubscription=_t.EMPTY,this._pointerUpSubscription=_t.EMPTY,this._scrollSubscription=_t.EMPTY,this._resizeSubscription=_t.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ke,this.started=new ke,this.released=new ke,this.ended=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.moved=this._moveEvents,this._pointerDown=o=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(o);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,o)}else this.disabled||this._initializeDragSequence(this._rootElement,o)},this._pointerMove=o=>{const l=this._getPointerPositionOnPage(o);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const p=Date.now()>=this._dragStartTime+this._getDragStartDelay(o),f=this._dropContainer;if(!p)return void this._endDragSequence(o);(!f||!f.isDragging()&&!f.isReceiving())&&(o.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(o)))}return}o.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this._activeTransform;d.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:o,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=o=>{this._endDragSequence(o)},this._nativeDragStart=o=>{if(this._handles.length){const l=this._getTargetHandle(o);l&&!this._disabledHandles.has(l)&&!this.disabled&&o.preventDefault()}else this.disabled||o.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new tU(n),a.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Ue(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>yh(n,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(n=>ln(n)),this._handles.forEach(n=>yh(n,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&e.add(n)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=ln(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,wx),e.addEventListener("touchstart",this._pointerDown,aU),e.addEventListener("dragstart",this._nativeDragStart,wx)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?ln(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),yh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),yh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){lm(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const n=this._rootElement,s=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();s.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Z4(n,!1,rA),this._document.body.appendChild(s.replaceChild(r,n)),this._getPreviewInsertionPoint(s,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const n=this.isDragging(),s=lm(e),r=!s&&0!==e.button,a=this._rootElement,o=yr(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?QM(e):XM(e);if(o&&o.draggable&&"mousedown"===e.type&&e.preventDefault(),n||r||l||c)return;if(this._handles.length){const h=a.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=nA(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Z4(this._rootElement,!0,rA),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),a=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:a,distance:r,dropPoint:s}),e.drop(this,n,this._initialIndex,this._initialContainer,a,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let s;if(n&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,a=t.viewContainer.createEmbeddedView(n,t.context);a.detectChanges(),s=lU(a,this._document),this._previewRef=a,t.matchSize?cU(s,r):s.style.transform=Cx(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=iU(r),cU(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return tA(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},rA),yh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function lDe(i){const t=getComputedStyle(i),e=iA(t,"transition-property"),n=e.find(o=>"transform"===o||"all"===o);if(!n)return 0;const s=e.indexOf(n),r=iA(t,"transition-duration"),a=iA(t,"transition-delay");return J4(r[s])+J4(a[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{const s=a=>{var o;(!a||yr(a)===this._preview&&"transform"===a.propertyName)&&(null===(o=this._preview)||void 0===o||o.removeEventListener("transitionend",s),n(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=lU(this._placeholderRef,this._document)):n=iU(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():n,a=lm(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-o.left),y:r.top-n.top+(a.pageY-r.top-o.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=lm(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){const a=this._ownerSVGElement.getScreenCTM();if(a){const o=this._ownerSVGElement.createSVGPoint();return o.x=s,o.y=r,o.matrixTransform(a.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:a}=this._pickupPositionInElement,o=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=o.top+a,u=o.bottom-(c-a);n=oU(n,o.left+r,o.right-(l-r)),s=oU(s,d,u)}return{x:n,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(s.y=n>r.y?1:-1,r.y=n),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,yh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,wx),t.removeEventListener("touchstart",this._pointerDown,aU),t.removeEventListener("dragstart",this._nativeDragStart,wx)}_applyRootElementTransform(t,e){const n=Cx(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=bx(n,this._initialTransform)}_applyPreviewTransform(t,e){var n;const s=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,r=Cx(t,e);this._preview.style.transform=bx(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===s.width&&0===s.height)return;const r=n.left-s.left,a=s.right-n.right,o=n.top-s.top,l=s.bottom-n.bottom;n.width>s.width?(r>0&&(t+=r),a>0&&(t-=a)):t=0,n.height>s.height?(o>0&&(e+=o),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:lm(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=yr(t);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&om(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=py(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return ln(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function Cx(i,t){return`translate3d(${Math.round(i)}px, ${Math.round(t)}px, 0)`}function oU(i,t,e){return Math.max(t,Math.min(e,i))}function lm(i){return"t"===i.type[0]}function lU(i,t){const e=i.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const n=t.createElement("div");return e.forEach(s=>n.appendChild(s)),n}function cU(i,t){i.style.width=`${t.width}px`,i.style.height=`${t.height}px`,i.style.transform=Cx(t.left,t.top)}function cm(i,t){return Math.max(0,Math.min(t,i))}class pDe{constructor(t,e,n,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ke,this.entered=new ke,this.exited=new ke,this.dropped=new ke,this.sorted=new ke,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=_t.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ke,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function oDe(i=0,t=Gv){return i<0&&(i=0),Sf(i,i,t)}(0,YV).pipe(pt(this._stopScrollTimers)).subscribe(()=>{const a=this._scrollNode,o=this.autoScrollStep;1===this._verticalScrollDirection?a.scrollBy(0,-o):2===this._verticalScrollDirection&&a.scrollBy(0,o),1===this._horizontalScrollDirection?a.scrollBy(-o,0):2===this._horizontalScrollDirection&&a.scrollBy(o,0)})},this.element=ln(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new tU(n)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,n,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,n))):r=s;const a=this._activeDraggables,o=a.indexOf(t),l=t.getPlaceholderElement();let c=a[r];if(c===t&&(c=a[r+1]),!c&&(null==r||-1===r||r<a.length-1)&&this._shouldEnterAsFirstChild(e,n)&&(c=a[0]),o>-1&&a.splice(o,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),a.splice(r,0,t)}else ln(this.element).appendChild(l),a.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,s,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:s,isPointerOverContainer:r,distance:a,dropPoint:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=ln(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,s){if(this.sortingDisabled||!this._clientRect||!eU(this._clientRect,.05,e,n))return;const r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,n,s);if(-1===a&&r.length>0)return;const o="horizontal"===this._orientation,l=r.findIndex(m=>m.drag===t),c=r[a],u=c.clientRect,h=l>a?1:-1,p=this._getItemOffsetPx(r[l].clientRect,u,h),f=this._getSiblingOffsetPx(l,r,h),g=r.slice();(function hDe(i,t,e){const n=cm(t,i.length-1),s=cm(e,i.length-1);if(n===s)return;const r=i[n],a=s<n?-1:1;for(let o=n;o!==s;o+=a)i[o]=i[o+a];i[s]=r})(r,l,a),this.sorted.next({previousIndex:l,currentIndex:a,container:this,item:t}),r.forEach((m,_)=>{if(g[_]===m)return;const v=m.drag===t,y=v?p:f,b=v?t.getPlaceholderElement():m.drag.getRootElement();m.offset+=y,o?(b.style.transform=bx(`translate3d(${Math.round(m.offset)}px, 0, 0)`,m.initialTransform),om(m.clientRect,0,y)):(b.style.transform=bx(`translate3d(0, ${Math.round(m.offset)}px, 0)`,m.initialTransform),om(m.clientRect,y,0))}),this._previousSwap.overlaps=sA(u,e,n),this._previousSwap.drag=c.drag,this._previousSwap.delta=o?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,s=0,r=0;if(this._parentPositions.positions.forEach((a,o)=>{o===this._document||!a.clientRect||n||eU(a.clientRect,.05,t,e)&&([s,r]=function fDe(i,t,e,n){const s=hU(t,n),r=pU(t,e);let a=0,o=0;if(s){const l=i.scrollTop;1===s?l>0&&(a=1):i.scrollHeight-l>i.clientHeight&&(a=2)}if(r){const l=i.scrollLeft;1===r?l>0&&(o=1):i.scrollWidth-l>i.clientWidth&&(o=2)}return[a,o]}(o,a.clientRect,t,e),(s||r)&&(n=o))}),!s&&!r){const{width:a,height:o}=this._viewportRuler.getViewportSize(),l={width:a,height:o,top:0,right:a,bottom:o,left:0};s=hU(l,e),r=pU(l,t),n=window}n&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=n,(s||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=ln(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=ln(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const n=e.getVisibleElement();return{drag:e,offset:0,initialTransform:n.style.transform||"",clientRect:nA(n)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=ln(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var n;const s=e.getRootElement();if(s){const r=null===(n=this._itemPositions.find(a=>a.drag===e))||void 0===n?void 0:n.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const s="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*n];let o=r[s?"width":"height"]*n;if(a){const l=s?"left":"top",c=s?"right":"bottom";-1===n?o-=a.clientRect[l]-r[c]:o+=r[l]-a.clientRect[c]}return o}_getItemOffsetPx(t,e,n){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===n&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,s="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const a=n[n.length-1].clientRect;return s?t>=a.right:e>=a.bottom}{const a=n[0].clientRect;return s?t<=a.left:e<=a.top}}_getItemIndexFromPointerPosition(t,e,n,s){const r="horizontal"===this._orientation,a=this._itemPositions.findIndex(({drag:o,clientRect:l})=>{if(o===t)return!1;if(s){const c=r?s.x:s.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)});return-1!==a&&this.sortPredicate(a,t,this)?a:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&sA(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(s=>s._canReceive(t,e,n))}_canReceive(t,e,n){if(!this._clientRect||!sA(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,n);if(!s)return!1;const r=ln(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const n=this._activeSiblings;!n.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(n.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:n})=>{om(n,e.top,e.left)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=py(ln(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function hU(i,t){const{top:e,bottom:n,height:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=n-r&&t<=n+r?2:0}function pU(i,t){const{left:e,right:n,width:s}=i,r=.05*s;return t>=e-r&&t<=e+r?1:t>=n-r&&t<=n+r?2:0}const Sx=Kr({passive:!1,capture:!0});let mDe=(()=>{class i{constructor(e,n){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new ke,this.pointerUp=new ke,this.scroll=new ke,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=n}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Sx)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Sx)}startDragging(e,n){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=n.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Sx}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:Sx}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,a)=>{this._document.addEventListener(a,r.handler,r.options)})})}}stopDragging(e){const n=this._activeDragInstances.indexOf(e);n>-1&&(this._activeDragInstances.splice(n,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const n=[this.scroll];return e&&e!==this._document&&n.push(new ni(s=>this._ngZone.runOutsideAngular(()=>{const a=o=>{this._activeDragInstances.length&&s.next(o)};return e.addEventListener("scroll",a,!0),()=>{e.removeEventListener("scroll",a,!0)}}))),Zi(...n)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,n)=>{this._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}return i.\u0275fac=function(e){return new(e||i)($(st),$(mt))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gDe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let _De=(()=>{class i{constructor(e,n,s,r){this._document=e,this._ngZone=n,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,n=gDe){return new uDe(e,n,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new pDe(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return i.\u0275fac=function(e){return new(e||i)($(mt),$(st),$(Zr),$(mDe))},i.\u0275prov=de({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),fU=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({providers:[_De],imports:[ka]}),i})(),vDe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({imports:[[Fi,c4,p4,_4,Of,bH,b4,_T,S4,T4,A4,VD,WD,GV,HD,k4,I4,GD,P4,RH,F4,Hc,H4,z4,$4,mx,R5,Y4,wr,q4,X4,ZD,Q4,K4,E5,fU,jD,DV],c4,p4,_4,Of,bH,b4,_T,S4,T4,A4,VD,WD,GV,HD,k4,I4,GD,P4,RH,F4,Hc,H4,z4,$4,mx,R5,Y4,wr,q4,X4,ZD,Q4,K4,E5,fU,jD,DV]}),i})(),yDe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i}),i.\u0275inj=xe({}),i})(),xDe=(()=>{class i{constructor(e){this.loaderService=e}intercept(e,n){return this.loaderService.show(),n.handle(e).pipe(Rw(()=>this.loaderService.hide()))}}return i.\u0275fac=function(e){return new(e||i)($(k5))},i.\u0275prov=de({token:i,factory:i.\u0275fac}),i})(),bDe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=be({type:i,bootstrap:[dCe]}),i.\u0275inj=xe({providers:[YS,{provide:KS,useClass:xDe,multi:!0}],imports:[[KL,Ybe,ode,ISe,vDe,yDe,WD,Hc,VD,mx,GD,wJ,CJ,soe,Z0e]]}),i})();(function B9(){nL=!1})(),ZX().bootstrapModule(bDe).catch(i=>console.error(i))},87:(Es,Io,$n)=>{"use strict";const Et=$n(315),tr=$n(872),ks=$n(717);Es.exports=function cs(Vi,Zn){switch(tr(Vi)){case"object":return function _t(Vi,Zn){if("function"==typeof Zn)return Zn(Vi);if(Zn||ks(Vi)){const Ee=new Vi.constructor;for(let zt in Vi)Ee[zt]=cs(Vi[zt],Zn);return Ee}return Vi}(Vi,Zn);case"array":return function ir(Vi,Zn){const Ee=new Vi.constructor(Vi.length);for(let zt=0;zt<Vi.length;zt++)Ee[zt]=cs(Vi[zt],Zn);return Ee}(Vi,Zn);default:return Et(Vi)}}},717:(Es,Io,$n)=>{"use strict";var Et=$n(623);function tr(ks){return!0===Et(ks)&&"[object Object]"===Object.prototype.toString.call(ks)}Es.exports=function(cs){var _t,ir;return!(!1===tr(cs)||(_t=cs.constructor,"function"!=typeof _t)||(ir=_t.prototype,!1===tr(ir))||!1===ir.hasOwnProperty("isPrototypeOf"))}},623:Es=>{"use strict";Es.exports=function($n){return null!=$n&&"object"==typeof $n&&!1===Array.isArray($n)}},872:Es=>{var Io=Object.prototype.toString;function $n(Ee){return"function"==typeof Ee.constructor?Ee.constructor.name:null}Es.exports=function(zt){if(void 0===zt)return"undefined";if(null===zt)return"null";var Yn=typeof zt;if("boolean"===Yn)return"boolean";if("string"===Yn)return"string";if("number"===Yn)return"number";if("symbol"===Yn)return"symbol";if("function"===Yn)return function _t(Ee,zt){return"GeneratorFunction"===$n(Ee)}(zt)?"generatorfunction":"function";if(function Et(Ee){return Array.isArray?Array.isArray(Ee):Ee instanceof Array}(zt))return"array";if(function Zn(Ee){return!(!Ee.constructor||"function"!=typeof Ee.constructor.isBuffer)&&Ee.constructor.isBuffer(Ee)}(zt))return"buffer";if(function Vi(Ee){try{if("number"==typeof Ee.length&&"function"==typeof Ee.callee)return!0}catch(zt){if(-1!==zt.message.indexOf("callee"))return!0}return!1}(zt))return"arguments";if(function ks(Ee){return Ee instanceof Date||"function"==typeof Ee.toDateString&&"function"==typeof Ee.getDate&&"function"==typeof Ee.setDate}(zt))return"date";if(function tr(Ee){return Ee instanceof Error||"string"==typeof Ee.message&&Ee.constructor&&"number"==typeof Ee.constructor.stackTraceLimit}(zt))return"error";if(function cs(Ee){return Ee instanceof RegExp||"string"==typeof Ee.flags&&"boolean"==typeof Ee.ignoreCase&&"boolean"==typeof Ee.multiline&&"boolean"==typeof Ee.global}(zt))return"regexp";switch($n(zt)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function ir(Ee){return"function"==typeof Ee.throw&&"function"==typeof Ee.return&&"function"==typeof Ee.next}(zt))return"generator";switch(Yn=Io.call(zt)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return Yn.slice(8,-1).toLowerCase().replace(/\s/g,"")}},315:(Es,Io,$n)=>{"use strict";const Et=Symbol.prototype.valueOf,tr=$n(872);Es.exports=function ks(Ee,zt){switch(tr(Ee)){case"array":return Ee.slice();case"object":return Object.assign({},Ee);case"date":return new Ee.constructor(Number(Ee));case"map":return new Map(Ee);case"set":return new Set(Ee);case"buffer":return function Vi(Ee){const zt=Ee.length,Yn=Buffer.allocUnsafe?Buffer.allocUnsafe(zt):Buffer.from(zt);return Ee.copy(Yn),Yn}(Ee);case"symbol":return function Zn(Ee){return Et?Object(Et.call(Ee)):{}}(Ee);case"arraybuffer":return function _t(Ee){const zt=new Ee.constructor(Ee.byteLength);return new Uint8Array(zt).set(new Uint8Array(Ee)),zt}(Ee);case"float32array":case"float64array":case"int16array":case"int32array":case"int8array":case"uint16array":case"uint32array":case"uint8clampedarray":case"uint8array":return function ir(Ee,zt){return new Ee.constructor(Ee.buffer,Ee.byteOffset,Ee.length)}(Ee);case"regexp":return function cs(Ee){const zt=void 0!==Ee.flags?Ee.flags:/\w+$/.exec(Ee)||void 0,Yn=new Ee.constructor(Ee.source,zt);return Yn.lastIndex=Ee.lastIndex,Yn}(Ee);case"error":return Object.create(Ee);default:return Ee}}}},Es=>{Es(Es.s=509)}]);