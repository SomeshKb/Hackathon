"use strict";var rTe=Object.defineProperty,oTe=Object.defineProperties,aTe=Object.getOwnPropertyDescriptors,W4=Object.getOwnPropertySymbols,lTe=Object.prototype.hasOwnProperty,cTe=Object.prototype.propertyIsEnumerable,$4=(gt,Pi,as)=>Pi in gt?rTe(gt,Pi,{enumerable:!0,configurable:!0,writable:!0,value:as}):gt[Pi]=as,MA=(gt,Pi)=>{for(var as in Pi||(Pi={}))lTe.call(Pi,as)&&$4(gt,as,Pi[as]);if(W4)for(var as of W4(Pi))cTe.call(Pi,as)&&$4(gt,as,Pi[as]);return gt},CA=(gt,Pi)=>oTe(gt,aTe(Pi));(self.webpackChunkHackathon=self.webpackChunkHackathon||[]).push([[179],{356:()=>{function gt(n){return"function"==typeof n}function Pi(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const as=Pi(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,s)=>`${s+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Kc(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const r of e)r.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(gt(i))try{i()}catch(r){t=r instanceof as?r.errors:[r]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const r of s)try{EA(r)}catch(o){t=null!=t?t:[],o instanceof as?t=[...t,...o.errors]:t.push(o)}}if(t)throw new as(t)}}add(t){var e;if(t&&t!==this)if(this.closed)EA(t);else{if(t instanceof Pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._teardowns=null!==(e=this._teardowns)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Kc(e,t)}remove(t){const{_teardowns:e}=this;e&&Kc(e,t),t instanceof Pt&&t._removeParent(this)}}Pt.EMPTY=(()=>{const n=new Pt;return n.closed=!0,n})();const SA=Pt.EMPTY;function DA(n){return n instanceof Pt||n&&"closed"in n&&gt(n.remove)&&gt(n.add)&&gt(n.unsubscribe)}function EA(n){gt(n)?n():n.unsubscribe()}const Cl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Em={setTimeout(...n){const{delegate:t}=Em;return((null==t?void 0:t.setTimeout)||setTimeout)(...n)},clearTimeout(n){const{delegate:t}=Em;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function AA(n){Em.setTimeout(()=>{const{onUnhandledError:t}=Cl;if(!t)throw n;t(n)})}function Qc(){}const q4=Xb("C",void 0,void 0);function Xb(n,t,e){return{kind:n,value:t,error:e}}let Sl=null;function Am(n){if(Cl.useDeprecatedSynchronousErrorHandling){const t=!Sl;if(t&&(Sl={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Sl;if(Sl=null,e)throw i}}else n()}class Kb extends Pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,DA(t)&&t.add(this)):this.destination=Q4}static create(t,e,i){return new Qb(t,e,i)}next(t){this.isStopped?Jb(function X4(n){return Xb("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Jb(function Y4(n){return Xb("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Jb(q4,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Qb extends Kb{constructor(t,e,i){let s;if(super(),gt(t))s=t;else if(t){let r;({next:s,error:e,complete:i}=t),this&&Cl.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe()):r=t,s=null==s?void 0:s.bind(r),e=null==e?void 0:e.bind(r),i=null==i?void 0:i.bind(r)}this.destination={next:s?Zb(s):Qc,error:Zb(null!=e?e:TA),complete:i?Zb(i):Qc}}}function Zb(n,t){return(...e)=>{try{n(...e)}catch(i){Cl.useDeprecatedSynchronousErrorHandling?function K4(n){Cl.useDeprecatedSynchronousErrorHandling&&Sl&&(Sl.errorThrown=!0,Sl.error=n)}(i):AA(i)}}}function TA(n){throw n}function Jb(n,t){const{onStoppedNotification:e}=Cl;e&&Em.setTimeout(()=>e(n,t))}const Q4={closed:!0,next:Qc,error:TA,complete:Qc},ex="function"==typeof Symbol&&Symbol.observable||"@@observable";function Aa(n){return n}let Zt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const r=function J4(n){return n&&n instanceof Kb||function Z4(n){return n&&gt(n.next)&&gt(n.error)&&gt(n.complete)}(n)&&DA(n)}(e)?e:new Qb(e,i,s);return Am(()=>{const{operator:o,source:a}=this;r.add(o?o.call(r,a):a?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=kA(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){r(l),null==o||o.unsubscribe()}},r,s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ex](){return this}pipe(...e){return function RA(n){return 0===n.length?Aa:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=kA(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function kA(n){var t;return null!==(t=null!=n?n:Cl.Promise)&&void 0!==t?t:Promise}const ej=Pi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let me=(()=>{class n extends Zt{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new IA(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new ej}next(e){Am(()=>{if(this._throwIfClosed(),!this.isStopped){const i=this.observers.slice();for(const s of i)s.next(e)}})}error(e){Am(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Am(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:s,observers:r}=this;return i||s?SA:(r.push(e),new Pt(()=>Kc(r,e)))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:s,isStopped:r}=this;i?e.error(s):r&&e.complete()}asObservable(){const e=new Zt;return e.source=this,e}}return n.create=(t,e)=>new IA(t,e),n})();class IA extends me{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:SA}}function PA(n){return gt(null==n?void 0:n.lift)}function Vn(n){return t=>{if(PA(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}class An extends Kb{constructor(t,e,i,s,r){super(t),this.onFinalize=r,this._next=e?function(o){try{e(o)}catch(a){t.error(a)}}:super._next,this._error=s?function(o){try{s(o)}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(o){t.error(o)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}function Ct(n,t){return Vn((e,i)=>{let s=0;e.subscribe(new An(i,r=>{i.next(n.call(t,r,s++))}))})}function Dl(n){return this instanceof Dl?(this.v=n,this):new Dl(n)}function ij(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,i=e.apply(n,t||[]),r=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(h){i[h]&&(s[h]=function(f){return new Promise(function(p,m){r.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Dl?Promise.resolve(h.value.v).then(c,d):u(r[0][2],h)}(i[h](f))}catch(p){u(r[0][3],p)}}function c(h){a("next",h)}function d(h){a("throw",h)}function u(h,f){h(f),r.shift(),r.length&&a(r[0][0],r[0][1])}}function sj(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function LA(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(r){e[r]=n[r]&&function(o){return new Promise(function(a,l){!function s(r,o,a,l){Promise.resolve(l).then(function(c){r({value:c,done:a})},o)}(a,l,(o=n[r](o)).done,o.value)})}}}const nx=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function NA(n){return gt(null==n?void 0:n.then)}function BA(n){return gt(n[ex])}function VA(n){return Symbol.asyncIterator&&gt(null==n?void 0:n[Symbol.asyncIterator])}function HA(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zA=function oj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function UA(n){return gt(null==n?void 0:n[zA])}function GA(n){return ij(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:s}=yield Dl(e.read());if(s)return yield Dl(void 0);yield yield Dl(i)}}finally{e.releaseLock()}})}function jA(n){return gt(null==n?void 0:n.getReader)}function Ss(n){if(n instanceof Zt)return n;if(null!=n){if(BA(n))return function aj(n){return new Zt(t=>{const e=n[ex]();if(gt(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(nx(n))return function lj(n){return new Zt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(NA(n))return function cj(n){return new Zt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,AA)})}(n);if(VA(n))return WA(n);if(UA(n))return function dj(n){return new Zt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(jA(n))return function uj(n){return WA(GA(n))}(n)}throw HA(n)}function WA(n){return new Zt(t=>{(function hj(n,t){var e,i,s,r;return function tj(n,t,e,i){return new(e||(e=Promise))(function(r,o){function a(d){try{c(i.next(d))}catch(u){o(u)}}function l(d){try{c(i.throw(d))}catch(u){o(u)}}function c(d){d.done?r(d.value):function s(r){return r instanceof e?r:new e(function(o){o(r)})}(d.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=sj(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){s={error:o}}finally{try{i&&!i.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Io(n,t,e,i=0,s=!1){const r=t.schedule(function(){e(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(r),!s)return r}function li(n,t,e=1/0){return gt(t)?li((i,s)=>Ct((r,o)=>t(i,r,s,o))(Ss(n(i,s))),e):("number"==typeof t&&(e=t),Vn((i,s)=>function fj(n,t,e,i,s,r,o,a){const l=[];let c=0,d=0,u=!1;const h=()=>{u&&!l.length&&!c&&t.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{r&&t.next(m),c++;let g=!1;Ss(e(m,d++)).subscribe(new An(t,_=>{null==s||s(_),r?f(_):t.next(_)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const _=l.shift();o?Io(t,o,()=>p(_)):p(_)}h()}catch(_){t.error(_)}}))};return n.subscribe(new An(t,f,()=>{u=!0,h()})),()=>{null==a||a()}}(i,s,n,e)))}function bh(n=1/0){return li(Aa,n)}const xr=new Zt(n=>n.complete());function $A(n){return n&&gt(n.schedule)}function ix(n){return n[n.length-1]}function qA(n){return gt(ix(n))?n.pop():void 0}function xh(n){return $A(ix(n))?n.pop():void 0}function YA(n,t=0){return Vn((e,i)=>{e.subscribe(new An(i,s=>Io(i,n,()=>i.next(s),t),()=>Io(i,n,()=>i.complete(),t),s=>Io(i,n,()=>i.error(s),t)))})}function XA(n,t=0){return Vn((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function KA(n,t){if(!n)throw new Error("Iterable cannot be null");return new Zt(e=>{Io(e,t,()=>{const i=n[Symbol.asyncIterator]();Io(e,t,()=>{i.next().then(s=>{s.done?e.complete():e.next(s.value)})},0,!0)})})}function bi(n,t){return t?function xj(n,t){if(null!=n){if(BA(n))return function gj(n,t){return Ss(n).pipe(XA(t),YA(t))}(n,t);if(nx(n))return function yj(n,t){return new Zt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(NA(n))return function _j(n,t){return Ss(n).pipe(XA(t),YA(t))}(n,t);if(VA(n))return KA(n,t);if(UA(n))return function vj(n,t){return new Zt(e=>{let i;return Io(e,t,()=>{i=n[zA](),Io(e,t,()=>{let s,r;try{({value:s,done:r}=i.next())}catch(o){return void e.error(o)}r?e.complete():e.next(s)},0,!0)}),()=>gt(null==i?void 0:i.return)&&i.return()})}(n,t);if(jA(n))return function bj(n,t){return KA(GA(n),t)}(n,t)}throw HA(n)}(n,t):Ss(n)}function jn(...n){const t=xh(n),e=function mj(n,t){return"number"==typeof ix(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Ss(i[0]):bh(e)(bi(i,t)):xr}function Pn(n){return n<=0?()=>xr:Vn((t,e)=>{let i=0;t.subscribe(new An(e,s=>{++i<=n&&(e.next(s),n<=i&&e.complete())}))})}function QA(n={}){const{connector:t=(()=>new me),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:s=!0}=n;return r=>{let o=null,a=null,l=null,c=0,d=!1,u=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=l=null,d=u=!1},p=()=>{const m=o;f(),null==m||m.unsubscribe()};return Vn((m,g)=>{c++,!u&&!d&&h();const _=l=null!=l?l:t();g.add(()=>{c--,0===c&&!u&&!d&&(a=sx(p,s))}),_.subscribe(g),o||(o=new Qb({next:y=>_.next(y),error:y=>{u=!0,h(),a=sx(f,e,y),_.error(y)},complete:()=>{d=!0,h(),a=sx(f,i),_.complete()}}),bi(m).subscribe(o))})(r)}}function sx(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Pn(1)).subscribe(()=>n())}function _n(n){for(let t in n)if(n[t]===_n)return t;throw Error("Could not find renamed property on target object.")}function rx(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function cn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(cn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ox(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const wj=_n({__forward_ref__:_n});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return cn(this())},n}function Et(n){return ZA(n)?n():n}function ZA(n){return"function"==typeof n&&n.hasOwnProperty(wj)&&n.__forward_ref__===Ot}class qt extends Error{constructor(t,e){super(function ax(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function yt(n){return"string"==typeof n?n:null==n?"":String(n)}function ls(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():yt(n)}function Tm(n,t){const e=t?` in ${t}`:"";throw new qt(-201,`No provider for ${ls(n)} found${e}`)}function Es(n,t){null==n&&function Tn(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function se(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Se(n){return{providers:n.providers||[],imports:n.imports||[]}}function lx(n){return JA(n,Rm)||JA(n,tT)}function JA(n,t){return n.hasOwnProperty(t)?n[t]:null}function eT(n){return n&&(n.hasOwnProperty(cx)||n.hasOwnProperty(Tj))?n[cx]:null}const Rm=_n({\u0275prov:_n}),cx=_n({\u0275inj:_n}),tT=_n({ngInjectableDef:_n}),Tj=_n({ngInjectorDef:_n});var Mt=(()=>((Mt=Mt||{})[Mt.Default=0]="Default",Mt[Mt.Host=1]="Host",Mt[Mt.Self=2]="Self",Mt[Mt.SkipSelf=4]="SkipSelf",Mt[Mt.Optional=8]="Optional",Mt))();let dx;function Ta(n){const t=dx;return dx=n,t}function nT(n,t,e){const i=lx(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Mt.Optional?null:void 0!==t?t:void Tm(cn(n),"Injector")}function Ra(n){return{toString:n}.toString()}var wr=(()=>((wr=wr||{})[wr.OnPush=0]="OnPush",wr[wr.Default=1]="Default",wr))(),Mr=(()=>{return(n=Mr||(Mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mr;var n})();const kj="undefined"!=typeof globalThis&&globalThis,Ij="undefined"!=typeof window&&window,Pj="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,pn=kj||"undefined"!=typeof global&&global||Ij||Pj,Zc={},yn=[],km=_n({\u0275cmp:_n}),ux=_n({\u0275dir:_n}),hx=_n({\u0275pipe:_n}),iT=_n({\u0275mod:_n}),Oo=_n({\u0275fac:_n}),wh=_n({__NG_ELEMENT_ID__:_n});let Oj=0;function Qe(n){return Ra(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===wr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||yn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,id:"c",styles:n.styles||yn,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=Oj++,i.inputs=aT(n.inputs,e),i.outputs=aT(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(sT):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(rT):null,i})}function sT(n){return qi(n)||function ka(n){return n[ux]||null}(n)}function rT(n){return function El(n){return n[hx]||null}(n)}const oT={};function De(n){return Ra(()=>{const t={type:n.type,bootstrap:n.bootstrap||yn,declarations:n.declarations||yn,imports:n.imports||yn,exports:n.exports||yn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(oT[n.id]=n.type),t})}function aT(n,t){if(null==n)return Zc;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const z=Qe;function qi(n){return n[km]||null}function $s(n,t){const e=n[iT]||null;if(!e&&!0===t)throw new Error(`Type ${cn(n)} does not have '\u0275mod' property.`);return e}function Jr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Sr(n){return Array.isArray(n)&&!0===n[1]}function mx(n){return 0!=(8&n.flags)}function Fm(n){return 2==(2&n.flags)}function Lm(n){return 1==(1&n.flags)}function Dr(n){return null!==n.template}function Hj(n){return 0!=(512&n[2])}function kl(n,t){return n.hasOwnProperty(Oo)?n[Oo]:null}class Gj{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function on(){return cT}function cT(n){return n.type.prototype.ngOnChanges&&(n.setInput=Wj),jj}function jj(){const n=uT(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Zc)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function Wj(n,t,e,i){const s=uT(n)||function $j(n,t){return n[dT]=t}(n,{previous:Zc,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],l=o[a];r[a]=new Gj(l&&l.currentValue,t,o===Zc),n[i]=t}on.ngInherit=!0;const dT="__ngSimpleChanges__";function uT(n){return n[dT]||null}const hT="http://www.w3.org/2000/svg";let yx;function Wn(n){return!!n.listen}const pT={createRenderer:(n,t)=>function vx(){return void 0!==yx?yx:"undefined"!=typeof document?document:void 0}()};function ci(n){for(;Array.isArray(n);)n=n[0];return n}function Nm(n,t){return ci(t[n])}function Xs(n,t){return ci(t[n.index])}function bx(n,t){return n.data[t]}function Ts(n,t){const e=t[n];return Jr(e)?e:e[0]}function mT(n){return 4==(4&n[2])}function xx(n){return 128==(128&n[2])}function Ia(n,t){return null==t?null:n[t]}function gT(n){n[18]=0}function wx(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const pt={lFrame:CT(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _T(){return pt.bindingsEnabled}function ae(){return pt.lFrame.lView}function Yt(){return pt.lFrame.tView}function Ks(n){return pt.lFrame.contextLView=n,n[8]}function xi(){let n=yT();for(;null!==n&&64===n.type;)n=n.parent;return n}function yT(){return pt.lFrame.currentTNode}function eo(n,t){const e=pt.lFrame;e.currentTNode=n,e.isParent=t}function Mx(){return pt.lFrame.isParent}function Cx(){pt.lFrame.isParent=!1}function Bm(){return pt.isInCheckNoChangesMode}function Vm(n){pt.isInCheckNoChangesMode=n}function cs(){const n=pt.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function sd(){return pt.lFrame.bindingIndex++}function Lo(n){const t=pt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function a8(n,t){const e=pt.lFrame;e.bindingIndex=e.bindingRootIndex=n,Sx(t)}function Sx(n){pt.lFrame.currentDirectiveIndex=n}function Dx(n){const t=pt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function xT(){return pt.lFrame.currentQueryIndex}function Ex(n){pt.lFrame.currentQueryIndex=n}function c8(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function wT(n,t,e){if(e&Mt.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&Mt.Host||(s=c8(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=pt.lFrame=MT();return i.currentTNode=t,i.lView=n,!0}function Hm(n){const t=MT(),e=n[1];pt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function MT(){const n=pt.lFrame,t=null===n?null:n.child;return null===t?CT(n):t}function CT(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function ST(){const n=pt.lFrame;return pt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const DT=ST;function zm(){const n=ST();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ds(){return pt.lFrame.selectedIndex}function Pa(n){pt.lFrame.selectedIndex=n}function $n(){const n=pt.lFrame;return bx(n.tView,n.selectedIndex)}function rd(){pt.lFrame.currentNamespace=hT}function Um(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function Gm(n,t,e){ET(n,t,3,e)}function jm(n,t,e,i){(3&n[2])===e&&ET(n,t,e,i)}function Tx(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function ET(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(g8(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function g8(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Eh{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Wm(n,t,e){const i=Wn(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],l=e[s++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=e[++s];kx(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function AT(n){return 3===n||4===n||6===n}function kx(n){return 64===n.charCodeAt(0)}function $m(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||TT(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function TT(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function RT(n){return-1!==n}function od(n){return 32767&n}function ad(n,t){let e=function x8(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Ix=!0;function qm(n){const t=Ix;return Ix=n,t}let w8=0;function Th(n,t){const e=Ox(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Px(i.data,n),Px(t,null),Px(i.blueprint,null));const s=Ym(n,t),r=n.injectorIndex;if(RT(s)){const o=od(s),a=ad(s,t),l=a[1].data;for(let c=0;c<8;c++)t[r+c]=a[o+c]|l[o+c]}return t[r+8]=s,r}function Px(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Ox(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ym(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Xm(n,t,e){!function M8(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(wh)&&(i=e[wh]),null==i&&(i=e[wh]=w8++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function PT(n,t,e){if(e&Mt.Optional)return n;Tm(t,"NodeInjector")}function OT(n,t,e,i){if(e&Mt.Optional&&void 0===i&&(i=null),0==(e&(Mt.Self|Mt.Host))){const s=n[9],r=Ta(void 0);try{return s?s.get(t,i,e&Mt.Optional):nT(t,i,e&Mt.Optional)}finally{Ta(r)}}return PT(i,t,e)}function FT(n,t,e,i=Mt.Default,s){if(null!==n){const r=function E8(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(wh)?n[wh]:void 0;return"number"==typeof t?t>=0?255&t:S8:t}(e);if("function"==typeof r){if(!wT(t,n,i))return i&Mt.Host?PT(s,e,i):OT(t,e,i,s);try{const o=r(i);if(null!=o||i&Mt.Optional)return o;Tm(e)}finally{DT()}}else if("number"==typeof r){let o=null,a=Ox(n,t),l=-1,c=i&Mt.Host?t[16][6]:null;for((-1===a||i&Mt.SkipSelf)&&(l=-1===a?Ym(n,t):t[a+8],-1!==l&&BT(i,!1)?(o=t[1],a=od(l),t=ad(l,t)):a=-1);-1!==a;){const d=t[1];if(NT(r,a,d.data)){const u=D8(a,t,e,o,i,c);if(u!==LT)return u}l=t[a+8],-1!==l&&BT(i,t[1].data[a+8]===c)&&NT(r,a,t)?(o=d,a=od(l),t=ad(l,t)):a=-1}}}return OT(t,e,i,s)}const LT={};function S8(){return new ld(xi(),ae())}function D8(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],d=Km(a,o,e,null==i?Fm(a)&&Ix:i!=o&&0!=(3&a.type),s&Mt.Host&&r===a);return null!==d?Rh(t,o,d,a):LT}function Km(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,d=r>>20,h=s?a+d:n.directiveEnd;for(let f=i?a:a+d;f<h;f++){const p=o[f];if(f<l&&e===p||f>=l&&p.type===e)return f}if(s){const f=o[l];if(f&&Dr(f)&&f.type===e)return l}return null}function Rh(n,t,e,i){let s=n[e];const r=t.data;if(function _8(n){return n instanceof Eh}(s)){const o=s;o.resolving&&function Mj(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new qt(-200,`Circular dependency in DI detected for ${n}${e}`)}(ls(r[e]));const a=qm(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ta(o.injectImpl):null;wT(n,i,Mt.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function m8(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=cT(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&Ta(l),qm(a),o.resolving=!1,DT()}}return s}function NT(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function BT(n,t){return!(n&Mt.Self||n&Mt.Host&&t)}class ld{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return FT(this._tNode,this._lView,t,i,e)}}function be(n){return Ra(()=>{const t=n.prototype.constructor,e=t[Oo]||Fx(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Oo]||Fx(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function Fx(n){return ZA(n)?()=>{const t=Fx(Et(n));return t&&t()}:kl(n)}function Fi(n){return function C8(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const r=e[s];if(AT(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(xi(),n)}const dd="__parameters__";function hd(n,t,e){return Ra(()=>{const i=function Lx(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,d){const u=l.hasOwnProperty(dd)?l[dd]:Object.defineProperty(l,dd,{value:[]})[dd];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class K{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=se({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const T8=new K("AnalyzeForEntryComponents");function Qs(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Qs(i,t)):t!==n&&t.push(i)}return t}function to(n,t){n.forEach(e=>Array.isArray(e)?to(e,t):t(e))}function HT(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Qm(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ph(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Rs(n,t,e){let i=fd(n,t);return i>=0?n[1|i]=e:(i=~i,function I8(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Bx(n,t){const e=fd(n,t);if(e>=0)return n[1|e]}function fd(n,t){return function GT(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const Oh={},Hx="__NG_DI_FLAG__",Jm="ngTempTokenPath",V8=/\n/gm,WT="__source",z8=_n({provide:String,useValue:_n});let Fh;function $T(n){const t=Fh;return Fh=n,t}function U8(n,t=Mt.Default){if(void 0===Fh)throw new qt(203,"");return null===Fh?nT(n,void 0,t):Fh.get(n,t&Mt.Optional?null:void 0,t)}function j(n,t=Mt.Default){return(function Rj(){return dx}()||U8)(Et(n),t)}const pd=j;function zx(n){const t=[];for(let e=0;e<n.length;e++){const i=Et(n[e]);if(Array.isArray(i)){if(0===i.length)throw new qt(900,"");let s,r=Mt.Default;for(let o=0;o<i.length;o++){const a=i[o],l=G8(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(j(s,r))}else t.push(j(i))}return t}function Lh(n,t){return n[Hx]=t,n.prototype[Hx]=t,n}function G8(n){return n[Hx]}const Nh=Lh(hd("Inject",n=>({token:n})),-1),Mi=Lh(hd("Optional"),8),ks=Lh(hd("SkipSelf"),4);let tg;function gd(n){var t;return(null===(t=function Gx(){if(void 0===tg&&(tg=null,pn.trustedTypes))try{tg=pn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return tg}())||void 0===t?void 0:t.createHTML(n))||n}class Il{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class nW extends Il{getTypeName(){return"HTML"}}class iW extends Il{getTypeName(){return"Style"}}class sW extends Il{getTypeName(){return"Script"}}class rW extends Il{getTypeName(){return"URL"}}class oW extends Il{getTypeName(){return"ResourceURL"}}function Is(n){return n instanceof Il?n.changingThisBreaksApplicationSecurity:n}function no(n,t){const e=t1(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function t1(n){return n instanceof Il&&n.getTypeName()||null}class hW{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(gd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class fW{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=gd(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=gd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const o=e.item(s).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const mW=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,gW=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Vh(n){return(n=String(n)).match(mW)||n.match(gW)?n:"unsafe:"+n}function s1(n){return(n=String(n)).split(",").map(t=>Vh(t.trim())).join(", ")}function io(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Hh(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const r1=io("area,br,col,hr,img,wbr"),o1=io("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a1=io("rp,rt"),Wx=Hh(r1,Hh(o1,io("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hh(a1,io("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hh(a1,o1)),$x=io("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qx=io("srcset"),l1=Hh($x,qx,io("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),io("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_W=io("script,style,template");class yW{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wx.hasOwnProperty(e))return this.sanitizedSomething=!0,!_W.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!l1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;$x[a]&&(l=Vh(l)),qx[a]&&(l=s1(l)),this.buf.push(" ",o,'="',c1(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wx.hasOwnProperty(e)&&!r1.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(c1(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const vW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bW=/([^\#-~ |!])/g;function c1(n){return n.replace(/&/g,"&amp;").replace(vW,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(bW,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ig;function d1(n,t){let e=null;try{ig=ig||function n1(n){const t=new fW(n);return function pW(){try{return!!(new window.DOMParser).parseFromString(gd(""),"text/html")}catch(n){return!1}}()?new hW(t):t}(n);let i=t?String(t):"";e=ig.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=e.innerHTML,e=ig.getInertBodyElement(i)}while(i!==r);return gd((new yW).sanitizeChildren(Yx(e)||e))}finally{if(e){const i=Yx(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Yx(n){return"content"in n&&function xW(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function _d(n){const t=function zh(){const n=ae();return n&&n[12]}();return t?t.sanitize(en.URL,n)||"":no(n,"URL")?Is(n):Vh(yt(n))}const f1="__ngContext__";function Xi(n,t){n[f1]=t}function Kx(n){const t=function Uh(n){return n[f1]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Zx(n){return n.ngOriginalError}function BW(n,...t){n.error(...t)}class No{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function NW(n){return n&&n.ngErrorLogger||BW}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Zx(t);for(;e&&Zx(e);)e=Zx(e);return e||null}}const y1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(pn))();function so(n){return n instanceof Function?n():n}var Ps=(()=>((Ps=Ps||{})[Ps.Important=1]="Important",Ps[Ps.DashCase=2]="DashCase",Ps))();function e0(n,t){return undefined(n,t)}function Gh(n){const t=n[3];return Sr(t)?t[3]:t}function t0(n){return M1(n[13])}function n0(n){return M1(n[4])}function M1(n){for(;null!==n&&!Sr(n);)n=n[4];return n}function vd(n,t,e,i,s){if(null!=i){let r,o=!1;Sr(i)?r=i:Jr(i)&&(o=!0,i=i[0]);const a=ci(i);0===n&&null!==e?null==s?T1(t,e,a):Pl(t,e,a,s||null,!0):1===n&&null!==e?Pl(t,e,a,s||null,!0):2===n?function L1(n,t,e){const i=sg(n,t);i&&function l6(n,t,e,i){Wn(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function u6(n,t,e,i,s){const r=e[7];r!==ci(e)&&vd(t,n,i,r,s);for(let a=10;a<e.length;a++){const l=e[a];jh(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function r0(n,t,e){return Wn(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function S1(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,wx(s,-1)),e.splice(i,1)}function o0(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&S1(s,i),t>0&&(n[e-1][4]=i[4]);const r=Qm(n,10+t);!function JW(n,t){jh(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function D1(n,t){if(!(256&t[2])){const e=t[11];Wn(e)&&e.destroyNode&&jh(n,t,e,3,null,null),function n6(n){let t=n[13];if(!t)return a0(n[1],n);for(;t;){let e=null;if(Jr(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Jr(t)&&a0(t[1],t),t=t[3];null===t&&(t=n),Jr(t)&&a0(t[1],t),e=t&&t[4]}t=e}}(t)}}function a0(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function a6(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Eh)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function o6(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):ci(t[o]),l=i[s=e[r+2]],c=e[r+3];"boolean"==typeof c?a.removeEventListener(e[r],l,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&Wn(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Sr(t[3])){e!==t[3]&&S1(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function E1(n,t,e){return function A1(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===Mr.None||s===Mr.Emulated)return null}return Xs(i,e)}(n,t.parent,e)}function Pl(n,t,e,i,s){Wn(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function T1(n,t,e){Wn(n)?n.appendChild(t,e):t.appendChild(e)}function R1(n,t,e,i,s){null!==i?Pl(n,t,e,i,s):T1(n,t,e)}function sg(n,t){return Wn(n)?n.parentNode(t):t.parentNode}function k1(n,t,e){return P1(n,t,e)}let P1=function I1(n,t,e){return 40&n.type?Xs(n,e):null};function rg(n,t,e,i){const s=E1(n,i,t),r=t[11],a=k1(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)R1(r,s,e[l],a,!1);else R1(r,s,e,a,!1)}function og(n,t){if(null!==t){const e=t.type;if(3&e)return Xs(t,n);if(4&e)return c0(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return og(n,i);{const s=n[t.index];return Sr(s)?c0(-1,s):ci(s)}}if(32&e)return e0(t,n)()||ci(n[t.index]);{const i=F1(n,t);return null!==i?Array.isArray(i)?i[0]:og(Gh(n[16]),i):og(n,t.next)}}return null}function F1(n,t){return null!==t?n[16][6].projection[t.projection]:null}function c0(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return og(i,s)}return t[7]}function d0(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&Xi(ci(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)d0(n,t,e.child,i,s,r,!1),vd(t,n,s,a,r);else if(32&l){const c=e0(e,i);let d;for(;d=c();)vd(t,n,s,d,r);vd(t,n,s,a,r)}else 16&l?N1(n,t,i,e,s,r):vd(t,n,s,a,r);e=o?e.projectionNext:e.next}}function jh(n,t,e,i,s,r){d0(e,i,n.firstChild,t,s,r,!1)}function N1(n,t,e,i,s,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)vd(t,n,s,l[c],r);else d0(n,t,l,o[3],s,r,!0)}function B1(n,t,e){Wn(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function u0(n,t,e){Wn(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function V1(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const H1="ng-template";function f6(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==V1(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function z1(n){return 4===n.type&&n.value!==H1}function p6(n,t,e){return t===(4!==n.type||e?n.value:H1)}function m6(n,t,e){let i=4;const s=n.attrs||[],r=function y6(n){for(let t=0;t<n.length;t++)if(AT(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!p6(n,l,e)||""===l&&1===t.length){if(Er(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!f6(n.attrs,c,e)){if(Er(i))return!1;o=!0}continue}const u=g6(8&i?"class":l,s,z1(n),e);if(-1===u){if(Er(i))return!1;o=!0;continue}if(""!==c){let h;h=u>r?"":s[u+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==V1(f,c,0)||2&i&&c!==h){if(Er(i))return!1;o=!0}}}}else{if(!o&&!Er(i)&&!Er(l))return!1;if(o&&Er(l))continue;o=!1,i=l|1&i}}return Er(i)||o}function Er(n){return 0==(1&n)}function g6(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function v6(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function U1(n,t,e=!1){for(let i=0;i<t.length;i++)if(m6(n,t[i],e))return!0;return!1}function b6(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function G1(n,t){return n?":not("+t.trim()+")":t}function x6(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!Er(o)&&(t+=G1(r,s),s=""),i=o,r=r||!Er(i);e++}return""!==s&&(t+=G1(r,s)),t}const vt={};function he(n){j1(Yt(),ae(),ds()+n,Bm())}function j1(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Gm(t,r,e)}else{const r=n.preOrderHooks;null!==r&&jm(t,r,0,e)}Pa(e)}function ag(n,t){return n<<17|t<<2}function Ar(n){return n>>17&32767}function h0(n){return 2|n}function Bo(n){return(131068&n)>>2}function f0(n,t){return-131069&n|t<<2}function p0(n){return 1|n}function tR(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];Ex(s),o.contentQueries(2,t[r],r)}}}function Wh(n,t,e,i,s,r,o,a,l,c){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,gT(d),d[3]=d[15]=n,d[8]=e,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=r,d[16]=2==t.type?n[16]:d,d}function bd(n,t,e,i,s){let r=n.data[t];if(null===r)r=function M0(n,t,e,i,s){const r=yT(),o=Mx(),l=n.data[t]=function V6(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),function o8(){return pt.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function Dh(){const n=pt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return eo(r,!0),r}function xd(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function $h(n,t,e){Hm(t);try{const i=n.viewQuery;null!==i&&I0(1,i,e);const s=n.template;null!==s&&nR(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tR(n,t),n.staticViewQueries&&I0(2,n.viewQuery,e);const r=n.components;null!==r&&function L6(n,t){for(let e=0;e<t.length;e++)i$(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,zm()}}function wd(n,t,e,i){const s=t[2];if(256==(256&s))return;Hm(t);const r=Bm();try{gT(t),function vT(n){return pt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&nR(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const c=n.preOrderCheckHooks;null!==c&&Gm(t,c,null)}else{const c=n.preOrderHooks;null!==c&&jm(t,c,0,null),Tx(t,0)}if(function t$(n){for(let t=t0(n);null!==t;t=n0(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&wx(r,1),s[2]|=1024}}}(t),function e$(n){for(let t=t0(n);null!==t;t=n0(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];xx(i)&&wd(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&tR(n,t),!r)if(o){const c=n.contentCheckHooks;null!==c&&Gm(t,c)}else{const c=n.contentHooks;null!==c&&jm(t,c,1),Tx(t,1)}!function O6(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)Pa(~s);else{const r=s,o=e[++i],a=e[++i];a8(o,r),a(2,t[r])}}}finally{Pa(-1)}}(n,t);const a=n.components;null!==a&&function F6(n,t){for(let e=0;e<t.length;e++)n$(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&I0(2,l,i),!r)if(o){const c=n.viewCheckHooks;null!==c&&Gm(t,c)}else{const c=n.viewHooks;null!==c&&jm(t,c,2),Tx(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,wx(t[3],-1))}finally{zm()}}function N6(n,t,e,i){const s=t[10],r=!Bm(),o=mT(t);try{r&&!o&&s.begin&&s.begin(),o&&$h(n,t,i),wd(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function nR(n,t,e,i,s){const r=ds(),o=2&i;try{Pa(-1),o&&t.length>20&&j1(n,t,20,Bm()),e(i,s)}finally{Pa(r)}}function iR(n,t,e){if(mx(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}function C0(n,t,e){!_T()||(function $6(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Th(e,t),Xi(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],c=Dr(l);c&&Q6(t,e,l);const d=Rh(t,n,a,e);Xi(d,t),null!==o&&Z6(0,a-s,d,l,0,o),c&&(Ts(e.index,t)[8]=d)}}(n,t,e,Xs(e,t)),128==(128&e.flags)&&function q6(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=function l8(){return pt.lFrame.currentDirectiveIndex}();try{Pa(o);for(let l=i;l<s;l++){const c=n.data[l],d=t[l];Sx(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&uR(c,d)}}finally{Pa(-1),Sx(a)}}(n,t,e))}function S0(n,t,e=Xs){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function sR(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=dg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function dg(n,t,e,i,s,r,o,a,l,c){const d=20+i,u=d+s,h=function B6(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:vt);return e}(d,u),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:u,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function aR(n,t,e,i){const s=_R(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&yR(n).push(i,s.length-1))}function lR(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Os(n,t,e,i,s,r,o,a){const l=Xs(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(xR(n,e,d,i,s),Fm(t)&&function U6(n,t){const e=Ts(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function z6(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,Wn(r)?r.setProperty(l,i,s):kx(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function D0(n,t,e,i){let s=!1;if(_T()){const r=function Y6(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];U1(e,o.selectors,!1)&&(s||(s=[]),Xm(Th(e,t),n,o.type),Dr(o)?(hR(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,fR(e,n.data.length,r.length);for(let d=0;d<r.length;d++){const u=r[d];u.providersResolver&&u.providersResolver(u)}let a=!1,l=!1,c=xd(n,t,r.length,null);for(let d=0;d<r.length;d++){const u=r[d];e.mergedAttrs=$m(e.mergedAttrs,u.hostAttrs),pR(n,e,t,c,u),K6(c,u,o),null!==u.contentQueries&&(e.flags|=8),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=128);const h=u.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function H6(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const d=s[c],u=d.inputs,h=null===r||z1(t)?null:J6(u,r);o.push(h),a=lR(u,c,a),l=lR(d.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function X6(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new qt(-301,`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=$m(e.mergedAttrs,e.attrs),s}function dR(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function W6(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function uR(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function hR(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function K6(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Dr(t)&&(e[""]=n)}}function fR(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function pR(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=kl(s.type)),o=new Eh(r,Dr(s),null);n.blueprint[i]=o,e[i]=o,dR(n,t,0,i,xd(n,e,s.hostVars,vt),s)}function Q6(n,t,e){const i=Xs(t,n),s=sR(e),r=n[10],o=ug(n,Wh(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function ro(n,t,e,i,s,r){const o=Xs(n,t);!function E0(n,t,e,i,s,r,o){if(null==r)Wn(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?yt(r):o(r,i||"",s);Wn(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function Z6(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],d=o[l++],u=o[l++];null!==a?i.setInput(e,u,c,d):e[d]=u}}}function J6(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function mR(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function n$(n,t){const e=Ts(t,n);if(xx(e)){const i=e[1];80&e[2]?wd(i,e,i.template,e[8]):e[5]>0&&A0(e)}}function A0(n){for(let i=t0(n);null!==i;i=n0(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];wd(o,r,o.template,r[8])}else r[5]>0&&A0(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=Ts(e[i],n);xx(s)&&s[5]>0&&A0(s)}}function i$(n,t){const e=Ts(t,n),i=e[1];(function s$(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),$h(i,e,e[8])}function ug(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function T0(n){for(;n;){n[2]|=64;const t=Gh(n);if(Hj(n)&&!t)return n;n=t}return null}function k0(n,t,e){const i=t[10];i.begin&&i.begin();try{wd(n,t,n.template,e)}catch(s){throw bR(t,s),s}finally{i.end&&i.end()}}function gR(n){!function R0(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Kx(e),s=i[1];N6(s,i,s.template,e)}}(n[8])}function I0(n,t,e){Ex(0),t(n,e)}const l$=(()=>Promise.resolve(null))();function _R(n){return n[7]||(n[7]=[])}function yR(n){return n.cleanup||(n.cleanup=[])}function vR(n,t,e){return(null===n||Dr(n))&&(e=function Kj(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function bR(n,t){const e=n[9],i=e?e.get(No,null):null;i&&i.handleError(t)}function xR(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function Vo(n,t,e){const i=Nm(t,n);!function C1(n,t,e){Wn(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function hg(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=ox(s,a):2==r&&(i=ox(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const P0=new K("INJECTOR",-1);class wR{get(t,e=Oh){if(e===Oh){const i=new Error(`NullInjectorError: No provider for ${cn(t)}!`);throw i.name="NullInjectorError",i}return e}}const O0=new K("Set Injector scope."),qh={},u$={};let F0;function MR(){return void 0===F0&&(F0=new wR),F0}function CR(n,t=null,e=null,i){const s=SR(n,t,e,i);return s._resolveInjectorDefTypes(),s}function SR(n,t=null,e=null,i){return new h$(n,e,t||MR(),i)}class h${constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&to(e,a=>this.processProvider(a,t,e)),to([t],a=>this.processInjectorType(a,[],r)),this.records.set(P0,Md(void 0,this));const o=this.records.get(O0);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:cn(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Oh,i=Mt.Default){this.assertNotDestroyed();const s=$T(this),r=Ta(void 0);try{if(!(i&Mt.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function b$(n){return"function"==typeof n||"object"==typeof n&&n instanceof K}(t)&&lx(t);a=l&&this.injectableDefInScope(l)?Md(L0(t),qh):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Mt.Self?MR():this.parent).get(t,e=i&Mt.Optional&&e===Oh?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Jm]=o[Jm]||[]).unshift(cn(t)),s)throw o;return function j8(n,t,e,i){const s=n[Jm];throw t[WT]&&s.unshift(t[WT]),n.message=function W8(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=cn(t);if(Array.isArray(t))s=t.map(cn).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):cn(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(V8,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Jm]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Ta(r),$T(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(cn(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,"")}processInjectorType(t,e,i){if(!(t=Et(t)))return!1;let s=eT(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=eT(r)),null==s)return!1;if(null!=s.imports&&!a){let d;i.push(o);try{to(s.imports,u=>{this.processInjectorType(u,e,i)&&(void 0===d&&(d=[]),d.push(u))})}finally{}if(void 0!==d)for(let u=0;u<d.length;u++){const{ngModule:h,providers:f}=d[u];to(f,p=>this.processProvider(p,h,f||yn))}}this.injectorDefTypes.add(o);const l=kl(o)||(()=>new o);this.records.set(o,Md(l,qh));const c=s.providers;if(null!=c&&!a){const d=t;to(c,u=>this.processProvider(u,d,c))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Cd(t=Et(t))?t:Et(t&&t.provide);const r=function p$(n,t,e){return ER(n)?Md(void 0,n.useValue):Md(DR(n),qh)}(t);if(Cd(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Md(void 0,qh,!0),o.factory=()=>zx(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===qh&&(e.value=u$,e.value=e.factory()),"object"==typeof e.value&&e.value&&function v$(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Et(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function L0(n){const t=lx(n),e=null!==t?t.factory:kl(n);if(null!==e)return e;if(n instanceof K)throw new qt(204,"");if(n instanceof Function)return function f$(n){const t=n.length;if(t>0)throw Ph(t,"?"),new qt(204,"");const e=function Ej(n){const t=n&&(n[Rm]||n[tT]);if(t){const e=function Aj(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new qt(204,"")}function DR(n,t,e){let i;if(Cd(n)){const s=Et(n);return kl(s)||L0(s)}if(ER(n))i=()=>Et(n.useValue);else if(function g$(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...zx(n.deps||[]));else if(function m$(n){return!(!n||!n.useExisting)}(n))i=()=>j(Et(n.useExisting));else{const s=Et(n&&(n.useClass||n.provide));if(!function y$(n){return!!n.deps}(n))return kl(s)||L0(s);i=()=>new s(...zx(n.deps))}return i}function Md(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function ER(n){return null!==n&&"object"==typeof n&&z8 in n}function Cd(n){return"function"==typeof n}let di=(()=>{class n{static create(e,i){var s;if(Array.isArray(e))return CR({name:""},i,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return CR({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Oh,n.NULL=new wR,n.\u0275prov=se({token:n,providedIn:"any",factory:()=>j(P0)}),n.__NG_ELEMENT_ID__=-1,n})();function A$(n,t){Um(Kx(n)[1],xi())}function Y(n){let t=function VR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(Dr(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new qt(903,"");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=V0(n.inputs),o.declaredInputs=V0(n.declaredInputs),o.outputs=V0(n.outputs);const a=s.hostBindings;a&&I$(n,a);const l=s.viewQuery,c=s.contentQueries;if(l&&R$(n,l),c&&k$(n,c),rx(n.inputs,s.inputs),rx(n.declaredInputs,s.declaredInputs),rx(n.outputs,s.outputs),Dr(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Y&&(e=!1)}}t=Object.getPrototypeOf(t)}!function T$(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=$m(s.hostAttrs,e=$m(e,s.hostAttrs))}}(i)}function V0(n){return n===Zc?{}:n===yn?[]:n}function R$(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function k$(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function I$(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let fg=null;function Sd(){if(!fg){const n=pn.Symbol;if(n&&n.iterator)fg=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(fg=i)}}}return fg}function Yh(n){return!!H0(n)&&(Array.isArray(n)||!(n instanceof Map)&&Sd()in n)}function H0(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oo(n,t,e){return n[t]=e}function Ki(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function st(n,t,e,i){const s=ae();return Ki(s,sd(),t)&&(Yt(),ro($n(),s,n,t,e,i)),st}function Ed(n,t,e,i){return Ki(n,sd(),e)?t+yt(e)+i:vt}function ct(n,t,e,i,s,r,o,a){const l=ae(),c=Yt(),d=n+20,u=c.firstCreatePass?function V$(n,t,e,i,s,r,o,a,l){const c=t.consts,d=bd(t,n,4,o||null,Ia(c,a));D0(t,e,d,Ia(c,l)),Um(t,d);const u=d.tViews=dg(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,s,r,o):c.data[d];eo(u,!1);const h=l[11].createComment("");rg(c,l,h,u),Xi(h,l),ug(l,l[d]=mR(h,l,h,u)),Lm(u)&&C0(c,l,u),null!=o&&S0(l,u,a)}function Js(n){return function id(n,t){return n[t]}(function r8(){return pt.lFrame.contextLView}(),20+n)}function x(n,t=Mt.Default){const e=ae();return null===e?j(n,t):FT(xi(),e,Et(n),t)}function Ld(){throw new Error("invalid")}function ce(n,t,e){const i=ae();return Ki(i,sd(),t)&&Os(Yt(),$n(),i,n,t,i[11],e,!1),ce}function W0(n,t,e,i,s){const o=s?"class":"style";xR(n,e,t.inputs[o],o,i)}function U(n,t,e,i){const s=ae(),r=Yt(),o=20+n,a=s[11],l=s[o]=r0(a,t,function p8(){return pt.lFrame.currentNamespace}()),c=r.firstCreatePass?function oq(n,t,e,i,s,r,o){const a=t.consts,c=bd(t,n,2,s,Ia(a,r));return D0(t,e,c,Ia(a,o)),null!==c.attrs&&hg(c,c.attrs,!1),null!==c.mergedAttrs&&hg(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,s,0,t,e,i):r.data[o];eo(c,!0);const d=c.mergedAttrs;null!==d&&Wm(a,l,d);const u=c.classes;null!==u&&u0(a,l,u);const h=c.styles;null!==h&&B1(a,l,h),64!=(64&c.flags)&&rg(r,s,l,c),0===function Jj(){return pt.lFrame.elementDepthCount}()&&Xi(l,s),function e8(){pt.lFrame.elementDepthCount++}(),Lm(c)&&(C0(r,s,c),iR(r,c,s)),null!==i&&S0(s,c)}function G(){let n=xi();Mx()?Cx():(n=n.parent,eo(n,!1));const t=n;!function t8(){pt.lFrame.elementDepthCount--}();const e=Yt();e.firstCreatePass&&(Um(e,n),mx(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function v8(n){return 0!=(16&n.flags)}(t)&&W0(e,t,ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function b8(n){return 0!=(32&n.flags)}(t)&&W0(e,t,ae(),t.stylesWithoutHost,!1)}function Ge(n,t,e,i){U(n,t,e,i),G()}function Nd(n,t,e){const i=ae(),s=Yt(),r=n+20,o=s.firstCreatePass?function aq(n,t,e,i,s){const r=t.consts,o=Ia(r,i),a=bd(t,n,8,"ng-container",o);return null!==o&&hg(a,o,!0),D0(t,e,a,Ia(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];eo(o,!0);const a=i[r]=i[11].createComment("");rg(s,i,a,o),Xi(a,i),Lm(o)&&(C0(s,i,o),iR(s,o,i)),null!=e&&S0(i,o)}function Bd(){let n=xi();const t=Yt();Mx()?Cx():(n=n.parent,eo(n,!1)),t.firstCreatePass&&(Um(t,n),mx(n)&&t.queries.elementEnd(n))}function Ho(){return ae()}function Kh(n){return!!n&&"function"==typeof n.then}const $0=function rk(n){return!!n&&"function"==typeof n.subscribe};function ze(n,t,e,i){const s=ae(),r=Yt(),o=xi();return ok(r,s,s[11],o,n,t,!!e,i),ze}function q0(n,t){const e=xi(),i=ae(),s=Yt();return ok(s,i,vR(Dx(s.data),e,i),e,n,t,!1),q0}function ok(n,t,e,i,s,r,o,a){const l=Lm(i),d=n.firstCreatePass&&yR(n),u=t[8],h=_R(t);let f=!0;if(3&i.type||a){const g=Xs(i,t),_=a?a(g):g,y=h.length,v=a?b=>a(ci(b[i.index])):i.index;if(Wn(e)){let b=null;if(!a&&l&&(b=function lq(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=r,b.__ngLastListenerFn__=r,f=!1;else{r=Y0(i,t,u,r,!1);const w=e.listen(_,s,r);h.push(r,w),d&&d.push(s,v,y,y+1)}}else r=Y0(i,t,u,r,!0),_.addEventListener(s,r,o),h.push(r),d&&d.push(s,v,y,o)}else r=Y0(i,t,u,r,!1);const p=i.outputs;let m;if(f&&null!==p&&(m=p[s])){const g=m.length;if(g)for(let _=0;_<g;_+=2){const C=t[m[_]][m[_+1]].subscribe(r),S=h.length;h.push(r,C),d&&d.push(s,i.index,S,-(S+1))}}}function ak(n,t,e,i){try{return!1!==e(i)}catch(s){return bR(n,s),!1}}function Y0(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?Ts(n.index,t):t;0==(32&t[2])&&T0(a);let l=ak(t,0,i,o),c=r.__ngNextListenerFn__;for(;c;)l=ak(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Nt(n=1){return function d8(n){return(pt.lFrame.contextLView=function u8(n,t){for(;n>0;)t=t[15],n--;return t}(n,pt.lFrame.contextLView))[8]}(n)}function cq(n,t){let e=null;const i=function _6(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===i?U1(n,r,!0):b6(i,r))return s}else e=s}return e}function xn(n){const t=ae()[16][6];if(!t.projection){const i=t.projection=Ph(n?n.length:1,null),s=i.slice();let r=t.child;for(;null!==r;){const o=n?cq(r,n):0;null!==o&&(s[o]?s[o].projectionNext=r:i[o]=r,s[o]=r),r=r.next}}}function dt(n,t=0,e){const i=ae(),s=Yt(),r=bd(s,20+n,16,null,e||null);null===r.projection&&(r.projection=t),Cx(),64!=(64&r.flags)&&function d6(n,t,e){N1(t[11],0,t,e,E1(n,e,t),k1(e.parent||t[6],e,t))}(s,i,r)}function _k(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?Ar(r):Bo(r),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];hq(n[a],t)&&(l=!0,n[a+1]=i?p0(d):h0(d)),a=i?Ar(d):Bo(d)}l&&(n[e+1]=i?h0(r):p0(r))}function hq(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&fd(n,t)>=0}const Ci={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yk(n){return n.substring(Ci.key,Ci.keyEnd)}function vk(n,t){const e=Ci.textEnd;return e===t?-1:(t=Ci.keyEnd=function gq(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Ci.key=t,e),Vd(n,t,e))}function Vd(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Fs(n,t,e){return Rr(n,t,e,!1),Fs}function ot(n,t){return Rr(n,t,null,!0),ot}function lo(n,t){for(let e=function pq(n){return function xk(n){Ci.key=0,Ci.keyEnd=0,Ci.value=0,Ci.valueEnd=0,Ci.textEnd=n.length}(n),vk(n,Vd(n,0,Ci.textEnd))}(t);e>=0;e=vk(t,e))Rs(n,yk(t),!0)}function Rr(n,t,e,i){const s=ae(),r=Yt(),o=Lo(2);r.firstUpdatePass&&Sk(r,n,o,i),t!==vt&&Ki(s,o,t)&&Ek(r,r.data[ds()],s,s[11],n,s[o+1]=function Eq(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=cn(Is(n)))),n}(t,e),i,o)}function Ck(n,t){return t>=n.expandoStartIndex}function Sk(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[ds()],o=Ck(n,e);Tk(r,i)&&null===t&&!o&&(t=!1),t=function xq(n,t,e,i){const s=Dx(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=Qh(e=K0(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=K0(s,n,t,e,i),null===r){let l=function wq(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Bo(i))return n[Ar(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=K0(null,n,t,l[1],i),l=Qh(l,t.attrs,i),function Mq(n,t,e,i){n[Ar(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function Cq(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=Qh(i,n[r].hostAttrs,e);return Qh(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function dq(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=Ar(o),l=Bo(o);n[i]=e;let d,c=!1;if(Array.isArray(e)){const u=e;d=u[1],(null===d||fd(u,d)>0)&&(c=!0)}else d=e;if(s)if(0!==l){const h=Ar(n[a+1]);n[i+1]=ag(h,a),0!==h&&(n[h+1]=f0(n[h+1],i)),n[a+1]=function C6(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=ag(a,0),0!==a&&(n[a+1]=f0(n[a+1],i)),a=i;else n[i+1]=ag(l,0),0===a?a=i:n[l+1]=f0(n[l+1],i),l=i;c&&(n[i+1]=h0(n[i+1])),_k(n,d,i,!0),_k(n,d,i,!1),function uq(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&fd(r,t)>=0&&(e[i+1]=p0(e[i+1]))}(t,d,n,i,r),o=ag(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}function K0(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=Qh(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Qh(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Rs(n,o,!!e||t[++r]))}return void 0===n?null:n}function Ek(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];gg(function q1(n){return 1==(1&n)}(c)?Ak(l,t,e,s,Bo(c),o):void 0)||(gg(r)||function $1(n){return 2==(2&n)}(c)&&(r=Ak(l,null,e,s,a,o)),function h6(n,t,e,i,s){const r=Wn(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Ps.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=Ps.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,Nm(ds(),e),s,r))}function Ak(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],c=Array.isArray(l),d=c?l[1]:l,u=null===d;let h=e[s+1];h===vt&&(h=u?yn:void 0);let f=u?Bx(h,i):d===i?h:void 0;if(c&&!gg(f)&&(f=Bx(l,i)),gg(f)&&(a=f,o))return a;const p=n[s+1];s=o?Ar(p):Bo(p)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=Bx(l,i))}return a}function gg(n){return void 0!==n}function Tk(n,t){return 0!=(n.flags&(t?16:32))}function bt(n,t=""){const e=ae(),i=Yt(),s=n+20,r=i.firstCreatePass?bd(i,s,1,t,null):i.data[s],o=e[s]=function s0(n,t){return Wn(n)?n.createText(t):n.createTextNode(t)}(e[11],t);rg(i,e,o,r),eo(r,!1)}function er(n){return zo("",n,""),er}function zo(n,t,e){const i=ae(),s=Ed(i,n,t,e);return s!==vt&&Vo(i,ds(),s),zo}function Bk(n,t,e){!function kr(n,t,e,i){const s=Yt(),r=Lo(2);s.firstUpdatePass&&Sk(s,null,r,i);const o=ae();if(e!==vt&&Ki(o,r,e)){const a=s.data[ds()];if(Tk(a,i)&&!Ck(s,r)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=ox(l,e||"")),W0(s,a,o,e,i)}else!function Dq(n,t,e,i,s,r,o,a){s===vt&&(s=yn);let l=0,c=0,d=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==d||null!==u;){const h=l<s.length?s[l+1]:void 0,f=c<r.length?r[c+1]:void 0;let m,p=null;d===u?(l+=2,c+=2,h!==f&&(p=u,m=f)):null===u||null!==d&&d<u?(l+=2,p=d):(c+=2,p=u,m=f),null!==p&&Ek(n,t,e,i,p,m,o,a),d=l<s.length?s[l]:null,u=c<r.length?r[c]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function Sq(n,t,e){if(null==e||""===e)return yn;const i=[],s=Is(e);if(Array.isArray(s))for(let r=0;r<s.length;r++)n(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&n(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(n,t,e),i,r)}}(Rs,lo,Ed(ae(),n,t,e),!0)}function co(n,t,e){const i=ae();return Ki(i,sd(),t)&&Os(Yt(),$n(),i,n,t,i[11],e,!0),co}function Q0(n,t,e){const i=ae();if(Ki(i,sd(),t)){const r=Yt(),o=$n();Os(r,o,i,n,t,vR(Dx(r.data),o,i),e,!0)}return Q0}const Fl=void 0;var $q=["en",[["a","p"],["AM","PM"],Fl],[["AM","PM"],Fl,Fl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fl,"{1} 'at' {0}",Fl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wq(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Hd={};function Xk(n){return n in Hd||(Hd[n]=pn.ng&&pn.ng.common&&pn.ng.common.locales&&pn.ng.common.locales[n]),Hd[n]}var Oe=(()=>((Oe=Oe||{})[Oe.LocaleId=0]="LocaleId",Oe[Oe.DayPeriodsFormat=1]="DayPeriodsFormat",Oe[Oe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Oe[Oe.DaysFormat=3]="DaysFormat",Oe[Oe.DaysStandalone=4]="DaysStandalone",Oe[Oe.MonthsFormat=5]="MonthsFormat",Oe[Oe.MonthsStandalone=6]="MonthsStandalone",Oe[Oe.Eras=7]="Eras",Oe[Oe.FirstDayOfWeek=8]="FirstDayOfWeek",Oe[Oe.WeekendRange=9]="WeekendRange",Oe[Oe.DateFormat=10]="DateFormat",Oe[Oe.TimeFormat=11]="TimeFormat",Oe[Oe.DateTimeFormat=12]="DateTimeFormat",Oe[Oe.NumberSymbols=13]="NumberSymbols",Oe[Oe.NumberFormats=14]="NumberFormats",Oe[Oe.CurrencyCode=15]="CurrencyCode",Oe[Oe.CurrencySymbol=16]="CurrencySymbol",Oe[Oe.CurrencyName=17]="CurrencyName",Oe[Oe.Currencies=18]="Currencies",Oe[Oe.Directionality=19]="Directionality",Oe[Oe.PluralCase=20]="PluralCase",Oe[Oe.ExtraData=21]="ExtraData",Oe))();const _g="en-US";let Kk=_g;function ew(n,t,e,i,s){if(n=Et(n),Array.isArray(n))for(let r=0;r<n.length;r++)ew(n[r],t,e,i,s);else{const r=Yt(),o=ae();let a=Cd(n)?n:Et(n.provide),l=DR(n);const c=xi(),d=1048575&c.providerIndexes,u=c.directiveStart,h=c.providerIndexes>>20;if(Cd(n)||!n.multi){const f=new Eh(l,s,x),p=nw(a,t,s?d:d+h,u);-1===p?(Xm(Th(c,o),r,a),tw(r,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(f),o.push(f)):(e[p]=f,o[p]=f)}else{const f=nw(a,t,d+h,u),p=nw(a,t,d,d+h),m=f>=0&&e[f],g=p>=0&&e[p];if(s&&!g||!s&&!m){Xm(Th(c,o),r,a);const _=function $7(n,t,e,i,s){const r=new Eh(n,e,x);return r.multi=[],r.index=t,r.componentProviders=0,bI(r,s,i&&!e),r}(s?W7:j7,e.length,s,i,l);!s&&g&&(e[p].providerFactory=_),tw(r,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(_),o.push(_)}else tw(r,n,f>-1?f:p,bI(e[s?p:f],l,!s&&i));!s&&i&&g&&e[p].componentProviders++}}}function tw(n,t,e,i){const s=Cd(t),r=function _$(n){return!!n.useClass}(t);if(s||r){const l=(r?Et(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function bI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function nw(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function j7(n,t,e,i){return iw(this.multi,[])}function W7(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Rh(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),iw(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],iw(s,r);return r}function iw(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Re(n,t=[]){return e=>{e.providersResolver=(i,s)=>function G7(n,t,e){const i=Yt();if(i.firstCreatePass){const s=Dr(n);ew(e,i.data,i.blueprint,s,!0),ew(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class xI{}class X7{resolveComponentFactory(t){throw function Y7(n){const t=Error(`No component factory found for ${cn(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Uo=(()=>{class n{}return n.NULL=new X7,n})();function K7(){return Ud(xi(),ae())}function Ud(n,t){return new de(Xs(n,t))}let de=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=K7,n})();function Q7(n){return n instanceof de?n.nativeElement:n}class nf{}let Ir=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function J7(){const n=ae(),e=Ts(xi().index,n);return function Z7(n){return n[11]}(Jr(e)?e:n)}(),n})(),e9=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>null}),n})();class Na{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const t9=new Na("13.1.3"),sw={};function wg(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(ci(r)),Sr(r))for(let a=10;a<r.length;a++){const l=r[a],c=l[1].firstChild;null!==c&&wg(l[1],l,c,i)}const o=e.type;if(8&o)wg(n,t,e.child,i);else if(32&o){const a=e0(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=F1(t,e);if(Array.isArray(a))i.push(...a);else{const l=Gh(t[16]);wg(l[1],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class sf{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wg(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Sr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(o0(t,i),Qm(e,i))}this._attachedToViewContainer=!1}D1(this._lView[1],this._lView)}onDestroy(t){aR(this._lView[1],this._lView,null,t)}markForCheck(){T0(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){k0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function o$(n,t,e){Vm(!0);try{k0(n,t,e)}finally{Vm(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new qt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function t6(n,t){jh(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new qt(902,"");this._appRef=t}}class n9 extends sf{constructor(t){super(t),this._view=t}detectChanges(){gR(this._view)}checkNoChanges(){!function a$(n){Vm(!0);try{gR(n)}finally{Vm(!1)}}(this._view)}get context(){return null}}class MI extends Uo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=qi(t);return new rw(e,this.ngModule)}}function CI(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const r9=new K("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>y1});class rw extends xI{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function w6(n){return n.map(x6).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return CI(this.componentDef.inputs)}get outputs(){return CI(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function o9(n,t){return{get:(e,i,s)=>{const r=n.get(e,sw,s);return r!==sw||i===sw?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(nf,pT),a=r.get(e9,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function oR(n,t,e){if(Wn(n))return n.selectRootElement(t,e===Mr.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):r0(o.createRenderer(null,this.componentDef),c,function s9(n){const t=n.toLowerCase();return"svg"===t?hT:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h=function BR(n,t){return{components:[],scheduler:n||y1,clean:l$,playerHandler:t||null,flags:0}}(),f=dg(0,null,null,1,0,null,null,null,null,null),p=Wh(null,f,h,u,null,null,o,l,a,r);let m,g;Hm(p);try{const _=function LR(n,t,e,i,s,r){const o=e[1];e[20]=n;const l=bd(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(hg(l,c,!0),null!==n&&(Wm(s,n,c),null!==l.classes&&u0(s,n,l.classes),null!==l.styles&&B1(s,n,l.styles)));const d=i.createRenderer(n,t),u=Wh(e,sR(t),null,t.onPush?64:16,e[20],l,i,d,r||null,null);return o.firstCreatePass&&(Xm(Th(l,e),o,t.type),hR(o,l),fR(l,e.length,1)),ug(e,u),e[20]=u}(d,this.componentDef,p,o,l);if(d)if(i)Wm(l,d,["ng-version",t9.full]);else{const{attrs:y,classes:v}=function M6(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!Er(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);y&&Wm(l,d,y),v&&v.length>0&&u0(l,d,v.join(" "))}if(g=bx(f,20),void 0!==e){const y=g.projection=[];for(let v=0;v<this.ngContentSelectors.length;v++){const b=e[v];y.push(null!=b?Array.from(b):null)}}m=function NR(n,t,e,i,s){const r=e[1],o=function j6(n,t,e){const i=xi();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),pR(n,i,t,xd(n,t,1,null),e));const s=Rh(t,n,i.directiveStart,i);Xi(s,t);const r=Xs(i,t);return r&&Xi(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,t)),t.contentQueries){const l=xi();t.contentQueries(1,o,l.directiveStart)}const a=xi();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Pa(a.index),dR(e[1],a,0,a.directiveStart,a.directiveEnd,t),uR(t,o)),o}(_,this.componentDef,p,h,[A$]),$h(f,p,null)}finally{zm()}return new l9(this.componentType,m,Ud(g,p),p,g)}}class l9 extends class q7{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new n9(s),this.componentType=t}get injector(){return new ld(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Go{}class SI{}const Gd=new Map;class AI extends Go{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new MI(this);const i=$s(t);this._bootstrapComponents=so(i.bootstrap),this._r3Injector=SR(t,e,[{provide:Go,useValue:this},{provide:Uo,useValue:this.componentFactoryResolver}],cn(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=di.THROW_IF_NOT_FOUND,i=Mt.Default){return t===di||t===Go||t===P0?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ow extends SI{constructor(t){super(),this.moduleType=t,null!==$s(t)&&function d9(n){const t=new Set;!function e(i){const s=$s(i,!0),r=s.id;null!==r&&(function DI(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${cn(t)} vs ${cn(t.name)}`)}(r,Gd.get(r),i),Gd.set(r,i));const o=so(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new AI(this.moduleType,t)}}function rf(n,t,e,i){return function kI(n,t,e,i,s,r){const o=t+e;return Ki(n,o,s)?oo(n,o+1,r?i.call(r,s):i(s)):af(n,o+1)}(ae(),cs(),n,t,e,i)}function RI(n,t,e,i,s){return function II(n,t,e,i,s,r,o){const a=t+e;return function Ol(n,t,e,i){const s=Ki(n,t,e);return Ki(n,t+1,i)||s}(n,a,s,r)?oo(n,a+2,o?i.call(o,s,r):i(s,r)):af(n,a+2)}(ae(),cs(),n,t,e,i,s)}function af(n,t){const e=n[t];return e===vt?void 0:e}function aw(n){return t=>{setTimeout(n,void 0,t)}}const we=class S9 extends me{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const u=t;a=null===(s=u.next)||void 0===s?void 0:s.bind(u),l=null===(r=u.error)||void 0===r?void 0:r.bind(u),c=null===(o=u.complete)||void 0===o?void 0:o.bind(u)}this.__isAsync&&(l=aw(l),a&&(a=aw(a)),c&&(c=aw(c)));const d=super.subscribe({next:a,error:l,complete:c});return t instanceof Pt&&t.add(d),d}};function D9(){return this._results[Sd()]()}class Ba{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Sd(),i=Ba.prototype;i[e]||(i[e]=D9)}get changes(){return this._changes||(this._changes=new we)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=Qs(t);(this._changesDetected=!function R8(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Yn=(()=>{class n{}return n.__NG_ELEMENT_ID__=T9,n})();const E9=Yn,A9=class extends E9{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Wh(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),$h(e,i,t),new sf(i)}};function T9(){return Mg(xi(),ae())}function Mg(n,t){return 4&n.type?new A9(t,n,Ud(n,t)):null}let Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=R9,n})();function R9(){return BI(xi(),ae())}const k9=Fn,LI=class extends k9{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Ud(this._hostTNode,this._hostLView)}get injector(){return new ld(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ym(this._hostTNode,this._hostLView);if(RT(t)){const e=ad(t,this._hostLView),i=od(t);return new ld(e[1].data[i+8],e)}return new ld(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=NI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=t&&!function Ih(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const u=e||{};a=u.index,i=u.injector,s=u.projectableNodes,r=u.ngModuleRef}const l=o?t:new rw(qi(t)),c=i||this.parentInjector;if(!r&&null==l.ngModule&&c){const u=c.get(Go,null);u&&(r=u)}const d=l.create(c,s,void 0,r);return this.insert(d.hostView,a),d}insert(t,e){const i=t._lView,s=i[1];if(function Zj(n){return Sr(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const u=i[3],h=new LI(u,u[6],u[3]);h.detach(h.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function s6(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],HT(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function r6(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=c0(r,o),l=i[11],c=sg(l,o[7]);return null!==c&&function e6(n,t,e,i,s,r){i[0]=s,i[6]=t,jh(n,i,e,1,s,r)}(s,o[6],l,i,c,a),t.attachToViewContainerRef(),HT(lw(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=NI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=o0(this._lContainer,e);i&&(Qm(lw(this._lContainer),e),D1(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=o0(this._lContainer,e);return i&&null!=Qm(lw(this._lContainer),e)?new sf(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function NI(n){return n[8]}function lw(n){return n[8]||(n[8]=[])}function BI(n,t){let e;const i=t[n.index];if(Sr(i))e=i;else{let s;if(8&n.type)s=ci(i);else{const r=t[11];s=r.createComment("");const o=Xs(n,t);Pl(r,sg(r,o),s,function c6(n,t){return Wn(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=mR(i,t,s,n),ug(t,e)}return new LI(e,n,t)}class cw{constructor(t){this.queryList=t,this.matches=null}clone(){return new cw(this.queryList)}setDirty(){this.queryList.setDirty()}}class dw{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new dw(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==GI(t,e).matches&&this.queries[e].setDirty()}}class VI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class uw{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new uw(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hw{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new hw(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,O9(e,r)),this.matchTNodeWithReadOption(t,e,Km(e,t,r,!1,!1))}else i===Yn?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Km(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===de||s===Fn||s===Yn&&4&e.type)this.addMatch(e.index,-2);else{const r=Km(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function O9(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function L9(n,t,e,i){return-1===e?function F9(n,t){return 11&n.type?Ud(n,t):4&n.type?Mg(n,t):null}(t,n):-2===e?function N9(n,t,e){return e===de?Ud(t,n):e===Yn?Mg(t,n):e===Fn?BI(t,n):void 0}(n,t,i):Rh(n,n[1],e,t)}function HI(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:L9(t,r[c],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function fw(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=HI(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],d=t[-l];for(let u=10;u<d.length;u++){const h=d[u];h[17]===h[3]&&fw(h[1],h,c,i)}if(null!==d[9]){const u=d[9];for(let h=0;h<u.length;h++){const f=u[h];fw(f[1],f,c,i)}}}}}return i}function ge(n){const t=ae(),e=Yt(),i=xT();Ex(i+1);const s=GI(e,i);if(n.dirty&&mT(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?fw(e,t,i,[]):HI(e,t,s,i);n.reset(r,Q7),n.notifyOnChanges()}return!0}return!1}function St(n,t,e){const i=Yt();i.firstCreatePass&&(UI(i,new VI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),zI(i,ae(),t)}function mt(n,t,e,i){const s=Yt();if(s.firstCreatePass){const r=xi();UI(s,new VI(t,e,i),r.index),function V9(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}zI(s,ae(),e)}function _e(){return function B9(n,t){return n[19].queries[t].queryList}(ae(),xT())}function zI(n,t,e){const i=new Ba(4==(4&e));aR(n,t,i,i.destroy),null===t[19]&&(t[19]=new dw),t[19].queries.push(new cw(i))}function UI(n,t,e){null===n.queries&&(n.queries=new uw),n.queries.track(new hw(t,e))}function GI(n,t){return n.queries.getByIndex(t)}function jI(n,t){return Mg(n,t)}function Dg(...n){}const Eg=new K("Application Initializer");let Wd=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Dg,this.reject=Dg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(Kh(r))e.push(r);else if($0(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(j(Eg,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const df=new K("AppId"),iY={provide:df,useFactory:function nY(){return`${vw()}${vw()}${vw()}`},deps:[]};function vw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const aP=new K("Platform Initializer"),Ls=new K("Platform ID"),bw=new K("appBootstrapListener");let lP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const jo=new K("LocaleId"),cP=new K("DefaultCurrencyCode");class sY{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Ag=(()=>{class n{compileModuleSync(e){return new ow(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=so($s(e).declarations).reduce((o,a)=>{const l=qi(a);return l&&o.push(new rw(l)),o},[]);return new sY(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const oY=(()=>Promise.resolve(0))();function xw(n){"undefined"==typeof Zone?oY.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class $e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function aY(){let n=pn.requestAnimationFrame,t=pn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function dY(n){const t=()=>{!function cY(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(pn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Mw(n),n.isCheckStableRunning=!0,ww(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Mw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return dP(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),uP(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return dP(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),uP(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Mw(n),ww(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if($e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,lY,Dg,Dg);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const lY={};function ww(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Mw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function dP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uP(n){n._nesting--,ww(n)}class uY{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new we,this.onMicrotaskEmpty=new we,this.onStable=new we,this.onError=new we}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let Cw=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),xw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xw(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(j($e))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),hP=(()=>{class n{constructor(){this._applications=new Map,Sw.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Sw.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class hY{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Pr,Sw=new hY;const fP=new K("AllowMultipleToken");class pP{constructor(t,e){this.name=t,this.token=e}}function mP(n,t,e=[]){const i=`Platform: ${t}`,s=new K(i);return(r=[])=>{let o=gP();if(!o||o.injector.get(fP,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:O0,useValue:"platform"});!function gY(n){if(Pr&&!Pr.destroyed&&!Pr.injector.get(fP,!1))throw new qt(400,"");Pr=n.get(_P);const t=n.get(aP,null);t&&t.forEach(e=>e())}(di.create({providers:a,name:i}))}return function _Y(n){const t=gP();if(!t)throw new qt(401,"");return t}()}}function gP(){return Pr&&!Pr.destroyed?Pr:null}let _P=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function yY(n,t){let e;return e="noop"===n?new uY:("zone.js"===n?void 0:n)||new $e({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:$e,useValue:a}];return a.run(()=>{const c=di.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(c),u=d.injector.get(No,null);if(!u)throw new qt(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{u.handleError(f)}});d.onDestroy(()=>{Dw(this._modules,d),h.unsubscribe()})}),function vY(n,t,e){try{const i=e();return Kh(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(u,a,()=>{const h=d.injector.get(Wd);return h.runInitializers(),h.donePromise.then(()=>(function Qq(n){Es(n,"Expected localeId to be defined"),"string"==typeof n&&(Kk=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(jo,_g)||_g),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=yP({},i);return function pY(n,t,e){const i=new ow(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get($d);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new qt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new qt(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(j(di))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function yP(n,t){return Array.isArray(t)?t.reduce(yP,n):Object.assign(Object.assign({},n),t)}let $d=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Zt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Zt(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),xw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),u.unsubscribe()}});this.isStable=jn(a,l.pipe(QA()))}bootstrap(e,i){if(!this._initStatus.done)throw new qt(405,"");let s;s=e instanceof xI?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function mY(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Go),a=s.create(di.NULL,[],i||s.selector,r),l=a.location.nativeElement,c=a.injector.get(Cw,null),d=c&&a.injector.get(hP);return c&&d&&d.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Dw(this.components,a),d&&d.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new qt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Dw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(bw,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(j($e),j(di),j(No),j(Uo),j(Wd))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function Dw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let bP=!0,Xt=(()=>{class n{}return n.__NG_ELEMENT_ID__=wY,n})();function wY(n){return function MY(n,t,e){if(Fm(n)&&!e){const i=Ts(n.index,t);return new sf(i,i)}return 47&n.type?new sf(t[16],t):null}(xi(),ae(),16==(16&n))}class EP{constructor(){}supports(t){return Yh(t)}create(t){return new TY(t)}}const AY=(n,t)=>t;class TY{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||AY}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<TP(i,s,r)?e:i,a=TP(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,d=l-s;if(c!=d){for(let h=0;h<c;h++){const f=h<r.length?r[h]:r[h]=0,p=f+h;d<=p&&p<c&&(r[h]=f+1)}r[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Yh(t))throw new qt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function B$(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Sd()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new RY(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new AP),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AP),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class RY{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class kY{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class AP{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new kY,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TP(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class RP{constructor(){}supports(t){return t instanceof Map||H0(t)}create(){return new IY}}class IY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||H0(t)))throw new qt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new PY(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class PY{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kP(){return new ws([new EP])}let ws=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||kP()),deps:[[n,new ks,new Mi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new qt(901,"")}}return n.\u0275prov=se({token:n,providedIn:"root",factory:kP}),n})();function IP(){return new Va([new RP])}let Va=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||IP()),deps:[[n,new ks,new Mi]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new qt(901,"")}}return n.\u0275prov=se({token:n,providedIn:"root",factory:IP}),n})();const OY=[new RP],LY=new ws([new EP]),NY=new Va(OY),BY=mP(null,"core",[{provide:Ls,useValue:"unknown"},{provide:_P,deps:[di]},{provide:hP,deps:[]},{provide:lP,deps:[]}]),GY=[{provide:$d,useClass:$d,deps:[$e,di,No,Uo,Wd]},{provide:r9,deps:[$e],useFactory:function jY(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Wd,useClass:Wd,deps:[[new Mi,Eg]]},{provide:Ag,useClass:Ag,deps:[]},iY,{provide:ws,useFactory:function VY(){return LY},deps:[]},{provide:Va,useFactory:function HY(){return NY},deps:[]},{provide:jo,useFactory:function zY(n){return n||function UY(){return"undefined"!=typeof $localize&&$localize.locale||_g}()},deps:[[new Nh(jo),new Mi,new ks]]},{provide:cP,useValue:"USD"}];let WY=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(j($d))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:GY}),n})(),Rg=null;function uo(){return Rg}const Je=new K("DocumentToken");let Nl=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:function(){return function XY(){return j(PP)}()},providedIn:"platform"}),n})();const KY=new K("Location Initialized");let PP=(()=>{class n extends Nl{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return uo().getBaseHref(this._doc)}onPopState(e){const i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=uo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){OP()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){OP()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:function(){return function QY(){return new PP(j(Je))}()},providedIn:"platform"}),n})();function OP(){return!!window.history.pushState}function kw(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function FP(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Wo(n){return n&&"?"!==n[0]?"?"+n:n}let qd=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:function(){return function ZY(n){const t=j(Je).location;return new LP(j(Nl),t&&t.origin||"")}()},providedIn:"root"}),n})();const Iw=new K("appBaseHref");let LP=(()=>{class n extends qd{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kw(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Wo(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const o=this.prepareExternalUrl(s+Wo(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){const o=this.prepareExternalUrl(s+Wo(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(j(Nl),j(Iw,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),JY=(()=>{class n extends qd{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=kw(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let o=this.prepareExternalUrl(s+Wo(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){let o=this.prepareExternalUrl(s+Wo(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(j(Nl),j(Iw,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),kg=(()=>{class n{constructor(e,i){this._subject=new we,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=FP(NP(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Wo(i))}normalize(e){return n.stripTrailingSlash(function tX(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,NP(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wo(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Wo(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=Wo,n.joinWithSlash=kw,n.stripTrailingSlash=FP,n.\u0275fac=function(e){return new(e||n)(j(qd),j(Nl))},n.\u0275prov=se({token:n,factory:function(){return function eX(){return new kg(j(qd),j(Nl))}()},providedIn:"root"}),n})();function NP(n){return n.replace(/\/index.html$/,"")}var ui=(()=>((ui=ui||{})[ui.Zero=0]="Zero",ui[ui.One=1]="One",ui[ui.Two=2]="Two",ui[ui.Few=3]="Few",ui[ui.Many=4]="Many",ui[ui.Other=5]="Other",ui))();const lX=function Yk(n){return function hs(n){const t=function qq(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Xk(t);if(e)return e;const i=t.split("-")[0];if(e=Xk(i),e)return e;if("en"===i)return $q;throw new Error(`Missing locale data for the locale "${n}".`)}(n)[Oe.PluralCase]};class zg{}let NX=(()=>{class n extends zg{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(lX(i||this.locale)(e)){case ui.Zero:return"zero";case ui.One:return"one";case ui.Two:return"two";case ui.Few:return"few";case ui.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(j(jo))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function $P(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let ff=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Yh(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${cn(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(x(ws),x(Va),x(de),x(Ir))},n.\u0275dir=z({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class VX{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pf=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new VX(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),qP(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{qP(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(x(Fn),x(Yn),x(ws))},n.\u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function qP(n,t){n.context.$implicit=t.item}let Fr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new HX,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){YP("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){YP("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(x(Fn),x(Yn))},n.\u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class HX{constructor(){this.$implicit=null,this.ngIf=null}}function YP(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${cn(t)}'.`)}class zw{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Yd=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Ug=(()=>{class n{constructor(e,i,s){this.ngSwitch=s,s._addCase(),this._view=new zw(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(x(Fn),x(Yn),x(Yd,9))},n.\u0275dir=z({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),XP=(()=>{class n{constructor(e,i,s){s._addDefault(new zw(e,i))}}return n.\u0275fac=function(e){return new(e||n)(x(Fn),x(Yn),x(Yd,9))},n.\u0275dir=z({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),fi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[{provide:zg,useClass:NX}]}),n})();const ZP="browser";function Bl(n){return n===ZP}function Xd(n){return"server"===n}let fK=(()=>{class n{}return n.\u0275prov=se({token:n,providedIn:"root",factory:()=>new pK(j(Je),window)}),n})();class pK{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function mK(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=JP(this.window.history)||JP(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function JP(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eO{}class jw extends class gK extends class YY{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function qY(n){Rg||(Rg=n)}(new jw)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function _K(){return mf=mf||document.querySelector("base"),mf?mf.getAttribute("href"):null}();return null==e?null:function yK(n){jg=jg||document.createElement("a"),jg.setAttribute("href",n);const t=jg.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){mf=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return $P(document.cookie,t)}}let jg,mf=null;const tO=new K("TRANSITION_ID"),bK=[{provide:Eg,useFactory:function vK(n,t,e){return()=>{e.get(Wd).donePromise.then(()=>{const i=uo(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[tO,Je,di],multi:!0}];class Ww{static init(){!function fY(n){Sw=n}(new Ww)}addToWindow(t){pn.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},pn.getAllAngularTestabilities=()=>t.getAllTestabilities(),pn.getAllAngularRootElements=()=>t.getAllRootElements(),pn.frameworkStabilizers||(pn.frameworkStabilizers=[]),pn.frameworkStabilizers.push(i=>{const s=pn.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?uo().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let xK=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Wg=new K("EventManagerPlugins");let $g=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(j(Wg),j($e))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class nO{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=uo().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let iO=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),gf=(()=>{class n extends iO{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(sO),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(sO))}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function sO(n){uo().remove(n)}const $w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qw=/%COMP%/g;function qg(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?qg(n,s,e):(s=s.replace(qw,n),e.push(s))}return e}function aO(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Yg=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Yw(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Mr.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new EK(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case Mr.ShadowDom:return new AK(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=qg(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(j($g),j(gf),j(df))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class Yw{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($w[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=$w[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=$w[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Ps.DashCase|Ps.Important)?t.style.setProperty(e,i,s&Ps.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Ps.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,aO(i)):this.eventManager.addEventListener(t,e,aO(i))}}class EK extends Yw{constructor(t,e,i,s){super(t),this.component=i;const r=qg(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function CK(n){return"_ngcontent-%COMP%".replace(qw,n)}(s+"-"+i.id),this.hostAttr=function SK(n){return"_nghost-%COMP%".replace(qw,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class AK extends Yw{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=qg(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let TK=(()=>{class n extends nO{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const cO=["alt","control","meta","shift"],kK={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dO={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},IK={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let PK=(()=>{class n extends nO{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>uo().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(cO.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function OK(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&dO.hasOwnProperty(t)&&(t=dO[t]))}return kK[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),cO.forEach(r=>{r!=s&&IK[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const BK=mP(BY,"browser",[{provide:Ls,useValue:ZP},{provide:aP,useValue:function FK(){jw.makeCurrent(),Ww.init()},multi:!0},{provide:Je,useFactory:function NK(){return function Yj(n){yx=n}(document),document},deps:[]}]),VK=[{provide:O0,useValue:"root"},{provide:No,useFactory:function LK(){return new No},deps:[]},{provide:Wg,useClass:TK,multi:!0,deps:[Je,$e,Ls]},{provide:Wg,useClass:PK,multi:!0,deps:[Je]},{provide:Yg,useClass:Yg,deps:[$g,gf,df]},{provide:nf,useExisting:Yg},{provide:iO,useExisting:gf},{provide:gf,useClass:gf,deps:[Je]},{provide:Cw,useClass:Cw,deps:[$e]},{provide:$g,useClass:$g,deps:[Wg,$e]},{provide:eO,useClass:xK,deps:[]}];let uO=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:df,useValue:e.appId},{provide:tO,useExisting:df},bK]}}}return n.\u0275fac=function(e){return new(e||n)(j(n,12))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:VK,imports:[fi,WY]}),n})();"undefined"!=typeof window&&window;let Xg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:function(e){let i=null;return i=e?new(e||n):j(pO),i},providedIn:"root"}),n})(),pO=(()=>{class n extends Xg{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case en.NONE:return i;case en.HTML:return no(i,"HTML")?Is(i):d1(this._doc,String(i)).toString();case en.STYLE:return no(i,"Style")?Is(i):i;case en.SCRIPT:if(no(i,"Script"))return Is(i);throw new Error("unsafe value used in a script context");case en.URL:return t1(i),no(i,"URL")?Is(i):Vh(String(i));case en.RESOURCE_URL:if(no(i,"ResourceURL"))return Is(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function aW(n){return new nW(n)}(e)}bypassSecurityTrustStyle(e){return function lW(n){return new iW(n)}(e)}bypassSecurityTrustScript(e){return function cW(n){return new sW(n)}(e)}bypassSecurityTrustUrl(e){return function dW(n){return new rW(n)}(e)}bypassSecurityTrustResourceUrl(e){return function uW(n){return new oW(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:function(e){let i=null;return i=e?new e:function XK(n){return new pO(n.get(Je))}(j(di)),i},providedIn:"root"}),n})();function Xe(...n){return bi(n,xh(n))}class Qi extends me{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:KK}=Array,{getPrototypeOf:QK,prototype:ZK,keys:JK}=Object;function mO(n){if(1===n.length){const t=n[0];if(KK(t))return{args:t,keys:null};if(function eQ(n){return n&&"object"==typeof n&&QK(n)===ZK}(t)){const e=JK(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:tQ}=Array;function Kw(n){return Ct(t=>function nQ(n,t){return tQ(t)?n(...t):n(t)}(n,t))}function gO(n,t){return n.reduce((e,i,s)=>(e[i]=t[s],e),{})}function _O(n,t,e){n?Io(e,n,t):t()}const Kg=Pi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Qg(...n){return function rQ(){return bh(1)}()(bi(n,xh(n)))}function Zg(n){return new Zt(t=>{Ss(n()).subscribe(t)})}function yO(){return Vn((n,t)=>{let e=null;n._refCount++;const i=new An(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const s=n._connection,r=e;e=null,s&&(!r||s===r)&&s.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class oQ extends Zt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,PA(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Pt;const e=this.getSubject();t.add(this.source.subscribe(new An(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Pt.EMPTY)}return t}refCount(){return yO()(this)}}function ir(n,t){return Vn((e,i)=>{let s=null,r=0,o=!1;const a=()=>o&&!s&&i.complete();e.subscribe(new An(i,l=>{null==s||s.unsubscribe();let c=0;const d=r++;Ss(n(l,d)).subscribe(s=new An(i,u=>i.next(t?t(l,u,d,c++):u),()=>{s=null,a()}))},()=>{o=!0,a()}))})}function Zi(...n){const t=xh(n);return Vn((e,i)=>{(t?Qg(n,e,t):Qg(n,e)).subscribe(i)})}function aQ(n,t,e,i,s){return(r,o)=>{let a=e,l=t,c=0;r.subscribe(new An(o,d=>{const u=c++;l=a?n(l,d,u):(a=!0,d),i&&o.next(l)},s&&(()=>{a&&o.next(l),o.complete()})))}}function vO(n,t){return Vn(aQ(n,t,arguments.length>=2,!0))}function mn(n,t){return Vn((e,i)=>{let s=0;e.subscribe(new An(i,r=>n.call(t,r,s++)&&i.next(r)))})}function qo(n){return Vn((t,e)=>{let r,i=null,s=!1;i=t.subscribe(new An(e,void 0,void 0,o=>{r=Ss(n(o,qo(n)(t))),i?(i.unsubscribe(),i=null,r.subscribe(e)):s=!0})),s&&(i.unsubscribe(),i=null,r.subscribe(e))})}function Kd(n,t){return gt(t)?li(n,t,1):li(n,1)}function Qw(n){return n<=0?()=>xr:Vn((t,e)=>{let i=[];t.subscribe(new An(e,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(const s of i)e.next(s);e.complete()},void 0,()=>{i=null}))})}function bO(n=lQ){return Vn((t,e)=>{let i=!1;t.subscribe(new An(e,s=>{i=!0,e.next(s)},()=>i?e.complete():e.error(n())))})}function lQ(){return new Kg}function xO(n){return Vn((t,e)=>{let i=!1;t.subscribe(new An(e,s=>{i=!0,e.next(s)},()=>{i||e.next(n),e.complete()}))})}function Qd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mn((s,r)=>n(s,r,i)):Aa,Pn(1),e?xO(t):bO(()=>new Kg))}function Di(n,t,e){const i=gt(n)||t||e?{next:n,error:t,complete:e}:n;return i?Vn((s,r)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;s.subscribe(new An(r,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),r.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),r.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),r.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Aa}function wO(n){return Vn((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Yo{constructor(t,e){this.id=t,this.url=e}}class Zw extends Yo{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _f extends Yo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class MO extends Yo{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dQ extends Yo{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uQ extends Yo{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hQ extends Yo{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fQ extends Yo{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pQ extends Yo{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mQ extends Yo{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CO{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SO{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gQ{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Q{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yQ{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vQ{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DO{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class bQ{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zd(n){return new bQ(n)}const EO="ngNavigationCancelingError";function Jw(n){const t=Error("NavigationCancelingError: "+n);return t[EO]=!0,t}function wQ(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function ho(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!AO(n[s],t[s]))return!1;return!0}function AO(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function TO(n){return Array.prototype.concat.apply([],n)}function RO(n){return n.length>0?n[n.length-1]:null}function ji(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function fo(n){return $0(n)?n:Kh(n)?bi(Promise.resolve(n)):Xe(n)}const SQ={exact:function PO(n,t,e){if(!Hl(n.segments,t.segments)||!Jg(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!PO(n.children[i],t.children[i],e))return!1;return!0},subset:OO},kO={exact:function DQ(n,t){return ho(n,t)},subset:function EQ(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>AO(n[e],t[e]))},ignored:()=>!0};function IO(n,t,e){return SQ[e.paths](n.root,t.root,e.matrixParams)&&kO[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function OO(n,t,e){return FO(n,t,t.segments,e)}function FO(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!Hl(s,e)||t.hasChildren()||!Jg(s,e,i))}if(n.segments.length===e.length){if(!Hl(n.segments,e)||!Jg(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!OO(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(Hl(n.segments,s)&&Jg(n.segments,s,i)&&n.children[Bt])&&FO(n.children[Bt],t,r,i)}}function Jg(n,t,e){return t.every((i,s)=>kO[e](n[s].parameters,i.parameters))}class Vl{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return RQ.serialize(this)}}class Ut{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ji(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return e_(this)}}class yf{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zd(this.parameters)),this._parameterMap}toString(){return HO(this)}}function Hl(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class LO{}class NO{parse(t){const e=new VQ(t);return new Vl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${vf(t.root,!0)}`,i=function PQ(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${t_(e)}=${t_(s)}`).join("&"):`${t_(e)}=${t_(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function kQ(n){return encodeURI(n)}(t.fragment)}`:""}`}}const RQ=new NO;function e_(n){return n.segments.map(t=>HO(t)).join("/")}function vf(n,t){if(!n.hasChildren())return e_(n);if(t){const e=n.children[Bt]?vf(n.children[Bt],!1):"",i=[];return ji(n.children,(s,r)=>{r!==Bt&&i.push(`${r}:${vf(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function TQ(n,t){let e=[];return ji(n.children,(i,s)=>{s===Bt&&(e=e.concat(t(i,s)))}),ji(n.children,(i,s)=>{s!==Bt&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Bt?[vf(n.children[Bt],!1)]:[`${s}:${vf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${e_(n)}/${e[0]}`:`${e_(n)}/(${e.join("//")})`}}function BO(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function t_(n){return BO(n).replace(/%3B/gi,";")}function eM(n){return BO(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function n_(n){return decodeURIComponent(n)}function VO(n){return n_(n.replace(/\+/g,"%20"))}function HO(n){return`${eM(n.path)}${function IQ(n){return Object.keys(n).map(t=>`;${eM(t)}=${eM(n[t])}`).join("")}(n.parameters)}`}const OQ=/^[^\/()?;=#]+/;function i_(n){const t=n.match(OQ);return t?t[0]:""}const FQ=/^[^=?&#]+/,NQ=/^[^&#]+/;class VQ{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Bt]=new Ut(t,e)),i}parseSegment(){const t=i_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yf(n_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=i_(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=i_(this.remaining);s&&(i=s,this.capture(i))}t[n_(e)]=n_(i)}parseQueryParam(t){const e=function LQ(n){const t=n.match(FQ);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function BQ(n){const t=n.match(NQ);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=VO(e),r=VO(i);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=i_(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Bt);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Bt]:new Ut([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=tM(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=tM(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=nM(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return nM(t,this._root).map(e=>e.value)}}function tM(n,t){if(n===t.value)return t;for(const e of t.children){const i=tM(n,e);if(i)return i}return null}function nM(n,t){if(n===t.value)return[t];for(const e of t.children){const i=nM(n,e);if(i.length)return i.unshift(t),i}return[]}class Xo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Jd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class UO extends zO{constructor(t,e){super(t),this.snapshot=e,iM(this,t)}toString(){return this.snapshot.toString()}}function GO(n,t){const e=function HQ(n,t){const o=new s_([],{},{},"",{},Bt,t,null,n.root,-1,{});return new WO("",new Xo(o,[]))}(n,t),i=new Qi([new yf("",{})]),s=new Qi({}),r=new Qi({}),o=new Qi({}),a=new Qi(""),l=new za(i,s,o,a,r,Bt,t,e.root);return l.snapshot=e.root,new UO(new Xo(l,[]),e)}class za{constructor(t,e,i,s,r,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ct(t=>Zd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ct(t=>Zd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jO(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],r=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function zQ(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class s_{constructor(t,e,i,s,r,o,a,l,c,d,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class WO extends zO{constructor(t,e){super(e),this.url=t,iM(this,e)}toString(){return $O(this._root)}}function iM(n,t){t.value._routerState=n,t.children.forEach(e=>iM(n,e))}function $O(n){const t=n.children.length>0?` { ${n.children.map($O).join(", ")} } `:"";return`${n.value}${t}`}function sM(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ho(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ho(t.params,e.params)||n.params.next(e.params),function MQ(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ho(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ho(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function rM(n,t){const e=ho(n.params,t.params)&&function AQ(n,t){return Hl(n,t)&&n.every((e,i)=>ho(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||rM(n.parent,t.parent))}function bf(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function GQ(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return bf(n,i,s);return bf(n,i)})}(n,t,e);return new Xo(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>bf(n,a)),o}}const i=function jQ(n){return new za(new Qi(n.url),new Qi(n.params),new Qi(n.queryParams),new Qi(n.fragment),new Qi(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>bf(n,r));return new Xo(i,s)}}function r_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xf(n){return"object"==typeof n&&null!=n&&n.outlets}function oM(n,t,e,i,s){let r={};return i&&ji(i,(o,a)=>{r[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Vl(e.root===n?t:qO(e.root,n,t),r,s)}function qO(n,t,e){const i={};return ji(n.children,(s,r)=>{i[r]=s===t?e:qO(s,t,e)}),new Ut(n.segments,i)}class YO{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&r_(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(xf);if(s&&s!==RO(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class aM{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function XO(n,t,e){if(n||(n=new Ut([],{})),0===n.segments.length&&n.hasChildren())return o_(n,t,e);const i=function KQ(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const o=n.segments[s],a=e[i];if(xf(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!QO(l,c,o))return r;i+=2}else{if(!QO(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Ut(n.segments.slice(0,i.pathIndex),{});return r.children[Bt]=new Ut(n.segments.slice(i.pathIndex),n.children),o_(r,0,s)}return i.match&&0===s.length?new Ut(n.segments,{}):i.match&&!n.hasChildren()?lM(n,t,e):i.match?o_(n,0,s):lM(n,t,e)}function o_(n,t,e){if(0===e.length)return new Ut(n.segments,{});{const i=function XQ(n){return xf(n[0])?n[0].outlets:{[Bt]:n}}(e),s={};return ji(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=XO(n.children[o],t,r))}),ji(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Ut(n.segments,s)}}function lM(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(xf(r)){const l=QQ(r.outlets);return new Ut(i,l)}if(0===s&&r_(e[0])){i.push(new yf(n.segments[t].path,KO(e[0]))),s++;continue}const o=xf(r)?r.outlets[Bt]:`${r}`,a=s<e.length-1?e[s+1]:null;o&&a&&r_(a)?(i.push(new yf(o,KO(a))),s+=2):(i.push(new yf(o,{})),s++)}return new Ut(i,{})}function QQ(n){const t={};return ji(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=lM(new Ut([],{}),0,e))}),t}function KO(n){const t={};return ji(n,(e,i)=>t[i]=`${e}`),t}function QO(n,t,e){return n==e.path&&ho(t,e.parameters)}class JQ{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),sM(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=Jd(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),ji(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=Jd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=Jd(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=Jd(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new vQ(r.value.snapshot))}),t.children.length&&this.forwardEvent(new _Q(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(sM(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),sM(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function eZ(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=s,o.resolver=l,o.outlet&&o.outlet.activateWith(s,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class cM{constructor(t,e){this.routes=t,this.module=e}}function Ua(n){return"function"==typeof n}function zl(n){return n instanceof Vl}const wf=Symbol("INITIAL_VALUE");function Mf(){return ir(n=>function iQ(...n){const t=xh(n),e=qA(n),{args:i,keys:s}=mO(n);if(0===i.length)return bi([],t);const r=new Zt(function sQ(n,t,e=Aa){return i=>{_O(t,()=>{const{length:s}=n,r=new Array(s);let o=s,a=s;for(let l=0;l<s;l++)_O(t,()=>{const c=bi(n[l],t);let d=!1;c.subscribe(new An(i,u=>{r[l]=u,d||(d=!0,a--),a||i.next(e(r.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,s?o=>gO(s,o):Aa));return e?r.pipe(Kw(e)):r}(n.map(t=>t.pipe(Pn(1),Zi(wf)))).pipe(vO((t,e)=>{let i=!1;return e.reduce((s,r,o)=>s!==wf?s:(r===wf&&(i=!0),i||!1!==r&&o!==e.length-1&&!zl(r)?s:r),t)},wf),mn(t=>t!==wf),Ct(t=>zl(t)?t:!0===t),Pn(1)))}class oZ{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cf,this.attachRef=null}}class Cf{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new oZ,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let dM=(()=>{class n{constructor(e,i,s,r,o){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.name=r||Bt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new aZ(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(x(Cf),x(Fn),x(Uo),Fi("name"),x(Xt))},n.\u0275dir=z({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class aZ{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===za?this.route:t===Cf?this.childContexts:this.parent.get(t,e)}}let ZO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Ge(0,"router-outlet")},directives:[dM],encapsulation:2}),n})();function JO(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];lZ(i,cZ(t,i))}}function lZ(n,t){n.children&&JO(n.children,t)}function cZ(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function uM(n){const t=n.children&&n.children.map(uM),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=ZO),e}function sr(n){return n.outlet||Bt}function eF(n,t){const e=n.filter(i=>sr(i)===t);return e.push(...n.filter(i=>sr(i)!==t)),e}const tF={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function a_(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},tF):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wQ)(e,n,t);if(!r)return Object.assign({},tF);const o={};ji(r.posParams,(l,c)=>{o[c]=l.path});const a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function l_(n,t,e,i,s="corrected"){if(e.length>0&&function hZ(n,t,e){return e.some(i=>c_(n,t,i)&&sr(i)!==Bt)}(n,e,i)){const o=new Ut(t,function uZ(n,t,e,i){const s={};s[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&sr(r)!==Bt){const o=new Ut([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,s[sr(r)]=o}return s}(n,t,i,new Ut(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function fZ(n,t,e){return e.some(i=>c_(n,t,i))}(n,e,i)){const o=new Ut(n.segments,function dZ(n,t,e,i,s,r){const o={};for(const a of i)if(c_(n,e,a)&&!s[sr(a)]){const l=new Ut([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===r?n.segments.length:t.length,o[sr(a)]=l}return Object.assign(Object.assign({},s),o)}(n,t,e,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Ut(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function c_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function nF(n,t,e,i){return!!(sr(n)===i||i!==Bt&&c_(t,e,n))&&("**"===n.path||a_(t,n,e).matched)}function iF(n,t,e){return 0===t.length&&!n.children[e]}class Sf{constructor(t){this.segmentGroup=t||null}}class sF{constructor(t){this.urlTree=t}}function d_(n){return new Zt(t=>t.error(new Sf(n)))}function rF(n){return new Zt(t=>t.error(new sF(n)))}function pZ(n){return new Zt(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class _Z{constructor(t,e,i,s,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Go)}apply(){const t=l_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ut(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Bt).pipe(Ct(r=>this.createUrlTree(hM(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qo(r=>{if(r instanceof sF)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Sf?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Bt).pipe(Ct(s=>this.createUrlTree(hM(s),t.queryParams,t.fragment))).pipe(qo(s=>{throw s instanceof Sf?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Ut([],{[Bt]:t}):t;return new Vl(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(Ct(r=>new Ut([],r))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return bi(s).pipe(Kd(r=>{const o=i.children[r],a=eF(e,r);return this.expandSegmentGroup(t,a,o,r).pipe(Ct(l=>({segment:l,outlet:r})))}),vO((r,o)=>(r[o.outlet]=o.segment,r),{}),function cQ(n,t){const e=arguments.length>=2;return i=>i.pipe(n?mn((s,r)=>n(s,r,i)):Aa,Qw(1),e?xO(t):bO(()=>new Kg))}())}expandSegment(t,e,i,s,r,o){return bi(i).pipe(Kd(a=>this.expandSegmentAgainstRoute(t,e,i,a,s,r,o).pipe(qo(c=>{if(c instanceof Sf)return Xe(null);throw c}))),Qd(a=>!!a),qo((a,l)=>{if(a instanceof Kg||"EmptyError"===a.name){if(iF(e,s,r))return Xe(new Ut([],{}));throw new Sf(e)}throw a}))}expandSegmentAgainstRoute(t,e,i,s,r,o,a){return nF(s,e,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o):d_(e):d_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?rF(r):this.lineralizeSegments(i,r).pipe(li(o=>{const a=new Ut(o,{});return this.expandSegment(t,a,e,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:d}=a_(e,s,r);if(!a)return d_(e);const u=this.applyRedirectCommands(l,s.redirectTo,d);return s.redirectTo.startsWith("/")?rF(u):this.lineralizeSegments(s,u).pipe(li(h=>this.expandSegment(t,e,i,h.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Xe(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(Ct(h=>(i._loadedConfig=h,new Ut(s,{})))):Xe(new Ut(s,{}));const{matched:o,consumedSegments:a,lastChild:l}=a_(e,i,s);if(!o)return d_(e);const c=s.slice(l);return this.getChildConfig(t,i,s).pipe(li(u=>{const h=u.module,f=u.routes,{segmentGroup:p,slicedSegments:m}=l_(e,a,c,f),g=new Ut(p.segments,p.children);if(0===m.length&&g.hasChildren())return this.expandChildren(h,f,g).pipe(Ct(b=>new Ut(a,b)));if(0===f.length&&0===m.length)return Xe(new Ut(a,{}));const _=sr(i)===r;return this.expandSegment(h,g,f,m,_?Bt:r,!0).pipe(Ct(v=>new Ut(a.concat(v.segments),v.children)))}))}getChildConfig(t,e,i){return e.children?Xe(new cM(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Xe(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(li(s=>s?this.configLoader.load(t.injector,e).pipe(Ct(r=>(e._loadedConfig=r,r))):function mZ(n){return new Zt(t=>t.error(Jw(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Xe(new cM([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;return s&&0!==s.length?Xe(s.map(o=>{const a=t.get(o);let l;if(function nZ(n){return n&&Ua(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Ua(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return fo(l)})).pipe(Mf(),Di(o=>{if(!zl(o))return;const a=Jw(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),Ct(o=>!0===o)):Xe(!0)}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return Xe(i);if(s.numberOfChildren>1||!s.children[Bt])return pZ(t.redirectTo);s=s.children[Bt]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new Vl(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ji(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let o={};return ji(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,s)}),new Ut(r,o)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function hM(n){const t={};for(const i of Object.keys(n.children)){const r=hM(n.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function yZ(n){if(1===n.numberOfChildren&&n.children[Bt]){const t=n.children[Bt];return new Ut(n.segments.concat(t.segments),t.children)}return n}(new Ut(n.segments,t))}class oF{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class u_{constructor(t,e){this.component=t,this.route=e}}function bZ(n,t,e){const i=n._root;return Df(i,t?t._root:null,e,[i.value])}function h_(n,t,e){const i=function wZ(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Df(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=Jd(t);return n.children.forEach(o=>{(function MZ(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function CZ(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Hl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Hl(n.url,t.url)||!ho(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rM(n,t)||!ho(n.queryParams,t.queryParams);default:return!rM(n,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new oF(i)):(r.data=o.data,r._resolvedData=o._resolvedData),Df(n,t,r.component?a?a.children:null:e,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new u_(a.outlet.component,o))}else o&&Ef(t,a,s),s.canActivateChecks.push(new oF(i)),Df(n,null,r.component?a?a.children:null:e,i,s)})(o,r[o.value.outlet],e,i.concat([o.value]),s),delete r[o.value.outlet]}),ji(r,(o,a)=>Ef(o,e.getContext(a),s)),s}function Ef(n,t,e){const i=Jd(n),s=n.value;ji(i,(r,o)=>{Ef(r,s.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new u_(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class PZ{}function aF(n){return new Zt(t=>t.error(n))}class FZ{constructor(t,e,i,s,r,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=l_(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Bt);if(null===e)return null;const i=new s_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Xo(i,e),r=new WO(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,i=jO(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const r of Object.keys(e.children)){const o=e.children[r],a=eF(t,r),l=this.processSegmentGroup(a,o,r);if(null===l)return null;i.push(...l)}const s=lF(i);return function LZ(n){n.sort((t,e)=>t.value.outlet===Bt?-1:e.value.outlet===Bt?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const r of t){const o=this.processSegmentAgainstRoute(r,e,i,s);if(null!==o)return o}return iF(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!nF(t,e,i,s))return null;let r,o=[],a=[];if("**"===t.path){const f=i.length>0?RO(i).parameters:{};r=new s_(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uF(t),sr(t),t.component,t,cF(e),dF(e)+i.length,hF(t))}else{const f=a_(e,t,i);if(!f.matched)return null;o=f.consumedSegments,a=i.slice(f.lastChild),r=new s_(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uF(t),sr(t),t.component,t,cF(e),dF(e)+o.length,hF(t))}const l=function NZ(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:d}=l_(e,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===d.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Xo(r,f)]}if(0===l.length&&0===d.length)return[new Xo(r,[])];const u=sr(t)===s,h=this.processSegment(l,c,d,u?Bt:s);return null===h?null:[new Xo(r,h)]}}function BZ(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function lF(n){const t=[],e=new Set;for(const i of n){if(!BZ(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=lF(i.children);t.push(new Xo(i.value,s))}return t.filter(i=>!e.has(i))}function cF(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dF(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function uF(n){return n.data||{}}function hF(n){return n.resolve||{}}function fM(n){return ir(t=>{const e=n(t);return e?bi(e).pipe(Ct(()=>t)):Xe(t)})}class $Z extends class WZ{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const pM=new K("ROUTES");class fF{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(Ct(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=r.create(t);return new cM(TO(o.injector.get(pM,void 0,Mt.Self|Mt.Optional)).map(uM),o)}),qo(r=>{throw e._loader$=void 0,r}));return e._loader$=new oQ(s,()=>new me).pipe(yO()),e._loader$}loadModuleFactory(t){return fo(t()).pipe(li(e=>e instanceof SI?Xe(e):bi(this.compiler.compileModuleAsync(e))))}}class YZ{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function XZ(n){throw n}function KZ(n,t,e){return t.parse("/")}function pF(n,t){return Xe(null)}const QZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wi=(()=>{class n{constructor(e,i,s,r,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new me,this.errorHandler=XZ,this.malformedUriErrorHandler=KZ,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pF,afterPreactivation:pF},this.urlHandlingStrategy=new YZ,this.routeReuseStrategy=new $Z,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Go),this.console=o.get(lP);const u=o.get($e);this.isNgZoneEnabled=u instanceof $e&&$e.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function CQ(){return new Vl(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fF(o,a,h=>this.triggerEvent(new CO(h)),h=>this.triggerEvent(new SO(h))),this.routerState=GO(this.currentUrlTree,this.rootComponentType),this.transitions=new Qi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(mn(s=>0!==s.id),Ct(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ir(s=>{let r=!1,o=!1;return Xe(s).pipe(Di(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ir(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return f_(a.source)&&(this.browserUrlTree=a.extractedUrl),Xe(a).pipe(ir(u=>{const h=this.transitions.getValue();return i.next(new Zw(u.id,this.serializeUrl(u.extractedUrl),u.source,u.restoredState)),h!==this.transitions.getValue()?xr:Promise.resolve(u)}),function vZ(n,t,e,i){return ir(s=>function gZ(n,t,e,i,s){return new _Z(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(Ct(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Di(u=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:u.urlAfterRedirects})}),function VZ(n,t,e,i,s){return li(r=>function OZ(n,t,e,i,s="emptyOnly",r="legacy"){try{const o=new FZ(n,t,e,i,s,r).recognize();return null===o?aF(new PZ):Xe(o)}catch(o){return aF(o)}}(n,t,r.urlAfterRedirects,e(r.urlAfterRedirects),i,s).pipe(Ct(o=>Object.assign(Object.assign({},r),{targetSnapshot:o}))))}(this.rootComponentType,this.config,u=>this.serializeUrl(u),this.paramsInheritanceStrategy,this.relativeLinkResolution),Di(u=>{if("eager"===this.urlUpdateStrategy){if(!u.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl);this.setBrowserUrl(f,u)}this.browserUrlTree=u.urlAfterRedirects}const h=new uQ(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=a,_=new Zw(h,this.serializeUrl(f),p,m);i.next(_);const y=GO(f,this.rootComponentType).snapshot;return Xe(Object.assign(Object.assign({},a),{targetSnapshot:y,urlAfterRedirects:f,extras:Object.assign(Object.assign({},g),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),xr}),fM(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:u,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:u,skipLocationChange:!!h,replaceUrl:!!f})}),Di(a=>{const l=new hQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),Ct(a=>Object.assign(Object.assign({},a),{guards:bZ(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function SZ(n,t){return li(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?Xe(Object.assign(Object.assign({},e),{guardsResult:!0})):function DZ(n,t,e,i){return bi(n).pipe(li(s=>function IZ(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?Xe(r.map(a=>{const l=h_(a,t,s);let c;if(function rZ(n){return n&&Ua(n.canDeactivate)}(l))c=fo(l.canDeactivate(n,t,e,i));else{if(!Ua(l))throw new Error("Invalid CanDeactivate guard");c=fo(l(n,t,e,i))}return c.pipe(Qd())})).pipe(Mf()):Xe(!0)}(s.component,s.route,e,t,i)),Qd(s=>!0!==s,!0))}(o,i,s,n).pipe(li(a=>a&&function tZ(n){return"boolean"==typeof n}(a)?function EZ(n,t,e,i){return bi(t).pipe(Kd(s=>Qg(function TZ(n,t){return null!==n&&t&&t(new gQ(n)),Xe(!0)}(s.route.parent,i),function AZ(n,t){return null!==n&&t&&t(new yQ(n)),Xe(!0)}(s.route,i),function kZ(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function xZ(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>Zg(()=>Xe(o.guards.map(l=>{const c=h_(l,o.node,e);let d;if(function sZ(n){return n&&Ua(n.canActivateChild)}(c))d=fo(c.canActivateChild(i,n));else{if(!Ua(c))throw new Error("Invalid CanActivateChild guard");d=fo(c(i,n))}return d.pipe(Qd())})).pipe(Mf())));return Xe(r).pipe(Mf())}(n,s.path,e),function RZ(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Xe(!0);const s=i.map(r=>Zg(()=>{const o=h_(r,t,e);let a;if(function iZ(n){return n&&Ua(n.canActivate)}(o))a=fo(o.canActivate(t,n));else{if(!Ua(o))throw new Error("Invalid CanActivate guard");a=fo(o(t,n))}return a.pipe(Qd())}));return Xe(s).pipe(Mf())}(n,s.route,e))),Qd(s=>!0!==s,!0))}(i,r,n,t):Xe(a)),Ct(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Di(a=>{if(zl(a.guardsResult)){const c=Jw(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new fQ(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),mn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),fM(a=>{if(a.guards.canActivateChecks.length)return Xe(a).pipe(Di(l=>{const c=new pQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),ir(l=>{let c=!1;return Xe(l).pipe(function HZ(n,t){return li(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return Xe(e);let r=0;return bi(s).pipe(Kd(o=>function zZ(n,t,e,i){return function UZ(n,t,e,i){const s=Object.keys(n);if(0===s.length)return Xe({});const r={};return bi(s).pipe(li(o=>function GZ(n,t,e,i){const s=h_(n,t,i);return fo(s.resolve?s.resolve(t,e):s(t,e))}(n[o],t,e,i).pipe(Di(a=>{r[o]=a}))),Qw(1),li(()=>Object.keys(r).length===s.length?Xe(r):xr))}(n._resolve,n,t,i).pipe(Ct(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),jO(n,e).resolve),null)))}(o.route,i,n,t)),Di(()=>r++),Qw(1),li(o=>r===s.length?Xe(e):xr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Di({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Di(l=>{const c=new mQ(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),fM(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:u,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:u,skipLocationChange:!!h,replaceUrl:!!f})}),Ct(a=>{const l=function UQ(n,t,e){const i=bf(n,t._root,e?e._root:void 0);return new UO(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Di(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>Ct(i=>(new JQ(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Di({next(){r=!0},complete(){r=!0}}),wO(()=>{var a;r||o||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===s.id&&(this.currentNavigation=null)}),qo(a=>{if(o=!0,function xQ(n){return n&&n[EO]}(a)){const l=zl(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const c=new MO(s.id,this.serializeUrl(s.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),u={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||f_(s.source)};this.scheduleNavigation(d,"imperative",null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new dQ(s.id,this.serializeUrl(s.extractedUrl),a);i.next(l);try{s.resolve(this.errorHandler(a))}catch(c){s.reject(c)}}return xr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const r={replaceUrl:!0},o=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){JO(e),this.config=e.map(uM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=s||this.routerState.root,d=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function WQ(n,t,e,i,s){if(0===e.length)return oM(t.root,t.root,t,i,s);const r=function $Q(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new YO(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return ji(r.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new YO(e,t,i)}(e);if(r.toRoot())return oM(t.root,new Ut([],{}),t,i,s);const o=function qQ(n,t,e){if(n.isAbsolute)return new aM(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new aM(r,r===t.root,0)}const i=r_(n.commands[0])?0:1;return function YQ(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new aM(i,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,t,n),a=o.processChildren?o_(o.segmentGroup,o.index,r.commands):XO(o.segmentGroup,o.index,r.commands);return oM(o.segmentGroup,a,t,i,s)}(c,this.currentUrlTree,e,u,null!=d?d:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=zl(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function JZ(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},QZ):!1===i?Object.assign({},ZZ):i,zl(e))return IO(this.currentUrlTree,e,s);const r=this.parseUrl(e);return IO(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const r=e[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new _f(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,r,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,u=f_(i)&&d&&!f_(d.source),h=d.rawUrl.toString()===e.toString(),f=d.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(u&&h&&f)return Promise.resolve(!0);let m,g,_;o?(m=o.resolve,g=o.reject,_=o.promise):_=new Promise((b,w)=>{m=b,g=w});const y=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),v=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):v=0,this.setTransition({id:y,targetPageId:v,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:m,reject:g,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(b=>Promise.reject(b))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===o?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new MO(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Ld()},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function f_(n){return"imperative"!==n}let p_=(()=>{class n{constructor(e,i,s,r,o){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=r,this.el=o,this.commands=null,this.onChanges=new me,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,s=this.el.nativeElement;null!==e?i.setAttribute(s,"tabindex",e):i.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(x(Wi),x(za),Fi("tabindex"),x(Ir),x(de))},n.\u0275dir=z({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&ze("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[on]}),n})(),m_=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new me,this.subscription=e.events.subscribe(r=>{r instanceof _f&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,r,o){if(0!==e||i||s||r||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:eu(this.skipLocationChange),replaceUrl:eu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:eu(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(x(Wi),x(za),x(qd))},n.\u0275dir=z({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&ze("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&st("target",i.target)("href",i.href,_d)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[on]}),n})();function eu(n){return""===n||!!n}let mF=(()=>{class n{constructor(e,i,s,r,o,a){this.router=e,this.element=i,this.renderer=s,this.cdr=r,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new we,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof _f&&this.update()})}ngAfterContentInit(){Xe(this.links.changes,this.linksWithHrefs.changes,Xe(null)).pipe(bh()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=bi(i).pipe(bh()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function eJ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Wi),x(de),x(Ir),x(Xt),x(p_,8),x(m_,8))},n.\u0275dir=z({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,s){if(1&e&&(mt(s,p_,5),mt(s,m_,5)),2&e){let r;ge(r=_e())&&(i.links=r),ge(r=_e())&&(i.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[on]}),n})();class gF{}class _F{preload(t,e){return Xe(null)}}let yF=(()=>{class n{constructor(e,i,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new fF(s,i,l=>e.triggerEvent(new CO(l)),l=>e.triggerEvent(new SO(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(mn(e=>e instanceof _f),Kd(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Go);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const o=r._loadedConfig;s.push(this.processRoutes(o.module,o.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return bi(s).pipe(bh(),Ct(r=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Xe(i._loadedConfig):this.loader.load(e.injector,i)).pipe(li(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(j(Wi),j(Ag),j(di),j(gF))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),mM=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Zw?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _f&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof DO&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new DO(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ld()},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Ul=new K("ROUTER_CONFIGURATION"),vF=new K("ROUTER_FORROOT_GUARD"),nJ=[kg,{provide:LO,useClass:NO},{provide:Wi,useFactory:function aJ(n,t,e,i,s,r,o={},a,l){const c=new Wi(null,n,t,e,i,s,TO(r));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function lJ(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(d=>{var u,h;null===(u=console.group)||void 0===u||u.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[LO,Cf,kg,di,Ag,pM,Ul,[class qZ{},new Mi],[class jZ{},new Mi]]},Cf,{provide:za,useFactory:function cJ(n){return n.routerState.root},deps:[Wi]},yF,_F,class tJ{preload(t,e){return e().pipe(qo(()=>Xe(null)))}},{provide:Ul,useValue:{enableTracing:!1}}];function iJ(){return new pP("Router",Wi)}let bF=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[nJ,xF(e),{provide:vF,useFactory:oJ,deps:[[Wi,new Mi,new ks]]},{provide:Ul,useValue:i||{}},{provide:qd,useFactory:rJ,deps:[Nl,[new Nh(Iw),new Mi],Ul]},{provide:mM,useFactory:sJ,deps:[Wi,fK,Ul]},{provide:gF,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:_F},{provide:pP,multi:!0,useFactory:iJ},[gM,{provide:Eg,multi:!0,useFactory:dJ,deps:[gM]},{provide:wF,useFactory:uJ,deps:[gM]},{provide:bw,multi:!0,useExisting:wF}]]}}static forChild(e){return{ngModule:n,providers:[xF(e)]}}}return n.\u0275fac=function(e){return new(e||n)(j(vF,8),j(Wi,8))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();function sJ(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new mM(n,t,e)}function rJ(n,t,e={}){return e.useHash?new JY(n,t):new LP(n,t)}function oJ(n){return"guarded"}function xF(n){return[{provide:T8,multi:!0,useValue:n},{provide:pM,multi:!0,useValue:n}]}let gM=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new me}appInitializer(){return this.injector.get(KY,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(a=>i=a),r=this.injector.get(Wi),o=this.injector.get(Ul);return"disabled"===o.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?Xe(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(Ul),s=this.injector.get(yF),r=this.injector.get(mM),o=this.injector.get(Wi),a=this.injector.get($d);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),s.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(j(di))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();function dJ(n){return n.appInitializer.bind(n)}function uJ(n){return n.bootstrapListener.bind(n)}const wF=new K("Router Initializer");function MF(...n){const t=qA(n),{args:e,keys:i}=mO(n),s=new Zt(r=>{const{length:o}=e;if(!o)return void r.complete();const a=new Array(o);let l=o,c=o;for(let d=0;d<o;d++){let u=!1;Ss(e[d]).subscribe(new An(r,h=>{u||(u=!0,c--),a[d]=h},()=>l--,void 0,()=>{(!l||!u)&&(c||r.next(i?gO(i,a):a),r.complete())}))}});return t?s.pipe(Kw(t)):s}let CF=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(x(Ir),x(de))},n.\u0275dir=z({type:n}),n})(),Gl=(()=>{class n extends CF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,features:[Y]}),n})();const Li=new K("NgValueAccessor"),pJ={provide:Li,useExisting:Ot(()=>g_),multi:!0},gJ=new K("CompositionEventMode");let g_=(()=>{class n extends CF{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mJ(){const n=uo()?uo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Ir),x(de),x(gJ,8))},n.\u0275dir=z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&ze("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[Re([pJ]),Y]}),n})();function Ga(n){return null==n||0===n.length}function DF(n){return null!=n&&"number"==typeof n.length}const Ei=new K("NgValidators"),ja=new K("NgAsyncValidators"),_J=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ko{static min(t){return function EF(n){return t=>{if(Ga(t.value)||Ga(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function AF(n){return t=>{if(Ga(t.value)||Ga(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return TF(t)}static requiredTrue(t){return function RF(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function kF(n){return Ga(n.value)||_J.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function IF(n){return t=>Ga(t.value)||!DF(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function PF(n){return t=>DF(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function OF(n){if(!n)return Af;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ga(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return HF(t)}static composeAsync(t){return zF(t)}}function TF(n){return Ga(n.value)?{required:!0}:null}function Af(n){return null}function FF(n){return null!=n}function LF(n){const t=Kh(n)?bi(n):n;return $0(t),t}function NF(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function BF(n,t){return t.map(e=>e(n))}function VF(n){return n.map(t=>function yJ(n){return!n.validate}(t)?t:e=>t.validate(e))}function HF(n){if(!n)return null;const t=n.filter(FF);return 0==t.length?null:function(e){return NF(BF(e,t))}}function _M(n){return null!=n?HF(VF(n)):null}function zF(n){if(!n)return null;const t=n.filter(FF);return 0==t.length?null:function(e){return MF(BF(e,t).map(LF)).pipe(Ct(NF))}}function yM(n){return null!=n?zF(VF(n)):null}function UF(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function GF(n){return n._rawValidators}function jF(n){return n._rawAsyncValidators}function vM(n){return n?Array.isArray(n)?n:[n]:[]}function __(n,t){return Array.isArray(n)?n.includes(t):n===t}function WF(n,t){const e=vM(t);return vM(n).forEach(s=>{__(e,s)||e.push(s)}),e}function $F(n,t){return vM(t).filter(e=>!__(n,e))}class qF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_M(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=yM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Nr extends qF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ps extends qF{get formDirective(){return null}get path(){return null}}class YF{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let XF=(()=>{class n extends YF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(x(Nr,2))},n.\u0275dir=z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&ot("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Y]}),n})(),y_=(()=>{class n extends YF{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(x(ps,10))},n.\u0275dir=z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&ot("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Y]}),n})();function Tf(n,t){wM(n,t),t.valueAccessor.writeValue(n.value),function DJ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&QF(n,t)})}(n,t),function AJ(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function EJ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&QF(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function SJ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function x_(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),M_(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function w_(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wM(n,t){const e=GF(n);null!==t.validator?n.setValidators(UF(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=jF(n);null!==t.asyncValidator?n.setAsyncValidators(UF(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();w_(t._rawValidators,s),w_(t._rawAsyncValidators,s)}function M_(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=GF(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=jF(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return w_(t._rawValidators,i),w_(t._rawAsyncValidators,i),e}function QF(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ZF(n,t){wM(n,t)}function JF(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function C_(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rf="VALID",S_="INVALID",tu="PENDING",kf="DISABLED";function DM(n){return(AM(n)?n.validators:n)||null}function eL(n){return Array.isArray(n)?_M(n):n||null}function EM(n,t){return(AM(t)?t.asyncValidators:n)||null}function tL(n){return Array.isArray(n)?yM(n):n||null}function AM(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nL=n=>n instanceof jl,TM=n=>n instanceof If;function iL(n){return nL(n)?n.value:n.getRawValue()}function sL(n,t){const e=TM(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new qt(1e3,"");if(!i[t])throw new qt(1001,"")}function rL(n,t){TM(n),n._forEachChild((i,s)=>{if(void 0===t[s])throw new qt(1002,"")})}class RM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=eL(this._rawValidators),this._composedAsyncValidatorFn=tL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rf}get invalid(){return this.status===S_}get pending(){return this.status==tu}get disabled(){return this.status===kf}get enabled(){return this.status!==kf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=eL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=tL(t)}addValidators(t){this.setValidators(WF(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(WF(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($F(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($F(t,this._rawAsyncValidators))}hasValidator(t){return __(this._rawValidators,t)}hasAsyncValidator(t){return __(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=tu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=kf,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rf,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rf||this.status===tu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kf:Rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=tu,this._hasOwnPendingAsyncValidator=!0;const e=LF(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function IJ(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=TM(i)?i.controls.hasOwnProperty(s)?i.controls[s]:null:(n=>n instanceof OJ)(i)&&i.at(s)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?kf:this.errors?S_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(tu)?tu:this._anyControlsHaveStatus(S_)?S_:Rf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){AM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jl extends RM{constructor(t=null,e,i){super(DM(e),EM(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){C_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){C_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class If extends RM{constructor(t,e,i){super(DM(e),EM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){rL(this,t),Object.keys(t).forEach(i=>{sL(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=iL(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class OJ extends RM{constructor(t,e,i){super(DM(e),EM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){rL(this,t),t.forEach((i,s)=>{sL(this,s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>iL(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const FJ={provide:ps,useExisting:Ot(()=>Wa)},Pf=(()=>Promise.resolve(null))();let Wa=(()=>{class n extends ps{constructor(e,i){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new we,this.form=new If({},_M(e),yM(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Pf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Tf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Pf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),C_(this._directives,e)})}addFormGroup(e){Pf.then(()=>{const i=this._findContainer(e.path),s=new If({});ZF(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Pf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Pf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,JF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(x(Ei,10),x(ja,10))},n.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&ze("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([FJ]),Y]}),n})(),D_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),uL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();const kM=new K("NgModelWithFormControlWarning"),GJ={provide:ps,useExisting:Ot(()=>Wl)};let Wl=(()=>{class n extends ps{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(M_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Tf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){x_(e.control||null,e,!1),C_(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,JF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(x_(i||null,e),nL(s)&&(Tf(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);ZF(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function TJ(n,t){return M_(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wM(this.form,this),this._oldForm&&M_(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(x(Ei,10),x(ja,10))},n.\u0275dir=z({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&ze("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Re([GJ]),Y,on]}),n})();const $J={provide:Nr,useExisting:Ot(()=>OM)};let OM=(()=>{class n extends Nr{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new we,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function CM(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===g_?e=r:function kJ(n){return Object.getPrototypeOf(n.constructor)===Gl}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function MM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function b_(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(x(ps,13),x(Ei,10),x(ja,10),x(Li,10),x(kM,8))},n.\u0275dir=z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Re([$J]),Y,on]}),n})();const tee={provide:Ei,useExisting:Ot(()=>E_),multi:!0};let E_=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?TF(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&st("required",i.required?"":null)},inputs:{required:"required"},features:[Re([tee])]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[uL]]}),n})(),aee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[DL]}),n})(),lee=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kM,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[DL]}),n})();function EL(n,t,e,i,s,r,o){try{var a=n[r](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,s)}const Kl=1e3,ms=1001,pi=1003,Mn=1006,qa=1008,Ql=1009,Vf=1012,Br=1015,po=1016,ou=1020,or=1023,Zl=1026,au=1027,Hf=2300,lu=2301,cu=2400,du=2401,Vr=3e3,tn=3001,Zo="srgb",ec="srgb-linear",zf=35044,Uf=35048;class Ya{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const s=this._listeners[t];if(void 0!==s){const r=s.indexOf(e);-1!==r&&s.splice(r,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const s=i.slice(0);for(let r=0,o=s.length;r<o;r++)s[r].call(this,t);t.target=null}}}const $i=[];for(let n=0;n<256;n++)$i[n]=(n<16?"0":"")+n.toString(16);let lN=1234567;const tc=Math.PI/180,Gf=180/Math.PI;function Ns(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return($i[255&n]+$i[n>>8&255]+$i[n>>16&255]+$i[n>>24&255]+"-"+$i[255&t]+$i[t>>8&255]+"-"+$i[t>>16&15|64]+$i[t>>24&255]+"-"+$i[63&e|128]+$i[e>>8&255]+"-"+$i[e>>16&255]+$i[e>>24&255]+$i[255&i]+$i[i>>8&255]+$i[i>>16&255]+$i[i>>24&255]).toLowerCase()}function ii(n,t,e){return Math.max(t,Math.min(e,n))}function XM(n,t){return(n%t+t)%t}function jf(n,t,e){return(1-e)*n+e*t}function KM(n){return 0==(n&n-1)&&0!==n}function cN(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function F_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}var Cte=Object.freeze({__proto__:null,DEG2RAD:tc,RAD2DEG:Gf,generateUUID:Ns,clamp:ii,euclideanModulo:XM,mapLinear:function cte(n,t,e,i,s){return i+(n-t)*(s-i)/(e-t)},inverseLerp:function dte(n,t,e){return n!==t?(e-n)/(t-n):0},lerp:jf,damp:function ute(n,t,e,i){return jf(n,t,1-Math.exp(-e*i))},pingpong:function hte(n,t=1){return t-Math.abs(XM(n,2*t)-t)},smoothstep:function fte(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*(3-2*n)},smootherstep:function pte(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t))*n*n*(n*(6*n-15)+10)},randInt:function mte(n,t){return n+Math.floor(Math.random()*(t-n+1))},randFloat:function gte(n,t){return n+Math.random()*(t-n)},randFloatSpread:function _te(n){return n*(.5-Math.random())},seededRandom:function yte(n){void 0!==n&&(lN=n);let t=lN+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function vte(n){return n*tc},radToDeg:function bte(n){return n*Gf},isPowerOfTwo:KM,ceilPowerOfTwo:cN,floorPowerOfTwo:F_,setQuaternionFromProperEuler:function xte(n,t,e,i,s){const r=Math.cos,o=Math.sin,a=r(e/2),l=o(e/2),c=r((t+i)/2),d=o((t+i)/2),u=r((t-i)/2),h=o((t-i)/2),f=r((i-t)/2),p=o((i-t)/2);switch(s){case"XYX":n.set(a*d,l*u,l*h,a*c);break;case"YZY":n.set(l*h,a*d,l*u,a*c);break;case"ZXZ":n.set(l*u,l*h,a*d,a*c);break;case"XZX":n.set(a*d,l*p,l*f,a*c);break;case"YXY":n.set(l*f,a*d,l*p,a*c);break;case"ZYZ":n.set(l*p,l*f,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}},normalize:function Mte(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}},denormalize:function wte(n,t){switch(t.constructor){case Float32Array:return n;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}});class ee{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6],this.y=s[1]*e+s[4]*i+s[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),s=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*i-o*s+t.x,this.y=r*s+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}ee.prototype.isVector2=!0;class Ni{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,s,r,o,a,l,c){const d=this.elements;return d[0]=t,d[1]=s,d[2]=a,d[3]=e,d[4]=r,d[5]=l,d[6]=i,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],d=i[4],u=i[7],h=i[2],f=i[5],p=i[8],m=s[0],g=s[3],_=s[6],y=s[1],v=s[4],b=s[7],w=s[2],C=s[5],S=s[8];return r[0]=o*m+a*y+l*w,r[3]=o*g+a*v+l*C,r[6]=o*_+a*b+l*S,r[1]=c*m+d*y+u*w,r[4]=c*g+d*v+u*C,r[7]=c*_+d*b+u*S,r[2]=h*m+f*y+p*w,r[5]=h*g+f*v+p*C,r[8]=h*_+f*b+p*S,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8];return e*o*d-e*a*c-i*r*d+i*a*l+s*r*c-s*o*l}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=d*o-a*c,h=a*l-d*r,f=c*r-o*l,p=e*u+i*h+s*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=u*m,t[1]=(s*c-d*i)*m,t[2]=(a*i-s*o)*m,t[3]=h*m,t[4]=(d*e-s*l)*m,t[5]=(s*r-a*e)*m,t[6]=f*m,t[7]=(i*l-c*e)*m,t[8]=(o*e-i*r)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,s,r,o,a){const l=Math.cos(r),c=Math.sin(r);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-s*c,s*l,-s*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),s=this.elements,r=s[0],o=s[3],a=s[6],l=s[1],c=s[4],d=s[7];return s[0]=e*r+i*l,s[3]=e*o+i*c,s[6]=e*a+i*d,s[1]=-i*r+e*l,s[4]=-i*o+e*c,s[7]=-i*a+e*d,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<9;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}function dN(n){for(let t=n.length-1;t>=0;--t)if(n[t]>65535)return!0;return!1}function Wf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function nc(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function L_(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}Ni.prototype.isMatrix3=!0,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const QM={[Zo]:{[ec]:nc},[ec]:{[Zo]:L_}},Hr={legacyMode:!0,get workingColorSpace(){return ec},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,t,e){if(this.legacyMode||t===e||!t||!e)return n;if(QM[t]&&void 0!==QM[t][e]){const i=QM[t][e];return n.r=i(n.r),n.g=i(n.g),n.b=i(n.b),n}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(n,t){return this.convert(n,this.workingColorSpace,t)},toWorkingColorSpace:function(n,t){return this.convert(n,t,this.workingColorSpace)}},uN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ai={r:0,g:0,b:0},zr={h:0,s:0,l:0},N_={h:0,s:0,l:0};function ZM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}function B_(n,t){return t.r=n.r,t.g=n.g,t.b=n.b,t}let hu,ve=(()=>{class n{constructor(e,i,s){return void 0===i&&void 0===s?this.set(e):this.setRGB(e,i,s)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Zo){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Hr.toWorkingColorSpace(this,i),this}setRGB(e,i,s,r=ec){return this.r=e,this.g=i,this.b=s,Hr.toWorkingColorSpace(this,r),this}setHSL(e,i,s,r=ec){if(e=XM(e,1),i=ii(i,0,1),s=ii(s,0,1),0===i)this.r=this.g=this.b=s;else{const o=s<=.5?s*(1+i):s+i-s*i,a=2*s-o;this.r=ZM(a,o,e+1/3),this.g=ZM(a,o,e),this.b=ZM(a,o,e-1/3)}return Hr.toWorkingColorSpace(this,r),this}setStyle(e,i=Zo){function s(o){void 0!==o&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let o;const l=r[2];switch(r[1]){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(o[1],10))/255,this.g=Math.min(255,parseInt(o[2],10))/255,this.b=Math.min(255,parseInt(o[3],10))/255,Hr.toWorkingColorSpace(this,i),s(o[4]),this;if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(o[1],10))/100,this.g=Math.min(100,parseInt(o[2],10))/100,this.b=Math.min(100,parseInt(o[3],10))/100,Hr.toWorkingColorSpace(this,i),s(o[4]),this;break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){const c=parseFloat(o[1])/360,d=parseInt(o[2],10)/100,u=parseInt(o[3],10)/100;return s(o[4]),this.setHSL(c,d,u,i)}}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=r[1],a=o.length;if(3===a)return this.r=parseInt(o.charAt(0)+o.charAt(0),16)/255,this.g=parseInt(o.charAt(1)+o.charAt(1),16)/255,this.b=parseInt(o.charAt(2)+o.charAt(2),16)/255,Hr.toWorkingColorSpace(this,i),this;if(6===a)return this.r=parseInt(o.charAt(0)+o.charAt(1),16)/255,this.g=parseInt(o.charAt(2)+o.charAt(3),16)/255,this.b=parseInt(o.charAt(4)+o.charAt(5),16)/255,Hr.toWorkingColorSpace(this,i),this}return e&&e.length>0?this.setColorName(e,i):this}setColorName(e,i=Zo){const s=uN[e.toLowerCase()];return void 0!==s?this.setHex(s,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=nc(e.r),this.g=nc(e.g),this.b=nc(e.b),this}copyLinearToSRGB(e){return this.r=L_(e.r),this.g=L_(e.g),this.b=L_(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Zo){return Hr.fromWorkingColorSpace(B_(this,Ai),e),ii(255*Ai.r,0,255)<<16^ii(255*Ai.g,0,255)<<8^ii(255*Ai.b,0,255)<<0}getHexString(e=Zo){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=ec){Hr.fromWorkingColorSpace(B_(this,Ai),i);const s=Ai.r,r=Ai.g,o=Ai.b,a=Math.max(s,r,o),l=Math.min(s,r,o);let c,d;const u=(l+a)/2;if(l===a)c=0,d=0;else{const h=a-l;switch(d=u<=.5?h/(a+l):h/(2-a-l),a){case s:c=(r-o)/h+(r<o?6:0);break;case r:c=(o-s)/h+2;break;case o:c=(s-r)/h+4}c/=6}return e.h=c,e.s=d,e.l=u,e}getRGB(e,i=ec){return Hr.fromWorkingColorSpace(B_(this,Ai),i),e.r=Ai.r,e.g=Ai.g,e.b=Ai.b,e}getStyle(e=Zo){return Hr.fromWorkingColorSpace(B_(this,Ai),e),e!==Zo?`color(${e} ${Ai.r} ${Ai.g} ${Ai.b})`:`rgb(${255*Ai.r|0},${255*Ai.g|0},${255*Ai.b|0})`}offsetHSL(e,i,s){return this.getHSL(zr),zr.h+=e,zr.s+=i,zr.l+=s,this.setHSL(zr.h,zr.s,zr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,s){return this.r=e.r+(i.r-e.r)*s,this.g=e.g+(i.g-e.g)*s,this.b=e.b+(i.b-e.b)*s,this}lerpHSL(e,i){this.getHSL(zr),e.getHSL(N_);const s=jf(zr.h,N_.h,i),r=jf(zr.s,N_.s,i),o=jf(zr.l,N_.l,i);return this.setHSL(s,r,o),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return n.NAMES=uN,n})();ve.prototype.isColor=!0,ve.prototype.r=1,ve.prototype.g=1,ve.prototype.b=1;class ic{static getDataURL(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===hu&&(hu=Wf("canvas")),hu.width=t.width,hu.height=t.height;const i=hu.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=hu}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=Wf("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const s=i.getImageData(0,0,t.width,t.height),r=s.data;for(let o=0;o<r.length;o++)r[o]=255*nc(r[o]/255);return i.putImageData(s,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*nc(e[i]/255)):nc(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}class fu{constructor(t=null){this.uuid=Ns(),this.data=t,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},s=this.data;if(null!==s){let r;if(Array.isArray(s)){r=[];for(let o=0,a=s.length;o<a;o++)r.push(JM(s[o].isDataTexture?s[o].image:s[o]))}else r=JM(s);i.url=r}return e||(t.images[this.uuid]=i),i}}function JM(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?ic.getDataURL(n):n.data?{data:Array.prototype.slice.call(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}fu.prototype.isSource=!0;let Dte=0,Ji=(()=>{class n extends Ya{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,s=ms,r=ms,o=Mn,a=qa,l=or,c=Ql,d=1,u=Vr){super(),Object.defineProperty(this,"id",{value:Dte++}),this.uuid=Ns(),this.name="",this.source=new fu(e),this.mipmaps=[],this.mapping=i,this.wrapS=s,this.wrapT=r,this.magFilter=o,this.minFilter=a,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=c,this.offset=new ee(0,0),this.repeat=new ee(1,1),this.center=new ee(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ni,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=u,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),i||(e.textures[this.uuid]=s),s}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Kl:e.x=e.x-Math.floor(e.x);break;case ms:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Kl:e.y=e.y-Math.floor(e.y);break;case ms:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n})();Ji.prototype.isTexture=!0;class dn{constructor(t=0,e=0,i=0,s=1){this.x=t,this.y=e,this.z=i,this.w=s}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,s){return this.x=t,this.y=e,this.z=i,this.w=s,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*s+o[12]*r,this.y=o[1]*e+o[5]*i+o[9]*s+o[13]*r,this.z=o[2]*e+o[6]*i+o[10]*s+o[14]*r,this.w=o[3]*e+o[7]*i+o[11]*s+o[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,s,r;const o=.01,a=.1,l=t.elements,c=l[0],d=l[4],u=l[8],h=l[1],f=l[5],p=l[9],m=l[2],g=l[6],_=l[10];if(Math.abs(d-h)<o&&Math.abs(u-m)<o&&Math.abs(p-g)<o){if(Math.abs(d+h)<a&&Math.abs(u+m)<a&&Math.abs(p+g)<a&&Math.abs(c+f+_-3)<a)return this.set(1,0,0,0),this;e=Math.PI;const v=(c+1)/2,b=(f+1)/2,w=(_+1)/2,C=(d+h)/4,S=(u+m)/4,E=(p+g)/4;return v>b&&v>w?v<o?(i=0,s=.707106781,r=.707106781):(i=Math.sqrt(v),s=C/i,r=S/i):b>w?b<o?(i=.707106781,s=0,r=.707106781):(s=Math.sqrt(b),i=C/s,r=E/s):w<o?(i=.707106781,s=.707106781,r=0):(r=Math.sqrt(w),i=S/r,s=E/r),this.set(i,s,r,e),this}let y=Math.sqrt((g-p)*(g-p)+(u-m)*(u-m)+(h-d)*(h-d));return Math.abs(y)<.001&&(y=1),this.x=(g-p)/y,this.y=(u-m)/y,this.z=(h-d)/y,this.w=Math.acos((c+f+_-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}dn.prototype.isVector4=!0;class Bs extends Ya{constructor(t,e,i={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new dn(0,0,t,e),this.scissorTest=!1,this.viewport=new dn(0,0,t,e),this.texture=new Ji({width:t,height:e,depth:1},i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Mn,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(t,e,i=1){(this.width!==t||this.height!==e||this.depth!==i)&&(this.width=t,this.height=e,this.depth=i,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},t.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}Bs.prototype.isWebGLRenderTarget=!0;class V_ extends Ji{constructor(t=null,e=1,i=1,s=1){super(null),this.image={data:t,width:e,height:i,depth:s},this.magFilter=pi,this.minFilter=pi,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}V_.prototype.isDataArrayTexture=!0,class Ete extends Bs{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new V_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGLArrayRenderTarget=!0;class eC extends Ji{constructor(t=null,e=1,i=1,s=1){super(null),this.image={data:t,width:e,height:i,depth:s},this.magFilter=pi,this.minFilter=pi,this.wrapR=ms,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}eC.prototype.isData3DTexture=!0,class Ate extends Bs{constructor(t,e,i){super(t,e),this.depth=i,this.texture=new eC(null,t,e,i),this.texture.isRenderTargetTexture=!0}}.prototype.isWebGL3DRenderTarget=!0,class Tte extends Bs{constructor(t,e,i,s={}){super(t,e,s);const r=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=r.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let s=0,r=this.texture.length;s<r;s++)this.texture[s].image.width=t,this.texture[s].image.height=e,this.texture[s].image.depth=i;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,i=t.texture.length;e<i;e++)this.texture[e]=t.texture[e].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class Ti{constructor(t=0,e=0,i=0,s=1){this._x=t,this._y=e,this._z=i,this._w=s}static slerp(t,e,i,s){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(t,e,s)}static slerpFlat(t,e,i,s,r,o,a){let l=i[s+0],c=i[s+1],d=i[s+2],u=i[s+3];const h=r[o+0],f=r[o+1],p=r[o+2],m=r[o+3];if(0===a)return t[e+0]=l,t[e+1]=c,t[e+2]=d,void(t[e+3]=u);if(1===a)return t[e+0]=h,t[e+1]=f,t[e+2]=p,void(t[e+3]=m);if(u!==m||l!==h||c!==f||d!==p){let g=1-a;const _=l*h+c*f+d*p+u*m,y=_>=0?1:-1,v=1-_*_;if(v>Number.EPSILON){const w=Math.sqrt(v),C=Math.atan2(w,_*y);g=Math.sin(g*C)/w,a=Math.sin(a*C)/w}const b=a*y;if(l=l*g+h*b,c=c*g+f*b,d=d*g+p*b,u=u*g+m*b,g===1-a){const w=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=w,c*=w,d*=w,u*=w}}t[e]=l,t[e+1]=c,t[e+2]=d,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,s,r,o){const a=i[s],l=i[s+1],c=i[s+2],d=i[s+3],u=r[o],h=r[o+1],f=r[o+2],p=r[o+3];return t[e]=a*p+d*u+l*f-c*h,t[e+1]=l*p+d*h+c*u-a*f,t[e+2]=c*p+d*f+a*h-l*u,t[e+3]=d*p-a*u-l*h-c*f,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,s){return this._x=t,this._y=e,this._z=i,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,s=t._y,r=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),d=a(s/2),u=a(r/2),h=l(i/2),f=l(s/2),p=l(r/2);switch(o){case"XYZ":this._x=h*d*u+c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u-h*f*p;break;case"YXZ":this._x=h*d*u+c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u+h*f*p;break;case"ZXY":this._x=h*d*u-c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u-h*f*p;break;case"ZYX":this._x=h*d*u-c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u+h*f*p;break;case"YZX":this._x=h*d*u+c*f*p,this._y=c*f*u+h*d*p,this._z=c*d*p-h*f*u,this._w=c*d*u-h*f*p;break;case"XZY":this._x=h*d*u-c*f*p,this._y=c*f*u-h*d*p,this._z=c*d*p+h*f*u,this._w=c*d*u+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,s=Math.sin(i);return this._x=t.x*s,this._y=t.y*s,this._z=t.z*s,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],s=e[4],r=e[8],o=e[1],a=e[5],l=e[9],c=e[2],d=e[6],u=e[10],h=i+a+u;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(d-l)*f,this._y=(r-c)*f,this._z=(o-s)*f}else if(i>a&&i>u){const f=2*Math.sqrt(1+i-a-u);this._w=(d-l)/f,this._x=.25*f,this._y=(s+o)/f,this._z=(r+c)/f}else if(a>u){const f=2*Math.sqrt(1+a-i-u);this._w=(r-c)/f,this._x=(s+o)/f,this._y=.25*f,this._z=(l+d)/f}else{const f=2*Math.sqrt(1+u-i-a);this._w=(o-s)/f,this._x=(r+c)/f,this._y=(l+d)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(ii(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const s=Math.min(1,e/i);return this.slerp(t,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,s=t._y,r=t._z,o=t._w,a=e._x,l=e._y,c=e._z,d=e._w;return this._x=i*d+o*a+s*c-r*l,this._y=s*d+o*l+r*a-i*c,this._z=r*d+o*c+i*l-s*a,this._w=o*d-i*a-s*l-r*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,s=this._y,r=this._z,o=this._w;let a=o*t._w+i*t._x+s*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=s,this._z=r,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-e;return this._w=f*o+e*this._w,this._x=f*i+e*this._x,this._y=f*s+e*this._y,this._z=f*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-e)*d)/c,h=Math.sin(e*d)/c;return this._w=o*u+this._w*h,this._x=i*u+this._x*h,this._y=s*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=Math.random(),e=Math.sqrt(1-t),i=Math.sqrt(t),s=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(e*Math.cos(s),i*Math.sin(r),i*Math.cos(r),e*Math.sin(s))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}Ti.prototype.isQuaternion=!0;class D{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(hN.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(hN.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*s,this.y=r[1]*e+r[4]*i+r[7]*s,this.z=r[2]*e+r[5]*i+r[8]*s,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,s=this.z,r=t.elements,o=1/(r[3]*e+r[7]*i+r[11]*s+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*s+r[12])*o,this.y=(r[1]*e+r[5]*i+r[9]*s+r[13])*o,this.z=(r[2]*e+r[6]*i+r[10]*s+r[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,s=this.z,r=t.x,o=t.y,a=t.z,l=t.w,c=l*e+o*s-a*i,d=l*i+a*e-r*s,u=l*s+r*i-o*e,h=-r*e-o*i-a*s;return this.x=c*l+h*-r+d*-a-u*-o,this.y=d*l+h*-o+u*-r-c*-a,this.z=u*l+h*-a+c*-o-d*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,s=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*s,this.y=r[1]*e+r[5]*i+r[9]*s,this.z=r[2]*e+r[6]*i+r[10]*s,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,s=t.y,r=t.z,o=e.x,a=e.y,l=e.z;return this.x=s*l-r*a,this.y=r*o-i*l,this.z=i*a-s*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return tC.copy(this).projectOnVector(t),this.sub(tC)}reflect(t){return this.sub(tC.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(ii(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,s=this.z-t.z;return e*e+i*i+s*s}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const s=Math.sin(e)*t;return this.x=s*Math.sin(i),this.y=Math.cos(e)*t,this.z=s*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),s=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=s,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=2*(Math.random()-.5),e=Math.random()*Math.PI*2,i=Math.sqrt(1-t**2);return this.x=i*Math.cos(e),this.y=i*Math.sin(e),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}D.prototype.isVector3=!0;const tC=new D,hN=new Ti;class Vs{constructor(t=new D(1/0,1/0,1/0),e=new D(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,i=1/0,s=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.length;l<c;l+=3){const d=t[l],u=t[l+1],h=t[l+2];d<e&&(e=d),u<i&&(i=u),h<s&&(s=h),d>r&&(r=d),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,i,s),this.max.set(r,o,a),this}setFromBufferAttribute(t){let e=1/0,i=1/0,s=1/0,r=-1/0,o=-1/0,a=-1/0;for(let l=0,c=t.count;l<c;l++){const d=t.getX(l),u=t.getY(l),h=t.getZ(l);d<e&&(e=d),u<i&&(i=u),h<s&&(s=h),d>r&&(r=d),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,i,s),this.max.set(r,o,a),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=sc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i)if(e&&null!=i.attributes&&void 0!==i.attributes.position){const r=i.attributes.position;for(let o=0,a=r.count;o<a;o++)sc.fromBufferAttribute(r,o).applyMatrix4(t.matrixWorld),this.expandByPoint(sc)}else null===i.boundingBox&&i.computeBoundingBox(),nC.copy(i.boundingBox),nC.applyMatrix4(t.matrixWorld),this.union(nC);const s=t.children;for(let r=0,o=s.length;r<o;r++)this.expandByObject(s[r],e);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,sc),sc.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter($f),H_.subVectors(this.max,$f),pu.subVectors(t.a,$f),mu.subVectors(t.b,$f),gu.subVectors(t.c,$f),Xa.subVectors(mu,pu),Ka.subVectors(gu,mu),rc.subVectors(pu,gu);let e=[0,-Xa.z,Xa.y,0,-Ka.z,Ka.y,0,-rc.z,rc.y,Xa.z,0,-Xa.x,Ka.z,0,-Ka.x,rc.z,0,-rc.x,-Xa.y,Xa.x,0,-Ka.y,Ka.x,0,-rc.y,rc.x,0];return!(!iC(e,pu,mu,gu,H_)||(e=[1,0,0,0,1,0,0,0,1],!iC(e,pu,mu,gu,H_)))&&(z_.crossVectors(Xa,Ka),e=[z_.x,z_.y,z_.z],iC(e,pu,mu,gu,H_))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return sc.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(sc).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Jo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Jo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Jo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Jo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Jo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Jo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Jo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Jo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Jo)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}Vs.prototype.isBox3=!0;const Jo=[new D,new D,new D,new D,new D,new D,new D,new D],sc=new D,nC=new Vs,pu=new D,mu=new D,gu=new D,Xa=new D,Ka=new D,rc=new D,$f=new D,H_=new D,z_=new D,oc=new D;function iC(n,t,e,i,s){for(let r=0,o=n.length-3;r<=o;r+=3){oc.fromArray(n,r);const a=s.x*Math.abs(oc.x)+s.y*Math.abs(oc.y)+s.z*Math.abs(oc.z),l=t.dot(oc),c=e.dot(oc),d=i.dot(oc);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const Rte=new Vs,fN=new D,U_=new D,sC=new D;class Qa{constructor(t=new D,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):Rte.setFromPoints(t).getCenter(i);let s=0;for(let r=0,o=t.length;r<o;r++)s=Math.max(s,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(s),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){sC.subVectors(t,this.center);const e=sC.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),s=.5*(i-this.radius);this.center.add(sC.multiplyScalar(s/i)),this.radius+=s}return this}union(t){return!0===this.center.equals(t.center)?U_.set(0,0,1).multiplyScalar(t.radius):U_.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(fN.copy(t.center).add(U_)),this.expandByPoint(fN.copy(t.center).sub(U_)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const ea=new D,rC=new D,G_=new D,Za=new D,oC=new D,j_=new D,aC=new D;class ac{constructor(t=new D,e=new D(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,ea)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=ea.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(ea.copy(this.direction).multiplyScalar(e).add(this.origin),ea.distanceToSquared(t))}distanceSqToSegment(t,e,i,s){rC.copy(t).add(e).multiplyScalar(.5),G_.copy(e).sub(t).normalize(),Za.copy(this.origin).sub(rC);const r=.5*t.distanceTo(e),o=-this.direction.dot(G_),a=Za.dot(this.direction),l=-Za.dot(G_),c=Za.lengthSq(),d=Math.abs(1-o*o);let u,h,f,p;if(d>0)if(u=o*l-a,h=o*a-l,p=r*d,u>=0)if(h>=-p)if(h<=p){const m=1/d;u*=m,h*=m,f=u*(u+o*h+2*a)+h*(o*u+h+2*l)+c}else h=r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;else h=-r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;else h<=-p?(u=Math.max(0,-(-o*r+a)),h=u>0?-r:Math.min(Math.max(-r,-l),r),f=-u*u+h*(h+2*l)+c):h<=p?(u=0,h=Math.min(Math.max(-r,-l),r),f=h*(h+2*l)+c):(u=Math.max(0,-(o*r+a)),h=u>0?r:Math.min(Math.max(-r,-l),r),f=-u*u+h*(h+2*l)+c);else h=o>0?-r:r,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*l)+c;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),s&&s.copy(G_).multiplyScalar(h).add(rC),f}intersectSphere(t,e){ea.subVectors(t.center,this.origin);const i=ea.dot(this.direction),s=ea.dot(ea)-i*i,r=t.radius*t.radius;if(s>r)return null;const o=Math.sqrt(r-s),a=i-o,l=i+o;return a<0&&l<0?null:this.at(a<0?l:a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,s,r,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,h=this.origin;return c>=0?(i=(t.min.x-h.x)*c,s=(t.max.x-h.x)*c):(i=(t.max.x-h.x)*c,s=(t.min.x-h.x)*c),d>=0?(r=(t.min.y-h.y)*d,o=(t.max.y-h.y)*d):(r=(t.max.y-h.y)*d,o=(t.min.y-h.y)*d),i>o||r>s||((r>i||i!=i)&&(i=r),(o<s||s!=s)&&(s=o),u>=0?(a=(t.min.z-h.z)*u,l=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,l=(t.min.z-h.z)*u),i>l||a>s)||((a>i||i!=i)&&(i=a),(l<s||s!=s)&&(s=l),s<0)?null:this.at(i>=0?i:s,e)}intersectsBox(t){return null!==this.intersectBox(t,ea)}intersectTriangle(t,e,i,s,r){oC.subVectors(e,t),j_.subVectors(i,t),aC.crossVectors(oC,j_);let a,o=this.direction.dot(aC);if(o>0){if(s)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Za.subVectors(this.origin,t);const l=a*this.direction.dot(j_.crossVectors(Za,j_));if(l<0)return null;const c=a*this.direction.dot(oC.cross(Za));if(c<0||l+c>o)return null;const d=-a*Za.dot(aC);return d<0?null:this.at(d/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class je{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,s,r,o,a,l,c,d,u,h,f,p,m,g){const _=this.elements;return _[0]=t,_[4]=e,_[8]=i,_[12]=s,_[1]=r,_[5]=o,_[9]=a,_[13]=l,_[2]=c,_[6]=d,_[10]=u,_[14]=h,_[3]=f,_[7]=p,_[11]=m,_[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new je).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,s=1/_u.setFromMatrixColumn(t,0).length(),r=1/_u.setFromMatrixColumn(t,1).length(),o=1/_u.setFromMatrixColumn(t,2).length();return e[0]=i[0]*s,e[1]=i[1]*s,e[2]=i[2]*s,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,s=t.y,r=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(s),c=Math.sin(s),d=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const h=o*d,f=o*u,p=a*d,m=a*u;e[0]=l*d,e[4]=-l*u,e[8]=c,e[1]=f+p*c,e[5]=h-m*c,e[9]=-a*l,e[2]=m-h*c,e[6]=p+f*c,e[10]=o*l}else if("YXZ"===t.order){const h=l*d,f=l*u,p=c*d,m=c*u;e[0]=h+m*a,e[4]=p*a-f,e[8]=o*c,e[1]=o*u,e[5]=o*d,e[9]=-a,e[2]=f*a-p,e[6]=m+h*a,e[10]=o*l}else if("ZXY"===t.order){const h=l*d,f=l*u,p=c*d,m=c*u;e[0]=h-m*a,e[4]=-o*u,e[8]=p+f*a,e[1]=f+p*a,e[5]=o*d,e[9]=m-h*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if("ZYX"===t.order){const h=o*d,f=o*u,p=a*d,m=a*u;e[0]=l*d,e[4]=p*c-f,e[8]=h*c+m,e[1]=l*u,e[5]=m*c+h,e[9]=f*c-p,e[2]=-c,e[6]=a*l,e[10]=o*l}else if("YZX"===t.order){const h=o*l,f=o*c,p=a*l,m=a*c;e[0]=l*d,e[4]=m-h*u,e[8]=p*u+f,e[1]=u,e[5]=o*d,e[9]=-a*d,e[2]=-c*d,e[6]=f*u+p,e[10]=h-m*u}else if("XZY"===t.order){const h=o*l,f=o*c,p=a*l,m=a*c;e[0]=l*d,e[4]=-u,e[8]=c*d,e[1]=h*u+m,e[5]=o*d,e[9]=f*u-p,e[2]=p*u-f,e[6]=a*d,e[10]=m*u+h}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(kte,t,Ite)}lookAt(t,e,i){const s=this.elements;return Hs.subVectors(t,e),0===Hs.lengthSq()&&(Hs.z=1),Hs.normalize(),Ja.crossVectors(i,Hs),0===Ja.lengthSq()&&(1===Math.abs(i.z)?Hs.x+=1e-4:Hs.z+=1e-4,Hs.normalize(),Ja.crossVectors(i,Hs)),Ja.normalize(),W_.crossVectors(Hs,Ja),s[0]=Ja.x,s[4]=W_.x,s[8]=Hs.x,s[1]=Ja.y,s[5]=W_.y,s[9]=Hs.y,s[2]=Ja.z,s[6]=W_.z,s[10]=Hs.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,s=e.elements,r=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],d=i[1],u=i[5],h=i[9],f=i[13],p=i[2],m=i[6],g=i[10],_=i[14],y=i[3],v=i[7],b=i[11],w=i[15],C=s[0],S=s[4],E=s[8],I=s[12],L=s[1],M=s[5],T=s[9],W=s[13],V=s[2],H=s[6],O=s[10],B=s[14],F=s[3],$=s[7],Q=s[11],le=s[15];return r[0]=o*C+a*L+l*V+c*F,r[4]=o*S+a*M+l*H+c*$,r[8]=o*E+a*T+l*O+c*Q,r[12]=o*I+a*W+l*B+c*le,r[1]=d*C+u*L+h*V+f*F,r[5]=d*S+u*M+h*H+f*$,r[9]=d*E+u*T+h*O+f*Q,r[13]=d*I+u*W+h*B+f*le,r[2]=p*C+m*L+g*V+_*F,r[6]=p*S+m*M+g*H+_*$,r[10]=p*E+m*T+g*O+_*Q,r[14]=p*I+m*W+g*B+_*le,r[3]=y*C+v*L+b*V+w*F,r[7]=y*S+v*M+b*H+w*$,r[11]=y*E+v*T+b*O+w*Q,r[15]=y*I+v*W+b*B+w*le,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],s=t[8],r=t[12],o=t[1],a=t[5],l=t[9],c=t[13],d=t[2],u=t[6],h=t[10],f=t[14];return t[3]*(+r*l*u-s*c*u-r*a*h+i*c*h+s*a*f-i*l*f)+t[7]*(+e*l*f-e*c*h+r*o*h-s*o*f+s*c*d-r*l*d)+t[11]*(+e*c*u-e*a*f-r*o*u+i*o*f+r*a*d-i*c*d)+t[15]*(-s*a*d-e*l*u+e*a*h+s*o*u-i*o*h+i*l*d)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const s=this.elements;return t.isVector3?(s[12]=t.x,s[13]=t.y,s[14]=t.z):(s[12]=t,s[13]=e,s[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],s=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],h=t[10],f=t[11],p=t[12],m=t[13],g=t[14],_=t[15],y=u*g*c-m*h*c+m*l*f-a*g*f-u*l*_+a*h*_,v=p*h*c-d*g*c-p*l*f+o*g*f+d*l*_-o*h*_,b=d*m*c-p*u*c+p*a*f-o*m*f-d*a*_+o*u*_,w=p*u*l-d*m*l-p*a*h+o*m*h+d*a*g-o*u*g,C=e*y+i*v+s*b+r*w;if(0===C)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/C;return t[0]=y*S,t[1]=(m*h*r-u*g*r-m*s*f+i*g*f+u*s*_-i*h*_)*S,t[2]=(a*g*r-m*l*r+m*s*c-i*g*c-a*s*_+i*l*_)*S,t[3]=(u*l*r-a*h*r-u*s*c+i*h*c+a*s*f-i*l*f)*S,t[4]=v*S,t[5]=(d*g*r-p*h*r+p*s*f-e*g*f-d*s*_+e*h*_)*S,t[6]=(p*l*r-o*g*r-p*s*c+e*g*c+o*s*_-e*l*_)*S,t[7]=(o*h*r-d*l*r+d*s*c-e*h*c-o*s*f+e*l*f)*S,t[8]=b*S,t[9]=(p*u*r-d*m*r-p*i*f+e*m*f+d*i*_-e*u*_)*S,t[10]=(o*m*r-p*a*r+p*i*c-e*m*c-o*i*_+e*a*_)*S,t[11]=(d*a*r-o*u*r-d*i*c+e*u*c+o*i*f-e*a*f)*S,t[12]=w*S,t[13]=(d*m*s-p*u*s+p*i*h-e*m*h-d*i*g+e*u*g)*S,t[14]=(p*a*s-o*m*s-p*i*l+e*m*l+o*i*g-e*a*g)*S,t[15]=(o*u*s-d*a*s+d*i*l-e*u*l-o*i*h+e*a*h)*S,this}scale(t){const e=this.elements,i=t.x,s=t.y,r=t.z;return e[0]*=i,e[4]*=s,e[8]*=r,e[1]*=i,e[5]*=s,e[9]*=r,e[2]*=i,e[6]*=s,e[10]*=r,e[3]*=i,e[7]*=s,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),s=Math.sin(e),r=1-i,o=t.x,a=t.y,l=t.z,c=r*o,d=r*a;return this.set(c*o+i,c*a-s*l,c*l+s*a,0,c*a+s*l,d*a+i,d*l-s*o,0,c*l-s*a,d*l+s*o,r*l*l+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,s,r,o){return this.set(1,i,r,0,t,1,o,0,e,s,1,0,0,0,0,1),this}compose(t,e,i){const s=this.elements,r=e._x,o=e._y,a=e._z,l=e._w,c=r+r,d=o+o,u=a+a,h=r*c,f=r*d,p=r*u,m=o*d,g=o*u,_=a*u,y=l*c,v=l*d,b=l*u,w=i.x,C=i.y,S=i.z;return s[0]=(1-(m+_))*w,s[1]=(f+b)*w,s[2]=(p-v)*w,s[3]=0,s[4]=(f-b)*C,s[5]=(1-(h+_))*C,s[6]=(g+y)*C,s[7]=0,s[8]=(p+v)*S,s[9]=(g-y)*S,s[10]=(1-(h+m))*S,s[11]=0,s[12]=t.x,s[13]=t.y,s[14]=t.z,s[15]=1,this}decompose(t,e,i){const s=this.elements;let r=_u.set(s[0],s[1],s[2]).length();const o=_u.set(s[4],s[5],s[6]).length(),a=_u.set(s[8],s[9],s[10]).length();this.determinant()<0&&(r=-r),t.x=s[12],t.y=s[13],t.z=s[14],Ur.copy(this);const c=1/r,d=1/o,u=1/a;return Ur.elements[0]*=c,Ur.elements[1]*=c,Ur.elements[2]*=c,Ur.elements[4]*=d,Ur.elements[5]*=d,Ur.elements[6]*=d,Ur.elements[8]*=u,Ur.elements[9]*=u,Ur.elements[10]*=u,e.setFromRotationMatrix(Ur),i.x=r,i.y=o,i.z=a,this}makePerspective(t,e,i,s,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,c=2*r/(i-s),d=(e+t)/(e-t),u=(i+s)/(i-s),h=-(o+r)/(o-r),f=-2*o*r/(o-r);return a[0]=2*r/(e-t),a[4]=0,a[8]=d,a[12]=0,a[1]=0,a[5]=c,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,i,s,r,o){const a=this.elements,l=1/(e-t),c=1/(i-s),d=1/(o-r),u=(e+t)*l,h=(i+s)*c,f=(o+r)*d;return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*d,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let s=0;s<16;s++)if(e[s]!==i[s])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}je.prototype.isMatrix4=!0;const _u=new D,Ur=new je,kte=new D(0,0,0),Ite=new D(1,1,1),Ja=new D,W_=new D,Hs=new D,pN=new je,mN=new Ti;class lc{constructor(t=0,e=0,i=0,s=lc.DefaultOrder){this._x=t,this._y=e,this._z=i,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,s=this._order){return this._x=t,this._y=e,this._z=i,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const s=t.elements,r=s[0],o=s[4],a=s[8],l=s[1],c=s[5],d=s[9],u=s[2],h=s[6],f=s[10];switch(e){case"XYZ":this._y=Math.asin(ii(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,f),this._z=Math.atan2(-o,r)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ii(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,r),this._z=0);break;case"ZXY":this._x=Math.asin(ii(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,r));break;case"ZYX":this._y=Math.asin(-ii(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,r)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(ii(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,r)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-ii(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-d,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return pN.makeRotationFromQuaternion(t),this.setFromRotationMatrix(pN,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return mN.setFromEuler(this),this.setFromQuaternion(mN,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}lc.prototype.isEuler=!0,lc.DefaultOrder="XYZ",lc.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class lC{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}isEnabled(t){return 0!=(this.mask&(1<<t|0))}}let Pte=0;const gN=new D,yu=new Ti,ta=new je,$_=new D,qf=new D,Ote=new D,Fte=new Ti,_N=new D(1,0,0),yN=new D(0,1,0),vN=new D(0,0,1),Lte={type:"added"},bN={type:"removed"};class rn extends Ya{constructor(){super(),Object.defineProperty(this,"id",{value:Pte++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=rn.DefaultUp.clone();const t=new D,e=new lc,i=new Ti,s=new D(1,1,1);e._onChange(function r(){i.setFromEuler(e,!1)}),i._onChange(function o(){e.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new je},normalMatrix:{value:new Ni}}),this.matrix=new je,this.matrixWorld=new je,this.matrixAutoUpdate=rn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new lC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return yu.setFromAxisAngle(t,e),this.quaternion.multiply(yu),this}rotateOnWorldAxis(t,e){return yu.setFromAxisAngle(t,e),this.quaternion.premultiply(yu),this}rotateX(t){return this.rotateOnAxis(_N,t)}rotateY(t){return this.rotateOnAxis(yN,t)}rotateZ(t){return this.rotateOnAxis(vN,t)}translateOnAxis(t,e){return gN.copy(t).applyQuaternion(this.quaternion),this.position.add(gN.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(_N,t)}translateY(t){return this.translateOnAxis(yN,t)}translateZ(t){return this.translateOnAxis(vN,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(ta.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?$_.copy(t):$_.set(t,e,i);const s=this.parent;this.updateWorldMatrix(!0,!1),qf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ta.lookAt(qf,$_,this.up):ta.lookAt($_,qf,this.up),this.quaternion.setFromRotationMatrix(ta),s&&(ta.extractRotation(s.matrixWorld),yu.setFromRotationMatrix(ta),this.quaternion.premultiply(yu.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Lte)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(bN)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(bN)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),ta.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ta.multiply(t.parent.matrixWorld)),t.applyMatrix4(ta),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectByProperty(t,e);if(void 0!==o)return o}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qf,t,Ote),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(qf,Fte,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,s=e.length;i<s;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const s=this.children;for(let r=0,o=s.length;r<o;r++)s[r].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const s={};function r(a,l){return void 0===a[l.uuid]&&(a[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=r(t.geometries,this.geometry);const a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++)r(t.shapes,l[c]);else r(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(r(t.materials,this.material[l]));s.material=a}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(let a=0;a<this.children.length;a++)s.children.push(this.children[a].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let a=0;a<this.animations.length;a++)s.animations.push(r(t.animations,this.animations[a]))}if(e){const a=o(t.geometries),l=o(t.materials),c=o(t.textures),d=o(t.images),u=o(t.shapes),h=o(t.skeletons),f=o(t.animations),p=o(t.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),d.length>0&&(i.images=d),u.length>0&&(i.shapes=u),h.length>0&&(i.skeletons=h),f.length>0&&(i.animations=f),p.length>0&&(i.nodes=p)}return i.object=s,i;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let i=0;i<t.children.length;i++)this.add(t.children[i].clone());return this}}rn.DefaultUp=new D(0,1,0),rn.DefaultMatrixAutoUpdate=!0,rn.prototype.isObject3D=!0;const Gr=new D,na=new D,cC=new D,ia=new D,vu=new D,bu=new D,xN=new D,dC=new D,uC=new D,hC=new D;class mi{constructor(t=new D,e=new D,i=new D){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,s){s.subVectors(i,e),Gr.subVectors(t,e),s.cross(Gr);const r=s.lengthSq();return r>0?s.multiplyScalar(1/Math.sqrt(r)):s.set(0,0,0)}static getBarycoord(t,e,i,s,r){Gr.subVectors(s,e),na.subVectors(i,e),cC.subVectors(t,e);const o=Gr.dot(Gr),a=Gr.dot(na),l=Gr.dot(cC),c=na.dot(na),d=na.dot(cC),u=o*c-a*a;if(0===u)return r.set(-2,-1,-1);const h=1/u,f=(c*l-a*d)*h,p=(o*d-a*l)*h;return r.set(1-f-p,p,f)}static containsPoint(t,e,i,s){return this.getBarycoord(t,e,i,s,ia),ia.x>=0&&ia.y>=0&&ia.x+ia.y<=1}static getUV(t,e,i,s,r,o,a,l){return this.getBarycoord(t,e,i,s,ia),l.set(0,0),l.addScaledVector(r,ia.x),l.addScaledVector(o,ia.y),l.addScaledVector(a,ia.z),l}static isFrontFacing(t,e,i,s){return Gr.subVectors(i,e),na.subVectors(t,e),Gr.cross(na).dot(s)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,s){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[s]),this}setFromAttributeAndIndices(t,e,i,s){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,s),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Gr.subVectors(this.c,this.b),na.subVectors(this.a,this.b),.5*Gr.cross(na).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return mi.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return mi.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,s,r){return mi.getUV(t,this.a,this.b,this.c,e,i,s,r)}containsPoint(t){return mi.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return mi.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,s=this.b,r=this.c;let o,a;vu.subVectors(s,i),bu.subVectors(r,i),dC.subVectors(t,i);const l=vu.dot(dC),c=bu.dot(dC);if(l<=0&&c<=0)return e.copy(i);uC.subVectors(t,s);const d=vu.dot(uC),u=bu.dot(uC);if(d>=0&&u<=d)return e.copy(s);const h=l*u-d*c;if(h<=0&&l>=0&&d<=0)return o=l/(l-d),e.copy(i).addScaledVector(vu,o);hC.subVectors(t,r);const f=vu.dot(hC),p=bu.dot(hC);if(p>=0&&f<=p)return e.copy(r);const m=f*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),e.copy(i).addScaledVector(bu,a);const g=d*p-f*u;if(g<=0&&u-d>=0&&f-p>=0)return xN.subVectors(r,s),a=(u-d)/(u-d+(f-p)),e.copy(s).addScaledVector(xN,a);const _=1/(g+m+h);return o=m*_,a=h*_,e.copy(i).addScaledVector(vu,o).addScaledVector(bu,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let Nte=0;class zn extends Ya{constructor(){super(),Object.defineProperty(this,"id",{value:Nte++}),this.uuid=Ns(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;continue}const s=this[e];void 0!==s?s&&s.isColor?s.set(i):s&&s.isVector3&&i&&i.isVector3?s.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(r){const o=[];for(const a in r){const l=r[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){const r=s(t.textures),o=s(t.images);r.length>0&&(i.textures=r),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const s=e.length;i=new Array(s);for(let r=0;r!==s;++r)i[r]=e[r].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}zn.prototype.isMaterial=!0,zn.fromType=function(){return null};class zs extends zn{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}zs.prototype.isMeshBasicMaterial=!0;const gi=new D,q_=new ee;class gn{constructor(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.usage=zf,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let s=0,r=this.itemSize;s<r;s++)this.array[t+s]=e.array[i+s];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let o=t[s];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),o=new ve),e[i++]=o.r,e[i++]=o.g,e[i++]=o.b}return this}copyVector2sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let o=t[s];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),o=new ee),e[i++]=o.x,e[i++]=o.y}return this}copyVector3sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let o=t[s];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),o=new D),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z}return this}copyVector4sArray(t){const e=this.array;let i=0;for(let s=0,r=t.length;s<r;s++){let o=t[s];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),o=new dn),e[i++]=o.x,e[i++]=o.y,e[i++]=o.z,e[i++]=o.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)q_.fromBufferAttribute(this,e),q_.applyMatrix3(t),this.setXY(e,q_.x,q_.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)gi.fromBufferAttribute(this,e),gi.applyMatrix3(t),this.setXYZ(e,gi.x,gi.y,gi.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)gi.fromBufferAttribute(this,e),gi.applyMatrix4(t),this.setXYZ(e,gi.x,gi.y,gi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)gi.fromBufferAttribute(this,e),gi.applyNormalMatrix(t),this.setXYZ(e,gi.x,gi.y,gi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)gi.fromBufferAttribute(this,e),gi.transformDirection(t),this.setXYZ(e,gi.x,gi.y,gi.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this}setXYZ(t,e,i,s){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this.array[t+2]=s,this}setXYZW(t,e,i,s,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=i,this.array[t+2]=s,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==zf&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}gn.prototype.isBufferAttribute=!0;class wN extends gn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class MN extends gn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}(class Bte extends gn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}).prototype.isFloat16BufferAttribute=!0;class We extends gn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let Vte=0;const ar=new je,fC=new rn,xu=new D,Us=new Vs,Yf=new Vs,Bi=new D;class ut extends Ya{constructor(){super(),Object.defineProperty(this,"id",{value:Vte++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(dN(t)?MN:wN)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const r=(new Ni).getNormalMatrix(t);i.applyNormalMatrix(r),i.needsUpdate=!0}const s=this.attributes.tangent;return void 0!==s&&(s.transformDirection(t),s.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return ar.makeRotationFromQuaternion(t),this.applyMatrix4(ar),this}rotateX(t){return ar.makeRotationX(t),this.applyMatrix4(ar),this}rotateY(t){return ar.makeRotationY(t),this.applyMatrix4(ar),this}rotateZ(t){return ar.makeRotationZ(t),this.applyMatrix4(ar),this}translate(t,e,i){return ar.makeTranslation(t,e,i),this.applyMatrix4(ar),this}scale(t,e,i){return ar.makeScale(t,e,i),this.applyMatrix4(ar),this}lookAt(t){return fC.lookAt(t),fC.updateMatrix(),this.applyMatrix4(fC.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xu).negate(),this.translate(xu.x,xu.y,xu.z),this}setFromPoints(t){const e=[];for(let i=0,s=t.length;i<s;i++){const r=t[i];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new We(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Vs);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new D(-1/0,-1/0,-1/0),new D(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,s=e.length;i<s;i++)Us.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(Bi.addVectors(this.boundingBox.min,Us.min),this.boundingBox.expandByPoint(Bi),Bi.addVectors(this.boundingBox.max,Us.max),this.boundingBox.expandByPoint(Bi)):(this.boundingBox.expandByPoint(Us.min),this.boundingBox.expandByPoint(Us.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Qa);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new D,1/0);if(t){const i=this.boundingSphere.center;if(Us.setFromBufferAttribute(t),e)for(let r=0,o=e.length;r<o;r++)Yf.setFromBufferAttribute(e[r]),this.morphTargetsRelative?(Bi.addVectors(Us.min,Yf.min),Us.expandByPoint(Bi),Bi.addVectors(Us.max,Yf.max),Us.expandByPoint(Bi)):(Us.expandByPoint(Yf.min),Us.expandByPoint(Yf.max));Us.getCenter(i);let s=0;for(let r=0,o=t.count;r<o;r++)Bi.fromBufferAttribute(t,r),s=Math.max(s,i.distanceToSquared(Bi));if(e)for(let r=0,o=e.length;r<o;r++){const a=e[r],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)Bi.fromBufferAttribute(a,c),l&&(xu.fromBufferAttribute(t,c),Bi.add(xu)),s=Math.max(s,i.distanceToSquared(Bi))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,s=e.position.array,r=e.normal.array,o=e.uv.array,a=s.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new gn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],d=[];for(let L=0;L<a;L++)c[L]=new D,d[L]=new D;const u=new D,h=new D,f=new D,p=new ee,m=new ee,g=new ee,_=new D,y=new D;function v(L,M,T){u.fromArray(s,3*L),h.fromArray(s,3*M),f.fromArray(s,3*T),p.fromArray(o,2*L),m.fromArray(o,2*M),g.fromArray(o,2*T),h.sub(u),f.sub(u),m.sub(p),g.sub(p);const W=1/(m.x*g.y-g.x*m.y);!isFinite(W)||(_.copy(h).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(W),y.copy(f).multiplyScalar(m.x).addScaledVector(h,-g.x).multiplyScalar(W),c[L].add(_),c[M].add(_),c[T].add(_),d[L].add(y),d[M].add(y),d[T].add(y))}let b=this.groups;0===b.length&&(b=[{start:0,count:i.length}]);for(let L=0,M=b.length;L<M;++L){const T=b[L],W=T.start;for(let H=W,O=W+T.count;H<O;H+=3)v(i[H+0],i[H+1],i[H+2])}const w=new D,C=new D,S=new D,E=new D;function I(L){S.fromArray(r,3*L),E.copy(S);const M=c[L];w.copy(M),w.sub(S.multiplyScalar(S.dot(M))).normalize(),C.crossVectors(E,M);const W=C.dot(d[L])<0?-1:1;l[4*L]=w.x,l[4*L+1]=w.y,l[4*L+2]=w.z,l[4*L+3]=W}for(let L=0,M=b.length;L<M;++L){const T=b[L],W=T.start;for(let H=W,O=W+T.count;H<O;H+=3)I(i[H+0]),I(i[H+1]),I(i[H+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new gn(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const s=new D,r=new D,o=new D,a=new D,l=new D,c=new D,d=new D,u=new D;if(t)for(let h=0,f=t.count;h<f;h+=3){const p=t.getX(h+0),m=t.getX(h+1),g=t.getX(h+2);s.fromBufferAttribute(e,p),r.fromBufferAttribute(e,m),o.fromBufferAttribute(e,g),d.subVectors(o,r),u.subVectors(s,r),d.cross(u),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,g),a.add(d),l.add(d),c.add(d),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=e.count;h<f;h+=3)s.fromBufferAttribute(e,h+0),r.fromBufferAttribute(e,h+1),o.fromBufferAttribute(e,h+2),d.subVectors(o,r),u.subVectors(s,r),d.cross(u),i.setXYZ(h+0,d.x,d.y,d.z),i.setXYZ(h+1,d.x,d.y,d.z),i.setXYZ(h+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const s in i){if(void 0===t.attributes[s])continue;const o=i[s].array,a=t.attributes[s],l=a.array,c=a.itemSize*e,d=Math.min(l.length,o.length-c);for(let u=0,h=c;u<d;u++,h++)o[h]=l[u]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Bi.fromBufferAttribute(t,e),Bi.normalize(),t.setXYZ(e,Bi.x,Bi.y,Bi.z)}toNonIndexed(){function t(a,l){const c=a.array,d=a.itemSize,u=a.normalized,h=new c.constructor(l.length*d);let f=0,p=0;for(let m=0,g=l.length;m<g;m++){f=a.isInterleavedBufferAttribute?l[m]*a.data.stride+a.offset:l[m]*d;for(let _=0;_<d;_++)h[p++]=c[f++]}return new gn(h,d,u)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new ut,i=this.index.array,s=this.attributes;for(const a in s){const c=t(s[a],i);e.setAttribute(a,c)}const r=this.morphAttributes;for(const a in r){const l=[],c=r[a];for(let d=0,u=c.length;d<u;d++){const f=t(c[d],i);l.push(f)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const l in i)t.data.attributes[l]=i[l].toJSON(t.data);const s={};let r=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,h=c.length;u<h;u++)d.push(c[u].toJSON(t.data));d.length>0&&(s[l]=d,r=!0)}r&&(t.data.morphAttributes=s,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const s=t.attributes;for(const c in s)this.setAttribute(c,s[c].clone(e));const r=t.morphAttributes;for(const c in r){const d=[],u=r[c];for(let h=0,f=u.length;h<f;h++)d.push(u[h].clone(e));this.morphAttributes[c]=d}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,void 0!==t.parameters&&(this.parameters=Object.assign({},t.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}ut.prototype.isBufferGeometry=!0;const CN=new je,wu=new ac,pC=new Qa,el=new D,tl=new D,nl=new D,mC=new D,gC=new D,_C=new D,Y_=new D,X_=new D,K_=new D,Q_=new ee,Z_=new ee,J_=new ee,yC=new D,ey=new D;class Ri extends rn{constructor(t=new ut,e=new zs){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const i=this.geometry,s=this.material,r=this.matrixWorld;if(void 0===s||(null===i.boundingSphere&&i.computeBoundingSphere(),pC.copy(i.boundingSphere),pC.applyMatrix4(r),!1===t.ray.intersectsSphere(pC))||(CN.copy(r).invert(),wu.copy(t.ray).applyMatrix4(CN),null!==i.boundingBox&&!1===wu.intersectsBox(i.boundingBox)))return;let o;if(i.isBufferGeometry){const a=i.index,l=i.attributes.position,c=i.morphAttributes.position,d=i.morphTargetsRelative,u=i.attributes.uv,h=i.attributes.uv2,f=i.groups,p=i.drawRange;if(null!==a)if(Array.isArray(s))for(let m=0,g=f.length;m<g;m++){const _=f[m],y=s[_.materialIndex];for(let w=Math.max(_.start,p.start),C=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));w<C;w+=3){const S=a.getX(w),E=a.getX(w+1),I=a.getX(w+2);o=ty(this,y,t,wu,l,c,d,u,h,S,E,I),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=_.materialIndex,e.push(o))}}else for(let _=Math.max(0,p.start),y=Math.min(a.count,p.start+p.count);_<y;_+=3){const v=a.getX(_),b=a.getX(_+1),w=a.getX(_+2);o=ty(this,s,t,wu,l,c,d,u,h,v,b,w),o&&(o.faceIndex=Math.floor(_/3),e.push(o))}else if(void 0!==l)if(Array.isArray(s))for(let m=0,g=f.length;m<g;m++){const _=f[m],y=s[_.materialIndex];for(let w=Math.max(_.start,p.start),C=Math.min(l.count,Math.min(_.start+_.count,p.start+p.count));w<C;w+=3)o=ty(this,y,t,wu,l,c,d,u,h,w,w+1,w+2),o&&(o.faceIndex=Math.floor(w/3),o.face.materialIndex=_.materialIndex,e.push(o))}else for(let _=Math.max(0,p.start),y=Math.min(l.count,p.start+p.count);_<y;_+=3)o=ty(this,s,t,wu,l,c,d,u,h,_,_+1,_+2),o&&(o.faceIndex=Math.floor(_/3),e.push(o))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function ty(n,t,e,i,s,r,o,a,l,c,d,u){el.fromBufferAttribute(s,c),tl.fromBufferAttribute(s,d),nl.fromBufferAttribute(s,u);const h=n.morphTargetInfluences;if(r&&h){Y_.set(0,0,0),X_.set(0,0,0),K_.set(0,0,0);for(let p=0,m=r.length;p<m;p++){const g=h[p],_=r[p];0!==g&&(mC.fromBufferAttribute(_,c),gC.fromBufferAttribute(_,d),_C.fromBufferAttribute(_,u),o?(Y_.addScaledVector(mC,g),X_.addScaledVector(gC,g),K_.addScaledVector(_C,g)):(Y_.addScaledVector(mC.sub(el),g),X_.addScaledVector(gC.sub(tl),g),K_.addScaledVector(_C.sub(nl),g)))}el.add(Y_),tl.add(X_),nl.add(K_)}n.isSkinnedMesh&&(n.boneTransform(c,el),n.boneTransform(d,tl),n.boneTransform(u,nl));const f=function Hte(n,t,e,i,s,r,o,a){let l;if(l=1===t.side?i.intersectTriangle(o,r,s,!0,a):i.intersectTriangle(s,r,o,2!==t.side,a),null===l)return null;ey.copy(a),ey.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(ey);return c<e.near||c>e.far?null:{distance:c,point:ey.clone(),object:n}}(n,t,e,i,el,tl,nl,yC);if(f){a&&(Q_.fromBufferAttribute(a,c),Z_.fromBufferAttribute(a,d),J_.fromBufferAttribute(a,u),f.uv=mi.getUV(yC,el,tl,nl,Q_,Z_,J_,new ee)),l&&(Q_.fromBufferAttribute(l,c),Z_.fromBufferAttribute(l,d),J_.fromBufferAttribute(l,u),f.uv2=mi.getUV(yC,el,tl,nl,Q_,Z_,J_,new ee));const p={a:c,b:d,c:u,normal:new D,materialIndex:0};mi.getNormal(el,tl,nl,p.normal),f.face=p}return f}Ri.prototype.isMesh=!0;class cc extends ut{constructor(t=1,e=1,i=1,s=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:s,heightSegments:r,depthSegments:o};const a=this;s=Math.floor(s),r=Math.floor(r),o=Math.floor(o);const l=[],c=[],d=[],u=[];let h=0,f=0;function p(m,g,_,y,v,b,w,C,S,E,I){const L=b/S,M=w/E,T=b/2,W=w/2,V=C/2,H=S+1,O=E+1;let B=0,F=0;const $=new D;for(let Q=0;Q<O;Q++){const le=Q*M-W;for(let te=0;te<H;te++)$[m]=(te*L-T)*y,$[g]=le*v,$[_]=V,c.push($.x,$.y,$.z),$[m]=0,$[g]=0,$[_]=C>0?1:-1,d.push($.x,$.y,$.z),u.push(te/S),u.push(1-Q/E),B+=1}for(let Q=0;Q<E;Q++)for(let le=0;le<S;le++){const Le=h+le+H*(Q+1),Ne=h+(le+1)+H*(Q+1),Ke=h+(le+1)+H*Q;l.push(h+le+H*Q,Le,Ke),l.push(Le,Ne,Ke),F+=6}a.addGroup(f,F,I),f+=F,h+=B}p("z","y","x",-1,-1,i,e,t,o,r,0),p("z","y","x",1,-1,i,e,-t,o,r,1),p("x","z","y",1,1,t,i,e,s,o,2),p("x","z","y",1,-1,t,i,-e,s,o,3),p("x","y","z",1,-1,t,e,i,s,r,4),p("x","y","z",-1,-1,t,e,-i,s,r,5),this.setIndex(l),this.setAttribute("position",new We(c,3)),this.setAttribute("normal",new We(d,3)),this.setAttribute("uv",new We(u,2))}static fromJSON(t){return new cc(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Mu(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const s=n[e][i];t[e][i]=s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.clone():Array.isArray(s)?s.slice():s}}return t}function es(n){const t={};for(let e=0;e<n.length;e++){const i=Mu(n[e]);for(const s in i)t[s]=i[s]}return t}const zte={clone:Mu,merge:es};class jr extends zn{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Mu(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;e.uniforms[s]=o&&o.isTexture?{type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const s in this.extensions)!0===this.extensions[s]&&(i[s]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}jr.prototype.isShaderMaterial=!0;class ny extends rn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new je,this.projectionMatrix=new je,this.projectionMatrixInverse=new je}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}ny.prototype.isCamera=!0;class ki extends ny{constructor(t=50,e=1,i=.1,s=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=s,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*Gf*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*tc*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*Gf*Math.atan(Math.tan(.5*tc*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,i,s,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*tc*this.fov)/this.zoom,i=2*e,s=this.aspect*i,r=-.5*s;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;r+=o.offsetX*s/l,e-=o.offsetY*i/c,s*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(r+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+s,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}ki.prototype.isPerspectiveCamera=!0;class vC extends rn{constructor(t,e,i){if(super(),this.type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const s=new ki(90,1,t,e);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new D(1,0,0)),this.add(s);const r=new ki(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new D(-1,0,0)),this.add(r);const o=new ki(90,1,t,e);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new D(0,1,0)),this.add(o);const a=new ki(90,1,t,e);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new D(0,-1,0)),this.add(a);const l=new ki(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new D(0,0,1)),this.add(l);const c=new ki(90,1,t,e);c.layers=this.layers,c.up.set(0,-1,0),c.lookAt(new D(0,0,-1)),this.add(c)}update(t,e){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[s,r,o,a,l,c]=this.children,d=t.getRenderTarget(),u=t.outputEncoding,h=t.toneMapping,f=t.xr.enabled;t.outputEncoding=Vr,t.toneMapping=0,t.xr.enabled=!1;const p=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,s),t.setRenderTarget(i,1),t.render(e,r),t.setRenderTarget(i,2),t.render(e,o),t.setRenderTarget(i,3),t.render(e,a),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=p,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(d),t.outputEncoding=u,t.toneMapping=h,t.xr.enabled=f,i.texture.needsPMREMUpdate=!0}}class Xf extends Ji{constructor(t,e,i,s,r,o,a,l,c,d){super(t=void 0!==t?t:[],e=void 0!==e?e:301,i,s,r,o,a,l,c,d),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}Xf.prototype.isCubeTexture=!0;class SN extends Bs{constructor(t,e={}){super(t,t,e);const i={width:t,height:t,depth:1};this.texture=new Xf([i,i,i,i,i,i],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Mn}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",s=new cc(5,5,5),r=new jr({name:"CubemapFromEquirect",uniforms:Mu(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const o=new Ri(s,r),a=e.minFilter;return e.minFilter===qa&&(e.minFilter=Mn),new vC(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,s){const r=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,s);t.setRenderTarget(r)}}SN.prototype.isWebGLCubeRenderTarget=!0;const bC=new D,jte=new D,Wte=new Ni;class sa{constructor(t=new D(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,s){return this.normal.set(t,e,i),this.constant=s,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const s=bC.subVectors(i,e).cross(jte.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(s,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const i=t.delta(bC),s=this.normal.dot(i);if(0===s)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/s;return r<0||r>1?null:e.copy(i).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||Wte.getNormalMatrix(t),s=this.coplanarPoint(bC).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-s.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}sa.prototype.isPlane=!0;const Du=new Qa,iy=new D;class sy{constructor(t=new sa,e=new sa,i=new sa,s=new sa,r=new sa,o=new sa){this.planes=[t,e,i,s,r,o]}set(t,e,i,s,r,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(s),a[4].copy(r),a[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,i=t.elements,s=i[0],r=i[1],o=i[2],a=i[3],l=i[4],c=i[5],d=i[6],u=i[7],h=i[8],f=i[9],p=i[10],m=i[11],g=i[12],_=i[13],y=i[14],v=i[15];return e[0].setComponents(a-s,u-l,m-h,v-g).normalize(),e[1].setComponents(a+s,u+l,m+h,v+g).normalize(),e[2].setComponents(a+r,u+c,m+f,v+_).normalize(),e[3].setComponents(a-r,u-c,m-f,v-_).normalize(),e[4].setComponents(a-o,u-d,m-p,v-y).normalize(),e[5].setComponents(a+o,u+d,m+p,v+y).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Du.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Du)}intersectsSprite(t){return Du.center.set(0,0,0),Du.radius=.7071067811865476,Du.applyMatrix4(t.matrixWorld),this.intersectsSphere(Du)}intersectsSphere(t){const e=this.planes,i=t.center,s=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<s)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const s=e[i];if(iy.x=s.normal.x>0?t.max.x:t.min.x,iy.y=s.normal.y>0?t.max.y:t.min.y,iy.z=s.normal.z>0?t.max.z:t.min.z,s.distanceToPoint(iy)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function DN(){let n=null,t=!1,e=null,i=null;function s(r,o){e(r,o),i=n.requestAnimationFrame(s)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(s),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(r){e=r},setContext:function(r){n=r}}}function $te(n,t){const e=t.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);d&&(n.deleteBuffer(d.buffer),i.delete(c))},update:function l(c,d){if(c.isGLBufferAttribute){const h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);void 0===u?i.set(c,function s(c,d){const u=c.array,h=c.usage,f=n.createBuffer();let p;if(n.bindBuffer(d,f),n.bufferData(d,u,h),c.onUploadCallback(),u instanceof Float32Array)p=5126;else if(u instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!e)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=5131}else p=5123;else if(u instanceof Int16Array)p=5122;else if(u instanceof Uint32Array)p=5125;else if(u instanceof Int32Array)p=5124;else if(u instanceof Int8Array)p=5120;else if(u instanceof Uint8Array)p=5121;else{if(!(u instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);p=5121}return{buffer:f,type:p,bytesPerElement:u.BYTES_PER_ELEMENT,version:c.version}}(c,d)):u.version<c.version&&(function r(c,d,u){const h=d.array,f=d.updateRange;n.bindBuffer(u,c),-1===f.count?n.bufferSubData(u,0,h):(e?n.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(u,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1)}(u.buffer,c,d),u.version=c.version)}}}class Kf extends ut{constructor(t=1,e=1,i=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:s};const r=t/2,o=e/2,a=Math.floor(i),l=Math.floor(s),c=a+1,d=l+1,u=t/a,h=e/l,f=[],p=[],m=[],g=[];for(let _=0;_<d;_++){const y=_*h-o;for(let v=0;v<c;v++)p.push(v*u-r,-y,0),m.push(0,0,1),g.push(v/a),g.push(1-_/l)}for(let _=0;_<l;_++)for(let y=0;y<a;y++){const b=y+c*(_+1),w=y+1+c*(_+1),C=y+1+c*_;f.push(y+c*_,b,C),f.push(b,w,C)}this.setIndex(f),this.setAttribute("position",new We(p,3)),this.setAttribute("normal",new We(m,3)),this.setAttribute("uv",new We(g,2))}static fromJSON(t){return new Kf(t.width,t.height,t.widthSegments,t.heightSegments)}}const zt={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Te={common:{diffuse:{value:new ve(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ni},uv2Transform:{value:new Ni},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ee(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ve(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ve(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ni}},sprite:{diffuse:{value:new ve(16777215)},opacity:{value:1},center:{value:new ee(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ni}}},mo={basic:{uniforms:es([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.fog]),vertexShader:zt.meshbasic_vert,fragmentShader:zt.meshbasic_frag},lambert:{uniforms:es([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.fog,Te.lights,{emissive:{value:new ve(0)}}]),vertexShader:zt.meshlambert_vert,fragmentShader:zt.meshlambert_frag},phong:{uniforms:es([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new ve(0)},specular:{value:new ve(1118481)},shininess:{value:30}}]),vertexShader:zt.meshphong_vert,fragmentShader:zt.meshphong_frag},standard:{uniforms:es([Te.common,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.roughnessmap,Te.metalnessmap,Te.fog,Te.lights,{emissive:{value:new ve(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag},toon:{uniforms:es([Te.common,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.gradientmap,Te.fog,Te.lights,{emissive:{value:new ve(0)}}]),vertexShader:zt.meshtoon_vert,fragmentShader:zt.meshtoon_frag},matcap:{uniforms:es([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,{matcap:{value:null}}]),vertexShader:zt.meshmatcap_vert,fragmentShader:zt.meshmatcap_frag},points:{uniforms:es([Te.points,Te.fog]),vertexShader:zt.points_vert,fragmentShader:zt.points_frag},dashed:{uniforms:es([Te.common,Te.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:zt.linedashed_vert,fragmentShader:zt.linedashed_frag},depth:{uniforms:es([Te.common,Te.displacementmap]),vertexShader:zt.depth_vert,fragmentShader:zt.depth_frag},normal:{uniforms:es([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,{opacity:{value:1}}]),vertexShader:zt.meshnormal_vert,fragmentShader:zt.meshnormal_frag},sprite:{uniforms:es([Te.sprite,Te.fog]),vertexShader:zt.sprite_vert,fragmentShader:zt.sprite_frag},background:{uniforms:{uvTransform:{value:new Ni},t2D:{value:null}},vertexShader:zt.background_vert,fragmentShader:zt.background_frag},cube:{uniforms:es([Te.envmap,{opacity:{value:1}}]),vertexShader:zt.cube_vert,fragmentShader:zt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:zt.equirect_vert,fragmentShader:zt.equirect_frag},distanceRGBA:{uniforms:es([Te.common,Te.displacementmap,{referencePosition:{value:new D},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:zt.distanceRGBA_vert,fragmentShader:zt.distanceRGBA_frag},shadow:{uniforms:es([Te.lights,Te.fog,{color:{value:new ve(0)},opacity:{value:1}}]),vertexShader:zt.shadow_vert,fragmentShader:zt.shadow_frag}};function Uie(n,t,e,i,s,r){const o=new ve(0);let l,c,a=!0===s?0:1,d=null,u=0,h=null;function p(m,g){e.buffers.color.setClear(m.r,m.g,m.b,g,r)}return{getClearColor:function(){return o},setClearColor:function(m,g=1){o.set(m),a=g,p(o,a)},getClearAlpha:function(){return a},setClearAlpha:function(m){a=m,p(o,a)},render:function f(m,g){let _=!1,y=!0===g.isScene?g.background:null;y&&y.isTexture&&(y=t.get(y));const v=n.xr,b=v.getSession&&v.getSession();b&&"additive"===b.environmentBlendMode&&(y=null),null===y?p(o,a):y&&y.isColor&&(p(y,1),_=!0),(n.autoClear||_)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),y&&(y.isCubeTexture||306===y.mapping)?(void 0===c&&(c=new Ri(new cc(1,1,1),new jr({name:"BackgroundCubeMaterial",uniforms:Mu(mo.cube.uniforms),vertexShader:mo.cube.vertexShader,fragmentShader:mo.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(w,C,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),c.material.uniforms.envMap.value=y,c.material.uniforms.flipEnvMap.value=y.isCubeTexture&&!1===y.isRenderTargetTexture?-1:1,(d!==y||u!==y.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=y,u=y.version,h=n.toneMapping),m.unshift(c,c.geometry,c.material,0,0,null)):y&&y.isTexture&&(void 0===l&&(l=new Ri(new Kf(2,2),new jr({name:"BackgroundMaterial",uniforms:Mu(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=y,!0===y.matrixAutoUpdate&&y.updateMatrix(),l.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||u!==y.version||h!==n.toneMapping)&&(l.material.needsUpdate=!0,d=y,u=y.version,h=n.toneMapping),m.unshift(l,l.geometry,l.material,0,0,null))}}}function Gie(n,t,e,i){const s=n.getParameter(34921),r=i.isWebGL2?null:t.get("OES_vertex_array_object"),o=i.isWebGL2||null!==r,a={},l=g(null);let c=l,d=!1;function f(V){return i.isWebGL2?n.bindVertexArray(V):r.bindVertexArrayOES(V)}function p(V){return i.isWebGL2?n.deleteVertexArray(V):r.deleteVertexArrayOES(V)}function g(V){const H=[],O=[],B=[];for(let F=0;F<s;F++)H[F]=0,O[F]=0,B[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:O,attributeDivisors:B,object:V,attributes:{},index:null}}function v(){const V=c.newAttributes;for(let H=0,O=V.length;H<O;H++)V[H]=0}function b(V){w(V,0)}function w(V,H){const B=c.enabledAttributes,F=c.attributeDivisors;c.newAttributes[V]=1,0===B[V]&&(n.enableVertexAttribArray(V),B[V]=1),F[V]!==H&&((i.isWebGL2?n:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,H),F[V]=H)}function C(){const V=c.newAttributes,H=c.enabledAttributes;for(let O=0,B=H.length;O<B;O++)H[O]!==V[O]&&(n.disableVertexAttribArray(O),H[O]=0)}function S(V,H,O,B,F,$){!0!==i.isWebGL2||5124!==O&&5125!==O?n.vertexAttribPointer(V,H,O,B,F,$):n.vertexAttribIPointer(V,H,O,F,$)}function T(){W(),d=!0,c!==l&&(c=l,f(c.object))}function W(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function u(V,H,O,B,F){let $=!1;if(o){const Q=function m(V,H,O){const B=!0===O.wireframe;let F=a[V.id];void 0===F&&(F={},a[V.id]=F);let $=F[H.id];void 0===$&&($={},F[H.id]=$);let Q=$[B];return void 0===Q&&(Q=g(function h(){return i.isWebGL2?n.createVertexArray():r.createVertexArrayOES()}()),$[B]=Q),Q}(B,O,H);c!==Q&&(c=Q,f(c.object)),$=function _(V,H){const O=c.attributes,B=V.attributes;let F=0;for(const $ in B){const Q=O[$],le=B[$];if(void 0===Q||Q.attribute!==le||Q.data!==le.data)return!0;F++}return c.attributesNum!==F||c.index!==H}(B,F),$&&function y(V,H){const O={},B=V.attributes;let F=0;for(const $ in B){const Q=B[$],le={};le.attribute=Q,Q.data&&(le.data=Q.data),O[$]=le,F++}c.attributes=O,c.attributesNum=F,c.index=H}(B,F)}else{const Q=!0===H.wireframe;(c.geometry!==B.id||c.program!==O.id||c.wireframe!==Q)&&(c.geometry=B.id,c.program=O.id,c.wireframe=Q,$=!0)}!0===V.isInstancedMesh&&($=!0),null!==F&&e.update(F,34963),($||d)&&(d=!1,function E(V,H,O,B){if(!1===i.isWebGL2&&(V.isInstancedMesh||B.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;v();const F=B.attributes,$=O.getAttributes(),Q=H.defaultAttributeValues;for(const le in $){const te=$[le];if(te.location>=0){let Le=F[le];if(void 0===Le&&("instanceMatrix"===le&&V.instanceMatrix&&(Le=V.instanceMatrix),"instanceColor"===le&&V.instanceColor&&(Le=V.instanceColor)),void 0!==Le){const Ne=Le.normalized,Ke=Le.itemSize,ne=e.get(Le);if(void 0===ne)continue;const ht=ne.buffer,rt=ne.type,et=ne.bytesPerElement;if(Le.isInterleavedBufferAttribute){const pe=Le.data,xt=pe.stride,ie=Le.offset;if(pe.isInstancedInterleavedBuffer){for(let re=0;re<te.locationSize;re++)w(te.location+re,pe.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===B._maxInstanceCount&&(B._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let re=0;re<te.locationSize;re++)b(te.location+re);n.bindBuffer(34962,ht);for(let re=0;re<te.locationSize;re++)S(te.location+re,Ke/te.locationSize,rt,Ne,xt*et,(ie+Ke/te.locationSize*re)*et)}else{if(Le.isInstancedBufferAttribute){for(let pe=0;pe<te.locationSize;pe++)w(te.location+pe,Le.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===B._maxInstanceCount&&(B._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let pe=0;pe<te.locationSize;pe++)b(te.location+pe);n.bindBuffer(34962,ht);for(let pe=0;pe<te.locationSize;pe++)S(te.location+pe,Ke/te.locationSize,rt,Ne,Ke*et,Ke/te.locationSize*pe*et)}}else if(void 0!==Q){const Ne=Q[le];if(void 0!==Ne)switch(Ne.length){case 2:n.vertexAttrib2fv(te.location,Ne);break;case 3:n.vertexAttrib3fv(te.location,Ne);break;case 4:n.vertexAttrib4fv(te.location,Ne);break;default:n.vertexAttrib1fv(te.location,Ne)}}}}C()}(V,H,O,B),null!==F&&n.bindBuffer(34963,e.get(F).buffer))},reset:T,resetDefaultState:W,dispose:function I(){T();for(const V in a){const H=a[V];for(const O in H){const B=H[O];for(const F in B)p(B[F].object),delete B[F];delete H[O]}delete a[V]}},releaseStatesOfGeometry:function L(V){if(void 0===a[V.id])return;const H=a[V.id];for(const O in H){const B=H[O];for(const F in B)p(B[F].object),delete B[F];delete H[O]}delete a[V.id]},releaseStatesOfProgram:function M(V){for(const H in a){const O=a[H];if(void 0===O[V.id])continue;const B=O[V.id];for(const F in B)p(B[F].object),delete B[F];delete O[V.id]}},initAttributes:v,enableAttribute:b,disableUnusedAttributes:C}}function jie(n,t,e,i){const s=i.isWebGL2;let r;this.setMode=function o(c){r=c},this.render=function a(c,d){n.drawArrays(r,c,d),e.update(d,r,1)},this.renderInstances=function l(c,d,u){if(0===u)return;let h,f;if(s)h=n,f="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](r,c,d,u),e.update(d,r,u)}}function Wie(n,t,e){let i;function r(S){if("highp"===S){if(n.getShaderPrecisionFormat(35633,36338).precision>0&&n.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return"mediump"===S&&n.getShaderPrecisionFormat(35633,36337).precision>0&&n.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&n instanceof WebGL2ComputeRenderingContext;let a=void 0!==e.precision?e.precision:"highp";const l=r(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||t.has("WEBGL_draw_buffers"),d=!0===e.logarithmicDepthBuffer,u=n.getParameter(34930),h=n.getParameter(35660),f=n.getParameter(3379),p=n.getParameter(34076),m=n.getParameter(34921),g=n.getParameter(36347),_=n.getParameter(36348),y=n.getParameter(36349),v=h>0,b=o||t.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function s(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const S=t.get("EXT_texture_filter_anisotropic");i=n.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:d,maxTextures:u,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:g,maxVaryings:_,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:b,floatVertexTextures:v&&b,maxSamples:o?n.getParameter(36183):0}}function $ie(n){const t=this;let e=null,i=0,s=!1,r=!1;const o=new sa,a=new Ni,l={value:null,needsUpdate:!1};function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function d(u,h,f,p){const m=null!==u?u.length:0;let g=null;if(0!==m){if(g=l.value,!0!==p||null===g){const _=f+4*m,y=h.matrixWorldInverse;a.getNormalMatrix(y),(null===g||g.length<_)&&(g=new Float32Array(_));for(let v=0,b=f;v!==m;++v,b+=4)o.copy(u[v]).applyMatrix4(y,a),o.normal.toArray(g,b),g[b+3]=o.constant}l.value=g,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,h,f){const p=0!==u.length||h||0!==i||s;return s=h,e=d(u,f,0),i=u.length,p},this.beginShadows=function(){r=!0,d(null)},this.endShadows=function(){r=!1,c()},this.setState=function(u,h,f){const p=u.clippingPlanes,m=u.clipIntersection,g=u.clipShadows,_=n.get(u);if(!s||null===p||0===p.length||r&&!g)r?d(null):c();else{const y=r?0:i,v=4*y;let b=_.clippingState||null;l.value=b,b=d(p,h,v,f);for(let w=0;w!==v;++w)b[w]=e[w];_.clippingState=b,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=y}}}function qie(n){let t=new WeakMap;function e(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function s(o){const a=o.target;a.removeEventListener("dispose",s);const l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(t.has(o))return e(t.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new SN(l.height/2);return c.fromEquirectangularTexture(n,o),t.set(o,c),o.addEventListener("dispose",s),e(c.texture,o.mapping)}return null}}}return o},dispose:function r(){t=new WeakMap}}}mo.physical={uniforms:es([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ee(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new ve(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new ee},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ve(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ve(1,1,1)},specularColorMap:{value:null}}]),vertexShader:zt.meshphysical_vert,fragmentShader:zt.meshphysical_frag};class Qf extends ny{constructor(t=-1,e=1,i=1,s=-1,r=.1,o=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=s,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,s,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=s,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let r=i-t,o=i+t,a=s+e,l=s-e;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=c*this.view.offsetX,o=r+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(r,o,a,l,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}Qf.prototype.isOrthographicCamera=!0;const EN=[.125,.215,.35,.446,.526,.582],xC=new Qf,AN=new ve;let wC=null;const uc=(1+Math.sqrt(5))/2,Au=1/uc,TN=[new D(1,1,1),new D(-1,1,1),new D(1,1,-1),new D(-1,1,-1),new D(0,uc,Au),new D(0,uc,-Au),new D(Au,0,uc),new D(-Au,0,uc),new D(uc,Au,0),new D(-uc,Au,0)];class RN{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,s=100){wC=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(t,i,s,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=PN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=IN(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(wC),t.scissorTest=!1,ry(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(301===t.mapping||302===t.mapping?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),wC=this._renderer.getRenderTarget();const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize-32,i={magFilter:Mn,minFilter:Mn,generateMipmaps:!1,type:po,format:or,encoding:Vr,depthBuffer:!1},s=kN(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=kN(t,e,i);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function Yie(n){const t=[],e=[],i=[];let s=n;const r=n-4+1+EN.length;for(let o=0;o<r;o++){const a=Math.pow(2,s);e.push(a);let l=1/a;o>n-4?l=EN[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-1),d=-c/2,u=1+c/2,h=[d,d,u,d,u,u,d,d,u,u,d,u],f=6,p=6,m=3,g=2,_=1,y=new Float32Array(m*p*f),v=new Float32Array(g*p*f),b=new Float32Array(_*p*f);for(let C=0;C<f;C++){const S=C%3*2/3-1,E=C>2?0:-1;y.set([S,E,0,S+2/3,E,0,S+2/3,E+1,0,S,E,0,S+2/3,E+1,0,S,E+1,0],m*p*C),v.set(h,g*p*C),b.set([C,C,C,C,C,C],_*p*C)}const w=new ut;w.setAttribute("position",new gn(y,m)),w.setAttribute("uv",new gn(v,g)),w.setAttribute("faceIndex",new gn(b,_)),t.push(w),s>4&&s--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(r)),this._blurMaterial=function Xie(n,t,e){const i=new Float32Array(20),s=new D(0,1,0);return new jr({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(r,t,e)}return s}_compileMaterial(t){const e=new Ri(this._lodPlanes[0],t);this._renderer.compile(e,xC)}_sceneToCubeUV(t,e,i,s){const a=new ki(90,1,e,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],d=this._renderer,u=d.autoClear,h=d.toneMapping;d.getClearColor(AN),d.toneMapping=0,d.autoClear=!1;const f=new zs({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new Ri(new cc,f);let m=!1;const g=t.background;g?g.isColor&&(f.color.copy(g),t.background=null,m=!0):(f.color.copy(AN),m=!0);for(let _=0;_<6;_++){const y=_%3;0===y?(a.up.set(0,l[_],0),a.lookAt(c[_],0,0)):1===y?(a.up.set(0,0,l[_]),a.lookAt(0,c[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,c[_]));const v=this._cubeSize;ry(s,y*v,_>2?v:0,v,v),d.setRenderTarget(s),m&&d.render(p,a),d.render(t,a)}p.geometry.dispose(),p.material.dispose(),d.toneMapping=h,d.autoClear=u,t.background=g}_textureToCubeUV(t,e){const i=this._renderer,s=301===t.mapping||302===t.mapping;s?(null===this._cubemapMaterial&&(this._cubemapMaterial=PN()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=IN());const r=s?this._cubemapMaterial:this._equirectMaterial,o=new Ri(this._lodPlanes[0],r);r.uniforms.envMap.value=t;const l=this._cubeSize;ry(e,0,0,3*l,2*l),i.setRenderTarget(e),i.render(o,xC)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let s=1;s<this._lodPlanes.length;s++){const r=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,r,TN[(s-1)%TN.length])}e.autoClear=i}_blur(t,e,i,s,r){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,s,"latitudinal",r),this._halfBlur(o,t,i,i,s,"longitudinal",r)}_halfBlur(t,e,i,s,r,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const u=new Ri(this._lodPlanes[s],c),h=c.uniforms,f=this._sizeLods[i]-1,p=isFinite(r)?Math.PI/(2*f):2*Math.PI/39,m=r/p,g=isFinite(r)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const _=[];let y=0;for(let S=0;S<20;++S){const E=S/m,I=Math.exp(-E*E/2);_.push(I),0===S?y+=I:S<g&&(y+=2*I)}for(let S=0;S<_.length;S++)_[S]=_[S]/y;h.envMap.value=t.texture,h.samples.value=g,h.weights.value=_,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:v}=this;h.dTheta.value=p,h.mipInt.value=v-i;const b=this._sizeLods[s];ry(e,3*b*(s>v-4?s-v+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(e),l.render(u,xC)}}function kN(n,t,e){const i=new Bs(n,t,e);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ry(n,t,e,i,s){n.viewport.set(t,e,i,s),n.scissor.set(t,e,i,s)}function IN(){return new jr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function PN(){return new jr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Kie(n){let t=new WeakMap,e=null;function r(a){const l=a.target;l.removeEventListener("dispose",r);const c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,d=301===l||302===l;if(c||d){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let u=t.get(a);return null===e&&(e=new RN(n)),u=c?e.fromEquirectangular(a,u):e.fromCubemap(a,u),t.set(a,u),u.texture}if(t.has(a))return t.get(a).texture;{const u=a.image;if(c&&u&&u.height>0||d&&u&&function s(a){let l=0;for(let d=0;d<6;d++)void 0!==a[d]&&l++;return 6===l}(u)){null===e&&(e=new RN(n));const h=c?e.fromEquirectangular(a):e.fromCubemap(a);return t.set(a,h),a.addEventListener("dispose",r),h.texture}return null}}}return a},dispose:function o(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function Qie(n){const t={};function e(i){if(void 0!==t[i])return t[i];let s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=n.getExtension(i)}return t[i]=s,s}return{has:function(i){return null!==e(i)},init:function(i){i.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture")},get:function(i){const s=e(i);return null===s&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),s}}}function Zie(n,t,e,i){const s={},r=new WeakMap;function o(u){const h=u.target;null!==h.index&&t.remove(h.index);for(const p in h.attributes)t.remove(h.attributes[p]);h.removeEventListener("dispose",o),delete s[h.id];const f=r.get(h);f&&(t.remove(f),r.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,e.memory.geometries--}function c(u){const h=[],f=u.index,p=u.attributes.position;let m=0;if(null!==f){const y=f.array;m=f.version;for(let v=0,b=y.length;v<b;v+=3){const w=y[v+0],C=y[v+1],S=y[v+2];h.push(w,C,C,S,S,w)}}else{m=p.version;for(let v=0,b=p.array.length/3-1;v<b;v+=3){const w=v+0,C=v+1,S=v+2;h.push(w,C,C,S,S,w)}}const g=new(dN(h)?MN:wN)(h,1);g.version=m;const _=r.get(u);_&&t.remove(_),r.set(u,g)}return{get:function a(u,h){return!0===s[h.id]||(h.addEventListener("dispose",o),s[h.id]=!0,e.memory.geometries++),h},update:function l(u){const h=u.attributes;for(const p in h)t.update(h[p],34962);const f=u.morphAttributes;for(const p in f){const m=f[p];for(let g=0,_=m.length;g<_;g++)t.update(m[g],34962)}},getWireframeAttribute:function d(u){const h=r.get(u);if(h){const f=u.index;null!==f&&h.version<f.version&&c(u)}else c(u);return r.get(u)}}}function Jie(n,t,e,i){const s=i.isWebGL2;let r,a,l;this.setMode=function o(h){r=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function d(h,f){n.drawElements(r,f,a,h*l),e.update(f,r,1)},this.renderInstances=function u(h,f,p){if(0===p)return;let m,g;if(s)m=n,g="drawElementsInstanced";else if(m=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",null===m)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");m[g](r,f,a,h*l,p),e.update(f,r,p)}}function ese(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function s(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(r,o,a){switch(e.calls++,o){case 4:e.triangles+=a*(r/3);break;case 1:e.lines+=a*(r/2);break;case 3:e.lines+=a*(r-1);break;case 2:e.lines+=a*r;break;case 0:e.points+=a*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function tse(n,t){return n[0]-t[0]}function nse(n,t){return Math.abs(t[1])-Math.abs(n[1])}function CC(n,t){let e=1;const i=t.isInterleavedBufferAttribute?t.data.array:t.array;i instanceof Int8Array?e=127:i instanceof Int16Array?e=32767:i instanceof Int32Array?e=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",i),n.divideScalar(e)}function ise(n,t,e){const i={},s=new Float32Array(8),r=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,d,u,h){const f=c.morphTargetInfluences;if(!0===t.isWebGL2){const p=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,m=void 0!==p?p.length:0;let g=r.get(d);if(void 0===g||g.count!==m){let H=function(){W.dispose(),r.delete(d),d.removeEventListener("dispose",H)};void 0!==g&&g.texture.dispose();const v=void 0!==d.morphAttributes.position,b=void 0!==d.morphAttributes.normal,w=void 0!==d.morphAttributes.color,C=d.morphAttributes.position||[],S=d.morphAttributes.normal||[],E=d.morphAttributes.color||[];let I=0;!0===v&&(I=1),!0===b&&(I=2),!0===w&&(I=3);let L=d.attributes.position.count*I,M=1;L>t.maxTextureSize&&(M=Math.ceil(L/t.maxTextureSize),L=t.maxTextureSize);const T=new Float32Array(L*M*4*m),W=new V_(T,L,M,m);W.type=Br,W.needsUpdate=!0;const V=4*I;for(let O=0;O<m;O++){const B=C[O],F=S[O],$=E[O],Q=L*M*4*O;for(let le=0;le<B.count;le++){const te=le*V;!0===v&&(o.fromBufferAttribute(B,le),!0===B.normalized&&CC(o,B),T[Q+te+0]=o.x,T[Q+te+1]=o.y,T[Q+te+2]=o.z,T[Q+te+3]=0),!0===b&&(o.fromBufferAttribute(F,le),!0===F.normalized&&CC(o,F),T[Q+te+4]=o.x,T[Q+te+5]=o.y,T[Q+te+6]=o.z,T[Q+te+7]=0),!0===w&&(o.fromBufferAttribute($,le),!0===$.normalized&&CC(o,$),T[Q+te+8]=o.x,T[Q+te+9]=o.y,T[Q+te+10]=o.z,T[Q+te+11]=4===$.itemSize?o.w:1)}}g={count:m,texture:W,size:new ee(L,M)},r.set(d,g),d.addEventListener("dispose",H)}let _=0;for(let v=0;v<f.length;v++)_+=f[v];const y=d.morphTargetsRelative?1:1-_;h.getUniforms().setValue(n,"morphTargetBaseInfluence",y),h.getUniforms().setValue(n,"morphTargetInfluences",f),h.getUniforms().setValue(n,"morphTargetsTexture",g.texture,e),h.getUniforms().setValue(n,"morphTargetsTextureSize",g.size)}else{const p=void 0===f?0:f.length;let m=i[d.id];if(void 0===m||m.length!==p){m=[];for(let b=0;b<p;b++)m[b]=[b,0];i[d.id]=m}for(let b=0;b<p;b++){const w=m[b];w[0]=b,w[1]=f[b]}m.sort(nse);for(let b=0;b<8;b++)b<p&&m[b][1]?(a[b][0]=m[b][0],a[b][1]=m[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(tse);const g=d.morphAttributes.position,_=d.morphAttributes.normal;let y=0;for(let b=0;b<8;b++){const w=a[b],C=w[0],S=w[1];C!==Number.MAX_SAFE_INTEGER&&S?(g&&d.getAttribute("morphTarget"+b)!==g[C]&&d.setAttribute("morphTarget"+b,g[C]),_&&d.getAttribute("morphNormal"+b)!==_[C]&&d.setAttribute("morphNormal"+b,_[C]),s[b]=S,y+=S):(g&&!0===d.hasAttribute("morphTarget"+b)&&d.deleteAttribute("morphTarget"+b),_&&!0===d.hasAttribute("morphNormal"+b)&&d.deleteAttribute("morphNormal"+b),s[b]=0)}const v=d.morphTargetsRelative?1:1-y;h.getUniforms().setValue(n,"morphTargetBaseInfluence",v),h.getUniforms().setValue(n,"morphTargetInfluences",s)}}}}function sse(n,t,e,i){let s=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),null!==c.instanceColor&&e.remove(c.instanceColor)}return{update:function r(l){const c=i.render.frame,u=t.get(l,l.geometry);return s.get(u)!==c&&(t.update(u),s.set(u,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),e.update(l.instanceMatrix,34962),null!==l.instanceColor&&e.update(l.instanceColor,34962)),u},dispose:function o(){s=new WeakMap}}}const ON=new Ji,FN=new V_,LN=new eC,NN=new Xf,BN=[],VN=[],HN=new Float32Array(16),zN=new Float32Array(9),UN=new Float32Array(4);function Tu(n,t,e){const i=n[0];if(i<=0||i>0)return n;const s=t*e;let r=BN[s];if(void 0===r&&(r=new Float32Array(s),BN[s]=r),0!==t){i.toArray(r,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(r,a)}return r}function gs(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function ts(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function oy(n,t){let e=VN[t];void 0===e&&(e=new Int32Array(t),VN[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function rse(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function ose(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(gs(e,t))return;n.uniform2fv(this.addr,t),ts(e,t)}}function ase(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(gs(e,t))return;n.uniform3fv(this.addr,t),ts(e,t)}}function lse(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(gs(e,t))return;n.uniform4fv(this.addr,t),ts(e,t)}}function cse(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(gs(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ts(e,t)}else{if(gs(e,i))return;UN.set(i),n.uniformMatrix2fv(this.addr,!1,UN),ts(e,i)}}function dse(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(gs(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ts(e,t)}else{if(gs(e,i))return;zN.set(i),n.uniformMatrix3fv(this.addr,!1,zN),ts(e,i)}}function use(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(gs(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ts(e,t)}else{if(gs(e,i))return;HN.set(i),n.uniformMatrix4fv(this.addr,!1,HN),ts(e,i)}}function hse(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function fse(n,t){const e=this.cache;gs(e,t)||(n.uniform2iv(this.addr,t),ts(e,t))}function pse(n,t){const e=this.cache;gs(e,t)||(n.uniform3iv(this.addr,t),ts(e,t))}function mse(n,t){const e=this.cache;gs(e,t)||(n.uniform4iv(this.addr,t),ts(e,t))}function gse(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function _se(n,t){const e=this.cache;gs(e,t)||(n.uniform2uiv(this.addr,t),ts(e,t))}function yse(n,t){const e=this.cache;gs(e,t)||(n.uniform3uiv(this.addr,t),ts(e,t))}function vse(n,t){const e=this.cache;gs(e,t)||(n.uniform4uiv(this.addr,t),ts(e,t))}function bse(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2D(t||ON,s)}function xse(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture3D(t||LN,s)}function wse(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTextureCube(t||NN,s)}function Mse(n,t,e){const i=this.cache,s=e.allocateTextureUnit();i[0]!==s&&(n.uniform1i(this.addr,s),i[0]=s),e.setTexture2DArray(t||FN,s)}function Sse(n,t){n.uniform1fv(this.addr,t)}function Dse(n,t){const e=Tu(t,this.size,2);n.uniform2fv(this.addr,e)}function Ese(n,t){const e=Tu(t,this.size,3);n.uniform3fv(this.addr,e)}function Ase(n,t){const e=Tu(t,this.size,4);n.uniform4fv(this.addr,e)}function Tse(n,t){const e=Tu(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function Rse(n,t){const e=Tu(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function kse(n,t){const e=Tu(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function Ise(n,t){n.uniform1iv(this.addr,t)}function Pse(n,t){n.uniform2iv(this.addr,t)}function Ose(n,t){n.uniform3iv(this.addr,t)}function Fse(n,t){n.uniform4iv(this.addr,t)}function Lse(n,t){n.uniform1uiv(this.addr,t)}function Nse(n,t){n.uniform2uiv(this.addr,t)}function Bse(n,t){n.uniform3uiv(this.addr,t)}function Vse(n,t){n.uniform4uiv(this.addr,t)}function Hse(n,t,e){const i=t.length,s=oy(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture2D(t[r]||ON,s[r])}function zse(n,t,e){const i=t.length,s=oy(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture3D(t[r]||LN,s[r])}function Use(n,t,e){const i=t.length,s=oy(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTextureCube(t[r]||NN,s[r])}function Gse(n,t,e){const i=t.length,s=oy(e,i);n.uniform1iv(this.addr,s);for(let r=0;r!==i;++r)e.setTexture2DArray(t[r]||FN,s[r])}function Wse(n,t,e){this.id=n,this.addr=e,this.cache=[],this.setValue=function Cse(n){switch(n){case 5126:return rse;case 35664:return ose;case 35665:return ase;case 35666:return lse;case 35674:return cse;case 35675:return dse;case 35676:return use;case 5124:case 35670:return hse;case 35667:case 35671:return fse;case 35668:case 35672:return pse;case 35669:case 35673:return mse;case 5125:return gse;case 36294:return _se;case 36295:return yse;case 36296:return vse;case 35678:case 36198:case 36298:case 36306:case 35682:return bse;case 35679:case 36299:case 36307:return xse;case 35680:case 36300:case 36308:case 36293:return wse;case 36289:case 36303:case 36311:case 36292:return Mse}}(t.type)}function GN(n,t,e){this.id=n,this.addr=e,this.cache=[],this.size=t.size,this.setValue=function jse(n){switch(n){case 5126:return Sse;case 35664:return Dse;case 35665:return Ese;case 35666:return Ase;case 35674:return Tse;case 35675:return Rse;case 35676:return kse;case 5124:case 35670:return Ise;case 35667:case 35671:return Pse;case 35668:case 35672:return Ose;case 35669:case 35673:return Fse;case 5125:return Lse;case 36294:return Nse;case 36295:return Bse;case 36296:return Vse;case 35678:case 36198:case 36298:case 36306:case 35682:return Hse;case 35679:case 36299:case 36307:return zse;case 35680:case 36300:case 36308:case 36293:return Use;case 36289:case 36303:case 36311:case 36292:return Gse}}(t.type)}function jN(n){this.id=n,this.seq=[],this.map={}}GN.prototype.updateCache=function(n){const t=this.cache;n instanceof Float32Array&&t.length!==n.length&&(this.cache=new Float32Array(n.length)),ts(t,n)},jN.prototype.setValue=function(n,t,e){const i=this.seq;for(let s=0,r=i.length;s!==r;++s){const o=i[s];o.setValue(n,t[o.id],e)}};const SC=/(\w+)(\])?(\[|\.)?/g;function WN(n,t){n.seq.push(t),n.map[t.id]=t}function $se(n,t,e){const i=n.name,s=i.length;for(SC.lastIndex=0;;){const r=SC.exec(i),o=SC.lastIndex;let a=r[1];const c=r[3];if("]"===r[2]&&(a|=0),void 0===c||"["===c&&o+2===s){WN(e,void 0===c?new Wse(a,n,t):new GN(a,n,t));break}{let u=e.map[a];void 0===u&&(u=new jN(a),WN(e,u)),e=u}}}function il(n,t){this.seq=[],this.map={};const e=n.getProgramParameter(t,35718);for(let i=0;i<e;++i){const s=n.getActiveUniform(t,i);$se(s,n.getUniformLocation(t,s.name),this)}}function $N(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}il.prototype.setValue=function(n,t,e,i){const s=this.map[t];void 0!==s&&s.setValue(n,e,i)},il.prototype.setOptional=function(n,t,e){const i=t[e];void 0!==i&&this.setValue(n,e,i)},il.upload=function(n,t,e,i){for(let s=0,r=t.length;s!==r;++s){const o=t[s],a=e[o.id];!1!==a.needsUpdate&&o.setValue(n,a.value,i)}},il.seqWithValue=function(n,t){const e=[];for(let i=0,s=n.length;i!==s;++i){const r=n[i];r.id in t&&e.push(r)}return e};let qse=0;function qN(n,t,e){const i=n.getShaderParameter(t,35713),s=n.getShaderInfoLog(t).trim();if(i&&""===s)return"";const r=parseInt(/ERROR: 0:(\d+)/.exec(s)[1]);return e.toUpperCase()+"\n\n"+s+"\n\n"+function Yse(n,t){const e=n.split("\n"),i=[],s=Math.max(t-6,0),r=Math.min(t+6,e.length);for(let o=s;o<r;o++)i.push(o+1+": "+e[o]);return i.join("\n")}(n.getShaderSource(t),r)}function Kse(n,t){const e=function Xse(n){switch(n){case Vr:return["Linear","( value )"];case tn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",n),["Linear","( value )"]}}(t);return"vec4 "+n+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function Qse(n,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function Zf(n){return""!==n}function YN(n,t){return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function XN(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const tre=/^[ \t]*#include +<([\w\d./]+)>/gm;function DC(n){return n.replace(tre,nre)}function nre(n,t){const e=zt[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return DC(e)}const ire=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,sre=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function KN(n){return n.replace(sre,QN).replace(ire,rre)}function rre(n,t,e,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),QN(0,t,e,i)}function QN(n,t,e,i){let s="";for(let r=parseInt(t);r<parseInt(e);r++)s+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return s}function ZN(n){let t="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function ure(n,t,e,i){const s=n.getContext(),r=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=function ore(n){let t="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),c=function are(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),d=function lre(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(t="ENVMAP_MODE_REFRACTION"),t}(e),u=function cre(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),h=function dre(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t/32+1)+3,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),f=e.isWebGL2?"":function Zse(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.tangentSpaceNormalMap||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Zf).join("\n")}(e),p=function Jse(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(r),m=s.createProgram();let g,_,y=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(g=[p].filter(Zf).join("\n"),g.length>0&&(g+="\n"),_=[f,p].filter(Zf).join("\n"),_.length>0&&(_+="\n")):(g=[ZN(e),"#define SHADER_NAME "+e.shaderName,p,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+d:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors&&e.isWebGL2?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0&&e.isWebGL2?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Zf).join("\n"),_=[f,ZN(e),"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+d:"",e.envMap?"#define "+u:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularColorMap?"#define USE_SPECULARCOLORMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEENCOLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?zt.tonemapping_pars_fragment:"",0!==e.toneMapping?Qse("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",zt.encodings_pars_fragment,Kse("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(Zf).join("\n")),o=DC(o),o=YN(o,e),o=XN(o,e),a=DC(a),a=YN(a,e),a=XN(a,e),o=KN(o),a=KN(a),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(y="#version 300 es\n",g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,_=["#define varying in","300 es"===e.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+_);const b=y+_+a,w=$N(s,35633,y+g+o),C=$N(s,35632,b);if(s.attachShader(m,w),s.attachShader(m,C),void 0!==e.index0AttributeName?s.bindAttribLocation(m,0,e.index0AttributeName):!0===e.morphTargets&&s.bindAttribLocation(m,0,"position"),s.linkProgram(m),n.debug.checkShaderErrors){const I=s.getProgramInfoLog(m).trim(),L=s.getShaderInfoLog(w).trim(),M=s.getShaderInfoLog(C).trim();let T=!0,W=!0;if(!1===s.getProgramParameter(m,35714)){T=!1;const V=qN(s,w,"vertex"),H=qN(s,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(m,35715)+"\n\nProgram Info Log: "+I+"\n"+V+"\n"+H)}else""!==I?console.warn("THREE.WebGLProgram: Program Info Log:",I):(""===L||""===M)&&(W=!1);W&&(this.diagnostics={runnable:T,programLog:I,vertexShader:{log:L,prefix:g},fragmentShader:{log:M,prefix:_}})}let S,E;return s.deleteShader(w),s.deleteShader(C),this.getUniforms=function(){return void 0===S&&(S=new il(s,m)),S},this.getAttributes=function(){return void 0===E&&(E=function ere(n,t){const e={},i=n.getProgramParameter(t,35721);for(let s=0;s<i;s++){const r=n.getActiveAttrib(t,s),o=r.name;let a=1;35674===r.type&&(a=2),35675===r.type&&(a=3),35676===r.type&&(a=4),e[o]={type:r.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}(s,m)),E},this.destroy=function(){i.releaseStatesOfProgram(this),s.deleteProgram(m),this.program=void 0},this.name=e.shaderName,this.id=qse++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=C,this}let hre=0;class fre{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,s=this._getShaderStage(t.vertexShader),r=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return!1===o.has(s)&&(o.add(s),s.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;return!1===e.has(t)&&e.set(t,new Set),e.get(t)}_getShaderStage(t){const e=this.shaderCache;if(!1===e.has(t)){const i=new pre(t);e.set(t,i)}return e.get(t)}}class pre{constructor(t){this.id=hre++,this.code=t,this.usedTimes=0}}function mre(n,t,e,i,s,r,o){const a=new lC,l=new fre,c=[],d=s.isWebGL2,u=s.logarithmicDepthBuffer,h=s.floatVertexTextures,f=s.maxVertexUniforms,p=s.vertexTextures;let m=s.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function y(M,T,W,V,H){const O=V.fog,B=H.geometry,$=(M.isMeshStandardMaterial?e:t).get(M.envMap||(M.isMeshStandardMaterial?V.environment:null)),Q=$&&306===$.mapping?$.image.height:null,le=g[M.type],te=H.isSkinnedMesh?function _(M){const W=M.skeleton.bones;if(h)return 1024;{const H=Math.floor((f-20)/4),O=Math.min(H,W.length);return O<W.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+W.length+" bones. This GPU supports "+O+"."),0):O}}(H):0;null!==M.precision&&(m=s.getMaxPrecision(M.precision),m!==M.precision&&console.warn("THREE.WebGLProgram.getParameters:",M.precision,"not supported, using",m,"instead."));const Le=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,Ne=void 0!==Le?Le.length:0;let ne,ht,rt,et,Ke=0;if(void 0!==B.morphAttributes.position&&(Ke=1),void 0!==B.morphAttributes.normal&&(Ke=2),void 0!==B.morphAttributes.color&&(Ke=3),le){const ye=mo[le];ne=ye.vertexShader,ht=ye.fragmentShader}else ne=M.vertexShader,ht=M.fragmentShader,l.update(M),rt=l.getVertexShaderID(M),et=l.getFragmentShaderID(M);const pe=n.getRenderTarget(),ie=M.clearcoat>0;return{isWebGL2:d,shaderID:le,shaderName:M.type,vertexShader:ne,fragmentShader:ht,defines:M.defines,customVertexShaderID:rt,customFragmentShaderID:et,isRawShaderMaterial:!0===M.isRawShaderMaterial,glslVersion:M.glslVersion,precision:m,instancing:!0===H.isInstancedMesh,instancingColor:!0===H.isInstancedMesh&&null!==H.instanceColor,supportsVertexTextures:p,outputEncoding:null===pe?n.outputEncoding:!0===pe.isXRRenderTarget?pe.texture.encoding:Vr,map:!!M.map,matcap:!!M.matcap,envMap:!!$,envMapMode:$&&$.mapping,envMapCubeUVHeight:Q,lightMap:!!M.lightMap,aoMap:!!M.aoMap,emissiveMap:!!M.emissiveMap,bumpMap:!!M.bumpMap,normalMap:!!M.normalMap,objectSpaceNormalMap:1===M.normalMapType,tangentSpaceNormalMap:0===M.normalMapType,decodeVideoTexture:!!M.map&&!0===M.map.isVideoTexture&&M.map.encoding===tn,clearcoat:ie,clearcoatMap:ie&&!!M.clearcoatMap,clearcoatRoughnessMap:ie&&!!M.clearcoatRoughnessMap,clearcoatNormalMap:ie&&!!M.clearcoatNormalMap,displacementMap:!!M.displacementMap,roughnessMap:!!M.roughnessMap,metalnessMap:!!M.metalnessMap,specularMap:!!M.specularMap,specularIntensityMap:!!M.specularIntensityMap,specularColorMap:!!M.specularColorMap,opaque:!1===M.transparent&&1===M.blending,alphaMap:!!M.alphaMap,alphaTest:M.alphaTest>0,gradientMap:!!M.gradientMap,sheen:M.sheen>0,sheenColorMap:!!M.sheenColorMap,sheenRoughnessMap:!!M.sheenRoughnessMap,transmission:M.transmission>0,transmissionMap:!!M.transmissionMap,thicknessMap:!!M.thicknessMap,combine:M.combine,vertexTangents:!!M.normalMap&&!!B.attributes.tangent,vertexColors:M.vertexColors,vertexAlphas:!0===M.vertexColors&&!!B.attributes.color&&4===B.attributes.color.itemSize,vertexUvs:!!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatMap||M.clearcoatRoughnessMap||M.clearcoatNormalMap||M.displacementMap||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheenColorMap||M.sheenRoughnessMap),uvsVertexOnly:!(M.map||M.bumpMap||M.normalMap||M.specularMap||M.alphaMap||M.emissiveMap||M.roughnessMap||M.metalnessMap||M.clearcoatNormalMap||M.transmission>0||M.transmissionMap||M.thicknessMap||M.specularIntensityMap||M.specularColorMap||M.sheen>0||M.sheenColorMap||M.sheenRoughnessMap||!M.displacementMap),fog:!!O,useFog:M.fog,fogExp2:O&&O.isFogExp2,flatShading:!!M.flatShading,sizeAttenuation:M.sizeAttenuation,logarithmicDepthBuffer:u,skinning:!0===H.isSkinnedMesh&&te>0,maxBones:te,useVertexTexture:h,morphTargets:void 0!==B.morphAttributes.position,morphNormals:void 0!==B.morphAttributes.normal,morphColors:void 0!==B.morphAttributes.color,morphTargetsCount:Ne,morphTextureStride:Ke,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:M.dithering,shadowMapEnabled:n.shadowMap.enabled&&W.length>0,shadowMapType:n.shadowMap.type,toneMapping:M.toneMapped?n.toneMapping:0,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:M.premultipliedAlpha,doubleSided:2===M.side,flipSided:1===M.side,depthPacking:void 0!==M.depthPacking&&M.depthPacking,index0AttributeName:M.index0AttributeName,extensionDerivatives:M.extensions&&M.extensions.derivatives,extensionFragDepth:M.extensions&&M.extensions.fragDepth,extensionDrawBuffers:M.extensions&&M.extensions.drawBuffers,extensionShaderTextureLOD:M.extensions&&M.extensions.shaderTextureLOD,rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),customProgramCacheKey:M.customProgramCacheKey()}},getProgramCacheKey:function v(M){const T=[];if(M.shaderID?T.push(M.shaderID):(T.push(M.customVertexShaderID),T.push(M.customFragmentShaderID)),void 0!==M.defines)for(const W in M.defines)T.push(W),T.push(M.defines[W]);return!1===M.isRawShaderMaterial&&(function b(M,T){M.push(T.precision),M.push(T.outputEncoding),M.push(T.envMapMode),M.push(T.envMapCubeUVHeight),M.push(T.combine),M.push(T.vertexUvs),M.push(T.fogExp2),M.push(T.sizeAttenuation),M.push(T.maxBones),M.push(T.morphTargetsCount),M.push(T.morphAttributeCount),M.push(T.numDirLights),M.push(T.numPointLights),M.push(T.numSpotLights),M.push(T.numHemiLights),M.push(T.numRectAreaLights),M.push(T.numDirLightShadows),M.push(T.numPointLightShadows),M.push(T.numSpotLightShadows),M.push(T.shadowMapType),M.push(T.toneMapping),M.push(T.numClippingPlanes),M.push(T.numClipIntersection)}(T,M),function w(M,T){a.disableAll(),T.isWebGL2&&a.enable(0),T.supportsVertexTextures&&a.enable(1),T.instancing&&a.enable(2),T.instancingColor&&a.enable(3),T.map&&a.enable(4),T.matcap&&a.enable(5),T.envMap&&a.enable(6),T.lightMap&&a.enable(7),T.aoMap&&a.enable(8),T.emissiveMap&&a.enable(9),T.bumpMap&&a.enable(10),T.normalMap&&a.enable(11),T.objectSpaceNormalMap&&a.enable(12),T.tangentSpaceNormalMap&&a.enable(13),T.clearcoat&&a.enable(14),T.clearcoatMap&&a.enable(15),T.clearcoatRoughnessMap&&a.enable(16),T.clearcoatNormalMap&&a.enable(17),T.displacementMap&&a.enable(18),T.specularMap&&a.enable(19),T.roughnessMap&&a.enable(20),T.metalnessMap&&a.enable(21),T.gradientMap&&a.enable(22),T.alphaMap&&a.enable(23),T.alphaTest&&a.enable(24),T.vertexColors&&a.enable(25),T.vertexAlphas&&a.enable(26),T.vertexUvs&&a.enable(27),T.vertexTangents&&a.enable(28),T.uvsVertexOnly&&a.enable(29),T.fog&&a.enable(30),M.push(a.mask),a.disableAll(),T.useFog&&a.enable(0),T.flatShading&&a.enable(1),T.logarithmicDepthBuffer&&a.enable(2),T.skinning&&a.enable(3),T.useVertexTexture&&a.enable(4),T.morphTargets&&a.enable(5),T.morphNormals&&a.enable(6),T.morphColors&&a.enable(7),T.premultipliedAlpha&&a.enable(8),T.shadowMapEnabled&&a.enable(9),T.physicallyCorrectLights&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.depthPacking&&a.enable(13),T.dithering&&a.enable(14),T.specularIntensityMap&&a.enable(15),T.specularColorMap&&a.enable(16),T.transmission&&a.enable(17),T.transmissionMap&&a.enable(18),T.thicknessMap&&a.enable(19),T.sheen&&a.enable(20),T.sheenColorMap&&a.enable(21),T.sheenRoughnessMap&&a.enable(22),T.decodeVideoTexture&&a.enable(23),T.opaque&&a.enable(24),M.push(a.mask)}(T,M),T.push(n.outputEncoding)),T.push(M.customProgramCacheKey),T.join()},getUniforms:function C(M){const T=g[M.type];let W;return W=T?zte.clone(mo[T].uniforms):M.uniforms,W},acquireProgram:function S(M,T){let W;for(let V=0,H=c.length;V<H;V++){const O=c[V];if(O.cacheKey===T){W=O,++W.usedTimes;break}}return void 0===W&&(W=new ure(n,T,M,r),c.push(W)),W},releaseProgram:function E(M){if(0==--M.usedTimes){const T=c.indexOf(M);c[T]=c[c.length-1],c.pop(),M.destroy()}},releaseShaderCache:function I(M){l.remove(M)},programs:c,dispose:function L(){l.dispose()}}}function gre(){let n=new WeakMap;return{get:function t(r){let o=n.get(r);return void 0===o&&(o={},n.set(r,o)),o},remove:function e(r){n.delete(r)},update:function i(r,o,a){n.get(r)[o]=a},dispose:function s(){n=new WeakMap}}}function _re(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function JN(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function e2(){const n=[];let t=0;const e=[],i=[],s=[];function o(u,h,f,p,m,g){let _=n[t];return void 0===_?(_={id:u.id,object:u,geometry:h,material:f,groupOrder:p,renderOrder:u.renderOrder,z:m,group:g},n[t]=_):(_.id=u.id,_.object=u,_.geometry=h,_.material=f,_.groupOrder=p,_.renderOrder=u.renderOrder,_.z=m,_.group=g),t++,_}return{opaque:e,transmissive:i,transparent:s,init:function r(){t=0,e.length=0,i.length=0,s.length=0},push:function a(u,h,f,p,m,g){const _=o(u,h,f,p,m,g);f.transmission>0?i.push(_):!0===f.transparent?s.push(_):e.push(_)},unshift:function l(u,h,f,p,m,g){const _=o(u,h,f,p,m,g);f.transmission>0?i.unshift(_):!0===f.transparent?s.unshift(_):e.unshift(_)},finish:function d(){for(let u=t,h=n.length;u<h;u++){const f=n[u];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(u,h){e.length>1&&e.sort(u||_re),i.length>1&&i.sort(h||JN),s.length>1&&s.sort(h||JN)}}}function yre(){let n=new WeakMap;return{get:function t(i,s){let r;return!1===n.has(i)?(r=new e2,n.set(i,[r])):s>=n.get(i).length?(r=new e2,n.get(i).push(r)):r=n.get(i)[s],r},dispose:function e(){n=new WeakMap}}}function vre(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new D,color:new ve};break;case"SpotLight":e={position:new D,direction:new D,color:new ve,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new D,color:new ve,distance:0,decay:0};break;case"HemisphereLight":e={direction:new D,skyColor:new ve,groundColor:new ve};break;case"RectAreaLight":e={color:new ve,position:new D,halfWidth:new D,halfHeight:new D}}return n[t.id]=e,e}}}let xre=0;function wre(n,t){return(t.castShadow?1:0)-(n.castShadow?1:0)}function Mre(n,t){const e=new vre,i=function bre(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ee,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),s={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let d=0;d<9;d++)s.probe.push(new D);const r=new D,o=new je,a=new je;return{setup:function l(d,u){let h=0,f=0,p=0;for(let I=0;I<9;I++)s.probe[I].set(0,0,0);let m=0,g=0,_=0,y=0,v=0,b=0,w=0,C=0;d.sort(wre);const S=!0!==u?Math.PI:1;for(let I=0,L=d.length;I<L;I++){const M=d[I],T=M.color,W=M.intensity,V=M.distance,H=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)h+=T.r*W*S,f+=T.g*W*S,p+=T.b*W*S;else if(M.isLightProbe)for(let O=0;O<9;O++)s.probe[O].addScaledVector(M.sh.coefficients[O],W);else if(M.isDirectionalLight){const O=e.get(M);if(O.color.copy(M.color).multiplyScalar(M.intensity*S),M.castShadow){const B=M.shadow,F=i.get(M);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,s.directionalShadow[m]=F,s.directionalShadowMap[m]=H,s.directionalShadowMatrix[m]=M.shadow.matrix,b++}s.directional[m]=O,m++}else if(M.isSpotLight){const O=e.get(M);if(O.position.setFromMatrixPosition(M.matrixWorld),O.color.copy(T).multiplyScalar(W*S),O.distance=V,O.coneCos=Math.cos(M.angle),O.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),O.decay=M.decay,M.castShadow){const B=M.shadow,F=i.get(M);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,s.spotShadow[_]=F,s.spotShadowMap[_]=H,s.spotShadowMatrix[_]=M.shadow.matrix,C++}s.spot[_]=O,_++}else if(M.isRectAreaLight){const O=e.get(M);O.color.copy(T).multiplyScalar(W),O.halfWidth.set(.5*M.width,0,0),O.halfHeight.set(0,.5*M.height,0),s.rectArea[y]=O,y++}else if(M.isPointLight){const O=e.get(M);if(O.color.copy(M.color).multiplyScalar(M.intensity*S),O.distance=M.distance,O.decay=M.decay,M.castShadow){const B=M.shadow,F=i.get(M);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,F.shadowCameraNear=B.camera.near,F.shadowCameraFar=B.camera.far,s.pointShadow[g]=F,s.pointShadowMap[g]=H,s.pointShadowMatrix[g]=M.shadow.matrix,w++}s.point[g]=O,g++}else if(M.isHemisphereLight){const O=e.get(M);O.skyColor.copy(M.color).multiplyScalar(W*S),O.groundColor.copy(M.groundColor).multiplyScalar(W*S),s.hemi[v]=O,v++}}y>0&&(t.isWebGL2||!0===n.has("OES_texture_float_linear")?(s.rectAreaLTC1=Te.LTC_FLOAT_1,s.rectAreaLTC2=Te.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(s.rectAreaLTC1=Te.LTC_HALF_1,s.rectAreaLTC2=Te.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),s.ambient[0]=h,s.ambient[1]=f,s.ambient[2]=p;const E=s.hash;(E.directionalLength!==m||E.pointLength!==g||E.spotLength!==_||E.rectAreaLength!==y||E.hemiLength!==v||E.numDirectionalShadows!==b||E.numPointShadows!==w||E.numSpotShadows!==C)&&(s.directional.length=m,s.spot.length=_,s.rectArea.length=y,s.point.length=g,s.hemi.length=v,s.directionalShadow.length=b,s.directionalShadowMap.length=b,s.pointShadow.length=w,s.pointShadowMap.length=w,s.spotShadow.length=C,s.spotShadowMap.length=C,s.directionalShadowMatrix.length=b,s.pointShadowMatrix.length=w,s.spotShadowMatrix.length=C,E.directionalLength=m,E.pointLength=g,E.spotLength=_,E.rectAreaLength=y,E.hemiLength=v,E.numDirectionalShadows=b,E.numPointShadows=w,E.numSpotShadows=C,s.version=xre++)},setupView:function c(d,u){let h=0,f=0,p=0,m=0,g=0;const _=u.matrixWorldInverse;for(let y=0,v=d.length;y<v;y++){const b=d[y];if(b.isDirectionalLight){const w=s.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),h++}else if(b.isSpotLight){const w=s.spot[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),w.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(_),p++}else if(b.isRectAreaLight){const w=s.rectArea[m];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),a.identity(),o.copy(b.matrixWorld),o.premultiply(_),a.extractRotation(o),w.halfWidth.set(.5*b.width,0,0),w.halfHeight.set(0,.5*b.height,0),w.halfWidth.applyMatrix4(a),w.halfHeight.applyMatrix4(a),m++}else if(b.isPointLight){const w=s.point[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(_),f++}else if(b.isHemisphereLight){const w=s.hemi[g];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(_),w.direction.normalize(),g++}}},state:s}}function t2(n,t){const e=new Mre(n,t),i=[],s=[];return{init:function r(){i.length=0,s.length=0},state:{lightsArray:i,shadowsArray:s,lights:e},setupLights:function l(u){e.setup(i,u)},setupLightsView:function c(u){e.setupView(i,u)},pushLight:function o(u){i.push(u)},pushShadow:function a(u){s.push(u)}}}function Cre(n,t){let e=new WeakMap;return{get:function i(r,o=0){let a;return!1===e.has(r)?(a=new t2(n,t),e.set(r,[a])):o>=e.get(r).length?(a=new t2(n,t),e.get(r).push(a)):a=e.get(r)[o],a},dispose:function s(){e=new WeakMap}}}class EC extends zn{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}EC.prototype.isMeshDepthMaterial=!0;class AC extends zn{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new D,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function n2(n,t,e){let i=new sy;const s=new ee,r=new ee,o=new dn,a=new EC({depthPacking:3201}),l=new AC,c={},d=e.maxTextureSize,u={0:1,1:0,2:2},h=new jr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ee},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new ut;p.setAttribute("position",new gn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ri(p,h),g=this;function _(b,w){const C=t.update(m);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,f.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,n.setRenderTarget(b.mapPass),n.clear(),n.renderBufferDirect(w,null,C,h,m,null),f.uniforms.shadow_pass.value=b.mapPass.texture,f.uniforms.resolution.value=b.mapSize,f.uniforms.radius.value=b.radius,n.setRenderTarget(b.map),n.clear(),n.renderBufferDirect(w,null,C,f,m,null)}function y(b,w,C,S,E,I){let L=null;const M=!0===C.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(L=void 0!==M?M:!0===C.isPointLight?l:a,n.localClippingEnabled&&!0===w.clipShadows&&0!==w.clippingPlanes.length||w.displacementMap&&0!==w.displacementScale||w.alphaMap&&w.alphaTest>0){const T=L.uuid,W=w.uuid;let V=c[T];void 0===V&&(V={},c[T]=V);let H=V[W];void 0===H&&(H=L.clone(),V[W]=H),L=H}return L.visible=w.visible,L.wireframe=w.wireframe,L.side=3===I?null!==w.shadowSide?w.shadowSide:w.side:null!==w.shadowSide?w.shadowSide:u[w.side],L.alphaMap=w.alphaMap,L.alphaTest=w.alphaTest,L.clipShadows=w.clipShadows,L.clippingPlanes=w.clippingPlanes,L.clipIntersection=w.clipIntersection,L.displacementMap=w.displacementMap,L.displacementScale=w.displacementScale,L.displacementBias=w.displacementBias,L.wireframeLinewidth=w.wireframeLinewidth,L.linewidth=w.linewidth,!0===C.isPointLight&&!0===L.isMeshDistanceMaterial&&(L.referencePosition.setFromMatrixPosition(C.matrixWorld),L.nearDistance=S,L.farDistance=E),L}function v(b,w,C,S,E){if(!1===b.visible)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&3===E)&&(!b.frustumCulled||i.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,b.matrixWorld);const M=t.update(b),T=b.material;if(Array.isArray(T)){const W=M.groups;for(let V=0,H=W.length;V<H;V++){const O=W[V],B=T[O.materialIndex];if(B&&B.visible){const F=y(b,B,S,C.near,C.far,E);n.renderBufferDirect(C,null,M,F,b,O)}}}else if(T.visible){const W=y(b,T,S,C.near,C.far,E);n.renderBufferDirect(C,null,M,W,b,null)}}const L=b.children;for(let M=0,T=L.length;M<T;M++)v(L[M],w,C,S,E)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,w,C){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===b.length)return;const S=n.getRenderTarget(),E=n.getActiveCubeFace(),I=n.getActiveMipmapLevel(),L=n.state;L.setBlending(0),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);for(let M=0,T=b.length;M<T;M++){const W=b[M],V=W.shadow;if(void 0===V){console.warn("THREE.WebGLShadowMap:",W,"has no shadow.");continue}if(!1===V.autoUpdate&&!1===V.needsUpdate)continue;s.copy(V.mapSize);const H=V.getFrameExtents();s.multiply(H),r.copy(V.mapSize),(s.x>d||s.y>d)&&(s.x>d&&(r.x=Math.floor(d/H.x),s.x=r.x*H.x,V.mapSize.x=r.x),s.y>d&&(r.y=Math.floor(d/H.y),s.y=r.y*H.y,V.mapSize.y=r.y)),null===V.map&&!V.isPointLightShadow&&3===this.type&&(V.map=new Bs(s.x,s.y),V.map.texture.name=W.name+".shadowMap",V.mapPass=new Bs(s.x,s.y),V.camera.updateProjectionMatrix()),null===V.map&&(V.map=new Bs(s.x,s.y,{minFilter:pi,magFilter:pi,format:or}),V.map.texture.name=W.name+".shadowMap",V.camera.updateProjectionMatrix()),n.setRenderTarget(V.map),n.clear();const O=V.getViewportCount();for(let B=0;B<O;B++){const F=V.getViewport(B);o.set(r.x*F.x,r.y*F.y,r.x*F.z,r.y*F.w),L.viewport(o),V.updateMatrices(W,B),i=V.getFrustum(),v(w,C,V.camera,W,this.type)}!V.isPointLightShadow&&3===this.type&&_(V,C),V.needsUpdate=!1}g.needsUpdate=!1,n.setRenderTarget(S,E,I)}}function Ere(n,t,e){const i=e.isWebGL2,a=new function s(){let N=!1;const Ce=new dn;let xe=null;const ft=new dn(0,0,0,0);return{setMask:function(Fe){xe!==Fe&&!N&&(n.colorMask(Fe,Fe,Fe,Fe),xe=Fe)},setLocked:function(Fe){N=Fe},setClear:function(Fe,Ye,Ae,Dt,In){!0===In&&(Fe*=Dt,Ye*=Dt,Ae*=Dt),Ce.set(Fe,Ye,Ae,Dt),!1===ft.equals(Ce)&&(n.clearColor(Fe,Ye,Ae,Dt),ft.copy(Ce))},reset:function(){N=!1,xe=null,ft.set(-1,0,0,0)}}},l=new function r(){let N=!1,Ce=null,xe=null,ft=null;return{setTest:function(Fe){Fe?Ke(2929):ne(2929)},setMask:function(Fe){Ce!==Fe&&!N&&(n.depthMask(Fe),Ce=Fe)},setFunc:function(Fe){if(xe!==Fe){if(Fe)switch(Fe){case 0:n.depthFunc(512);break;case 1:n.depthFunc(519);break;case 2:n.depthFunc(513);break;case 3:default:n.depthFunc(515);break;case 4:n.depthFunc(514);break;case 5:n.depthFunc(518);break;case 6:n.depthFunc(516);break;case 7:n.depthFunc(517)}else n.depthFunc(515);xe=Fe}},setLocked:function(Fe){N=Fe},setClear:function(Fe){ft!==Fe&&(n.clearDepth(Fe),ft=Fe)},reset:function(){N=!1,Ce=null,xe=null,ft=null}}},c=new function o(){let N=!1,Ce=null,xe=null,ft=null,Fe=null,Ye=null,Ae=null,Dt=null,In=null;return{setTest:function(Qt){N||(Qt?Ke(2960):ne(2960))},setMask:function(Qt){Ce!==Qt&&!N&&(n.stencilMask(Qt),Ce=Qt)},setFunc:function(Qt,Ao,To){(xe!==Qt||ft!==Ao||Fe!==To)&&(n.stencilFunc(Qt,Ao,To),xe=Qt,ft=Ao,Fe=To)},setOp:function(Qt,Ao,To){(Ye!==Qt||Ae!==Ao||Dt!==To)&&(n.stencilOp(Qt,Ao,To),Ye=Qt,Ae=Ao,Dt=To)},setLocked:function(Qt){N=Qt},setClear:function(Qt){In!==Qt&&(n.clearStencil(Qt),In=Qt)},reset:function(){N=!1,Ce=null,xe=null,ft=null,Fe=null,Ye=null,Ae=null,Dt=null,In=null}}};let d={},u={},h=new WeakMap,f=[],p=null,m=!1,g=null,_=null,y=null,v=null,b=null,w=null,C=null,S=!1,E=null,I=null,L=null,M=null,T=null;const W=n.getParameter(35661);let V=!1,H=0;const O=n.getParameter(7938);-1!==O.indexOf("WebGL")?(H=parseFloat(/^WebGL (\d)/.exec(O)[1]),V=H>=1):-1!==O.indexOf("OpenGL ES")&&(H=parseFloat(/^OpenGL ES (\d)/.exec(O)[1]),V=H>=2);let B=null,F={};const $=n.getParameter(3088),Q=n.getParameter(2978),le=(new dn).fromArray($),te=(new dn).fromArray(Q);function Le(N,Ce,xe){const ft=new Uint8Array(4),Fe=n.createTexture();n.bindTexture(N,Fe),n.texParameteri(N,10241,9728),n.texParameteri(N,10240,9728);for(let Ye=0;Ye<xe;Ye++)n.texImage2D(Ce+Ye,0,6408,1,1,0,6408,5121,ft);return Fe}const Ne={};function Ke(N){!0!==d[N]&&(n.enable(N),d[N]=!0)}function ne(N){!1!==d[N]&&(n.disable(N),d[N]=!1)}Ne[3553]=Le(3553,3553,1),Ne[34067]=Le(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ke(2929),l.setFunc(3),ye(!1),Ue(1),Ke(2884),ie(0);const pe={100:32774,101:32778,102:32779};if(i)pe[103]=32775,pe[104]=32776;else{const N=t.get("EXT_blend_minmax");null!==N&&(pe[103]=N.MIN_EXT,pe[104]=N.MAX_EXT)}const xt={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function ie(N,Ce,xe,ft,Fe,Ye,Ae,Dt){if(0!==N){if(!1===m&&(Ke(3042),m=!0),5===N)Fe=Fe||Ce,Ye=Ye||xe,Ae=Ae||ft,(Ce!==_||Fe!==b)&&(n.blendEquationSeparate(pe[Ce],pe[Fe]),_=Ce,b=Fe),(xe!==y||ft!==v||Ye!==w||Ae!==C)&&(n.blendFuncSeparate(xt[xe],xt[ft],xt[Ye],xt[Ae]),y=xe,v=ft,w=Ye,C=Ae),g=N,S=null;else if(N!==g||Dt!==S){if((100!==_||100!==b)&&(n.blendEquation(32774),_=100,b=100),Dt)switch(N){case 1:n.blendFuncSeparate(1,771,1,771);break;case 2:n.blendFunc(1,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}else switch(N){case 1:n.blendFuncSeparate(770,771,1,771);break;case 2:n.blendFunc(770,1);break;case 3:n.blendFuncSeparate(0,769,0,1);break;case 4:n.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}y=null,v=null,w=null,C=null,g=N,S=Dt}}else!0===m&&(ne(3042),m=!1)}function ye(N){E!==N&&(n.frontFace(N?2304:2305),E=N)}function Ue(N){0!==N?(Ke(2884),N!==I&&n.cullFace(1===N?1029:2===N?1028:1032)):ne(2884),I=N}function wt(N,Ce,xe){N?(Ke(32823),(M!==Ce||T!==xe)&&(n.polygonOffset(Ce,xe),M=Ce,T=xe)):ne(32823)}function tt(N){void 0===N&&(N=33984+W-1),B!==N&&(n.activeTexture(N),B=N)}return{buffers:{color:a,depth:l,stencil:c},enable:Ke,disable:ne,bindFramebuffer:function ht(N,Ce){return u[N]!==Ce&&(n.bindFramebuffer(N,Ce),u[N]=Ce,i&&(36009===N&&(u[36160]=Ce),36160===N&&(u[36009]=Ce)),!0)},drawBuffers:function rt(N,Ce){let xe=f,ft=!1;if(N)if(xe=h.get(Ce),void 0===xe&&(xe=[],h.set(Ce,xe)),N.isWebGLMultipleRenderTargets){const Fe=N.texture;if(xe.length!==Fe.length||36064!==xe[0]){for(let Ye=0,Ae=Fe.length;Ye<Ae;Ye++)xe[Ye]=36064+Ye;xe.length=Fe.length,ft=!0}}else 36064!==xe[0]&&(xe[0]=36064,ft=!0);else 1029!==xe[0]&&(xe[0]=1029,ft=!0);ft&&(e.isWebGL2?n.drawBuffers(xe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(xe))},useProgram:function et(N){return p!==N&&(n.useProgram(N),p=N,!0)},setBlending:ie,setMaterial:function re(N,Ce){2===N.side?ne(2884):Ke(2884);let xe=1===N.side;Ce&&(xe=!xe),ye(xe),1===N.blending&&!1===N.transparent?ie(0):ie(N.blending,N.blendEquation,N.blendSrc,N.blendDst,N.blendEquationAlpha,N.blendSrcAlpha,N.blendDstAlpha,N.premultipliedAlpha),l.setFunc(N.depthFunc),l.setTest(N.depthTest),l.setMask(N.depthWrite),a.setMask(N.colorWrite);const ft=N.stencilWrite;c.setTest(ft),ft&&(c.setMask(N.stencilWriteMask),c.setFunc(N.stencilFunc,N.stencilRef,N.stencilFuncMask),c.setOp(N.stencilFail,N.stencilZFail,N.stencilZPass)),wt(N.polygonOffset,N.polygonOffsetFactor,N.polygonOffsetUnits),!0===N.alphaToCoverage?Ke(32926):ne(32926)},setFlipSided:ye,setCullFace:Ue,setLineWidth:function Pe(N){N!==L&&(V&&n.lineWidth(N),L=N)},setPolygonOffset:wt,setScissorTest:function lt(N){N?Ke(3089):ne(3089)},activeTexture:tt,bindTexture:function En(N,Ce){null===B&&tt();let xe=F[B];void 0===xe&&(xe={type:void 0,texture:void 0},F[B]=xe),(xe.type!==N||xe.texture!==Ce)&&(n.bindTexture(N,Ce||Ne[N]),xe.type=N,xe.texture=Ce)},unbindTexture:function an(){const N=F[B];void 0!==N&&void 0!==N.type&&(n.bindTexture(N.type,null),N.type=void 0,N.texture=void 0)},compressedTexImage2D:function P(){try{n.compressedTexImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage2D:function nt(){try{n.texImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage3D:function R(){try{n.texImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texStorage2D:function ke(){try{n.texStorage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texStorage3D:function Ve(){try{n.texStorage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage2D:function A(){try{n.texSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage3D:function Z(){try{n.texSubImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},compressedTexSubImage2D:function ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},scissor:function fe(N){!1===le.equals(N)&&(n.scissor(N.x,N.y,N.z,N.w),le.copy(N))},viewport:function qe(N){!1===te.equals(N)&&(n.viewport(N.x,N.y,N.z,N.w),te.copy(N))},reset:function Ee(){n.disable(3042),n.disable(2884),n.disable(2929),n.disable(32823),n.disable(3089),n.disable(2960),n.disable(32926),n.blendEquation(32774),n.blendFunc(1,0),n.blendFuncSeparate(1,0,1,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(513),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(519,0,4294967295),n.stencilOp(7680,7680,7680),n.clearStencil(0),n.cullFace(1029),n.frontFace(2305),n.polygonOffset(0,0),n.activeTexture(33984),n.bindFramebuffer(36160,null),!0===i&&(n.bindFramebuffer(36009,null),n.bindFramebuffer(36008,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},B=null,F={},u={},h=new WeakMap,f=[],p=null,m=!1,g=null,_=null,y=null,v=null,b=null,w=null,C=null,S=!1,E=null,I=null,L=null,M=null,T=null,le.set(0,0,n.canvas.width,n.canvas.height),te.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function Are(n,t,e,i,s,r,o){const a=s.isWebGL2,l=s.maxTextures,c=s.maxCubemapSize,d=s.maxTextureSize,u=s.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,f=/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let m;const g=new WeakMap;let _=!1;try{_="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(P){}function y(P,A){return _?new OffscreenCanvas(P,A):Wf("canvas")}function v(P,A,Z,ue){let ke=1;if((P.width>ue||P.height>ue)&&(ke=ue/Math.max(P.width,P.height)),ke<1||!0===A){if("undefined"!=typeof HTMLImageElement&&P instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&P instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&P instanceof ImageBitmap){const Ve=A?F_:Math.floor,nt=Ve(ke*P.width),R=Ve(ke*P.height);void 0===m&&(m=y(nt,R));const fe=Z?y(nt,R):m;return fe.width=nt,fe.height=R,fe.getContext("2d").drawImage(P,0,0,nt,R),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+P.width+"x"+P.height+") to ("+nt+"x"+R+")."),fe}return"data"in P&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+P.width+"x"+P.height+")."),P}return P}function b(P){return KM(P.width)&&KM(P.height)}function C(P,A){return P.generateMipmaps&&A&&P.minFilter!==pi&&P.minFilter!==Mn}function S(P){n.generateMipmap(P)}function E(P,A,Z,ue,ke=!1){if(!1===a)return A;if(null!==P){if(void 0!==n[P])return n[P];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+P+"'")}let Ve=A;return 6403===A&&(5126===Z&&(Ve=33326),5131===Z&&(Ve=33325),5121===Z&&(Ve=33321)),33319===A&&(5126===Z&&(Ve=33328),5131===Z&&(Ve=33327),5121===Z&&(Ve=33323)),6408===A&&(5126===Z&&(Ve=34836),5131===Z&&(Ve=34842),5121===Z&&(Ve=ue===tn&&!1===ke?35907:32856),32819===Z&&(Ve=32854),32820===Z&&(Ve=32855)),(33325===Ve||33326===Ve||33327===Ve||33328===Ve||34842===Ve||34836===Ve)&&t.get("EXT_color_buffer_float"),Ve}function I(P,A,Z){return!0===C(P,Z)||P.isFramebufferTexture&&P.minFilter!==pi&&P.minFilter!==Mn?Math.log2(Math.max(A.width,A.height))+1:void 0!==P.mipmaps&&P.mipmaps.length>0?P.mipmaps.length:P.isCompressedTexture&&Array.isArray(P.image)?A.mipmaps.length:1}function L(P){return P===pi||1004===P||1005===P?9728:9729}function M(P){const A=P.target;A.removeEventListener("dispose",M),function W(P){const A=i.get(P);if(void 0===A.__webglInit)return;const Z=P.source,ue=g.get(Z);if(ue){const ke=ue[A.__cacheKey];ke.usedTimes--,0===ke.usedTimes&&V(P),0===Object.keys(ue).length&&g.delete(Z)}i.remove(P)}(A),A.isVideoTexture&&p.delete(A)}function T(P){const A=P.target;A.removeEventListener("dispose",T),function H(P){const A=P.texture,Z=i.get(P),ue=i.get(A);if(void 0!==ue.__webglTexture&&(n.deleteTexture(ue.__webglTexture),o.memory.textures--),P.depthTexture&&P.depthTexture.dispose(),P.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++)n.deleteFramebuffer(Z.__webglFramebuffer[ke]),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer[ke]);else n.deleteFramebuffer(Z.__webglFramebuffer),Z.__webglDepthbuffer&&n.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&n.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer&&n.deleteRenderbuffer(Z.__webglColorRenderbuffer),Z.__webglDepthRenderbuffer&&n.deleteRenderbuffer(Z.__webglDepthRenderbuffer);if(P.isWebGLMultipleRenderTargets)for(let ke=0,Ve=A.length;ke<Ve;ke++){const nt=i.get(A[ke]);nt.__webglTexture&&(n.deleteTexture(nt.__webglTexture),o.memory.textures--),i.remove(A[ke])}i.remove(A),i.remove(P)}(A)}function V(P){const A=i.get(P);n.deleteTexture(A.__webglTexture),delete g.get(P.source)[A.__cacheKey],o.memory.textures--}let O=0;function Q(P,A){const Z=i.get(P);if(P.isVideoTexture&&function En(P){const A=o.render.frame;p.get(P)!==A&&(p.set(P,A),P.update())}(P),!1===P.isRenderTargetTexture&&P.version>0&&Z.__version!==P.version){const ue=P.image;if(null===ue)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ue.complete)return void rt(Z,P,A);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+A),e.bindTexture(3553,Z.__webglTexture)}const Ne={[Kl]:10497,[ms]:33071,1002:33648},Ke={[pi]:9728,1004:9984,1005:9986,[Mn]:9729,1007:9985,[qa]:9987};function ne(P,A,Z){if(Z?(n.texParameteri(P,10242,Ne[A.wrapS]),n.texParameteri(P,10243,Ne[A.wrapT]),(32879===P||35866===P)&&n.texParameteri(P,32882,Ne[A.wrapR]),n.texParameteri(P,10240,Ke[A.magFilter]),n.texParameteri(P,10241,Ke[A.minFilter])):(n.texParameteri(P,10242,33071),n.texParameteri(P,10243,33071),(32879===P||35866===P)&&n.texParameteri(P,32882,33071),(A.wrapS!==ms||A.wrapT!==ms)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(P,10240,L(A.magFilter)),n.texParameteri(P,10241,L(A.minFilter)),A.minFilter!==pi&&A.minFilter!==Mn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const ue=t.get("EXT_texture_filter_anisotropic");if(A.type===Br&&!1===t.has("OES_texture_float_linear")||!1===a&&A.type===po&&!1===t.has("OES_texture_half_float_linear"))return;(A.anisotropy>1||i.get(A).__currentAnisotropy)&&(n.texParameterf(P,ue.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,s.getMaxAnisotropy())),i.get(A).__currentAnisotropy=A.anisotropy)}}function ht(P,A){let Z=!1;void 0===P.__webglInit&&(P.__webglInit=!0,A.addEventListener("dispose",M));const ue=A.source;let ke=g.get(ue);void 0===ke&&(ke={},g.set(ue,ke));const Ve=function $(P){const A=[];return A.push(P.wrapS),A.push(P.wrapT),A.push(P.magFilter),A.push(P.minFilter),A.push(P.anisotropy),A.push(P.internalFormat),A.push(P.format),A.push(P.type),A.push(P.generateMipmaps),A.push(P.premultiplyAlpha),A.push(P.flipY),A.push(P.unpackAlignment),A.push(P.encoding),A.join()}(A);if(Ve!==P.__cacheKey){void 0===ke[Ve]&&(ke[Ve]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,Z=!0),ke[Ve].usedTimes++;const nt=ke[P.__cacheKey];void 0!==nt&&(ke[P.__cacheKey].usedTimes--,0===nt.usedTimes&&V(A)),P.__cacheKey=Ve,P.__webglTexture=ke[Ve].texture}return Z}function rt(P,A,Z){let ue=3553;A.isDataArrayTexture&&(ue=35866),A.isData3DTexture&&(ue=32879);const ke=ht(P,A),Ve=A.source;if(e.activeTexture(33984+Z),e.bindTexture(ue,P.__webglTexture),Ve.version!==Ve.__currentVersion||!0===ke){n.pixelStorei(37440,A.flipY),n.pixelStorei(37441,A.premultiplyAlpha),n.pixelStorei(3317,A.unpackAlignment),n.pixelStorei(37443,0);const nt=function w(P){return!a&&(P.wrapS!==ms||P.wrapT!==ms||P.minFilter!==pi&&P.minFilter!==Mn)}(A)&&!1===b(A.image);let R=v(A.image,nt,!1,d);R=an(A,R);const fe=b(R)||a,qe=r.convert(A.format,A.encoding);let Ce,Ee=r.convert(A.type),N=E(A.internalFormat,qe,Ee,A.encoding,A.isVideoTexture);ne(ue,A,fe);const xe=A.mipmaps,ft=a&&!0!==A.isVideoTexture,Fe=void 0===P.__version,Ye=I(A,R,fe);if(A.isDepthTexture)N=6402,a?N=A.type===Br?36012:1014===A.type?33190:A.type===ou?35056:33189:A.type===Br&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),A.format===Zl&&6402===N&&A.type!==Vf&&1014!==A.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),A.type=Vf,Ee=r.convert(A.type)),A.format===au&&6402===N&&(N=34041,A.type!==ou&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),A.type=ou,Ee=r.convert(A.type))),ft&&Fe?e.texStorage2D(3553,1,N,R.width,R.height):e.texImage2D(3553,0,N,R.width,R.height,0,qe,Ee,null);else if(A.isDataTexture)if(xe.length>0&&fe){ft&&Fe&&e.texStorage2D(3553,Ye,N,xe[0].width,xe[0].height);for(let Ae=0,Dt=xe.length;Ae<Dt;Ae++)Ce=xe[Ae],ft?e.texSubImage2D(3553,Ae,0,0,Ce.width,Ce.height,qe,Ee,Ce.data):e.texImage2D(3553,Ae,N,Ce.width,Ce.height,0,qe,Ee,Ce.data);A.generateMipmaps=!1}else ft?(Fe&&e.texStorage2D(3553,Ye,N,R.width,R.height),e.texSubImage2D(3553,0,0,0,R.width,R.height,qe,Ee,R.data)):e.texImage2D(3553,0,N,R.width,R.height,0,qe,Ee,R.data);else if(A.isCompressedTexture){ft&&Fe&&e.texStorage2D(3553,Ye,N,xe[0].width,xe[0].height);for(let Ae=0,Dt=xe.length;Ae<Dt;Ae++)Ce=xe[Ae],A.format!==or?null!==qe?ft?e.compressedTexSubImage2D(3553,Ae,0,0,Ce.width,Ce.height,qe,Ce.data):e.compressedTexImage2D(3553,Ae,N,Ce.width,Ce.height,0,Ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ft?e.texSubImage2D(3553,Ae,0,0,Ce.width,Ce.height,qe,Ee,Ce.data):e.texImage2D(3553,Ae,N,Ce.width,Ce.height,0,qe,Ee,Ce.data)}else if(A.isDataArrayTexture)ft?(Fe&&e.texStorage3D(35866,Ye,N,R.width,R.height,R.depth),e.texSubImage3D(35866,0,0,0,0,R.width,R.height,R.depth,qe,Ee,R.data)):e.texImage3D(35866,0,N,R.width,R.height,R.depth,0,qe,Ee,R.data);else if(A.isData3DTexture)ft?(Fe&&e.texStorage3D(32879,Ye,N,R.width,R.height,R.depth),e.texSubImage3D(32879,0,0,0,0,R.width,R.height,R.depth,qe,Ee,R.data)):e.texImage3D(32879,0,N,R.width,R.height,R.depth,0,qe,Ee,R.data);else if(A.isFramebufferTexture)ft&&Fe?e.texStorage2D(3553,Ye,N,R.width,R.height):e.texImage2D(3553,0,N,R.width,R.height,0,qe,Ee,null);else if(xe.length>0&&fe){ft&&Fe&&e.texStorage2D(3553,Ye,N,xe[0].width,xe[0].height);for(let Ae=0,Dt=xe.length;Ae<Dt;Ae++)Ce=xe[Ae],ft?e.texSubImage2D(3553,Ae,0,0,qe,Ee,Ce):e.texImage2D(3553,Ae,N,qe,Ee,Ce);A.generateMipmaps=!1}else ft?(Fe&&e.texStorage2D(3553,Ye,N,R.width,R.height),e.texSubImage2D(3553,0,0,0,qe,Ee,R)):e.texImage2D(3553,0,N,qe,Ee,R);C(A,fe)&&S(ue),Ve.__currentVersion=Ve.version,A.onUpdate&&A.onUpdate(A)}P.__version=A.version}function pe(P,A,Z,ue,ke){const Ve=r.convert(Z.format,Z.encoding),nt=r.convert(Z.type),R=E(Z.internalFormat,Ve,nt,Z.encoding);i.get(A).__hasExternalTextures||(32879===ke||35866===ke?e.texImage3D(ke,0,R,A.width,A.height,A.depth,0,Ve,nt,null):e.texImage2D(ke,0,R,A.width,A.height,0,Ve,nt,null)),e.bindFramebuffer(36160,P),tt(A)?h.framebufferTexture2DMultisampleEXT(36160,ue,ke,i.get(Z).__webglTexture,0,lt(A)):n.framebufferTexture2D(36160,ue,ke,i.get(Z).__webglTexture,0),e.bindFramebuffer(36160,null)}function xt(P,A,Z){if(n.bindRenderbuffer(36161,P),A.depthBuffer&&!A.stencilBuffer){let ue=33189;if(Z||tt(A)){const ke=A.depthTexture;ke&&ke.isDepthTexture&&(ke.type===Br?ue=36012:1014===ke.type&&(ue=33190));const Ve=lt(A);tt(A)?h.renderbufferStorageMultisampleEXT(36161,Ve,ue,A.width,A.height):n.renderbufferStorageMultisample(36161,Ve,ue,A.width,A.height)}else n.renderbufferStorage(36161,ue,A.width,A.height);n.framebufferRenderbuffer(36160,36096,36161,P)}else if(A.depthBuffer&&A.stencilBuffer){const ue=lt(A);Z&&!1===tt(A)?n.renderbufferStorageMultisample(36161,ue,35056,A.width,A.height):tt(A)?h.renderbufferStorageMultisampleEXT(36161,ue,35056,A.width,A.height):n.renderbufferStorage(36161,34041,A.width,A.height),n.framebufferRenderbuffer(36160,33306,36161,P)}else{const ue=!0===A.isWebGLMultipleRenderTargets?A.texture[0]:A.texture,ke=r.convert(ue.format,ue.encoding),Ve=r.convert(ue.type),nt=E(ue.internalFormat,ke,Ve,ue.encoding),R=lt(A);Z&&!1===tt(A)?n.renderbufferStorageMultisample(36161,R,nt,A.width,A.height):tt(A)?h.renderbufferStorageMultisampleEXT(36161,R,nt,A.width,A.height):n.renderbufferStorage(36161,nt,A.width,A.height)}n.bindRenderbuffer(36161,null)}function re(P){const A=i.get(P),Z=!0===P.isWebGLCubeRenderTarget;if(P.depthTexture&&!A.__autoAllocateDepthBuffer){if(Z)throw new Error("target.depthTexture not supported in Cube render targets");!function ie(P,A){if(A&&A.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,P),!A.depthTexture||!A.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(A.depthTexture).__webglTexture||A.depthTexture.image.width!==A.width||A.depthTexture.image.height!==A.height)&&(A.depthTexture.image.width=A.width,A.depthTexture.image.height=A.height,A.depthTexture.needsUpdate=!0),Q(A.depthTexture,0);const ue=i.get(A.depthTexture).__webglTexture,ke=lt(A);if(A.depthTexture.format===Zl)tt(A)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,ue,0,ke):n.framebufferTexture2D(36160,36096,3553,ue,0);else{if(A.depthTexture.format!==au)throw new Error("Unknown depthTexture format");tt(A)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,ue,0,ke):n.framebufferTexture2D(36160,33306,3553,ue,0)}}(A.__webglFramebuffer,P)}else if(Z){A.__webglDepthbuffer=[];for(let ue=0;ue<6;ue++)e.bindFramebuffer(36160,A.__webglFramebuffer[ue]),A.__webglDepthbuffer[ue]=n.createRenderbuffer(),xt(A.__webglDepthbuffer[ue],P,!1)}else e.bindFramebuffer(36160,A.__webglFramebuffer),A.__webglDepthbuffer=n.createRenderbuffer(),xt(A.__webglDepthbuffer,P,!1);e.bindFramebuffer(36160,null)}function lt(P){return Math.min(u,P.samples)}function tt(P){const A=i.get(P);return a&&P.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==A.__useRenderToTexture}function an(P,A){const Z=P.encoding,ue=P.format,ke=P.type;return!0===P.isCompressedTexture||!0===P.isVideoTexture||1035===P.format||Z!==Vr&&(Z===tn?!1===a?!0===t.has("EXT_sRGB")&&ue===or?(P.format=1035,P.minFilter=Mn,P.generateMipmaps=!1):A=ic.sRGBToLinear(A):(ue!==or||ke!==Ql)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",Z)),A}this.allocateTextureUnit=function F(){const P=O;return P>=l&&console.warn("THREE.WebGLTextures: Trying to use "+P+" texture units while this GPU supports only "+l),O+=1,P},this.resetTextureUnits=function B(){O=0},this.setTexture2D=Q,this.setTexture2DArray=function le(P,A){const Z=i.get(P);P.version>0&&Z.__version!==P.version?rt(Z,P,A):(e.activeTexture(33984+A),e.bindTexture(35866,Z.__webglTexture))},this.setTexture3D=function te(P,A){const Z=i.get(P);P.version>0&&Z.__version!==P.version?rt(Z,P,A):(e.activeTexture(33984+A),e.bindTexture(32879,Z.__webglTexture))},this.setTextureCube=function Le(P,A){const Z=i.get(P);P.version>0&&Z.__version!==P.version?function et(P,A,Z){if(6!==A.image.length)return;const ue=ht(P,A),ke=A.source;if(e.activeTexture(33984+Z),e.bindTexture(34067,P.__webglTexture),ke.version!==ke.__currentVersion||!0===ue){n.pixelStorei(37440,A.flipY),n.pixelStorei(37441,A.premultiplyAlpha),n.pixelStorei(3317,A.unpackAlignment),n.pixelStorei(37443,0);const Ve=A.isCompressedTexture||A.image[0].isCompressedTexture,nt=A.image[0]&&A.image[0].isDataTexture,R=[];for(let Ae=0;Ae<6;Ae++)R[Ae]=Ve||nt?nt?A.image[Ae].image:A.image[Ae]:v(A.image[Ae],!1,!0,c),R[Ae]=an(A,R[Ae]);const fe=R[0],qe=b(fe)||a,Ee=r.convert(A.format,A.encoding),N=r.convert(A.type),Ce=E(A.internalFormat,Ee,N,A.encoding),xe=a&&!0!==A.isVideoTexture,ft=void 0===P.__version;let Ye,Fe=I(A,fe,qe);if(ne(34067,A,qe),Ve){xe&&ft&&e.texStorage2D(34067,Fe,Ce,fe.width,fe.height);for(let Ae=0;Ae<6;Ae++){Ye=R[Ae].mipmaps;for(let Dt=0;Dt<Ye.length;Dt++){const In=Ye[Dt];A.format!==or?null!==Ee?xe?e.compressedTexSubImage2D(34069+Ae,Dt,0,0,In.width,In.height,Ee,In.data):e.compressedTexImage2D(34069+Ae,Dt,Ce,In.width,In.height,0,In.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):xe?e.texSubImage2D(34069+Ae,Dt,0,0,In.width,In.height,Ee,N,In.data):e.texImage2D(34069+Ae,Dt,Ce,In.width,In.height,0,Ee,N,In.data)}}}else{Ye=A.mipmaps,xe&&ft&&(Ye.length>0&&Fe++,e.texStorage2D(34067,Fe,Ce,R[0].width,R[0].height));for(let Ae=0;Ae<6;Ae++)if(nt){xe?e.texSubImage2D(34069+Ae,0,0,0,R[Ae].width,R[Ae].height,Ee,N,R[Ae].data):e.texImage2D(34069+Ae,0,Ce,R[Ae].width,R[Ae].height,0,Ee,N,R[Ae].data);for(let Dt=0;Dt<Ye.length;Dt++){const Qt=Ye[Dt].image[Ae].image;xe?e.texSubImage2D(34069+Ae,Dt+1,0,0,Qt.width,Qt.height,Ee,N,Qt.data):e.texImage2D(34069+Ae,Dt+1,Ce,Qt.width,Qt.height,0,Ee,N,Qt.data)}}else{xe?e.texSubImage2D(34069+Ae,0,0,0,Ee,N,R[Ae]):e.texImage2D(34069+Ae,0,Ce,Ee,N,R[Ae]);for(let Dt=0;Dt<Ye.length;Dt++){const In=Ye[Dt];xe?e.texSubImage2D(34069+Ae,Dt+1,0,0,Ee,N,In.image[Ae]):e.texImage2D(34069+Ae,Dt+1,Ce,Ee,N,In.image[Ae])}}}C(A,qe)&&S(34067),ke.__currentVersion=ke.version,A.onUpdate&&A.onUpdate(A)}P.__version=A.version}(Z,P,A):(e.activeTexture(33984+A),e.bindTexture(34067,Z.__webglTexture))},this.rebindTextures=function ye(P,A,Z){const ue=i.get(P);void 0!==A&&pe(ue.__webglFramebuffer,P,P.texture,36064,3553),void 0!==Z&&re(P)},this.setupRenderTarget=function Ue(P){const A=P.texture,Z=i.get(P),ue=i.get(A);P.addEventListener("dispose",T),!0!==P.isWebGLMultipleRenderTargets&&(void 0===ue.__webglTexture&&(ue.__webglTexture=n.createTexture()),ue.__version=A.version,o.memory.textures++);const ke=!0===P.isWebGLCubeRenderTarget,Ve=!0===P.isWebGLMultipleRenderTargets,nt=b(P)||a;if(ke){Z.__webglFramebuffer=[];for(let R=0;R<6;R++)Z.__webglFramebuffer[R]=n.createFramebuffer()}else if(Z.__webglFramebuffer=n.createFramebuffer(),Ve)if(s.drawBuffers){const R=P.texture;for(let fe=0,qe=R.length;fe<qe;fe++){const Ee=i.get(R[fe]);void 0===Ee.__webglTexture&&(Ee.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(a&&P.samples>0&&!1===tt(P)){Z.__webglMultisampledFramebuffer=n.createFramebuffer(),Z.__webglColorRenderbuffer=n.createRenderbuffer(),n.bindRenderbuffer(36161,Z.__webglColorRenderbuffer);const R=r.convert(A.format,A.encoding),fe=r.convert(A.type),qe=E(A.internalFormat,R,fe,A.encoding),Ee=lt(P);n.renderbufferStorageMultisample(36161,Ee,qe,P.width,P.height),e.bindFramebuffer(36160,Z.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(36160,36064,36161,Z.__webglColorRenderbuffer),n.bindRenderbuffer(36161,null),P.depthBuffer&&(Z.__webglDepthRenderbuffer=n.createRenderbuffer(),xt(Z.__webglDepthRenderbuffer,P,!0)),e.bindFramebuffer(36160,null)}if(ke){e.bindTexture(34067,ue.__webglTexture),ne(34067,A,nt);for(let R=0;R<6;R++)pe(Z.__webglFramebuffer[R],P,A,36064,34069+R);C(A,nt)&&S(34067),e.unbindTexture()}else if(Ve){const R=P.texture;for(let fe=0,qe=R.length;fe<qe;fe++){const Ee=R[fe],N=i.get(Ee);e.bindTexture(3553,N.__webglTexture),ne(3553,Ee,nt),pe(Z.__webglFramebuffer,P,Ee,36064+fe,3553),C(Ee,nt)&&S(3553)}e.unbindTexture()}else{let R=3553;(P.isWebGL3DRenderTarget||P.isWebGLArrayRenderTarget)&&(a?R=P.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),e.bindTexture(R,ue.__webglTexture),ne(R,A,nt),pe(Z.__webglFramebuffer,P,A,36064,R),C(A,nt)&&S(R),e.unbindTexture()}P.depthBuffer&&re(P)},this.updateRenderTargetMipmap=function Pe(P){const A=b(P)||a,Z=!0===P.isWebGLMultipleRenderTargets?P.texture:[P.texture];for(let ue=0,ke=Z.length;ue<ke;ue++){const Ve=Z[ue];if(C(Ve,A)){const nt=P.isWebGLCubeRenderTarget?34067:3553,R=i.get(Ve).__webglTexture;e.bindTexture(nt,R),S(nt),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function wt(P){if(a&&P.samples>0&&!1===tt(P)){const A=P.width,Z=P.height;let ue=16384;const ke=[36064],Ve=P.stencilBuffer?33306:36096;P.depthBuffer&&ke.push(Ve);const nt=i.get(P),R=void 0!==nt.__ignoreDepthValues&&nt.__ignoreDepthValues;!1===R&&(P.depthBuffer&&(ue|=256),P.stencilBuffer&&(ue|=1024)),e.bindFramebuffer(36008,nt.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,nt.__webglFramebuffer),!0===R&&(n.invalidateFramebuffer(36008,[Ve]),n.invalidateFramebuffer(36009,[Ve])),n.blitFramebuffer(0,0,A,Z,0,0,A,Z,ue,9728),f&&n.invalidateFramebuffer(36008,ke),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,nt.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=re,this.setupFrameBufferTexture=pe,this.useMultisampledRTT=tt}function Tre(n,t,e){const i=e.isWebGL2;return{convert:function s(r,o=null){let a;if(r===Ql)return 5121;if(1017===r)return 32819;if(1018===r)return 32820;if(1010===r)return 5120;if(1011===r)return 5122;if(r===Vf)return 5123;if(1013===r)return 5124;if(1014===r)return 5125;if(r===Br)return 5126;if(r===po)return i?5131:(a=t.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===r)return 6406;if(r===or)return 6408;if(1024===r)return 6409;if(1025===r)return 6410;if(r===Zl)return 6402;if(r===au)return 34041;if(1028===r)return 6403;if(1022===r)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(1035===r)return a=t.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1029===r)return 36244;if(1030===r)return 33319;if(1031===r)return 33320;if(1033===r)return 36249;if(33776===r||33777===r||33778===r||33779===r)if(o===tn){if(a=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===r)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===r)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=t.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===r)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===r)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===r)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===r)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===r||35841===r||35842===r||35843===r){if(a=t.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===r)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===r)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===r)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===r)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===r)return a=t.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===r||37496===r){if(a=t.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===r)return o===tn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===r||37809===r||37810===r||37811===r||37812===r||37813===r||37814===r||37815===r||37816===r||37817===r||37818===r||37819===r||37820===r||37821===r){if(a=t.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===r)return o===tn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===r){if(a=t.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===r)return o===tn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}return r===ou?i?34042:(a=t.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}AC.prototype.isMeshDistanceMaterial=!0;class s2 extends ki{constructor(t=[]){super(),this.cameras=t}}s2.prototype.isArrayCamera=!0;class ra extends rn{constructor(){super(),this.type="Group"}}ra.prototype.isGroup=!0;const Rre={type:"move"};class TC{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ra,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ra,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new D,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new D),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ra,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new D,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new D),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let s=null,r=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==a&&(s=e.getPose(t.targetRaySpace,i),null!==s&&(a.matrix.fromArray(s.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),s.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(s.linearVelocity)):a.hasLinearVelocity=!1,s.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(s.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Rre))),c&&t.hand){o=!0;for(const m of t.hand.values()){const g=e.getJointPose(m,i);if(void 0===c.joints[m.jointName]){const y=new ra;y.matrixAutoUpdate=!1,y.visible=!1,c.joints[m.jointName]=y,c.add(y)}const _=c.joints[m.jointName];null!==g&&(_.matrix.fromArray(g.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.jointRadius=g.radius),_.visible=null!==g}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(l.matrix.fromArray(r.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),r.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(r.linearVelocity)):l.hasLinearVelocity=!1,r.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(r.angularVelocity)):l.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==s),null!==l&&(l.visible=null!==r),null!==c&&(c.visible=null!==o),this}}class r2 extends Ji{constructor(t,e,i,s,r,o,a,l,c,d){if((d=void 0!==d?d:Zl)!==Zl&&d!==au)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&d===Zl&&(i=Vf),void 0===i&&d===au&&(i=ou),super(null,s,r,o,a,l,d,i,c),this.image={width:t,height:e},this.magFilter=void 0!==a?a:pi,this.minFilter=void 0!==l?l:pi,this.flipY=!1,this.generateMipmaps=!1}}r2.prototype.isDepthTexture=!0;class kre extends Ya{constructor(t,e){super();const i=this;let s=null,r=1,o=null,a="local-floor",l=null,c=null,d=null,u=null,h=null;const f=e.getContextAttributes();let p=null,m=null;const g=[],_=new Map,y=new ki;y.layers.enable(1),y.viewport=new dn;const v=new ki;v.layers.enable(2),v.viewport=new dn;const b=[y,v],w=new s2;w.layers.enable(1),w.layers.enable(2);let C=null,S=null;function E(F){const $=_.get(F.inputSource);$&&$.dispatchEvent({type:F.type,data:F.inputSource})}function I(){_.forEach(function(F,$){F.disconnect($)}),_.clear(),C=null,S=null,t.setRenderTarget(p),u=null,d=null,c=null,s=null,m=null,B.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function L(F){const $=s.inputSources;for(let Q=0;Q<g.length;Q++)_.set($[Q],g[Q]);for(let Q=0;Q<F.removed.length;Q++){const le=F.removed[Q],te=_.get(le);te&&(te.dispatchEvent({type:"disconnected",data:le}),_.delete(le))}for(let Q=0;Q<F.added.length;Q++){const le=F.added[Q],te=_.get(le);te&&te.dispatchEvent({type:"connected",data:le})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let $=g[F];return void 0===$&&($=new TC,g[F]=$),$.getTargetRaySpace()},this.getControllerGrip=function(F){let $=g[F];return void 0===$&&($=new TC,g[F]=$),$.getGripSpace()},this.getHand=function(F){let $=g[F];return void 0===$&&($=new TC,g[F]=$),$.getHandSpace()},this.setFramebufferScaleFactor=function(F){r=F,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){a=F,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getBaseLayer=function(){return null!==d?d:u},this.getBinding=function(){return c},this.getFrame=function(){return h},this.getSession=function(){return s},this.setSession=function(){var F=function cee(n){return function(){var t=this,e=arguments;return new Promise(function(i,s){var r=n.apply(t,e);function o(l){EL(r,i,s,o,a,"next",l)}function a(l){EL(r,i,s,o,a,"throw",l)}o(void 0)})}}(function*($){if(s=$,null!==s){if(p=t.getRenderTarget(),s.addEventListener("select",E),s.addEventListener("selectstart",E),s.addEventListener("selectend",E),s.addEventListener("squeeze",E),s.addEventListener("squeezestart",E),s.addEventListener("squeezeend",E),s.addEventListener("end",I),s.addEventListener("inputsourceschange",L),!0!==f.xrCompatible&&(yield e.makeXRCompatible()),void 0===s.renderState.layers||!1===t.capabilities.isWebGL2)u=new XRWebGLLayer(s,e,{antialias:void 0!==s.renderState.layers||f.antialias,alpha:f.alpha,depth:f.depth,stencil:f.stencil,framebufferScaleFactor:r}),s.updateRenderState({baseLayer:u}),m=new Bs(u.framebufferWidth,u.framebufferHeight,{format:or,type:Ql,encoding:t.outputEncoding});else{let Q=null,le=null,te=null;f.depth&&(te=f.stencil?35056:33190,Q=f.stencil?au:Zl,le=f.stencil?ou:Vf);const Le={colorFormat:t.outputEncoding===tn?35907:32856,depthFormat:te,scaleFactor:r};c=new XRWebGLBinding(s,e),d=c.createProjectionLayer(Le),s.updateRenderState({layers:[d]}),m=new Bs(d.textureWidth,d.textureHeight,{format:or,type:Ql,depthTexture:new r2(d.textureWidth,d.textureHeight,le,void 0,void 0,void 0,void 0,void 0,void 0,Q),stencilBuffer:f.stencil,encoding:t.outputEncoding,samples:f.antialias?4:0}),t.properties.get(m).__ignoreDepthValues=d.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),o=yield s.requestReferenceSpace(a),B.setContext(s),B.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function($){return F.apply(this,arguments)}}();const M=new D,T=new D;function V(F,$){null===$?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices($.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(null===s)return;w.near=v.near=y.near=F.near,w.far=v.far=y.far=F.far,(C!==w.near||S!==w.far)&&(s.updateRenderState({depthNear:w.near,depthFar:w.far}),C=w.near,S=w.far);const $=F.parent,Q=w.cameras;V(w,$);for(let te=0;te<Q.length;te++)V(Q[te],$);w.matrixWorld.decompose(w.position,w.quaternion,w.scale),F.position.copy(w.position),F.quaternion.copy(w.quaternion),F.scale.copy(w.scale),F.matrix.copy(w.matrix),F.matrixWorld.copy(w.matrixWorld);const le=F.children;for(let te=0,Le=le.length;te<Le;te++)le[te].updateMatrixWorld(!0);2===Q.length?function W(F,$,Q){M.setFromMatrixPosition($.matrixWorld),T.setFromMatrixPosition(Q.matrixWorld);const le=M.distanceTo(T),te=$.projectionMatrix.elements,Le=Q.projectionMatrix.elements,Ne=te[14]/(te[10]-1),Ke=te[14]/(te[10]+1),ne=(te[9]+1)/te[5],ht=(te[9]-1)/te[5],rt=(te[8]-1)/te[0],et=(Le[8]+1)/Le[0],pe=Ne*rt,xt=Ne*et,ie=le/(-rt+et),re=ie*-rt;$.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(re),F.translateZ(ie),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();const ye=Ne+ie,Ue=Ke+ie;F.projectionMatrix.makePerspective(pe-re,xt+(le-re),ne*Ke/Ue*ye,ht*Ke/Ue*ye,ye,Ue)}(w,y,v):w.projectionMatrix.copy(y.projectionMatrix)},this.getCamera=function(){return w},this.getFoveation=function(){return null!==d?d.fixedFoveation:null!==u?u.fixedFoveation:void 0},this.setFoveation=function(F){null!==d&&(d.fixedFoveation=F),null!==u&&void 0!==u.fixedFoveation&&(u.fixedFoveation=F)};let H=null;const B=new DN;B.setAnimationLoop(function O(F,$){if(l=$.getViewerPose(o),h=$,null!==l){const le=l.views;null!==u&&(t.setRenderTargetFramebuffer(m,u.framebuffer),t.setRenderTarget(m));let te=!1;le.length!==w.cameras.length&&(w.cameras.length=0,te=!0);for(let Le=0;Le<le.length;Le++){const Ne=le[Le];let Ke=null;if(null!==u)Ke=u.getViewport(Ne);else{const ht=c.getViewSubImage(d,Ne);Ke=ht.viewport,0===Le&&(t.setRenderTargetTextures(m,ht.colorTexture,d.ignoreDepthValues?void 0:ht.depthStencilTexture),t.setRenderTarget(m))}const ne=b[Le];ne.matrix.fromArray(Ne.transform.matrix),ne.projectionMatrix.fromArray(Ne.projectionMatrix),ne.viewport.set(Ke.x,Ke.y,Ke.width,Ke.height),0===Le&&w.matrix.copy(ne.matrix),!0===te&&w.cameras.push(ne)}}const Q=s.inputSources;for(let le=0;le<g.length;le++)g[le].update(Q[le],$,o);H&&H(F,$),h=null}),this.setAnimationLoop=function(F){H=F},this.dispose=function(){}}}function Ire(n,t){function s(m,g){m.opacity.value=g.opacity,g.color&&m.diffuse.value.copy(g.color),g.emissive&&m.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.bumpMap&&(m.bumpMap.value=g.bumpMap,m.bumpScale.value=g.bumpScale,1===g.side&&(m.bumpScale.value*=-1)),g.displacementMap&&(m.displacementMap.value=g.displacementMap,m.displacementScale.value=g.displacementScale,m.displacementBias.value=g.displacementBias),g.emissiveMap&&(m.emissiveMap.value=g.emissiveMap),g.normalMap&&(m.normalMap.value=g.normalMap,m.normalScale.value.copy(g.normalScale),1===g.side&&m.normalScale.value.negate()),g.specularMap&&(m.specularMap.value=g.specularMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest);const _=t.get(g).envMap;if(_&&(m.envMap.value=_,m.flipEnvMap.value=_.isCubeTexture&&!1===_.isRenderTargetTexture?-1:1,m.reflectivity.value=g.reflectivity,m.ior.value=g.ior,m.refractionRatio.value=g.refractionRatio),g.lightMap){m.lightMap.value=g.lightMap;const b=!0!==n.physicallyCorrectLights?Math.PI:1;m.lightMapIntensity.value=g.lightMapIntensity*b}let y,v;g.aoMap&&(m.aoMap.value=g.aoMap,m.aoMapIntensity.value=g.aoMapIntensity),g.map?y=g.map:g.specularMap?y=g.specularMap:g.displacementMap?y=g.displacementMap:g.normalMap?y=g.normalMap:g.bumpMap?y=g.bumpMap:g.roughnessMap?y=g.roughnessMap:g.metalnessMap?y=g.metalnessMap:g.alphaMap?y=g.alphaMap:g.emissiveMap?y=g.emissiveMap:g.clearcoatMap?y=g.clearcoatMap:g.clearcoatNormalMap?y=g.clearcoatNormalMap:g.clearcoatRoughnessMap?y=g.clearcoatRoughnessMap:g.specularIntensityMap?y=g.specularIntensityMap:g.specularColorMap?y=g.specularColorMap:g.transmissionMap?y=g.transmissionMap:g.thicknessMap?y=g.thicknessMap:g.sheenColorMap?y=g.sheenColorMap:g.sheenRoughnessMap&&(y=g.sheenRoughnessMap),void 0!==y&&(y.isWebGLRenderTarget&&(y=y.texture),!0===y.matrixAutoUpdate&&y.updateMatrix(),m.uvTransform.value.copy(y.matrix)),g.aoMap?v=g.aoMap:g.lightMap&&(v=g.lightMap),void 0!==v&&(v.isWebGLRenderTarget&&(v=v.texture),!0===v.matrixAutoUpdate&&v.updateMatrix(),m.uv2Transform.value.copy(v.matrix))}return{refreshFogUniforms:function e(m,g){m.fogColor.value.copy(g.color),g.isFog?(m.fogNear.value=g.near,m.fogFar.value=g.far):g.isFogExp2&&(m.fogDensity.value=g.density)},refreshMaterialUniforms:function i(m,g,_,y,v){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(m,g):g.isMeshToonMaterial?(s(m,g),function d(m,g){g.gradientMap&&(m.gradientMap.value=g.gradientMap)}(m,g)):g.isMeshPhongMaterial?(s(m,g),function c(m,g){m.specular.value.copy(g.specular),m.shininess.value=Math.max(g.shininess,1e-4)}(m,g)):g.isMeshStandardMaterial?(s(m,g),function u(m,g){m.roughness.value=g.roughness,m.metalness.value=g.metalness,g.roughnessMap&&(m.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(m.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(m.envMapIntensity.value=g.envMapIntensity)}(m,g),g.isMeshPhysicalMaterial&&function h(m,g,_){m.ior.value=g.ior,g.sheen>0&&(m.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),m.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(m.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(m.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(m.clearcoat.value=g.clearcoat,m.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(m.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(m.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),m.clearcoatNormalMap.value=g.clearcoatNormalMap,1===g.side&&m.clearcoatNormalScale.value.negate())),g.transmission>0&&(m.transmission.value=g.transmission,m.transmissionSamplerMap.value=_.texture,m.transmissionSamplerSize.value.set(_.width,_.height),g.transmissionMap&&(m.transmissionMap.value=g.transmissionMap),m.thickness.value=g.thickness,g.thicknessMap&&(m.thicknessMap.value=g.thicknessMap),m.attenuationDistance.value=g.attenuationDistance,m.attenuationColor.value.copy(g.attenuationColor)),m.specularIntensity.value=g.specularIntensity,m.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(m.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(m.specularColorMap.value=g.specularColorMap)}(m,g,v)):g.isMeshMatcapMaterial?(s(m,g),function f(m,g){g.matcap&&(m.matcap.value=g.matcap)}(m,g)):g.isMeshDepthMaterial?s(m,g):g.isMeshDistanceMaterial?(s(m,g),function p(m,g){m.referencePosition.value.copy(g.referencePosition),m.nearDistance.value=g.nearDistance,m.farDistance.value=g.farDistance}(m,g)):g.isMeshNormalMaterial?s(m,g):g.isLineBasicMaterial?(function r(m,g){m.diffuse.value.copy(g.color),m.opacity.value=g.opacity}(m,g),g.isLineDashedMaterial&&function o(m,g){m.dashSize.value=g.dashSize,m.totalSize.value=g.dashSize+g.gapSize,m.scale.value=g.scale}(m,g)):g.isPointsMaterial?function a(m,g,_,y){let v;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.size.value=g.size*_,m.scale.value=.5*y,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),void 0!==v&&(!0===v.matrixAutoUpdate&&v.updateMatrix(),m.uvTransform.value.copy(v.matrix))}(m,g,_,y):g.isSpriteMaterial?function l(m,g){let _;m.diffuse.value.copy(g.color),m.opacity.value=g.opacity,m.rotation.value=g.rotation,g.map&&(m.map.value=g.map),g.alphaMap&&(m.alphaMap.value=g.alphaMap),g.alphaTest>0&&(m.alphaTest.value=g.alphaTest),g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),void 0!==_&&(!0===_.matrixAutoUpdate&&_.updateMatrix(),m.uvTransform.value.copy(_.matrix))}(m,g):g.isShadowMaterial?(m.color.value.copy(g.color),m.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function un(n={}){const t=void 0!==n.canvas?n.canvas:function Pre(){const n=Wf("canvas");return n.style.display="block",n}(),e=void 0!==n.context?n.context:null,i=void 0===n.depth||n.depth,s=void 0===n.stencil||n.stencil,r=void 0!==n.antialias&&n.antialias,o=void 0===n.premultipliedAlpha||n.premultipliedAlpha,a=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,l=void 0!==n.powerPreference?n.powerPreference:"default",c=void 0!==n.failIfMajorPerformanceCaveat&&n.failIfMajorPerformanceCaveat;let d;d=void 0!==n.context?e.getContextAttributes().alpha:void 0!==n.alpha&&n.alpha;let u=null,h=null;const f=[],p=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=Vr,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const m=this;let g=!1,_=0,y=0,v=null,b=-1,w=null;const C=new dn,S=new dn;let E=null,I=t.width,L=t.height,M=1,T=null,W=null;const V=new dn(0,0,I,L),H=new dn(0,0,I,L);let O=!1;const B=new sy;let F=!1,$=!1,Q=null;const le=new je,te=new ee,Le=new D,Ne={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ke(){return null===v?M:1}let rt,et,pe,xt,ie,re,ye,Ue,Pe,wt,lt,tt,En,an,P,A,Z,ue,ke,Ve,nt,R,fe,ne=e;function ht(k,q){for(let J=0;J<k.length;J++){const oe=t.getContext(k[J],q);if(null!==oe)return oe}return null}try{const k={alpha:!0,depth:i,stencil:s,antialias:r,premultipliedAlpha:o,preserveDrawingBuffer:a,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r139"),t.addEventListener("webglcontextlost",N,!1),t.addEventListener("webglcontextrestored",Ce,!1),null===ne){const q=["webgl2","webgl","experimental-webgl"];if(!0===m.isWebGL1Renderer&&q.shift(),ne=ht(q,k),null===ne)throw ht(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ne.getShaderPrecisionFormat&&(ne.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}function qe(){rt=new Qie(ne),et=new Wie(ne,rt,n),rt.init(et),R=new Tre(ne,rt,et),pe=new Ere(ne,rt,et),xt=new ese(ne),ie=new gre,re=new Are(ne,rt,pe,ie,et,R,xt),ye=new qie(m),Ue=new Kie(m),Pe=new $te(ne,et),fe=new Gie(ne,rt,Pe,et),wt=new Zie(ne,Pe,xt,fe),lt=new sse(ne,wt,Pe,xt),ke=new ise(ne,et,re),A=new $ie(ie),tt=new mre(m,ye,Ue,rt,et,fe,A),En=new Ire(m,ie),an=new yre,P=new Cre(rt,et),ue=new Uie(m,ye,pe,lt,d,o),Z=new n2(m,lt,et),Ve=new jie(ne,rt,xt,et),nt=new Jie(ne,rt,xt,et),xt.programs=tt.programs,m.capabilities=et,m.extensions=rt,m.properties=ie,m.renderLists=an,m.shadowMap=Z,m.state=pe,m.info=xt}qe();const Ee=new kre(m,ne);function N(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Ce(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;const k=xt.autoReset,q=Z.enabled,J=Z.autoUpdate,X=Z.needsUpdate,oe=Z.type;qe(),xt.autoReset=k,Z.enabled=q,Z.autoUpdate=J,Z.needsUpdate=X,Z.type=oe}function xe(k){const q=k.target;q.removeEventListener("dispose",xe),function ft(k){(function Fe(k){const q=ie.get(k).programs;void 0!==q&&(q.forEach(function(J){tt.releaseProgram(J)}),k.isShaderMaterial&&tt.releaseShaderCache(k))})(k),ie.remove(k)}(q)}this.xr=Ee,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const k=rt.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=rt.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function(k){void 0!==k&&(M=k,this.setSize(I,L,!1))},this.getSize=function(k){return k.set(I,L)},this.setSize=function(k,q,J){Ee.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(I=k,L=q,t.width=Math.floor(k*M),t.height=Math.floor(q*M),!1!==J&&(t.style.width=k+"px",t.style.height=q+"px"),this.setViewport(0,0,k,q))},this.getDrawingBufferSize=function(k){return k.set(I*M,L*M).floor()},this.setDrawingBufferSize=function(k,q,J){I=k,L=q,M=J,t.width=Math.floor(k*J),t.height=Math.floor(q*J),this.setViewport(0,0,k,q)},this.getCurrentViewport=function(k){return k.copy(C)},this.getViewport=function(k){return k.copy(V)},this.setViewport=function(k,q,J,X){k.isVector4?V.set(k.x,k.y,k.z,k.w):V.set(k,q,J,X),pe.viewport(C.copy(V).multiplyScalar(M).floor())},this.getScissor=function(k){return k.copy(H)},this.setScissor=function(k,q,J,X){k.isVector4?H.set(k.x,k.y,k.z,k.w):H.set(k,q,J,X),pe.scissor(S.copy(H).multiplyScalar(M).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(k){pe.setScissorTest(O=k)},this.setOpaqueSort=function(k){T=k},this.setTransparentSort=function(k){W=k},this.getClearColor=function(k){return k.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(k=!0,q=!0,J=!0){let X=0;k&&(X|=16384),q&&(X|=256),J&&(X|=1024),ne.clear(X)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",N,!1),t.removeEventListener("webglcontextrestored",Ce,!1),an.dispose(),P.dispose(),ie.dispose(),ye.dispose(),Ue.dispose(),lt.dispose(),fe.dispose(),tt.dispose(),Ee.dispose(),Ee.removeEventListener("sessionstart",Dt),Ee.removeEventListener("sessionend",In),Q&&(Q.dispose(),Q=null),Qt.stop()},this.renderBufferDirect=function(k,q,J,X,oe,_t){null===q&&(q=Ne);const It=oe.isMesh&&oe.matrixWorld.determinant()<0,Vt=function nTe(k,q,J,X,oe){!0!==q.isScene&&(q=Ne),re.resetTextureUnits();const _t=q.fog,Vt=null===v?m.outputEncoding:!0===v.isXRRenderTarget?v.texture.encoding:Vr,Ft=(X.isMeshStandardMaterial?Ue:ye).get(X.envMap||(X.isMeshStandardMaterial?q.environment:null)),fn=!0===X.vertexColors&&!!J.attributes.color&&4===J.attributes.color.itemSize,Jt=!!X.normalMap&&!!J.attributes.tangent,sn=!!J.morphAttributes.position,ei=!!J.morphAttributes.normal,Xc=!!J.morphAttributes.color,_h=X.toneMapped?m.toneMapping:0,yh=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Ro=void 0!==yh?yh.length:0,ln=ie.get(X),vh=h.state.lights;!0!==F||!0!==$&&k===w||A.setState(X,k,k===w&&X.id===b);let vi=!1;X.version===ln.__version?(ln.needsLights&&ln.lightsStateVersion!==vh.state.version||ln.outputEncoding!==Vt||oe.isInstancedMesh&&!1===ln.instancing||!oe.isInstancedMesh&&!0===ln.instancing||oe.isSkinnedMesh&&!1===ln.skinning||!oe.isSkinnedMesh&&!0===ln.skinning||ln.envMap!==Ft||X.fog&&ln.fog!==_t||void 0!==ln.numClippingPlanes&&(ln.numClippingPlanes!==A.numPlanes||ln.numIntersection!==A.numIntersection)||ln.vertexAlphas!==fn||ln.vertexTangents!==Jt||ln.morphTargets!==sn||ln.morphNormals!==ei||ln.morphColors!==Xc||ln.toneMapping!==_h||!0===et.isWebGL2&&ln.morphTargetsCount!==Ro)&&(vi=!0):(vi=!0,ln.__version=X.version);let ko=ln.currentProgram;!0===vi&&(ko=bA(X,q,oe));let Ml=!1,Sm=!1,xA=!1;const os=ko.getUniforms(),Dm=ln.uniforms;if(pe.useProgram(ko.program)&&(Ml=!0,Sm=!0,xA=!0),X.id!==b&&(b=X.id,Sm=!0),Ml||w!==k){if(os.setValue(ne,"projectionMatrix",k.projectionMatrix),et.logarithmicDepthBuffer&&os.setValue(ne,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),w!==k&&(w=k,Sm=!0,xA=!0),X.isShaderMaterial||X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshStandardMaterial||X.envMap){const Zr=os.map.cameraPosition;void 0!==Zr&&Zr.setValue(ne,Le.setFromMatrixPosition(k.matrixWorld))}(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial)&&os.setValue(ne,"isOrthographic",!0===k.isOrthographicCamera),(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial||X.isShadowMaterial||oe.isSkinnedMesh)&&os.setValue(ne,"viewMatrix",k.matrixWorldInverse)}if(oe.isSkinnedMesh){os.setOptional(ne,oe,"bindMatrix"),os.setOptional(ne,oe,"bindMatrixInverse");const Zr=oe.skeleton;Zr&&(et.floatVertexTextures?(null===Zr.boneTexture&&Zr.computeBoneTexture(),os.setValue(ne,"boneTexture",Zr.boneTexture,re),os.setValue(ne,"boneTextureSize",Zr.boneTextureSize)):os.setOptional(ne,Zr,"boneMatrices"))}const wA=J.morphAttributes;return(void 0!==wA.position||void 0!==wA.normal||void 0!==wA.color&&!0===et.isWebGL2)&&ke.update(oe,J,X,ko),(Sm||ln.receiveShadow!==oe.receiveShadow)&&(ln.receiveShadow=oe.receiveShadow,os.setValue(ne,"receiveShadow",oe.receiveShadow)),Sm&&(os.setValue(ne,"toneMappingExposure",m.toneMappingExposure),ln.needsLights&&function iTe(k,q){k.ambientLightColor.needsUpdate=q,k.lightProbe.needsUpdate=q,k.directionalLights.needsUpdate=q,k.directionalLightShadows.needsUpdate=q,k.pointLights.needsUpdate=q,k.pointLightShadows.needsUpdate=q,k.spotLights.needsUpdate=q,k.spotLightShadows.needsUpdate=q,k.rectAreaLights.needsUpdate=q,k.hemisphereLights.needsUpdate=q}(Dm,xA),_t&&X.fog&&En.refreshFogUniforms(Dm,_t),En.refreshMaterialUniforms(Dm,X,M,L,Q),il.upload(ne,ln.uniformsList,Dm,re)),X.isShaderMaterial&&!0===X.uniformsNeedUpdate&&(il.upload(ne,ln.uniformsList,Dm,re),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&os.setValue(ne,"center",oe.center),os.setValue(ne,"modelViewMatrix",oe.modelViewMatrix),os.setValue(ne,"normalMatrix",oe.normalMatrix),os.setValue(ne,"modelMatrix",oe.matrixWorld),ko}(k,q,J,X,oe);pe.setMaterial(X,It);let Ft=J.index;const fn=J.attributes.position;if(null===Ft){if(void 0===fn||0===fn.count)return}else if(0===Ft.count)return;let Jt=1;!0===X.wireframe&&(Ft=wt.getWireframeAttribute(J),Jt=2),fe.setup(oe,X,Vt,J,Ft);let sn,ei=Ve;null!==Ft&&(sn=Pe.get(Ft),ei=nt,ei.setIndex(sn));const Xc=null!==Ft?Ft.count:fn.count,_h=J.drawRange.start*Jt,yh=J.drawRange.count*Jt,Ro=null!==_t?_t.start*Jt:0,ln=null!==_t?_t.count*Jt:1/0,vh=Math.max(_h,Ro),vi=Math.min(Xc,_h+yh,Ro+ln)-1,ko=Math.max(0,vi-vh+1);if(0!==ko){if(oe.isMesh)!0===X.wireframe?(pe.setLineWidth(X.wireframeLinewidth*Ke()),ei.setMode(1)):ei.setMode(4);else if(oe.isLine){let Ml=X.linewidth;void 0===Ml&&(Ml=1),pe.setLineWidth(Ml*Ke()),ei.setMode(oe.isLineSegments?1:oe.isLineLoop?2:3)}else oe.isPoints?ei.setMode(0):oe.isSprite&&ei.setMode(4);if(oe.isInstancedMesh)ei.renderInstances(vh,ko,oe.count);else if(J.isInstancedBufferGeometry){const Ml=Math.min(J.instanceCount,J._maxInstanceCount);ei.renderInstances(vh,ko,Ml)}else ei.render(vh,ko)}},this.compile=function(k,q){h=P.get(k),h.init(),p.push(h),k.traverseVisible(function(J){J.isLight&&J.layers.test(q.layers)&&(h.pushLight(J),J.castShadow&&h.pushShadow(J))}),h.setupLights(m.physicallyCorrectLights),k.traverse(function(J){const X=J.material;if(X)if(Array.isArray(X))for(let oe=0;oe<X.length;oe++)bA(X[oe],k,J);else bA(X,k,J)}),p.pop(),h=null};let Ye=null;function Dt(){Qt.stop()}function In(){Qt.start()}const Qt=new DN;function Ao(k,q,J,X){if(!1===k.visible)return;if(k.layers.test(q.layers))if(k.isGroup)J=k.renderOrder;else if(k.isLOD)!0===k.autoUpdate&&k.update(q);else if(k.isLight)h.pushLight(k),k.castShadow&&h.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||B.intersectsSprite(k)){X&&Le.setFromMatrixPosition(k.matrixWorld).applyMatrix4(le);const It=lt.update(k),Vt=k.material;Vt.visible&&u.push(k,It,Vt,J,Le.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(k.isSkinnedMesh&&k.skeleton.frame!==xt.render.frame&&(k.skeleton.update(),k.skeleton.frame=xt.render.frame),!k.frustumCulled||B.intersectsObject(k))){X&&Le.setFromMatrixPosition(k.matrixWorld).applyMatrix4(le);const It=lt.update(k),Vt=k.material;if(Array.isArray(Vt)){const Ft=It.groups;for(let fn=0,Jt=Ft.length;fn<Jt;fn++){const sn=Ft[fn],ei=Vt[sn.materialIndex];ei&&ei.visible&&u.push(k,It,ei,J,Le.z,sn)}}else Vt.visible&&u.push(k,It,Vt,J,Le.z,null)}const _t=k.children;for(let It=0,Vt=_t.length;It<Vt;It++)Ao(_t[It],q,J,X)}function To(k,q,J,X){const oe=k.opaque,_t=k.transmissive,It=k.transparent;h.setupLightsView(J),_t.length>0&&function eTe(k,q,J){const X=et.isWebGL2;null===Q&&(Q=new Bs(1,1,{generateMipmaps:!0,type:null!==R.convert(po)?po:Ql,minFilter:qa,samples:X&&!0===r?4:0})),m.getDrawingBufferSize(te),X?Q.setSize(te.x,te.y):Q.setSize(F_(te.x),F_(te.y));const oe=m.getRenderTarget();m.setRenderTarget(Q),m.clear();const _t=m.toneMapping;m.toneMapping=0,Yb(k,q,J),m.toneMapping=_t,re.updateMultisampleRenderTarget(Q),re.updateRenderTargetMipmap(Q),m.setRenderTarget(oe)}(oe,q,J),X&&pe.viewport(C.copy(X)),oe.length>0&&Yb(oe,q,J),_t.length>0&&Yb(_t,q,J),It.length>0&&Yb(It,q,J),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function Yb(k,q,J){const X=!0===q.isScene?q.overrideMaterial:null;for(let oe=0,_t=k.length;oe<_t;oe++){const It=k[oe],Vt=It.object,Ft=It.geometry,fn=null===X?It.material:X,Jt=It.group;Vt.layers.test(J.layers)&&tTe(Vt,q,J,Ft,fn,Jt)}}function tTe(k,q,J,X,oe,_t){k.onBeforeRender(m,q,J,X,oe,_t),k.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),oe.onBeforeRender(m,q,J,X,k,_t),!0===oe.transparent&&2===oe.side?(oe.side=1,oe.needsUpdate=!0,m.renderBufferDirect(J,q,X,oe,k,_t),oe.side=0,oe.needsUpdate=!0,m.renderBufferDirect(J,q,X,oe,k,_t),oe.side=2):m.renderBufferDirect(J,q,X,oe,k,_t),k.onAfterRender(m,q,J,X,oe,_t)}function bA(k,q,J){!0!==q.isScene&&(q=Ne);const X=ie.get(k),oe=h.state.lights,It=oe.state.version,Vt=tt.getParameters(k,oe.state,h.state.shadowsArray,q,J),Ft=tt.getProgramCacheKey(Vt);let fn=X.programs;X.environment=k.isMeshStandardMaterial?q.environment:null,X.fog=q.fog,X.envMap=(k.isMeshStandardMaterial?Ue:ye).get(k.envMap||X.environment),void 0===fn&&(k.addEventListener("dispose",xe),fn=new Map,X.programs=fn);let Jt=fn.get(Ft);if(void 0!==Jt){if(X.currentProgram===Jt&&X.lightsStateVersion===It)return j4(k,Vt),Jt}else Vt.uniforms=tt.getUniforms(k),k.onBuild(J,Vt,m),k.onBeforeCompile(Vt,m),Jt=tt.acquireProgram(Vt,Ft),fn.set(Ft,Jt),X.uniforms=Vt.uniforms;const sn=X.uniforms;(!k.isShaderMaterial&&!k.isRawShaderMaterial||!0===k.clipping)&&(sn.clippingPlanes=A.uniform),j4(k,Vt),X.needsLights=function sTe(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&!0===k.lights}(k),X.lightsStateVersion=It,X.needsLights&&(sn.ambientLightColor.value=oe.state.ambient,sn.lightProbe.value=oe.state.probe,sn.directionalLights.value=oe.state.directional,sn.directionalLightShadows.value=oe.state.directionalShadow,sn.spotLights.value=oe.state.spot,sn.spotLightShadows.value=oe.state.spotShadow,sn.rectAreaLights.value=oe.state.rectArea,sn.ltc_1.value=oe.state.rectAreaLTC1,sn.ltc_2.value=oe.state.rectAreaLTC2,sn.pointLights.value=oe.state.point,sn.pointLightShadows.value=oe.state.pointShadow,sn.hemisphereLights.value=oe.state.hemi,sn.directionalShadowMap.value=oe.state.directionalShadowMap,sn.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,sn.spotShadowMap.value=oe.state.spotShadowMap,sn.spotShadowMatrix.value=oe.state.spotShadowMatrix,sn.pointShadowMap.value=oe.state.pointShadowMap,sn.pointShadowMatrix.value=oe.state.pointShadowMatrix);const ei=Jt.getUniforms(),Xc=il.seqWithValue(ei.seq,sn);return X.currentProgram=Jt,X.uniformsList=Xc,Jt}function j4(k,q){const J=ie.get(k);J.outputEncoding=q.outputEncoding,J.instancing=q.instancing,J.skinning=q.skinning,J.morphTargets=q.morphTargets,J.morphNormals=q.morphNormals,J.morphColors=q.morphColors,J.morphTargetsCount=q.morphTargetsCount,J.numClippingPlanes=q.numClippingPlanes,J.numIntersection=q.numClipIntersection,J.vertexAlphas=q.vertexAlphas,J.vertexTangents=q.vertexTangents,J.toneMapping=q.toneMapping}Qt.setAnimationLoop(function Ae(k){Ye&&Ye(k)}),"undefined"!=typeof self&&Qt.setContext(self),this.setAnimationLoop=function(k){Ye=k,Ee.setAnimationLoop(k),null===k?Qt.stop():Qt.start()},Ee.addEventListener("sessionstart",Dt),Ee.addEventListener("sessionend",In),this.render=function(k,q){if(void 0===q||!0===q.isCamera){if(!0!==g){if(!0===k.autoUpdate&&k.updateMatrixWorld(),null===q.parent&&q.updateMatrixWorld(),!0===Ee.enabled&&!0===Ee.isPresenting&&(!0===Ee.cameraAutoUpdate&&Ee.updateCamera(q),q=Ee.getCamera()),!0===k.isScene&&k.onBeforeRender(m,k,q,v),h=P.get(k,p.length),h.init(),p.push(h),le.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),B.setFromProjectionMatrix(le),$=this.localClippingEnabled,F=A.init(this.clippingPlanes,$,q),u=an.get(k,f.length),u.init(),f.push(u),Ao(k,q,0,m.sortObjects),u.finish(),!0===m.sortObjects&&u.sort(T,W),!0===F&&A.beginShadows(),Z.render(h.state.shadowsArray,k,q),!0===F&&A.endShadows(),!0===this.info.autoReset&&this.info.reset(),ue.render(u,k),h.setupLights(m.physicallyCorrectLights),q.isArrayCamera){const X=q.cameras;for(let oe=0,_t=X.length;oe<_t;oe++){const It=X[oe];To(u,k,It,It.viewport)}}else To(u,k,q);null!==v&&(re.updateMultisampleRenderTarget(v),re.updateRenderTargetMipmap(v)),!0===k.isScene&&k.onAfterRender(m,k,q),fe.resetDefaultState(),b=-1,w=null,p.pop(),h=p.length>0?p[p.length-1]:null,f.pop(),u=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return v},this.setRenderTargetTextures=function(k,q,J){ie.get(k.texture).__webglTexture=q,ie.get(k.depthTexture).__webglTexture=J;const X=ie.get(k);X.__hasExternalTextures=!0,X.__hasExternalTextures&&(X.__autoAllocateDepthBuffer=void 0===J,X.__autoAllocateDepthBuffer||!0===rt.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),X.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(k,q){const J=ie.get(k);J.__webglFramebuffer=q,J.__useDefaultFramebuffer=void 0===q},this.setRenderTarget=function(k,q=0,J=0){v=k,_=q,y=J;let X=!0;if(k){const Ft=ie.get(k);void 0!==Ft.__useDefaultFramebuffer?(pe.bindFramebuffer(36160,null),X=!1):void 0===Ft.__webglFramebuffer?re.setupRenderTarget(k):Ft.__hasExternalTextures&&re.rebindTextures(k,ie.get(k.texture).__webglTexture,ie.get(k.depthTexture).__webglTexture)}let oe=null,_t=!1,It=!1;if(k){const Ft=k.texture;(Ft.isData3DTexture||Ft.isDataArrayTexture)&&(It=!0);const fn=ie.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(oe=fn[q],_t=!0):oe=et.isWebGL2&&k.samples>0&&!1===re.useMultisampledRTT(k)?ie.get(k).__webglMultisampledFramebuffer:fn,C.copy(k.viewport),S.copy(k.scissor),E=k.scissorTest}else C.copy(V).multiplyScalar(M).floor(),S.copy(H).multiplyScalar(M).floor(),E=O;if(pe.bindFramebuffer(36160,oe)&&et.drawBuffers&&X&&pe.drawBuffers(k,oe),pe.viewport(C),pe.scissor(S),pe.setScissorTest(E),_t){const Ft=ie.get(k.texture);ne.framebufferTexture2D(36160,36064,34069+q,Ft.__webglTexture,J)}else if(It){const Ft=ie.get(k.texture);ne.framebufferTextureLayer(36160,36064,Ft.__webglTexture,J||0,q||0)}b=-1},this.readRenderTargetPixels=function(k,q,J,X,oe,_t,It){if(!k||!k.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Vt=ie.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&void 0!==It&&(Vt=Vt[It]),Vt){pe.bindFramebuffer(36160,Vt);try{const Ft=k.texture,fn=Ft.format,Jt=Ft.type;if(fn!==or&&R.convert(fn)!==ne.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const sn=Jt===po&&(rt.has("EXT_color_buffer_half_float")||et.isWebGL2&&rt.has("EXT_color_buffer_float"));if(!(Jt===Ql||R.convert(Jt)===ne.getParameter(35738)||Jt===Br&&(et.isWebGL2||rt.has("OES_texture_float")||rt.has("WEBGL_color_buffer_float"))||sn))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");q>=0&&q<=k.width-X&&J>=0&&J<=k.height-oe&&ne.readPixels(q,J,X,oe,R.convert(fn),R.convert(Jt),_t)}finally{const Ft=null!==v?ie.get(v).__webglFramebuffer:null;pe.bindFramebuffer(36160,Ft)}}},this.copyFramebufferToTexture=function(k,q,J=0){if(!0!==q.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const X=Math.pow(2,-J),oe=Math.floor(q.image.width*X),_t=Math.floor(q.image.height*X);re.setTexture2D(q,0),ne.copyTexSubImage2D(3553,J,0,0,k.x,k.y,oe,_t),pe.unbindTexture()},this.copyTextureToTexture=function(k,q,J,X=0){const oe=q.image.width,_t=q.image.height,It=R.convert(J.format),Vt=R.convert(J.type);re.setTexture2D(J,0),ne.pixelStorei(37440,J.flipY),ne.pixelStorei(37441,J.premultiplyAlpha),ne.pixelStorei(3317,J.unpackAlignment),q.isDataTexture?ne.texSubImage2D(3553,X,k.x,k.y,oe,_t,It,Vt,q.image.data):q.isCompressedTexture?ne.compressedTexSubImage2D(3553,X,k.x,k.y,q.mipmaps[0].width,q.mipmaps[0].height,It,q.mipmaps[0].data):ne.texSubImage2D(3553,X,k.x,k.y,It,Vt,q.image),0===X&&J.generateMipmaps&&ne.generateMipmap(3553),pe.unbindTexture()},this.copyTextureToTexture3D=function(k,q,J,X,oe=0){if(m.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const _t=k.max.x-k.min.x+1,It=k.max.y-k.min.y+1,Vt=k.max.z-k.min.z+1,Ft=R.convert(X.format),fn=R.convert(X.type);let Jt;if(X.isData3DTexture)re.setTexture3D(X,0),Jt=32879;else{if(!X.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");re.setTexture2DArray(X,0),Jt=35866}ne.pixelStorei(37440,X.flipY),ne.pixelStorei(37441,X.premultiplyAlpha),ne.pixelStorei(3317,X.unpackAlignment);const sn=ne.getParameter(3314),ei=ne.getParameter(32878),Xc=ne.getParameter(3316),_h=ne.getParameter(3315),yh=ne.getParameter(32877),Ro=J.isCompressedTexture?J.mipmaps[0]:J.image;ne.pixelStorei(3314,Ro.width),ne.pixelStorei(32878,Ro.height),ne.pixelStorei(3316,k.min.x),ne.pixelStorei(3315,k.min.y),ne.pixelStorei(32877,k.min.z),J.isDataTexture||J.isData3DTexture?ne.texSubImage3D(Jt,oe,q.x,q.y,q.z,_t,It,Vt,Ft,fn,Ro.data):J.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ne.compressedTexSubImage3D(Jt,oe,q.x,q.y,q.z,_t,It,Vt,Ft,Ro.data)):ne.texSubImage3D(Jt,oe,q.x,q.y,q.z,_t,It,Vt,Ft,fn,Ro),ne.pixelStorei(3314,sn),ne.pixelStorei(32878,ei),ne.pixelStorei(3316,Xc),ne.pixelStorei(3315,_h),ne.pixelStorei(32877,yh),0===oe&&X.generateMipmaps&&ne.generateMipmap(Jt),pe.unbindTexture()},this.initTexture=function(k){re.setTexture2D(k,0),pe.unbindTexture()},this.resetState=function(){_=0,y=0,v=null,pe.reset(),fe.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}un.prototype.isWebGLRenderer=!0,class Ore extends un{}.prototype.isWebGL1Renderer=!0;class ay{constructor(t,e=25e-5){this.name="",this.color=new ve(t),this.density=e}clone(){return new ay(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}ay.prototype.isFogExp2=!0;class ly{constructor(t,e=1,i=1e3){this.name="",this.color=new ve(t),this.near=e,this.far=i}clone(){return new ly(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}ly.prototype.isFog=!0;class cy extends rn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}cy.prototype.isScene=!0;class hc{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=zf,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ns()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let s=0,r=this.stride;s<r;s++)this.array[t+s]=e.array[i+s];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ns()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Ns()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}hc.prototype.isInterleavedBuffer=!0;const _s=new D;class sl{constructor(t,e,i,s=!1){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)_s.fromBufferAttribute(this,e),_s.applyMatrix4(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)_s.fromBufferAttribute(this,e),_s.applyNormalMatrix(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)_s.fromBufferAttribute(this,e),_s.transformDirection(t),this.setXYZ(e,_s.x,_s.y,_s.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,s){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this}setXYZW(t,e,i,s,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=s,this.data.array[t+3]=r,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return new gn(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new sl(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const s=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)e.push(this.data.array[s+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}sl.prototype.isInterleavedBufferAttribute=!0;class RC extends zn{constructor(t){super(),this.type="SpriteMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let Ru;RC.prototype.isSpriteMaterial=!0;const Jf=new D,ku=new D,Iu=new D,Pu=new ee,ep=new ee,o2=new je,dy=new D,tp=new D,uy=new D,a2=new ee,kC=new ee,l2=new ee;function hy(n,t,e,i,s,r){Pu.subVectors(n,e).addScalar(.5).multiply(i),void 0!==s?(ep.x=r*Pu.x-s*Pu.y,ep.y=s*Pu.x+r*Pu.y):ep.copy(Pu),n.copy(t),n.x+=ep.x,n.y+=ep.y,n.applyMatrix4(o2)}(class c2 extends rn{constructor(t){if(super(),this.type="Sprite",void 0===Ru){Ru=new ut;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new hc(e,5);Ru.setIndex([0,1,2,0,2,3]),Ru.setAttribute("position",new sl(i,3,0,!1)),Ru.setAttribute("uv",new sl(i,2,3,!1))}this.geometry=Ru,this.material=void 0!==t?t:new RC,this.center=new ee(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ku.setFromMatrixScale(this.matrixWorld),o2.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Iu.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&ku.multiplyScalar(-Iu.z);const i=this.material.rotation;let s,r;0!==i&&(r=Math.cos(i),s=Math.sin(i));const o=this.center;hy(dy.set(-.5,-.5,0),Iu,o,ku,s,r),hy(tp.set(.5,-.5,0),Iu,o,ku,s,r),hy(uy.set(.5,.5,0),Iu,o,ku,s,r),a2.set(0,0),kC.set(1,0),l2.set(1,1);let a=t.ray.intersectTriangle(dy,tp,uy,!1,Jf);if(null===a&&(hy(tp.set(-.5,.5,0),Iu,o,ku,s,r),kC.set(0,1),a=t.ray.intersectTriangle(dy,uy,tp,!1,Jf),null===a))return;const l=t.ray.origin.distanceTo(Jf);l<t.near||l>t.far||e.push({distance:l,point:Jf.clone(),uv:mi.getUV(Jf,dy,tp,uy,a2,kC,l2,new ee),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}).prototype.isSprite=!0;const u2=new D,h2=new dn,f2=new dn,Lre=new D,p2=new je;class py extends Ri{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new je,this.bindMatrixInverse=new je}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new dn,e=this.geometry.attributes.skinWeight;for(let i=0,s=e.count;i<s;i++){t.fromBufferAttribute(e,i);const r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const i=this.skeleton,s=this.geometry;h2.fromBufferAttribute(s.attributes.skinIndex,t),f2.fromBufferAttribute(s.attributes.skinWeight,t),u2.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const o=f2.getComponent(r);if(0!==o){const a=h2.getComponent(r);p2.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),e.addScaledVector(Lre.copy(u2).applyMatrix4(p2),o)}}return e.applyMatrix4(this.bindMatrixInverse)}}py.prototype.isSkinnedMesh=!0;class my extends rn{constructor(){super(),this.type="Bone"}}my.prototype.isBone=!0;class Ou extends Ji{constructor(t=null,e=1,i=1,s,r,o,a,l,c=pi,d=pi,u,h){super(null,o,a,l,c,d,s,r,u,h),this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}Ou.prototype.isDataTexture=!0;const m2=new je,Nre=new je;class gy{constructor(t=[],e=[]){this.uuid=Ns(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,s=this.bones.length;i<s;i++)this.boneInverses.push(new je)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new je;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,s=this.boneTexture;for(let r=0,o=t.length;r<o;r++)m2.multiplyMatrices(t[r]?t[r].matrixWorld:Nre,e[r]),m2.toArray(i,16*r);null!==s&&(s.needsUpdate=!0)}clone(){return new gy(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=cN(t),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Ou(e,t,t,or,Br);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this.boneTextureSize=t,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const s=this.bones[e];if(s.name===t)return s}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,s=t.bones.length;i<s;i++){const r=t.bones[i];let o=e[r];void 0===o&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),o=new my),this.bones.push(o),this.boneInverses.push((new je).fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let s=0,r=e.length;s<r;s++)t.bones.push(e[s].uuid),t.boneInverses.push(i[s].toArray());return t}}class Fu extends gn{constructor(t,e,i,s=1){"number"==typeof i&&(s=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,i),this.meshPerAttribute=s}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}Fu.prototype.isInstancedBufferAttribute=!0;const g2=new je,_2=new je,_y=[],np=new Ri;(class y2 extends Ri{constructor(t,e,i){super(t,e),this.instanceMatrix=new Fu(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const i=this.matrixWorld,s=this.count;if(np.geometry=this.geometry,np.material=this.material,void 0!==np.material)for(let r=0;r<s;r++){this.getMatrixAt(r,g2),_2.multiplyMatrices(i,g2),np.matrixWorld=_2,np.raycast(t,_y);for(let o=0,a=_y.length;o<a;o++){const l=_y[o];l.instanceId=r,l.object=this,e.push(l)}_y.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new Fu(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class Vi extends zn{constructor(t){super(),this.type="LineBasicMaterial",this.color=new ve(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}Vi.prototype.isLineBasicMaterial=!0;const v2=new D,b2=new D,x2=new je,IC=new ac,yy=new Qa;class rl extends rn{constructor(t=new ut,e=new Vi){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[0];for(let s=1,r=e.count;s<r;s++)v2.fromBufferAttribute(e,s-1),b2.fromBufferAttribute(e,s),i[s]=i[s-1],i[s]+=v2.distanceTo(b2);t.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Line.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),yy.copy(i.boundingSphere),yy.applyMatrix4(s),yy.radius+=r,!1===t.ray.intersectsSphere(yy))return;x2.copy(s).invert(),IC.copy(t.ray).applyMatrix4(x2);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new D,d=new D,u=new D,h=new D,f=this.isLineSegments?2:1;if(i.isBufferGeometry){const p=i.index,g=i.attributes.position;if(null!==p)for(let v=Math.max(0,o.start),b=Math.min(p.count,o.start+o.count)-1;v<b;v+=f){const w=p.getX(v),C=p.getX(v+1);if(c.fromBufferAttribute(g,w),d.fromBufferAttribute(g,C),IC.distanceSqToSegment(c,d,h,u)>l)continue;h.applyMatrix4(this.matrixWorld);const E=t.ray.origin.distanceTo(h);E<t.near||E>t.far||e.push({distance:E,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}else for(let v=Math.max(0,o.start),b=Math.min(g.count,o.start+o.count)-1;v<b;v+=f){if(c.fromBufferAttribute(g,v),d.fromBufferAttribute(g,v+1),IC.distanceSqToSegment(c,d,h,u)>l)continue;h.applyMatrix4(this.matrixWorld);const C=t.ray.origin.distanceTo(h);C<t.near||C>t.far||e.push({distance:C,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}rl.prototype.isLine=!0;const w2=new D,M2=new D;class fc extends rl{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[];for(let s=0,r=e.count;s<r;s+=2)w2.fromBufferAttribute(e,s),M2.fromBufferAttribute(e,s+1),i[s]=0===s?0:i[s-1],i[s+1]=i[s]+w2.distanceTo(M2);t.setAttribute("lineDistance",new We(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}fc.prototype.isLineSegments=!0;class PC extends rl{constructor(t,e){super(t,e),this.type="LineLoop"}}PC.prototype.isLineLoop=!0;class vy extends zn{constructor(t){super(),this.type="PointsMaterial",this.color=new ve(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}vy.prototype.isPointsMaterial=!0;const C2=new je,OC=new ac,by=new Qa,xy=new D;class FC extends rn{constructor(t=new ut,e=new vy){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,s=this.matrixWorld,r=t.params.Points.threshold,o=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),by.copy(i.boundingSphere),by.applyMatrix4(s),by.radius+=r,!1===t.ray.intersectsSphere(by))return;C2.copy(s).invert(),OC.copy(t.ray).applyMatrix4(C2);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a;if(i.isBufferGeometry){const c=i.index,u=i.attributes.position;if(null!==c)for(let p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);p<m;p++){const g=c.getX(p);xy.fromBufferAttribute(u,g),S2(xy,g,l,s,t,e,this)}else for(let p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);p<m;p++)xy.fromBufferAttribute(u,p),S2(xy,p,l,s,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const s=e[i[0]];if(void 0!==s){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=s.length;r<o;r++){const a=s[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function S2(n,t,e,i,s,r,o){const a=OC.distanceSqToPoint(n);if(a<e){const l=new D;OC.closestPointToPoint(n,l),l.applyMatrix4(i);const c=s.ray.origin.distanceTo(l);if(c<s.near||c>s.far)return;r.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:o})}}FC.prototype.isPoints=!0,class Bre extends Ji{constructor(t,e,i,s,r,o,a,l,c){super(t,e,i,s,r,o,a,l,c),this.minFilter=void 0!==o?o:Mn,this.magFilter=void 0!==r?r:Mn,this.generateMipmaps=!1;const d=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function u(){d.needsUpdate=!0,t.requestVideoFrameCallback(u)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0,class Vre extends Ji{constructor(t,e,i){super({width:t,height:e}),this.format=i,this.magFilter=pi,this.minFilter=pi,this.generateMipmaps=!1,this.needsUpdate=!0}}.prototype.isFramebufferTexture=!0;(class D2 extends Ji{constructor(t,e,i,s,r,o,a,l,c,d,u,h){super(null,o,a,l,c,d,s,r,u,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class Hre extends Ji{constructor(t,e,i,s,r,o,a,l,c){super(t,e,i,s,r,o,a,l,c),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0;class lr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,s=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)i=this.getPoint(o/t),r+=i.distanceTo(s),e.push(r),s=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const i=this.getLengths();let s=0;const r=i.length;let o;o=e||t*i[r-1];let c,a=0,l=r-1;for(;a<=l;)if(s=Math.floor(a+(l-a)/2),c=i[s]-o,c<0)a=s+1;else{if(!(c>0)){l=s;break}l=s-1}if(s=l,i[s]===o)return s/(r-1);const d=i[s];return(s+(o-d)/(i[s+1]-d))/(r-1)}getTangent(t,e){const i=1e-4;let s=t-i,r=t+i;s<0&&(s=0),r>1&&(r=1);const o=this.getPoint(s),a=this.getPoint(r),l=e||(o.isVector2?new ee:new D);return l.copy(a).sub(o).normalize(),l}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e){const i=new D,s=[],r=[],o=[],a=new D,l=new je;for(let f=0;f<=t;f++)s[f]=this.getTangentAt(f/t,new D);r[0]=new D,o[0]=new D;let c=Number.MAX_VALUE;const d=Math.abs(s[0].x),u=Math.abs(s[0].y),h=Math.abs(s[0].z);d<=c&&(c=d,i.set(1,0,0)),u<=c&&(c=u,i.set(0,1,0)),h<=c&&i.set(0,0,1),a.crossVectors(s[0],i).normalize(),r[0].crossVectors(s[0],a),o[0].crossVectors(s[0],r[0]);for(let f=1;f<=t;f++){if(r[f]=r[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(s[f-1],s[f]),a.length()>Number.EPSILON){a.normalize();const p=Math.acos(ii(s[f-1].dot(s[f]),-1,1));r[f].applyMatrix4(l.makeRotationAxis(a,p))}o[f].crossVectors(s[f],r[f])}if(!0===e){let f=Math.acos(ii(r[0].dot(r[t]),-1,1));f/=t,s[0].dot(a.crossVectors(r[0],r[t]))>0&&(f=-f);for(let p=1;p<=t;p++)r[p].applyMatrix4(l.makeRotationAxis(s[p],f*p)),o[p].crossVectors(s[p],r[p])}return{tangents:s,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class wy extends lr{constructor(t=0,e=0,i=1,s=1,r=0,o=2*Math.PI,a=!1,l=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=s,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(t,e){const i=e||new ee,s=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=s;for(;r>s;)r-=s;r<Number.EPSILON&&(r=o?0:s),!0===this.aClockwise&&!o&&(r===s?r=-s:r-=s);const a=this.aStartAngle+t*r;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=l-this.aX,f=c-this.aY;l=h*d-f*u+this.aX,c=h*u+f*d+this.aY}return i.set(l,c)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}wy.prototype.isEllipseCurve=!0;class E2 extends wy{constructor(t,e,i,s,r,o){super(t,e,i,i,s,r,o),this.type="ArcCurve"}}function LC(){let n=0,t=0,e=0,i=0;function s(r,o,a,l){n=r,t=a,e=-3*r+3*o-2*a-l,i=2*r-2*o+a+l}return{initCatmullRom:function(r,o,a,l,c){s(o,a,c*(a-r),c*(l-o))},initNonuniformCatmullRom:function(r,o,a,l,c,d,u){let h=(o-r)/c-(a-r)/(c+d)+(a-o)/d,f=(a-o)/d-(l-o)/(d+u)+(l-a)/u;h*=d,f*=d,s(o,a,h,f)},calc:function(r){const o=r*r;return n+t*r+e*o+i*(o*r)}}}E2.prototype.isArcCurve=!0;const My=new D,NC=new LC,BC=new LC,VC=new LC;class A2 extends lr{constructor(t=[],e=!1,i="centripetal",s=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=s}getPoint(t,e=new D){const i=e,s=this.points,r=s.length,o=(r-(this.closed?0:1))*t;let c,d,a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/r)+1)*r:0===l&&a===r-1&&(a=r-2,l=1),this.closed||a>0?c=s[(a-1)%r]:(My.subVectors(s[0],s[1]).add(s[0]),c=My);const u=s[a%r],h=s[(a+1)%r];if(this.closed||a+2<r?d=s[(a+2)%r]:(My.subVectors(s[r-1],s[r-2]).add(s[r-1]),d=My),"centripetal"===this.curveType||"chordal"===this.curveType){const f="chordal"===this.curveType?.5:.25;let p=Math.pow(c.distanceToSquared(u),f),m=Math.pow(u.distanceToSquared(h),f),g=Math.pow(h.distanceToSquared(d),f);m<1e-4&&(m=1),p<1e-4&&(p=m),g<1e-4&&(g=m),NC.initNonuniformCatmullRom(c.x,u.x,h.x,d.x,p,m,g),BC.initNonuniformCatmullRom(c.y,u.y,h.y,d.y,p,m,g),VC.initNonuniformCatmullRom(c.z,u.z,h.z,d.z,p,m,g)}else"catmullrom"===this.curveType&&(NC.initCatmullRom(c.x,u.x,h.x,d.x,this.tension),BC.initCatmullRom(c.y,u.y,h.y,d.y,this.tension),VC.initCatmullRom(c.z,u.z,h.z,d.z,this.tension));return i.set(NC.calc(l),BC.calc(l),VC.calc(l)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new D).fromArray(s))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function T2(n,t,e,i,s){const r=.5*(i-t),o=.5*(s-e),a=n*n;return(2*e-2*i+r+o)*(n*a)+(-3*e+3*i-2*r-o)*a+r*n+e}function ip(n,t,e,i){return function zre(n,t){const e=1-n;return e*e*t}(n,t)+function Ure(n,t){return 2*(1-n)*n*t}(n,e)+function Gre(n,t){return n*n*t}(n,i)}function sp(n,t,e,i,s){return function jre(n,t){const e=1-n;return e*e*e*t}(n,t)+function Wre(n,t){const e=1-n;return 3*e*e*n*t}(n,e)+function $re(n,t){return 3*(1-n)*n*n*t}(n,i)+function qre(n,t){return n*n*n*t}(n,s)}A2.prototype.isCatmullRomCurve3=!0;class HC extends lr{constructor(t=new ee,e=new ee,i=new ee,s=new ee){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new ee){const i=e,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(sp(t,s.x,r.x,o.x,a.x),sp(t,s.y,r.y,o.y,a.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}HC.prototype.isCubicBezierCurve=!0;class R2 extends lr{constructor(t=new D,e=new D,i=new D,s=new D){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=s}getPoint(t,e=new D){const i=e,s=this.v0,r=this.v1,o=this.v2,a=this.v3;return i.set(sp(t,s.x,r.x,o.x,a.x),sp(t,s.y,r.y,o.y,a.y),sp(t,s.z,r.z,o.z,a.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}R2.prototype.isCubicBezierCurve3=!0;class Cy extends lr{constructor(t=new ee,e=new ee){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new ee){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const i=e||new ee;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}Cy.prototype.isLineCurve=!0;class zC extends lr{constructor(t=new ee,e=new ee,i=new ee){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new ee){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(ip(t,s.x,r.x,o.x),ip(t,s.y,r.y,o.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}zC.prototype.isQuadraticBezierCurve=!0;class UC extends lr{constructor(t=new D,e=new D,i=new D){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new D){const i=e,s=this.v0,r=this.v1,o=this.v2;return i.set(ip(t,s.x,r.x,o.x),ip(t,s.y,r.y,o.y),ip(t,s.z,r.z,o.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}UC.prototype.isQuadraticBezierCurve3=!0;class GC extends lr{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new ee){const i=e,s=this.points,r=(s.length-1)*t,o=Math.floor(r),a=r-o,l=s[0===o?o:o-1],c=s[o],d=s[o>s.length-2?s.length-1:o+1],u=s[o>s.length-3?s.length-1:o+2];return i.set(T2(a,l.x,c.x,d.x,u.x),T2(a,l.y,c.y,d.y,u.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const s=t.points[e];this.points.push((new ee).fromArray(s))}return this}}GC.prototype.isSplineCurve=!0;var jC=Object.freeze({__proto__:null,ArcCurve:E2,CatmullRomCurve3:A2,CubicBezierCurve:HC,CubicBezierCurve3:R2,EllipseCurve:wy,LineCurve:Cy,LineCurve3:class Yre extends lr{constructor(t=new D,e=new D){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new D){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:zC,QuadraticBezierCurve3:UC,SplineCurve:GC});class Xre extends lr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Cy(e,t))}getPoint(t,e){const i=t*this.getLength(),s=this.getCurveLengths();let r=0;for(;r<s.length;){if(s[r]>=i){const o=s[r]-i,a=this.curves[r],l=a.getLength();return a.getPointAt(0===l?0:1-o/l,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,s=this.curves.length;i<s;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let s=0,r=this.curves;s<r.length;s++){const o=r[s],l=o.getPoints(o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t);for(let c=0;c<l.length;c++){const d=l[c];i&&i.equals(d)||(e.push(d),i=d)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const s=t.curves[e];this.curves.push((new jC[s.type]).fromJSON(s))}return this}}class rp extends Xre{constructor(t){super(),this.type="Path",this.currentPoint=new ee,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new Cy(this.currentPoint.clone(),new ee(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,s){const r=new zC(this.currentPoint.clone(),new ee(t,e),new ee(i,s));return this.curves.push(r),this.currentPoint.set(i,s),this}bezierCurveTo(t,e,i,s,r,o){const a=new HC(this.currentPoint.clone(),new ee(t,e),new ee(i,s),new ee(r,o));return this.curves.push(a),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new GC(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,s,r,o){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,o),this}absarc(t,e,i,s,r,o){return this.absellipse(t,e,i,i,s,r,o),this}ellipse(t,e,i,s,r,o,a,l){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,i,s,r,o,a,l),this}absellipse(t,e,i,s,r,o,a,l){const c=new wy(t,e,i,s,r,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}new D,new D,new D,new mi;class oa extends rp{constructor(t){super(t),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,s=this.holes.length;i<s;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const s=t.holes[e];this.holes.push((new rp).fromJSON(s))}return this}}function I2(n,t,e,i,s){let r,o;if(s===function hoe(n,t,e,i){let s=0;for(let r=t,o=e-i;r<e;r+=i)s+=(n[o]-n[r])*(n[r+1]+n[o+1]),o=r;return s}(n,t,e,i)>0)for(r=t;r<e;r+=i)o=F2(r,n[r],n[r+1],o);else for(r=e-i;r>=t;r-=i)o=F2(r,n[r],n[r+1],o);return o&&Iy(o,o.next)&&(cp(o),o=o.next),o}function al(n,t){if(!n)return n;t||(t=n);let i,e=n;do{if(i=!1,e.steiner||!Iy(e,e.next)&&0!==Un(e.prev,e,e.next))e=e.next;else{if(cp(e),e=t=e.prev,e===e.next)break;i=!0}}while(i||e!==t);return t}function ap(n,t,e,i,s,r,o){if(!n)return;!o&&r&&function ooe(n,t,e,i){let s=n;do{null===s.z&&(s.z=$C(s.x,s.y,t,e,i)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next}while(s!==n);s.prevZ.nextZ=null,s.prevZ=null,function aoe(n){let t,e,i,s,r,o,a,l,c=1;do{for(e=n,n=null,r=null,o=0;e;){for(o++,i=e,a=0,t=0;t<c&&(a++,i=i.nextZ,i);t++);for(l=c;a>0||l>0&&i;)0!==a&&(0===l||!i||e.z<=i.z)?(s=e,e=e.nextZ,a--):(s=i,i=i.nextZ,l--),r?r.nextZ=s:n=s,s.prevZ=r,r=s;e=i}r.nextZ=null,c*=2}while(o>1)}(s)}(n,i,s,r);let l,c,a=n;for(;n.prev!==n.next;)if(l=n.prev,c=n.next,r?Zre(n,i,s,r):Qre(n))t.push(l.i/e),t.push(n.i/e),t.push(c.i/e),cp(n),n=c.next,a=c.next;else if((n=c)===a){o?1===o?ap(n=Jre(al(n),t,e),t,e,i,s,r,2):2===o&&eoe(n,t,e,i,s,r):ap(al(n),t,e,i,s,r,1);break}}function Qre(n){const t=n.prev,e=n,i=n.next;if(Un(t,e,i)>=0)return!1;let s=n.next.next;for(;s!==n.prev;){if(Nu(t.x,t.y,e.x,e.y,i.x,i.y,s.x,s.y)&&Un(s.prev,s,s.next)>=0)return!1;s=s.next}return!0}function Zre(n,t,e,i){const s=n.prev,r=n,o=n.next;if(Un(s,r,o)>=0)return!1;const c=s.x>r.x?s.x>o.x?s.x:o.x:r.x>o.x?r.x:o.x,d=s.y>r.y?s.y>o.y?s.y:o.y:r.y>o.y?r.y:o.y,u=$C(s.x<r.x?s.x<o.x?s.x:o.x:r.x<o.x?r.x:o.x,s.y<r.y?s.y<o.y?s.y:o.y:r.y<o.y?r.y:o.y,t,e,i),h=$C(c,d,t,e,i);let f=n.prevZ,p=n.nextZ;for(;f&&f.z>=u&&p&&p.z<=h;){if(f!==n.prev&&f!==n.next&&Nu(s.x,s.y,r.x,r.y,o.x,o.y,f.x,f.y)&&Un(f.prev,f,f.next)>=0||(f=f.prevZ,p!==n.prev&&p!==n.next&&Nu(s.x,s.y,r.x,r.y,o.x,o.y,p.x,p.y)&&Un(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;f&&f.z>=u;){if(f!==n.prev&&f!==n.next&&Nu(s.x,s.y,r.x,r.y,o.x,o.y,f.x,f.y)&&Un(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=h;){if(p!==n.prev&&p!==n.next&&Nu(s.x,s.y,r.x,r.y,o.x,o.y,p.x,p.y)&&Un(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Jre(n,t,e){let i=n;do{const s=i.prev,r=i.next.next;!Iy(s,r)&&P2(s,i,i.next,r)&&lp(s,r)&&lp(r,s)&&(t.push(s.i/e),t.push(i.i/e),t.push(r.i/e),cp(i),cp(i.next),i=n=r),i=i.next}while(i!==n);return al(i)}function eoe(n,t,e,i,s,r){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&coe(o,a)){let l=O2(o,a);return o=al(o,o.next),l=al(l,l.next),ap(o,t,e,i,s,r),void ap(l,t,e,i,s,r)}a=a.next}o=o.next}while(o!==n)}function noe(n,t){return n.x-t.x}function ioe(n,t){if(t=function soe(n,t){let e=t;const i=n.x,s=n.y;let o,r=-1/0;do{if(s<=e.y&&s>=e.next.y&&e.next.y!==e.y){const h=e.x+(s-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(h<=i&&h>r){if(r=h,h===i){if(s===e.y)return e;if(s===e.next.y)return e.next}o=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!o)return null;if(i===r)return o;const a=o,l=o.x,c=o.y;let u,d=1/0;e=o;do{i>=e.x&&e.x>=l&&i!==e.x&&Nu(s<c?i:r,s,l,c,s<c?r:i,s,e.x,e.y)&&(u=Math.abs(s-e.y)/(i-e.x),lp(e,n)&&(u<d||u===d&&(e.x>o.x||e.x===o.x&&roe(o,e)))&&(o=e,d=u)),e=e.next}while(e!==a);return o}(n,t),t){const e=O2(t,n);al(t,t.next),al(e,e.next)}}function roe(n,t){return Un(n.prev,n,t.prev)<0&&Un(t.next,n,n.next)<0}function $C(n,t,e,i,s){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-e)*s)|n<<8))|n<<4))|n<<2))|n<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*s)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function loe(n){let t=n,e=n;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==n);return e}function Nu(n,t,e,i,s,r,o,a){return(s-o)*(t-a)-(n-o)*(r-a)>=0&&(n-o)*(i-a)-(e-o)*(t-a)>=0&&(e-o)*(r-a)-(s-o)*(i-a)>=0}function coe(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!function doe(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&P2(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}(n,t)&&(lp(n,t)&&lp(t,n)&&function uoe(n,t){let e=n,i=!1;const s=(n.x+t.x)/2,r=(n.y+t.y)/2;do{e.y>r!=e.next.y>r&&e.next.y!==e.y&&s<(e.next.x-e.x)*(r-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next}while(e!==n);return i}(n,t)&&(Un(n.prev,n,t.prev)||Un(n,t.prev,t))||Iy(n,t)&&Un(n.prev,n,n.next)>0&&Un(t.prev,t,t.next)>0)}function Un(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function Iy(n,t){return n.x===t.x&&n.y===t.y}function P2(n,t,e,i){const s=Oy(Un(n,t,e)),r=Oy(Un(n,t,i)),o=Oy(Un(e,i,n)),a=Oy(Un(e,i,t));return!!(s!==r&&o!==a||0===s&&Py(n,e,t)||0===r&&Py(n,i,t)||0===o&&Py(e,n,i)||0===a&&Py(e,t,i))}function Py(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Oy(n){return n>0?1:n<0?-1:0}function lp(n,t){return Un(n.prev,n,n.next)<0?Un(n,t,n.next)>=0&&Un(n,n.prev,t)>=0:Un(n,t,n.prev)<0||Un(n,n.next,t)<0}function O2(n,t){const e=new qC(n.i,n.x,n.y),i=new qC(t.i,t.x,t.y),s=n.next,r=t.prev;return n.next=t,t.prev=n,e.next=s,s.prev=e,i.next=e,e.prev=i,r.next=i,i.prev=r,i}function F2(n,t,e,i){const s=new qC(n,t,e);return i?(s.next=i.next,s.prev=i,i.next.prev=s,i.next=s):(s.prev=s,s.next=s),s}function cp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function qC(n,t,e){this.i=n,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class aa{static area(t){const e=t.length;let i=0;for(let s=e-1,r=0;r<e;s=r++)i+=t[s].x*t[r].y-t[r].x*t[s].y;return.5*i}static isClockWise(t){return aa.area(t)<0}static triangulateShape(t,e){const i=[],s=[],r=[];L2(t),N2(i,t);let o=t.length;e.forEach(L2);for(let l=0;l<e.length;l++)s.push(o),o+=e[l].length,N2(i,e[l]);const a=function(n,t,e=2){const i=t&&t.length,s=i?t[0]*e:n.length;let r=I2(n,0,s,e,!0);const o=[];if(!r||r.next===r.prev)return o;let a,l,c,d,u,h,f;if(i&&(r=function toe(n,t,e,i){const s=[];let r,o,a,l,c;for(r=0,o=t.length;r<o;r++)a=t[r]*i,l=r<o-1?t[r+1]*i:n.length,c=I2(n,a,l,i,!1),c===c.next&&(c.steiner=!0),s.push(loe(c));for(s.sort(noe),r=0;r<s.length;r++)ioe(s[r],e),e=al(e,e.next);return e}(n,t,r,e)),n.length>80*e){a=c=n[0],l=d=n[1];for(let p=e;p<s;p+=e)u=n[p],h=n[p+1],u<a&&(a=u),h<l&&(l=h),u>c&&(c=u),h>d&&(d=h);f=Math.max(c-a,d-l),f=0!==f?1/f:0}return ap(r,o,e,a,l,f),o}(i,s);for(let l=0;l<a.length;l+=3)r.push(a.slice(l,l+3));return r}}function L2(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function N2(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class ll extends ut{constructor(t=new oa([new ee(.5,.5),new ee(-.5,.5),new ee(-.5,-.5),new ee(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,s=[],r=[];for(let a=0,l=t.length;a<l;a++)o(t[a]);function o(a){const l=[],c=void 0!==e.curveSegments?e.curveSegments:12,d=void 0!==e.steps?e.steps:1;let u=void 0!==e.depth?e.depth:1,h=void 0===e.bevelEnabled||e.bevelEnabled,f=void 0!==e.bevelThickness?e.bevelThickness:.2,p=void 0!==e.bevelSize?e.bevelSize:f-.1,m=void 0!==e.bevelOffset?e.bevelOffset:0,g=void 0!==e.bevelSegments?e.bevelSegments:3;const _=e.extrudePath,y=void 0!==e.UVGenerator?e.UVGenerator:foe;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=e.amount);let v,w,C,S,E,b=!1;_&&(v=_.getSpacedPoints(d),b=!0,h=!1,w=_.computeFrenetFrames(d,!1),C=new D,S=new D,E=new D),h||(g=0,f=0,p=0,m=0);const I=a.extractPoints(c);let L=I.shape;const M=I.holes;if(!aa.isClockWise(L)){L=L.reverse();for(let ie=0,re=M.length;ie<re;ie++){const ye=M[ie];aa.isClockWise(ye)&&(M[ie]=ye.reverse())}}const W=aa.triangulateShape(L,M),V=L;for(let ie=0,re=M.length;ie<re;ie++)L=L.concat(M[ie]);function H(ie,re,ye){return re||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().multiplyScalar(ye).add(ie)}const O=L.length,B=W.length;function F(ie,re,ye){let Ue,Pe,wt;const lt=ie.x-re.x,tt=ie.y-re.y,En=ye.x-ie.x,an=ye.y-ie.y,P=lt*lt+tt*tt;if(Math.abs(lt*an-tt*En)>Number.EPSILON){const Z=Math.sqrt(P),ue=Math.sqrt(En*En+an*an),ke=re.x-tt/Z,Ve=re.y+lt/Z,fe=((ye.x-an/ue-ke)*an-(ye.y+En/ue-Ve)*En)/(lt*an-tt*En);Ue=ke+lt*fe-ie.x,Pe=Ve+tt*fe-ie.y;const qe=Ue*Ue+Pe*Pe;if(qe<=2)return new ee(Ue,Pe);wt=Math.sqrt(qe/2)}else{let Z=!1;lt>Number.EPSILON?En>Number.EPSILON&&(Z=!0):lt<-Number.EPSILON?En<-Number.EPSILON&&(Z=!0):Math.sign(tt)===Math.sign(an)&&(Z=!0),Z?(Ue=-tt,Pe=lt,wt=Math.sqrt(P)):(Ue=lt,Pe=tt,wt=Math.sqrt(P/2))}return new ee(Ue/wt,Pe/wt)}const $=[];for(let ie=0,re=V.length,ye=re-1,Ue=ie+1;ie<re;ie++,ye++,Ue++)ye===re&&(ye=0),Ue===re&&(Ue=0),$[ie]=F(V[ie],V[ye],V[Ue]);const Q=[];let le,te=$.concat();for(let ie=0,re=M.length;ie<re;ie++){const ye=M[ie];le=[];for(let Ue=0,Pe=ye.length,wt=Pe-1,lt=Ue+1;Ue<Pe;Ue++,wt++,lt++)wt===Pe&&(wt=0),lt===Pe&&(lt=0),le[Ue]=F(ye[Ue],ye[wt],ye[lt]);Q.push(le),te=te.concat(le)}for(let ie=0;ie<g;ie++){const re=ie/g,ye=f*Math.cos(re*Math.PI/2),Ue=p*Math.sin(re*Math.PI/2)+m;for(let Pe=0,wt=V.length;Pe<wt;Pe++){const lt=H(V[Pe],$[Pe],Ue);ht(lt.x,lt.y,-ye)}for(let Pe=0,wt=M.length;Pe<wt;Pe++){const lt=M[Pe];le=Q[Pe];for(let tt=0,En=lt.length;tt<En;tt++){const an=H(lt[tt],le[tt],Ue);ht(an.x,an.y,-ye)}}}const Le=p+m;for(let ie=0;ie<O;ie++){const re=h?H(L[ie],te[ie],Le):L[ie];b?(S.copy(w.normals[0]).multiplyScalar(re.x),C.copy(w.binormals[0]).multiplyScalar(re.y),E.copy(v[0]).add(S).add(C),ht(E.x,E.y,E.z)):ht(re.x,re.y,0)}for(let ie=1;ie<=d;ie++)for(let re=0;re<O;re++){const ye=h?H(L[re],te[re],Le):L[re];b?(S.copy(w.normals[ie]).multiplyScalar(ye.x),C.copy(w.binormals[ie]).multiplyScalar(ye.y),E.copy(v[ie]).add(S).add(C),ht(E.x,E.y,E.z)):ht(ye.x,ye.y,u/d*ie)}for(let ie=g-1;ie>=0;ie--){const re=ie/g,ye=f*Math.cos(re*Math.PI/2),Ue=p*Math.sin(re*Math.PI/2)+m;for(let Pe=0,wt=V.length;Pe<wt;Pe++){const lt=H(V[Pe],$[Pe],Ue);ht(lt.x,lt.y,u+ye)}for(let Pe=0,wt=M.length;Pe<wt;Pe++){const lt=M[Pe];le=Q[Pe];for(let tt=0,En=lt.length;tt<En;tt++){const an=H(lt[tt],le[tt],Ue);b?ht(an.x,an.y+v[d-1].y,v[d-1].x+ye):ht(an.x,an.y,u+ye)}}}function ne(ie,re){let ye=ie.length;for(;--ye>=0;){const Ue=ye;let Pe=ye-1;Pe<0&&(Pe=ie.length-1);for(let wt=0,lt=d+2*g;wt<lt;wt++){const tt=O*wt,En=O*(wt+1);et(re+Ue+tt,re+Pe+tt,re+Pe+En,re+Ue+En)}}}function ht(ie,re,ye){l.push(ie),l.push(re),l.push(ye)}function rt(ie,re,ye){pe(ie),pe(re),pe(ye);const Ue=s.length/3,Pe=y.generateTopUV(i,s,Ue-3,Ue-2,Ue-1);xt(Pe[0]),xt(Pe[1]),xt(Pe[2])}function et(ie,re,ye,Ue){pe(ie),pe(re),pe(Ue),pe(re),pe(ye),pe(Ue);const Pe=s.length/3,wt=y.generateSideWallUV(i,s,Pe-6,Pe-3,Pe-2,Pe-1);xt(wt[0]),xt(wt[1]),xt(wt[3]),xt(wt[1]),xt(wt[2]),xt(wt[3])}function pe(ie){s.push(l[3*ie+0]),s.push(l[3*ie+1]),s.push(l[3*ie+2])}function xt(ie){r.push(ie.x),r.push(ie.y)}(function Ne(){const ie=s.length/3;if(h){let re=0,ye=O*re;for(let Ue=0;Ue<B;Ue++){const Pe=W[Ue];rt(Pe[2]+ye,Pe[1]+ye,Pe[0]+ye)}re=d+2*g,ye=O*re;for(let Ue=0;Ue<B;Ue++){const Pe=W[Ue];rt(Pe[0]+ye,Pe[1]+ye,Pe[2]+ye)}}else{for(let re=0;re<B;re++){const ye=W[re];rt(ye[2],ye[1],ye[0])}for(let re=0;re<B;re++){const ye=W[re];rt(ye[0]+O*d,ye[1]+O*d,ye[2]+O*d)}}i.addGroup(ie,s.length/3-ie,0)})(),function Ke(){const ie=s.length/3;let re=0;ne(V,re),re+=V.length;for(let ye=0,Ue=M.length;ye<Ue;ye++){const Pe=M[ye];ne(Pe,re),re+=Pe.length}i.addGroup(ie,s.length/3-ie,1)}()}this.setAttribute("position",new We(s,3)),this.setAttribute("uv",new We(r,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function poe(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.shapes.push(n[i].uuid);else e.shapes.push(n.uuid);return void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const i=[];for(let r=0,o=t.shapes.length;r<o;r++)i.push(e[t.shapes[r]]);const s=t.options.extrudePath;return void 0!==s&&(t.options.extrudePath=(new jC[s.type]).fromJSON(s)),new ll(i,t.options)}}const foe={generateTopUV:function(n,t,e,i,s){const a=t[3*i],l=t[3*i+1],c=t[3*s],d=t[3*s+1];return[new ee(t[3*e],t[3*e+1]),new ee(a,l),new ee(c,d)]},generateSideWallUV:function(n,t,e,i,s,r){const o=t[3*e],a=t[3*e+1],l=t[3*e+2],c=t[3*i],d=t[3*i+1],u=t[3*i+2],h=t[3*s],f=t[3*s+1],p=t[3*s+2],m=t[3*r],g=t[3*r+1],_=t[3*r+2];return Math.abs(a-d)<Math.abs(o-c)?[new ee(o,1-l),new ee(c,1-u),new ee(h,1-p),new ee(m,1-_)]:[new ee(a,1-l),new ee(d,1-u),new ee(f,1-p),new ee(g,1-_)]}};class up extends ut{constructor(t=new oa([new ee(0,.5),new ee(-.5,-.5),new ee(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],s=[],r=[],o=[];let a=0,l=0;if(!1===Array.isArray(t))c(t);else for(let d=0;d<t.length;d++)c(t[d]),this.addGroup(a,l,d),a+=l,l=0;function c(d){const u=s.length/3,h=d.extractPoints(e);let f=h.shape;const p=h.holes;!1===aa.isClockWise(f)&&(f=f.reverse());for(let g=0,_=p.length;g<_;g++){const y=p[g];!0===aa.isClockWise(y)&&(p[g]=y.reverse())}const m=aa.triangulateShape(f,p);for(let g=0,_=p.length;g<_;g++)f=f.concat(p[g]);for(let g=0,_=f.length;g<_;g++){const y=f[g];s.push(y.x,y.y,0),r.push(0,0,1),o.push(y.x,y.y)}for(let g=0,_=m.length;g<_;g++){const y=m[g];i.push(y[0]+u,y[1]+u,y[2]+u),l+=3}}this.setIndex(i),this.setAttribute("position",new We(s,3)),this.setAttribute("normal",new We(r,3)),this.setAttribute("uv",new We(o,2))}toJSON(){const t=super.toJSON();return function moe(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++)t.shapes.push(n[e].uuid);else t.shapes.push(n.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const i=[];for(let s=0,r=t.shapes.length;s<r;s++)i.push(e[t.shapes[s]]);return new up(i,t.curveSegments)}}class z2 extends zn{constructor(t){super(),this.type="ShadowMaterial",this.color=new ve(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}z2.prototype.isShadowMaterial=!0;class U2 extends jr{constructor(t){super(t),this.type="RawShaderMaterial"}}U2.prototype.isRawShaderMaterial=!0;class Bu extends zn{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ve(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}Bu.prototype.isMeshStandardMaterial=!0;class cl extends Bu{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ee(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return ii(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new ve(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new ve(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ve(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(t)}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}cl.prototype.isMeshPhysicalMaterial=!0;class G2 extends zn{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new ve(16777215),this.specular=new ve(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}G2.prototype.isMeshPhongMaterial=!0;class j2 extends zn{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ve(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}j2.prototype.isMeshToonMaterial=!0;class W2 extends zn{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}W2.prototype.isMeshNormalMaterial=!0;class $2 extends zn{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new ve(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ve(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}$2.prototype.isMeshLambertMaterial=!0;class q2 extends zn{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ve(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ee(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}q2.prototype.isMeshMatcapMaterial=!0;class Y2 extends Vi{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}Y2.prototype.isLineDashedMaterial=!0;const goe={ShadowMaterial:z2,SpriteMaterial:RC,RawShaderMaterial:U2,ShaderMaterial:jr,PointsMaterial:vy,MeshPhysicalMaterial:cl,MeshStandardMaterial:Bu,MeshPhongMaterial:G2,MeshToonMaterial:j2,MeshNormalMaterial:W2,MeshLambertMaterial:$2,MeshDepthMaterial:EC,MeshDistanceMaterial:AC,MeshBasicMaterial:zs,MeshMatcapMaterial:q2,LineDashedMaterial:Y2,LineBasicMaterial:Vi,Material:zn};zn.fromType=function(n){return new goe[n]};const Ln={arraySlice:function(n,t,e){return Ln.isTypedArray(n)?new n.constructor(n.subarray(t,void 0!==e?e:n.length)):n.slice(t,e)},convertArray:function(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){const e=n.length,i=new Array(e);for(let s=0;s!==e;++s)i[s]=s;return i.sort(function t(s,r){return n[s]-n[r]}),i},sortedArray:function(n,t,e){const i=n.length,s=new n.constructor(i);for(let r=0,o=0;o!==i;++r){const a=e[r]*t;for(let l=0;l!==t;++l)s[o++]=n[a+l]}return s},flattenJSON:function(n,t,e,i){let s=1,r=n[0];for(;void 0!==r&&void 0===r[i];)r=n[s++];if(void 0===r)return;let o=r[i];if(void 0!==o)if(Array.isArray(o))do{o=r[i],void 0!==o&&(t.push(r.time),e.push.apply(e,o)),r=n[s++]}while(void 0!==r);else if(void 0!==o.toArray)do{o=r[i],void 0!==o&&(t.push(r.time),o.toArray(e,e.length)),r=n[s++]}while(void 0!==r);else do{o=r[i],void 0!==o&&(t.push(r.time),e.push(o)),r=n[s++]}while(void 0!==r)},subclip:function(n,t,e,i,s=30){const r=n.clone();r.name=t;const o=[];for(let l=0;l<r.tracks.length;++l){const c=r.tracks[l],d=c.getValueSize(),u=[],h=[];for(let f=0;f<c.times.length;++f){const p=c.times[f]*s;if(!(p<e||p>=i)){u.push(c.times[f]);for(let m=0;m<d;++m)h.push(c.values[f*d+m])}}0!==u.length&&(c.times=Ln.convertArray(u,c.times.constructor),c.values=Ln.convertArray(h,c.values.constructor),o.push(c))}r.tracks=o;let a=1/0;for(let l=0;l<r.tracks.length;++l)a>r.tracks[l].times[0]&&(a=r.tracks[l].times[0]);for(let l=0;l<r.tracks.length;++l)r.tracks[l].shift(-1*a);return r.resetDuration(),r},makeClipAdditive:function(n,t=0,e=n,i=30){i<=0&&(i=30);const s=e.tracks.length,r=t/i;for(let o=0;o<s;++o){const a=e.tracks[o],l=a.ValueTypeName;if("bool"===l||"string"===l)continue;const c=n.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(void 0===c)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let h=0;const f=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);const p=a.times.length-1;let m;if(r<=a.times[0])m=Ln.arraySlice(a.values,d,u-d);else if(r>=a.times[p]){const _=p*u+d;m=Ln.arraySlice(a.values,_,_+u-d)}else{const _=a.createInterpolant(),y=d,v=u-d;_.evaluate(r),m=Ln.arraySlice(_.resultBuffer,y,v)}"quaternion"===l&&(new Ti).fromArray(m).normalize().conjugate().toArray(m);const g=c.times.length;for(let _=0;_<g;++_){const y=_*f+h;if("quaternion"===l)Ti.multiplyQuaternionsFlat(c.values,y,m,0,c.values,y);else{const v=f-2*h;for(let b=0;b<v;++b)c.values[y+b]-=m[b]}}}return n.blendMode=2501,n}};class la{constructor(t,e,i,s){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,s=e[i],r=e[i-1];e:{t:{let o;n:{i:if(!(t<s)){for(let a=i+2;;){if(void 0===s){if(t<r)break i;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===a)break;if(r=s,s=e[++i],t<s)break t}o=e.length;break n}if(t>=r)break e;{const a=e[1];t<a&&(i=2,r=a);for(let l=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(i===l)break;if(s=r,r=e[--i-1],t>=r)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(s=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,s);if(void 0===s)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,s)}return this.interpolate_(i,r,t,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s;for(let o=0;o!==s;++o)e[o]=i[r+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}la.prototype.beforeStart_=la.prototype.copySampleValue_,la.prototype.afterEnd_=la.prototype.copySampleValue_;class _oe extends la{constructor(t,e,i,s){super(t,e,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cu,endingEnd:cu}}intervalChanged_(t,e,i){const s=this.parameterPositions;let r=t-2,o=t+1,a=s[r],l=s[o];if(void 0===a)switch(this.getSettings_().endingStart){case du:r=t,a=2*e-i;break;case 2402:r=s.length-2,a=e+s[r]-s[r+1];break;default:r=t,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case du:o=t,l=2*i-e;break;case 2402:o=1,l=i+s[1]-s[0];break;default:o=t-1,l=e}const c=.5*(i-e),d=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-i),this._offsetPrev=r*d,this._offsetNext=o*d}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(i-e)/(s-e),m=p*p,g=m*p,_=-h*g+2*h*m-h*p,y=(1+h)*g+(-1.5-2*h)*m+(-.5+h)*p+1,v=(-1-f)*g+(1.5+f)*m+.5*p,b=f*g-f*m;for(let w=0;w!==a;++w)r[w]=_*o[d+w]+y*o[c+w]+v*o[l+w]+b*o[u+w];return r}}class X2 extends la{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,d=(i-e)/(s-e),u=1-d;for(let h=0;h!==a;++h)r[h]=o[c+h]*u+o[l+h]*d;return r}}class yoe extends la{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t){return this.copySampleValue_(t-1)}}class go{constructor(t,e,i,s){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ln.convertArray(e,this.TimeBufferType),this.values=Ln.convertArray(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Ln.convertArray(t.times,Array),values:Ln.convertArray(t.values,Array)};const s=t.getInterpolation();s!==t.DefaultInterpolation&&(i.interpolation=s)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new yoe(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new X2(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new _oe(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Hf:e=this.InterpolantFactoryMethodDiscrete;break;case lu:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hf;case this.InterpolantFactoryMethodLinear:return lu;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,s=e.length;i!==s;++i)e[i]*=t}return this}trim(t,e){const i=this.times,s=i.length;let r=0,o=s-1;for(;r!==s&&i[r]<t;)++r;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==r||o!==s){r>=o&&(o=Math.max(o,1),r=o-1);const a=this.getValueSize();this.times=Ln.arraySlice(i,r,o),this.values=Ln.arraySlice(this.values,r*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,s=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==r;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(void 0!==s&&Ln.isTypedArray(s))for(let a=0,l=s.length;a!==l;++a){const c=s[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=Ln.arraySlice(this.times),e=Ln.arraySlice(this.values),i=this.getValueSize(),s=2302===this.getInterpolation(),r=t.length-1;let o=1;for(let a=1;a<r;++a){let l=!1;const c=t[a];if(c!==t[a+1]&&(1!==a||c!==t[0]))if(s)l=!0;else{const u=a*i,h=u-i,f=u+i;for(let p=0;p!==i;++p){const m=e[u+p];if(m!==e[h+p]||m!==e[f+p]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const u=a*i,h=o*i;for(let f=0;f!==i;++f)e[h+f]=e[u+f]}++o}}if(r>0){t[o]=t[r];for(let a=r*i,l=o*i,c=0;c!==i;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=Ln.arraySlice(t,0,o),this.values=Ln.arraySlice(e,0,o*i)):(this.times=t,this.values=e),this}clone(){const t=Ln.arraySlice(this.times,0),e=Ln.arraySlice(this.values,0),s=new(0,this.constructor)(this.name,t,e);return s.createInterpolant=this.createInterpolant,s}}go.prototype.TimeBufferType=Float32Array,go.prototype.ValueBufferType=Float32Array,go.prototype.DefaultInterpolation=lu;class Vu extends go{}Vu.prototype.ValueTypeName="bool",Vu.prototype.ValueBufferType=Array,Vu.prototype.DefaultInterpolation=Hf,Vu.prototype.InterpolantFactoryMethodLinear=void 0,Vu.prototype.InterpolantFactoryMethodSmooth=void 0;class K2 extends go{}K2.prototype.ValueTypeName="color";class fp extends go{}fp.prototype.ValueTypeName="number";class voe extends la{constructor(t,e,i,s){super(t,e,i,s)}interpolate_(t,e,i,s){const r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-e)/(s-e);let c=t*a;for(let d=c+a;c!==d;c+=4)Ti.slerpFlat(r,0,o,c-a,o,c,l);return r}}class pc extends go{InterpolantFactoryMethodLinear(t){return new voe(this.times,this.values,this.getValueSize(),t)}}pc.prototype.ValueTypeName="quaternion",pc.prototype.DefaultInterpolation=lu,pc.prototype.InterpolantFactoryMethodSmooth=void 0;class Hu extends go{}Hu.prototype.ValueTypeName="string",Hu.prototype.ValueBufferType=Array,Hu.prototype.DefaultInterpolation=Hf,Hu.prototype.InterpolantFactoryMethodLinear=void 0,Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class pp extends go{}pp.prototype.ValueTypeName="vector";class mp{constructor(t,e=-1,i,s=2500){this.name=t,this.tracks=i,this.duration=e,this.blendMode=s,this.uuid=Ns(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,s=1/(t.fps||1);for(let o=0,a=i.length;o!==a;++o)e.push(xoe(i[o]).scale(s));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],i=t.tracks,s={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,o=i.length;r!==o;++r)e.push(go.toJSON(i[r]));return s}static CreateFromMorphTargetSequence(t,e,i,s){const r=e.length,o=[];for(let a=0;a<r;a++){let l=[],c=[];l.push((a+r-1)%r,a,(a+1)%r),c.push(0,1,0);const d=Ln.getKeyframeOrder(l);l=Ln.sortedArray(l,1,d),c=Ln.sortedArray(c,1,d),!s&&0===l[0]&&(l.push(r),c.push(c[0])),o.push(new fp(".morphTargetInfluences["+e[a].name+"]",l,c).scale(1/i))}return new this(t,-1,o)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const s=t;i=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<i.length;s++)if(i[s].name===e)return i[s];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const s={},r=/^([\w-]*?)([\d]+)$/;for(let a=0,l=t.length;a<l;a++){const c=t[a],d=c.name.match(r);if(d&&d.length>1){const u=d[1];let h=s[u];h||(s[u]=h=[]),h.push(c)}}const o=[];for(const a in s)o.push(this.CreateFromMorphTargetSequence(a,s[a],e,i));return o}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(u,h,f,p,m){if(0!==f.length){const g=[],_=[];Ln.flattenJSON(f,g,_,p),0!==g.length&&m.push(new u(h,g,_))}},s=[],r=t.name||"default",o=t.fps||30,a=t.blendMode;let l=t.length||-1;const c=t.hierarchy||[];for(let u=0;u<c.length;u++){const h=c[u].keys;if(h&&0!==h.length)if(h[0].morphTargets){const f={};let p;for(p=0;p<h.length;p++)if(h[p].morphTargets)for(let m=0;m<h[p].morphTargets.length;m++)f[h[p].morphTargets[m]]=-1;for(const m in f){const g=[],_=[];for(let y=0;y!==h[p].morphTargets.length;++y){const v=h[p];g.push(v.time),_.push(v.morphTarget===m?1:0)}s.push(new fp(".morphTargetInfluence["+m+"]",g,_))}l=f.length*o}else{const f=".bones["+e[u].name+"]";i(pp,f+".position",h,"pos",s),i(pc,f+".quaternion",h,"rot",s),i(pp,f+".scale",h,"scl",s)}}return 0===s.length?null:new this(r,l,s,a)}resetDuration(){let e=0;for(let i=0,s=this.tracks.length;i!==s;++i){const r=this.tracks[i];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function xoe(n){if(void 0===n.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function boe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return fp;case"vector":case"vector2":case"vector3":case"vector4":return pp;case"color":return K2;case"quaternion":return pc;case"bool":case"boolean":return Vu;case"string":return Hu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}(n.type);if(void 0===n.times){const e=[],i=[];Ln.flattenJSON(n.keys,e,i,"value"),n.times=e,n.values=i}return void 0!==t.parse?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const zu={enabled:!1,files:{},add:function(n,t){!1!==this.enabled&&(this.files[n]=t)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class YC{constructor(t,e,i){const s=this;let l,r=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(d){a++,!1===r&&void 0!==s.onStart&&s.onStart(d,o,a),r=!0},this.itemEnd=function(d){o++,void 0!==s.onProgress&&s.onProgress(d,o,a),o===a&&(r=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(d){void 0!==s.onError&&s.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return-1!==u&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,h=c.length;u<h;u+=2){const f=c[u],p=c[u+1];if(f.global&&(f.lastIndex=0),f.test(d))return p}return null}}}const woe=new YC;class _o{constructor(t){this.manager=void 0!==t?t:woe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(s,r){i.load(t,s,e,r)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const ca={};class yo extends _o{constructor(t){super(t)}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=zu.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout(()=>{e&&e(r),this.manager.itemEnd(t)},0),r;if(void 0!==ca[t])return void ca[t].push({onLoad:e,onProgress:i,onError:s});ca[t]=[],ca[t].push({onLoad:e,onProgress:i,onError:s});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(200===c.status||0===c.status){if(0===c.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===c.body||void 0===c.body.getReader)return c;const d=ca[t],u=c.body.getReader(),h=c.headers.get("Content-Length"),f=h?parseInt(h):0,p=0!==f;let m=0;const g=new ReadableStream({start(_){!function y(){u.read().then(({done:v,value:b})=>{if(v)_.close();else{m+=b.byteLength;const w=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:f});for(let C=0,S=d.length;C<S;C++){const E=d[C];E.onProgress&&E.onProgress(w)}_.enqueue(b),y()}})}()}});return new Response(g)}throw Error(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>(new DOMParser).parseFromString(d,a));case"json":return c.json();default:if(void 0===a)return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),h=u&&u[1]?u[1].toLowerCase():void 0,f=new TextDecoder(h);return c.arrayBuffer().then(p=>f.decode(p))}}}).then(c=>{zu.add(t,c);const d=ca[t];delete ca[t];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onLoad&&f.onLoad(c)}}).catch(c=>{const d=ca[t];if(void 0===d)throw this.manager.itemError(t),c;delete ca[t];for(let u=0,h=d.length;u<h;u++){const f=d[u];f.onError&&f.onError(c)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class zy extends _o{constructor(t){super(t)}load(t,e,i,s){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=zu.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const a=Wf("img");function l(){d(),zu.add(t,this),e&&e(this),r.manager.itemEnd(t)}function c(u){d(),s&&s(u),r.manager.itemError(t),r.manager.itemEnd(t)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}class Moe extends _o{constructor(t){super(t)}load(t,e,i,s){const r=new Xf,o=new zy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(t[c],function(d){r.images[c]=d,a++,6===a&&(r.needsUpdate=!0,e&&e(r))},void 0,s)}for(let c=0;c<t.length;++c)l(c);return r}}class Coe extends _o{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new Ou,a=new yo(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(r.withCredentials),a.load(t,function(l){const c=r.parse(l);!c||(void 0!==c.image?o.image=c.image:void 0!==c.data&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=void 0!==c.wrapS?c.wrapS:ms,o.wrapT=void 0!==c.wrapT?c.wrapT:ms,o.magFilter=void 0!==c.magFilter?c.magFilter:Mn,o.minFilter=void 0!==c.minFilter?c.minFilter:Mn,o.anisotropy=void 0!==c.anisotropy?c.anisotropy:1,void 0!==c.encoding&&(o.encoding=c.encoding),void 0!==c.flipY&&(o.flipY=c.flipY),void 0!==c.format&&(o.format=c.format),void 0!==c.type&&(o.type=c.type),void 0!==c.mipmaps&&(o.mipmaps=c.mipmaps,o.minFilter=qa),1===c.mipmapCount&&(o.minFilter=Mn),void 0!==c.generateMipmaps&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,e&&e(o,c))},i,s),o}}class Q2 extends _o{constructor(t){super(t)}load(t,e,i,s){const r=new Ji,o=new zy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,function(a){r.image=a,r.needsUpdate=!0,void 0!==e&&e(r)},i,s),r}}class vo extends rn{constructor(t,e=1){super(),this.type="Light",this.color=new ve(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}vo.prototype.isLight=!0;class XC extends vo{constructor(t,e,i){super(t,i),this.type="HemisphereLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.groundColor=new ve(e)}copy(t){return vo.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}XC.prototype.isHemisphereLight=!0;const Z2=new je,J2=new D,eB=new D;class KC{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ee(512,512),this.map=null,this.mapPass=null,this.matrix=new je,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new sy,this._frameExtents=new ee(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;J2.setFromMatrixPosition(t.matrixWorld),e.position.copy(J2),eB.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(eB),e.updateMatrixWorld(),Z2.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Z2),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class tB extends KC{constructor(){super(new ki(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,i=2*Gf*t.angle*this.focus,s=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;(i!==e.fov||s!==e.aspect||r!==e.far)&&(e.fov=i,e.aspect=s,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}tB.prototype.isSpotLightShadow=!0;class QC extends vo{constructor(t,e,i=0,s=Math.PI/3,r=0,o=1){super(t,e),this.type="SpotLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.target=new rn,this.distance=i,this.angle=s,this.penumbra=r,this.decay=o,this.shadow=new tB}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}QC.prototype.isSpotLight=!0;const nB=new je,gp=new D,ZC=new D;class iB extends KC{constructor(){super(new ki(90,1,.5,500)),this._frameExtents=new ee(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new D(1,0,0),new D(-1,0,0),new D(0,0,1),new D(0,0,-1),new D(0,1,0),new D(0,-1,0)],this._cubeUps=[new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,1,0),new D(0,0,1),new D(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,s=this.matrix,r=t.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),gp.setFromMatrixPosition(t.matrixWorld),i.position.copy(gp),ZC.copy(i.position),ZC.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(ZC),i.updateMatrixWorld(),s.makeTranslation(-gp.x,-gp.y,-gp.z),nB.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nB)}}iB.prototype.isPointLightShadow=!0;class JC extends vo{constructor(t,e,i=0,s=1){super(t,e),this.type="PointLight",this.distance=i,this.decay=s,this.shadow=new iB}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}JC.prototype.isPointLight=!0;class sB extends KC{constructor(){super(new Qf(-5,5,5,-5,.5,500))}}sB.prototype.isDirectionalLightShadow=!0;class eS extends vo{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(rn.DefaultUp),this.updateMatrix(),this.target=new rn,this.shadow=new sB}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}eS.prototype.isDirectionalLight=!0;class tS extends vo{constructor(t,e){super(t,e),this.type="AmbientLight"}}tS.prototype.isAmbientLight=!0;(class rB extends vo{constructor(t,e,i=10,s=10){super(t,e),this.type="RectAreaLight",this.width=i,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class oB{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new D)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*s),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*i),e.addScaledVector(o[4],i*s*1.092548),e.addScaledVector(o[5],s*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],i*r*1.092548),e.addScaledVector(o[8],.546274*(i*i-s*s)),e}getIrradianceAt(t,e){const i=t.x,s=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*s),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*i),e.addScaledVector(o[4],.858086*i*s),e.addScaledVector(o[5],.858086*s*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*i*r),e.addScaledVector(o[8],.429043*(i*i-s*s)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].fromArray(t,e+3*s);return this}toArray(t=[],e=0){const i=this.coefficients;for(let s=0;s<9;s++)i[s].toArray(t,e+3*s);return t}static getBasisAt(t,e){const i=t.x,s=t.y,r=t.z;e[0]=.282095,e[1]=.488603*s,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*s,e[5]=1.092548*s*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-s*s)}}oB.prototype.isSphericalHarmonics3=!0;class Uy extends vo{constructor(t=new oB,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}Uy.prototype.isLightProbe=!0;class bo{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,s=t.length;i<s;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(i){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}(class aB extends ut{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}).prototype.isInstancedBufferGeometry=!0;class dB extends _o{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,s){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=zu.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout(function(){e&&e(o),r.manager.itemEnd(t)},0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(t,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(l){zu.add(t,l),e&&e(l),r.manager.itemEnd(t)}).catch(function(l){s&&s(l),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}let Gy;dB.prototype.isImageBitmapLoader=!0;class Aoe extends _o{constructor(t){super(t)}load(t,e,i,s){const r=this,o=new yo(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(a){try{const l=a.slice(0);(void 0===Gy&&(Gy=new(window.AudioContext||window.webkitAudioContext)),Gy).decodeAudioData(l,function(d){e(d)})}catch(l){s?s(l):console.error(l),r.manager.itemError(t)}},i,s)}}(class Toe extends Uy{constructor(t,e,i=1){super(void 0,i);const s=(new ve).set(t),r=(new ve).set(e),o=new D(s.r,s.g,s.b),a=new D(r.r,r.g,r.b),l=Math.sqrt(Math.PI),c=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(c)}}).prototype.isHemisphereLightProbe=!0,class Roe extends Uy{constructor(t,e=1){super(void 0,e);const i=(new ve).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class pB{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=mB(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=mB();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function mB(){return("undefined"==typeof performance?Date:performance).now()}class Foe{constructor(t,e,i){let s,r,o;switch(this.binding=t,this.valueSize=i,e){case"quaternion":s=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":s=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:s=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,s=this.valueSize,r=t*s+s;let o=this.cumulativeWeight;if(0===o){for(let a=0;a!==s;++a)i[r+a]=i[a];o=e}else o+=e,this._mixBufferRegion(i,r,0,e/o,s);this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,s=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,s,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,s=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(i,s,e*this._origIndex,1-r,e),o>0&&this._mixBufferRegionAdditive(i,s,this._addIndex*e,1,e);for(let l=e,c=e+e;l!==c;++l)if(i[l]!==i[l+e]){a.setValue(i,s);break}}saveOriginalState(){const e=this.buffer,i=this.valueSize,s=i*this._origIndex;this.binding.getValue(e,s);for(let r=i,o=s;r!==o;++r)e[r]=e[s+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,s,r){if(s>=.5)for(let o=0;o!==r;++o)t[e+o]=t[i+o]}_slerp(t,e,i,s){Ti.slerpFlat(t,e,t,e,t,i,s)}_slerpAdditive(t,e,i,s,r){const o=this._workIndex*r;Ti.multiplyQuaternionsFlat(t,o,t,e,t,i),Ti.slerpFlat(t,e,t,e,t,o,s)}_lerp(t,e,i,s,r){const o=1-s;for(let a=0;a!==r;++a){const l=e+a;t[l]=t[l]*o+t[i+a]*s}}_lerpAdditive(t,e,i,s,r){for(let o=0;o!==r;++o){const a=e+o;t[a]=t[a]+t[i+o]*s}}}const nS="\\[\\]\\.:\\/",Loe=new RegExp("["+nS+"]","g"),iS="[^"+nS+"]",Noe="[^"+nS.replace("\\.","")+"]",Boe=/((?:WC+[\/:])*)/.source.replace("WC",iS),Voe=/(WCOD+)?/.source.replace("WCOD",Noe),Hoe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",iS),zoe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",iS),Uoe=new RegExp("^"+Boe+Voe+Hoe+zoe+"$"),Goe=["material","materials","bones"];class joe{constructor(t,e,i){const s=i||Cn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,s)}getValue(t,e){this.bind();const s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let s=this._targetGroup.nCachedObjects_,r=i.length;s!==r;++s)i[s].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let Cn=(()=>{class n{constructor(e,i,s){this.path=i,this.parsedPath=s||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,s){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,s):new n(e,i,s)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Loe,"")}static parseTrackName(e){const i=Uoe.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const s={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},r=s.nodeName&&s.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const o=s.nodeName.substring(r+1);-1!==Goe.indexOf(o)&&(s.nodeName=s.nodeName.substring(0,r),s.objectName=o)}if(null===s.propertyName||0===s.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return s}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const s=e.skeleton.getBoneByName(i);if(void 0!==s)return s}if(e.children){const s=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=s(l.children);if(c)return c}return null},r=s(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)e[i++]=s[r]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const s=this.resolvedProperty;for(let r=0,o=s.length;r!==o;++r)s[r]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,s=i.objectName,r=i.propertyName;let o=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(s){let d=i.objectIndex;switch(s){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===d){d=u;break}break;default:if(void 0===e[s])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[s]}if(void 0!==d){if(void 0===e[d])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[d]}}const a=e[r];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+r+" but it wasn't found.",e);let l=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=joe,n})();Cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Cn.prototype.GetterByBindingType=[Cn.prototype._getValue_direct,Cn.prototype._getValue_array,Cn.prototype._getValue_arrayElement,Cn.prototype._getValue_toArray],Cn.prototype.SetterByBindingTypeAndVersioning=[[Cn.prototype._setValue_direct,Cn.prototype._setValue_direct_setNeedsUpdate,Cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_array,Cn.prototype._setValue_array_setNeedsUpdate,Cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_arrayElement,Cn.prototype._setValue_arrayElement_setNeedsUpdate,Cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_fromArray,Cn.prototype._setValue_fromArray_setNeedsUpdate,Cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class $oe{constructor(t,e,i=null,s=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=s;const r=e.tracks,o=r.length,a=new Array(o),l={endingStart:cu,endingEnd:cu};for(let c=0;c!==o;++c){const d=r[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const s=this._clip.duration,r=t._clip.duration,a=s/r;t.warp(1,r/s,e),this.warp(a,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const s=this._mixer,r=s.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=s._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=r,l[1]=r+i,c[0]=t/o,c[1]=e/o,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,s){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const l=(t-r)*i;if(l<0||0===i)return;this._startTime=null,e=i*l}e*=this._updateTimeScale(t);const o=this._updateTime(e),a=this._updateWeight(t);if(a>0){const l=this._interpolants,c=this._propertyBindings;if(2501===this.blendMode)for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);else for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(s,a)}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const s=i.evaluate(t)[0];e*=s,t>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let s=this.time+t,r=this._loopCount;const o=2202===i;if(0===t)return-1===r?s:o&&1==(1&r)?e-s:s;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=e)s=e;else{if(!(s<0)){this.time=s;break e}s=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),s>=e||s<0){const a=Math.floor(s/e);s-=e*a,r+=Math.abs(a);const l=this.repetitions-r;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=t>0?e:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===l){const c=t<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=s;if(o&&1==(1&r))return e-s}return s}_setEndings(t,e,i){const s=this._interpolantSettings;i?(s.endingStart=du,s.endingEnd=du):(s.endingStart=t?this.zeroSlopeAtStart?du:cu:2402,s.endingEnd=e?this.zeroSlopeAtEnd?du:cu:2402)}_scheduleFading(t,e,i){const s=this._mixer,r=s.time;let o=this._weightInterpolant;null===o&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,l[0]=e,a[1]=r+t,l[1]=i,this}}class yB extends Ya{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,s=t._clip.tracks,r=s.length,o=t._propertyBindings,a=t._interpolants,l=i.uuid,c=this._bindingsByRootAndName;let d=c[l];void 0===d&&(d={},c[l]=d);for(let u=0;u!==r;++u){const h=s[u],f=h.name;let p=d[f];if(void 0!==p)++p.referenceCount,o[u]=p;else{if(p=o[u],void 0!==p){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,l,f));continue}p=new Foe(Cn.create(i,f,e&&e._propertyBindings[u].binding.parsedPath),h.ValueTypeName,h.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,f),o[u]=p}a[u].resultBuffer=p.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const i=(t._localRoot||this._root).uuid,s=t._clip.uuid,r=this._actionsByClip[s];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,s,i)}const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==r.useCount++&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,i){const s=this._actions,r=this._actionsByClip;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{const a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=s.length,s.push(t),o.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],s=t._cacheIndex;i._cacheIndex=s,e[s]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,o=this._actionsByClip,a=o[r],l=a.knownActions,c=l[l.length-1],d=t._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===l.length&&delete o[r],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,s=e.length;i!==s;++i){const r=e[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,s=this._nActiveActions++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,s=--this._nActiveActions,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_addInactiveBinding(t,e,i){const s=this._bindingsByRootAndName,r=this._bindings;let o=s[e];void 0===o&&(o={},s[e]=o),o[i]=t,t._cacheIndex=r.length,r.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,s=i.rootNode.uuid,r=i.path,o=this._bindingsByRootAndName,a=o[s],l=e[e.length-1],c=t._cacheIndex;l._cacheIndex=c,e[c]=l,e.pop(),delete a[r],0===Object.keys(a).length&&delete o[s]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,s=this._nActiveBindings++,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,s=--this._nActiveBindings,r=e[s];t._cacheIndex=s,e[s]=t,r._cacheIndex=i,e[i]=r}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new X2(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,s=--this._nActiveControlInterpolants,r=e[s];t.__cacheIndex=s,e[s]=t,r.__cacheIndex=i,e[i]=r}clipAction(t,e,i){const s=e||this._root,r=s.uuid;let o="string"==typeof t?mp.findByName(s,t):t;const a=null!==o?o.uuid:t,l=this._actionsByClip[a];let c=null;if(void 0===i&&(i=null!==o?o.blendMode:2500),void 0!==l){const u=l.actionByRoot[r];if(void 0!==u&&u.blendMode===i)return u;c=l.knownActions[0],null===o&&(o=c._clip)}if(null===o)return null;const d=new $oe(this,o,e,i);return this._bindAction(d,c),this._addInactiveAction(d,a,r),d}existingAction(t,e){const i=e||this._root,s=i.uuid,r="string"==typeof t?mp.findByName(i,t):t,a=this._actionsByClip[r?r.uuid:t];return void 0!==a&&a.actionByRoot[s]||null}stopAllAction(){const t=this._actions;for(let i=this._nActiveActions-1;i>=0;--i)t[i].stop();return this}update(t){const e=this._actions,i=this._nActiveActions,s=this.time+=t*=this.timeScale,r=Math.sign(t),o=this._accuIndex^=1;for(let c=0;c!==i;++c)e[c]._update(s,t,r,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,s=this._actionsByClip,r=s[i];if(void 0!==r){const o=r.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,e[d]=u,e.pop(),this._removeInactiveBindingsForAction(c)}delete s[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const o in i){const l=i[o].actionByRoot[e];void 0!==l&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName[e];if(void 0!==r)for(const o in r){const a=r[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}yB.prototype._controlInterpolantsResultBuffer=new Float32Array(1);class sS{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new sS(void 0===this.value.clone?this.value:this.value.clone())}}(class qoe extends hc{constructor(t,e,i=1){super(t,e),this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}).prototype.isInstancedInterleavedBuffer=!0;class bB{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(ii(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}const xB=new ee;class _p{constructor(t=new ee(1/0,1/0),e=new ee(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=xB.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return xB.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}_p.prototype.isBox2=!0;const dl=new D,Wy=new je,oS=new je;function CB(n){const t=[];!0===n.isBone&&t.push(n);for(let e=0;e<n.children.length;e++)t.push.apply(t,CB(n.children[e]));return t}class Ky{static toHalfFloat(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=ii(t,-65504,65504),kB[0]=t;const e=IB[0],i=e>>23&511;return Wr[i]+((8388607&e)>>$r[i])}static fromHalfFloat(t){const e=t>>10;return IB[0]=lS[PB[e]+(1023&t)]+Uu[e],kB[0]}}const RB=new ArrayBuffer(4),kB=new Float32Array(RB),IB=new Uint32Array(RB),Wr=new Uint32Array(512),$r=new Uint32Array(512);for(let n=0;n<256;++n){const t=n-127;t<-27?(Wr[n]=0,Wr[256|n]=32768,$r[n]=24,$r[256|n]=24):t<-14?(Wr[n]=1024>>-t-14,Wr[256|n]=1024>>-t-14|32768,$r[n]=-t-1,$r[256|n]=-t-1):t<=15?(Wr[n]=t+15<<10,Wr[256|n]=t+15<<10|32768,$r[n]=13,$r[256|n]=13):t<128?(Wr[n]=31744,Wr[256|n]=64512,$r[n]=24,$r[256|n]=24):(Wr[n]=31744,Wr[256|n]=64512,$r[n]=13,$r[256|n]=13)}const lS=new Uint32Array(2048),Uu=new Uint32Array(64),PB=new Uint32Array(64);for(let n=1;n<1024;++n){let t=n<<13,e=0;for(;0==(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,lS[n]=t|e}for(let n=1024;n<2048;++n)lS[n]=939524096+(n-1024<<13);for(let n=1;n<31;++n)Uu[n]=n<<23;Uu[31]=1199570944,Uu[32]=2147483648;for(let n=33;n<63;++n)Uu[n]=2147483648+(n-32<<23);Uu[63]=3347054592;for(let n=1;n<64;++n)32!==n&&(PB[n]=1024);lr.create=function(n,t){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(lr.prototype),n.prototype.constructor=n,n.prototype.getPoint=t,n},rp.prototype.fromPoints=function(n){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)},class Zoe extends fc{constructor(t=10,e=10,i=4473924,s=8947848){i=new ve(i),s=new ve(s);const r=e/2,o=t/e,a=t/2,l=[],c=[];for(let h=0,f=0,p=-a;h<=e;h++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);const m=h===r?i:s;m.toArray(c,f),f+=3,m.toArray(c,f),f+=3,m.toArray(c,f),f+=3,m.toArray(c,f),f+=3}const d=new ut;d.setAttribute("position",new We(l,3)),d.setAttribute("color",new We(c,3)),super(d,new Vi({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class Koe extends fc{constructor(t){const e=CB(t),i=new ut,s=[],r=[],o=new ve(0,0,1),a=new ve(0,1,0);for(let c=0;c<e.length;c++){const d=e[c];d.parent&&d.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}i.setAttribute("position",new We(s,3)),i.setAttribute("color",new We(r,3)),super(i,new Vi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,s=i.getAttribute("position");oS.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<e.length;r++){const a=e[r];a.parent&&a.parent.isBone&&(Wy.multiplyMatrices(oS,a.matrixWorld),dl.setFromMatrixPosition(Wy),s.setXYZ(o,dl.x,dl.y,dl.z),Wy.multiplyMatrices(oS,a.parent.matrixWorld),dl.setFromMatrixPosition(Wy),s.setXYZ(o+1,dl.x,dl.y,dl.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},_o.prototype.extractUrlBase=function(n){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),bo.extractUrlBase(n)},_o.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},_p.prototype.center=function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},_p.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},_p.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},_p.prototype.size=function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)},Vs.prototype.center=function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Vs.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Vs.prototype.isIntersectionBox=function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},Vs.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},Vs.prototype.size=function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)},lc.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Qa.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},sy.prototype.setFromMatrix=function(n){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(n)},Ni.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)},Ni.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},Ni.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ni.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},Ni.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ni.prototype.getInverse=function(n){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},je.prototype.extractPosition=function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},je.prototype.flattenToArrayOffset=function(n,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,t)},je.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new D).setFromMatrixColumn(this,3)},je.prototype.setRotationFromQuaternion=function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},je.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},je.prototype.multiplyVector3=function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},je.prototype.multiplyVector4=function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},je.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},je.prototype.rotateAxis=function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},je.prototype.crossVector=function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},je.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},je.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},je.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},je.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},je.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},je.prototype.applyToBufferAttribute=function(n){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},je.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},je.prototype.makeFrustum=function(n,t,e,i,s,r){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,t,i,e,s,r)},je.prototype.getInverse=function(n){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(n).invert()},sa.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},Ti.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Ti.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},ac.prototype.isIntersectionBox=function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},ac.prototype.isIntersectionPlane=function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},ac.prototype.isIntersectionSphere=function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},mi.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},mi.prototype.barycoordFromPoint=function(n,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(n,t)},mi.prototype.midpoint=function(n){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(n)},mi.prototypenormal=function(n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(n)},mi.prototype.plane=function(n){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(n)},mi.barycoordFromPoint=function(n,t,e,i,s){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),mi.getBarycoord(n,t,e,i,s)},mi.normal=function(n,t,e,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),mi.getNormal(n,t,e,i)},oa.prototype.extractAllPoints=function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},oa.prototype.extrude=function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ll(this,n)},oa.prototype.makeGeometry=function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new up(this,n)},ee.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},ee.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},ee.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},D.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},D.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},D.prototype.getPositionFromMatrix=function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},D.prototype.getScaleFromMatrix=function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},D.prototype.getColumnFromMatrix=function(n,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,n)},D.prototype.applyProjection=function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},D.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},D.prototype.distanceToManhattan=function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},D.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},dn.prototype.fromAttribute=function(n,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,t,e)},dn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},rn.prototype.getChildByName=function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},rn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},rn.prototype.translate=function(n,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,n)},rn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},rn.prototype.applyMatrix=function(n){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(rn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Ri.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Ri.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),py.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},ki.prototype.setLens=function(n,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(n)},Object.defineProperties(vo.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(gn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Uf},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Uf)}}}),gn.prototype.setDynamic=function(n){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?Uf:zf),this},gn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},gn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ut.prototype.addIndex=function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},ut.prototype.addAttribute=function(n,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===n?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(n,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(n,new gn(arguments[1],arguments[2])))},ut.prototype.addDrawCall=function(n,t,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,t)},ut.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},ut.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},ut.prototype.removeAttribute=function(n){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(n)},ut.prototype.applyMatrix=function(n){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(n)},Object.defineProperties(ut.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),hc.prototype.setDynamic=function(n){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===n?Uf:zf),this},hc.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},ll.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},ll.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},ll.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},cy.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},sS.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(zn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ve}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(n){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=n}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(jr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),un.prototype.clearTarget=function(n,t,e,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(n),this.clear(t,e,i)},un.prototype.animate=function(n){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(n)},un.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},un.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},un.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},un.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},un.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},un.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},un.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},un.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},un.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},un.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},un.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},un.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},un.prototype.enableScissorTest=function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},un.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},un.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},un.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},un.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},un.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},un.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},un.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},un.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},un.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},un.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(un.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(n){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===n?tn:Vr}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(n2.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Bs.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),class Ioe extends rn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new Aoe).load(n,function(i){t.setBuffer(i)}),this},vC.prototype.updateCubeMap=function(n,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,t)},vC.prototype.clear=function(n,t,e,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(n,t,e,i)},ic.crossOrigin=void 0,ic.loadTexture=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const s=new Q2;s.setCrossOrigin(this.crossOrigin);const r=s.load(n,e,void 0,i);return t&&(r.mapping=t),r},ic.loadTextureCube=function(n,t,e,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const s=new Moe;s.setCrossOrigin(this.crossOrigin);const r=s.load(n,e,void 0,i);return t&&(r.mapping=t),r},ic.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ic.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"139"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="139");class Joe extends _o{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(e){return new iae(e)}),this.register(function(e){return new cae(e)}),this.register(function(e){return new dae(e)}),this.register(function(e){return new sae(e)}),this.register(function(e){return new rae(e)}),this.register(function(e){return new oae(e)}),this.register(function(e){return new aae(e)}),this.register(function(e){return new lae(e)}),this.register(function(e){return new tae(e)}),this.register(function(e){return new uae(e)})}load(t,e,i,s){const r=this;let o;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:bo.extractUrlBase(t),this.manager.itemStart(t);const a=function(c){s?s(c):console.error(c),r.manager.itemError(t),r.manager.itemEnd(t)},l=new yo(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(c){try{r.parse(c,o,function(d){e(d),r.manager.itemEnd(t)},a)}catch(d){a(d)}},i,a)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this}unregister(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,e,i,s){let r;const o={},a={};if("string"==typeof t)r=t;else if(bo.decodeText(new Uint8Array(t,0,4))===OB){try{o[Wt.KHR_BINARY_GLTF]=new hae(t)}catch(u){return void(s&&s(u))}r=o[Wt.KHR_BINARY_GLTF].content}else r=bo.decodeText(new Uint8Array(t));const l=JSON.parse(r);if(void 0===l.asset||l.asset.version[0]<2)return void(s&&s(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.")));const c=new Sae(l,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let d=0;d<this.pluginCallbacks.length;d++){const u=this.pluginCallbacks[d](c);a[u.name]=u,o[u.name]=!0}if(l.extensionsUsed)for(let d=0;d<l.extensionsUsed.length;++d){const u=l.extensionsUsed[d],h=l.extensionsRequired||[];switch(u){case Wt.KHR_MATERIALS_UNLIT:o[u]=new nae;break;case Wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:o[u]=new mae;break;case Wt.KHR_DRACO_MESH_COMPRESSION:o[u]=new fae(l,this.dracoLoader);break;case Wt.KHR_TEXTURE_TRANSFORM:o[u]=new pae;break;case Wt.KHR_MESH_QUANTIZATION:o[u]=new gae;break;default:h.indexOf(u)>=0&&void 0===a[u]&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,s)}parseAsync(t,e){const i=this;return new Promise(function(s,r){i.parse(t,e,s,r)})}}function eae(){let n={};return{get:function(t){return n[t]},add:function(t,e){n[t]=e},remove:function(t){delete n[t]},removeAll:function(){n={}}}}const Wt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class tae{constructor(t){this.parser=t,this.name=Wt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,e=this.parser.json.nodes||[];for(let i=0,s=e.length;i<s;i++){const r=e[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const e=this.parser,i="light:"+t;let s=e.cache.get(i);if(s)return s;const r=e.json,l=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let c;const d=new ve(16777215);void 0!==l.color&&d.fromArray(l.color);const u=void 0!==l.range?l.range:0;switch(l.type){case"directional":c=new eS(d),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new JC(d),c.distance=u;break;case"spot":c=new QC(d),c.distance=u,l.spot=l.spot||{},l.spot.innerConeAngle=void 0!==l.spot.innerConeAngle?l.spot.innerConeAngle:0,l.spot.outerConeAngle=void 0!==l.spot.outerConeAngle?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,void 0!==l.intensity&&(c.intensity=l.intensity),c.name=e.createUniqueName(l.name||"light_"+t),s=Promise.resolve(c),e.cache.add(i,s),s}createNodeAttachment(t){const e=this,i=this.parser,r=i.json.nodes[t],a=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===a?null:this._loadLight(a).then(function(l){return i._getNodeRef(e.cache,a,l)})}}class nae{constructor(){this.name=Wt.KHR_MATERIALS_UNLIT}getMaterialType(){return zs}extendParams(t,e,i){const s=[];t.color=new ve(1,1,1),t.opacity=1;const r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const o=r.baseColorFactor;t.color.fromArray(o),t.opacity=o[3]}void 0!==r.baseColorTexture&&s.push(i.assignTexture(t,"map",r.baseColorTexture,tn))}return Promise.all(s)}}class iae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];if(void 0!==o.clearcoatFactor&&(e.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&r.push(i.assignTexture(e,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(e.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&r.push(i.assignTexture(e,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(r.push(i.assignTexture(e,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){const a=o.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new ee(a,a)}return Promise.all(r)}}class sae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_SHEEN}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[];e.sheenColor=new ve(0,0,0),e.sheenRoughness=0,e.sheen=1;const o=s.extensions[this.name];return void 0!==o.sheenColorFactor&&e.sheenColor.fromArray(o.sheenColorFactor),void 0!==o.sheenRoughnessFactor&&(e.sheenRoughness=o.sheenRoughnessFactor),void 0!==o.sheenColorTexture&&r.push(i.assignTexture(e,"sheenColorMap",o.sheenColorTexture,tn)),void 0!==o.sheenRoughnessTexture&&r.push(i.assignTexture(e,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(r)}}class rae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];return void 0!==o.transmissionFactor&&(e.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&r.push(i.assignTexture(e,"transmissionMap",o.transmissionTexture)),Promise.all(r)}}class oae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_VOLUME}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];e.thickness=void 0!==o.thicknessFactor?o.thicknessFactor:0,void 0!==o.thicknessTexture&&r.push(i.assignTexture(e,"thicknessMap",o.thicknessTexture)),e.attenuationDistance=o.attenuationDistance||0;const a=o.attenuationColor||[1,1,1];return e.attenuationColor=new ve(a[0],a[1],a[2]),Promise.all(r)}}class aae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_IOR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const s=this.parser.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=s.extensions[this.name];return e.ior=void 0!==r.ior?r.ior:1.5,Promise.resolve()}}class lae{constructor(t){this.parser=t,this.name=Wt.KHR_MATERIALS_SPECULAR}getMaterialType(t){const i=this.parser.json.materials[t];return i.extensions&&i.extensions[this.name]?cl:null}extendMaterialParams(t,e){const i=this.parser,s=i.json.materials[t];if(!s.extensions||!s.extensions[this.name])return Promise.resolve();const r=[],o=s.extensions[this.name];e.specularIntensity=void 0!==o.specularFactor?o.specularFactor:1,void 0!==o.specularTexture&&r.push(i.assignTexture(e,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return e.specularColor=new ve(a[0],a[1],a[2]),void 0!==o.specularColorTexture&&r.push(i.assignTexture(e,"specularColorMap",o.specularColorTexture,tn)),Promise.all(r)}}class cae{constructor(t){this.parser=t,this.name=Wt.KHR_TEXTURE_BASISU}loadTexture(t){const e=this.parser,i=e.json,s=i.textures[t];if(!s.extensions||!s.extensions[this.name])return null;const r=s.extensions[this.name],o=e.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,r.source,o)}}class dae{constructor(t){this.parser=t,this.name=Wt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const e=this.name,i=this.parser,s=i.json,r=s.textures[t];if(!r.extensions||!r.extensions[e])return null;const o=r.extensions[e],a=s.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);null!==c&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(t,o.source,l);if(s.extensionsRequired&&s.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}})),this.isSupported}}class uae{constructor(t){this.name=Wt.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){const s=i.extensions[this.name],r=this.parser.getDependency("buffer",s.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,o.ready]).then(function(a){const l=s.byteOffset||0,c=s.byteLength||0,d=s.count,u=s.byteStride,h=new ArrayBuffer(d*u),f=new Uint8Array(a[0],l,c);return o.decodeGltfBuffer(new Uint8Array(h),d,u,f,s.mode,s.filter),h})}return null}}const OB="glTF";class hae{constructor(t){this.name=Wt.KHR_BINARY_GLTF,this.content=null,this.body=null;const e=new DataView(t,0,12);if(this.header={magic:bo.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==OB)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-12,s=new DataView(t,12);let r=0;for(;r<i;){const o=s.getUint32(r,!0);r+=4;const a=s.getUint32(r,!0);if(r+=4,1313821514===a){const l=new Uint8Array(t,12+r,o);this.content=bo.decodeText(l)}else if(5130562===a){const l=12+r;this.body=t.slice(l,l+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class fae{constructor(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Wt.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}decodePrimitive(t,e){const i=this.json,s=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},l={},c={};for(const d in o){const u=dS[d]||d.toLowerCase();a[u]=o[d]}for(const d in t.attributes){const u=dS[d]||d.toLowerCase();if(void 0!==o[d]){const h=i.accessors[t.attributes[d]];c[u]=vp[h.componentType],l[u]=!0===h.normalized}}return e.getDependency("bufferView",r).then(function(d){return new Promise(function(u){s.decodeDracoFile(d,function(h){for(const f in h.attributes){const p=h.attributes[f],m=l[f];void 0!==m&&(p.normalized=m)}u(h)},a,c)})})}}class pae{constructor(){this.name=Wt.KHR_TEXTURE_TRANSFORM}extendTexture(t,e){return void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),void 0===e.offset&&void 0===e.rotation&&void 0===e.scale||(t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),t.needsUpdate=!0),t}}class cS extends Bu{constructor(t){super(),this.isGLTFSpecularGlossinessMaterial=!0;const e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),s=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new ve).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(l){for(const c in a)l.uniforms[c]=a[c];l.fragmentShader=l.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",s).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(l){a.specular.value=l}},specularMap:{get:function(){return a.specularMap.value},set:function(l){a.specularMap.value=l,l?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(l){a.glossiness.value=l}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(l){a.glossinessMap.value=l,l?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}copy(t){return super.copy(t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class mae{constructor(){this.name=Wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity"]}getMaterialType(){return cS}extendParams(t,e,i){const s=e.extensions[this.name];t.color=new ve(1,1,1),t.opacity=1;const r=[];if(Array.isArray(s.diffuseFactor)){const o=s.diffuseFactor;t.color.fromArray(o),t.opacity=o[3]}if(void 0!==s.diffuseTexture&&r.push(i.assignTexture(t,"map",s.diffuseTexture,tn)),t.emissive=new ve(0,0,0),t.glossiness=void 0!==s.glossinessFactor?s.glossinessFactor:1,t.specular=new ve(1,1,1),Array.isArray(s.specularFactor)&&t.specular.fromArray(s.specularFactor),void 0!==s.specularGlossinessTexture){const o=s.specularGlossinessTexture;r.push(i.assignTexture(t,"glossinessMap",o)),r.push(i.assignTexture(t,"specularMap",o,tn))}return Promise.all(r)}createMaterial(t){const e=new cS(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e}}class gae{constructor(){this.name=Wt.KHR_MESH_QUANTIZATION}}class bc extends la{constructor(t,e,i,s){super(t,e,i,s)}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,s=this.valueSize,r=t*s*3+s;for(let o=0;o!==s;o++)e[o]=i[r+o];return e}}bc.prototype.beforeStart_=bc.prototype.copySampleValue_,bc.prototype.afterEnd_=bc.prototype.copySampleValue_,bc.prototype.interpolate_=function(n,t,e,i){const s=this.resultBuffer,r=this.sampleValues,o=this.valueSize,a=2*o,l=3*o,c=i-t,d=(e-t)/c,u=d*d,h=u*d,f=n*l,p=f-l,m=-2*h+3*u,g=h-u,_=1-m,y=g-u+d;for(let v=0;v!==o;v++)s[v]=_*r[p+v+o]+y*(r[p+v+a]*c)+m*r[f+v+o]+g*(r[f+v]*c);return s};const _ae=new Ti;class yae extends bc{interpolate_(t,e,i,s){const r=super.interpolate_(t,e,i,s);return _ae.fromArray(r).normalize().toArray(r),r}}const vp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},LB={9728:pi,9729:Mn,9984:1004,9985:1007,9986:1005,9987:qa},NB={33071:ms,33648:1002,10497:Kl},BB={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},dS={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ul={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},vae={CUBICSPLINE:void 0,LINEAR:lu,STEP:Hf};function bp(n,t,e){for(const i in e.extensions)void 0===n[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=e.extensions[i])}function xc(n,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(n.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function wae(n,t){if(n.updateMorphTargets(),void 0!==t.weights)for(let e=0,i=t.weights.length;e<i;e++)n.morphTargetInfluences[e]=t.weights[e];if(t.extras&&Array.isArray(t.extras.targetNames)){const e=t.extras.targetNames;if(n.morphTargetInfluences.length===e.length){n.morphTargetDictionary={};for(let i=0,s=e.length;i<s;i++)n.morphTargetDictionary[e[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Mae(n){const t=n.extensions&&n.extensions[Wt.KHR_DRACO_MESH_COMPRESSION];let e;return e=t?"draco:"+t.bufferView+":"+t.indices+":"+VB(t.attributes):n.indices+":"+VB(n.attributes)+":"+n.mode,e}function VB(n){let t="";const e=Object.keys(n).sort();for(let i=0,s=e.length;i<s;i++)t+=e[i]+":"+n[e[i]]+";";return t}function hS(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class Sae{constructor(t={},e={}){this.json=t,this.extensions={},this.plugins={},this.options=e,this.cache=new eae,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={},this.textureLoader="undefined"!=typeof createImageBitmap&&!1===/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?new dB(this.options.manager):new Q2(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new yo(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,e){const i=this,s=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][s.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:s.asset,parser:i,userData:{}};bp(r,a,s),xc(a,s),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){t(a)})}).catch(e)}_markDefs(){const t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[];for(let s=0,r=e.length;s<r;s++){const o=e[s].joints;for(let a=0,l=o.length;a<l;a++)t[o[a]].isBone=!0}for(let s=0,r=t.length;s<r;s++){const o=t[s];void 0!==o.mesh&&(this._addNodeRef(this.meshCache,o.mesh),void 0!==o.skin&&(i[o.mesh].isSkinnedMesh=!0)),void 0!==o.camera&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)}_getNodeRef(t,e,i){if(t.refs[e]<=1)return i;const s=i.clone(),r=(o,a)=>{const l=this.associations.get(o);null!=l&&this.associations.set(a,l);for(const[c,d]of o.children.entries())r(d,a.children[c])};return r(i,s),s.name+="_instance_"+t.uses[e]++,s}_invokeOne(t){const e=Object.values(this.plugins);e.push(this);for(let i=0;i<e.length;i++){const s=t(e[i]);if(s)return s}return null}_invokeAll(t){const e=Object.values(this.plugins);e.unshift(this);const i=[];for(let s=0;s<e.length;s++){const r=t(e[s]);r&&i.push(r)}return i}getDependency(t,e){const i=t+":"+e;let s=this.cache.get(i);if(!s){switch(t){case"scene":s=this.loadScene(e);break;case"node":s=this.loadNode(e);break;case"mesh":s=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(e)});break;case"accessor":s=this.loadAccessor(e);break;case"bufferView":s=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(e)});break;case"buffer":s=this.loadBuffer(e);break;case"material":s=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(e)});break;case"texture":s=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(e)});break;case"skin":s=this.loadSkin(e);break;case"animation":s=this.loadAnimation(e);break;case"camera":s=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(i,s)}return s}getDependencies(t){let e=this.cache.get(t);if(!e){const i=this;e=Promise.all((this.json[t+("mesh"===t?"es":"s")]||[]).map(function(r,o){return i.getDependency(t,o)})),this.cache.add(t,e)}return e}loadBuffer(t){const e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[Wt.KHR_BINARY_GLTF].body);const s=this.options;return new Promise(function(r,o){i.load(bo.resolveURL(e.uri,s.path),r,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))})})}loadBufferView(t){const e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then(function(i){const r=e.byteOffset||0;return i.slice(r,r+(e.byteLength||0))})}loadAccessor(t){const e=this,i=this.json,s=this.json.accessors[t];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);const r=[];return r.push(void 0!==s.bufferView?this.getDependency("bufferView",s.bufferView):null),void 0!==s.sparse&&(r.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(r).then(function(o){const a=o[0],l=BB[s.type],c=vp[s.componentType],d=c.BYTES_PER_ELEMENT,h=s.byteOffset||0,f=void 0!==s.bufferView?i.bufferViews[s.bufferView].byteStride:void 0,p=!0===s.normalized;let m,g;if(f&&f!==d*l){const _=Math.floor(h/f),y="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+_+":"+s.count;let v=e.cache.get(y);v||(m=new c(a,_*f,s.count*f/d),v=new hc(m,f/d),e.cache.add(y,v)),g=new sl(v,l,h%f/d,p)}else m=null===a?new c(s.count*l):new c(a,h,s.count*l),g=new gn(m,l,p);if(void 0!==s.sparse){const b=s.sparse.values.byteOffset||0,w=new(0,vp[s.sparse.indices.componentType])(o[1],s.sparse.indices.byteOffset||0,s.sparse.count*BB.SCALAR),C=new c(o[2],b,s.sparse.count*l);null!==a&&(g=new gn(g.array.slice(),g.itemSize,g.normalized));for(let S=0,E=w.length;S<E;S++){const I=w[S];if(g.setX(I,C[S*l]),l>=2&&g.setY(I,C[S*l+1]),l>=3&&g.setZ(I,C[S*l+2]),l>=4&&g.setW(I,C[S*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return g})}loadTexture(t){const e=this.json,r=e.textures[t].source,o=e.images[r];let a=this.textureLoader;if(o.uri){const l=this.options.manager.getHandler(o.uri);null!==l&&(a=l)}return this.loadTextureImage(t,r,a)}loadTextureImage(t,e,i){const s=this,r=this.json,o=r.textures[t],a=r.images[e],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(e,i).then(function(d){d.flipY=!1,o.name&&(d.name=o.name);const h=(r.samplers||{})[o.sampler]||{};return d.magFilter=LB[h.magFilter]||Mn,d.minFilter=LB[h.minFilter]||qa,d.wrapS=NB[h.wrapS]||Kl,d.wrapT=NB[h.wrapT]||Kl,s.associations.set(d,{textures:t}),d}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(t,e){const s=this.json,r=this.options;if(void 0!==this.sourceCache[t])return this.sourceCache[t].then(u=>u.clone());const o=s.images[t],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(void 0!==o.bufferView)l=this.getDependency("bufferView",o.bufferView).then(function(u){c=!0;const h=new Blob([u],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(void 0===o.uri)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const d=Promise.resolve(l).then(function(u){return new Promise(function(h,f){let p=h;!0===e.isImageBitmapLoader&&(p=function(m){const g=new Ji(m);g.needsUpdate=!0,h(g)}),e.load(bo.resolveURL(u,r.path),p,void 0,f)})}).then(function(u){return!0===c&&a.revokeObjectURL(l),u.userData.mimeType=o.mimeType||function Cae(n){return n.search(/\.jpe?g($|\?)/i)>0||0===n.search(/^data\:image\/jpeg/)?"image/jpeg":n.search(/\.webp($|\?)/i)>0||0===n.search(/^data\:image\/webp/)?"image/webp":"image/png"}(o.uri),u}).catch(function(u){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),u});return this.sourceCache[t]=d,d}assignTexture(t,e,i,s){const r=this;return this.getDependency("texture",i.index).then(function(o){if(void 0!==i.texCoord&&0!=i.texCoord&&!("aoMap"===e&&1==i.texCoord)&&console.warn("THREE.GLTFLoader: Custom UV set "+i.texCoord+" for texture "+e+" not yet supported."),r.extensions[Wt.KHR_TEXTURE_TRANSFORM]){const a=void 0!==i.extensions?i.extensions[Wt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=r.associations.get(o);o=r.extensions[Wt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),r.associations.set(o,l)}}return void 0!==s&&(o.encoding=s),t[e]=o,o})}assignFinalMaterial(t){const e=t.geometry;let i=t.material;const s=void 0===e.attributes.tangent,r=void 0!==e.attributes.color,o=void 0===e.attributes.normal;if(t.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new vy,zn.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(t.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Vi,zn.prototype.copy.call(l,i),l.color.copy(i.color),this.cache.add(a,l)),i=l}if(s||r||o){let a="ClonedMaterial:"+i.uuid+":";i.isGLTFSpecularGlossinessMaterial&&(a+="specular-glossiness:"),s&&(a+="derivative-tangents:"),r&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),r&&(l.vertexColors=!0),o&&(l.flatShading=!0),s&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}i.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=i}getMaterialType(){return Bu}loadMaterial(t){const e=this,s=this.extensions,r=this.json.materials[t];let o;const a={},l=r.extensions||{},c=[];if(l[Wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const u=s[Wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];o=u.getMaterialType(),c.push(u.extendParams(a,r,e))}else if(l[Wt.KHR_MATERIALS_UNLIT]){const u=s[Wt.KHR_MATERIALS_UNLIT];o=u.getMaterialType(),c.push(u.extendParams(a,r,e))}else{const u=r.pbrMetallicRoughness||{};if(a.color=new ve(1,1,1),a.opacity=1,Array.isArray(u.baseColorFactor)){const h=u.baseColorFactor;a.color.fromArray(h),a.opacity=h[3]}void 0!==u.baseColorTexture&&c.push(e.assignTexture(a,"map",u.baseColorTexture,tn)),a.metalness=void 0!==u.metallicFactor?u.metallicFactor:1,a.roughness=void 0!==u.roughnessFactor?u.roughnessFactor:1,void 0!==u.metallicRoughnessTexture&&(c.push(e.assignTexture(a,"metalnessMap",u.metallicRoughnessTexture)),c.push(e.assignTexture(a,"roughnessMap",u.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(t)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(t,a)})))}!0===r.doubleSided&&(a.side=2);const d=r.alphaMode||"OPAQUE";if("BLEND"===d?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,"MASK"===d&&(a.alphaTest=void 0!==r.alphaCutoff?r.alphaCutoff:.5)),void 0!==r.normalTexture&&o!==zs&&(c.push(e.assignTexture(a,"normalMap",r.normalTexture)),a.normalScale=new ee(1,1),void 0!==r.normalTexture.scale)){const u=r.normalTexture.scale;a.normalScale.set(u,u)}return void 0!==r.occlusionTexture&&o!==zs&&(c.push(e.assignTexture(a,"aoMap",r.occlusionTexture)),void 0!==r.occlusionTexture.strength&&(a.aoMapIntensity=r.occlusionTexture.strength)),void 0!==r.emissiveFactor&&o!==zs&&(a.emissive=(new ve).fromArray(r.emissiveFactor)),void 0!==r.emissiveTexture&&o!==zs&&c.push(e.assignTexture(a,"emissiveMap",r.emissiveTexture,tn)),Promise.all(c).then(function(){let u;return u=o===cS?s[Wt.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new o(a),r.name&&(u.name=r.name),xc(u,r),e.associations.set(u,{materials:t}),r.extensions&&bp(s,u,r),u})}createUniqueName(t){const e=Cn.sanitizeNodeName(t||"");let i=e;for(let s=1;this.nodeNamesUsed[i];++s)i=e+"_"+s;return this.nodeNamesUsed[i]=!0,i}loadGeometries(t){const e=this,i=this.extensions,s=this.primitiveCache;function r(a){return i[Wt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,e).then(function(l){return zB(l,a,e)})}const o=[];for(let a=0,l=t.length;a<l;a++){const c=t[a],d=Mae(c),u=s[d];if(u)o.push(u.promise);else{let h;h=c.extensions&&c.extensions[Wt.KHR_DRACO_MESH_COMPRESSION]?r(c):zB(new ut,c,e),s[d]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(t){const e=this,s=this.extensions,r=this.json.meshes[t],o=r.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const d=void 0===o[l].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new Bu({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),n.DefaultMaterial):this.getDependency("material",o[l].material);a.push(d)}var n;return a.push(e.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),d=l[l.length-1],u=[];for(let f=0,p=d.length;f<p;f++){const m=d[f],g=o[f];let _;const y=c[f];if(4===g.mode||5===g.mode||6===g.mode||void 0===g.mode)_=!0===r.isSkinnedMesh?new py(m,y):new Ri(m,y),!0===_.isSkinnedMesh&&!_.geometry.attributes.skinWeight.normalized&&_.normalizeSkinWeights(),5===g.mode?_.geometry=UB(_.geometry,1):6===g.mode&&(_.geometry=UB(_.geometry,2));else if(1===g.mode)_=new fc(m,y);else if(3===g.mode)_=new rl(m,y);else if(2===g.mode)_=new PC(m,y);else{if(0!==g.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+g.mode);_=new FC(m,y)}Object.keys(_.geometry.morphAttributes).length>0&&wae(_,r),_.name=e.createUniqueName(r.name||"mesh_"+t),xc(_,r),g.extensions&&bp(s,_,g),e.assignFinalMaterial(_),u.push(_)}for(let f=0,p=u.length;f<p;f++)e.associations.set(u[f],{meshes:t,primitives:f});if(1===u.length)return u[0];const h=new ra;e.associations.set(h,{meshes:t});for(let f=0,p=u.length;f<p;f++)h.add(u[f]);return h})}loadCamera(t){let e;const i=this.json.cameras[t],s=i[i.type];if(s)return"perspective"===i.type?e=new ki(Cte.radToDeg(s.yfov),s.aspectRatio||1,s.znear||1,s.zfar||2e6):"orthographic"===i.type&&(e=new Qf(-s.xmag,s.xmag,s.ymag,-s.ymag,s.znear,s.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),xc(e,i),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")}loadSkin(t){const e=this.json.skins[t],i={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",e.inverseBindMatrices).then(function(s){return i.inverseBindMatrices=s,i})}loadAnimation(t){const i=this.json.animations[t],s=[],r=[],o=[],a=[],l=[];for(let c=0,d=i.channels.length;c<d;c++){const u=i.channels[c],h=i.samplers[u.sampler],f=u.target,m=void 0!==i.parameters?i.parameters[h.input]:h.input,g=void 0!==i.parameters?i.parameters[h.output]:h.output;s.push(this.getDependency("node",void 0!==f.node?f.node:f.id)),r.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",g)),a.push(h),l.push(f)}return Promise.all([Promise.all(s),Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const d=c[0],u=c[1],h=c[2],f=c[3],p=c[4],m=[];for(let _=0,y=d.length;_<y;_++){const v=d[_],b=u[_],w=h[_],C=f[_],S=p[_];if(void 0===v)continue;let E;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,ul[S.path]){case ul.weights:E=fp;break;case ul.rotation:E=pc;break;default:E=pp}const I=v.name?v.name:v.uuid,L=void 0!==C.interpolation?vae[C.interpolation]:lu,M=[];ul[S.path]===ul.weights?v.traverse(function(W){W.morphTargetInfluences&&M.push(W.name?W.name:W.uuid)}):M.push(I);let T=w.array;if(w.normalized){const W=hS(T.constructor),V=new Float32Array(T.length);for(let H=0,O=T.length;H<O;H++)V[H]=T[H]*W;T=V}for(let W=0,V=M.length;W<V;W++){const H=new E(M[W]+"."+ul[S.path],b.array,T,L);"CUBICSPLINE"===C.interpolation&&(H.createInterpolant=function(B){return new(this instanceof pc?yae:bc)(this.times,this.values,this.getValueSize()/3,B)},H.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(H)}}return new mp(i.name?i.name:"animation_"+t,void 0,m)})}createNodeMesh(t){const i=this,s=this.json.nodes[t];return void 0===s.mesh?null:i.getDependency("mesh",s.mesh).then(function(r){const o=i._getNodeRef(i.meshCache,s.mesh,r);return void 0!==s.weights&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=s.weights.length;l<c;l++)a.morphTargetInfluences[l]=s.weights[l]}),o})}loadNode(t){const i=this.extensions,s=this,r=this.json.nodes[t],o=r.name?s.createUniqueName(r.name):"";return function(){const a=[],l=s._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(t)});return l&&a.push(l),void 0!==r.camera&&a.push(s.getDependency("camera",r.camera).then(function(c){return s._getNodeRef(s.cameraCache,r.camera,c)})),s._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(t)}).forEach(function(c){a.push(c)}),Promise.all(a)}().then(function(a){let l;if(l=!0===r.isBone?new my:a.length>1?new ra:1===a.length?a[0]:new rn,l!==a[0])for(let c=0,d=a.length;c<d;c++)l.add(a[c]);if(r.name&&(l.userData.name=r.name,l.name=o),xc(l,r),r.extensions&&bp(i,l,r),void 0!==r.matrix){const c=new je;c.fromArray(r.matrix),l.applyMatrix4(c)}else void 0!==r.translation&&l.position.fromArray(r.translation),void 0!==r.rotation&&l.quaternion.fromArray(r.rotation),void 0!==r.scale&&l.scale.fromArray(r.scale);return s.associations.has(l)||s.associations.set(l,{}),s.associations.get(l).nodes=t,l})}loadScene(t){const e=this.json,i=this.extensions,s=this.json.scenes[t],r=this,o=new ra;s.name&&(o.name=r.createUniqueName(s.name)),xc(o,s),s.extensions&&bp(i,o,s);const a=s.nodes||[],l=[];for(let c=0,d=a.length;c<d;c++)l.push(HB(a[c],o,e,r));return Promise.all(l).then(function(){return r.associations=(d=>{const u=new Map;for(const[h,f]of r.associations)(h instanceof zn||h instanceof Ji)&&u.set(h,f);return d.traverse(h=>{const f=r.associations.get(h);null!=f&&u.set(h,f)}),u})(o),o})}}function HB(n,t,e,i){const s=e.nodes[n];return i.getDependency("node",n).then(function(r){if(void 0===s.skin)return r;let o;return i.getDependency("skin",s.skin).then(function(a){o=a;const l=[];for(let c=0,d=o.joints.length;c<d;c++)l.push(i.getDependency("node",o.joints[c]));return Promise.all(l)}).then(function(a){return r.traverse(function(l){if(!l.isMesh)return;const c=[],d=[];for(let u=0,h=a.length;u<h;u++){const f=a[u];if(f){c.push(f);const p=new je;void 0!==o.inverseBindMatrices&&p.fromArray(o.inverseBindMatrices.array,16*u),d.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',o.joints[u])}l.bind(new gy(c,d),l.matrixWorld)}),r})}).then(function(r){t.add(r);const o=[];if(s.children){const a=s.children;for(let l=0,c=a.length;l<c;l++)o.push(HB(a[l],r,e,i))}return Promise.all(o)})}function zB(n,t,e){const i=t.attributes,s=[];function r(o,a){return e.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=dS[o]||o.toLowerCase();a in n.attributes||s.push(r(i[o],a))}if(void 0!==t.indices&&!n.index){const o=e.getDependency("accessor",t.indices).then(function(a){n.setIndex(a)});s.push(o)}return xc(n,t),function Dae(n,t,e){const i=t.attributes,s=new Vs;if(void 0===i.POSITION)return;{const a=e.json.accessors[i.POSITION],l=a.min,c=a.max;if(void 0===l||void 0===c)return void console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");if(s.set(new D(l[0],l[1],l[2]),new D(c[0],c[1],c[2])),a.normalized){const d=hS(vp[a.componentType]);s.min.multiplyScalar(d),s.max.multiplyScalar(d)}}const r=t.targets;if(void 0!==r){const a=new D,l=new D;for(let c=0,d=r.length;c<d;c++){const u=r[c];if(void 0!==u.POSITION){const h=e.json.accessors[u.POSITION],f=h.min,p=h.max;if(void 0!==f&&void 0!==p){if(l.setX(Math.max(Math.abs(f[0]),Math.abs(p[0]))),l.setY(Math.max(Math.abs(f[1]),Math.abs(p[1]))),l.setZ(Math.max(Math.abs(f[2]),Math.abs(p[2]))),h.normalized){const m=hS(vp[h.componentType]);l.multiplyScalar(m)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}s.expandByVector(a)}n.boundingBox=s;const o=new Qa;s.getCenter(o.center),o.radius=s.min.distanceTo(s.max)/2,n.boundingSphere=o}(n,t,e),Promise.all(s).then(function(){return void 0!==t.targets?function xae(n,t,e){let i=!1,s=!1,r=!1;for(let c=0,d=t.length;c<d;c++){const u=t[c];if(void 0!==u.POSITION&&(i=!0),void 0!==u.NORMAL&&(s=!0),void 0!==u.COLOR_0&&(r=!0),i&&s&&r)break}if(!i&&!s&&!r)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,d=t.length;c<d;c++){const u=t[c];if(i){const h=void 0!==u.POSITION?e.getDependency("accessor",u.POSITION):n.attributes.position;o.push(h)}if(s){const h=void 0!==u.NORMAL?e.getDependency("accessor",u.NORMAL):n.attributes.normal;a.push(h)}if(r){const h=void 0!==u.COLOR_0?e.getDependency("accessor",u.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[1],h=c[2];return i&&(n.morphAttributes.position=c[0]),s&&(n.morphAttributes.normal=u),r&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}(n,t.targets,e):n})}function UB(n,t){let e=n.getIndex();if(null===e){const o=[],a=n.getAttribute("position");if(void 0===a)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n;for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),e=n.getIndex()}const i=e.count-2,s=[];if(2===t)for(let o=1;o<=i;o++)s.push(e.getX(0)),s.push(e.getX(o)),s.push(e.getX(o+1));else for(let o=0;o<i;o++)o%2==0?(s.push(e.getX(o)),s.push(e.getX(o+1)),s.push(e.getX(o+2))):(s.push(e.getX(o+2)),s.push(e.getX(o+1)),s.push(e.getX(o)));s.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=n.clone();return r.setIndex(s),r}const GB={type:"change"},fS={type:"start"},jB={type:"end"};class Eae extends Ya{constructor(t,e){super(),void 0===e&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=t,this.domElement=e,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new D,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return a.phi},this.getAzimuthalAngle=function(){return a.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(R){R.addEventListener("keydown",an),this._domElementKeyEvents=R},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(GB),i.update(),r=s.NONE},this.update=function(){const R=new D,fe=(new Ti).setFromUnitVectors(t.up,new D(0,1,0)),qe=fe.clone().invert(),Ee=new D,N=new Ti,Ce=2*Math.PI;return function(){const ft=i.object.position;R.copy(ft).sub(i.target),R.applyQuaternion(fe),a.setFromVector3(R),i.autoRotate&&r===s.NONE&&I(function S(){return 2*Math.PI/60/60*i.autoRotateSpeed}()),i.enableDamping?(a.theta+=l.theta*i.dampingFactor,a.phi+=l.phi*i.dampingFactor):(a.theta+=l.theta,a.phi+=l.phi);let Fe=i.minAzimuthAngle,Ye=i.maxAzimuthAngle;return isFinite(Fe)&&isFinite(Ye)&&(Fe<-Math.PI?Fe+=Ce:Fe>Math.PI&&(Fe-=Ce),Ye<-Math.PI?Ye+=Ce:Ye>Math.PI&&(Ye-=Ce),a.theta=Fe<=Ye?Math.max(Fe,Math.min(Ye,a.theta)):a.theta>(Fe+Ye)/2?Math.max(Fe,a.theta):Math.min(Ye,a.theta)),a.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,a.phi)),a.makeSafe(),a.radius*=c,a.radius=Math.max(i.minDistance,Math.min(i.maxDistance,a.radius)),!0===i.enableDamping?i.target.addScaledVector(d,i.dampingFactor):i.target.add(d),R.setFromSpherical(a),R.applyQuaternion(qe),ft.copy(i.target).add(R),i.object.lookAt(i.target),!0===i.enableDamping?(l.theta*=1-i.dampingFactor,l.phi*=1-i.dampingFactor,d.multiplyScalar(1-i.dampingFactor)):(l.set(0,0,0),d.set(0,0,0)),c=1,!!(u||Ee.distanceToSquared(i.object.position)>o||8*(1-N.dot(i.object.quaternion))>o)&&(i.dispatchEvent(GB),Ee.copy(i.object.position),N.copy(i.object.quaternion),u=!1,!0)}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Z),i.domElement.removeEventListener("pointerdown",ye),i.domElement.removeEventListener("pointercancel",wt),i.domElement.removeEventListener("wheel",En),i.domElement.removeEventListener("pointermove",Ue),i.domElement.removeEventListener("pointerup",Pe),null!==i._domElementKeyEvents&&i._domElementKeyEvents.removeEventListener("keydown",an)};const i=this,s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=s.NONE;const o=1e-6,a=new bB,l=new bB;let c=1;const d=new D;let u=!1;const h=new ee,f=new ee,p=new ee,m=new ee,g=new ee,_=new ee,y=new ee,v=new ee,b=new ee,w=[],C={};function E(){return Math.pow(.95,i.zoomSpeed)}function I(R){l.theta-=R}function L(R){l.phi-=R}const M=function(){const R=new D;return function(qe,Ee){R.setFromMatrixColumn(Ee,0),R.multiplyScalar(-qe),d.add(R)}}(),T=function(){const R=new D;return function(qe,Ee){!0===i.screenSpacePanning?R.setFromMatrixColumn(Ee,1):(R.setFromMatrixColumn(Ee,0),R.crossVectors(i.object.up,R)),R.multiplyScalar(qe),d.add(R)}}(),W=function(){const R=new D;return function(qe,Ee){const N=i.domElement;if(i.object.isPerspectiveCamera){R.copy(i.object.position).sub(i.target);let xe=R.length();xe*=Math.tan(i.object.fov/2*Math.PI/180),M(2*qe*xe/N.clientHeight,i.object.matrix),T(2*Ee*xe/N.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(M(qe*(i.object.right-i.object.left)/i.object.zoom/N.clientWidth,i.object.matrix),T(Ee*(i.object.top-i.object.bottom)/i.object.zoom/N.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function V(R){i.object.isPerspectiveCamera?c/=R:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*R)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function H(R){i.object.isPerspectiveCamera?c*=R:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/R)),i.object.updateProjectionMatrix(),u=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function O(R){h.set(R.clientX,R.clientY)}function F(R){m.set(R.clientX,R.clientY)}function Ne(){1===w.length?h.set(w[0].pageX,w[0].pageY):h.set(.5*(w[0].pageX+w[1].pageX),.5*(w[0].pageY+w[1].pageY))}function Ke(){1===w.length?m.set(w[0].pageX,w[0].pageY):m.set(.5*(w[0].pageX+w[1].pageX),.5*(w[0].pageY+w[1].pageY))}function ne(){const R=w[0].pageX-w[1].pageX,fe=w[0].pageY-w[1].pageY,qe=Math.sqrt(R*R+fe*fe);y.set(0,qe)}function et(R){if(1==w.length)f.set(R.pageX,R.pageY);else{const qe=nt(R);f.set(.5*(R.pageX+qe.x),.5*(R.pageY+qe.y))}p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const fe=i.domElement;I(2*Math.PI*p.x/fe.clientHeight),L(2*Math.PI*p.y/fe.clientHeight),h.copy(f)}function pe(R){if(1===w.length)g.set(R.pageX,R.pageY);else{const fe=nt(R);g.set(.5*(R.pageX+fe.x),.5*(R.pageY+fe.y))}_.subVectors(g,m).multiplyScalar(i.panSpeed),W(_.x,_.y),m.copy(g)}function xt(R){const fe=nt(R),qe=R.pageX-fe.x,Ee=R.pageY-fe.y,N=Math.sqrt(qe*qe+Ee*Ee);v.set(0,N),b.set(0,Math.pow(v.y/y.y,i.zoomSpeed)),V(b.y),y.copy(v)}function ye(R){!1!==i.enabled&&(0===w.length&&(i.domElement.setPointerCapture(R.pointerId),i.domElement.addEventListener("pointermove",Ue),i.domElement.addEventListener("pointerup",Pe)),function ue(R){w.push(R)}(R),"touch"===R.pointerType?function P(R){switch(Ve(R),w.length){case 1:switch(i.touches.ONE){case 0:if(!1===i.enableRotate)return;Ne(),r=s.TOUCH_ROTATE;break;case 1:if(!1===i.enablePan)return;Ke(),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(i.touches.TWO){case 2:if(!1===i.enableZoom&&!1===i.enablePan)return;(function ht(){i.enableZoom&&ne(),i.enablePan&&Ke()})(),r=s.TOUCH_DOLLY_PAN;break;case 3:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function rt(){i.enableZoom&&ne(),i.enableRotate&&Ne()})(),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&i.dispatchEvent(fS)}(R):function lt(R){let fe;switch(R.button){case 0:fe=i.mouseButtons.LEFT;break;case 1:fe=i.mouseButtons.MIDDLE;break;case 2:fe=i.mouseButtons.RIGHT;break;default:fe=-1}switch(fe){case 1:if(!1===i.enableZoom)return;(function B(R){y.set(R.clientX,R.clientY)})(R),r=s.DOLLY;break;case 0:if(R.ctrlKey||R.metaKey||R.shiftKey){if(!1===i.enablePan)return;F(R),r=s.PAN}else{if(!1===i.enableRotate)return;O(R),r=s.ROTATE}break;case 2:if(R.ctrlKey||R.metaKey||R.shiftKey){if(!1===i.enableRotate)return;O(R),r=s.ROTATE}else{if(!1===i.enablePan)return;F(R),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&i.dispatchEvent(fS)}(R))}function Ue(R){!1!==i.enabled&&("touch"===R.pointerType?function A(R){switch(Ve(R),r){case s.TOUCH_ROTATE:if(!1===i.enableRotate)return;et(R),i.update();break;case s.TOUCH_PAN:if(!1===i.enablePan)return;pe(R),i.update();break;case s.TOUCH_DOLLY_PAN:if(!1===i.enableZoom&&!1===i.enablePan)return;(function ie(R){i.enableZoom&&xt(R),i.enablePan&&pe(R)})(R),i.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===i.enableZoom&&!1===i.enableRotate)return;(function re(R){i.enableZoom&&xt(R),i.enableRotate&&et(R)})(R),i.update();break;default:r=s.NONE}}(R):function tt(R){if(!1!==i.enabled)switch(r){case s.ROTATE:if(!1===i.enableRotate)return;!function $(R){f.set(R.clientX,R.clientY),p.subVectors(f,h).multiplyScalar(i.rotateSpeed);const fe=i.domElement;I(2*Math.PI*p.x/fe.clientHeight),L(2*Math.PI*p.y/fe.clientHeight),h.copy(f),i.update()}(R);break;case s.DOLLY:if(!1===i.enableZoom)return;!function Q(R){v.set(R.clientX,R.clientY),b.subVectors(v,y),b.y>0?V(E()):b.y<0&&H(E()),y.copy(v),i.update()}(R);break;case s.PAN:if(!1===i.enablePan)return;!function le(R){g.set(R.clientX,R.clientY),_.subVectors(g,m).multiplyScalar(i.panSpeed),W(_.x,_.y),m.copy(g),i.update()}(R)}}(R))}function Pe(R){ke(R),0===w.length&&(i.domElement.releasePointerCapture(R.pointerId),i.domElement.removeEventListener("pointermove",Ue),i.domElement.removeEventListener("pointerup",Pe)),i.dispatchEvent(jB),r=s.NONE}function wt(R){ke(R)}function En(R){!1===i.enabled||!1===i.enableZoom||r!==s.NONE||(R.preventDefault(),i.dispatchEvent(fS),function te(R){R.deltaY<0?H(E()):R.deltaY>0&&V(E()),i.update()}(R),i.dispatchEvent(jB))}function an(R){!1===i.enabled||!1===i.enablePan||function Le(R){let fe=!1;switch(R.code){case i.keys.UP:W(0,i.keyPanSpeed),fe=!0;break;case i.keys.BOTTOM:W(0,-i.keyPanSpeed),fe=!0;break;case i.keys.LEFT:W(i.keyPanSpeed,0),fe=!0;break;case i.keys.RIGHT:W(-i.keyPanSpeed,0),fe=!0}fe&&(R.preventDefault(),i.update())}(R)}function Z(R){!1!==i.enabled&&R.preventDefault()}function ke(R){delete C[R.pointerId];for(let fe=0;fe<w.length;fe++)if(w[fe].pointerId==R.pointerId)return void w.splice(fe,1)}function Ve(R){let fe=C[R.pointerId];void 0===fe&&(fe=new ee,C[R.pointerId]=fe),fe.set(R.pageX,R.pageY)}function nt(R){return C[(R.pointerId===w[0].pointerId?w[1]:w[0]).pointerId]}i.domElement.addEventListener("contextmenu",Z),i.domElement.addEventListener("pointerdown",ye),i.domElement.addEventListener("pointercancel",wt),i.domElement.addEventListener("wheel",En,{passive:!1}),this.update()}}class Aae extends Coe{constructor(t){super(t),this.type=po}parse(t){const a=function(v,b){switch(v){case 1:console.error("THREE.RGBELoader Read Error: "+(b||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(b||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(b||""));break;default:console.error("THREE.RGBELoader: Error: "+(b||""))}return-1},h=function(v,b,w){b=b||1024;let S=v.pos,E=-1,I=0,L="",M=String.fromCharCode.apply(null,new Uint16Array(v.subarray(S,S+128)));for(;0>(E=M.indexOf("\n"))&&I<b&&S<v.byteLength;)L+=M,I+=M.length,S+=128,M+=String.fromCharCode.apply(null,new Uint16Array(v.subarray(S,S+128)));return-1<E&&(!1!==w&&(v.pos+=I+E+1),L+M.slice(0,E))},m=function(v,b,w,C){const E=Math.pow(2,v[b+3]-128)/255;w[C+0]=v[b+0]*E,w[C+1]=v[b+1]*E,w[C+2]=v[b+2]*E,w[C+3]=1},g=function(v,b,w,C){const E=Math.pow(2,v[b+3]-128)/255;w[C+0]=Ky.toHalfFloat(Math.min(v[b+0]*E,65504)),w[C+1]=Ky.toHalfFloat(Math.min(v[b+1]*E,65504)),w[C+2]=Ky.toHalfFloat(Math.min(v[b+2]*E,65504)),w[C+3]=Ky.toHalfFloat(1)},_=new Uint8Array(t);_.pos=0;const y=function(v){const w=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,C=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,S=/^\s*FORMAT=(\S+)\s*$/,E=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,I={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let L,M;if(v.pos>=v.byteLength||!(L=h(v)))return a(1,"no header found");if(!(M=L.match(/^#\?(\S+)/)))return a(3,"bad initial token");for(I.valid|=1,I.programtype=M[1],I.string+=L+"\n";L=h(v),!1!==L;)if(I.string+=L+"\n","#"!==L.charAt(0)){if((M=L.match(w))&&(I.gamma=parseFloat(M[1])),(M=L.match(C))&&(I.exposure=parseFloat(M[1])),(M=L.match(S))&&(I.valid|=2,I.format=M[1]),(M=L.match(E))&&(I.valid|=4,I.height=parseInt(M[1],10),I.width=parseInt(M[2],10)),2&I.valid&&4&I.valid)break}else I.comments+=L+"\n";return 2&I.valid?4&I.valid?I:a(3,"missing image size specifier"):a(3,"missing format specifier")}(_);if(-1!==y){const v=y.width,b=y.height,w=function(v,b,w){const C=b;if(C<8||C>32767||2!==v[0]||2!==v[1]||128&v[2])return new Uint8Array(v);if(C!==(v[2]<<8|v[3]))return a(3,"wrong scanline width");const S=new Uint8Array(4*b*w);if(!S.length)return a(4,"unable to allocate buffer space");let E=0,I=0;const L=4*C,M=new Uint8Array(4),T=new Uint8Array(L);let W=w;for(;W>0&&I<v.byteLength;){if(I+4>v.byteLength)return a(1);if(M[0]=v[I++],M[1]=v[I++],M[2]=v[I++],M[3]=v[I++],2!=M[0]||2!=M[1]||(M[2]<<8|M[3])!=C)return a(3,"bad rgbe scanline format");let H,V=0;for(;V<L&&I<v.byteLength;){H=v[I++];const B=H>128;if(B&&(H-=128),0===H||V+H>L)return a(3,"bad scanline data");if(B){const F=v[I++];for(let $=0;$<H;$++)T[V++]=F}else T.set(v.subarray(I,I+H),V),V+=H,I+=H}const O=C;for(let B=0;B<O;B++){let F=0;S[E]=T[B+F],F+=C,S[E+1]=T[B+F],F+=C,S[E+2]=T[B+F],F+=C,S[E+3]=T[B+F],E+=4}W--}return S}(_.subarray(_.pos),v,b);if(-1!==w){let C,S,E,I;switch(this.type){case Br:I=w.length/4;const L=new Float32Array(4*I);for(let T=0;T<I;T++)m(w,4*T,L,4*T);C=L,E=Br;break;case po:I=w.length/4;const M=new Uint16Array(4*I);for(let T=0;T<I;T++)g(w,4*T,M,4*T);C=M,E=po;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:v,height:b,data:C,header:y.string,gamma:y.gamma,exposure:y.exposure,format:S,type:E}}}return null}setDataType(t){return this.type=t,this}load(t,e,i,s){return super.load(t,function r(o,a){switch(o.type){case Br:case po:o.encoding=Vr,o.minFilter=Mn,o.magFilter=Mn,o.generateMipmaps=!1,o.flipY=!0}e&&e(o,a)},i,s)}}let pS=(()=>{class n{constructor(){this.deltaX=.01,this.deltaY=.01,this.deltaZ=.01,this.far=100,this.fov=35,this.gammaFactor=2.2,this.gammaOutput=!0,this.near=1,this.physicallyCorrectLights=!0,this.sceneBackground=9419988,this.renderer=new un({antialias:!0}),this.clock=new pB,this.mixers=new Array,this.modelPosition=new D(0,-1,0),this.modelScale=new D(.01,.01,.01),this.loadingManager=new YC,this.directionalLightOptions={color:15524284,intensity:20},this.hemisphereOptions={skyColor:16772785,groundColor:32800,intensity:4},this.createCamera=()=>{this.camera=new ki(this.fov,this.aspect,this.near,this.far),this.camera.position.set(7,4,9.5)},this.createControls=()=>this.controls=new Eae(this.camera,this.container),this.createLight=()=>{this.hemisphere=new XC(this.hemisphereOptions.skyColor,this.hemisphereOptions.groundColor,this.hemisphereOptions.intensity),this.mainLight=new tS(this.directionalLightOptions.color,this.directionalLightOptions.intensity),this.mainLight.position.set(-7,-4,-9.5),this.scene.add(this.hemisphere)},this.createModels=(e,i,s)=>{this.loader=new Joe(this.loadingManager);const r=o=>{const a=o.scene.children[0];a.position.copy(i),a.scale.copy(s);const l=o.animations[0];if(l){const c=new yB(a);this.mixers.push(c),c.clipAction(l).play()}this.scene.add(a),console.log(this.scene)};this.loader.load(e,o=>{r(o)},()=>{},o=>console.log(o))},this.onWindowResize=()=>{this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer&&this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)},this.createRenderer=()=>{this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.physicallyCorrectLights=!0,this.renderer.outputEncoding=tn,this.container.appendChild(this.renderer.domElement),window.addEventListener("resize",this.onWindowResize)},this.update=()=>{const e=this.clock.getDelta();this.mixers.forEach(i=>i.update(e))},this.render=()=>this.renderer.render(this.scene,this.camera),this.start=()=>this.renderer.setAnimationLoop(()=>{this.update(),this.render()}),this.stop=()=>this.renderer.setAnimationLoop(()=>{}),this.initialize=(e,i)=>{this.container=e,this.scene=new cy,this.scene.background=new ve(this.sceneBackground),this.aspect=e.clientWidth/e.clientHeight,this.createCamera(),this.createControls(),this.createLight(),this.initializeLoadingManager(),this.createModels(i.modelUrl,i.modelPosition,i.modelScale),this.createRenderer(),this.setEnviromentLighting().then(s=>{this.scene.environment=s}),this.start()}}setEnviromentLighting(){return new Promise((e,i)=>{new Aae(this.loadingManager).load("./assets/hdr/venice_sunset.hdr",s=>{s.mapping=303,e(s)})})}initializeLoadingManager(){this.loadingManager.onStart=(e,i,s)=>{var r,o;(null===(o=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===o?void 0:o.lastChild).classList.remove("fade-out")},this.loadingManager.onLoad=()=>{var e,i;(null===(i=null===(e=this.container)||void 0===e?void 0:e.parentElement)||void 0===i?void 0:i.lastChild).classList.add("fade-out")},this.loadingManager.onProgress=(e,i,s)=>{var r,o;const a=null===(o=null===(r=this.container)||void 0===r?void 0:r.parentElement)||void 0===o?void 0:o.lastChild;(null==a?void 0:a.lastChild).innerText=Math.round(i/s*100)+"%"},this.loadingManager.onError=e=>{console.log("There was an error loading "+e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class WB{}class $B{}class ua{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ua?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ua;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ua?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Tae{encodeKey(t){return qB(t)}encodeValue(t){return qB(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const kae=/%(\d[a-f0-9])/gi,Iae={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function qB(n){return encodeURIComponent(n).replace(kae,(t,e)=>{var i;return null!==(i=Iae[e])&&void 0!==i?i:t})}function YB(n){return`${n}`}class hl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Tae,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Rae(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new hl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(YB(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(YB(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Pae{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function XB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function KB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function QB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class xp{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Oae(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new ua),this.context||(this.context=new Pae),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new hl,this.urlWithParams=e}serializeBody(){return null===this.body?null:XB(this.body)||KB(this.body)||QB(this.body)||function Fae(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QB(this.body)?null:KB(this.body)?this.body.type||null:XB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const u=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((h,f)=>h.set(f,t.setHeaders[f]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((h,f)=>h.set(f,t.setParams[f]),d)),new xp(i,s,o,{params:d,headers:c,context:u,reportProgress:l,responseType:r,withCredentials:a})}}var _i=(()=>((_i=_i||{})[_i.Sent=0]="Sent",_i[_i.UploadProgress=1]="UploadProgress",_i[_i.ResponseHeader=2]="ResponseHeader",_i[_i.DownloadProgress=3]="DownloadProgress",_i[_i.Response=4]="Response",_i[_i.User=5]="User",_i))();class mS{constructor(t,e=200,i="OK"){this.headers=t.headers||new ua,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gS extends mS{constructor(t={}){super(t),this.type=_i.ResponseHeader}clone(t={}){return new gS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Qy extends mS{constructor(t={}){super(t),this.type=_i.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Qy({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ZB extends mS{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function _S(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zy=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof xp)r=e;else{let l,c;l=s.headers instanceof ua?s.headers:new ua(s.headers),s.params&&(c=s.params instanceof hl?s.params:new hl({fromObject:s.params})),r=new xp(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=Xe(r).pipe(Kd(l=>this.handler.handle(l)));if(e instanceof xp||"events"===s.observe)return o;const a=o.pipe(mn(l=>l instanceof Qy));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(Ct(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(Ct(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(Ct(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(Ct(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new hl).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,_S(s,i))}post(e,i,s={}){return this.request("POST",e,_S(s,i))}put(e,i,s={}){return this.request("PUT",e,_S(s,i))}}return n.\u0275fac=function(e){return new(e||n)(j(WB))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class JB{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const eV=new K("HTTP_INTERCEPTORS");let Lae=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Nae=/^\)\]\}',?\n/;let tV=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Zt(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((f,p)=>s.setRequestHeader(f,p.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const f=e.detectContentTypeHeader();null!==f&&s.setRequestHeader("Content-Type",f)}if(e.responseType){const f=e.responseType.toLowerCase();s.responseType="json"!==f?f:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=1223===s.status?204:s.status,p=s.statusText||"OK",m=new ua(s.getAllResponseHeaders()),g=function Bae(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new gS({headers:m,status:f,statusText:p,url:g}),o},l=()=>{let{headers:f,status:p,statusText:m,url:g}=a(),_=null;204!==p&&(_=void 0===s.response?s.responseText:s.response),0===p&&(p=_?200:0);let y=p>=200&&p<300;if("json"===e.responseType&&"string"==typeof _){const v=_;_=_.replace(Nae,"");try{_=""!==_?JSON.parse(_):null}catch(b){_=v,y&&(y=!1,_={error:b,text:_})}}y?(i.next(new Qy({body:_,headers:f,status:p,statusText:m,url:g||void 0})),i.complete()):i.error(new ZB({error:_,headers:f,status:p,statusText:m,url:g||void 0}))},c=f=>{const{url:p}=a(),m=new ZB({error:f,status:s.status||0,statusText:s.statusText||"Unknown Error",url:p||void 0});i.error(m)};let d=!1;const u=f=>{d||(i.next(a()),d=!0);let p={type:_i.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===e.responseType&&!!s.responseText&&(p.partialText=s.responseText),i.next(p)},h=f=>{let p={type:_i.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),i.next(p)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),e.reportProgress&&(s.addEventListener("progress",u),null!==r&&s.upload&&s.upload.addEventListener("progress",h)),s.send(r),i.next({type:_i.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),e.reportProgress&&(s.removeEventListener("progress",u),null!==r&&s.upload&&s.upload.removeEventListener("progress",h)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(j(eO))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const yS=new K("XSRF_COOKIE_NAME"),vS=new K("XSRF_HEADER_NAME");class nV{}let Vae=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=$P(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j(Ls),j(yS))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),bS=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(j(nV),j(vS))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),Hae=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(eV,[]);this.chain=i.reduceRight((s,r)=>new JB(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(j($B),j(di))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),zae=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:bS,useClass:Lae}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:yS,useValue:e.cookieName}:[],e.headerName?{provide:vS,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[bS,{provide:eV,useExisting:bS,multi:!0},{provide:nV,useClass:Vae},{provide:yS,useValue:"XSRF-TOKEN"},{provide:vS,useValue:"X-XSRF-TOKEN"}]}),n})(),Uae=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[Zy,{provide:WB,useClass:Hae},tV,{provide:$B,useExisting:tV}],imports:[[zae.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Jy=(()=>{class n{constructor(e){this.http=e,this.url="https://cryptic-falls-04173.herokuapp.com/api"}getMachines(){return this.http.get(this.url+"/machine")}getMachineDetails(e){return this.http.get(this.url+`/machine/${e}`)}createDigitalTwin(e){return this.http.post(this.url+"/digital-twin",e)}getDigitalTwins(){return this.http.get(this.url+"/digital-twin")}getDigitalTwinDetails(e){return this.http.get(this.url+`/digital-twin/${e}`)}deletDigitalTwin(e){return this.http.delete(this.url+`/digital-twin/${e}`)}}return n.\u0275fac=function(e){return new(e||n)(j(Zy))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gae=new K("cdk-dir-doc",{providedIn:"root",factory:function jae(){return pd(Je)}}),Wae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Hi=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new we,e){const s=e.documentElement?e.documentElement.dir:null;this.value=function $ae(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Wae.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(j(Gae,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();function iV(n){for(let t in n){let e=n[t]||"";switch(t){case"display":n.display="flex"===e?["-webkit-flex","flex"]:"inline-flex"===e?["-webkit-inline-flex","inline-flex"]:e;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+t]=e;break;case"flex-direction":e=e||"row",n["-webkit-flex-direction"]=e,n["flex-direction"]=e;break;case"order":n.order=n["-webkit-"+t]=isNaN(+e)?"0":e}}return n}const xS="inline",ev=["row","column","row-reverse","column-reverse"];function sV(n){let[t,e,i]=rV(n);return function Yae(n,t=null,e=!1){return{display:e?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":t||null}}(t,e,i)}function rV(n){var t;n=null!==(t=null==n?void 0:n.toLowerCase())&&void 0!==t?t:"";let[e,i,s]=n.split(" ");return ev.find(r=>r===e)||(e=ev[0]),i===xS&&(i=s!==xS?s:"",s=xS),[e,qae(i),!!s]}function wp(n){let[t]=rV(n);return t.indexOf("row")>-1}function qae(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function ha(n,...t){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let e of t)if(null!=e)for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}const Kae={provide:bw,useFactory:function Xae(n,t){return()=>{if(Bl(t)){const e=Array.from(n.querySelectorAll(`[class*=${oV}]`)),i=/\bflex-layout-.+?\b/g;e.forEach(s=>{s.classList.contains(`${oV}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(i,"")})}}},deps:[Je,Ls],multi:!0},oV="flex-layout-";let wS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[Kae]}),n})();class Mc{constructor(t=!1,e="all",i="",s="",r=0){this.matches=t,this.mediaQuery=e,this.mqAlias=i,this.suffix=s,this.priority=r,this.property=""}clone(){return new Mc(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Qae=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(e,i,s){const r=this.stylesheet.get(e);r?r.set(i,s):this.stylesheet.set(e,new Map([[i,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(e,i){const s=this.stylesheet.get(e);let r="";if(s){const o=s.get(i);("number"==typeof o||"string"==typeof o)&&(r=o+"")}return r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MS={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},qr=new K("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>MS}),Gu=new K("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),CS=new K("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function aV(n,t){return n=n?n.clone():new Mc,t&&(n.mqAlias=t.alias,n.mediaQuery=t.mediaQuery,n.suffix=t.suffix,n.priority=t.priority),n}class Kn{constructor(){this.shouldCache=!0}sideEffect(t,e,i){}}let Rn=(()=>{class n{constructor(e,i,s,r){this._serverStylesheet=e,this._serverModuleLoaded=i,this._platformId=s,this.layoutConfig=r}applyStyleToElement(e,i,s=null){let r={};"string"==typeof i&&(r[i]=s,i=r),r=this.layoutConfig.disableVendorPrefixes?i:iV(i),this._applyMultiValueStyleToElement(r,e)}applyStyleToElements(e,i=[]){const s=this.layoutConfig.disableVendorPrefixes?e:iV(e);i.forEach(r=>{this._applyMultiValueStyleToElement(s,r)})}getFlowDirection(e){const i="flex-direction";let s=this.lookupStyle(e,i);return[s||"row",this.lookupInlineStyle(e,i)||Xd(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(e){return"wrap"===this.lookupStyle(e,"flex-wrap")}lookupAttributeValue(e,i){var s;return null!==(s=e.getAttribute(i))&&void 0!==s?s:""}lookupInlineStyle(e,i){return Bl(this._platformId)?e.style.getPropertyValue(i):function Zae(n,t){var e;return null!==(e=lV(n)[t])&&void 0!==e?e:""}(e,i)}lookupStyle(e,i,s=!1){let r="";return e&&((r=this.lookupInlineStyle(e,i))||(Bl(this._platformId)?s||(r=getComputedStyle(e).getPropertyValue(i)):this._serverModuleLoaded&&(r=this._serverStylesheet.getStyleForElement(e,i)))),r?r.trim():""}_applyMultiValueStyleToElement(e,i){Object.keys(e).sort().forEach(s=>{const r=e[s],o=Array.isArray(r)?r:[r];o.sort();for(let a of o)a=a?a+"":"",Bl(this._platformId)||!this._serverModuleLoaded?Bl(this._platformId)?i.style.setProperty(s,a):Jae(i,s,a):this._serverStylesheet.addStyleToElement(i,s,a)})}}return n.\u0275fac=function(e){return new(e||n)(j(Qae),j(Gu),j(Ls),j(qr))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jae(n,t,e){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=lV(n);i[t]=null!=e?e:"",function ele(n,t){let e="";for(const i in t)t[i]&&(e+=`${i}:${t[i]};`);n.setAttribute("style",e)}(n,i)}function lV(n){const t={},e=n.getAttribute("style");if(e){const i=e.split(/;+/g);for(let s=0;s<i.length;s++){const r=i[s].trim();if(r.length>0){const o=r.indexOf(":");if(-1===o)throw new Error(`Invalid CSS style: ${r}`);t[r.substr(0,o).trim()]=r.substr(o+1).trim()}}}return t}function Mp(n,t){return(t&&t.priority||0)-(n&&n.priority||0)}function tle(n,t){return(n.priority||0)-(t.priority||0)}let SS=(()=>{class n{constructor(e,i,s){this._zone=e,this._platformId=i,this._document=s,this.source=new Qi(new Mc(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const e=[];return this.registry.forEach((i,s)=>{i.matches&&e.push(s)}),e}isActive(e){var i;const s=this.registry.get(e);return null!==(i=null==s?void 0:s.matches)&&void 0!==i?i:this.registerQuery(e).some(r=>r.matches)}observe(e,i=!1){if(e&&e.length){const s=this._observable$.pipe(mn(o=>!i||e.indexOf(o.mediaQuery)>-1));return jn(new Zt(o=>{const a=this.registerQuery(e);if(a.length){const l=a.pop();a.forEach(c=>{o.next(c)}),this.source.next(l)}o.complete()}),s)}return this._observable$}registerQuery(e){const i=Array.isArray(e)?e:[e],s=[];return function nle(n,t){const e=n.filter(i=>!cV[i]);if(e.length>0){const i=e.join(", ");try{const s=t.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(t.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),t.head.appendChild(s),e.forEach(r=>cV[r]=s)}catch(s){console.error(s)}}}(i,this._document),i.forEach(r=>{const o=l=>{this._zone.run(()=>this.source.next(new Mc(l.matches,r)))};let a=this.registry.get(r);a||(a=this.buildMQL(r),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(r,a)),a.matches&&s.push(new Mc(!0,r))}),s}ngOnDestroy(){let e;for(;e=this.pendingRemoveListenerFns.pop();)e()}buildMQL(e){return function ile(n,t){return t&&window.matchMedia("all").addListener?window.matchMedia(n):{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}(e,Bl(this._platformId))}}return n.\u0275fac=function(e){return new(e||n)(j($e),j(Ls),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cV={},sle=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],dV="(orientation: portrait) and (max-width: 599.98px)",uV="(orientation: landscape) and (max-width: 959.98px)",hV="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",fV="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",pV="(orientation: portrait) and (min-width: 840px)",mV="(orientation: landscape) and (min-width: 1280px)",fa={HANDSET:`${dV}, ${uV}`,TABLET:`${hV} , ${fV}`,WEB:`${pV}, ${mV} `,HANDSET_PORTRAIT:`${dV}`,TABLET_PORTRAIT:`${hV} `,WEB_PORTRAIT:`${pV}`,HANDSET_LANDSCAPE:`${uV}`,TABLET_LANDSCAPE:`${fV}`,WEB_LANDSCAPE:`${mV}`},rle=[{alias:"handset",priority:2e3,mediaQuery:fa.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:fa.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:fa.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:fa.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:fa.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:fa.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:fa.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:fa.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:fa.WEB_PORTRAIT,overlapping:!0}],ole=/(\.|-|_)/g;function ale(n){let t=n.length>0?n.charAt(0):"",e=n.length>1?n.slice(1):"";return t.toUpperCase()+e}const ule=new K("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=pd(CS),t=pd(qr),e=[].concat.apply([],(n||[]).map(s=>Array.isArray(s)?s:[s]));return function dle(n,t=[]){const e={};return n.forEach(i=>{e[i.alias]=i}),t.forEach(i=>{e[i.alias]?ha(e[i.alias],i):e[i.alias]=i}),function cle(n){return n.forEach(t=>{t.suffix||(t.suffix=function lle(n){return n.replace(ole,"|").split("|").map(ale).join("")}(t.alias),t.overlapping=!!t.overlapping)}),n}(Object.keys(e).map(i=>e[i]))}((t.disableDefaultBps?[]:sle).concat(t.addOrientationBps?rle:[]),e)}});let DS=(()=>{class n{constructor(e){this.findByMap=new Map,this.items=[...e].sort(tle)}findByAlias(e){return e?this.findWithPredicate(e,i=>i.alias===e):null}findByQuery(e){return this.findWithPredicate(e,i=>i.mediaQuery===e)}get overlappings(){return this.items.filter(e=>e.overlapping)}get aliases(){return this.items.map(e=>e.alias)}get suffixes(){return this.items.map(e=>{var i;return null!==(i=null==e?void 0:e.suffix)&&void 0!==i?i:""})}findWithPredicate(e,i){var s;let r=this.findByMap.get(e);return r||(r=null!==(s=this.items.find(i))&&void 0!==s?s:null,this.findByMap.set(e,r)),null!=r?r:null}}return n.\u0275fac=function(e){return new(e||n)(j(ule))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ju="print",hle={alias:ju,mediaQuery:ju,priority:1e3};let fle=(()=>{class n{constructor(e,i,s){this.breakpoints=e,this.layoutConfig=i,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new ple,this.deactivations=[]}withPrintQuery(e){return[...e,ju]}isPrintEvent(e){return e.mediaQuery.startsWith(ju)}get printAlias(){var e;return[...null!==(e=this.layoutConfig.printWithBreakpoints)&&void 0!==e?e:[]]}get printBreakPoints(){return this.printAlias.map(e=>this.breakpoints.findByAlias(e)).filter(e=>null!==e)}getEventBreakpoints({mediaQuery:e}){const i=this.breakpoints.findByQuery(e);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(Mp)}updateEvent(e){var i;let s=this.breakpoints.findByQuery(e.mediaQuery);return this.isPrintEvent(e)&&(s=this.getEventBreakpoints(e)[0],e.mediaQuery=null!==(i=null==s?void 0:s.mediaQuery)&&void 0!==i?i:""),aV(e,s)}registerBeforeAfterPrintHooks(e){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(e,this.getEventBreakpoints(new Mc(!0,ju))),e.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(e),e.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(s)}interceptEvents(e){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(e,this.getEventBreakpoints(i)),e.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(e),e.updateStyles()):this.collectActivations(e,i)}}blockPropagation(){return e=>!(this.isPrinting||this.isPrintEvent(e))}startPrinting(e,i){this.isPrinting=!0,this.formerActivations=e.activatedBreakpoints,e.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(e){e.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(e,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const s=this.breakpoints.findByQuery(i.mediaQuery);if(s){const r=this.formerActivations&&this.formerActivations.includes(s),o=!this.formerActivations&&e.activatedBreakpoints.includes(s);(r||o)&&(this.deactivations.push(s),this.deactivations.sort(Mp))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("beforeprint",e)),this.afterPrintEventListeners.forEach(e=>this._document.defaultView.removeEventListener("afterprint",e)))}}return n.\u0275fac=function(e){return new(e||n)(j(DS),j(qr),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ple{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(hle),t.sort(Mp),t.forEach(e=>this.addBreakpoint(e)),this.printBreakpoints}addBreakpoint(t){t&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)&&(this.printBreakpoints=function mle(n){var t;return null!==(t=null==n?void 0:n.mediaQuery.startsWith(ju))&&void 0!==t&&t}(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}}let Nn=(()=>{class n{constructor(e,i,s){this.matchMedia=e,this.breakpoints=i,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new me,this.observeActivations()}get activatedAlias(){var e,i;return null!==(i=null===(e=this.activatedBreakpoints[0])||void 0===e?void 0:e.alias)&&void 0!==i?i:""}set activatedBreakpoints(e){this._activatedBreakpoints=[...e]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(e){this._useFallbacks=e}onMediaChange(e){const i=this.findByQuery(e.mediaQuery);if(i){e=aV(e,i);const s=this.activatedBreakpoints.indexOf(i);e.matches&&-1===s?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(Mp),this.updateStyles()):!e.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(Mp),this.updateStyles())}}init(e,i,s,r,o=[]){gV(this.updateMap,e,i,s),gV(this.clearMap,e,i,r),this.buildElementKeyMap(e,i),this.watchExtraTriggers(e,i,o)}getValue(e,i,s){const r=this.elementMap.get(e);if(r){const o=void 0!==s?r.get(s):this.getActivatedValues(r,i);if(o)return o.get(i)}}hasValue(e,i){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,i);if(r)return void 0!==r.get(i)||!1}return!1}setValue(e,i,s,r){var o;let a=this.elementMap.get(e);if(a){const c=(null!==(o=a.get(r))&&void 0!==o?o:new Map).set(i,s);a.set(r,c),this.elementMap.set(e,a)}else a=(new Map).set(r,(new Map).set(i,s)),this.elementMap.set(e,a);const l=this.getValue(e,i);void 0!==l&&this.updateElement(e,i,l)}trackValue(e,i){return this.subject.asObservable().pipe(mn(s=>s.element===e&&s.key===i))}updateStyles(){this.elementMap.forEach((e,i)=>{const s=new Set(this.elementKeyMap.get(i));let r=this.getActivatedValues(e);r&&r.forEach((o,a)=>{this.updateElement(i,a,o),s.delete(a)}),s.forEach(o=>{if(r=this.getActivatedValues(e,o),r){const a=r.get(o);this.updateElement(i,o,a)}else this.clearElement(i,o)})})}clearElement(e,i){const s=this.clearMap.get(e);if(s){const r=s.get(i);r&&(r(),this.subject.next({element:e,key:i,value:""}))}}updateElement(e,i,s){const r=this.updateMap.get(e);if(r){const o=r.get(i);o&&(o(s),this.subject.next({element:e,key:i,value:s}))}}releaseElement(e){const i=this.watcherMap.get(e);i&&(i.forEach(r=>r.unsubscribe()),this.watcherMap.delete(e));const s=this.elementMap.get(e);s&&(s.forEach((r,o)=>s.delete(o)),this.elementMap.delete(e))}triggerUpdate(e,i){const s=this.elementMap.get(e);if(s){const r=this.getActivatedValues(s,i);r&&(i?this.updateElement(e,i,r.get(i)):r.forEach((o,a)=>this.updateElement(e,a,o)))}}buildElementKeyMap(e,i){let s=this.elementKeyMap.get(e);s||(s=new Set,this.elementKeyMap.set(e,s)),s.add(i)}watchExtraTriggers(e,i,s){if(s&&s.length){let r=this.watcherMap.get(e);if(r||(r=new Map,this.watcherMap.set(e,r)),!r.get(i)){const a=jn(...s).subscribe(()=>{const l=this.getValue(e,i);this.updateElement(e,i,l)});r.set(i,a)}}}findByQuery(e){return this.breakpoints.findByQuery(e)}getActivatedValues(e,i){for(let r=0;r<this.activatedBreakpoints.length;r++){const a=e.get(this.activatedBreakpoints[r].alias);if(a&&(void 0===i||a.has(i)&&null!=a.get(i)))return a}if(!this._useFallbacks)return;const s=e.get("");return void 0===i||s&&s.has(i)?s:void 0}observeActivations(){const e=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(e)).pipe(Di(this.hook.interceptEvents(this)),mn(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(e){return new(e||n)(j(SS),j(DS),j(fle))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gV(n,t,e,i){var s;if(void 0!==i){const r=null!==(s=n.get(t))&&void 0!==s?s:new Map;r.set(e,i),n.set(t,r)}}let Gn=(()=>{class n{constructor(e,i,s,r){this.elementRef=e,this.styleBuilder=i,this.styler=s,this.marshal=r,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new me,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(e){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,this.marshal.activatedAlias)}ngOnChanges(e){Object.keys(e).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split(".").slice(1).join(".");this.setValue(e[i].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(e=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),e)}addStyles(e,i){const s=this.styleBuilder,r=s.shouldCache;let o=this.styleCache.get(e);(!o||!r)&&(o=s.buildStyles(e,i),r&&this.styleCache.set(e,o)),this.mru=Object.assign({},o),this.applyStyleToElement(o),s.sideEffect(e,o,i)}clearStyles(){Object.keys(this.mru).forEach(e=>{this.mru[e]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(e,i=!1){if(e){const[s,r]=this.styler.getFlowDirection(e);if(!r&&i){const o=sV(s);this.styler.applyStyleToElements(o,[e])}return s.trim()}return"row"}hasWrap(e){return this.styler.hasWrap(e)}applyStyleToElement(e,i,s=this.nativeElement){this.styler.applyStyleToElement(s,e,i)}setValue(e,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,e,i)}updateWithValue(e){this.currentValue!==e&&(this.addStyles(e),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Kn),x(Rn),x(Nn))},n.\u0275dir=z({type:n,features:[on]}),n})();function _V(n,t="1",e="1"){let i=[t,e,n],s=n.indexOf("calc");if(s>0){i[2]=yV(n.substring(s).trim());let r=n.substr(0,s).trim().split(" ");2==r.length&&(i[0]=r[0],i[1]=r[1])}else if(0==s)i[2]=yV(n.trim());else{let r=n.split(" ");i=3===r.length?r:[t,e,n]}return i}function yV(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function tv(n,t){if(void 0===t)return n;const e=i=>{const s=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(s)?`${s*t.value}${t.unit}`:n};return n.includes(" ")?n.split(" ").map(e).join(" "):e(n)}function Ze(n){return Vn((t,e)=>{Ss(n).subscribe(new An(e,()=>e.complete(),Qc)),!e.closed&&t.subscribe(e)})}let yle=(()=>{class n extends Kn{buildStyles(e,{display:i}){const s=sV(e);return Object.assign(Object.assign({},s),{display:"none"===i?i:s.display})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vle=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ble=(()=>{class n extends Gn{constructor(e,i,s,r,o){super(e,s,i,r),this._config=o,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(e){var i;const r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=null!==(i=bV.get(r))&&void 0!==i?i:new Map,bV.set(r,this.styleCache),this.currentValue!==e&&(this.addStyles(e,{display:r}),this.currentValue=e)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Rn),x(yle),x(Nn),x(qr))},n.\u0275dir=z({type:n,features:[Y]}),n})(),Wu=(()=>{class n extends ble{constructor(){super(...arguments),this.inputs=vle}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Y]}),n})();const bV=new Map,xV={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let xle=(()=>{class n extends Kn{constructor(e,i){super(),this._styler=e,this._config=i}buildStyles(e,i){return e.endsWith(nv)?function Tle(n,t){const[e,i]=n.split(" "),r=c=>`-${c}`;let o="0px",a=r(null!=i?i:e),l="0px";return"rtl"===t?l=r(e):o=r(e),{margin:`0px ${o} ${a} ${l}`}}(e=tv(e=e.slice(0,e.indexOf(nv)),this._config.multiplier),i.directionality):{}}sideEffect(e,i,s){const r=s.items;if(e.endsWith(nv)){const o=function Ale(n,t){const[e,i]=n.split(" ");let r="0px",a="0px";return"rtl"===t?a=e:r=e,{padding:`0px ${r} ${null!=i?i:e} ${a}`}}(e=tv(e=e.slice(0,e.indexOf(nv)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(o,s.items)}else{e=tv(e,this._config.multiplier),e=this.addFallbackUnit(e);const o=r.pop(),a=function Rle(n,t){const e=wV(t.directionality,t.layout),i=Object.assign({},xV);return i[e]=n,i}(e,s);this._styler.applyStyleToElements(a,r),this._styler.applyStyleToElements(xV,[o])}}addFallbackUnit(e){return isNaN(+e)?e:`${e}${this._config.defaultUnit}`}}return n.\u0275fac=function(e){return new(e||n)(j(Rn),j(qr))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wle=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let Mle=(()=>{class n extends Gn{constructor(e,i,s,r,o,a){super(e,o,r,a),this.zone=i,this.directionality=s,this.styleUtils=r,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new me;const l=[this.directionality.change,this.observerSubject.asObservable()];this.init(l),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ze(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const e=this.nativeElement.children,i=[];for(let s=e.length;s--;)i[s]=e[s];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(e){const s=e.value.split(" ");this.layout=s[0],ev.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(e){const i=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,r)=>{const o=+this.styler.lookupStyle(s,"order"),a=+this.styler.lookupStyle(r,"order");return isNaN(o)||isNaN(a)||o===a?0:o>a?1:-1});if(i.length>0){const s=this.directionality.value,r=this.layout;"row"===r&&"rtl"===s?this.styleCache=Cle:"row"===r&&"rtl"!==s?this.styleCache=Dle:"column"===r&&"rtl"===s?this.styleCache=Sle:"column"===r&&"rtl"!==s&&(this.styleCache=Ele),this.addStyles(e,{directionality:s,items:i,layout:r})}}clearStyles(){const e=Object.keys(this.mru).length>0,i=e?"padding":wV(this.directionality.value,this.layout);e&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(e){const i=this.marshal.getValue(e,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(e,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{"undefined"!=typeof MutationObserver&&(this.observer=new MutationObserver(e=>{e.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(e){return new(e||n)(x(de),x($e),x(Hi),x(Rn),x(xle),x(Nn))},n.\u0275dir=z({type:n,features:[Y]}),n})(),ES=(()=>{class n extends Mle{constructor(){super(...arguments),this.inputs=wle}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Y]}),n})();const Cle=new Map,Sle=new Map,Dle=new Map,Ele=new Map,nv=" grid";function wV(n,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let kle=(()=>{class n extends Kn{constructor(e){super(),this.layoutConfig=e}buildStyles(e,i){let[s,r,...o]=e.split(" "),a=o.join(" ");const l=i.direction.indexOf("column")>-1?"column":"row",c=wp(l)?"max-width":"max-height",d=wp(l)?"min-width":"min-height",u=String(a).indexOf("calc")>-1,h=u||"auto"===a,f=String(a).indexOf("%")>-1&&!u,p=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1;let m=u||p;s="0"==s?0:s,r="0"==r?0:r;const g=!s&&!r;let _={};const y={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":const v=!1!==this.layoutConfig.useColumnBasisZero;a="row"===l?"0%":v?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,a="auto";break;case"grow":a="100%";break;case"noshrink":r=0,a="auto";break;case"auto":break;case"none":s=0,r=0,a="auto";break;default:!m&&!f&&!isNaN(a)&&(a+="%"),"0%"===a&&(m=!0),"0px"===a&&(a="0%"),_=ha(y,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":m?a:"100%"}:{flex:`${s} ${r} ${m?a:"100%"}`})}return _.flex||_["flex-grow"]||(_=ha(y,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":a}:{flex:`${s} ${r} ${a}`})),"0%"!==a&&"0px"!==a&&"0.000000001px"!==a&&"auto"!==a&&(_[d]=g||m&&s?a:null,_[c]=g||!h&&r?a:null),_[d]||_[c]?i.hasWrap&&(_[u?"flex-basis":"flex"]=_[c]?u?_[c]:`${s} ${r} ${_[c]}`:u?_[d]:`${s} ${r} ${_[d]}`):_=ha(y,u?{"flex-grow":s,"flex-shrink":r,"flex-basis":a}:{flex:`${s} ${r} ${a}`}),ha(_,{"box-sizing":"border-box"})}}return n.\u0275fac=function(e){return new(e||n)(j(qr))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ile=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Ple=(()=>{class n extends Gn{constructor(e,i,s,r,o){super(e,r,i,o),this.layoutConfig=s,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(e){this.flexShrink=e||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(e){this.flexGrow=e||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Ze(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Ze(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(e){const s=e.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(e){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,r=s.startsWith("row"),o=this.wrap;r&&o?this.styleCache=Lle:r&&!o?this.styleCache=Ole:!r&&o?this.styleCache=Nle:!r&&!o&&(this.styleCache=Fle);const l=_V(String(e).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(l.join(" "),{direction:s,hasWrap:o})}triggerReflow(){const e=this.activatedValue;if(void 0!==e){const i=_V(e+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Rn),x(qr),x(kle),x(Nn))},n.\u0275dir=z({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Y]}),n})(),Cp=(()=>{class n extends Ple{constructor(){super(...arguments),this.inputs=Ile}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Y]}),n})();const Ole=new Map,Fle=new Map,Lle=new Map,Nle=new Map;let oce=(()=>{class n extends Kn{buildStyles(e,i){const s={},[r,o]=e.split(" ");switch(r){case"center":s["justify-content"]="center";break;case"space-around":s["justify-content"]="space-around";break;case"space-between":s["justify-content"]="space-between";break;case"space-evenly":s["justify-content"]="space-evenly";break;case"end":case"flex-end":s["justify-content"]="flex-end";break;default:s["justify-content"]="flex-start"}switch(o){case"start":case"flex-start":s["align-items"]=s["align-content"]="flex-start";break;case"center":s["align-items"]=s["align-content"]="center";break;case"end":case"flex-end":s["align-items"]=s["align-content"]="flex-end";break;case"space-between":s["align-content"]="space-between",s["align-items"]="stretch";break;case"space-around":s["align-content"]="space-around",s["align-items"]="stretch";break;case"baseline":s["align-content"]="stretch",s["align-items"]="baseline";break;default:s["align-items"]=s["align-content"]="stretch"}return ha(s,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===o?wp(i.layout)?null:"100%":null,"max-height":"stretch"===o&&wp(i.layout)?"100%":null})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ace=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let lce=(()=>{class n extends Gn{constructor(e,i,s,r){super(e,s,i,r),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ze(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(e){const i=this.layout||"row",s=this.inline;"row"===i&&s?this.styleCache=fce:"row"!==i||s?"row-reverse"===i&&s?this.styleCache=mce:"row-reverse"!==i||s?"column"===i&&s?this.styleCache=pce:"column"!==i||s?"column-reverse"===i&&s?this.styleCache=gce:"column-reverse"===i&&!s&&(this.styleCache=hce):this.styleCache=dce:this.styleCache=uce:this.styleCache=cce,this.addStyles(e,{layout:i,inline:s})}onLayoutChange(e){const i=e.value.split(" ");this.layout=i[0],this.inline=e.value.includes("inline"),ev.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Rn),x(oce),x(Nn))},n.\u0275dir=z({type:n,features:[Y]}),n})(),iv=(()=>{class n extends lce{constructor(){super(...arguments),this.inputs=ace}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Y]}),n})();const cce=new Map,dce=new Map,uce=new Map,hce=new Map,fce=new Map,pce=new Map,mce=new Map,gce=new Map;let MV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wS,wc]]}),n})();class CV{}const pa="*";function Qn(n,t){return{type:7,name:n,definitions:t,options:{}}}function Kt(n,t=null){return{type:4,styles:t,timings:n}}function DV(n,t=null){return{type:2,steps:n,options:t}}function Be(n){return{type:6,styles:n,offset:null}}function Rt(n,t,e){return{type:0,name:n,styles:t,options:e}}function Gt(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sv(n=null){return{type:9,options:n}}function rv(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function EV(n){Promise.resolve(null).then(n)}class $u{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){EV(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class AV{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0;const r=this.players.length;0==r?EV(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function TV(){return"undefined"!=typeof window&&void 0!==window.document}function TS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function fl(n){switch(n.length){case 0:return new $u;case 1:return n[0];default:return new AV(n)}}function RV(n,t,e,i,s={},r={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(d=>{const u=d.offset,h=u==l,f=h&&c||{};Object.keys(d).forEach(p=>{let m=p,g=d[p];if("offset"!==p)switch(m=t.normalizePropertyName(m,o),g){case"!":g=s[p];break;case pa:g=r[p];break;default:g=t.normalizeStyleValue(p,m,g,o)}f[m]=g}),h||a.push(f),c=f,l=u}),o.length){const d="\n - ";throw new Error(`Unable to animate due to the following errors:${d}${o.join(d)}`)}return a}function RS(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&kS(e,"start",n)));break;case"done":n.onDone(()=>i(e&&kS(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&kS(e,"destroy",n)))}}function kS(n,t,e){const i=e.totalTime,r=IS(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),o=n._data;return null!=o&&(r._data=o),r}function IS(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function Gs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function kV(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let PS=(n,t)=>!1,IV=(n,t,e)=>[];(TS()||"undefined"!=typeof Element)&&(PS=TV()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),IV=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Sc=null,PV=!1;function OS(n){Sc||(Sc=function vce(){return"undefined"!=typeof document?document.body:null}()||{},PV=!!Sc.style&&"WebkitAppearance"in Sc.style);let t=!0;return Sc.style&&!function yce(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Sc.style,!t&&PV&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Sc.style)),t}const FS=PS,LS=IV;function OV(n){const t={};return Object.keys(n).forEach(e=>{const i=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=n[e]}),t}let FV=(()=>{class n{validateStyleProperty(e){return OS(e)}matchesElement(e,i){return!1}containsElement(e,i){return FS(e,i)}query(e,i,s){return LS(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new $u(s,r)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})(),NS=(()=>{class n{}return n.NOOP=new FV,n})();const BS="ng-enter",ov="ng-leave",av="ng-trigger",lv=".ng-trigger",NV="ng-animating",VS=".ng-animating";function Dc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:HS(parseFloat(t[1]),t[2])}function HS(n,t){return"s"===t?1e3*n:n}function cv(n,t,e){return n.hasOwnProperty("duration")?n:function wce(n,t,e){let s,r=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=HS(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(r=HS(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),a=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),a=!0),a&&t.splice(l,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:r,easing:o}}(n,t,e)}function qu(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function pl(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else qu(n,e);return e}function VV(n,t,e){return e?t+":"+e+";":""}function HV(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=VV(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=VV(0,Sce(e),n.style[e]));n.setAttribute("style",t)}function xo(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const s=US(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[s]),n.style[s]=t[i]}),TS()&&HV(n))}function Ec(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=US(e);n.style[i]=""}),TS()&&HV(n))}function Sp(n){return Array.isArray(n)?1==n.length?n[0]:DV(n):n}const zS=new RegExp("{{\\s*(.+?)\\s*}}","g");function zV(n){let t=[];if("string"==typeof n){let e;for(;e=zS.exec(n);)t.push(e[1]);zS.lastIndex=0}return t}function dv(n,t,e){const i=n.toString(),s=i.replace(zS,(r,o)=>{let a=t[o];return t.hasOwnProperty(o)||(e.push(`Please provide a value for the animation param ${o}`),a=""),a.toString()});return s==i?n:s}function uv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Cce=/-+([a-z0-9])/g;function US(n){return n.replace(Cce,(...t)=>t[1].toUpperCase())}function Sce(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function UV(n,t){return 0===n||0===t}function GV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(a=>{r.hasOwnProperty(a)||o.push(a),r[a]=e[a]}),o.length)for(var s=1;s<t.length;s++){let a=t[s];o.forEach(function(l){a[l]=GS(n,l)})}}return t}function js(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function GS(n,t){return window.getComputedStyle(n)[t]}function Dce(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Ece(n,t,e){if(":"==n[0]){const l=function Ace(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(jV(s,o));"<"==r[0]&&!("*"==s&&"*"==o)&&t.push(jV(o,s))}(i,e,t)):e.push(n),e}const fv=new Set(["true","1"]),pv=new Set(["false","0"]);function jV(n,t){const e=fv.has(n)||pv.has(n),i=fv.has(t)||pv.has(t);return(s,r)=>{let o="*"==n||n==s,a="*"==t||t==r;return!o&&e&&"boolean"==typeof s&&(o=s?fv.has(n):pv.has(n)),!a&&i&&"boolean"==typeof r&&(a=r?fv.has(t):pv.has(t)),o&&a}}const Tce=new RegExp("s*:selfs*,?","g");function jS(n,t,e){return new Rce(n).build(t,e)}class Rce{constructor(t){this._driver=t}build(t,e){const i=new Pce(e);return this._resetContextStyleTimingState(i),js(this,Sp(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0;const r=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,r.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){const r=new Set,o=s||{};if(i.styles.forEach(a=>{if(mv(a)){const l=a;Object.keys(l).forEach(c=>{zV(l[c]).forEach(d=>{o.hasOwnProperty(d)||r.add(d)})})}}),r.size){const a=uv(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${a.join(", ")}`)}}return{type:0,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=js(this,Sp(t.animation),e);return{type:1,matchers:Dce(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ac(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>js(this,i,e)),options:Ac(t.options)}}visitGroup(t,e){const i=e.currentTime;let s=0;const r=t.steps.map(o=>{e.currentTime=i;const a=js(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:3,steps:r,options:Ac(t.options)}}visitAnimate(t,e){const i=function Fce(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return WS(cv(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(r=>"{"==r.charAt(0)&&"{"==r.charAt(1))){const r=WS(0,0,"");return r.dynamic=!0,r.strValue=i,r}return e=e||cv(i,t),WS(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Be({});if(5==r.type)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Be(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(o=>{"string"==typeof o?o==pa?i.push(o):e.errors.push(`The provided style string value ${o} is not allowed.`):i.push(o)}):i.push(t.styles);let s=!1,r=null;return i.forEach(o=>{if(mv(o)){const a=o,l=a.easing;if(l&&(r=l,delete a.easing),!s)for(let c in a)if(a[c].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:i,easing:r,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return void e.errors.push(`The provided animation property "${a}" is not a supported CSS property for animations`);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let d=!0;c&&(r!=s&&r>=c.startTime&&s<=c.endTime&&(e.errors.push(`The CSS property "${a}" that exists between the times of "${c.startTime}ms" and "${c.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),d=!1),r=c.startTime),d&&(l[a]={startTime:r,endTime:s}),e.options&&function Mce(n,t,e){const i=t.params||{},s=zV(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(`Unable to resolve the local animation param ${r} in the given list of values`)})}(o[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;let r=0;const o=[];let a=!1,l=!1,c=0;const d=t.steps.map(_=>{const y=this._makeStyleAst(_,e);let v=null!=y.offset?y.offset:function Oce(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(mv(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(mv(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(y.styles),b=0;return null!=v&&(r++,b=y.offset=v),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),y});l&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let h=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(u-1));const f=u-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return d.forEach((_,y)=>{const v=h>0?y==f?1:h*y:o[y],b=v*g;e.currentTime=p+m.delay+b,m.duration=b,this._validateStyleAst(_,e),_.offset=v,i.styles.push(_)}),i}visitReference(t,e){return{type:8,animation:js(this,Sp(t.animation),e),options:Ac(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ac(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ac(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[r,o]=function kce(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Tce,"")),n=n.replace(/@\*/g,lv).replace(/@\w+/g,e=>lv+"-"+e.substr(1)).replace(/:animating/g,VS),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,Gs(e.collectedStyles,e.currentQuerySelector,{});const a=js(this,Sp(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ac(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:cv(t.timings,e.errors,!0);return{type:12,animation:js(this,Sp(t.animation),e),timings:i,options:null}}}class Pce{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function mv(n){return!Array.isArray(n)&&"object"==typeof n}function Ac(n){return n?(n=qu(n)).params&&(n.params=function Ice(n){return n?qu(n):null}(n.params)):n={},n}function WS(n,t,e){return{duration:n,delay:t,easing:e}}function $S(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class gv{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Bce=new RegExp(":enter","g"),Hce=new RegExp(":leave","g");function qS(n,t,e,i,s,r={},o={},a,l,c=[]){return(new zce).buildKeyframes(n,t,e,i,s,r,o,a,l,c)}class zce{buildKeyframes(t,e,i,s,r,o,a,l,c,d=[]){c=c||new gv;const u=new YS(t,e,c,s,r,d,[]);u.options=l,u.currentTimeline.setStyles([o],null,u.errors,l),js(this,i,u);const h=u.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const m=h[p];if(m.element===e){f=m;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,u.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[$S(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime;const o=null!=i.duration?Dc(i.duration):null,a=null!=i.delay?Dc(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),js(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let s=e;const r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=_v);const o=Dc(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>js(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let s=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Dc(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);r&&a.delayNextStep(r),js(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return cv(e.params?dv(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.getCurrentStyleProperties().length&&i.forwardFrame();const r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Dc(s.delay):0;r&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_v);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,d)=>{e.currentQueryIndex=d;const u=e.createSubContext(t.options,c);r&&u.delayNextStep(r),c===e.element&&(l=u.currentTimeline),js(this,t.animation,u),u.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,u.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const d=e.currentTimeline;l&&d.delayNextStep(l);const u=d.currentTime;js(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-u+(s.startTime-i.currentTimeline.startTime)}}const _v={};class YS{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_v,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new yv(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let s=this.options;null!=i.duration&&(s.duration=Dc(i.duration)),null!=i.delay&&(s.delay=Dc(i.delay));const r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=dv(r[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){const s=e||this.element,r=new YS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=_v,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},r=new Uce(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=(t=t.replace(Bce,"."+this._enterClassName)).replace(Hce,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&0==a.length&&o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),a}}class yv{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new yv(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||pa,this._currentKeyframe[e]=pa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&(this._previousKeyframe.easing=e);const r=s&&s.params||{},o=function Gce(n,t){const e={};let i;return n.forEach(s=>{"*"===s?(i=i||Object.keys(t),i.forEach(r=>{e[r]=pa})):pl(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=dv(o[a],r,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:pa),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],s=t._styleSummary[e];(!i||s.time>i.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((a,l)=>{const c=pl(a,!0);Object.keys(c).forEach(d=>{const u=c[d];"!"==u?t.add(d):u==pa&&e.add(d)}),i||(c.offset=l/this.duration),s.push(c)});const r=t.size?uv(t.values()):[],o=e.size?uv(e.values()):[];if(i){const a=s[0],l=qu(a);a.offset=0,l.offset=1,s=[a,l]}return $S(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}}class Uce extends yv{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],o=i+e,a=e/o,l=pl(t[0],!1);l.offset=0,r.push(l);const c=pl(t[0],!1);c.offset=qV(a),r.push(c);const d=t.length-1;for(let u=1;u<=d;u++){let h=pl(t[u],!1);h.offset=qV((e+h.offset*i)/o),r.push(h)}i=o,e=0,s="",t=r}return $S(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}}function qV(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class XS{}class jce extends XS{normalizePropertyName(t,e){return US(t)}normalizeStyleValue(t,e,i,s){let r="";const o=i.toString().trim();if(Wce[e]&&0!==i&&"0"!==i)if("number"==typeof i)r="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&s.push(`Please provide a CSS unit value for ${t}:${i}`)}return o+r}}const Wce=(()=>function $ce(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function YV(n,t,e,i,s,r,o,a,l,c,d,u,h){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:u,errors:h}}const KS={};class XV{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return function qce(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){const s=this._stateStyles["*"],r=this._stateStyles[t],o=s?s.buildStyles(e,i):{};return r?r.buildStyles(e,i):o}build(t,e,i,s,r,o,a,l,c,d){const u=[],h=this.ast.options&&this.ast.options.params||KS,p=this.buildStyles(i,a&&a.params||KS,u),m=l&&l.params||KS,g=this.buildStyles(s,m,u),_=new Set,y=new Map,v=new Map,b="void"===s,w={params:Object.assign(Object.assign({},h),m)},C=d?[]:qS(t,e,this.ast.animation,r,o,p,g,w,c,u);let S=0;if(C.forEach(I=>{S=Math.max(I.duration+I.delay,S)}),u.length)return YV(e,this._triggerName,i,s,b,p,g,[],[],y,v,S,u);C.forEach(I=>{const L=I.element,M=Gs(y,L,{});I.preStyleProps.forEach(W=>M[W]=!0);const T=Gs(v,L,{});I.postStyleProps.forEach(W=>T[W]=!0),L!==e&&_.add(L)});const E=uv(_.values());return YV(e,this._triggerName,i,s,b,p,g,C,E,y,v,S)}}class Yce{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},s=qu(this.defaultParams);return Object.keys(t).forEach(r=>{const o=t[r];null!=o&&(s[r]=o)}),this.styles.styles.forEach(r=>{if("string"!=typeof r){const o=r;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=dv(l,s,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class Kce{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new Yce(s.style,s.options&&s.options.params||{},i)}),KV(this.states,"true","1"),KV(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new XV(t,s,this.states))}),this.fallbackTransition=function Qce(n,t,e){return new XV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function KV(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Zce=new gv;class Jce{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=jS(this._driver,e,i);if(i.length)throw new Error(`Unable to build the animation due to the following errors: ${i.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,i){const s=t.element,r=RV(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const s=[],r=this._animations[t];let o;const a=new Map;if(r?(o=qS(this._driver,e,r,BS,ov,{},{},i,Zce,s),o.forEach(d=>{const u=Gs(a,d.element,{});d.postStyleProps.forEach(h=>u[h]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),o=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);a.forEach((d,u)=>{Object.keys(d).forEach(h=>{d[h]=this._driver.computeStyle(u,h,pa)})});const c=fl(o.map(d=>{const u=a.get(d.element);return this._buildPlayer(d,{},u)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,i,s){const r=IS(e,"","","");return RS(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if("register"==i)return void this.register(t,s[0]);if("create"==i)return void this.create(t,e,s[0]||{});const r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const QV="ng-animate-queued",QS="ng-animate-disabled",sde=[],ZV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rde={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},cr="__ng_removed";class ZS{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function cde(n){return null!=n?n:null}(i?t.value:t),i){const r=qu(t);delete r.value,this.options=r}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(s=>{null==i[s]&&(i[s]=e[s])})}}}const Dp="void",JS=new ZS(Dp);class ode{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,dr(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${e}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function dde(n){return"start"==n||"done"==n}(i))throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${e}" is not supported!`);const r=Gs(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);const a=Gs(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(dr(t,av),dr(t,av+"-"+e),a[e]=JS),()=>{this._engine.afterFlush(()=>{const l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,i,s=!0){const r=this._getTrigger(e),o=new eD(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(dr(t,av),dr(t,av+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new ZS(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=JS),c.value!==Dp&&l.value===c.value){if(!function fde(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){const r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}(l.params,c.params)){const m=[],g=r.matchStyles(l.value,l.params,m),_=r.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ec(t,g),xo(t,_)})}return}const h=Gs(this._engine.playersByElement,t,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let f=r.matchTransition(l.value,c.value,t,c.params),p=!1;if(!f){if(!s)return;f=r.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(dr(t,QV),o.onStart(()=>{Yu(t,QV)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let _=g.indexOf(o);_>=0&&g.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,lv,!0);i.forEach(s=>{if(s[cr])return;const r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){const r=this._engine.statesByElement.get(t),o=new Map;if(r){const a=[];if(Object.keys(r).forEach(l=>{if(o.set(l,r[l].value),this._triggers[l]){const c=this.trigger(t,l,Dp,s);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&fl(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const s=new Set;e.forEach(r=>{const o=r.name;if(s.has(o))return;s.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||JS,d=new ZS(Dp),u=new eD(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:d,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){const r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{const r=t[cr];(!r||r===ZV)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){dr(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=IS(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,RS(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{const r=i.transition.ast.depCount,o=s.transition.ast.depCount;return 0==r||0==o?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class ade{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,r)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new ode(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList.length-1;if(i>=0){let s=!1;for(let r=i;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const s=Object.keys(i);for(let r=0;r<s.length;r++){const o=i[s[r]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&e.add(a)}}}return e}trigger(t,e,i,s){if(vv(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!vv(e))return;const r=e[cr];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),dr(t,QS)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yu(t,QS))}removeNode(t,e,i,s){if(vv(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),i){const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,i,s,r){this.collectedLeaveElements.push(e),e[cr]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,s,r){return vv(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,lv,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,VS,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return fl(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[cr];if(i&&i.setForRemoval){if(t[cr]=ZV,i.namespaceId){this.destroyInnerAnimations(t);const s=this._fetchNamespace(i.namespaceId);s&&s.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(QS))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)dr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?fl(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const i=new gv,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(O=>{d.add(O);const B=this.driver.query(O,".ng-animate-queued",!0);for(let F=0;F<B.length;F++)d.add(B[F])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=t3(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((O,B)=>{const F=BS+m++;p.set(B,F),O.forEach($=>dr($,F))});const g=[],_=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const B=this.collectedLeaveElements[O],F=B[cr];F&&F.setForRemoval&&(g.push(B),_.add(B),F.hasAnimation?this.driver.query(B,".ng-star-inserted",!0).forEach($=>_.add($)):y.add(B))}const v=new Map,b=t3(h,Array.from(_));b.forEach((O,B)=>{const F=ov+m++;v.set(B,F),O.forEach($=>dr($,F))}),t.push(()=>{f.forEach((O,B)=>{const F=p.get(B);O.forEach($=>Yu($,F))}),b.forEach((O,B)=>{const F=v.get(B);O.forEach($=>Yu($,F))}),g.forEach(O=>{this.processLeaveNode(O)})});const w=[],C=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(F=>{const $=F.player,Q=F.element;if(w.push($),this.collectedEnterElements.length){const ht=Q[cr];if(ht&&ht.setForMove){if(ht.previousTriggersValues&&ht.previousTriggersValues.has(F.triggerName)){const rt=ht.previousTriggersValues.get(F.triggerName),et=this.statesByElement.get(F.element);et&&et[F.triggerName]&&(et[F.triggerName].value=rt)}return void $.destroy()}}const le=!u||!this.driver.containsElement(u,Q),te=v.get(Q),Le=p.get(Q),Ne=this._buildInstruction(F,i,Le,te,le);if(Ne.errors&&Ne.errors.length)return void C.push(Ne);if(le)return $.onStart(()=>Ec(Q,Ne.fromStyles)),$.onDestroy(()=>xo(Q,Ne.toStyles)),void s.push($);if(F.isFallbackTransition)return $.onStart(()=>Ec(Q,Ne.fromStyles)),$.onDestroy(()=>xo(Q,Ne.toStyles)),void s.push($);const Ke=[];Ne.timelines.forEach(ht=>{ht.stretchStartingKeyframe=!0,this.disabledNodes.has(ht.element)||Ke.push(ht)}),Ne.timelines=Ke,i.append(Q,Ne.timelines),o.push({instruction:Ne,player:$,element:Q}),Ne.queriedElements.forEach(ht=>Gs(a,ht,[]).push($)),Ne.preStyleProps.forEach((ht,rt)=>{const et=Object.keys(ht);if(et.length){let pe=l.get(rt);pe||l.set(rt,pe=new Set),et.forEach(xt=>pe.add(xt))}}),Ne.postStyleProps.forEach((ht,rt)=>{const et=Object.keys(ht);let pe=c.get(rt);pe||c.set(rt,pe=new Set),et.forEach(xt=>pe.add(xt))})});if(C.length){const O=[];C.forEach(B=>{O.push(`@${B.triggerName} has failed due to:\n`),B.errors.forEach(F=>O.push(`- ${F}\n`))}),w.forEach(B=>B.destroy()),this.reportError(O)}const S=new Map,E=new Map;o.forEach(O=>{const B=O.element;i.has(B)&&(E.set(B,B),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,S))}),s.forEach(O=>{const B=O.element;this._getPreviousPlayers(B,!1,O.namespaceId,O.triggerName,null).forEach($=>{Gs(S,B,[]).push($),$.destroy()})});const I=g.filter(O=>s3(O,l,c)),L=new Map;e3(L,this.driver,y,c,pa).forEach(O=>{s3(O,l,c)&&I.push(O)});const T=new Map;f.forEach((O,B)=>{e3(T,this.driver,new Set(O),l,"!")}),I.forEach(O=>{const B=L.get(O),F=T.get(O);L.set(O,Object.assign(Object.assign({},B),F))});const W=[],V=[],H={};o.forEach(O=>{const{element:B,player:F,instruction:$}=O;if(i.has(B)){if(d.has(B))return F.onDestroy(()=>xo(B,$.toStyles)),F.disabled=!0,F.overrideTotalTime($.totalTime),void s.push(F);let Q=H;if(E.size>1){let te=B;const Le=[];for(;te=te.parentNode;){const Ne=E.get(te);if(Ne){Q=Ne;break}Le.push(te)}Le.forEach(Ne=>E.set(Ne,Q))}const le=this._buildAnimation(F.namespaceId,$,S,r,T,L);if(F.setRealPlayer(le),Q===H)W.push(F);else{const te=this.playersByElement.get(Q);te&&te.length&&(F.parentPlayer=fl(te)),s.push(F)}}else Ec(B,$.fromStyles),F.onDestroy(()=>xo(B,$.toStyles)),V.push(F),d.has(B)&&s.push(F)}),V.forEach(O=>{const B=r.get(O.element);if(B&&B.length){const F=fl(B);O.setRealPlayer(F)}}),s.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<g.length;O++){const B=g[O],F=B[cr];if(Yu(B,ov),F&&F.hasAnimation)continue;let $=[];if(a.size){let le=a.get(B);le&&le.length&&$.push(...le);let te=this.driver.query(B,VS,!0);for(let Le=0;Le<te.length;Le++){let Ne=a.get(te[Le]);Ne&&Ne.length&&$.push(...Ne)}}const Q=$.filter(le=>!le.destroyed);Q.length?ude(this,B,Q):this.processLeaveNode(B)}return g.length=0,W.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const B=this.players.indexOf(O);this.players.splice(B,1)}),O.play()}),W}elementContainsData(t,e){let i=!1;const s=e[cr];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!r||r==Dp;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,d=c!==r,u=Gs(i,c,[]);this._getPreviousPlayers(c,d,o,a,e.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),u.push(f)})}Ec(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){const a=e.triggerName,l=e.element,c=[],d=new Set,u=new Set,h=e.timelines.map(p=>{const m=p.element;d.add(m);const g=m[cr];if(g&&g.removedBeforeQueried)return new $u(p.duration,p.delay);const _=m!==l,y=function hde(n){const t=[];return n3(n,t),t}((i.get(m)||sde).map(S=>S.getRealPlayer())).filter(S=>!!S.element&&S.element===m),v=r.get(m),b=o.get(m),w=RV(0,this._normalizer,0,p.keyframes,v,b),C=this._buildPlayer(p,w,y);if(p.subTimeline&&s&&u.add(m),_){const S=new eD(t,a,m);S.setRealPlayer(C),c.push(S)}return C});c.forEach(p=>{Gs(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function lde(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const s=i.indexOf(e);i.splice(s,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,p.element,p))}),d.forEach(p=>dr(p,NV));const f=fl(h);return f.onDestroy(()=>{d.forEach(p=>Yu(p,NV)),xo(l,e.toStyles)}),u.forEach(p=>{Gs(s,p,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new $u(t.duration,t.delay)}}class eD{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new $u,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>RS(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Gs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function vv(n){return n&&1===n.nodeType}function JV(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function e3(n,t,e,i,s){const r=[];e.forEach(l=>r.push(JV(l)));const o=[];i.forEach((l,c)=>{const d={};l.forEach(u=>{const h=d[u]=t.computeStyle(c,u,s);(!h||0==h.length)&&(c[cr]=rde,o.push(c))}),n.set(c,d)});let a=0;return e.forEach(l=>JV(l,r[a++])),o}function t3(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const s=new Set(t),r=new Map;function o(a){if(!a)return 1;let l=r.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:s.has(c)?1:o(c),r.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function dr(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Yu(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function ude(n,t,e){fl(e).onDone(()=>n.processLeaveNode(t))}function n3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof AV?n3(i.players,t):t.push(i)}}function s3(n,t,e){const i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}class bv{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,r)=>{},this._transitionEngine=new ade(t,e,i),this._timelineEngine=new Jce(t,e,i),this._transitionEngine.onRemovalComplete=(s,r)=>this.onRemovalComplete(s,r)}registerTrigger(t,e,i,s,r){const o=t+"-"+s;let a=this._triggerCache[o];if(!a){const l=[],c=jS(this._driver,r,l);if(l.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${l.join("\n - ")}`);a=function Xce(n,t,e){return new Kce(n,t,e)}(s,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i,s){this._transitionEngine.removeNode(t,e,s||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if("@"==i.charAt(0)){const[r,o]=kV(i);this._timelineEngine.command(r,e,o,s)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if("@"==i.charAt(0)){const[o,a]=kV(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function r3(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=tD(t[0]),t.length>1&&(i=tD(t[t.length-1]))):t&&(e=tD(t)),e||i?new pde(n,e,i):null}let pde=(()=>{class n{constructor(e,i,s){this._element=e,this._startStyles=i,this._endStyles=s,this._state=0;let r=n.initialStylesByElement.get(e);r||n.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&xo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xo(this._element,this._initialStyles),this._endStyles&&(xo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ec(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ec(this._element,this._endStyles),this._endStyles=null),xo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function tD(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=e[i];mde(s)&&(t=t||{},t[s]=n[s])}return t}function mde(n){return"display"===n||"position"===n}const o3="animation",a3="animationend";class yde{constructor(t,e,i,s,r,o,a){this._element=t,this._name=e,this._duration=i,this._delay=s,this._easing=r,this._fillMode=o,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=l=>this._handleCallback(l)}apply(){(function vde(n,t){const e=iD(n,"").trim();let i=0;e.length&&(i=function xde(n,t){let e=0;for(let i=0;i<n.length;i++)n.charAt(i)===t&&e++;return e}(e,",")+1,t=`${e}, ${t}`),xv(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),d3(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){l3(this._element,this._name,"paused")}resume(){l3(this._element,this._name,"running")}setPosition(t){const e=c3(this._element,this._name);this._position=t*this._duration,xv(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),d3(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function bde(n,t){const i=iD(n,"").split(","),s=nD(i,t);s>=0&&(i.splice(s,1),xv(n,"",i.join(",")))}(this._element,this._name))}}function l3(n,t,e){xv(n,"PlayState",e,c3(n,t))}function c3(n,t){const e=iD(n,"");return e.indexOf(",")>0?nD(e.split(","),t):nD([e],t)}function nD(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function d3(n,t,e){e?n.removeEventListener(a3,t):n.addEventListener(a3,t)}function xv(n,t,e,i){const s=o3+t;if(null!=i){const r=n.style[s];if(r.length){const o=r.split(",");o[i]=e,e=o.join(",")}}n.style[s]=e}function iD(n,t){return n.style[o3+t]||""}class u3{constructor(t,e,i,s,r,o,a,l){this.element=t,this.keyframes=e,this.animationName=i,this._duration=s,this._delay=r,this._finalStyles=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=s+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new yde(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(t[i]=e?this._finalStyles[i]:GS(this.element,i))})}this.currentSnapshot=t}}class Cde extends $u{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=OV(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class f3{constructor(){this._count=0}validateStyleProperty(t){return OS(t)}matchesElement(t,e){return!1}containsElement(t,e){return FS(t,e)}query(t,e,i){return LS(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,i){i=i.map(a=>OV(a));let s=`@keyframes ${e} {\n`,r="";i.forEach(a=>{r=" ";const l=parseFloat(a.offset);s+=`${r}${100*l}% {\n`,r+=" ",Object.keys(a).forEach(c=>{const d=a[c];switch(c){case"offset":return;case"easing":return void(d&&(s+=`${r}animation-timing-function: ${d};\n`));default:return void(s+=`${r}${c}: ${d};\n`)}}),s+=`${r}}\n`}),s+="}\n";const o=document.createElement("style");return o.textContent=s,o}animate(t,e,i,s,r,o=[],a){const l=o.filter(g=>g instanceof u3),c={};UV(i,s)&&l.forEach(g=>{let _=g.currentSnapshot;Object.keys(_).forEach(y=>c[y]=_[y])});const d=function Ede(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(i=>{Object.keys(i).forEach(s=>{"offset"==s||"easing"==s||(t[s]=i[s])})}),t}(e=GV(t,e,c));if(0==i)return new Cde(t,d);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);(function Dde(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(h);const p=r3(t,e),m=new u3(t,e,u,i,s,r,d,p);return m.onDestroy(()=>function Ade(n){n.parentNode.removeChild(n)}(h)),m}}class m3{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:GS(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Tde{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(g3().toString()),this._cssKeyframesDriver=new f3}validateStyleProperty(t){return OS(t)}matchesElement(t,e){return!1}containsElement(t,e){return FS(t,e)}query(t,e,i){return LS(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,i,s,r,o=[],a){if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,i,s,r,o);const d={duration:i,delay:s,fill:0==s?"both":"forwards"};r&&(d.easing=r);const u={},h=o.filter(p=>p instanceof m3);UV(i,s)&&h.forEach(p=>{let m=p.currentSnapshot;Object.keys(m).forEach(g=>u[g]=m[g])});const f=r3(t,e=GV(t,e=e.map(p=>pl(p,!1)),u));return new m3(t,e,d,f)}}function g3(){return TV()&&Element.prototype.animate||{}}let kde=(()=>{class n extends CV{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Mr.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?DV(e):e;return _3(this._renderer,null,i,"register",[s]),new Ide(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(j(nf),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class Ide extends class _ce{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Pde(this._id,t,e||{},this._renderer)}}class Pde{constructor(t,e,i,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return _3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function _3(n,t,e,i,s){return n.setProperty(t,`@@${e}:${i}`,s)}const y3="@.disabled";let Ode=(()=>{class n{constructor(e,i,s){this.delegate=e,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(r,o)=>{const a=null==o?void 0:o.parentNode(r);a&&o.removeChild(a,r)}}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let d=this._rendererCache.get(r);return d||(d=new v3("",r,this.engine),this._rendererCache.set(r,d)),d}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=d=>{Array.isArray(d)?d.forEach(l):this.engine.registerTrigger(o,a,e,d.name,d)};return i.data.animation.forEach(l),new Fde(this,a,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,s){e>=0&&e<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(r=>{const[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(j(nf),j(bv),j($e))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();class v3{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==y3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Fde extends v3{constructor(t,e,i,s){super(e,i,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==y3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const s=function Lde(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let r=e.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function Nde(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let Bde=(()=>{class n extends bv{constructor(e,i,s){super(e.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j(NS),j(XS))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const Zn=new K("AnimationModuleType"),b3=[{provide:CV,useClass:kde},{provide:XS,useFactory:function Hde(){return new jce}},{provide:bv,useClass:Bde},{provide:nf,useFactory:function zde(n,t,e){return new Ode(n,t,e)},deps:[Yg,bv,$e]}],x3=[{provide:NS,useFactory:function Vde(){return function Rde(){return"function"==typeof g3()}()?new Tde:new f3}},{provide:Zn,useValue:"BrowserAnimations"},...b3],Ude=[{provide:NS,useClass:FV},{provide:Zn,useValue:"NoopAnimations"},...b3];let sD,Gde=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Ude:x3}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:x3,imports:[uO]}),n})();try{sD="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){sD=!1}let Xu,ri=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Bl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!sD)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(j(Ls))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const M3=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function C3(){if(Xu)return Xu;if("object"!=typeof document||!document)return Xu=new Set(M3),Xu;let n=document.createElement("input");return Xu=new Set(M3.filter(t=>(n.setAttribute("type",t),n.type===t))),Xu}let Ep,Mv,Tc,rD;function Yr(n){return function jde(){if(null==Ep&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ep=!0}))}finally{Ep=Ep||!1}return Ep}()?n:!!n.capture}function S3(){if(null==Tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tc=!1,Tc;if("scrollBehavior"in document.documentElement.style)Tc=!0;else{const n=Element.prototype.scrollTo;Tc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Tc}function Ap(){if("object"!=typeof document||!document)return 0;if(null==Mv){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Mv=0,0===n.scrollLeft&&(n.scrollLeft=1,Mv=0===n.scrollLeft?1:2),n.remove()}return Mv}function Cv(n){if(function Wde(){if(null==rD){const n="undefined"!=typeof document?document.head:null;rD=!(!n||!n.createShadowRoot&&!n.attachShadow)}return rD}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ur(n){return n.composedPath?n.composedPath()[0]:n.target}function oD(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function ns(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class iue extends Pt{constructor(t,e){super()}schedule(t,e=0){return this}}const Dv={setInterval(...n){const{delegate:t}=Dv;return((null==t?void 0:t.setInterval)||setInterval)(...n)},clearInterval(n){const{delegate:t}=Dv;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class hD extends iue{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return Dv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Dv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=r||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Kc(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const A3={now:()=>(A3.delegate||Date).now(),delegate:void 0};class Tp{constructor(t,e=Tp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Tp.now=A3.now;class fD extends Tp{constructor(t,e=Tp.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Ev=new fD(hD),T3=Ev;function pD(n,t=Ev){return Vn((e,i)=>{let s=null,r=null,o=null;const a=()=>{if(s){s.unsubscribe(),s=null;const c=r;r=null,i.next(c)}};function l(){const c=o+n,d=t.now();if(d<c)return s=this.schedule(void 0,c-d),void i.add(s);a()}e.subscribe(new An(i,c=>{r=c,o=t.now(),s||(s=t.schedule(l,n),i.add(s))},()=>{a(),i.complete()},void 0,()=>{r=s=null}))})}function Ku(n,t=Aa){return n=null!=n?n:rue,Vn((e,i)=>{let s,r=!0;e.subscribe(new An(i,o=>{const a=t(o);(r||!n(s,a))&&(r=!1,s=a,i.next(o))}))})}function rue(n,t){return n===t}function Me(n){return null!=n&&"false"!=`${n}`}function zi(n,t=0){return function oue(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function R3(n){return Array.isArray(n)?n:[n]}function yi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function oi(n){return n instanceof de?n.nativeElement:n}let k3=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aue=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=oi(e);return new Zt(s=>{const o=this._observeElement(i).subscribe(s);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new me,s=this._mutationObserverFactory.create(r=>i.next(r));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:s}=this._observedElements.get(e);i&&i.disconnect(),s.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(j(k3))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Av=(()=>{class n{constructor(e,i,s){this._contentObserver=e,this._elementRef=i,this._ngZone=s,this.event=new we,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Me(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=zi(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(pD(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(aue),x(de),x($e))},n.\u0275dir=z({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Rp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[k3]}),n})();class O3{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new me,this._typeaheadSubscription=Pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new me,this.change=new me,t instanceof Ba&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Di(e=>this._pressedLetters.push(e)),pD(t),mn(()=>this._pressedLetters.length>0),Ct(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let s=1;s<i.length+1;s++){const r=(this._activeItemIndex+s)%i.length,o=i[r];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!t[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||ns(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),s=e[i];this._activeItem=null==s?null:s,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const s=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Ba?this._items.toArray():this._items}}class due extends O3{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Tv extends O3{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let F3=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function hue(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function uue(n){try{return n.frameElement}catch(t){return null}}(function bue(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===N3(i)||!this.isVisible(i)))return!1;let s=e.nodeName.toLowerCase(),r=N3(e);return e.hasAttribute("contenteditable")?-1!==r:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function yue(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==r:"video"===s?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function vue(n){return!function pue(n){return function gue(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fue(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function mue(n){return function _ue(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||L3(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(j(ri))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function N3(n){if(!L3(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class xue{constructor(t,e,i,s,r=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const s=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Pn(1)).subscribe(t)}}let wue=(()=>{class n{constructor(e,i,s){this._checker=e,this._ngZone=i,this._document=s}create(e,i=!1){return new xue(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(j(F3),j($e),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mD(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function gD(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Mue=new K("cdk-input-modality-detector-options"),Cue={ignoreKeys:[18,17,224,91,16]},Qu=Yr({passive:!0,capture:!0});let Sue=(()=>{class n{constructor(e,i,s,r){this._platform=e,this._mostRecentTarget=null,this._modality=new Qi(null),this._lastTouchMs=0,this._onKeydown=o=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===o.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=ur(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(mD(o)?"keyboard":"mouse"),this._mostRecentTarget=ur(o))},this._onTouchstart=o=>{gD(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ur(o))},this._options=Object.assign(Object.assign({},Cue),r),this.modalityDetected=this._modality.pipe(function sue(n){return mn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Ku()),e.isBrowser&&i.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Qu),s.addEventListener("mousedown",this._onMousedown,Qu),s.addEventListener("touchstart",this._onTouchstart,Qu)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Qu),document.removeEventListener("mousedown",this._onMousedown,Qu),document.removeEventListener("touchstart",this._onTouchstart,Qu))}}return n.\u0275fac=function(e){return new(e||n)(j(ri),j($e),j(Je),j(Mue,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Due=new K("liveAnnouncerElement",{providedIn:"root",factory:function Eue(){return null}}),Aue=new K("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Tue=(()=>{class n{constructor(e,i,s,r){this._ngZone=i,this._defaultOptions=r,this._document=s,this._liveElement=e||this._createLiveElement()}announce(e,...i){const s=this._defaultOptions;let r,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[r,o]=i,this.clear(),clearTimeout(this._previousTimeout),r||(r=s&&s.politeness?s.politeness:"polite"),null==o&&s&&(o=s.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),s=this._document.createElement("div");for(let r=0;r<i.length;r++)i[r].remove();return s.classList.add(e),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(e){return new(e||n)(j(Due,8),j($e),j(Je),j(Aue,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rue=new K("cdk-focus-monitor-default-options"),Rv=Yr({passive:!0,capture:!0});let wo=(()=>{class n{constructor(e,i,s,r,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new me,this._rootNodeFocusAndBlurListener=a=>{const l=ur(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let d=l;d;d=d.parentElement)c.call(this,a,d)},this._document=r,this._detectionMode=(null==o?void 0:o.detectionMode)||0}monitor(e,i=!1){const s=oi(e);if(!this._platform.isBrowser||1!==s.nodeType)return Xe(null);const r=Cv(s)||this._getDocument(),o=this._elementInfo.get(s);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new me,rootNode:r};return this._elementInfo.set(s,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=oi(e),s=this._elementInfo.get(i);s&&(s.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(s))}focusVia(e,i,s){const r=oi(e);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof r.focus&&r.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const s=this._elementInfo.get(i),r=ur(e);!s||!s.checkChildren&&i!==r||this._originChanged(i,this._getFocusOrigin(r),s)}_onBlur(e,i){const s=this._elementInfo.get(i);!s||s.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(s.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,s=this._rootNodeFocusListenerCount.get(i)||0;s||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Rv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Rv)}),this._rootNodeFocusListenerCount.set(i,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ze(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const s=this._rootNodeFocusListenerCount.get(i);s>1?this._rootNodeFocusListenerCount.set(i,s-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Rv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Rv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,s){this._setClasses(e,i),this._emitOrigin(s.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((s,r)=>{(r===e||s.checkChildren&&r.contains(e))&&i.push([r,s])}),i}}return n.\u0275fac=function(e){return new(e||n)(j($e),j(ri),j(Sue),j(Je,8),j(Rue,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kue=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new we}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(wo))},n.\u0275dir=z({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const V3="cdk-high-contrast-black-on-white",H3="cdk-high-contrast-white-on-black",_D="cdk-high-contrast-active";let z3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(_D),e.remove(V3),e.remove(H3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(_D),e.add(V3)):2===i&&(e.add(_D),e.add(H3))}}}return n.\u0275fac=function(e){return new(e||n)(j(ri),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kv=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(j(z3))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[Rp]]}),n})();function Iue(n,t){if(1&n&&Ge(0,"mat-pseudo-checkbox",4),2&n){const e=Nt();ce("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function Pue(n,t){if(1&n&&(U(0,"span",5),bt(1),G()),2&n){const e=Nt();he(1),zo("(",e.group.label,")")}}const Oue=["*"],Lue=new K("mat-sanity-checks",{providedIn:"root",factory:function Fue(){return!0}});let He=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!oD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(j(z3),j(Lue,8),j(Je))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wc],wc]}),n})();function ma(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Me(t)}}}function ga(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function hr(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Me(t)}}}function gl(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?zi(e):this.defaultTabIndex}}}function bD(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new me,this.errorState=!1}updateErrorState(){const t=this.errorState,r=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);r!==t&&(this.errorState=r,this.stateChanges.next())}}}const Nue=new K("MAT_DATE_LOCALE",{providedIn:"root",factory:function Bue(){return pd(jo)}});class Mo{constructor(){this._localeChanges=new me,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),s=this.isValid(e);return i&&s?!this.compareDate(t,e):i==s}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const xD=new K("mat-date-formats"),Vue=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function wD(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let Hue=(()=>{class n extends Mo{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return wD(12,s=>this._format(i,new Date(2017,s,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return wD(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return wD(7,s=>this._format(i,new Date(2017,0,s+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,s){let r=this._createDateWithOverflow(e,i,s);return r.getMonth(),r}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const s=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},i),{timeZone:"utc"}));return this._format(s,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let s=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(s)!=((this.getMonth(e)+i)%12+12)%12&&(s=this._createDateWithOverflow(this.getYear(s),this.getMonth(s),0)),s}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Vue.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,s){const r=new Date;return r.setFullYear(e,i,s),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const s=new Date;return s.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),s.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(s)}}return n.\u0275fac=function(e){return new(e||n)(j(Nue,8),j(ri))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const zue={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Uue=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[{provide:Mo,useClass:Hue}]}),n})(),G3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[{provide:xD,useValue:zue}],imports:[[Uue]]}),n})(),Zu=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function kp(n,t,e){n.nativeElement.classList.toggle(t,e)}let Iv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})();class Gue{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const W3={enterDuration:225,exitDuration:150},CD=Yr({passive:!0}),$3=["mousedown","touchstart"],q3=["mouseup","mouseleave","touchend","touchcancel"];class Y3{constructor(t,e,i,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=oi(i))}fadeInRipple(t,e,i={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},W3),i.animation);i.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const o=i.radius||function $ue(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+s*s)}(t,e,s),a=t-s.left,l=e-s.top,c=r.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=a-o+"px",d.style.top=l-o+"px",d.style.height=2*o+"px",d.style.width=2*o+"px",null!=i.color&&(d.style.backgroundColor=i.color),d.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(d),function Wue(n){window.getComputedStyle(n).getPropertyValue("opacity")}(d),d.style.transform="scale(1)";const u=new Gue(this,d,i);return u.state=0,this._activeRipples.add(u),i.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const h=u===this._mostRecentTransientRipple;u.state=1,!i.persistent&&(!h||!this._isPointerDown)&&u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,s=Object.assign(Object.assign({},W3),t.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=oi(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($3))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(q3),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=mD(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!gD(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,CD)})})}_removeTriggerEvents(){this._triggerElement&&($3.forEach(t=>{this._triggerElement.removeEventListener(t,this,CD)}),this._pointerUpEventsRegistered&&q3.forEach(t=>{this._triggerElement.removeEventListener(t,this,CD)}))}}const X3=new K("mat-ripple-global-options");let fr=(()=>{class n{constructor(e,i,s,r,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Y3(this,i,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(x(de),x($e),x(ri),x(X3,8),x(Zn,8))},n.\u0275dir=z({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&ot("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),pr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})(),K3=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&ot("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),SD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He]]}),n})();const Q3=new K("MAT_OPTION_PARENT_COMPONENT"),Z3=new K("MatOptgroup");let que=0;class J3{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Yue=(()=>{class n{constructor(e,i,s,r){this._element=e,this._changeDetectorRef=i,this._parent=s,this.group=r,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+que++,this.onSelectionChange=new we,this._stateChanges=new me}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Me(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!ns(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new J3(this,e))}}return n.\u0275fac=function(e){Ld()},n.\u0275dir=z({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),eH=(()=>{class n extends Yue{constructor(e,i,s,r){super(e,i,s,r)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(Q3,8),x(Z3,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&ze("click",function(){return i._selectViaInteraction()})("keydown",function(r){return i._handleKeydown(r)}),2&e&&(co("id",i.id),st("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),ot("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[Y],ngContentSelectors:Oue,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(xn(),ct(0,Iue,1,2,"mat-pseudo-checkbox",0),U(1,"span",1),dt(2),G(),ct(3,Pue,2,1,"span",2),Ge(4,"div",3)),2&e&&(ce("ngIf",i.multiple),he(3),ce("ngIf",i.group&&i.group._inert),he(1),ce("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[K3,Fr,fr],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function DD(n,t,e){if(e.length){let i=t.toArray(),s=e.toArray(),r=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===s[r]&&r++;return r}return 0}let Pv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[pr,fi,He,SD]]}),n})();const Xue=["*",[["mat-card-footer"]]],Kue=["*","mat-card-footer"],Que=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Zue=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let nH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),ED=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),iH=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&ot("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Kue,decls:2,vars:0,template:function(e,i){1&e&&(xn(Xue),dt(0),dt(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),sH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Zue,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(xn(Que),dt(0),U(1,"div",0),dt(2,1),G(),dt(3,2))},encapsulation:2,changeDetection:0}),n})(),rH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})();const Jue=["addListener","removeListener"],ehe=["addEventListener","removeEventListener"],the=["on","off"];function mr(n,t,e,i){if(gt(e)&&(i=e,e=void 0),i)return mr(n,t,e).pipe(Kw(i));const[s,r]=function she(n){return gt(n.addEventListener)&&gt(n.removeEventListener)}(n)?ehe.map(o=>a=>n[o](t,a,e)):function nhe(n){return gt(n.addListener)&&gt(n.removeListener)}(n)?Jue.map(oH(n,t)):function ihe(n){return gt(n.on)&&gt(n.off)}(n)?the.map(oH(n,t)):[];if(!s&&nx(n))return li(o=>mr(o,t,e))(Ss(n));if(!s)throw new TypeError("Invalid event target");return new Zt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return s(a),()=>r(a)})}function oH(n,t){return e=>i=>n[e](t,i)}const rhe=["connectionContainer"],ohe=["inputContainer"],ahe=["label"];function lhe(n,t){1&n&&(Nd(0),U(1,"div",14),Ge(2,"div",15),Ge(3,"div",16),Ge(4,"div",17),G(),U(5,"div",18),Ge(6,"div",15),Ge(7,"div",16),Ge(8,"div",17),G(),Bd())}function che(n,t){if(1&n){const e=Ho();U(0,"div",19),ze("cdkObserveContent",function(){return Ks(e),Nt().updateOutlineGap()}),dt(1,1),G()}2&n&&ce("cdkObserveContentDisabled","outline"!=Nt().appearance)}function dhe(n,t){if(1&n&&(Nd(0),dt(1,2),U(2,"span"),bt(3),G(),Bd()),2&n){const e=Nt(2);he(3),er(e._control.placeholder)}}function uhe(n,t){1&n&&dt(0,3,["*ngSwitchCase","true"])}function hhe(n,t){1&n&&(U(0,"span",23),bt(1," *"),G())}function fhe(n,t){if(1&n){const e=Ho();U(0,"label",20,21),ze("cdkObserveContent",function(){return Ks(e),Nt().updateOutlineGap()}),ct(2,dhe,4,1,"ng-container",12),ct(3,uhe,1,0,"ng-content",12),ct(4,hhe,2,0,"span",22),G()}if(2&n){const e=Nt();ot("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),ce("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),st("for",e._control.id)("aria-owns",e._control.id),he(2),ce("ngSwitchCase",!1),he(1),ce("ngSwitchCase",!0),he(1),ce("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function phe(n,t){1&n&&(U(0,"div",24),dt(1,4),G())}function mhe(n,t){if(1&n&&(U(0,"div",25),Ge(1,"span",26),G()),2&n){const e=Nt();he(1),ot("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function ghe(n,t){1&n&&(U(0,"div"),dt(1,5),G()),2&n&&ce("@transitionMessages",Nt()._subscriptAnimationState)}function _he(n,t){if(1&n&&(U(0,"div",30),bt(1),G()),2&n){const e=Nt(2);ce("id",e._hintLabelId),he(1),er(e.hintLabel)}}function yhe(n,t){if(1&n&&(U(0,"div",27),ct(1,_he,2,2,"div",28),dt(2,6),Ge(3,"div",29),dt(4,7),G()),2&n){const e=Nt();ce("@transitionMessages",e._subscriptAnimationState),he(1),ce("ngIf",e.hintLabel)}}const vhe=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],bhe=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],xhe=new K("MatError"),whe={transitionMessages:Qn("transitionMessages",[Rt("enter",Be({opacity:1,transform:"translateY(0%)"})),Gt("void => enter",[Be({opacity:0,transform:"translateY(-5px)"}),Kt("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n}),n})();const Mhe=new K("MatHint");let AD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["mat-label"]]}),n})(),Che=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["mat-placeholder"]]}),n})();const She=new K("MatPrefix"),Dhe=new K("MatSuffix");let aH=0;const Ahe=ga(class{constructor(n){this._elementRef=n}},"primary"),The=new K("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Pp=new K("MatFormField");let Rhe=(()=>{class n extends Ahe{constructor(e,i,s,r,o,a,l){super(e),this._changeDetectorRef=i,this._dir=s,this._defaults=r,this._platform=o,this._ngZone=a,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new me,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aH++,this._labelId="mat-form-field-label-"+aH++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==l,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Me(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Zi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ze(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ze(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),jn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Zi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Zi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ze(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,mr(this._label.nativeElement,"transitionend").pipe(Pn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(r=>"start"===r.align):null,s=this._hintChildren?this._hintChildren.find(r=>"end"===r.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,s=".mat-form-field-outline-start",r=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const d=i.querySelectorAll(`${s}, ${r}`);for(let u=0;u<d.length;u++)d[u].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,a=0;const l=i.querySelectorAll(s),c=i.querySelectorAll(r);if(this._label&&this._label.nativeElement.children.length){const d=i.getBoundingClientRect();if(0===d.width&&0===d.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const u=this._getStartEnd(d),h=e.children,f=this._getStartEnd(h[0].getBoundingClientRect());let p=0;for(let m=0;m<h.length;m++)p+=h[m].offsetWidth;o=Math.abs(f-u)-5,a=p>0?.75*p+10:0}for(let d=0;d<l.length;d++)l[d].style.width=`${o}px`;for(let d=0;d<c.length;d++)c[d].style.width=`${a}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(Hi,8),x(The,8),x(ri),x($e),x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,s){if(1&e&&(mt(s,Ip,5),mt(s,Ip,7),mt(s,AD,5),mt(s,AD,7),mt(s,Che,5),mt(s,xhe,5),mt(s,Mhe,5),mt(s,She,5),mt(s,Dhe,5)),2&e){let r;ge(r=_e())&&(i._controlNonStatic=r.first),ge(r=_e())&&(i._controlStatic=r.first),ge(r=_e())&&(i._labelChildNonStatic=r.first),ge(r=_e())&&(i._labelChildStatic=r.first),ge(r=_e())&&(i._placeholderChild=r.first),ge(r=_e())&&(i._errorChildren=r),ge(r=_e())&&(i._hintChildren=r),ge(r=_e())&&(i._prefixChildren=r),ge(r=_e())&&(i._suffixChildren=r)}},viewQuery:function(e,i){if(1&e&&(St(rhe,7),St(ohe,5),St(ahe,5)),2&e){let s;ge(s=_e())&&(i._connectionContainerRef=s.first),ge(s=_e())&&(i._inputContainerRef=s.first),ge(s=_e())&&(i._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&ot("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[Re([{provide:Pp,useExisting:n}]),Y],ngContentSelectors:bhe,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(xn(vhe),U(0,"div",0),U(1,"div",1,2),ze("click",function(r){return i._control.onContainerClick&&i._control.onContainerClick(r)}),ct(3,lhe,9,0,"ng-container",3),ct(4,che,2,1,"div",4),U(5,"div",5,6),dt(7),U(8,"span",7),ct(9,fhe,5,16,"label",8),G(),G(),ct(10,phe,2,0,"div",9),G(),ct(11,mhe,2,4,"div",10),U(12,"div",11),ct(13,ghe,2,1,"div",12),ct(14,yhe,5,2,"div",13),G(),G()),2&e&&(he(3),ce("ngIf","outline"==i.appearance),he(1),ce("ngIf",i._prefixChildren.length),he(5),ce("ngIf",i._hasFloatingLabel()),he(1),ce("ngIf",i._suffixChildren.length),he(1),ce("ngIf","outline"!=i.appearance),he(1),ce("ngSwitch",i._getDisplayedMessages()),he(1),ce("ngSwitchCase","error"),he(1),ce("ngSwitchCase","hint"))},directives:[Fr,Av,Yd,Ug],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[whe.transitionMessages]},changeDetection:0}),n})(),Op=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He,Rp],He]}),n})();const Fp={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Fp;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const s=t(r=>{e=void 0,n(r)});return new Pt(()=>null==e?void 0:e(s))},requestAnimationFrame(...n){const{delegate:t}=Fp;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Fp;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},cH=new class Ihe extends fD{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class khe extends hD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fp.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Fp.cancelAnimationFrame(e),t._scheduled=void 0)}});let TD,Phe=1;const Ov={};function dH(n){return n in Ov&&(delete Ov[n],!0)}const Ohe={setImmediate(n){const t=Phe++;return Ov[t]=!0,TD||(TD=Promise.resolve()),TD.then(()=>dH(t)&&n()),t},clearImmediate(n){dH(n)}},{setImmediate:Fhe,clearImmediate:Lhe}=Ohe,Fv={setImmediate(...n){const{delegate:t}=Fv;return((null==t?void 0:t.setImmediate)||Fhe)(...n)},clearImmediate(n){const{delegate:t}=Fv;return((null==t?void 0:t.clearImmediate)||Lhe)(n)},delegate:void 0};new class Bhe extends fD{flush(t){this._active=!0,this._scheduled=void 0;const{actions:e}=this;let i,s=-1;t=t||e.shift();const r=e.length;do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this._active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class Nhe extends hD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fv.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(Fv.clearImmediate(e),t._scheduled=void 0)}});function Lv(n=0,t,e=T3){let i=-1;return null!=t&&($A(t)?e=t:i=t),new Zt(s=>{let r=function zhe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;r<0&&(r=0);let o=0;return e.schedule(function(){s.closed||(s.next(o++),0<=i?this.schedule(void 0,i):s.complete())},r)})}function uH(n,t=T3){return function Hhe(n){return Vn((t,e)=>{let i=!1,s=null,r=null,o=!1;const a=()=>{if(null==r||r.unsubscribe(),r=null,i){i=!1;const c=s;s=null,e.next(c)}o&&e.complete()},l=()=>{r=null,o&&e.complete()};t.subscribe(new An(e,c=>{i=!0,s=c,r||Ss(n(c)).subscribe(r=new An(e,a,l))},()=>{o=!0,(!i||!r||r.closed)&&e.complete()}))})}(()=>Lv(n,t))}let RD=(()=>{class n{constructor(e,i,s){this._ngZone=e,this._platform=i,this._scrolled=new me,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Zt(i=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(uH(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Xe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const s=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(mn(r=>!r||s.indexOf(r)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((s,r)=>{this._scrollableContainsElement(r,e)&&i.push(r)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let s=oi(i),r=e.getElementRef().nativeElement;do{if(s==r)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mr(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(j($e),j(ri),j(Je,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kD=(()=>{class n{constructor(e,i,s,r){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=s,this.dir=r,this._destroyed=new me,this._elementScrolled=new Zt(o=>this.ngZone.runOutsideAngular(()=>mr(this.elementRef.nativeElement,"scroll").pipe(Ze(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),s&&0!=Ap()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==Ap()?e.left=e.right:1==Ap()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;S3()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",s="right",r=this.elementRef.nativeElement;if("top"==e)return r.scrollTop;if("bottom"==e)return r.scrollHeight-r.clientHeight-r.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?s:i:"end"==e&&(e=o?i:s),o&&2==Ap()?e==i?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:o&&1==Ap()?e==i?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==i?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(RD),x($e),x(Hi,8))},n.\u0275dir=z({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),Xr=(()=>{class n{constructor(e,i,s){this._platform=e,this._change=new me,this._changeListener=r=>{this._change.next(r)},this._document=s,i.runOutsideAngular(()=>{if(e.isBrowser){const r=this._getWindow();r.addEventListener("resize",this._changeListener),r.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+i,height:s,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),s=e.documentElement,r=s.getBoundingClientRect();return{top:-r.top||e.body.scrollTop||i.scrollY||s.scrollTop||0,left:-r.left||e.body.scrollLeft||i.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(uH(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(j(ri),j($e),j(Je,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})(),ID=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wc,Co],wc,Co]}),n})();class PD{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class jhe extends PD{constructor(t,e,i,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=s}}class Lp extends PD{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Whe extends PD{constructor(t){super(),this.element=t instanceof de?t.nativeElement:t}}class hH{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof jhe?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Lp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Whe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $he extends hH{constructor(t,e,i,s,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=s,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=r}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=i.create(t.injector||this._defaultInjector||di.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(s=>this.outletElement.appendChild(s)),i.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(i);-1!==s&&e.remove(s)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Nv=(()=>{class n extends hH{constructor(e,i,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new we,this.attachDomPortal=r=>{const o=r.element,a=this._document.createComment("dom-portal");r.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=r,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(r,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(x(Uo),x(Fn),x(Je))},n.\u0275dir=z({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Y]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();const fH=S3();class Yhe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=yi(-this._previousScrollPosition.left),t.style.top=yi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,s=this._document.body.style,r=i.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fH&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fH&&(i.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Xhe{constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pH{enable(){}disable(){}attach(){}}function OD(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function mH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Khe{constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();OD(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qhe=(()=>{class n{constructor(e,i,s,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=s,this.noop=()=>new pH,this.close=o=>new Xhe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new Yhe(this._viewportRuler,this._document),this.reposition=o=>new Khe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=r}}return n.\u0275fac=function(e){return new(e||n)(j(RD),j(Xr),j($e),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FD{constructor(t){if(this.scrollStrategy=new pH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Zhe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class Jhe{constructor(t,e,i,s,r,o,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new me,this._attachments=new me,this._detachments=new me,this._locationChanges=Pt.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new me,this._outsidePointerEvents=new me,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Pn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=yi(this._config.width),t.height=yi(this._config.height),t.minWidth=yi(this._config.minWidth),t.minHeight=yi(this._config.minHeight),t.maxWidth=yi(this._config.maxWidth),t.maxHeight=yi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const s=R3(e||[]).filter(r=>!!r);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ze(jn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let gH=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||oD()){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<s.length;r++)s[r].remove()}const i=this._document.createElement("div");i.classList.add(e),oD()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j(ri))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _H="cdk-overlay-connected-position-bounding-box",efe=/([A-Za-z%]+)$/;class tfe{constructor(t,e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new me,this._resizeSubscription=Pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(_H),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,r=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,s,a),c=this._getOverlayPoint(l,e,a),d=this._getOverlayFit(c,e,i,a);if(d.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(d,c,i)?r.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<d.visibleArea)&&(o={overlayFit:d,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(r.length){let a=null,l=-1;for(const c of r){const d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(_H),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s,r;if("center"==i.originX)s=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;s="start"==i.originX?o:a}return e.left<0&&(s-=e.left),r="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(r-=e.top),{x:s,y:r}}_getOverlayPoint(t,e,i){let s,r;return s="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+s,y:t.y+r}}_getOverlayFit(t,e,i,s){const r=vH(e);let{x:o,y:a}=t,l=this._getOffset(s,"x"),c=this._getOffset(s,"y");l&&(o+=l),c&&(a+=c);let h=0-a,f=a+r.height-i.height,p=this._subtractOverflows(r.width,0-o,o+r.width-i.width),m=this._subtractOverflows(r.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:r.width*r.height===g,fitsInViewportVertically:m===r.height,fitsInViewportHorizontally:p==r.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const s=i.bottom-e.y,r=i.right-e.x,o=yH(this._overlayRef.getConfig().minHeight),a=yH(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=r;return(t.fitsInViewportVertically||null!=o&&o<=s)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=vH(e),r=this._viewportRect,o=Math.max(t.x+s.width-r.width,0),a=Math.max(t.y+s.height-r.height,0),l=Math.max(r.top-i.top-t.y,0),c=Math.max(r.left-i.left-t.x,0);let d=0,u=0;return d=s.width<=r.width?c||-o:t.x<this._viewportMargin?r.left-i.left-t.x:0,u=s.height<=r.height?l||-a:t.y<this._viewportMargin?r.top-i.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),s=new Zhe(t,i);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,s=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,s=this._isRtl();let r,o,a,d,u,h;if("top"===e.overlayY)o=t.y,r=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,r=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;r=2*f,o=t.y-f,r>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-p/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)h=i.width-t.x+this._viewportMargin,d=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)u=t.x,d=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;d=2*f,u=t.x-f,d>p&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-p/2)}return{top:o,left:u,bottom:a,right:h,width:d,height:r}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=yi(i.height),s.top=yi(i.top),s.bottom=yi(i.bottom),s.width=yi(i.width),s.left=yi(i.left),s.right=yi(i.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(s.maxHeight=yi(r)),o&&(s.maxWidth=yi(o))}this._lastBoundingBoxSize=i,Oc(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Oc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){const d=this._viewportRuler.getViewportScrollPosition();Oc(i,this._getExactOverlayY(e,t,d)),Oc(i,this._getExactOverlayX(e,t,d))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(s?i.maxHeight=yi(o.maxHeight):r&&(i.maxHeight="")),o.maxWidth&&(s?i.maxWidth=yi(o.maxWidth):r&&(i.maxWidth="")),Oc(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":s.top=yi(r.y),s}_getExactOverlayX(t,e,i){let o,s={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?s.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":s.left=yi(r.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mH(t,i),isOriginOutsideView:OD(t,i),isOverlayClipped:mH(e,i),isOverlayOutsideView:OD(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&R3(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof de)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Oc(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function yH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(efe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function vH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const bH="cdk-global-overlay-wrapper";class nfe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(bH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:a}=i,l=!("100%"!==s&&"100vw"!==s||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==r&&"100vh"!==r||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(bH),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let ife=(()=>{class n{constructor(e,i,s,r){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=r}global(){return new nfe}flexibleConnectedTo(e){return new tfe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(j(Xr),j(Je),j(ri),j(gH))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sfe=(()=>{class n extends xH{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=s=>{const r=this._attachedOverlays;for(let o=r.length-1;o>-1;o--)if(r[o]._keydownEvents.observers.length>0){const a=r[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(s)):a.next(s);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j($e,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rfe=(()=>{class n extends xH{constructor(e,i,s){super(e),this._platform=i,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=r=>{this._pointerDownEventTarget=ur(r)},this._clickListener=r=>{const o=ur(r),a="click"===r.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const d=l[c];if(d._outsidePointerEvents.observers.length<1||!d.hasAttached())continue;if(d.overlayElement.contains(o)||d.overlayElement.contains(a))break;const u=d._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j(ri),j($e,8))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ofe=0,_a=(()=>{class n{constructor(e,i,s,r,o,a,l,c,d,u,h){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=s,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=d,this._location=u,this._outsideClickDispatcher=h}create(e){const i=this._createHostElement(),s=this._createPaneElement(i),r=this._createPortalOutlet(s),o=new FD(e);return o.direction=o.direction||this._directionality.value,new Jhe(r,i,s,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+ofe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get($d)),new $he(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(j(Qhe),j(gH),j(Uo),j(ife),j(sfe),j(di),j($e),j(Je),j(Hi),j(kg),j(rfe))},n.\u0275prov=se({token:n,factory:n.\u0275fac}),n})();const afe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wH=new K("cdk-connected-overlay-scroll-strategy");let MH=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(x(de))},n.\u0275dir=z({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),CH=(()=>{class n{constructor(e,i,s,r,o){this._overlay=e,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Pt.EMPTY,this._attachSubscription=Pt.EMPTY,this._detachSubscription=Pt.EMPTY,this._positionSubscription=Pt.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new we,this.positionChange=new we,this.attach=new we,this.detach=new we,this.overlayKeydown=new we,this.overlayOutsideClick=new we,this._templatePortal=new Lp(i,s),this._scrollStrategyFactory=r,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Me(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Me(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Me(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Me(e)}get push(){return this._push}set push(e){this._push=Me(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=afe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!ns(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new FD({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof MH?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function qhe(n,t=!1){return Vn((e,i)=>{let s=0;e.subscribe(new An(i,r=>{const o=n(r,s++);(o||t)&&i.next(r),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(_a),x(Yn),x(Fn),x(wH),x(Hi,8))},n.\u0275dir=z({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[on]}),n})();const cfe={provide:wH,deps:[_a],useFactory:function lfe(n){return()=>n.scrollStrategies.reposition()}};let Fc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[_a,cfe],imports:[[wc,Pc,ID],ID]}),n})();class Np{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new me,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let LD=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let s of this._listeners)s(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dfe=["trigger"],ufe=["panel"];function hfe(n,t){if(1&n&&(U(0,"span",8),bt(1),G()),2&n){const e=Nt();he(1),er(e.placeholder)}}function ffe(n,t){if(1&n&&(U(0,"span",12),bt(1),G()),2&n){const e=Nt(2);he(1),er(e.triggerValue)}}function pfe(n,t){1&n&&dt(0,0,["*ngSwitchCase","true"])}function mfe(n,t){1&n&&(U(0,"span",9),ct(1,ffe,2,1,"span",10),ct(2,pfe,1,0,"ng-content",11),G()),2&n&&(ce("ngSwitch",!!Nt().customTrigger),he(2),ce("ngSwitchCase",!0))}function gfe(n,t){if(1&n){const e=Ho();U(0,"div",13),U(1,"div",14,15),ze("@transformPanel.done",function(s){return Ks(e),Nt()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return Ks(e),Nt()._handleKeydown(s)}),dt(3,1),G(),G()}if(2&n){const e=Nt();ce("@transformPanelWrap",void 0),he(1),Bk("mat-select-panel ",e._getPanelTheme(),""),Fs("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),ce("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),st("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const _fe=[[["mat-select-trigger"]],"*"],yfe=["mat-select-trigger","*"],EH={transformPanelWrap:Qn("transformPanelWrap",[Gt("* => void",rv("@transformPanel",[sv()],{optional:!0}))]),transformPanel:Qn("transformPanel",[Rt("void",Be({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Rt("showing",Be({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Rt("showing-multiple",Be({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Gt("void => *",Kt("120ms cubic-bezier(0, 0, 0.2, 1)")),Gt("* => void",Kt("100ms 25ms linear",Be({opacity:0})))])};let AH=0;const RH=new K("mat-select-scroll-strategy"),wfe=new K("MAT_SELECT_CONFIG"),Mfe={provide:RH,deps:[_a],useFactory:function xfe(n){return()=>n.scrollStrategies.reposition()}};class Cfe{constructor(t,e){this.source=t,this.value=e}}const Sfe=hr(gl(ma(bD(class{constructor(n,t,e,i,s){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=s}})))),Dfe=new K("MatSelectTrigger");let Efe=(()=>{class n extends Sfe{constructor(e,i,s,r,o,a,l,c,d,u,h,f,p,m){var g,_,y;super(o,r,l,c,u),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=s,this._dir=a,this._parentFormField=d,this._liveAnnouncer=p,this._defaultOptions=m,this._panelOpen=!1,this._compareWith=(v,b)=>v===b,this._uid="mat-select-"+AH++,this._triggerAriaLabelledBy=null,this._destroy=new me,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+AH++,this._panelDoneAnimatingStream=new me,this._overlayPanelClass=(null===(g=this._defaultOptions)||void 0===g?void 0:g.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(y=null===(_=this._defaultOptions)||void 0===_?void 0:_.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=Zg(()=>{const v=this.options;return v?v.changes.pipe(Zi(v),ir(()=>jn(...v.map(b=>b.onSelectionChange)))):this._ngZone.onStable.pipe(Pn(1),ir(()=>this.optionSelectionChanges))}),this.openedChange=new we,this._openedStream=this.openedChange.pipe(mn(v=>v),Ct(()=>{})),this._closedStream=this.openedChange.pipe(mn(v=>!v),Ct(()=>{})),this.selectionChange=new we,this.valueChange=new we,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==m?void 0:m.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._scrollStrategyFactory=f,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){var e,i,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(Ko.required))&&void 0!==r&&r}set required(e){this._required=Me(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Me(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Me(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=zi(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Np(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ku(),Ze(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ze(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Zi(null),Ze(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?s.setAttribute("aria-labelledby",e):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var e,i;return this.multiple?(null===(e=this._selectionModel)||void 0===e?void 0:e.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,s=40===i||38===i||37===i||39===i,r=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&r&&!ns(e)||(this.multiple||e.altKey)&&s)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,s=e.keyCode,r=40===s||38===s,o=i.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(o||13!==s&&32!==s||!i.activeItem||ns(e))if(!o&&this._multiple&&65===s&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&r&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Pn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,e)}catch(r){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new due(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ze(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ze(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=jn(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ze(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),jn(...this.options.map(i=>i._stateChanges)).pipe(Ze(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const s=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(s!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),s!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,e):e.indexOf(i)-e.indexOf(s)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var e;if(this.ariaLabel)return null;const i=null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(x(Xr),x(Xt),x($e),x(Zu),x(de),x(Hi,8),x(Wa,8),x(Wl,8),x(Pp,8),x(Nr,10),Fi("tabindex"),x(RH),x(Tue),x(wfe,8))},n.\u0275dir=z({type:n,viewQuery:function(e,i){if(1&e&&(St(dfe,5),St(ufe,5),St(CH,5)),2&e){let s;ge(s=_e())&&(i.trigger=s.first),ge(s=_e())&&(i.panel=s.first),ge(s=_e())&&(i._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[Y,on]}),n})(),Afe=(()=>{class n extends Efe{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,s){const r=this._getItemHeight();return Math.min(Math.max(0,r*e-i+r/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ze(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Pn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=DD(e,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function tH(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*s,s,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Cfe(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),r=this.multiple?56:32;let o;if(this.multiple)o=40;else if(this.disableOptionCentering)o=16;else{let c=this._selectionModel.selected[0]||this.options.first;o=c&&c.group?32:16}s||(o*=-1);const a=0-(e.left+o-(s?r:0)),l=e.right+o-i.width+(s?0:r);a>0?o+=a+8:l>0&&(o-=l+8),this._overlayDir.offsetX=Math.round(o),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,s){const r=this._getItemHeight(),o=(r-this._triggerRect.height)/2,a=Math.floor(256/r);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?e*r:this._scrollTop===s?(e-(this._getItemCount()-a))*r+(r-(this._getItemCount()*r-256)%r):i-r/2,Math.round(-1*l-o))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,o=s.height-this._triggerRect.bottom-8,a=Math.abs(this._offsetY),c=Math.min(this._getItemCount()*i,256)-a-this._triggerRect.height;c>o?this._adjustPanelUp(c,o):a>r?this._adjustPanelDown(a,r,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const s=Math.round(e-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,s){const r=Math.round(e-i);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*e,256),o=i*e-s;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=DD(a,this.options,this.optionGroups);const l=s/2;this._scrollTop=this._calculateOverlayScroll(a,l,o),this._offsetY=this._calculateOverlayOffsetY(a,l,o),this._checkOverlayWithinViewport(o)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275cmp=Qe({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,s){if(1&e&&(mt(s,Dfe,5),mt(s,eH,5),mt(s,Z3,5)),2&e){let r;ge(r=_e())&&(i.customTrigger=r.first),ge(r=_e())&&(i.options=r),ge(r=_e())&&(i.optionGroups=r)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&ze("keydown",function(r){return i._handleKeydown(r)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(st("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),ot("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[Re([{provide:Ip,useExisting:n},{provide:Q3,useExisting:n}]),Y],ngContentSelectors:yfe,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(xn(_fe),U(0,"div",0,1),ze("click",function(){return i.toggle()}),U(3,"div",2),ct(4,hfe,2,1,"span",3),ct(5,mfe,3,2,"span",4),G(),U(6,"div",5),Ge(7,"div",6),G(),G(),ct(8,gfe,4,14,"ng-template",7),ze("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const s=Js(1);st("aria-owns",i.panelOpen?i.id+"-panel":null),he(3),ce("ngSwitch",i.empty),st("id",i._valueId),he(1),ce("ngSwitchCase",!0),he(1),ce("ngSwitchCase",!1),he(3),ce("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[MH,Yd,Ug,XP,CH,ff],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[EH.transformPanelWrap,EH.transformPanel]},changeDetection:0}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[Mfe],imports:[[fi,Fc,Pv,He],Co,Op,Pv,He]}),n})();const kH=Yr({passive:!0});let Tfe=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return xr;const i=oi(e),s=this._monitoredElements.get(i);if(s)return s.subject;const r=new me,o="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(o)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!1}))):(i.classList.add(o),this._ngZone.run(()=>r.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,kH),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:r,unlisten:()=>{i.removeEventListener("animationstart",a,kH)}}),r}stopMonitoring(e){const i=oi(e),s=this._monitoredElements.get(i);s&&(s.unlisten(),s.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(j(ri),j($e))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();const PH=new K("MAT_INPUT_VALUE_ACCESSOR"),Rfe=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kfe=0;const Ife=bD(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let Pfe=(()=>{class n extends Ife{constructor(e,i,s,r,o,a,l,c,d,u){super(a,r,o,s),this._elementRef=e,this._platform=i,this._autofillMonitor=c,this._formField=u,this._uid="mat-input-"+kfe++,this.focused=!1,this.stateChanges=new me,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>C3().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&d.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Me(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){var e,i,s,r;return null!==(r=null!==(e=this._required)&&void 0!==e?e:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(Ko.required))&&void 0!==r&&r}set required(e){this._required=Me(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&C3().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Me(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,i;const s=(null===(i=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===i?void 0:i.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=s,s?r.setAttribute("placeholder",s):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Rfe.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(ri),x(Nr,10),x(Wa,8),x(Wl,8),x(Zu),x(PH,10),x(Tfe),x($e),x(Pp,8))},n.\u0275dir=z({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&ze("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(co("disabled",i.disabled)("required",i.required),st("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),ot("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[Re([{provide:Ip,useExisting:n}]),Y,on]}),n})(),OH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[Zu],imports:[[IH,Op,He],IH,Op]}),n})();const Ofe=["mat-button",""],Ffe=["*"],Nfe=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Bfe=ga(ma(hr(class{constructor(n){this._elementRef=n}})));let Hv=(()=>{class n extends Bfe{constructor(e,i,s){super(e),this._focusMonitor=i,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Nfe)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(wo),x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&St(fr,5),2&e){let s;ge(s=_e())&&(i.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(st("disabled",i.disabled||null),ot("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Y],attrs:Ofe,ngContentSelectors:Ffe,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(xn(),U(0,"span",0),dt(1),G(),Ge(2,"span",1),Ge(3,"span",2)),2&e&&(he(2),ot("mat-button-ripple-round",i.isRoundButton||i.isIconButton),ce("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[fr],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),Lc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[pr,He],He]}),n})();const Vfe=["container"];function Hfe(n,t){1&n&&(U(0,"mat-option",18),bt(1,"No Data"),G())}function zfe(n,t){if(1&n&&(U(0,"mat-option",19),bt(1),G()),2&n){const e=t.$implicit;ce("value",e),he(1),er(e)}}function Ufe(n,t){1&n&&(U(0,"mat-option",18),bt(1,"No Data"),G())}function Gfe(n,t){if(1&n&&(U(0,"mat-option",19),bt(1),G()),2&n){const e=t.$implicit;ce("value",e.id),he(1),zo("",e.name," ")}}let jfe=(()=>{class n{constructor(e,i,s,r){this.scene=e,this.route=i,this.router=s,this.httpService=r,this.machineId="",this.connectionUrls=["192.162.78.21","192.162.78.22"],this.mappedmachines=[],this.machineForm=new If({connectionUrl:new jl("",[Ko.required]),mappedMachine:new jl("",[Ko.required]),name:new jl("",[Ko.required])}),this.route.params.subscribe(o=>{this.machineId=o.id,this.machine=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))))})}ngOnInit(){this.httpService.getMachines().subscribe(e=>{console.log(e)})}set container(e){const i=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.machineId))));this.scene.initialize(e.nativeElement,i)}createDigitalTwin(){const e=this.machineForm.value,i={machineId:this.machineId,name:e.name,connectionUrl:e.connectionUrl,mappedMachine:e.mappedMachine};console.log(this.machineForm.value),console.log(i),this.httpService.createDigitalTwin(i).subscribe(s=>{console.log(s),this.router.navigateByUrl("/digital-twin")})}connectionUrlChanged(){this.mappedmachines=[{name:"Turbofan 45",id:1},{name:"Turbofan 56 ",id:2},{name:"Turbofan 34",id:3},{name:"Turbofan 33",id:4}]}}return n.\u0275fac=function(e){return new(e||n)(x(pS),x(za),x(Wi),x(Jy))},n.\u0275cmp=Qe({type:n,selectors:[["app-create-digital-twin"]],viewQuery:function(e,i){if(1&e&&St(Vfe,5),2&e){let s;ge(s=_e())&&(i.container=s.first)}},decls:30,vars:8,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","75",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","24","fxLayout","column","fxLayoutAlign","start center",1,"right-content"],[1,"machine-name"],["matCardImage","",1,"machine-image",3,"src"],["fxLayout","column","fxLayoutAlign","start center",1,"form","create-twin",3,"formGroup"],["appearance","outline"],["required","","formControlName","connectionUrl",3,"selectionChange"],["disabled","",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","mappedMachine"],["required","","matInput","","formControlName","name"],["mat-flat-button","",1,"button",3,"disabled","click"],["disabled",""],[3,"value"]],template:function(e,i){1&e&&(U(0,"div",0),U(1,"div",1),Ge(2,"div",2,3),U(4,"div",4),Ge(5,"div",5),Ge(6,"div",6),G(),G(),U(7,"div",7),U(8,"h1",8),bt(9),G(),Ge(10,"img",9),U(11,"form",10),U(12,"mat-form-field",11),U(13,"mat-label"),bt(14,"Connection url"),G(),U(15,"mat-select",12),ze("selectionChange",function(){return i.connectionUrlChanged()}),ct(16,Hfe,2,0,"mat-option",13),ct(17,zfe,2,2,"mat-option",14),G(),G(),U(18,"mat-form-field",11),U(19,"mat-label"),bt(20,"Select Machine"),G(),U(21,"mat-select",15),ct(22,Ufe,2,0,"mat-option",13),ct(23,Gfe,2,2,"mat-option",14),G(),G(),U(24,"mat-form-field",11),U(25,"mat-label"),bt(26,"Name"),G(),Ge(27,"input",16),G(),G(),U(28,"button",17),ze("click",function(){return i.createDigitalTwin()}),bt(29,"Create Digital Twin"),G(),G(),G()),2&e&&(he(9),er(null==i.machine?null:i.machine.name),he(1),ce("src",i.machine.imageUrl,_d),he(1),ce("formGroup",i.machineForm),he(5),ce("ngIf",i.connectionUrls.length<1),he(1),ce("ngForOf",i.connectionUrls),he(5),ce("ngIf",i.mappedmachines.length<1),he(1),ce("ngForOf",i.mappedmachines),he(5),ce("disabled",i.machineForm.invalid))},directives:[Wu,iv,Cp,ED,D_,y_,Wl,Rhe,AD,Afe,E_,XF,OM,Fr,eH,pf,Pfe,g_,Hv],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.right-content[_ngcontent-%COMP%]{background:#fff;height:100vh;padding:20px 0}.form[_ngcontent-%COMP%]{width:80%}.mat-form-field[_ngcontent-%COMP%]{width:100%}.button[_ngcontent-%COMP%]{width:50%;height:60px;font-size:20px;color:#fff;background:#16c3d5}.form.create-twin[_ngcontent-%COMP%]{margin-top:20px}.machine-image[_ngcontent-%COMP%]{width:90%}"]}),n})();function Wfe(n,t){1&n&&dt(0)}const FH=["*"];function $fe(n,t){}const qfe=function(n){return{animationDuration:n}},Yfe=function(n,t){return{value:n,params:t}},Xfe=["tabListContainer"],Kfe=["tabList"],Qfe=["tabListInner"],Zfe=["nextPaginator"],Jfe=["previousPaginator"],epe=["tabBodyWrapper"],tpe=["tabHeader"];function npe(n,t){}function ipe(n,t){1&n&&ct(0,npe,0,0,"ng-template",10),2&n&&ce("cdkPortalOutlet",Nt().$implicit.templateLabel)}function spe(n,t){1&n&&bt(0),2&n&&er(Nt().$implicit.textLabel)}function rpe(n,t){if(1&n){const e=Ho();U(0,"div",6),ze("click",function(){const s=Ks(e),r=s.$implicit,o=s.index,a=Nt(),l=Js(1);return a._handleClick(r,l,o)})("cdkFocusChange",function(s){const o=Ks(e).index;return Nt()._tabFocusChanged(s,o)}),U(1,"div",7),ct(2,ipe,1,1,"ng-template",8),ct(3,spe,1,1,"ng-template",null,9,jI),G(),G()}if(2&n){const e=t.$implicit,i=t.index,s=Js(4),r=Nt();ot("mat-tab-label-active",r.selectedIndex===i),ce("id",r._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||r.disableRipple),st("tabIndex",r._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(i))("aria-selected",r.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),he(2),ce("ngIf",e.templateLabel)("ngIfElse",s)}}function ope(n,t){if(1&n){const e=Ho();U(0,"mat-tab-body",11),ze("_onCentered",function(){return Ks(e),Nt()._removeTabBodyWrapperHeight()})("_onCentering",function(s){return Ks(e),Nt()._setTabBodyWrapperHeight(s)}),G()}if(2&n){const e=t.$implicit,i=t.index,s=Nt();ot("mat-tab-body-active",s.selectedIndex===i),ce("id",s._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",s.animationDuration),st("tabindex",null!=s.contentTabIndex&&s.selectedIndex===i?s.contentTabIndex:null)("aria-labelledby",s._getTabLabelId(i))}}const ape=new K("MatInkBarPositioner",{providedIn:"root",factory:function lpe(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let LH=(()=>{class n{constructor(e,i,s,r){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=s,this._animationMode=r}alignToElement(e){this.show(),this._ngZone.onStable.pipe(Pn(1)).subscribe(()=>{const i=this._inkBarPositioner(e),s=this._elementRef.nativeElement;s.style.left=i.left,s.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(x(de),x($e),x(ape),x(Zn,8))},n.\u0275dir=z({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&ot("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const cpe=new K("MatTabContent"),dpe=new K("MatTabLabel"),upe=new K("MAT_TAB"),hpe=ma(class{}),NH=new K("MAT_TAB_GROUP");let BH=(()=>{class n extends hpe{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new me,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Lp(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(x(Fn),x(NH,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,s){if(1&e&&(mt(s,dpe,5),mt(s,cpe,7,Yn)),2&e){let r;ge(r=_e())&&(i.templateLabel=r.first),ge(r=_e())&&(i._explicitContent=r.first)}},viewQuery:function(e,i){if(1&e&&St(Yn,7),2&e){let s;ge(s=_e())&&(i._implicitContent=s.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Re([{provide:upe,useExisting:n}]),Y,on],ngContentSelectors:FH,decls:1,vars:0,template:function(e,i){1&e&&(xn(),ct(0,Wfe,1,0,"ng-template"))},encapsulation:2}),n})();const fpe={translateTab:Qn("translateTab",[Rt("center, void, left-origin-center, right-origin-center",Be({transform:"none"})),Rt("left",Be({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Rt("right",Be({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Gt("* => left, * => right, left => center, right => center",Kt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Gt("void => left-origin-center",[Be({transform:"translate3d(-100%, 0, 0)"}),Kt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Gt("void => right-origin-center",[Be({transform:"translate3d(100%, 0, 0)"}),Kt("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let ppe=(()=>{class n extends Nv{constructor(e,i,s,r){super(e,i,r),this._host=s,this._centeringSub=Pt.EMPTY,this._leavingSub=Pt.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Zi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(x(Uo),x(Fn),x(Ot(()=>VH)),x(Je))},n.\u0275dir=z({type:n,selectors:[["","matTabBodyHost",""]],features:[Y]}),n})(),mpe=(()=>{class n{constructor(e,i,s){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Pt.EMPTY,this._translateTabComplete=new me,this._onCentering=new we,this._beforeCentering=new we,this._afterLeavingCenter=new we,this._onCentered=new we(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(r=>{this._computePositionAnimationState(r),s.markForCheck()})),this._translateTabComplete.pipe(Ku((r,o)=>r.fromState===o.fromState&&r.toState===o.toState)).subscribe(r=>{this._isCenterPosition(r.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(r.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Hi,8),x(Xt))},n.\u0275dir=z({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),VH=(()=>{class n extends mpe{constructor(e,i,s){super(e,i,s)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Hi,8),x(Xt))},n.\u0275cmp=Qe({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&St(Nv,5),2&e){let s;ge(s=_e())&&(i._portalHost=s.first)}},hostAttrs:[1,"mat-tab-body"],features:[Y],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(U(0,"div",0,1),ze("@translateTab.start",function(r){return i._onTranslateTabStarted(r)})("@translateTab.done",function(r){return i._translateTabComplete.next(r)}),ct(2,$fe,0,0,"ng-template",2),G()),2&e&&ce("@translateTab",RI(3,Yfe,i._position,rf(1,qfe,i.animationDuration)))},directives:[ppe],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[fpe.translateTab]}}),n})();const HH=new K("MAT_TABS_CONFIG"),gpe=ma(class{});let zH=(()=>{class n extends gpe{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(x(de))},n.\u0275dir=z({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(st("aria-disabled",!!i.disabled),ot("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[Y]}),n})();const UH=Yr({passive:!0});let vpe=(()=>{class n{constructor(e,i,s,r,o,a,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=s,this._dir=r,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new me,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new me,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new we,this.indexFocused=new we,o.runOutsideAngular(()=>{mr(e.nativeElement,"mouseleave").pipe(Ze(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=zi(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){mr(this._previousPaginator.nativeElement,"touchstart",UH).pipe(Ze(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),mr(this._nextPaginator.nativeElement,"touchstart",UH).pipe(Ze(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Xe("ltr"),i=this._viewportRuler.change(150),s=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Tv(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Pn(1)).subscribe(s),jn(e,i,this._items.changes).pipe(Ze(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),s()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Ze(this._destroyed)).subscribe(r=>{this.indexFocused.emit(r),this._setTabFocus(r)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!ns(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const s=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:o}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=r,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-r,a=l-o);const c=this.scrollDistance,d=this.scrollDistance+s;a<c?this.scrollDistance-=c-a+60:l>d&&(this.scrollDistance+=l-d+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Lv(650,100).pipe(Ze(jn(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:s,distance:r}=this._scrollHeader(e);(0===r||r>=s)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(Xr),x(Hi,8),x($e),x(ri),x(Zn,8))},n.\u0275dir=z({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),bpe=(()=>{class n extends vpe{constructor(e,i,s,r,o,a,l){super(e,i,s,r,o,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Me(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(Xr),x(Hi,8),x($e),x(ri),x(Zn,8))},n.\u0275dir=z({type:n,inputs:{disableRipple:"disableRipple"},features:[Y]}),n})(),xpe=(()=>{class n extends bpe{constructor(e,i,s,r,o,a,l){super(e,i,s,r,o,a,l)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(Xr),x(Hi,8),x($e),x(ri),x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,s){if(1&e&&mt(s,zH,4),2&e){let r;ge(r=_e())&&(i._items=r)}},viewQuery:function(e,i){if(1&e&&(St(LH,7),St(Xfe,7),St(Kfe,7),St(Qfe,7),St(Zfe,5),St(Jfe,5)),2&e){let s;ge(s=_e())&&(i._inkBar=s.first),ge(s=_e())&&(i._tabListContainer=s.first),ge(s=_e())&&(i._tabList=s.first),ge(s=_e())&&(i._tabListInner=s.first),ge(s=_e())&&(i._nextPaginator=s.first),ge(s=_e())&&(i._previousPaginator=s.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&ot("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[Y],ngContentSelectors:FH,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(xn(),U(0,"button",0,1),ze("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(r){return i._handlePaginatorPress("before",r)})("touchend",function(){return i._stopInterval()}),Ge(2,"div",2),G(),U(3,"div",3,4),ze("keydown",function(r){return i._handleKeydown(r)}),U(5,"div",5,6),ze("cdkObserveContent",function(){return i._onContentChanges()}),U(7,"div",7,8),dt(9),G(),Ge(10,"mat-ink-bar"),G(),G(),U(11,"button",9,10),ze("mousedown",function(r){return i._handlePaginatorPress("after",r)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),Ge(13,"div",2),G()),2&e&&(ot("mat-tab-header-pagination-disabled",i._disableScrollBefore),ce("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),he(5),ot("_mat-animation-noopable","NoopAnimations"===i._animationMode),he(6),ot("mat-tab-header-pagination-disabled",i._disableScrollAfter),ce("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[fr,Av,LH],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),wpe=0;class Mpe{}const Cpe=ga(hr(class{constructor(n){this._elementRef=n}}),"primary");let Spe=(()=>{class n extends Cpe{constructor(e,i,s,r){var o;super(e),this._changeDetectorRef=i,this._animationMode=r,this._tabs=new Ba,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Pt.EMPTY,this._tabLabelSubscription=Pt.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new we,this.focusChange=new we,this.animationDone=new we,this.selectedTabChange=new we(!0),this._groupId=wpe++,this.animationDuration=s&&s.animationDuration?s.animationDuration:"500ms",this.disablePagination=!(!s||null==s.disablePagination)&&s.disablePagination,this.dynamicHeight=!(!s||null==s.dynamicHeight)&&s.dynamicHeight,this.contentTabIndex=null!==(o=null==s?void 0:s.contentTabIndex)&&void 0!==o?o:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=Me(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=zi(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=zi(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const s=this._tabBodyWrapper.nativeElement;s.style.minHeight=s.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((s,r)=>s.isActive=r===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,s)=>{i.position=s-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let s;for(let r=0;r<i.length;r++)if(i[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,s=i[r];break}!s&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Zi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new Mpe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=jn(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,s){e.disabled||(this.selectedIndex=i.focusIndex=s)}_getTabIndex(e,i){var s;return e.disabled?null:i===(null!==(s=this._lastFocusedTabIndex)&&void 0!==s?s:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(HH,8),x(Zn,8))},n.\u0275dir=z({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[Y]}),n})(),Dpe=(()=>{class n extends Spe{constructor(e,i,s,r){super(e,i,s,r)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(HH,8),x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,s){if(1&e&&mt(s,BH,5),2&e){let r;ge(r=_e())&&(i._allTabs=r)}},viewQuery:function(e,i){if(1&e&&(St(epe,5),St(tpe,5)),2&e){let s;ge(s=_e())&&(i._tabBodyWrapper=s.first),ge(s=_e())&&(i._tabHeader=s.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&ot("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Re([{provide:NH,useExisting:n}]),Y],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(U(0,"mat-tab-header",0,1),ze("indexFocused",function(r){return i._focusChanged(r)})("selectFocusedIndex",function(r){return i.selectedIndex=r}),ct(2,rpe,5,15,"div",2),G(),U(3,"div",3,4),ct(5,ope,1,10,"mat-tab-body",5),G()),2&e&&(ce("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),he(2),ce("ngForOf",i._tabs),he(1),ot("_mat-animation-noopable","NoopAnimations"===i._animationMode),he(2),ce("ngForOf",i._tabs))},directives:[xpe,VH,pf,zH,fr,kue,ff,Fr,Nv],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),jH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He,Pc,pr,Rp,kv],He]}),n})();const WH="undefined"==typeof window?function(n){return n()}:window.requestAnimationFrame;function $H(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let s=!1,r=[];return function(...o){r=i(o),s||(s=!0,WH.call(window,()=>{s=!1,n.apply(t,r)}))}}const BD=n=>"start"===n?"left":"end"===n?"right":"center",is=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function ya(){}const Tpe=function(){let n=0;return function(){return n++}}();function nn(n){return null==n}function Sn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function $t(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const ai=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function gr(n,t){return ai(n)?n:t}function kt(n,t){return void 0===n?t:n}const qH=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Dn(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function hn(n,t,e,i){let s,r,o;if(Sn(n))if(r=n.length,i)for(s=r-1;s>=0;s--)t.call(e,n[s],s);else for(s=0;s<r;s++)t.call(e,n[s],s);else if($t(n))for(o=Object.keys(n),r=o.length,s=0;s<r;s++)t.call(e,n[o[s]],o[s])}function zv(n,t){let e,i,s,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],r=t[e],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Uv(n){if(Sn(n))return n.map(Uv);if($t(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=Uv(n[e[s]]);return t}return n}function YH(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function kpe(n,t,e,i){if(!YH(n))return;const s=t[n],r=e[n];$t(s)&&$t(r)?Hp(s,r,i):t[n]=Uv(r)}function Hp(n,t,e){const i=Sn(t)?t:[t],s=i.length;if(!$t(n))return n;const r=(e=e||{}).merger||kpe;for(let o=0;o<s;++o){if(!$t(t=i[o]))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)r(a[l],n,t,e)}return n}function zp(n,t){return Hp(n,t,{merger:Ipe})}function Ipe(n,t,e){if(!YH(n))return;const i=t[n],s=e[n];$t(i)&&$t(s)?zp(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Uv(s))}function XH(n,t){const e=n.indexOf(".",t);return-1===e?n.length:e}function Nc(n,t){if(""===t)return n;let e=0,i=XH(t,e);for(;n&&i>e;)n=n[t.substr(e,i-e)],e=i+1,i=XH(t,e);return n}function VD(n){return n.charAt(0).toUpperCase()+n.slice(1)}const _r=n=>void 0!==n,_l=n=>"function"==typeof n,KH=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},Bn=Math.PI,vn=2*Bn,Lpe=vn+Bn,Gv=Number.POSITIVE_INFINITY,Npe=Bn/180,Jn=Bn/2,Up=Bn/4,QH=2*Bn/3,yr=Math.log10,So=Math.sign;function ZH(n){const t=Math.round(n);n=jp(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(yr(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Gp(n){return!isNaN(parseFloat(n))&&isFinite(n)}function jp(n,t,e){return Math.abs(n-t)<e}function JH(n,t,e){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Kr(n){return n*(Bn/180)}function HD(n){return n*(180/Bn)}function ez(n){if(!ai(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function tz(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let r=Math.atan2(i,e);return r<-.5*Bn&&(r+=vn),{angle:r,distance:s}}function zD(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Hpe(n,t){return(n-t+Lpe)%vn-Bn}function Ws(n){return(n%vn+vn)%vn}function Wp(n,t,e,i){const s=Ws(n),r=Ws(t),o=Ws(e),a=Ws(r-s),l=Ws(o-s),c=Ws(s-r),d=Ws(s-o);return s===r||s===o||i&&r===o||a>l&&c<d}function Ui(n,t,e){return Math.max(t,Math.min(e,n))}function va(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}const jv=n=>0===n||1===n,nz=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*vn/e),iz=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*vn/e)+1,$p={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Jn),easeOutSine:n=>Math.sin(n*Jn),easeInOutSine:n=>-.5*(Math.cos(Bn*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>jv(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>jv(n)?n:nz(n,.075,.3),easeOutElastic:n=>jv(n)?n:iz(n,.075,.3),easeInOutElastic(n){const t=.1125;return jv(n)?n:n<.5?.5*nz(2*n,t,.45):.5+.5*iz(2*n-1,t,.45)},easeInBack(n){const t=1.70158;return n*n*((t+1)*n-t)},easeOutBack(n){const t=1.70158;return(n-=1)*n*((t+1)*n+t)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-$p.easeOutBounce(1-n),easeOutBounce(n){const t=7.5625,e=2.75;return n<1/e?t*n*n:n<2/e?t*(n-=1.5/e)*n+.75:n<2.5/e?t*(n-=2.25/e)*n+.9375:t*(n-=2.625/e)*n+.984375},easeInOutBounce:n=>n<.5?.5*$p.easeInBounce(2*n):.5*$p.easeOutBounce(2*n-1)+.5},vr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},UD="0123456789ABCDEF",Upe=n=>UD[15&n],Gpe=n=>UD[(240&n)>>4]+UD[15&n],Wv=n=>(240&n)>>4==(15&n);function qp(n){return n+.5|0}const $v=(n,t,e)=>Math.max(Math.min(n,e),t);function Yp(n){return $v(qp(2.55*n),0,255)}function Xp(n){return $v(qp(255*n),0,255)}function GD(n){return $v(qp(n/2.55)/100,0,1)}function sz(n){return $v(qp(100*n),0,100)}const qpe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Kpe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function rz(n,t,e){const i=t*Math.min(e,1-e),s=(r,o=(r+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function Qpe(n,t,e){const i=(s,r=(s+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Zpe(n,t,e){const i=rz(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function jD(n){const e=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(e,i,s),o=Math.min(e,i,s),a=(r+o)/2;let l,c,d;return r!==o&&(d=r-o,c=a>.5?d/(2-r-o):d/(r+o),l=r===e?(i-s)/d+(i<s?6:0):r===i?(s-e)/d+2:(e-i)/d+4,l=60*l+.5),[0|l,c||0,a]}function WD(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Xp)}function $D(n,t,e){return WD(rz,n,t,e)}function oz(n){return(n%360+360)%360}const az={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},lz={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let qv;function Yv(n,t,e){if(n){let i=jD(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=$D(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function cz(n,t){return n&&Object.assign(t||{},n)}function dz(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Xp(n[3]))):(t=cz(n,{r:0,g:0,b:0,a:1})).a=Xp(t.a),t}function ome(n){return"r"===n.charAt(0)?function Ype(n){const t=qpe.exec(n);let i,s,r,e=255;if(t){if(t[7]!==i){const o=+t[7];e=255&(t[8]?Yp(o):255*o)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Yp(i):i),s=255&(t[4]?Yp(s):s),r=255&(t[6]?Yp(r):r),{r:i,g:s,b:r,a:e}}}(n):function tme(n){const t=Kpe.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?Yp(+t[5]):Xp(+t[5]));const s=oz(+t[2]),r=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function Jpe(n,t,e){return WD(Zpe,n,t,e)}(s,r,o):"hsv"===t[1]?function eme(n,t,e){return WD(Qpe,n,t,e)}(s,r,o):$D(s,r,o),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class Xv{constructor(t){if(t instanceof Xv)return t;const e=typeof t;let i;"object"===e?i=dz(t):"string"===e&&(i=function Wpe(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*vr[n[1]],g:255&17*vr[n[2]],b:255&17*vr[n[3]],a:5===t?17*vr[n[4]]:255}:(7===t||9===t)&&(e={r:vr[n[1]]<<4|vr[n[2]],g:vr[n[3]]<<4|vr[n[4]],b:vr[n[5]]<<4|vr[n[6]],a:9===t?vr[n[7]]<<4|vr[n[8]]:255})),e}(t)||function rme(n){qv||(qv=function sme(){const n={},t=Object.keys(lz),e=Object.keys(az);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<e.length;s++)r=e[s],a=a.replace(r,az[r]);r=parseInt(lz[o],16),n[a]=[r>>16&255,r>>8&255,255&r]}return n}(),qv.transparent=[0,0,0,0]);const t=qv[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||ome(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=cz(this._rgb);return t&&(t.a=GD(t.a)),t}set rgb(t){this._rgb=dz(t)}rgbString(){return this._valid?function Xpe(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${GD(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function $pe(n){var t=function jpe(n){return Wv(n.r)&&Wv(n.g)&&Wv(n.b)&&Wv(n.a)}(n)?Upe:Gpe;return n&&"#"+t(n.r)+t(n.g)+t(n.b)+(n.a<255?t(n.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function ime(n){if(!n)return;const t=jD(n),e=t[0],i=sz(t[1]),s=sz(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${GD(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}(this._rgb):this._rgb}mix(t,e){const i=this;if(t){const s=i.rgb,r=t.rgb;let o;const a=e===o?.5:e,l=2*a-1,c=s.a-r.a,d=((l*c==-1?l:(l+c)/(1+l*c))+1)/2;o=1-d,s.r=255&d*s.r+o*r.r+.5,s.g=255&d*s.g+o*r.g+.5,s.b=255&d*s.b+o*r.b+.5,s.a=a*s.a+(1-a)*r.a,i.rgb=s}return i}clone(){return new Xv(this.rgb)}alpha(t){return this._rgb.a=Xp(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=qp(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Yv(this._rgb,2,t),this}darken(t){return Yv(this._rgb,2,-t),this}saturate(t){return Yv(this._rgb,1,t),this}desaturate(t){return Yv(this._rgb,1,-t),this}rotate(t){return function nme(n,t){var e=jD(n);e[0]=oz(e[0]+t),e=$D(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function uz(n){return new Xv(n)}const hz=n=>n instanceof CanvasGradient||n instanceof CanvasPattern;function fz(n){return hz(n)?n:uz(n)}function qD(n){return hz(n)?n:uz(n).saturate(.5).darken(.1).hexString()}const Bc=Object.create(null),YD=Object.create(null);function Kp(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const r=e[i];n=n[r]||(n[r]=Object.create(null))}return n}function XD(n,t,e){return"string"==typeof t?Hp(Kp(n,t),e):Hp(Kp(n,""),t)}var jt=new class ame{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>qD(i.backgroundColor),this.hoverBorderColor=(e,i)=>qD(i.borderColor),this.hoverColor=(e,i)=>qD(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return XD(this,t,e)}get(t){return Kp(this,t)}describe(t,e){return XD(YD,t,e)}override(t,e){return XD(Bc,t,e)}route(t,e,i,s){const r=Kp(this,t),o=Kp(this,i),a="_"+e;Object.defineProperties(r,{[a]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[s];return $t(l)?Object.assign({},c,l):kt(l,c)},set(l){this[a]=l}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Kv(n,t,e,i,s){let r=t[s];return r||(r=t[s]=n.measureText(s).width,e.push(s)),r>i&&(i=r),i}function cme(n,t,e,i){let s=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,d,u,h;for(l=0;l<a;l++)if(u=e[l],null!=u&&!0!==Sn(u))o=Kv(n,s,r,o,u);else if(Sn(u))for(c=0,d=u.length;c<d;c++)h=u[c],null!=h&&!Sn(h)&&(o=Kv(n,s,r,o,h));n.restore();const f=r.length/2;if(f>e.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Vc(n,t,e){const i=n.currentDevicePixelRatio,s=0!==e?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function pz(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function Qv(n,t,e,i){let s,r,o,a,l;const c=t.pointStyle,d=t.rotation,u=t.radius;let h=(d||0)*Npe;if(c&&"object"==typeof c&&(s=c.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(h),n.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void n.restore();if(!(isNaN(u)||u<=0)){switch(n.beginPath(),c){default:n.arc(e,i,u,0,vn),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(h)*u,i-Math.cos(h)*u),h+=QH,n.lineTo(e+Math.sin(h)*u,i-Math.cos(h)*u),h+=QH,n.lineTo(e+Math.sin(h)*u,i-Math.cos(h)*u),n.closePath();break;case"rectRounded":l=.516*u,a=u-l,r=Math.cos(h+Up)*a,o=Math.sin(h+Up)*a,n.arc(e-r,i-o,l,h-Bn,h-Jn),n.arc(e+o,i-r,l,h-Jn,h),n.arc(e+r,i+o,l,h,h+Jn),n.arc(e-o,i+r,l,h+Jn,h+Bn),n.closePath();break;case"rect":if(!d){a=Math.SQRT1_2*u,n.rect(e-a,i-a,2*a,2*a);break}h+=Up;case"rectRot":r=Math.cos(h)*u,o=Math.sin(h)*u,n.moveTo(e-r,i-o),n.lineTo(e+o,i-r),n.lineTo(e+r,i+o),n.lineTo(e-o,i+r),n.closePath();break;case"crossRot":h+=Up;case"cross":r=Math.cos(h)*u,o=Math.sin(h)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r);break;case"star":r=Math.cos(h)*u,o=Math.sin(h)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r),h+=Up,r=Math.cos(h)*u,o=Math.sin(h)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o),n.moveTo(e+o,i-r),n.lineTo(e-o,i+r);break;case"line":r=Math.cos(h)*u,o=Math.sin(h)*u,n.moveTo(e-r,i-o),n.lineTo(e+r,i+o);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(h)*u,i+Math.sin(h)*u)}n.fill(),t.borderWidth>0&&n.stroke()}}function Hc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Zv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Jv(n){n.restore()}function dme(n,t,e,i,s){if(!t)return n.lineTo(e.x,e.y);if("middle"===s){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else"after"===s!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function ume(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function zc(n,t,e,i,s,r={}){const o=Sn(t)?t:[t],a=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(n.save(),n.font=s.string,function hme(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),nn(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,r),l=0;l<o.length;++l)c=o[l],a&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),nn(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(c,e,i,r.maxWidth)),n.fillText(c,e,i,r.maxWidth),fme(n,e,i,c,r),i+=s.lineHeight;n.restore()}function fme(n,t,e,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=e-r.actualBoundingBoxAscent,c=e+r.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,d),n.lineTo(a,d),n.stroke()}}function eb(n,t){const{x:e,y:i,w:s,h:r,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-Jn,Bn,!0),n.lineTo(e,i+r-o.bottomLeft),n.arc(e+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Bn,Jn,!0),n.lineTo(e+s-o.bottomRight,i+r),n.arc(e+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Jn,0,!0),n.lineTo(e+s,i+o.topRight),n.arc(e+s-o.topRight,i+o.topRight,o.topRight,0,-Jn,!0),n.lineTo(e+o.topLeft,i)}const pme=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),mme=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function gme(n,t){const e=(""+n).match(pme);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const _me=n=>+n||0;function KD(n,t){const e={},i=$t(t),s=i?Object.keys(t):t,r=$t(n)?i?o=>kt(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of s)e[o]=_me(r(o));return e}function mz(n){return KD(n,{top:"y",right:"x",bottom:"y",left:"x"})}function eh(n){return KD(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ss(n){const t=mz(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ii(n,t){let e=kt((n=n||{}).size,(t=t||jt.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=kt(n.style,t.style);i&&!(""+i).match(mme)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const s={family:kt(n.family,t.family),lineHeight:gme(kt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:kt(n.weight,t.weight),string:""};return s.string=function lme(n){return!n||nn(n.size)||nn(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(s),s}function Qp(n,t,e,i){let r,o,a,s=!0;for(r=0,o=n.length;r<o;++r)if(a=n[r],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==e&&Sn(a)&&(a=a[e%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function yl(n,t){return Object.assign(Object.create(n),t)}function QD(n,t,e){e=e||(o=>n[o]<t);let r,i=n.length-1,s=0;for(;i-s>1;)r=s+i>>1,e(r)?s=r:i=r;return{lo:s,hi:i}}const ba=(n,t,e)=>QD(n,e,i=>n[i][t]<e),vme=(n,t,e)=>QD(n,e,i=>n[i][t]>=e),gz=["push","pop","shift","splice","unshift"];function _z(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);-1!==s&&i.splice(s,1),!(i.length>0)&&(gz.forEach(r=>{delete n[r]}),delete n._chartjs)}function yz(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}function ZD(n,t=[""],e=n,i,s=(()=>n[0])){_r(i)||(i=Mz("_fallback",n));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:s,override:o=>ZD([o,...n],t,e,i)};return new Proxy(r,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete n[0][a],!0),get:(o,a)=>bz(o,a,()=>function Tme(n,t,e,i){let s;for(const r of t)if(s=Mz(wme(r,n),e),_r(s))return JD(n,s)?eE(e,i,n,s):s}(a,t,n,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,a)=>Cz(o).includes(a),ownKeys:o=>Cz(o),set(o,a,l){const c=o._storage||(o._storage=s());return o[a]=c[a]=l,delete o._keys,!0}})}function th(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:vz(n,i),setContext:r=>th(n,r,e,i),override:r=>th(n.override(r),t,e,i)};return new Proxy(s,{deleteProperty:(r,o)=>(delete r[o],delete n[o],!0),get:(r,o,a)=>bz(r,o,()=>function Mme(n,t,e){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=n;let a=i[t];return _l(a)&&o.isScriptable(t)&&(a=function Cme(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(r,o||i),a.delete(n),JD(n,t)&&(t=eE(s._scopes,s,n,t)),t}(t,a,n,e)),Sn(a)&&a.length&&(a=function Sme(n,t,e,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=e;if(_r(r.index)&&i(n))t=t[r.index%t.length];else if($t(t[0])){const l=t,c=s._scopes.filter(d=>d!==l);t=[];for(const d of l){const u=eE(c,s,n,d);t.push(th(u,r,o&&o[n],a))}}return t}(t,a,n,o.isIndexable)),JD(t,a)&&(a=th(a,s,r&&r[t],o)),a}(r,o,a)),getOwnPropertyDescriptor:(r,o)=>r._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(r,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(r,o,a)=>(n[o]=a,delete r[o],!0)})}function vz(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:_l(e)?e:()=>e,isIndexable:_l(i)?i:()=>i}}const wme=(n,t)=>n?n+VD(t):t,JD=(n,t)=>$t(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function bz(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function xz(n,t,e){return _l(n)?n(t,e):n}const Dme=(n,t)=>!0===n?t:"string"==typeof n?Nc(t,n):void 0;function Eme(n,t,e,i,s){for(const r of t){const o=Dme(e,r);if(o){n.add(o);const a=xz(o._fallback,e,s);if(_r(a)&&a!==e&&a!==i)return a}else if(!1===o&&_r(i)&&e!==i)return null}return!1}function eE(n,t,e,i){const s=t._rootScopes,r=xz(t._fallback,e,i),o=[...n,...s],a=new Set;a.add(i);let l=wz(a,o,e,r||e,i);return!(null===l||_r(r)&&r!==e&&(l=wz(a,o,r,l,i),null===l))&&ZD(Array.from(a),[""],s,r,()=>function Ame(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return Sn(s)&&$t(e)?e:s}(t,e,i))}function wz(n,t,e,i,s){for(;e;)e=Eme(n,t,e,i,s);return e}function Mz(n,t){for(const e of t){if(!e)continue;const i=e[n];if(_r(i))return i}}function Cz(n){let t=n._keys;return t||(t=n._keys=function Rme(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}const kme=Number.EPSILON||1e-14,nh=(n,t)=>t<n.length&&!n[t].skip&&n[t],Sz=n=>"x"===n?"y":"x";function Ime(n,t,e,i){const s=n.skip?t:n,r=t,o=e.skip?t:e,a=zD(r,s),l=zD(o,r);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=i*c,h=i*d;return{previous:{x:r.x-u*(o.x-s.x),y:r.y-u*(o.y-s.y)},next:{x:r.x+h*(o.x-s.x),y:r.y+h*(o.y-s.y)}}}function tb(n,t,e){return Math.max(Math.min(n,e),t)}function Nme(n,t,e,i,s){let r,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),"monotone"===t.cubicInterpolationMode)!function Fme(n,t="x"){const e=Sz(t),i=n.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=nh(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=nh(n,o+1),l){if(c){const d=c[t]-l[t];s[o]=0!==d?(c[e]-l[e])/d:0}r[o]=a?c?So(s[o-1])!==So(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}(function Pme(n,t,e){const i=n.length;let s,r,o,a,l,c=nh(n,0);for(let d=0;d<i-1;++d)if(l=c,c=nh(n,d+1),l&&c){if(jp(t[d],0,kme)){e[d]=e[d+1]=0;continue}s=e[d]/t[d],r=e[d+1]/t[d],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),e[d]=s*o*t[d],e[d+1]=r*o*t[d])}})(n,s,r),function Ome(n,t,e="x"){const i=Sz(e),s=n.length;let r,o,a,l=nh(n,0);for(let c=0;c<s;++c){if(o=a,a=l,l=nh(n,c+1),!a)continue;const d=a[e],u=a[i];o&&(r=(d-o[e])/3,a[`cp1${e}`]=d-r,a[`cp1${i}`]=u-r*t[c]),l&&(r=(l[e]-d)/3,a[`cp2${e}`]=d+r,a[`cp2${i}`]=u+r*t[c])}}(n,r,t)}(n,s);else{let c=i?n[n.length-1]:n[0];for(r=0,o=n.length;r<o;++r)a=n[r],l=Ime(c,a,n[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&function Lme(n,t){let e,i,s,r,o,a=Hc(n[0],t);for(e=0,i=n.length;e<i;++e)o=r,r=a,a=e<i-1&&Hc(n[e+1],t),r&&(s=n[e],o&&(s.cp1x=tb(s.cp1x,t.left,t.right),s.cp1y=tb(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=tb(s.cp2x,t.left,t.right),s.cp2y=tb(s.cp2y,t.top,t.bottom)))}(n,e)}function Dz(){return"undefined"!=typeof window&&"undefined"!=typeof document}function tE(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function nb(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const ib=n=>window.getComputedStyle(n,null),Vme=["top","right","bottom","left"];function Uc(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const r=Vme[s];i[r]=parseFloat(n[t+"-"+r+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function Ez(n,t){const{canvas:e,currentDevicePixelRatio:i}=t,s=ib(e),r="border-box"===s.boxSizing,o=Uc(s,"padding"),a=Uc(s,"border","width"),{x:l,y:c,box:d}=function zme(n,t){const e=n.native||n,i=e.touches,s=i&&i.length?i[0]:e,{offsetX:r,offsetY:o}=s;let l,c,a=!1;if(((n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot))(r,o,e.target))l=r,c=o;else{const d=t.getBoundingClientRect();l=s.clientX-d.left,c=s.clientY-d.top,a=!0}return{x:l,y:c,box:a}}(n,e),u=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:f,height:p}=t;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-u)/f*e.width/i),y:Math.round((c-h)/p*e.height/i)}}const nE=n=>Math.round(10*n)/10;function Az(n,t,e){const i=t||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=s/i,n.width=r/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==s||o.width!==r)&&(n.currentDevicePixelRatio=i,o.height=s,o.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0)}const jme=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return n}();function Tz(n,t){const e=function Bme(n,t){return ib(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Gc(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Wme(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function $me(n,t,e,i){const s={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},o=Gc(n,s,e),a=Gc(s,r,e),l=Gc(r,t,e),c=Gc(o,a,e),d=Gc(a,l,e);return Gc(c,d,e)}const Rz=new Map;function Zp(n,t,e){return function qme(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Rz.get(e);return i||(i=new Intl.NumberFormat(n,t),Rz.set(e,i)),i}(t,e).format(n)}function ih(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function kz(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Iz(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Pz(n){return"angle"===n?{between:Wp,compare:Hpe,normalize:Ws}:{between:va,compare:(t,e)=>t-e,normalize:t=>t}}function Oz({start:n,end:t,count:e,loop:i,style:s}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:s}}function Fz(n,t,e){if(!e)return[n];const{property:i,start:s,end:r}=e,o=t.length,{compare:a,between:l,normalize:c}=Pz(i),{start:d,end:u,loop:h,style:f}=function Kme(n,t,e){const{property:i,start:s,end:r}=e,{between:o,normalize:a}=Pz(i),l=t.length;let h,f,{start:c,end:d,loop:u}=n;if(u){for(c+=l,d+=l,h=0,f=l;h<f&&o(a(t[c%l][i]),s,r);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:u,style:n.style}}(n,t,e),p=[];let _,y,v,m=!1,g=null;for(let E=d,I=d;E<=u;++E)y=t[E%o],!y.skip&&(_=c(y[i]),_!==v&&(m=l(_,s,r),null===g&&(m||l(s,v,_)&&0!==a(s,v))&&(g=0===a(_,s)?E:I),null!==g&&(!m||0===a(r,_)||l(r,v,_))&&(p.push(Oz({start:g,end:E,loop:h,count:o,style:f})),g=null),I=E,v=_));return null!==g&&p.push(Oz({start:g,end:u,loop:h,count:o,style:f})),p}function Lz(n,t){const e=[],i=n.segments;for(let s=0;s<i.length;s++){const r=Fz(i[s],n.points,t);r.length&&e.push(...r)}return e}function Bz(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function tge(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var xa=new class nge{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.duration;e.listeners[s].forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=WH.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l,o=r.length-1,a=!1;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=r.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);!e||(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const Vz="transparent",ige={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=fz(n||Vz),s=i.valid&&fz(t||Vz);return s&&s.valid?s.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class sge{constructor(t,e,i,s){const r=e[i];s=Qp([t.to,s,r,t.from]);const o=Qp([t.from,r,s]);this._active=!0,this._fn=t.fn||ige[t.type||typeof o],this._easing=$p[t.easing]||$p.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Qp([t.to,e,s,t.from]),this._from=Qp([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||e<i),!this._active)return this._target[s]=a,void this._notify(!0);e<0?this._target[s]=r:(l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}jt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const age=Object.keys(jt.animation);jt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),jt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),jt.describe("animations",{_fallback:"animation"}),jt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class Hz{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!$t(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!$t(s))return;const r={};for(const o of age)r[o]=s[o];(Sn(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,r)})})}_animateOptions(t,e){const i=e.options,s=function cge(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&function lge(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,e){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if("$"===c.charAt(0))continue;if("options"===c){s.push(...this._animateOptions(t,e));continue}const d=e[c];let u=r[c];const h=i.get(c);if(u){if(h&&u.active()){u.update(h,d,a);continue}u.cancel()}h&&h.duration?(r[c]=u=new sge(h,t,c,d),s.push(u)):t[c]=d}return s}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(xa.add(this._chart,i),!0):void 0}}function zz(n,t){const e=n&&n.options||{},i=e.reverse,s=void 0===e.min?t:0,r=void 0===e.max?t:0;return{start:i?r:s,end:i?s:r}}function Uz(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)e.push(i[s].index);return e}function Gz(n,t,e,i={}){const s=n.keys,r="single"===i.mode;let o,a,l,c;if(null!==t){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===e){if(i.all)continue;break}c=n.values[l],ai(c)&&(r||0===t||So(t)===So(c))&&(t+=c)}return t}}function jz(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function mge(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Wz(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(e&&r>0||!e&&r<0)return s.index}return null}function $z(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,d=function fge(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(r,o,i),u=t.length;let h;for(let f=0;f<u;++f){const p=t[f],{[l]:m,[c]:g}=p;h=(p._stacks||(p._stacks={}))[c]=mge(s,d,m),h[a]=g,h._top=Wz(h,o,!0,i.type),h._bottom=Wz(h,o,!1,i.type)}}function iE(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Jp(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const r=s._stacks;if(!r||void 0===r[i]||void 0===r[i][e])return;delete r[i][e]}}}const sE=n=>"reset"===n||"none"===n,qz=(n,t)=>t?n:Object.assign({},n);let wa=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jz(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Jp(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,s=this.getDataset(),r=(h,f,p,m)=>"x"===h?f:"r"===h?m:p,o=i.xAxisID=kt(s.xAxisID,iE(e,"x")),a=i.yAxisID=kt(s.yAxisID,iE(e,"y")),l=i.rAxisID=kt(s.rAxisID,iE(e,"r")),c=i.indexAxis,d=i.iAxisID=r(c,o,a,l),u=i.vAxisID=r(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(d),i.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_z(this._data,this),e._stacked&&Jp(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),s=this._data;if($t(i))this._data=function hge(n){const t=Object.keys(n),e=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],e[i]={x:r,y:n[r]};return e}(i);else if(s!==i){if(s){_z(s,this);const r=this._cachedMeta;Jp(r),r._parsed=[]}i&&Object.isExtensible(i)&&function xme(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),gz.forEach(e=>{const i="_onData"+VD(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...r)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,s=this.getDataset();let r=!1;this._dataCheck();const o=i._stacked;i._stacked=jz(i.vScale,i),i.stack!==s.stack&&(r=!0,Jp(i),i.stack=s.stack),this._resyncElements(e),(r||o!==i._stacked)&&$z(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),s=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:s,_data:r}=this,{iScale:o,_stacked:a}=s,l=o.axis;let u,h,f,c=0===e&&i===r.length||s._sorted,d=e>0&&s._parsed[e-1];if(!1===this._parsing)s._parsed=r,s._sorted=!0,f=r;else{f=Sn(r[e])?this.parseArrayData(s,r,e,i):$t(r[e])?this.parseObjectData(s,r,e,i):this.parsePrimitiveData(s,r,e,i);const p=()=>null===h[l]||d&&h[l]<d[l];for(u=0;u<i;++u)s._parsed[u+e]=h=f[u],c&&(p()&&(c=!1),d=h);s._sorted=c}a&&$z(this,f)}parsePrimitiveData(e,i,s,r){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,d=o.getLabels(),u=o===a,h=new Array(r);let f,p,m;for(f=0,p=r;f<p;++f)m=f+s,h[f]={[l]:u||o.parse(d[m],m),[c]:a.parse(i[m],m)};return h}parseArrayData(e,i,s,r){const{xScale:o,yScale:a}=e,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+s,h=i[u],l[c]={x:o.parse(h[0],u),y:a.parse(h[1],u)};return l}parseObjectData(e,i,s,r){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d=new Array(r);let u,h,f,p;for(u=0,h=r;u<h;++u)f=u+s,p=i[f],d[u]={x:o.parse(Nc(p,l),f),y:a.parse(Nc(p,c),f)};return d}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,s){const o=this._cachedMeta,a=i[e.axis];return Gz({keys:Uz(this.chart,!0),values:i._stacks[e.axis]},a,o.index,{mode:s})}updateRangeFromParsed(e,i,s,r){const o=s[i.axis];let a=null===o?NaN:o;const l=r&&s._stacks[i.axis];r&&l&&(r.values=l,a=Gz(r,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const s=this._cachedMeta,r=s._parsed,o=s._sorted&&e===s.iScale,a=r.length,l=this._getOtherScale(e),c=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Uz(this.chart,!0),values:null})(i,s),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=function pge(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}(l);let f,p;function m(){p=r[f];const g=p[l.axis];return!ai(p[e.axis])||u>g||h<g}for(f=0;f<a&&(m()||(this.updateRangeFromParsed(d,e,p,c),!o));++f);if(o)for(f=a-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(d,e,p,c);break}return d}getAllParsedValues(e){const i=this._cachedMeta._parsed,s=[];let r,o,a;for(r=0,o=i.length;r<o;++r)a=i[r][e.axis],ai(a)&&s.push(a);return s}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,s=i.iScale,r=i.vScale,o=this.getParsed(e);return{label:s?""+s.getLabelForValue(o[s.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function uge(n){let t,e,i,s;return $t(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:!1===n}}(kt(this.options.clip,function dge(n,t,e){if(!1===e)return!1;const i=zz(n,e),s=zz(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this._cachedMeta,r=s.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||r.length-l,d=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(e,o,l,c),u=l;u<l+c;++u){const h=r[u];h.hidden||(h.active&&d?a.push(h):h.draw(e,o))}for(u=0;u<a.length;++u)a[u].draw(e,o)}getStyle(e,i){const s=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(e||0,s)}getContext(e,i,s){const r=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=function _ge(n,t,e){return yl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=r.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function gge(n,t){return yl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=s,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",s){const r="active"===i,o=this._cachedDataOpts,a=e+"-"+i,l=o[a],c=this.enableOptionSharing&&_r(s);if(l)return qz(l,c);const d=this.chart.config,u=d.datasetElementScopeKeys(this._type,e),h=r?[`${e}Hover`,"hover",e,""]:[e,""],f=d.getOptionScopes(this.getDataset(),u),p=Object.keys(jt.elements[e]),g=d.resolveNamedOptions(f,p,()=>this.getContext(s,r),h);return g.$shared&&(g.$shared=c,o[a]=Object.freeze(qz(g,c))),g}_resolveAnimations(e,i,s){const r=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(!1!==r.options.animation){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,i),f=u.getOptionScopes(this.getDataset(),h);c=u.createResolver(f,this.getContext(e,s,i))}const d=new Hz(r,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(d)),d}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||sE(e)||this.chart._animationsDisabled}updateElement(e,i,s,r){sE(r)?Object.assign(e,s):this._resolveAnimations(i,r).update(e,s)}updateSharedOptions(e,i,s){e&&!sE(i)&&this._resolveAnimations(void 0,i).update(e,s)}_setStyle(e,i,s,r){e.active=r;const o=this.getStyle(i,r);this._resolveAnimations(i,s,r).update(e,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,s){this._setStyle(e,s,"active",!1)}setHoverStyle(e,i,s){this._setStyle(e,s,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,s=this._cachedMeta.data;for(const[l,c,d]of this._syncList)this[l](c,d);this._syncList=[];const r=s.length,o=i.length,a=Math.min(o,r);a&&this.parse(0,a),o>r?this._insertElements(r,o-r,e):o<r&&this._removeElements(o,r-o)}_insertElements(e,i,s=!0){const r=this._cachedMeta,o=r.data,a=e+i;let l;const c=d=>{for(d.length+=i,l=d.length-1;l>=a;l--)d[l]=d[l-i]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(r._parsed),this.parse(e,i),s&&this.updateElements(o,e,i,"reset")}updateElements(e,i,s,r){}_removeElements(e,i){const s=this._cachedMeta;if(this._parsing){const r=s._parsed.splice(e,i);s._stacked&&Jp(s,r)}s.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,s,r]=e;this[i](s,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const s=arguments.length-2;s&&this._sync(["_insertElements",e,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function bge(n){const t=n.iScale,e=function vge(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=e.length;s<r;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=yz(i.sort((s,r)=>s-r))}return n._cache.$bar}(t,n.type);let s,r,o,a,i=t._length;const l=()=>{32767===o||-32768===o||(_r(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=e.length;s<r;++s)o=t.getPixelForValue(e[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function Yz(n,t,e,i){return Sn(n)?function Mge(n,t,e,i){const s=e.parse(n[0],i),r=e.parse(n[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Xz(n,t,e,i){const s=n.iScale,r=n.vScale,o=s.getLabels(),a=s===r,l=[];let c,d,u,h;for(c=e,d=e+i;c<d;++c)h=t[c],u={},u[s.axis]=a||s.parse(o[c],c),l.push(Yz(h,u,r,c));return l}function rE(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function Dge(n,t,e,i){let s=t.borderSkipped;const r={};if(!s)return void(n.borderSkipped=r);const{start:o,end:a,reverse:l,top:c,bottom:d}=function Sge(n){let t,e,i,s,r;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:e,end:i,reverse:t,top:s,bottom:r}}(n);"middle"===s&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=c:(e._bottom||0)===i?s=d:(r[Kz(d,o,a,l)]=!0,s=c)),r[Kz(s,o,a,l)]=!0,n.borderSkipped=r}function Kz(n,t,e,i){return i?(n=function Ege(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=Qz(n,e,t)):n=Qz(n,t,e),n}function Qz(n,t,e){return"start"===n?t:"end"===n?e:n}function Age(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}wa.prototype.datasetElementType=null,wa.prototype.dataElementType=null;let Zz=(()=>{class n extends wa{parsePrimitiveData(e,i,s,r){return Xz(e,i,s,r)}parseArrayData(e,i,s,r){return Xz(e,i,s,r)}parseObjectData(e,i,s,r){const{iScale:o,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,d="x"===o.axis?l:c,u="x"===a.axis?l:c,h=[];let f,p,m,g;for(f=s,p=s+r;f<p;++f)g=i[f],m={},m[o.axis]=o.parse(Nc(g,d),f),h.push(Yz(Nc(g,u),m,a,f));return h}updateRangeFromParsed(e,i,s,r){super.updateRangeFromParsed(e,i,s,r);const o=s._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:s,vScale:r}=i,o=this.getParsed(e),a=o._custom,l=rE(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+s.getLabelForValue(o[s.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,s,r){const o="reset"===r,{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),d=l.isHorizontal(),u=this._getRuler(),h=this.resolveDataElementOptions(i,r),f=this.getSharedOptions(h),p=this.includeOptions(r,f);this.updateSharedOptions(f,r,h);for(let m=i;m<i+s;m++){const g=this.getParsed(m),_=o||nn(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(m),y=this._calculateBarIndexPixels(m,u),v=(g._stacks||{})[l.axis],b={horizontal:d,base:_.base,enableBorderRadius:!v||rE(g._custom)||a===v._top||a===v._bottom,x:d?_.head:y.center,y:d?y.center:_.head,height:d?y.size:Math.abs(_.size),width:d?Math.abs(_.size):y.size};p&&(b.options=f||this.resolveDataElementOptions(m,e[m].active?"active":r));const w=b.options||e[m].options;Dge(b,w,v,a),Age(b,w,u.ratio),this.updateElement(e[m],m,b,r)}}_getStacks(e,i){const r=this._cachedMeta.iScale,o=r.getMatchingVisibleMetas(this._type),a=r.options.stacked,l=o.length,c=[];let d,u;for(d=0;d<l;++d)if(u=o[d],u.controller.options.grouped){if(void 0!==i){const h=u.controller.getParsed(i)[u.controller._cachedMeta.vScale.axis];if(nn(h)||isNaN(h))continue}if((!1===a||-1===c.indexOf(u.stack)||void 0===a&&void 0===u.stack)&&c.push(u.stack),u.index===e)break}return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,s){const r=this._getStacks(e,s),o=void 0!==i?r.indexOf(i):-1;return-1===o?r.length-1:o}_getRuler(){const e=this.options,i=this._cachedMeta,s=i.iScale,r=[];let o,a;for(o=0,a=i.data.length;o<a;++o)r.push(s.getPixelForValue(this.getParsed(o)[s.axis],o));const l=e.barThickness;return{min:l||bge(i),pixels:r,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,d=rE(c);let p,m,u=l[i.axis],h=0,f=s?this.applyStack(i,l,s):u;f!==u&&(h=f-u,f=u),d&&(u=c.barStart,f=c.barEnd-c.barStart,0!==u&&So(u)!==So(c.barEnd)&&(h=0),h+=u);const g=nn(r)||d?h:r;let _=i.getPixelForValue(g);if(p=this.chart.getDataVisibility(e)?i.getPixelForValue(h+f):_,m=p-_,Math.abs(m)<o&&(m=function Cge(n,t,e){return 0!==n?So(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(m,i,a)*o,u===a&&(_-=m/2),p=_+m),_===i.getPixelForValue(a)){const y=So(m)*i.getLineWidthForValue(a)/2;_+=y,m-=y}return{size:m,base:_,head:p,center:p+m/2}}_calculateBarIndexPixels(e,i){const s=i.scale,r=this.options,o=r.skipNull,a=kt(r.maxBarThickness,1/0);let l,c;if(i.grouped){const d=o?this._getStackCount(e):i.stackCount,u="flex"===r.barThickness?function wge(n,t,e,i){const s=t.pixels,r=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=e.categoryPercentage;null===o&&(o=r-(null===a?t.end-t.start:a-r)),null===a&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}(e,i,r,d):function xge(n,t,e,i){const s=e.barThickness;let r,o;return nn(s)?(r=t.min*e.categoryPercentage,o=e.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[n]-r/2}}(e,i,r,d),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=u.start+u.chunk*h+u.chunk/2,c=Math.min(a,u.chunk*u.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,i=e.vScale,s=e.data,r=s.length;let o=0;for(;o<r;++o)null!==this.getParsed(o)[i.axis]&&s[o].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),Jz=(()=>{class n extends wa{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,s,r){const o=super.parsePrimitiveData(e,i,s,r);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+s).radius;return o}parseArrayData(e,i,s,r){const o=super.parseArrayData(e,i,s,r);for(let a=0;a<o.length;a++)o[a]._custom=kt(i[s+a][2],this.resolveDataElementOptions(a+s).radius);return o}parseObjectData(e,i,s,r){const o=super.parseObjectData(e,i,s,r);for(let a=0;a<o.length;a++){const l=i[s+a];o[a]._custom=kt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+s).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let s=e.length-1;s>=0;--s)i=Math.max(i,e[s].size(this.resolveDataElementOptions(s))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:s,yScale:r}=i,o=this.getParsed(e),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i.label,value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:a,vScale:l}=this._cachedMeta,c=this.resolveDataElementOptions(i,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),h=a.axis,f=l.axis;for(let p=i;p<i+s;p++){const m=e[p],g=!o&&this.getParsed(p),_={},y=_[h]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[h]),v=_[f]=o?l.getBasePixel():l.getPixelForValue(g[f]);_.skip=isNaN(y)||isNaN(v),u&&(_.options=this.resolveDataElementOptions(p,m.active?"active":r),o&&(_.options.radius=0)),this.updateElement(m,p,_,r)}this.updateSharedOptions(d,r,c)}resolveDataElementOptions(e,i){const s=this.getParsed(e);let r=super.resolveDataElementOptions(e,i);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return"active"!==i&&(r.radius=0),r.radius+=kt(s&&s._custom,o),r}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),oE=(()=>{class n extends wa{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const s=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=s;else{let a,l,o=c=>+s[c];if($t(s[e])){const{key:c="value"}=this._parsing;o=d=>+Nc(s[d],c)}for(a=e,l=e+i;a<l;++a)r._parsed[a]=o(a)}}_getRotation(){return Kr(this.options.rotation-90)}_getCircumference(){return Kr(this.options.circumference)}_getRotationExtents(){let e=vn,i=-vn;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)){const r=this.chart.getDatasetMeta(s).controller,o=r._getRotation(),a=r._getCircumference();e=Math.min(e,o),i=Math.max(i,o+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:s}=i,r=this._cachedMeta,o=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(s.width,s.height)-a)/2,0),c=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,l),1),d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function Tge(n,t,e){let i=1,s=1,r=0,o=0;if(t<vn){const a=n,l=a+t,c=Math.cos(a),d=Math.sin(a),u=Math.cos(l),h=Math.sin(l),f=(v,b,w)=>Wp(v,a,l,!0)?1:Math.max(b,b*e,w,w*e),p=(v,b,w)=>Wp(v,a,l,!0)?-1:Math.min(b,b*e,w,w*e),m=f(0,c,u),g=f(Jn,d,h),_=p(Bn,c,u),y=p(Bn+Jn,d,h);i=(m-_)/2,s=(g-y)/2,r=-(m+_)/2,o=-(g+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}(h,u,c),v=Math.max(Math.min((s.width-a)/f,(s.height-a)/p)/2,0),b=qH(this.options.radius,v),C=(b-Math.max(b*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=g*b,r.total=this.calculateTotal(),this.outerRadius=b-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*d,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){const s=this.options,r=this._cachedMeta,o=this._getCircumference();return i&&s.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*o/vn)}updateElements(e,i,s,r){const o="reset"===r,a=this.chart,l=a.chartArea,u=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&a.options.animation.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,g=this.resolveDataElementOptions(i,r),_=this.getSharedOptions(g),y=this.includeOptions(r,_);let b,v=this._getRotation();for(b=0;b<i;++b)v+=this._circumference(b,o);for(b=i;b<i+s;++b){const w=this._circumference(b,o),C=e[b],S={x:u+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:m,innerRadius:p};y&&(S.options=_||this.resolveDataElementOptions(b,C.active?"active":r)),v+=w,this.updateElement(C,b,S,r)}this.updateSharedOptions(_,r,g)}calculateTotal(){const e=this._cachedMeta,i=e.data;let r,s=0;for(r=0;r<i.length;r++){const o=e._parsed[r];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!i[r].hidden&&(s+=Math.abs(o))}return s}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?vn*(Math.abs(e)/i):0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=Zp(this._cachedMeta._parsed[e],s.options.locale);return{label:r[e]||"",value:o}}getMaxBorderWidth(e){let i=0;const s=this.chart;let r,o,a,l,c;if(!e)for(r=0,o=s.data.datasets.length;r<o;++r)if(s.isDatasetVisible(r)){a=s.getDatasetMeta(r),e=a.data,l=a.controller;break}if(!e)return 0;for(r=0,o=e.length;r<o;++r)c=l.resolveDataElementOptions(r),"inner"!==c.borderAlign&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let s=0,r=e.length;s<r;++s){const o=this.resolveDataElementOptions(s);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let s=0;s<e;++s)this.chart.isDatasetVisible(s)&&(i+=this._getRingWeight(s));return i}_getRingWeight(e){return Math.max(kt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const a=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Sn(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),aE=(()=>{class n extends wa{initialize(){this.enableOptionSharing=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:s,data:r=[],_dataset:o}=i,a=this.chart._animationsDisabled;let{start:l,count:c}=function Rge(n,t,e){const i=t.length;let s=0,r=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:d,minDefined:u,maxDefined:h}=o.getUserBounds();u&&(s=Ui(Math.min(ba(a,o.axis,c).lo,e?i:ba(t,l,o.getPixelForValue(c)).lo),0,i-1)),r=h?Ui(Math.max(ba(a,o.axis,d).hi+1,e?0:ba(t,l,o.getPixelForValue(d)).hi+1),s,i)-s:i-s}return{start:s,count:r}}(i,r,a);this._drawStart=l,this._drawCount=c,function kge(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,s={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,s),r}(i)&&(l=0,c=r.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!o._decimated,s.points=r;const d=this.resolveDatasetElementOptions(e);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(s,void 0,{animated:!a,options:d},e),this.updateElements(r,l,c,e)}updateElements(e,i,s,r){const o="reset"===r,{iScale:a,vScale:l,_stacked:c,_dataset:d}=this._cachedMeta,u=this.resolveDataElementOptions(i,r),h=this.getSharedOptions(u),f=this.includeOptions(r,h),p=a.axis,m=l.axis,{spanGaps:g,segment:_}=this.options,y=Gp(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===r;let b=i>0&&this.getParsed(i-1);for(let w=i;w<i+s;++w){const C=e[w],S=this.getParsed(w),E=v?C:{},I=nn(S[m]),L=E[p]=a.getPixelForValue(S[p],w),M=E[m]=o||I?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,S,c):S[m],w);E.skip=isNaN(L)||isNaN(M)||I,E.stop=w>0&&S[p]-b[p]>y,_&&(E.parsed=S,E.raw=d.data[w]),f&&(E.options=h||this.resolveDataElementOptions(w,C.active?"active":r)),v||this.updateElement(C,w,E,r),b=S}this.updateSharedOptions(h,r,u)}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,s=i.options&&i.options.borderWidth||0,r=e.data||[];if(!r.length)return s;const o=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(s,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),eU=(()=>{class n extends wa{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this.chart,r=s.data.labels||[],o=Zp(this._cachedMeta._parsed[e].r,s.options.locale);return{label:r[e]||"",value:o}}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}_updateRadius(){const e=this.chart,i=e.chartArea,s=e.options,r=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(r/2,0),l=(o-Math.max(s.cutoutPercentage?o/100*s.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,s,r){const o="reset"===r,a=this.chart,l=this.getDataset(),d=a.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,f=u.yCenter,p=u.getIndexAngle(0)-.5*Bn;let g,m=p;const _=360/this.countVisibleElements();for(g=0;g<i;++g)m+=this._computeAngle(g,r,_);for(g=i;g<i+s;g++){const y=e[g];let v=m,b=m+this._computeAngle(g,r,_),w=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(l.data[g]):0;m=b,o&&(d.animateScale&&(w=0),d.animateRotate&&(v=b=p));const C={x:h,y:f,innerRadius:0,outerRadius:w,startAngle:v,endAngle:b,options:this.resolveDataElementOptions(g,y.active?"active":r)};this.updateElement(y,g,C,r)}}countVisibleElements(){const e=this.getDataset();let s=0;return this._cachedMeta.data.forEach((r,o)=>{!isNaN(e.data[o])&&this.chart.getDataVisibility(o)&&s++}),s}_computeAngle(e,i,s){return this.chart.getDataVisibility(e)?Kr(this.resolveDataElementOptions(e,i).angle||s):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((s,r)=>{const a=t.getDatasetMeta(0).controller.getStyle(r);return{text:s,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),tU=(()=>{class n extends oE{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),nU=(()=>{class n extends wa{getLabelAndValue(e){const i=this._cachedMeta.vScale,s=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(s[i.axis])}}update(e){const i=this._cachedMeta,s=i.dataset,r=i.data||[],o=i.iScale.getLabels();if(s.points=r,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(s,void 0,{_loop:!0,_fullLoop:o.length===r.length,options:a},e)}this.updateElements(r,0,r.length,e)}updateElements(e,i,s,r){const o=this.getDataset(),a=this._cachedMeta.rScale,l="reset"===r;for(let c=i;c<i+s;c++){const d=e[c],u=this.resolveDataElementOptions(c,d.active?"active":r),h=a.getPointPositionForValue(c,o.data[c]),f=l?a.xCenter:h.x,p=l?a.yCenter:h.y,m={x:f,y:p,angle:h.angle,skip:isNaN(f)||isNaN(p),options:u};this.updateElement(d,c,m,r)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})(),iU=(()=>{class n extends aE{}return n.id="scatter",n.defaults={showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})();function jc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Pge={_date:(()=>{class n{constructor(e){this.options=e||{}}formats(){return jc()}parse(e,i){return jc()}format(e,i){return jc()}add(e,i,s){return jc()}diff(e,i,s){return jc()}startOf(e,i,s){return jc()}endOf(e,i){return jc()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function em(n,t){return"native"in n?{x:n.x,y:n.y}:Ez(n,t)}function Fge(n,t,e,i){const{controller:s,data:r,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&r.length){const l=a._reversePixels?vme:ba;if(!i)return l(r,t,e);if(s._sharedOptions){const c=r[0],d="function"==typeof c.getRange&&c.getRange(t);if(d){const u=l(r,t,e-d),h=l(r,t,e+d);return{lo:u.lo,hi:h.hi}}}}return{lo:0,hi:r.length-1}}function lE(n,t,e,i,s){const r=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:d}=r[a],{lo:u,hi:h}=Fge(r[a],t,o,s);for(let f=u;f<=h;++f){const p=d[f];p.skip||i(p,c,f)}}}function cE(n,t,e,i){const s=[];return Hc(t,n.chartArea,n._minPadding)&&lE(n,e,t,function(o,a,l){o.inRange(t.x,t.y,i)&&s.push({element:o,datasetIndex:a,index:l})},!0),s}function dE(n,t,e,i,s){return Hc(t,n.chartArea,n._minPadding)?"r"!==e||i?function Bge(n,t,e,i,s){let r=[];const o=function Lge(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(e);let a=Number.POSITIVE_INFINITY;return lE(n,e,t,function l(c,d,u){const h=c.inRange(t.x,t.y,s);if(i&&!h)return;const f=c.getCenterPoint(s);if(!Hc(f,n.chartArea,n._minPadding)&&!h)return;const m=o(t,f);m<a?(r=[{element:c,datasetIndex:d,index:u}],a=m):m===a&&r.push({element:c,datasetIndex:d,index:u})}),r}(n,t,e,i,s):function Nge(n,t,e,i){let s=[];return lE(n,e,t,function r(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],i),{angle:u}=tz(o,{x:t.x,y:t.y});Wp(u,c,d)&&s.push({element:o,datasetIndex:a,index:l})}),s}(n,t,e,s):[]}function sU(n,t,e,i){const s=em(t,n),r=[],o=e.axis,a="x"===o?"inXRange":"inYRange";let l=!1;return function Oge(n,t){const e=n.getSortedVisibleDatasetMetas();let i,s,r;for(let o=0,a=e.length;o<a;++o){({index:i,data:s}=e[o]);for(let l=0,c=s.length;l<c;++l)r=s[l],r.skip||t(r,i,l)}}(n,(c,d,u)=>{c[a](s[o],i)&&r.push({element:c,datasetIndex:d,index:u}),c.inRange(s.x,s.y,i)&&(l=!0)}),e.intersect&&!l?[]:r}var Vge={modes:{index(n,t,e,i){const s=em(t,n),r=e.axis||"x",o=e.intersect?cE(n,s,r,i):dE(n,s,r,!1,i),a=[];return o.length?(n.getSortedVisibleDatasetMetas().forEach(l=>{const c=o[0].index,d=l.data[c];d&&!d.skip&&a.push({element:d,datasetIndex:l.index,index:c})}),a):[]},dataset(n,t,e,i){const s=em(t,n),r=e.axis||"xy";let o=e.intersect?cE(n,s,r,i):dE(n,s,r,!1,i);if(o.length>0){const a=o[0].datasetIndex,l=n.getDatasetMeta(a).data;o=[];for(let c=0;c<l.length;++c)o.push({element:l[c],datasetIndex:a,index:c})}return o},point:(n,t,e,i)=>cE(n,em(t,n),e.axis||"xy",i),nearest:(n,t,e,i)=>dE(n,em(t,n),e.axis||"xy",e.intersect,i),x:(n,t,e,i)=>sU(n,t,{axis:"x",intersect:e.intersect},i),y:(n,t,e,i)=>sU(n,t,{axis:"y",intersect:e.intersect},i)}};const rU=["left","top","right","bottom"];function tm(n,t){return n.filter(e=>e.pos===t)}function oU(n,t){return n.filter(e=>-1===rU.indexOf(e.pos)&&e.box.axis===t)}function nm(n,t){return n.sort((e,i)=>{const s=t?i:e,r=t?e:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function aU(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function lU(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function jge(n,t,e,i){const{pos:s,box:r}=e,o=n.maxPadding;if(!$t(s)){e.size&&(n[s]-=e.size);const u=i[e.stack]||{size:0,count:1};u.size=Math.max(u.size,e.horizontal?r.height:r.width),e.size=u.size/u.count,n[s]+=e.size}r.getPadding&&lU(o,r.getPadding());const a=Math.max(0,t.outerWidth-aU(o,n,"left","right")),l=Math.max(0,t.outerHeight-aU(o,n,"top","bottom")),c=a!==n.w,d=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:d}:{same:d,other:c}}function $ge(n,t){const e=t.maxPadding;return function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],e[o])}),r}(n?["left","right"]:["top","bottom"])}function im(n,t,e,i){const s=[];let r,o,a,l,c,d;for(r=0,o=n.length,c=0;r<o;++r){a=n[r],l=a.box,l.update(a.width||t.w,a.height||t.h,$ge(a.horizontal,t));const{same:u,other:h}=jge(t,e,a,i);c|=u&&s.length,d=d||h,l.fullSize||s.push(a)}return c&&im(s,t,e,i)||d}function sb(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function cU(n,t,e,i){const s=e.padding;let{x:r,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const u=t.w*d,h=c.size||l.height;_r(c.start)&&(o=c.start),l.fullSize?sb(l,s.left,o,e.outerWidth-s.right-s.left,h):sb(l,t.left+c.placed,o,u,h),c.start=o,c.placed+=u,o=l.bottom}else{const u=t.h*d,h=c.size||l.width;_r(c.start)&&(r=c.start),l.fullSize?sb(l,r,s.top,h,e.outerHeight-s.bottom-s.top):sb(l,r,t.top+c.placed,h,u),c.start=r,c.placed+=u,r=l.right}}t.x=r,t.y=o}jt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var rs={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=ss(n.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(e-s.height,0),a=function Gge(n){const t=function Hge(n){const t=[];let e,i,s,r,o,a;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],({position:r,options:{stack:o,stackWeight:a=1}}=s),t.push({index:e,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}(n),e=nm(t.filter(c=>c.box.fullSize),!0),i=nm(tm(t,"left"),!0),s=nm(tm(t,"right")),r=nm(tm(t,"top"),!0),o=nm(tm(t,"bottom")),a=oU(t,"x"),l=oU(t,"y");return{fullSize:e,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:tm(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}(n.boxes),l=a.vertical,c=a.horizontal;hn(n.boxes,m=>{"function"==typeof m.beforeLayout&&m.beforeLayout()});const d=l.reduce((m,g)=>g.box.options&&!1===g.box.options.display?m:m+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},s);lU(h,ss(i));const f=Object.assign({maxPadding:h,w:r,h:o,x:s.left,y:s.top},s),p=function Uge(n,t){const e=function zge(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:r}=e;if(!i||!rU.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=n.length;r<o;++r){a=n[r];const{fullSize:l}=a.box,c=e[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=d?d*s:l&&t.availableHeight)}return e}(l.concat(c),u);im(a.fullSize,f,u,p),im(l,f,u,p),im(c,f,u,p)&&im(l,f,u,p),function Wge(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(f),cU(a.leftAndTop,f,u,p),f.x+=f.w,f.y+=f.h,cU(a.rightAndBottom,f,u,p),n.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},hn(a.chartArea,m=>{const g=m.box;Object.assign(g,n.chartArea),g.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class dU{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class qge extends dU{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const rb="$chartjs",Yge={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},uU=n=>null===n||""===n,hU=!!jme&&{passive:!0};function Qge(n,t,e){n.canvas.removeEventListener(t,e,hU)}function ob(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function Jge(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ob(a.addedNodes,i),o=o&&!ob(a.removedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function e_e(n,t,e){const i=n.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ob(a.removedNodes,i),o=o&&!ob(a.addedNodes,i);o&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const sm=new Map;let fU=0;function pU(){const n=window.devicePixelRatio;n!==fU&&(fU=n,sm.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function i_e(n,t,e){const i=n.canvas,s=i&&tE(i);if(!s)return;const r=$H((a,l)=>{const c=s.clientWidth;e(a,l),c<s.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;0===c&&0===d||r(c,d)});return o.observe(s),function t_e(n,t){sm.size||window.addEventListener("resize",pU),sm.set(n,t)}(n,r),o}function uE(n,t,e){e&&e.disconnect(),"resize"===t&&function n_e(n){sm.delete(n),sm.size||window.removeEventListener("resize",pU)}(n)}function s_e(n,t,e){const i=n.canvas,s=$H(r=>{null!==n.ctx&&e(function Zge(n,t){const e=Yge[n.type]||n.type,{x:i,y:s}=Ez(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==s?s:null}}(r,n))},n,r=>{const o=r[0];return[o,o.offsetX,o.offsetY]});return function Kge(n,t,e){n.addEventListener(t,e,hU)}(i,t,s),s}class r_e extends dU{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function Xge(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[rb]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",uU(s)){const r=Tz(n,"width");void 0!==r&&(n.width=r)}if(uU(i))if(""===n.style.height)n.height=n.width/(t||2);else{const r=Tz(n,"height");void 0!==r&&(n.height=r)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[rb])return!1;const i=e[rb].initial;["height","width"].forEach(r=>{const o=i[r];nn(o)?e.removeAttribute(r):e.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{e.style[r]=s[r]}),e.width=e.width,delete e[rb],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:Jge,detach:e_e,resize:i_e}[e]||s_e)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];s&&(({attach:uE,detach:uE,resize:uE}[e]||Qge)(t,e,s),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return function Gme(n,t,e,i){const s=ib(n),r=Uc(s,"margin"),o=nb(s.maxWidth,n,"clientWidth")||Gv,a=nb(s.maxHeight,n,"clientHeight")||Gv,l=function Ume(n,t,e){let i,s;if(void 0===t||void 0===e){const r=tE(n);if(r){const o=r.getBoundingClientRect(),a=ib(r),l=Uc(a,"border","width"),c=Uc(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=nb(a.maxWidth,r,"clientWidth"),s=nb(a.maxHeight,r,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||Gv,maxHeight:s||Gv}}(n,t,e);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const u=Uc(s,"border","width"),h=Uc(s,"padding");c-=h.width+u.width,d-=h.height+u.height}return c=Math.max(0,c-r.width),d=Math.max(0,i?Math.floor(c/i):d-r.height),c=nE(Math.min(c,o,l.maxWidth)),d=nE(Math.min(d,a,l.maxHeight)),c&&!d&&(d=nE(c/2)),{width:c,height:d}}(t,e,i,s)}isAttached(t){const e=tE(t);return!(!e||!e.isConnected)}}class Qr{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Gp(this.x)&&Gp(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}}Qr.defaults={},Qr.defaultRoutes=void 0;const mU={values:n=>Sn(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let s,r=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=function a_e(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const o=yr(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zp(n,i,l)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(yr(n)));return 1===i||2===i||5===i?mU.numeric.call(this,n,t,e):""}};var ab={formatters:mU};function lb(n,t,e,i,s){const r=kt(i,0),o=Math.min(kt(s,n.length),n.length);let l,c,d,a=0;for(e=Math.ceil(e),s&&(l=s-i,e=l/Math.floor(l/e)),d=r;d<0;)a++,d=Math.round(r+a*e);for(c=Math.max(r,0);c<o;c++)c===d&&(t.push(n[c]),a++,d=Math.round(r+a*e))}jt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ab.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),jt.route("scale.ticks","color","","color"),jt.route("scale.grid","color","","borderColor"),jt.route("scale.grid","borderColor","","borderColor"),jt.route("scale.title","color","","color"),jt.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),jt.describe("scales",{_fallback:"scale"}),jt.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const gU=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function _U(n,t){const e=[],i=n.length/t,s=n.length;let r=0;for(;r<s;r+=i)e.push(n[Math.floor(r)]);return e}function m_e(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),r=n._startPixel,o=n._endPixel,a=1e-6;let c,l=n.getPixelForTick(s);if(!(e&&(c=1===i?Math.max(l-r,o-l):0===t?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function rm(n){return n.drawTicks?n.tickLength:0}function yU(n,t){if(!n.display)return 0;const e=Ii(n.font,t),i=ss(n.padding);return(Sn(n.text)?n.text.length:1)*e.lineHeight+i.height}function v_e(n,t,e){let i=BD(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class Wc extends Qr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=gr(t,Number.POSITIVE_INFINITY),e=gr(e,Number.NEGATIVE_INFINITY),i=gr(i,Number.POSITIVE_INFINITY),s=gr(s,Number.NEGATIVE_INFINITY),{min:gr(t,i),max:gr(e,s),minDefined:ai(t),maxDefined:ai(e)}}getMinMax(t){let o,{min:e,max:i,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(e=Math.min(e,o.min)),r||(i=Math.max(i,o.max));return e=r&&e>i?i:e,i=s&&e>i?e:i,{min:gr(e,gr(i,e)),max:gr(i,gr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dn(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function yme(n,t,e){const{min:i,max:s}=n,r=qH(t,(s-i)/2),o=(a,l)=>e&&0===a?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?_U(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function l_e(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function c_e(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),s=e.major.enabled?function u_e(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],r=s.length,o=s[0],a=s[r-1],l=[];if(r>i)return function h_e(n,t,e,i){let o,s=0,r=e[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===r&&(t.push(n[o]),s++,r=e[s*i])}(t,l,s,r/i),l;const c=function d_e(n,t,e){const i=function f_e(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),s=t.length/e;if(!i)return Math.max(s,1);const r=function Bpe(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((s,r)=>s-r).pop(),t}(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}(s,t,i);if(r>0){let d,u;const h=r>1?Math.round((a-o)/(r-1)):null;for(lb(t,l,c,nn(h)?0:o-h,o),d=0,u=r-1;d<u;d++)lb(t,l,c,s[d],s[d+1]);return lb(t,l,c,a,nn(h)?t.length:a+h),l}return lb(t,l,c),l}(this,this.ticks),this._labelSizes=null),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dn(this.options.afterUpdate,[this])}beforeSetDimensions(){Dn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dn(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dn(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Dn(e.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Dn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,s=e.minRotation||0,r=e.maxRotation;let a,l,c,o=s;if(!this._isVisible()||!e.display||s>=r||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const d=this._getLabelSizes(),u=d.widest.width,h=d.highest.height,f=Ui(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/i:f/(i-1),u+6>a&&(a=f/(i-(t.offset?.5:1)),l=this.maxHeight-rm(t.grid)-e.padding-yU(t.title,this.chart.options.font),c=Math.sqrt(u*u+h*h),o=HD(Math.min(Math.asin(Ui((d.highest.height+6)/a,-1,1)),Math.asin(Ui(l/c,-1,1))-Math.asin(Ui(h/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dn(this.options.afterCalculateLabelRotation,[this])}beforeFit(){Dn(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=yU(s,e.options.font);if(a?(t.width=this.maxWidth,t.height=rm(r)+l):(t.height=this.maxHeight,t.width=rm(r)+l),i.display&&this.ticks.length){const{first:c,last:d,widest:u,highest:h}=this._getLabelSizes(),f=2*i.padding,p=Kr(this.labelRotation),m=Math.cos(p),g=Math.sin(p);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:g*u.width+m*h.height)+f):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:m*u.width+g*h.height)+f),this._calculatePadding(c,d,g,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,f=0;l?c?(h=s*t.width,f=i*e.height):(h=i*t.height,f=s*e.width):"start"===r?f=e.width:"end"===r?h=t.width:(h=t.width/2,f=e.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((f-u+o)*this.width/(this.width-u),0)}else{let d=e.height/2,u=t.height/2;"start"===r?(d=0,u=t.height):"end"===r&&(d=e.height,u=0),this.paddingTop=d+o,this.paddingBottom=u+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dn(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)nn(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=_U(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:s}=this,r=[],o=[];let c,d,u,h,f,p,m,g,_,y,v,a=0,l=0;for(c=0;c<e;++c){if(h=t[c].label,f=this._resolveTickFontOptions(c),i.font=p=f.string,m=s[p]=s[p]||{data:{},gc:[]},g=f.lineHeight,_=y=0,nn(h)||Sn(h)){if(Sn(h))for(d=0,u=h.length;d<u;++d)v=h[d],!nn(v)&&!Sn(v)&&(_=Kv(i,m.data,m.gc,_,v),y+=g)}else _=Kv(i,m.data,m.gc,_,h),y=g;r.push(_),o.push(y),a=Math.max(_,a),l=Math.max(y,l)}!function g_e(n,t){hn(n,e=>{const i=e.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete e.data[i[r]];i.splice(0,s)}})}(s,e);const b=r.indexOf(a),w=o.indexOf(l),C=S=>({width:r[S]||0,height:o[S]||0});return{first:C(0),last:C(e-1),widest:C(b),highest:C(w),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function zpe(n){return Ui(n,-32768,32767)}(this._alignToPixels?Vc(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function y_e(n,t,e){return yl(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function __e(n,t){return yl(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Kr(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:r,position:o}=s,a=r.offset,l=this.isHorizontal(),d=this.ticks.length+(a?1:0),u=rm(r),h=[],f=r.setContext(this.getContext()),p=f.drawBorder?f.borderWidth:0,m=p/2,g=function(H){return Vc(i,H,p)};let _,y,v,b,w,C,S,E,I,L,M,T;if("top"===o)_=g(this.bottom),C=this.bottom-u,E=_-m,L=g(t.top)+m,T=t.bottom;else if("bottom"===o)_=g(this.top),L=t.top,T=g(t.bottom)-m,C=_+m,E=this.top+u;else if("left"===o)_=g(this.right),w=this.right-u,S=_-m,I=g(t.left)+m,M=t.right;else if("right"===o)_=g(this.left),I=t.left,M=g(t.right)-m,w=_+m,S=this.left+u;else if("x"===e){if("center"===o)_=g((t.top+t.bottom)/2+.5);else if($t(o)){const H=Object.keys(o)[0];_=g(this.chart.scales[H].getPixelForValue(o[H]))}L=t.top,T=t.bottom,C=_+m,E=C+u}else if("y"===e){if("center"===o)_=g((t.left+t.right)/2);else if($t(o)){const H=Object.keys(o)[0];_=g(this.chart.scales[H].getPixelForValue(o[H]))}w=_-m,S=w-u,I=t.left,M=t.right}const W=kt(s.ticks.maxTicksLimit,d),V=Math.max(1,Math.ceil(d/W));for(y=0;y<d;y+=V){const H=r.setContext(this.getContext(y)),O=H.lineWidth,B=H.color,F=r.borderDash||[],$=H.borderDashOffset,Q=H.tickWidth,le=H.tickColor,te=H.tickBorderDash||[],Le=H.tickBorderDashOffset;v=m_e(this,y,a),void 0!==v&&(b=Vc(i,v,O),l?w=S=I=M=b:C=E=L=T=b,h.push({tx1:w,ty1:C,tx2:S,ty2:E,x1:I,y1:L,x2:M,y2:T,width:O,color:B,borderDash:F,borderDashOffset:$,tickWidth:Q,tickColor:le,tickBorderDash:te,tickBorderDashOffset:Le}))}return this._ticksLength=d,this._borderValue=_,h}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:u}=r,h=rm(i.grid),f=h+d,p=u?-d:f,m=-Kr(this.labelRotation),g=[];let _,y,v,b,w,C,S,E,I,L,M,T,W="middle";if("top"===s)C=this.bottom-p,S=this._getXAxisLabelAlignment();else if("bottom"===s)C=this.top+p,S=this._getXAxisLabelAlignment();else if("left"===s){const H=this._getYAxisLabelAlignment(h);S=H.textAlign,w=H.x}else if("right"===s){const H=this._getYAxisLabelAlignment(h);S=H.textAlign,w=H.x}else if("x"===e){if("center"===s)C=(t.top+t.bottom)/2+f;else if($t(s)){const H=Object.keys(s)[0];C=this.chart.scales[H].getPixelForValue(s[H])+f}S=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===s)w=(t.left+t.right)/2-f;else if($t(s)){const H=Object.keys(s)[0];w=this.chart.scales[H].getPixelForValue(s[H])}S=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===l?W="top":"end"===l&&(W="bottom"));const V=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){v=a[_],b=v.label;const H=r.setContext(this.getContext(_));E=this.getPixelForTick(_)+r.labelOffset,I=this._resolveTickFontOptions(_),L=I.lineHeight,M=Sn(b)?b.length:1;const O=M/2,B=H.color,F=H.textStrokeColor,$=H.textStrokeWidth;let Q;if(o?(w=E,T="top"===s?"near"===c||0!==m?-M*L+L/2:"center"===c?-V.highest.height/2-O*L+L:L/2-V.highest.height:"near"===c||0!==m?L/2:"center"===c?V.highest.height/2-O*L:V.highest.height-M*L,u&&(T*=-1)):(C=E,T=(1-M)*L/2),H.showLabelBackdrop){const le=ss(H.backdropPadding),te=V.heights[_],Le=V.widths[_];let Ne=C+T-le.top,Ke=w-le.left;switch(W){case"middle":Ne-=te/2;break;case"bottom":Ne-=te}switch(S){case"center":Ke-=Le/2;break;case"right":Ke-=Le}Q={left:Ke,top:Ne,width:Le+le.width,height:te+le.height,color:H.backdropColor}}g.push({rotation:m,label:b,font:I,color:B,strokeColor:F,strokeWidth:$,textOffset:T,textAlign:S,textBaseline:W,translation:[w,C],backdrop:Q})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Kr(this.labelRotation))return"top"===t?"left":"right";let s="center";return"start"===e.align?s="left":"end"===e.align&&(s="right"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,a=t+r,l=this._getLabelSizes().widest.width;let c,d;return"left"===e?s?(d=this.right+r,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d=this.left)):"right"===e?s?(d=this.left+r,"near"===i?c="right":"center"===i?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,"near"===i?c="left":"center"===i?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:r,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,d)=>{!d.width||!d.color||(i.save(),i.lineWidth=d.width,i.strokeStyle=d.color,i.setLineDash(d.borderDash||[]),i.lineDashOffset=d.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(r=0,o=s.length;r<o;++r){const l=s[r];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,s=i.setContext(this.getContext()),r=i.drawBorder?s.borderWidth:0;if(!r)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Vc(t,this.left,r)-r/2,c=Vc(t,this.right,o)+o/2,d=u=a):(d=Vc(t,this.top,r)-r/2,u=Vc(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=s.borderWidth,e.strokeStyle=s.borderColor,e.beginPath(),e.moveTo(l,d),e.lineTo(c,u),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Zv(i,s);const r=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=r.length;o<a;++o){const l=r[o],c=l.font,d=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)),zc(i,d,0,l.textOffset,c,l)}s&&Jv(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const r=Ii(i.font),o=ss(i.padding),a=i.align;let l=r.lineHeight/2;"bottom"===e||"center"===e||$t(e)?(l+=o.bottom,Sn(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:u,rotation:h}=function b_e(n,t,e,i){const{top:s,left:r,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:d}=l;let h,f,p,u=0;const m=o-s,g=a-r;if(n.isHorizontal()){if(f=is(i,r,a),$t(e)){const _=Object.keys(e)[0];p=d[_].getPixelForValue(e[_])+m-t}else p="center"===e?(c.bottom+c.top)/2+m-t:gU(n,e,t);h=a-r}else{if($t(e)){const _=Object.keys(e)[0];f=d[_].getPixelForValue(e[_])-g+t}else f="center"===e?(c.left+c.right)/2-g+t:gU(n,e,t);p=is(i,o,s),u="left"===e?-Jn:Jn}return{titleX:f,titleY:p,maxWidth:h,rotation:u}}(this,l,e,a);zc(t,i.text,0,0,r,{color:i.color,maxWidth:u,rotation:h,textAlign:v_e(a,e,s),textBaseline:"middle",translation:[c,d]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=kt(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===Wc.prototype.draw?[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:s=>{this.drawLabels(s)}}]:[{z:e,draw:s=>{this.draw(s)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=e.length;r<o;++r){const a=e[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){return Ii(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cb{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function M_e(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,function x_e(n,t,e){const i=Hp(Object.create(null),[e?jt.get(e):{},jt.get(t),n.defaults]);jt.set(t,i),n.defaultRoutes&&function w_e(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),r=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");jt.route(r,s,l,a)})}(t,n.defaultRoutes),n.descriptors&&jt.describe(t,n.descriptors)}(t,o,i),this.override&&jt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in jt[s]&&(delete jt[s][i],this.override&&delete Bc[i])}}var Ma=new class C_e{constructor(){this.controllers=new cb(wa,"datasets",!0),this.elements=new cb(Qr,"elements"),this.plugins=new cb(Object,"plugins"),this.scales=new cb(Wc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):hn(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const s=VD(t);Dn(i["before"+s],[],i),e[t](i),Dn(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(void 0===s)throw new Error('"'+t+'" is not a registered '+i+".");return s}};class S_e{constructor(){this._init=[]}notify(t,e,i,s){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,e,i);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,s){s=s||{};for(const r of t){const o=r.plugin;if(!1===Dn(o[i],[e,s,r.options],o)&&s.cancelable)return!1}return!0}invalidate(){nn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=kt(i.options&&i.options.plugins,{}),r=function D_e(n){const t=[],e=Object.keys(Ma.plugins.items);for(let s=0;s<e.length;s++)t.push(Ma.getPlugin(e[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const r=i[s];-1===t.indexOf(r)&&t.push(r)}return t}(i);return!1!==s||e?function A_e(n,t,e,i){const s=[],r=n.getContext();for(let o=0;o<t.length;o++){const a=t[o],c=E_e(e[a.id],i);null!==c&&s.push({plugin:a,options:T_e(n.config,a,c,r)})}return s}(t,r,s,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function E_e(n,t){return t||!1!==n?!0===n?{}:n:null}function T_e(n,t,e,i){const s=n.pluginScopeKeys(t),r=n.getOptionScopes(e,s);return n.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hE(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(jt.datasets[n]||{}).indexAxis||"x"}function fE(n,t){return"x"===n||"y"===n?n:t.axis||function I_e(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function vU(n){const t=n.options||(n.options={});t.plugins=kt(t.plugins,{}),t.scales=function P_e(n,t){const e=Bc[n.type]||{scales:{}},i=t.scales||{},s=hE(n.type,t),r=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!$t(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=fE(a,l),d=function k_e(n,t){return n===t?"_index_":"_value_"}(c,s),u=e.scales||{};r[c]=r[c]||a,o[a]=zp(Object.create(null),[{axis:c},l,u[c],u[d]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||hE(l,t),u=(Bc[l]||{}).scales||{};Object.keys(u).forEach(h=>{const f=function R_e(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(h,c),p=a[f+"AxisID"]||r[f]||f;o[p]=o[p]||Object.create(null),zp(o[p],[{axis:f},i[p],u[h]])})}),Object.keys(o).forEach(a=>{const l=o[a];zp(l,[jt.scales[l.type],jt.scale])}),o}(n,t)}function bU(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const xU=new Map,wU=new Set;function db(n,t){let e=xU.get(n);return e||(e=t(),xU.set(n,e),wU.add(e)),e}const om=(n,t,e)=>{const i=Nc(t,e);void 0!==i&&n.add(i)};class F_e{constructor(t){this._config=function O_e(n){return(n=n||{}).data=bU(n.data),vU(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bU(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vU(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return db(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return db(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return db(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return db(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(d=>{t&&(l.add(t),d.forEach(u=>om(l,t,u))),d.forEach(u=>om(l,s,u)),d.forEach(u=>om(l,Bc[r]||{},u)),d.forEach(u=>om(l,jt,u)),d.forEach(u=>om(l,YD,u))});const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),wU.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,Bc[e]||{},jt.datasets[e]||{},{type:e},jt,YD]}resolveNamedOptions(t,e,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=MU(this._resolverCache,t,s);let l=o;(function N_e(n,t){const{isScriptable:e,isIndexable:i}=vz(n);for(const s of t){const r=e(s),o=i(s),a=(o||r)&&n[s];if(r&&(_l(a)||L_e(a))||o&&Sn(a))return!0}return!1})(o,e)&&(r.$shared=!1,l=th(o,i=_l(i)?i():i,this.createResolver(t,i,a)));for(const c of e)r[c]=l[c];return r}createResolver(t,e,i=[""],s){const{resolver:r}=MU(this._resolverCache,t,i);return $t(e)?th(r,e,void 0,s):r}}function MU(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let r=i.get(s);return r||(r={resolver:ZD(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const L_e=n=>$t(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||_l(n[e]),!1),V_e=["top","bottom","left","right","chartArea"];function CU(n,t){return"top"===n||"bottom"===n||-1===V_e.indexOf(n)&&"x"===t}function SU(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function DU(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Dn(e&&e.onComplete,[n],t)}function H_e(n){const t=n.chart,e=t.options.animation;Dn(e&&e.onProgress,[n],t)}function EU(n){return Dz()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const ub={},AU=n=>{const t=EU(n);return Object.values(ub).filter(e=>e.canvas===t).pop()};function z_e(n,t,e){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=t){const o=n[s];delete n[s],(e>0||r>t)&&(n[r+e]=o)}}}class am{constructor(t,e){const i=this.config=new F_e(e),s=EU(t),r=AU(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function o_e(n){return!Dz()||"undefined"!=typeof OffscreenCanvas&&n instanceof OffscreenCanvas?qge:r_e}(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;this.id=Tpe(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new S_e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function Epe(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(u=>this.update(u),o.resizeDelay||0),this._dataChanges=[],ub[this.id]=this,a&&l?(xa.listen(this,"complete",DU),xa.listen(this,"progress",H_e),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:r}=this;return nn(t)?e&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Az(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pz(this.canvas,this.ctx),this}stop(){return xa.stop(this),this}resize(t,e){xa.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Az(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Dn(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){hn(this.options.scales||{},(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];e&&(r=r.concat(Object.keys(e).map(o=>{const a=e[o],l=fE(o,a),c="r"===l,d="x"===l;return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),hn(r,o=>{const a=o.options,l=a.id,c=fE(l,a),d=kt(a.type,o.dtype);(void 0===a.position||CU(a.position,c)!==CU(o.dposition))&&(a.position=o.dposition),s[l]=!0;let u=null;l in i&&i[l].type===d?u=i[l]:(u=new(Ma.getScale(d))({id:l,type:d,ctx:this.ctx,chart:this}),i[u.id]=u),u.init(a,t)}),hn(s,(o,a)=>{o||delete i[a]}),hn(i,o=>{rs.configure(this,o,o.options),rs.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(SU("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{0===e.filter(r=>r===i._dataset).length&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const r=e[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||hE(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Ma.getController(a),{datasetElementType:c,dataElementType:d}=jt.datasets[a];Object.assign(l.prototype,{dataElementType:Ma.getElement(d),datasetElementType:c&&Ma.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){hn(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:u}=this.getDatasetMeta(c),h=!s&&-1===r.indexOf(u);u.buildOrUpdateElements(h),o=Math.max(+u.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||hn(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(SU("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){hn(this.scales,t=>{rs.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!KH(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of e)z_e(t,s,"_removeElements"===i?-r:r)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<e;r++)if(!KH(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;rs.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],hn(this.boxes,s=>{i&&"chartArea"===s.position||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,_l(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(xa.has(this)?this.attached&&!xa.running(this)&&xa.start(this):(this.draw(),DU({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,r;for(s=0,r=e.length;s<r;++s){const o=e[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,r=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(s&&Zv(e,{left:!1===i.left?0:r.left-i.left,right:!1===i.right?this.width:r.right+i.right,top:!1===i.top?0:r.top-i.top,bottom:!1===i.bottom?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Jv(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}getElementsAtEventForMode(t,e,i,s){const r=Vge.modes[e];return"function"==typeof r?r(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=yl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);_r(e)?(r.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),xa.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pz(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete ub[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(r,o)=>{e.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};hn(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){hn(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},hn(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let r,o,a,l;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!zv(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const s=this.options.hover,r=(l,c)=>l.filter(d=>!c.some(u=>d.datasetIndex===u.datasetIndex&&d.index===u.index)),o=r(e,t),a=i?t:r(t,e);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:Hc(t,this.chartArea,this._minPadding)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const r=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:r}=this,a=this._getActiveElements(t,s,i,e),l=function Fpe(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),c=function U_e(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Dn(r.onHover,[t,a,this],this),l&&Dn(r.onClick,[t,a,this],this));const d=!zv(a,s);return(d||e)&&(this._active=a,this._updateHoverStyles(a,s,e)),this._lastEvent=c,d}_getActiveElements(t,e,i,s){if("mouseout"===t.type)return[];if(!i)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}const TU=()=>hn(am.instances,n=>n._plugins.invalidate()),vl=!0;function RU(n,t,e){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;n.beginPath(),n.arc(r,o,a,i-c,e+c),l>s?(c=s/l,n.arc(r,o,l,e+c,i-c,!0)):n.arc(r,o,s,e+Jn,i-Jn),n.closePath(),n.clip()}function sh(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function pE(n,t,e,i,s){const{x:r,y:o,startAngle:a,pixelMargin:l,innerRadius:c}=t,d=Math.max(t.outerRadius+i+e-l,0),u=c>0?c+i+e+l:0;let h=0;const f=s-a;if(i){const F=((c>0?c-i:0)+(d>0?d-i:0))/2;h=(f-(0!==F?f*F/(F+i):f))/2}const m=(f-Math.max(.001,f*d-e/Bn)/d)/2,g=a+m+h,_=s-m-h,{outerStart:y,outerEnd:v,innerStart:b,innerEnd:w}=function j_e(n,t,e,i){const s=function G_e(n){return KD(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),r=(e-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(e-Math.min(r,l))*i/2;return Ui(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Ui(s.innerStart,0,o),innerEnd:Ui(s.innerEnd,0,o)}}(t,u,d,_-g),C=d-y,S=d-v,E=g+y/C,I=_-v/S,L=u+b,M=u+w,T=g+b/L,W=_-w/M;if(n.beginPath(),n.arc(r,o,d,E,I),v>0){const O=sh(S,I,r,o);n.arc(O.x,O.y,v,I,_+Jn)}const V=sh(M,_,r,o);if(n.lineTo(V.x,V.y),w>0){const O=sh(M,W,r,o);n.arc(O.x,O.y,w,_+Jn,W+Math.PI)}if(n.arc(r,o,u,_-w/u,g+b/u,!0),b>0){const O=sh(L,T,r,o);n.arc(O.x,O.y,b,T+Math.PI,g-Jn)}const H=sh(C,g,r,o);if(n.lineTo(H.x,H.y),y>0){const O=sh(C,E,r,o);n.arc(O.x,O.y,y,g-Jn,E)}n.closePath()}Object.defineProperties(am,{defaults:{enumerable:vl,value:jt},instances:{enumerable:vl,value:ub},overrides:{enumerable:vl,value:Bc},registry:{enumerable:vl,value:Ma},version:{enumerable:vl,value:"3.7.1"},getChart:{enumerable:vl,value:AU},register:{enumerable:vl,value:(...n)=>{Ma.add(...n),TU()}},unregister:{enumerable:vl,value:(...n)=>{Ma.remove(...n),TU()}}});class lm extends Qr{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const s=this.getProps(["x","y"],i),{angle:r,distance:o}=tz(s,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:d,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,p=kt(u,l-a)>=vn||Wp(r,a,l),m=va(o,c+h,d+h);return p&&m}getCenterPoint(t){const{x:e,y:i,startAngle:s,endAngle:r,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,d=(s+r)/2,u=(o+a+c+l)/2;return{x:e+Math.cos(d)*u,y:i+Math.sin(d)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,s=(e.offset||0)/2,r=(e.spacing||0)/2;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>vn?Math.floor(i/vn):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let o=0;if(s){o=s/2;const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*o,Math.sin(l)*o),this.circumference>=Bn&&(o=s)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const a=function W_e(n,t,e,i){const{fullCircles:s,startAngle:r,circumference:o}=t;let a=t.endAngle;if(s){pE(n,t,e,i,r+vn);for(let l=0;l<s;++l)n.fill();isNaN(o)||(a=r+o%vn,o%vn==0&&(a+=vn))}return pE(n,t,e,i,a),n.fill(),a}(t,this,o,r);(function q_e(n,t,e,i,s){const{options:r}=t,{borderWidth:o,borderJoinStyle:a}=r,l="inner"===r.borderAlign;!o||(l?(n.lineWidth=2*o,n.lineJoin=a||"round"):(n.lineWidth=o,n.lineJoin=a||"bevel"),t.fullCircles&&function $_e(n,t,e){const{x:i,y:s,startAngle:r,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let d;for(e&&RU(n,t,r+vn),n.beginPath(),n.arc(i,s,c,r+vn,r,!0),d=0;d<a;++d)n.stroke();for(n.beginPath(),n.arc(i,s,l,r,r+vn),d=0;d<a;++d)n.stroke()}(n,t,l),l&&RU(n,t,s),pE(n,t,e,i,s),n.stroke())})(t,this,o,r,a),t.restore()}}function kU(n,t,e=t){n.lineCap=kt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(kt(e.borderDash,t.borderDash)),n.lineDashOffset=kt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=kt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=kt(e.borderWidth,t.borderWidth),n.strokeStyle=kt(e.borderColor,t.borderColor)}function Y_e(n,t,e){n.lineTo(e.x,e.y)}function IU(n,t,e={}){const i=n.length,{start:s=0,end:r=i-1}=e,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(s<o&&r<o||s>a&&r>a)?i+c-l:c-l}}function K_e(n,t,e,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=IU(s,e,i),d=function X_e(n){return n.stepped?dme:n.tension||"monotone"===n.cubicInterpolationMode?ume:Y_e}(r);let f,p,m,{move:u=!0,reverse:h}=i||{};for(f=0;f<=c;++f)p=s[(a+(h?c-f:f))%o],!p.skip&&(u?(n.moveTo(p.x,p.y),u=!1):d(n,m,p,h,r.stepped),m=p);return l&&(p=s[(a+(h?c:0))%o],d(n,m,p,h,r.stepped)),!!l}function Q_e(n,t,e,i){const s=t.points,{count:r,start:o,ilen:a}=IU(s,e,i),{move:l=!0,reverse:c}=i||{};let h,f,p,m,g,_,d=0,u=0;const y=b=>(o+(c?a-b:b))%r,v=()=>{m!==g&&(n.lineTo(d,g),n.lineTo(d,m),n.lineTo(d,_))};for(l&&(f=s[y(0)],n.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=s[y(h)],f.skip)continue;const b=f.x,w=f.y,C=0|b;C===p?(w<m?m=w:w>g&&(g=w),d=(u*d+b)/++u):(v(),n.lineTo(b,w),p=C,u=0,m=g=w),_=w}v()}function mE(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?K_e:Q_e}lm.id="arc",lm.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},lm.defaultRoutes={backgroundColor:"backgroundColor"};const tye="function"==typeof Path2D;let cm=(()=>{class n extends Qr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const s=this.options;!s.tension&&"monotone"!==s.cubicInterpolationMode||s.stepped||this._pointsUpdated||(Nme(this._points,s,e,s.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Jme(n,t){const e=n.points,i=n.options.spanGaps,s=e.length;if(!s)return[];const r=!!n._loop,{start:o,end:a}=function Qme(n,t,e,i){let s=0,r=t-1;if(e&&!i)for(;s<t&&!n[s].skip;)s++;for(;s<t&&n[s].skip;)s++;for(s%=t,e&&(r+=s);r>s&&n[r%t].skip;)r--;return r%=t,{start:s,end:r}}(e,s,r,i);return function Nz(n,t,e,i){return i&&i.setContext&&e?function ege(n,t,e,i){const s=n._chart.getContext(),r=Bz(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let d=r,u=t[0].start,h=u;function f(p,m,g,_){const y=a?-1:1;if(p!==m){for(p+=l;e[p%l].skip;)p-=y;for(;e[m%l].skip;)m+=y;p%l!=m%l&&(c.push({start:p%l,end:m%l,loop:g,style:_}),d=_,u=m%l)}}for(const p of t){u=a?u:p.start;let g,m=e[u%l];for(h=u+1;h<=p.end;h++){const _=e[h%l];g=Bz(i.setContext(yl(s,{type:"segment",p0:m,p1:_,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),tge(g,d)&&f(u,h-1,p.loop,d),m=_,d=g}u<h-1&&f(u,h-1,p.loop,d)}return c}(n,t,e,i):t}(n,!0===i?[{start:o,end:a,loop:r}]:function Zme(n,t,e,i){const s=n.length,r=[];let l,o=t,a=n[t];for(l=t+1;l<=e;++l){const c=n[l%s];c.skip||c.stop?a.skip||(r.push({start:t%s,end:(l-1)%s,loop:i=!1}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return null!==o&&r.push({start:t%s,end:o%s,loop:i}),r}(e,o,a<o?a+s:a,!!n._fullLoop&&0===o&&a===s-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,s=e.length;return s&&this.points[e[s-1].end]}interpolate(e,i){const s=this.options,r=e[i],o=this.points,a=Lz(this,{property:i,start:r,end:r});if(!a.length)return;const l=[],c=function Z_e(n){return n.stepped?Wme:n.tension||"monotone"===n.cubicInterpolationMode?$me:Gc}(s);let d,u;for(d=0,u=a.length;d<u;++d){const{start:h,end:f}=a[d],p=o[h],m=o[f];if(p===m){l.push(p);continue}const _=c(p,m,Math.abs((r-p[i])/(m[i]-p[i])),s.stepped);_[i]=e[i],l.push(_)}return 1===l.length?l[0]:l}pathSegment(e,i,s){return mE(this)(e,this,i,s)}path(e,i,s){const r=this.segments,o=mE(this);let a=this._loop;i=i||0,s=s||this.points.length-i;for(const l of r)a&=o(e,this,l,{start:i,end:i+s-1});return!!a}draw(e,i,s,r){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function nye(n,t,e,i){tye&&!t.options.segment?function J_e(n,t,e,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,e,i)&&s.closePath()),kU(n,t.options),n.stroke(s)}(n,t,e,i):function eye(n,t,e,i){const{segments:s,options:r}=t,o=mE(t);for(const a of s)kU(n,r,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,s,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function PU(n,t,e,i){const s=n.options,{[e]:r}=n.getProps([e],i);return Math.abs(t-r)<s.radius+s.hitRadius}let OU=(()=>{class n extends Qr{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,i){return PU(this,e,"x",i)}inYRange(e,i){return PU(this,e,"y",i)}getCenterPoint(e){const{x:i,y:s}=this.getProps(["x","y"],e);return{x:i,y:s}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const s=this.options;this.skip||s.radius<.1||!Hc(this,i,this.size(s)/2)||(e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.fillStyle=s.backgroundColor,Qv(e,s,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function FU(n,t){const{x:e,y:i,base:s,width:r,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,d,u;return n.horizontal?(u=o/2,a=Math.min(e,s),l=Math.max(e,s),c=i-u,d=i+u):(u=r/2,a=e-u,l=e+u,c=Math.min(i,s),d=Math.max(i,s)),{left:a,top:c,right:l,bottom:d}}function bl(n,t,e,i){return n?0:Ui(t,e,i)}function gE(n,t,e,i){const s=null===t,r=null===e,a=n&&!(s&&r)&&FU(n,i);return a&&(s||va(t,a.left,a.right))&&(r||va(e,a.top,a.bottom))}function aye(n,t){n.rect(t.x,t.y,t.w,t.h)}function _E(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+s,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-s),radius:n.radius}}class dm extends Qr{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=function rye(n){const t=FU(n),e=t.right-t.left,i=t.bottom-t.top,s=function iye(n,t,e){const s=n.borderSkipped,r=mz(n.options.borderWidth);return{t:bl(s.top,r.top,0,e),r:bl(s.right,r.right,0,t),b:bl(s.bottom,r.bottom,0,e),l:bl(s.left,r.left,0,t)}}(n,e/2,i/2),r=function sye(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,r=eh(s),o=Math.min(t,e),a=n.borderSkipped,l=i||$t(s);return{topLeft:bl(!l||a.top||a.left,r.topLeft,0,o),topRight:bl(!l||a.top||a.right,r.topRight,0,o),bottomLeft:bl(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:bl(!l||a.bottom||a.right,r.bottomRight,0,o)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}(this),a=function oye(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?eb:aye;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,_E(o,e,r)),t.clip(),a(t,_E(r,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,_E(r,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return gE(this,t,e,i)}inXRange(t,e){return gE(this,t,null,e)}inYRange(t,e){return gE(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+s)/2:e,y:r?i:(i+s)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}function mye(n,t,e){const i=function pye(n){const t=n.options,e=t.fill;let i=kt(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if($t(i))return!isNaN(i.value)&&i;let s=parseFloat(i);return ai(s)&&Math.floor(s)===s?(("-"===i[0]||"+"===i[0])&&(s=t+s),!(s===t||s<0||s>=e)&&s):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}dm.id="bar",dm.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},dm.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class BU{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:s,y:r,radius:o}=this;return t.arc(s,r,o,(e=e||{start:0,end:vn}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:s}=this,r=t.angle;return{x:e+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function yE(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function wye(n,t,e){const i=[];for(let s=0;s<e.length;s++){const r=e[s],{first:o,last:a,point:l}=Mye(r,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(n.push(l),!a)break}n.push(...i)}function Mye(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const s=i[e],r=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const d=r[c],u=o[d.start][e],h=o[d.end][e];if(va(s,u,h)){a=s===u,l=s===h;break}}return{first:a,last:l,point:i}}function Cye(n){const{chart:t,fill:e,line:i}=n;if(ai(e))return function fye(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function bye(n){const{scale:t,index:e,line:i}=n,s=[],r=i.segments,o=i.points,a=function xye(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||e.unshift(r.dataset)}return e}(t,e);a.push(VU({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let d=c.start;d<=c.end;d++)wye(s,o[d],a)}return new cm({points:s,options:{}})}(n);if("shape"===e)return!0;const s=function yye(n){return(n.scale||{}).getPointPositionForValue?function _ye(n){const{scale:t,fill:e}=n,i=t.options,s=t.getLabels().length,r=[],o=i.reverse?t.max:t.min;let l,c,d;if(d="start"===e?o:"end"===e?i.reverse?t.min:t.max:$t(e)?e.value:t.getBaseValue(),i.grid.circular)return c=t.getPointPositionForValue(0,o),new BU({x:c.x,y:c.y,radius:t.getDistanceFromCenterForValue(d)});for(l=0;l<s;++l)r.push(t.getPointPositionForValue(l,d));return r}(n):function gye(n){const{scale:t={},fill:e}=n;let s,i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:$t(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),ai(i)?(s=t.isHorizontal(),{x:s?i:null,y:s?null:i}):null}(n)}(n);return s instanceof BU?s:VU(s,i)}function VU(n,t){let e=[],i=!1;return Sn(n)?(i=!0,e=n):e=function vye(n,t){const{x:e=null,y:i=null}=n||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=yE(o,a,s);const l=s[o],c=s[a];null!==i?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):null!==e&&(r.push({x:e,y:l.y}),r.push({x:e,y:c.y}))}),r}(n,t),e.length?new cm({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function Sye(n,t,e){let s=n[t].fill;const r=[t];let o;if(!e)return s;for(;!1!==s&&-1===r.indexOf(s);){if(!ai(s))return s;if(o=n[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function HU(n,t,e){const{segments:i,points:s}=t;let r=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,d=s[l],u=s[yE(l,c,s)];r?(n.moveTo(d.x,d.y),r=!1):(n.lineTo(d.x,e),n.lineTo(d.x,d.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(u.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function vE(n,t,e,i){if(i)return;let s=t[n],r=e[n];return"angle"===n&&(s=Ws(s),r=Ws(r)),{property:n,start:s,end:r}}function zU(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function Eye(n,t,e){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=e||{};"x"===r&&(n.beginPath(),n.rect(o,i,a-o,s-i),n.clip())}function UU(n,t,e,i){const s=t.interpolate(e,i);s&&n.lineTo(s.x,s.y)}function GU(n,t){const{line:e,target:i,property:s,color:r,scale:o}=t,a=function Dye(n,t,e){const i=n.segments,s=n.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=yE(l,c,s);const d=vE(e,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:d,start:s[l],end:s[c]});continue}const u=Lz(t,d);for(const h of u){const f=vE(e,r[h.start],r[h.end],h.loop),p=Fz(a,s,f);for(const m of p)o.push({source:m,target:h,start:{[e]:zU(d,f,"start",Math.max)},end:{[e]:zU(d,f,"end",Math.min)}})}}return o}(e,i,s);for(const{source:l,target:c,start:d,end:u}of a){const{style:{backgroundColor:h=r}={}}=l,f=!0!==i;n.save(),n.fillStyle=h,Eye(n,o,f&&vE(s,d,u)),n.beginPath();const p=!!e.pathSegment(n,l);let m;if(f){p?n.closePath():UU(n,i,u,s);const g=!!i.pathSegment(n,c,{move:p,reverse:!0});m=p&&g,m||UU(n,i,d,s)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function bE(n,t,e){const i=Cye(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:u=c}=l||{};i&&s.points.length&&(Zv(n,e),function Aye(n,t){const{line:e,target:i,above:s,below:r,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),"x"===l&&r!==s&&(HU(n,i,o.top),GU(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore(),n.save(),HU(n,i,o.bottom)),GU(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore()}(n,{line:s,target:i,above:d,below:u,area:e,scale:r,axis:o}),Jv(n))}var jU={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=n.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof cm&&(l={visible:n.isDatasetVisible(o),index:o,fill:mye(a,o,i),chart:n,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],l&&!1!==l.fill&&(l.fill=Sye(s,o,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,s=n.getSortedVisibleDatasetMetas(),r=n.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;!a||(a.line.updateControlPoints(r,a.axis),i&&bE(n.ctx,a,r))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;r&&bE(n.ctx,r,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i||!1===i.fill||"beforeDatasetDraw"!==e.drawTime||bE(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const WU=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class $U extends Qr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Dn(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,s=Ii(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=WU(i,r);let c,d;e.font=s.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,r,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=s+a;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,f=-d;return this.legendItems.forEach((p,m)=>{const g=i+e/2+r.measureText(p.text).width;(0===m||c[c.length-1]+g+2*a>o)&&(u+=d,c[c.length-(m>0?0:1)]=0,f+=d,h++),l[m]={left:0,top:f,row:h,width:g,height:s},c[c.length-1]+=g+a}),u}_fitCols(t,e,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let u=a,h=0,f=0,p=0,m=0;return this.legendItems.forEach((g,_)=>{const y=i+e/2+r.measureText(g.text).width;_>0&&f+s+2*a>d&&(u+=h+a,c.push({width:h,height:f}),p+=h+a,m++,h=f=0),l[_]={left:p,top:f,col:m,width:y,height:s},h=Math.max(h,y),f+=s+a}),u+=h,c.push({width:h,height:f}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:r}}=this,o=ih(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=is(i,this.left+s,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=is(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=is(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=is(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Zv(t,this),this._draw(),Jv(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=jt.color,l=ih(t.rtl,this.left,this.width),c=Ii(o.font),{color:d,padding:u}=o,h=c.size,f=h/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:_}=WU(o,h),b=this.isHorizontal(),w=this._computeTitleHeight();p=b?{x:is(r,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:{x:this.left+u,y:is(r,this.top+w+u,this.bottom-e[0].height),line:0},kz(this.ctx,t.textDirection);const C=_+u;this.legendItems.forEach((S,E)=>{s.strokeStyle=S.fontColor||d,s.fillStyle=S.fontColor||d;const I=s.measureText(S.text).width,L=l.textAlign(S.textAlign||(S.textAlign=o.textAlign)),M=m+f+I;let T=p.x,W=p.y;l.setWidth(this.width),b?E>0&&T+M+u>this.right&&(W=p.y+=C,p.line++,T=p.x=is(r,this.left+u,this.right-i[p.line])):E>0&&W+C>this.bottom&&(T=p.x=T+e[p.line].width+u,p.line++,W=p.y=is(r,this.top+w+u,this.bottom-e[p.line].height)),function(S,E,I){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const L=kt(I.lineWidth,1);if(s.fillStyle=kt(I.fillStyle,a),s.lineCap=kt(I.lineCap,"butt"),s.lineDashOffset=kt(I.lineDashOffset,0),s.lineJoin=kt(I.lineJoin,"miter"),s.lineWidth=L,s.strokeStyle=kt(I.strokeStyle,a),s.setLineDash(kt(I.lineDash,[])),o.usePointStyle){const M={radius:m*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:L},T=l.xPlus(S,m/2);Qv(s,M,T,E+f)}else{const M=E+Math.max((h-g)/2,0),T=l.leftForLtr(S,m),W=eh(I.borderRadius);s.beginPath(),Object.values(W).some(V=>0!==V)?eb(s,{x:T,y:M,w:m,h:g,radius:W}):s.rect(T,M,m,g),s.fill(),0!==L&&s.stroke()}s.restore()}(l.x(T),W,S),T=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(L,T+m+f,b?T+M:this.right,t.rtl),function(S,E,I){zc(s,I.text,S,E+_/2,c,{strikethrough:I.hidden,textAlign:l.textAlign(I.textAlign)})}(l.x(T),W,S),b?p.x+=M+u:p.y+=C}),Iz(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ii(e.font),s=ss(e.padding);if(!e.display)return;const r=ih(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=s.top+i.size/2;let d,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,u=is(t.align,u,this.right-h);else{const p=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);d=c+is(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const f=is(a,u,u+h);o.textAlign=r.textAlign(BD(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,zc(o,e.text,f,d,i)}_computeTitleHeight(){const t=this.options.title,e=Ii(t.font),i=ss(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,r;if(va(t,this.left,this.right)&&va(e,this.top,this.bottom))for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],va(t,s.left,s.left+s.width)&&va(e,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function Rye(n,t){return!!("mousemove"===n&&(t.onHover||t.onLeave)||t.onClick&&("click"===n||"mouseup"===n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type){const s=this._hoveredItem,r=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(s,i);s&&!r&&Dn(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Dn(e.onHover,[t,i,this],this)}else i&&Dn(e.onClick,[t,i,this],this)}}var qU={id:"legend",_element:$U,start(n,t,e){const i=n.legend=new $U({ctx:n.ctx,options:e,chart:n});rs.configure(n,i,e),rs.addBox(n,i)},stop(n){rs.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;rs.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:r}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=ss(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class xE extends Qr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const s=Sn(i.text)?i.text.length:1;this._padding=ss(i.padding);const r=s*Ii(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:s,right:r,options:o}=this,a=o.align;let c,d,u,l=0;return this.isHorizontal()?(d=is(a,i,r),u=e+t,c=r-i):("left"===o.position?(d=i+t,u=is(a,s,e),l=-.5*Bn):(d=r-t,u=is(a,e,s),l=.5*Bn),c=s-e),{titleX:d,titleY:u,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ii(e.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);zc(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:BD(e.align),textBaseline:"middle",translation:[o,a]})}}var YU={id:"title",_element:xE,start(n,t,e){!function kye(n,t){const e=new xE({ctx:n.ctx,options:t,chart:n});rs.configure(n,e,t),rs.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){rs.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;rs.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const um={average(n){if(!n.length)return!1;let t,e,i=0,s=0,r=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(n,t){if(!n.length)return!1;let r,o,a,e=t.x,i=t.y,s=Number.POSITIVE_INFINITY;for(r=0,o=n.length;r<o;++r){const l=n[r].element;if(l&&l.hasValue()){const d=zD(t,l.getCenterPoint());d<s&&(s=d,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Do(n,t){return t&&(Sn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Ca(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Pye(n,t){const{element:e,datasetIndex:i,index:s}=t,r=n.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:n,label:o,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function XU(n,t){const e=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:o,boxHeight:a}=t,l=Ii(t.bodyFont),c=Ii(t.titleFont),d=Ii(t.footerFont),u=r.length,h=s.length,f=i.length,p=ss(t.padding);let m=p.height,g=0,_=i.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);_+=n.beforeBody.length+n.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),_&&(m+=f*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(_-f)*l.lineHeight+(_-1)*t.bodySpacing),h&&(m+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const v=function(b){g=Math.max(g,e.measureText(b).width+y)};return e.save(),e.font=c.string,hn(n.title,v),e.font=l.string,hn(n.beforeBody.concat(n.afterBody),v),y=t.displayColors?o+2+t.boxPadding:0,hn(i,b=>{hn(b.before,v),hn(b.lines,v),hn(b.after,v)}),y=0,e.font=d.string,hn(n.footer,v),e.restore(),g+=p.width,{width:g,height:m}}function Lye(n,t,e,i){const{x:s,width:r}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return"center"===i?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),function Fye(n,t,e,i){const{x:s,width:r}=i,o=e.caretSize+e.caretPadding;if("left"===n&&s+r+o>t.width||"right"===n&&s-r-o<0)return!0}(c,n,t,e)&&(c="center"),c}function KU(n,t,e){const i=e.yAlign||t.yAlign||function Oye(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||Lye(n,t,e,i),yAlign:i}}function QU(n,t,e,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=s+r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=eh(o);let p=function Nye(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const m=function Bye(n,t,e){let{y:i,height:s}=n;return"top"===t?i+=e:i-="bottom"===t?s+e:s/2,i}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(d,h)+s:"right"===a&&(p+=Math.max(u,f)+s),{x:Ui(p,0,i.width-t.width),y:Ui(m,0,i.height-t.height)}}function fb(n,t,e){const i=ss(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function ZU(n){return Do([],Ca(n))}function JU(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let eG=(()=>{class n extends Qr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,s=this.options.setContext(this.getContext()),r=s.enabled&&i.options.animation&&s.animations,o=new Hz(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function Vye(n,t,e){return yl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:s}=i,r=s.beforeTitle.apply(this,[e]),o=s.title.apply(this,[e]),a=s.afterTitle.apply(this,[e]);let l=[];return l=Do(l,Ca(r)),l=Do(l,Ca(o)),l=Do(l,Ca(a)),l}getBeforeBody(e,i){return ZU(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:s}=i,r=[];return hn(e,o=>{const a={before:[],lines:[],after:[]},l=JU(s,o);Do(a.before,Ca(l.beforeLabel.call(this,o))),Do(a.lines,l.label.call(this,o)),Do(a.after,Ca(l.afterLabel.call(this,o))),r.push(a)}),r}getAfterBody(e,i){return ZU(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:s}=i,r=s.beforeFooter.apply(this,[e]),o=s.footer.apply(this,[e]),a=s.afterFooter.apply(this,[e]);let l=[];return l=Do(l,Ca(r)),l=Do(l,Ca(o)),l=Do(l,Ca(a)),l}_createItems(e){const i=this._active,s=this.chart.data,r=[],o=[],a=[];let c,d,l=[];for(c=0,d=i.length;c<d;++c)l.push(Pye(this.chart,i[c]));return e.filter&&(l=l.filter((u,h,f)=>e.filter(u,h,f,s))),e.itemSort&&(l=l.sort((u,h)=>e.itemSort(u,h,s))),hn(l,u=>{const h=JU(e.callbacks,u);r.push(h.labelColor.call(this,u)),o.push(h.labelPointStyle.call(this,u)),a.push(h.labelTextColor.call(this,u))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){const s=this.options.setContext(this.getContext()),r=this._active;let o,a=[];if(r.length){const l=um[s.position].call(this,r,this._eventPosition);a=this._createItems(s),this.title=this.getTitle(a,s),this.beforeBody=this.getBeforeBody(a,s),this.body=this.getBody(a,s),this.afterBody=this.getAfterBody(a,s),this.footer=this.getFooter(a,s);const c=this._size=XU(this,s),d=Object.assign({},l,c),u=KU(this.chart,s,d),h=QU(s,d,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,s,r){const o=this.getCaretPosition(e,s,r);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,s){const{xAlign:r,yAlign:o}=this,{caretSize:a,cornerRadius:l}=s,{topLeft:c,topRight:d,bottomLeft:u,bottomRight:h}=eh(l),{x:f,y:p}=e,{width:m,height:g}=i;let _,y,v,b,w,C;return"center"===o?(w=p+g/2,"left"===r?(_=f,y=_-a,b=w+a,C=w-a):(_=f+m,y=_+a,b=w-a,C=w+a),v=_):(y="left"===r?f+Math.max(c,u)+a:"right"===r?f+m-Math.max(d,h)-a:this.caretX,"top"===o?(b=p,w=b-a,_=y-a,v=y+a):(b=p+g,w=b+a,_=y+a,v=y-a),C=b),{x1:_,x2:y,x3:v,y1:b,y2:w,y3:C}}drawTitle(e,i,s){const r=this.title,o=r.length;let a,l,c;if(o){const d=ih(s.rtl,this.x,this.width);for(e.x=fb(this,s.titleAlign,s),i.textAlign=d.textAlign(s.titleAlign),i.textBaseline="middle",a=Ii(s.titleFont),l=s.titleSpacing,i.fillStyle=s.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(r[c],d.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=s.titleMarginBottom-l)}}_drawColorBox(e,i,s,r,o){const a=this.labelColors[s],l=this.labelPointStyles[s],{boxHeight:c,boxWidth:d,boxPadding:u}=o,h=Ii(o.bodyFont),f=fb(this,"left",o),p=r.x(f),g=i.y+(c<h.lineHeight?(h.lineHeight-c)/2:0);if(o.usePointStyle){const _={radius:Math.min(d,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=r.leftForLtr(p,d)+d/2,v=g+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Qv(e,_,y,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Qv(e,_,y,v)}else{e.lineWidth=a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const _=r.leftForLtr(p,d-u),y=r.leftForLtr(r.xPlus(p,1),d-u-2),v=eh(a.borderRadius);Object.values(v).some(b=>0!==b)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,eb(e,{x:_,y:g,w:d,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),eb(e,{x:y,y:g+1,w:d-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(_,g,d,c),e.strokeRect(_,g,d,c),e.fillStyle=a.backgroundColor,e.fillRect(y,g+1,d-2,c-2))}e.fillStyle=this.labelTextColors[s]}drawBody(e,i,s){const{body:r}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:d,boxPadding:u}=s,h=Ii(s.bodyFont);let f=h.lineHeight,p=0;const m=ih(s.rtl,this.x,this.width),g=function(I){i.fillText(I,m.x(e.x+p),e.y+f/2),e.y+=f+o},_=m.textAlign(a);let y,v,b,w,C,S,E;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,e.x=fb(this,_,s),i.fillStyle=s.bodyColor,hn(this.beforeBody,g),p=l&&"right"!==_?"center"===a?d/2+u:d+2+u:0,w=0,S=r.length;w<S;++w){for(y=r[w],v=this.labelTextColors[w],i.fillStyle=v,hn(y.before,g),b=y.lines,l&&b.length&&(this._drawColorBox(i,e,w,m,s),f=Math.max(h.lineHeight,c)),C=0,E=b.length;C<E;++C)g(b[C]),f=h.lineHeight;hn(y.after,g)}p=0,f=h.lineHeight,hn(this.afterBody,g),e.y-=o}drawFooter(e,i,s){const r=this.footer,o=r.length;let a,l;if(o){const c=ih(s.rtl,this.x,this.width);for(e.x=fb(this,s.footerAlign,s),e.y+=s.footerMarginTop,i.textAlign=c.textAlign(s.footerAlign),i.textBaseline="middle",a=Ii(s.footerFont),i.fillStyle=s.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(r[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s.footerSpacing}}drawBackground(e,i,s,r){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:d,height:u}=s,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=eh(r.cornerRadius);i.fillStyle=r.backgroundColor,i.strokeStyle=r.borderColor,i.lineWidth=r.borderWidth,i.beginPath(),i.moveTo(l+h,c),"top"===a&&this.drawCaret(e,i,s,r),i.lineTo(l+d-f,c),i.quadraticCurveTo(l+d,c,l+d,c+f),"center"===a&&"right"===o&&this.drawCaret(e,i,s,r),i.lineTo(l+d,c+u-m),i.quadraticCurveTo(l+d,c+u,l+d-m,c+u),"bottom"===a&&this.drawCaret(e,i,s,r),i.lineTo(l+p,c+u),i.quadraticCurveTo(l,c+u,l,c+u-p),"center"===a&&"left"===o&&this.drawCaret(e,i,s,r),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),r.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,s=this.$animations,r=s&&s.x,o=s&&s.y;if(r||o){const a=um[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=XU(this,e),c=Object.assign({},a,this._size),d=KU(i,e,c),u=QU(e,c,d,i);(r._to!==u.x||o._to!==u.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,u))}}draw(e){const i=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(i);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const a=ss(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=s,this.drawBackground(o,e,r,i),kz(e,i.textDirection),o.y+=a.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),Iz(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const s=this._active,r=e.map(({datasetIndex:l,index:c})=>{const d=this.chart.getDatasetMeta(l);if(!d)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:d.data[c],index:c}}),o=!zv(s,r),a=this._positionChanged(r,i);(o||a)&&(this._active=r,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,s=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],a=this._getActiveElements(e,o,i,s),l=this._positionChanged(a,e),c=i||!zv(a,o)||l;return c&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,s,r){const o=this.options;if("mouseout"===e.type)return[];if(!r)return i;const a=this.chart.getElementsAtEventForMode(e,o.mode,o,s);return o.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:s,caretY:r,options:o}=this,a=um[o.position].call(this,e,i);return!1!==a&&(s!==a.x||r!==a.y)}}return n.positioners=um,n})();var tG={id:"tooltip",_element:eG,positioners:um,afterInit(n,t,e){e&&(n.tooltip=new eG({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip,e={tooltip:t};!1!==n.notifyPlugins("beforeTooltipDraw",e)&&(t&&t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e))},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ya,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ya,beforeBody:ya,beforeLabel:ya,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return nn(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ya,afterBody:ya,beforeFooter:ya,footer:ya,afterFooter:ya}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class hm extends Wc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:r}of e)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(nn(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:Ui(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function Uye(n,t,e,i){const s=n.indexOf(t);return-1===s?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):s!==n.lastIndexOf(t)?e:s}(i,t,kt(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)s.push({value:o});return s}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function nG(n,t,{horizontal:e,minRotation:i}){const s=Kr(i),r=(e?Math.sin(s):Math.cos(s))||.001;return Math.min(t/r,.75*t*(""+n).length)}hm.id="category",hm.defaults={ticks:{callback:hm.prototype.getLabelForValue}};class pb extends Wc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return nn(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=e?s:l,a=l=>r=i?r:l;if(t){const l=So(s),c=So(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=1;(r>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*r)),a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let s,{maxTicksLimit:e,stepSize:i}=t;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function jye(n,t){const e=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:u,includeBounds:h}=n,f=r||1,p=d-1,{min:m,max:g}=t,_=!nn(o),y=!nn(a),v=!nn(c),b=(g-m)/(u+1);let C,S,E,I,w=ZH((g-m)/p/f)*f;if(w<1e-14&&!_&&!y)return[{value:m},{value:g}];I=Math.ceil(g/w)-Math.floor(m/w),I>p&&(w=ZH(I*w/p/f)*f),nn(l)||(C=Math.pow(10,l),w=Math.ceil(w*C)/C),"ticks"===s?(S=Math.floor(m/w)*w,E=Math.ceil(g/w)*w):(S=m,E=g),_&&y&&r&&function Vpe(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-o)/r,w/1e3)?(I=Math.round(Math.min((a-o)/w,d)),w=(a-o)/I,S=o,E=a):v?(S=_?o:S,E=y?a:E,I=c-1,w=(E-S)/I):(I=(E-S)/w,I=jp(I,Math.round(I),w/1e3)?Math.round(I):Math.ceil(I));const L=Math.max(ez(w),ez(S));C=Math.pow(10,nn(l)?L:l),S=Math.round(S*C)/C,E=Math.round(E*C)/C;let M=0;for(_&&(h&&S!==o?(e.push({value:o}),S<o&&M++,jp(Math.round((S+M*w)*C)/C,o,nG(o,b,n))&&M++):S<o&&M++);M<I;++M)e.push({value:Math.round((S+M*w)*C)/C});return y&&h&&E!==a?e.length&&jp(e[e.length-1].value,a,nG(a,b,n))?e[e.length-1].value=a:e.push({value:a}):(!y||E===a)&&e.push({value:E}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&JH(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Zp(t,this.chart.options.locale,this.options.ticks.format)}}class mb extends pb{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ai(t)?t:0,this.max=ai(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Kr(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function iG(n){return n/Math.pow(10,Math.floor(yr(n)))==1}mb.id="linear",mb.defaults={ticks:{callback:ab.formatters.numeric}};class wE extends Wc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=pb.prototype.parse.apply(this,[t,e]);if(0!==i)return ai(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ai(t)?Math.max(0,t):null,this.max=ai(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,s=this.max;const r=l=>i=t?i:l,o=l=>s=e?s:l,a=(l,c)=>Math.pow(10,Math.floor(yr(l))+c);i===s&&(i<=0?(r(1),o(10)):(r(a(i,-1)),o(a(s,1)))),i<=0&&r(a(s,-1)),s<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&r(a(i,-1)),this.min=i,this.max=s}buildTicks(){const t=this.options,i=function Wye(n,t){const e=Math.floor(yr(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),s=[];let r=gr(n.min,Math.pow(10,Math.floor(yr(t.min)))),o=Math.floor(yr(r)),a=Math.floor(r/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{s.push({value:r,major:iG(r)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),r=Math.round(a*Math.pow(10,o)*l)/l}while(o<e||o===e&&a<i);const c=gr(n.max,r);return s.push({value:c,major:iG(r)}),s}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&JH(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":Zp(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=yr(t),this._valueRange=yr(this.max)-yr(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(yr(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function ME(n){const t=n.ticks;if(t.display&&n.display){const e=ss(t.backdropPadding);return kt(t.font&&t.font.size,jt.font.size)+e.height}return 0}function $ye(n,t,e){return e=Sn(e)?e:[e],{w:cme(n,t.string,e),h:e.length*t.lineHeight}}function sG(n,t,e,i,s){return n===i||n===s?{start:t-e/2,end:t+e/2}:n<i||n>s?{start:t-e,end:t}:{start:t,end:t+e}}function Yye(n,t,e,i,s){const r=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,n.r=Math.max(n.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,n.t=Math.min(n.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function Kye(n){return 0===n||180===n?"center":n<180?"left":"right"}function Qye(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Zye(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function rG(n,t,e,i){const{ctx:s}=n;if(e)s.arc(n.xCenter,n.yCenter,t,0,vn);else{let r=n.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=n.getPointPosition(o,t),s.lineTo(r.x,r.y)}}wE.id="logarithmic",wE.defaults={ticks:{callback:ab.formatters.logarithmic,major:{enabled:!0}}};class rh extends pb{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ss(ME(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=ai(t)&&!isNaN(t)?t:0,this.max=ai(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ME(this.options))}generateTickLabels(t){pb.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const s=Dn(this.options.pointLabels.callback,[e,i],this);return s||0===s?s:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function qye(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],s=[],r=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?Bn/r:0;for(let l=0;l<r;l++){const c=o.setContext(n.getPointLabelContext(l));s[l]=c.padding;const d=n.getPointPosition(l,n.drawingArea+s[l],a),u=Ii(c.font),h=$ye(n.ctx,u,n._pointLabels[l]);i[l]=h;const f=Ws(n.getIndexAngle(l)+a),p=Math.round(HD(f));Yye(e,t,f,sG(p,d.x,h.w,0,180),sG(p,d.y,h.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Xye(n,t,e){const i=[],s=n._pointLabels.length,r=n.options,o=ME(r)/2,a=n.drawingArea,l=r.pointLabels.centerPointLabels?Bn/s:0;for(let c=0;c<s;c++){const d=n.getPointPosition(c,a+o+e[c],l),u=Math.round(HD(Ws(d.angle+Jn))),h=t[c],f=Zye(d.y,h.h,u),p=Kye(u),m=Qye(d.x,h.w,p);i.push({x:d.x,y:f,textAlign:p,left:m,top:f,right:m+h.w,bottom:f+h.h})}return i}(n,i,s)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,s){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,s))}getIndexAngle(t){return Ws(t*(vn/(this._pointLabels.length||1))+Kr(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(nn(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(nn(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function tve(n,t,e){return yl(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const s=this.getIndexAngle(t)-Jn+i;return{x:Math.cos(s)*e+this.xCenter,y:Math.sin(s)*e+this.yCenter,angle:s}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:e,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),rG(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:s}=e,r=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function Jye(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let s=t-1;s>=0;s--){const r=i.setContext(n.getPointLabelContext(s)),o=Ii(r.font),{x:a,y:l,textAlign:c,left:d,top:u,right:h,bottom:f}=n._pointLabelItems[s],{backdropColor:p}=r;if(!nn(p)){const m=ss(r.backdropPadding);e.fillStyle=p,e.fillRect(d-m.left,u-m.top,h-d+m.width,f-u+m.height)}zc(e,n._pointLabels[s],a,l+o.lineHeight/2,o,{color:r.color,textAlign:c,textBaseline:"middle"})}}(this,r),s.display&&this.ticks.forEach((c,d)=>{0!==d&&(a=this.getDistanceFromCenterForValue(c.value),function eve(n,t,e,i){const s=n.ctx,r=t.circular,{color:o,lineWidth:a}=t;!r&&!i||!o||!a||e<0||(s.save(),s.strokeStyle=o,s.lineWidth=a,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),rG(n,e,r,i),s.closePath(),s.stroke(),s.restore())}(this,s.setContext(this.getContext(d-1)),a,r))}),i.display){for(t.save(),o=r-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:d,lineWidth:u}=c;!u||!d||(t.lineWidth=u,t.strokeStyle=d,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!e.reverse)return;const c=i.setContext(this.getContext(l)),d=Ii(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const u=ss(c.backdropPadding);t.fillRect(-o/2-u.left,-r-d.size/2-u.top,o+u.width,d.size+u.height)}zc(t,a.label,0,-r,d,{color:c.color})}),t.restore()}drawTitle(){}}rh.id="radialLinear",rh.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ab.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},rh.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},rh.descriptors={angleLines:{_fallback:"grid"}};const gb={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cs=Object.keys(gb);function nve(n,t){return n-t}function oG(n,t){if(nn(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),ai(o)||(o="string"==typeof i?e.parse(o,i):e.parse(o)),null===o?null:(s&&(o="week"!==s||!Gp(r)&&!0!==r?e.startOf(o,s):e.startOf(o,"isoWeek",r)),+o)}function aG(n,t,e,i){const s=Cs.length;for(let r=Cs.indexOf(n);r<s-1;++r){const o=gb[Cs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((e-t)/(a*o.size))<=i)return Cs[r]}return Cs[s-1]}function lG(n,t,e){if(e){if(e.length){const{lo:i,hi:s}=QD(e,t);n[e[i]>=t?e[i]:e[s]]=!0}}else n[t]=!0}function cG(n,t,e){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return 0!==r&&e?function rve(n,t,e,i){const s=n._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}(n,i,s,e):i}let CE=(()=>{class n extends Wc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const s=e.time||(e.time={}),r=this._adapter=new Pge._date(e.adapters.date);zp(s.displayFormats,r.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:oG(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,s=e.time.unit||"day";let{min:r,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(d){!a&&!isNaN(d.min)&&(r=Math.min(r,d.min)),!l&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!a||!l)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),r=ai(r)&&!isNaN(r)?r:+i.startOf(Date.now(),s),o=ai(o)&&!isNaN(o)?o:+i.endOf(Date.now(),s)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],s=e[e.length-1]),{min:i,max:s}}buildTicks(){const e=this.options,i=e.time,s=e.ticks,r="labels"===s.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=function bme(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}(r,o,this.max);return this._unit=i.unit||(s.autoSkip?aG(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function ive(n,t,e,i,s){for(let r=Cs.length-1;r>=Cs.indexOf(e);r--){const o=Cs[r];if(gb[o].common&&n._adapter.diff(s,i,o)>=t-1)return o}return Cs[e?Cs.indexOf(e):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=s.major.enabled&&"year"!==this._unit?function sve(n){for(let t=Cs.indexOf(n)+1,e=Cs.length;t<e;++t)if(gb[Cs[t]].common)return Cs[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&l.reverse(),cG(this,l,this._majorUnit)}initOffsets(e){let r,o,i=0,s=0;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),i=1===e.length?1-r:(this.getDecimalForValue(e[1])-r)/2,o=this.getDecimalForValue(e[e.length-1]),s=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=Ui(i,0,a),s=Ui(s,0,a),this._offsets={start:i,end:s,factor:1/(i+1+s)}}_generate(){const e=this._adapter,i=this.min,s=this.max,r=this.options,o=r.time,a=o.unit||aG(o.minUnit,i,s,this._getLabelCapacity(i)),l=kt(o.stepSize,1),c="week"===a&&o.isoWeekday,d=Gp(c)||!0===c,u={};let f,p,h=i;if(d&&(h=+e.startOf(h,"isoWeek",c)),h=+e.startOf(h,d?"day":a),e.diff(s,i,a)>1e5*l)throw new Error(i+" and "+s+" are too far apart with stepSize of "+l+" "+a);const m="data"===r.ticks.source&&this.getDataTimestamps();for(f=h,p=0;f<s;f=+e.add(f,l,a),p++)lG(u,f,m);return(f===s||"ticks"===r.bounds||1===p)&&lG(u,f,m),Object.keys(u).sort((g,_)=>g-_).map(g=>+g)}getLabelForValue(e){const s=this.options.time;return this._adapter.format(e,s.tooltipFormat?s.tooltipFormat:s.displayFormats.datetime)}_tickFormatFunction(e,i,s,r){const o=this.options,a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=c&&a[c],h=s[i],p=this._adapter.format(e,r||(c&&u&&h&&h.major?u:l&&a[l])),m=o.ticks.callback;return m?Dn(m,[p,i,s],this):p}generateTickLabels(e){let i,s,r;for(i=0,s=e.length;i<s;++i)r=e[i],r.label=this._tickFormatFunction(r.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,s=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+s)*i.factor)}getValueForPixel(e){const i=this._offsets,s=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+s*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,s=this.ctx.measureText(e).width,r=Kr(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(r),a=Math.sin(r),l=this._resolveTickFontOptions(0).size;return{w:s*o+l*a,h:s*a+l*o}}_getLabelCapacity(e){const i=this.options.time,s=i.displayFormats,r=s[i.unit]||s.millisecond,o=this._tickFormatFunction(e,0,cG(this,[e],this._majorUnit),r),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,s,e=this._cache.data||[];if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(i=0,s=r.length;i<s;++i)e=e.concat(r[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,s;if(e.length)return e;const r=this.getLabels();for(i=0,s=r.length;i<s;++i)e.push(oG(this,r[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return yz(e.sort(nve))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function _b(n,t,e){let r,o,a,l,i=0,s=n.length-1;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=ba(n,"pos",t)),({pos:r,time:a}=n[i]),({pos:o,time:l}=n[s])):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=ba(n,"time",t)),({time:r,pos:a}=n[i]),({time:o,pos:l}=n[s]));const c=o-r;return c?a+(l-a)*(t-r)/c:a}class yb extends CE{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=_b(e,this.min),this._tableRange=_b(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],r=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&s.push(c);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)d=s[o+1],l=s[o-1],c=s[o],Math.round((d+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(_b(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return _b(this._table,i*this._tableRange+this._minPos,!0)}}yb.id="timeseries",yb.defaults=CE.defaults;const vb=function cve(n,t){return n===t||n!=n&&t!=t},bb=function dve(n,t){for(var e=n.length;e--;)if(vb(n[e][0],t))return e;return-1};var hve=Array.prototype.splice;function oh(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}oh.prototype.clear=function ave(){this.__data__=[],this.size=0},oh.prototype.delete=function fve(n){var t=this.__data__,e=bb(t,n);return!(e<0||(e==t.length-1?t.pop():hve.call(t,e,1),--this.size,0))},oh.prototype.get=function mve(n){var t=this.__data__,e=bb(t,n);return e<0?void 0:t[e][1]},oh.prototype.has=function _ve(n){return bb(this.__data__,n)>-1},oh.prototype.set=function vve(n,t){var e=this.__data__,i=bb(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const xb=oh,dG="object"==typeof global&&global&&global.Object===Object&&global;var Rve="object"==typeof self&&self&&self.Object===Object&&self;const ah=dG||Rve||Function("return this")();var Ive=ah.Symbol,uG=Object.prototype,Pve=uG.hasOwnProperty,Ove=uG.toString,fm=Ive?Ive.toStringTag:void 0;var Bve=Object.prototype.toString;var hG=Ive?Ive.toStringTag:void 0;const Mb=function Gve(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":hG&&hG in Object(n)?function Fve(n){var t=Pve.call(n,fm),e=n[fm];try{n[fm]=void 0;var i=!0}catch(r){}var s=Ove.call(n);return i&&(t?n[fm]=e:delete n[fm]),s}(n):function Vve(n){return Bve.call(n)}(n)},$c=function jve(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},SE=function Xve(n){if(!$c(n))return!1;var t=Mb(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var n,Kve=ah["__core-js_shared__"],fG=(n=/[^.]+$/.exec(Kve&&Kve.keys&&Kve.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";var ebe=Function.prototype.toString;var sbe=/^\[object .+?Constructor\]$/,cbe=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ube=function dbe(n){return!(!$c(n)||function Qve(n){return!!fG&&fG in n}(n))&&(SE(n)?cbe:sbe).test(function tbe(n){if(null!=n){try{return ebe.call(n)}catch(t){}try{return n+""}catch(t){}}return""}(n))},EE=function pbe(n,t){var e=function hbe(n,t){return null==n?void 0:n[t]}(n,t);return ube(e)?e:void 0},pG=EE(ah,"Map"),pm=EE(Object,"create");var Mbe=Object.prototype.hasOwnProperty;var Ebe=Object.prototype.hasOwnProperty;function lh(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}lh.prototype.clear=function _be(){this.__data__=pm?pm(null):{},this.size=0},lh.prototype.delete=function vbe(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},lh.prototype.get=function Cbe(n){var t=this.__data__;if(pm){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return Mbe.call(t,n)?t[n]:void 0},lh.prototype.has=function Abe(n){var t=this.__data__;return pm?void 0!==t[n]:Ebe.call(t,n)},lh.prototype.set=function kbe(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=pm&&void 0===t?"__lodash_hash_undefined__":t,this};const mG=lh,Cb=function Nbe(n,t){var e=n.__data__;return function Fbe(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function ch(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}ch.prototype.clear=function Pbe(){this.size=0,this.__data__={hash:new mG,map:new(pG||xb),string:new mG}},ch.prototype.delete=function Bbe(n){var t=Cb(this,n).delete(n);return this.size-=t?1:0,t},ch.prototype.get=function Hbe(n){return Cb(this,n).get(n)},ch.prototype.has=function Ube(n){return Cb(this,n).has(n)},ch.prototype.set=function jbe(n,t){var e=Cb(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const $be=ch;function dh(n){var t=this.__data__=new xb(n);this.size=t.size}dh.prototype.clear=function xve(){this.__data__=new xb,this.size=0},dh.prototype.delete=function Mve(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},dh.prototype.get=function Sve(n){return this.__data__.get(n)},dh.prototype.has=function Eve(n){return this.__data__.has(n)},dh.prototype.set=function Ybe(n,t){var e=this.__data__;if(e instanceof xb){var i=e.__data__;if(!pG||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new $be(i)}return e.set(n,t),this.size=e.size,this};const Kbe=dh;var Qbe=function(){try{var n=EE(Object,"defineProperty");return n({},"",{}),n}catch(t){}}();const Sb=Qbe,AE=function Zbe(n,t,e){"__proto__"==t&&Sb?Sb(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},TE=function Jbe(n,t,e){(void 0!==e&&!vb(n[t],e)||void 0===e&&!(t in n))&&AE(n,t,e)};var txe=function exe(n){return function(t,e,i){for(var s=-1,r=Object(t),o=i(t),a=o.length;a--;){var l=o[n?a:++s];if(!1===e(r[l],l,r))break}return t}}();const nxe=txe;var gG="object"==typeof exports&&exports&&!exports.nodeType&&exports,_G=gG&&"object"==typeof module&&module&&!module.nodeType&&module,yG=_G&&_G.exports===gG?ah.Buffer:void 0,vG=yG?yG.allocUnsafe:void 0;const bG=ah.Uint8Array,dxe=function cxe(n,t){var e=t?function axe(n){var t=new n.constructor(n.byteLength);return new bG(t).set(new bG(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var xG=Object.create,fxe=function(){function n(){}return function(t){if(!$c(t))return{};if(xG)return xG(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const pxe=fxe;var gxe=function mxe(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const wG=gxe;var _xe=Object.prototype;const MG=function yxe(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||_xe)},mm=function xxe(n){return null!=n&&"object"==typeof n},CG=function Mxe(n){return mm(n)&&"[object Arguments]"==Mb(n)};var SG=Object.prototype,Cxe=SG.hasOwnProperty,Sxe=SG.propertyIsEnumerable,Dxe=CG(function(){return arguments}())?CG:function(n){return mm(n)&&Cxe.call(n,"callee")&&!Sxe.call(n,"callee")};const RE=Dxe,kE=Array.isArray,DG=function Txe(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},IE=function Rxe(n){return null!=n&&DG(n.length)&&!SE(n)};var EG="object"==typeof exports&&exports&&!exports.nodeType&&exports,AG=EG&&"object"==typeof module&&module&&!module.nodeType&&module,TG=AG&&AG.exports===EG?ah.Buffer:void 0;const RG=(TG?TG.isBuffer:void 0)||function Pxe(){return!1};var kG=Function.prototype.toString,zxe=Object.prototype.hasOwnProperty,Uxe=kG.call(Object);var kn={};kn["[object Float32Array]"]=kn["[object Float64Array]"]=kn["[object Int8Array]"]=kn["[object Int16Array]"]=kn["[object Int32Array]"]=kn["[object Uint8Array]"]=kn["[object Uint8ClampedArray]"]=kn["[object Uint16Array]"]=kn["[object Uint32Array]"]=!0,kn["[object Arguments]"]=kn["[object Array]"]=kn["[object ArrayBuffer]"]=kn["[object Boolean]"]=kn["[object DataView]"]=kn["[object Date]"]=kn["[object Error]"]=kn["[object Function]"]=kn["[object Map]"]=kn["[object Number]"]=kn["[object Object]"]=kn["[object RegExp]"]=kn["[object Set]"]=kn["[object String]"]=kn["[object WeakMap]"]=!1;var IG="object"==typeof exports&&exports&&!exports.nodeType&&exports,gm=IG&&"object"==typeof module&&module&&!module.nodeType&&module,PE=gm&&gm.exports===IG&&dG.process,b0e=function(){try{return gm&&gm.require&&gm.require("util").types||PE&&PE.binding&&PE.binding("util")}catch(t){}}(),OG=b0e&&b0e.isTypedArray;const FG=OG?function _0e(n){return function(t){return n(t)}}(OG):function m0e(n){return mm(n)&&DG(n.length)&&!!kn[Mb(n)]},OE=function w0e(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var C0e=Object.prototype.hasOwnProperty;const D0e=function S0e(n,t,e){var i=n[t];(!C0e.call(n,t)||!vb(i,e)||void 0===e&&!(t in n))&&AE(n,t,e)};var I0e=/^(?:0|[1-9]\d*)$/;const LG=function P0e(n,t){var e=typeof n;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&I0e.test(n))&&n>-1&&n%1==0&&n<t};var F0e=Object.prototype.hasOwnProperty;const N0e=function L0e(n,t){var e=kE(n),i=!e&&RE(n),s=!e&&!i&&RG(n),r=!e&&!i&&!s&&FG(n),o=e||i||s||r,a=o?function T0e(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],l=a.length;for(var c in n)(t||F0e.call(n,c))&&(!o||!("length"==c||s&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||LG(c,l)))&&a.push(c);return a};var z0e=Object.prototype.hasOwnProperty;const G0e=function U0e(n){if(!$c(n))return function B0e(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=MG(n),e=[];for(var i in n)"constructor"==i&&(t||!z0e.call(n,i))||e.push(i);return e},NG=function j0e(n){return IE(n)?N0e(n,!0):G0e(n)},$0e=function W0e(n){return function E0e(n,t,e,i){var s=!e;e||(e={});for(var r=-1,o=t.length;++r<o;){var a=t[r],l=i?i(e[a],n[a],a,e,n):void 0;void 0===l&&(l=n[a]),s?AE(e,a,l):D0e(e,a,l)}return e}(n,NG(n))},Y0e=function q0e(n,t,e,i,s,r,o){var a=OE(n,e),l=OE(t,e),c=o.get(l);if(c)TE(n,e,c);else{var d=r?r(a,l,e+"",n,t,o):void 0,u=void 0===d;if(u){var h=kE(l),f=!h&&RG(l),p=!h&&!f&&FG(l);d=l,h||f||p?kE(a)?d=a:function kxe(n){return mm(n)&&IE(n)}(a)?d=function uxe(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(a):f?(u=!1,d=function sxe(n,t){if(t)return n.slice();var e=n.length,i=vG?vG(e):new n.constructor(e);return n.copy(i),i}(l,!0)):p?(u=!1,d=dxe(l,!0)):d=[]:function Gxe(n){if(!mm(n)||"[object Object]"!=Mb(n))return!1;var t=wG(n);if(null===t)return!0;var e=zxe.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&kG.call(e)==Uxe}(l)||RE(l)?(d=a,RE(a)?d=$0e(a):(!$c(a)||SE(a))&&(d=function vxe(n){return"function"!=typeof n.constructor||MG(n)?{}:pxe(wG(n))}(l))):u=!1}u&&(o.set(l,d),s(d,l,i,r,o),o.delete(l)),TE(n,e,d)}},X0e=function BG(n,t,e,i,s){n!==t&&nxe(t,function(r,o){if(s||(s=new Kbe),$c(r))Y0e(n,t,o,e,BG,i,s);else{var a=i?i(OE(n,o),r,o+"",n,t,s):void 0;void 0===a&&(a=r),TE(n,o,a)}},NG)},VG=function K0e(n){return n},Z0e=function Q0e(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)};var HG=Math.max;const nwe=function twe(n){return function(){return n}};var iwe=Sb?function(n,t){return Sb(n,"toString",{configurable:!0,enumerable:!1,value:nwe(t),writable:!0})}:VG,awe=Date.now,cwe=function lwe(n){var t=0,e=0;return function(){var i=awe(),s=16-(i-e);if(e=i,s>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(iwe);const dwe=cwe,hwe=function uwe(n,t){return dwe(function J0e(n,t,e){return t=HG(void 0===t?n.length-1:t,0),function(){for(var i=arguments,s=-1,r=HG(i.length-t,0),o=Array(r);++s<r;)o[s]=i[t+s];s=-1;for(var a=Array(t+1);++s<t;)a[s]=i[s];return a[t]=e(o),Z0e(n,this,a)}}(n,t,VG),n+"")};var gwe=function mwe(n){return hwe(function(t,e){var i=-1,s=e.length,r=s>1?e[s-1]:void 0,o=s>2?e[2]:void 0;for(r=n.length>3&&"function"==typeof r?(s--,r):void 0,o&&function fwe(n,t,e){if(!$c(e))return!1;var i=typeof t;return!!("number"==i?IE(e)&&LG(t,e.length):"string"==i&&t in e)&&vb(e[t],n)}(e[0],e[1],o)&&(r=s<3?void 0:r,s=1),t=Object(t);++i<s;){var a=e[i];a&&n(t,a,i,r)}return t})}(function(n,t,e){X0e(n,t,e)});const zG=gwe;let _we=(()=>{class n{constructor(){this.colorschemesOptions=new Qi(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UG=(()=>{class n{constructor(e,i,s){this.element=e,this.zone=i,this.themeService=s,this.type="bar",this.plugins=[],this.chartClick=new we,this.chartHover=new we,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(Ku()).subscribe(r=>this.themeChanged(r)))}ngOnChanges(e){const i=["type"],s=Object.getOwnPropertyNames(e);if(s.some(r=>i.includes(r))||s.every(r=>e[r].isFirstChange()))this.render();else{const r=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,r.data),Object.assign(this.chart.config.plugins,r.plugins),Object.assign(this.chart.config.options,r.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new am(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>{var i;return null===(i=this.chart)||void 0===i?void 0:i.update(e)})}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){var i,s;return null===(s=null===(i=this.chart)||void 0===i?void 0:i.getDatasetMeta(e))||void 0===s?void 0:s.hidden}toBase64Image(){var e;return null===(e=this.chart)||void 0===e?void 0:e.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return zG({onHover:(e,i)=>{!this.chartHover.observed||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),plugins:this.plugins,options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(e){return new(e||n)(x(de),x($e),x(_we))},n.\u0275dir=z({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[on]}),n})();const ywe=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],vwe={datasets:{line:{backgroundColor:n=>ys(vs(n.datasetIndex),.4),borderColor:n=>ys(vs(n.datasetIndex),1),pointBackgroundColor:n=>ys(vs(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>ys(vs(n.datasetIndex),.8)},bar:{backgroundColor:n=>ys(vs(n.datasetIndex),.6),borderColor:n=>ys(vs(n.datasetIndex),1),hoverBackgroundColor:n=>ys(vs(n.datasetIndex),.8),hoverBorderColor:n=>ys(vs(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>ys(vs(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>ys(vs(n.dataIndex),1),hoverBorderColor:n=>ys(vs(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>ys(vs(n.dataIndex),.6),borderColor:n=>ys(vs(n.dataIndex),1),hoverBackgroundColor:n=>ys(vs(n.dataIndex),.8),hoverBorderColor:n=>ys(vs(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function ys(n,t){return"rgba("+n.concat(t).join(",")+")"}function FE(n,t){return Math.floor(Math.random()*(t-n+1))+n}function vs(n=0){return ywe[n]||function bwe(){return[FE(0,255),FE(0,255),FE(0,255)]}()}am.register(YU,tG,jU,qU,aE,cm,OU,mb,hm,Zz,dm,oE,lm,nU,rh,tU,eU,Jz,iU,yb);let GG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xwe=(()=>{class n{constructor(e){(null==e?void 0:e.plugins)&&am.register(...null==e?void 0:e.plugins);const i=zG(vwe,(null==e?void 0:e.defaults)||{});jt.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:GG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(j(GG,8))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[]]}),n})(),wwe=(()=>{class n{constructor(){this.barChartOptions={responsive:!0,scales:{x:{},y:{min:10}},plugins:{legend:{display:!0}}},this.barChartType="bar",this.barChartData={labels:[],datasets:[{data:[],label:""}]}}ngOnInit(){}chartClicked({event:e,active:i}){console.log(e,i)}chartHovered({event:e,active:i}){console.log(e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-model-bar-chart"]],viewQuery:function(e,i){if(1&e&&St(UG,5),2&e){let s;ge(s=_e())&&(i.chart=s.first)}},inputs:{barChartData:["data","barChartData"]},decls:4,vars:3,consts:[[2,"display","block"],["baseChart","",3,"data","options","type","chartHover","chartClick"]],template:function(e,i){1&e&&(U(0,"div"),U(1,"div"),U(2,"div",0),U(3,"canvas",1),ze("chartHover",function(r){return i.chartHovered(r)})("chartClick",function(r){return i.chartClicked(r)}),G(),G(),G(),G()),2&e&&(he(3),ce("data",i.barChartData)("options",i.barChartOptions)("type",i.barChartType))},directives:[UG],styles:[""]}),n})(),Mwe=(()=>{class n{constructor(){this.barChartData={labels:["2006","2007","2008","2009","2010","2011","2012"],datasets:[{data:[65,59,80,81,56,55,40],label:"Series "}]}}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-overview"]],inputs:{digitalTwin:"digitalTwin"},decls:1,vars:1,consts:[[3,"data"]],template:function(e,i){1&e&&Ge(0,"app-model-bar-chart",0),2&e&&ce("data",i.barChartData)},directives:[wwe],styles:[""]}),n})(),Cwe=0;const LE=new K("CdkAccordion");let Swe=(()=>{class n{constructor(){this._stateChanges=new me,this._openCloseAllActions=new me,this.id="cdk-accordion-"+Cwe++,this._multi=!1}get multi(){return this._multi}set multi(e){this._multi=Me(e)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[Re([{provide:LE,useExisting:n}]),on]}),n})(),Dwe=0,Ewe=(()=>{class n{constructor(e,i,s){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=s,this._openCloseAllSubscription=Pt.EMPTY,this.closed=new we,this.opened=new we,this.destroyed=new we,this.expandedChange=new we,this.id="cdk-accordion-child-"+Dwe++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=s.listen((r,o)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===o&&this.id!==r&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(e){e=Me(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){this._disabled=Me(e)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}}return n.\u0275fac=function(e){return new(e||n)(x(LE,12),x(Xt),x(LD))},n.\u0275dir=z({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[Re([{provide:LE,useValue:void 0}])]}),n})(),NE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})();const Awe=["body"];function Twe(n,t){}const Rwe=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],kwe=["mat-expansion-panel-header","*","mat-action-row"];function Iwe(n,t){1&n&&Ge(0,"span",2),2&n&&ce("@indicatorRotate",Nt()._getExpandedState())}const Pwe=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Owe=["mat-panel-title","mat-panel-description","*"],BE=new K("MAT_ACCORDION"),jG="225ms cubic-bezier(0.4,0.0,0.2,1)",WG={indicatorRotate:Qn("indicatorRotate",[Rt("collapsed, void",Be({transform:"rotate(0deg)"})),Rt("expanded",Be({transform:"rotate(180deg)"})),Gt("expanded <=> collapsed, void => collapsed",Kt(jG))]),bodyExpansion:Qn("bodyExpansion",[Rt("collapsed, void",Be({height:"0px",visibility:"hidden"})),Rt("expanded",Be({height:"*",visibility:"visible"})),Gt("expanded <=> collapsed, void => collapsed",Kt(jG))])};let Fwe=(()=>{class n{constructor(e){this._template=e}}return n.\u0275fac=function(e){return new(e||n)(x(Yn))},n.\u0275dir=z({type:n,selectors:[["ng-template","matExpansionPanelContent",""]]}),n})(),Lwe=0;const $G=new K("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let qG=(()=>{class n extends Ewe{constructor(e,i,s,r,o,a,l){super(e,i,s),this._viewContainerRef=r,this._animationMode=a,this._hideToggle=!1,this.afterExpand=new we,this.afterCollapse=new we,this._inputChanges=new me,this._headerId="mat-expansion-panel-header-"+Lwe++,this._bodyAnimationDone=new me,this.accordion=e,this._document=o,this._bodyAnimationDone.pipe(Ku((c,d)=>c.fromState===d.fromState&&c.toState===d.toState)).subscribe(c=>{"void"!==c.fromState&&("expanded"===c.toState?this.afterExpand.emit():"collapsed"===c.toState&&this.afterCollapse.emit())}),l&&(this.hideToggle=l.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=Me(e)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe(Zi(null),mn(()=>this.expanded&&!this._portal),Pn(1)).subscribe(()=>{this._portal=new Lp(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}}return n.\u0275fac=function(e){return new(e||n)(x(BE,12),x(Xt),x(LD),x(Fn),x(Je),x(Zn,8),x($G,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(e,i,s){if(1&e&&mt(s,Fwe,5),2&e){let r;ge(r=_e())&&(i._lazyContent=r.first)}},viewQuery:function(e,i){if(1&e&&St(Awe,5),2&e){let s;ge(s=_e())&&(i._body=s.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,i){2&e&&ot("mat-expanded",i.expanded)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-expansion-panel-spacing",i._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[Re([{provide:BE,useValue:void 0}]),Y,on],ngContentSelectors:kwe,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,i){1&e&&(xn(Rwe),dt(0),U(1,"div",0,1),ze("@bodyExpansion.done",function(r){return i._bodyAnimationDone.next(r)}),U(3,"div",2),dt(4,1),ct(5,Twe,0,0,"ng-template",3),G(),dt(6,2),G()),2&e&&(he(1),ce("@bodyExpansion",i._getExpandedState())("id",i.id),st("aria-labelledby",i._headerId),he(4),ce("cdkPortalOutlet",i._portal))},directives:[Nv],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n'],encapsulation:2,data:{animation:[WG.bodyExpansion]},changeDetection:0}),n})(),Nwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),n})();class Bwe{}const Vwe=gl(Bwe);let YG=(()=>{class n extends Vwe{constructor(e,i,s,r,o,a,l){super(),this.panel=e,this._element=i,this._focusMonitor=s,this._changeDetectorRef=r,this._animationMode=a,this._parentChangeSubscription=Pt.EMPTY;const c=e.accordion?e.accordion._stateChanges.pipe(mn(d=>!(!d.hideToggle&&!d.togglePosition))):xr;this.tabIndex=parseInt(l||"")||0,this._parentChangeSubscription=jn(e.opened,e.closed,c,e._inputChanges.pipe(mn(d=>!!(d.hideToggle||d.disabled||d.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe(mn(()=>e._containsFocus())).subscribe(()=>s.focusVia(i,"program")),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:ns(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return n.\u0275fac=function(e){return new(e||n)(x(qG,1),x(de),x(wo),x(Xt),x($G,8),x(Zn,8),Fi("tabindex"))},n.\u0275cmp=Qe({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,i){1&e&&ze("click",function(){return i._toggle()})("keydown",function(r){return i._keydown(r)}),2&e&&(st("id",i.panel._headerId)("tabindex",i.tabIndex)("aria-controls",i._getPanelId())("aria-expanded",i._isExpanded())("aria-disabled",i.panel.disabled),Fs("height",i._getHeaderHeight()),ot("mat-expanded",i._isExpanded())("mat-expansion-toggle-indicator-after","after"===i._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===i._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[Y],ngContentSelectors:Owe,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,i){1&e&&(xn(Pwe),U(0,"span",0),dt(1),dt(2,1),dt(3,2),G(),ct(4,Iwe,1,1,"span",1)),2&e&&(he(4),ce("ngIf",i._showToggle()))},directives:[Fr],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[WG.indicatorRotate]},changeDetection:0}),n})(),Hwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),n})(),zwe=(()=>{class n extends Swe{constructor(){super(...arguments),this._ownHeaders=new Ba,this._hideToggle=!1,this.displayMode="default",this.togglePosition="after"}get hideToggle(){return this._hideToggle}set hideToggle(e){this._hideToggle=Me(e)}ngAfterContentInit(){this._headers.changes.pipe(Zi(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Tv(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._ownHeaders.destroy()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["mat-accordion"]],contentQueries:function(e,i,s){if(1&e&&mt(s,YG,5),2&e){let r;ge(r=_e())&&(i._headers=r)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,i){2&e&&ot("mat-accordion-multi",i.multi)},inputs:{multi:"multi",hideToggle:"hideToggle",displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[Re([{provide:BE,useExisting:n}]),Y]}),n})(),XG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He,NE,Pc]]}),n})(),Uwe=(()=>{class n{constructor(){this.items=["Train","Predict"],this.trainDateRange=new If({start:new jl("",[Ko.required]),end:new jl("",[Ko.required])}),this.step=0}setStep(e){this.step=e}nextStep(){this.step++}prevStep(){this.step--}ngOnInit(){console.log(this.digitalTwin)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-predict"]],inputs:{digitalTwin:"digitalTwin"},decls:15,vars:2,consts:[[1,"example-headers-align"],["hideToggle","",3,"expanded","opened"],[1,"custom-expansion-header"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(e,i){1&e&&(U(0,"mat-accordion",0),U(1,"mat-expansion-panel",1),ze("opened",function(){return i.setStep(0)}),U(2,"mat-expansion-panel-header",2),U(3,"mat-panel-title"),bt(4," Train data "),G(),G(),U(5,"mat-action-row"),U(6,"button",3),ze("click",function(){return i.nextStep()}),bt(7,"Next"),G(),G(),G(),U(8,"mat-expansion-panel",1),ze("opened",function(){return i.setStep(1)}),U(9,"mat-expansion-panel-header",2),U(10,"mat-panel-title"),bt(11," Test "),G(),G(),U(12,"mat-action-row"),U(13,"button",4),ze("click",function(){return i.prevStep()}),bt(14,"Previous"),G(),G(),G(),G()),2&e&&(he(1),ce("expanded",0===i.step),he(7),ce("expanded",1===i.step))},directives:[zwe,qG,YG,Hwe,Nwe,Hv],styles:[""]}),n})(),Gwe=(()=>{class n{constructor(e,i){this.httpService=e,this.router=i}ngOnInit(){}delete(){this.httpService.deletDigitalTwin(this.digitalTwin._id).subscribe(e=>{localStorage.removeItem(this.digitalTwin._id),this.router.navigateByUrl("digital-twin")})}}return n.\u0275fac=function(e){return new(e||n)(x(Jy),x(Wi))},n.\u0275cmp=Qe({type:n,selectors:[["app-twin-setting"]],inputs:{digitalTwin:"digitalTwin"},decls:3,vars:0,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"delete"],["mat-raised-button","",1,"button-basic",3,"click"]],template:function(e,i){1&e&&(U(0,"div",0),U(1,"button",1),ze("click",function(){return i.delete()}),bt(2,"Delete"),G(),G())},directives:[Wu,iv,Hv],styles:[".delete[_ngcontent-%COMP%]{width:100%;margin-top:50px}"]}),n})();const jwe=["container"];let Wwe=(()=>{class n{constructor(e,i){this.scene=e,this.route=i,this.digitalTwinId="",this.digitalTwin=null,this.route.params.subscribe(s=>{this.digitalTwinId=s.id}),this.digitalTwin=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))))}ngOnInit(){}set container(e){const i=JSON.parse(JSON.parse(JSON.stringify(localStorage.getItem(this.digitalTwinId))));console.log(i),this.scene.initialize(e.nativeElement,i.machine)}}return n.\u0275fac=function(e){return new(e||n)(x(pS),x(za))},n.\u0275cmp=Qe({type:n,selectors:[["app-digital-twin-overview"]],viewQuery:function(e,i){if(1&e&&St(jwe,5),2&e){let s;ge(s=_e())&&(i.container=s.first)}},decls:15,vars:3,consts:[["fxLayout","row","fxLayoutAlign","space-between start",1,"main-content"],["fxFlex","50",1,"viewer"],[1,"container"],["container",""],[1,"loading-screen"],["id","loader"],["id","loading-text"],["fxFlex","49",1,"right-content"],["animationDuration","1000ms"],["label","Overview"],[3,"digitalTwin"],["label","Predict"],["label","Setting"]],template:function(e,i){1&e&&(U(0,"div",0),U(1,"div",1),Ge(2,"div",2,3),U(4,"div",4),Ge(5,"div",5),Ge(6,"div",6),G(),G(),U(7,"div",7),U(8,"mat-tab-group",8),U(9,"mat-tab",9),Ge(10,"app-overview",10),G(),U(11,"mat-tab",11),Ge(12,"app-predict",10),G(),U(13,"mat-tab",12),Ge(14,"app-twin-setting",10),G(),G(),G(),G()),2&e&&(he(10),ce("digitalTwin",i.digitalTwin),he(2),ce("digitalTwin",i.digitalTwin),he(2),ce("digitalTwin",i.digitalTwin))},directives:[Wu,iv,Cp,Dpe,BH,Mwe,Uwe,Gwe],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none}.example-tree[_ngcontent-%COMP%]   .mat-nested-tree-node[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%]{padding-left:40px}.example-tree[_ngcontent-%COMP%]   div[role=group][_ngcontent-%COMP%] > .mat-tree-node[_ngcontent-%COMP%]{padding-left:40px}.viewer[_ngcontent-%COMP%], .main-content[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{height:100%}.loading-screen[_ngcontent-%COMP%]{width:50%}.right-content[_ngcontent-%COMP%]{background-color:#fff;height:100%}"]}),n})();function $we(n,t){if(1&n){const e=Ho();U(0,"div",7),U(1,"mat-card",8),ze("click",function(){const r=Ks(e).$implicit;return Nt().navigateTo(r)}),U(2,"mat-card-header"),U(3,"mat-card-title"),bt(4),G(),G(),Ge(5,"img",9),G(),G()}if(2&n){const e=t.$implicit;ce("fxFlex","25%"),he(4),er(e.name),he(1),ce("src",e.machine.imageUrl,_d)}}function qwe(n,t){1&n&&(U(0,"div",10),U(1,"h2"),bt(2,"No Data"),G(),G())}let Ywe=(()=>{class n{constructor(e,i){this.router=e,this.httpService=i,this.digitalTwin=[],this.filteredList=[]}ngOnInit(){this.httpService.getDigitalTwins().subscribe(e=>{e.data.map(i=>{i.machine.modelPosition=this.convertToVector(i.machine.modelPosition),i.machine.modelScale=this.convertToVector(i.machine.modelScale),this.digitalTwin.push(i)}),this.filteredList=this.digitalTwin})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/digital-twin/${e._id}`,{state:e})}search(e){const i=e.target.value;this.filteredList=this.digitalTwin.filter(s=>{if(s.name.toLowerCase().includes(i))return s})}convertToVector(e){return new D(e[0],e[1],e[2])}}return n.\u0275fac=function(e){return new(e||n)(x(Wi),x(Jy))},n.\u0275cmp=Qe({type:n,selectors:[["app-digital-twin"]],decls:8,vars:2,consts:[[1,"machine-select"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,i){1&e&&(U(0,"section",0),U(1,"form",1),U(2,"input",2),ze("keyup",function(r){return i.search(r)}),G(),U(3,"a"),Ge(4,"img",3),G(),G(),U(5,"div",4),ct(6,$we,6,3,"div",5),G(),ct(7,qwe,3,0,"div",6),G()),2&e&&(he(6),ce("ngForOf",i.filteredList),he(1),ce("ngIf",0==i.filteredList.length))},directives:[D_,y_,Wa,Wu,ES,pf,Cp,iH,sH,nH,ED,Fr],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.card-image[_ngcontent-%COMP%]{height:285px}"]}),n})(),Xwe=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-home"]],decls:16,vars:0,consts:[["width","380px","height","500px","viewBox","0 0 837 1045","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",0,"xmlns","sketch","http://www.bohemiancoding.com/sketch/ns"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd",0,"sketch","type","MSPage"],["d","M353,9 L626.664028,170 L626.664028,487 L353,642 L79.3359724,487 L79.3359724,170 L353,9 Z","id","Polygon-1","stroke","#007FB2","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M78.5,529 L147,569.186414 L147,648.311216 L78.5,687 L10,648.311216 L10,569.186414 L78.5,529 Z","id","Polygon-2","stroke","#EF4A5B","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M773,186 L827,217.538705 L827,279.636651 L773,310 L719,279.636651 L719,217.538705 L773,186 Z","id","Polygon-3","stroke","#795D9C","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M639,529 L773,607.846761 L773,763.091627 L639,839 L505,763.091627 L505,607.846761 L639,529 Z","id","Polygon-4","stroke","#F2773F","stroke-width","6",0,"sketch","type","MSShapeGroup"],["d","M281,801 L383,861.025276 L383,979.21169 L281,1037 L179,979.21169 L179,861.025276 L281,801 Z","id","Polygon-5","stroke","#36B455","stroke-width","6",0,"sketch","type","MSShapeGroup"],[1,"message-box"],[1,"buttons-con"],[1,"action-link-wrap"],["routerLink","/create",1,"link-button","link-back-button"],[1,"link-button"]],template:function(e,i){1&e&&(rd(),U(0,"svg",0),U(1,"g",1),Ge(2,"path",2),Ge(3,"path",3),Ge(4,"path",4),Ge(5,"path",5),Ge(6,"path",6),G(),G(),function Ax(){!function f8(){pt.lFrame.currentNamespace=null}()}(),U(7,"div",7),U(8,"h1"),bt(9,"Data twin"),G(),U(10,"div",8),U(11,"div",9),U(12,"a",10),bt(13,"Get Started"),G(),U(14,"a",11),bt(15,"Learn more about it"),G(),G(),G(),G())},directives:[m_],styles:["[_nghost-%COMP%]{background-color:#5a5c6c}svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-400px}.message-box[_ngcontent-%COMP%]{height:200px;width:380px;position:absolute;top:50%;left:50%;margin-top:-100px;margin-left:50px;color:#fff;font-family:Roboto;font-weight:300}.message-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:60px;line-height:46px;margin-bottom:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]{margin-top:40px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background:#68c950;padding:8px 25px;border-radius:4px;color:#fff;font-weight:700;font-size:14px;transition:all .3s linear;cursor:pointer;text-decoration:none;margin-right:10px}.buttons-con[_ngcontent-%COMP%]   .action-link-wrap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#5A5C6C;color:#fff}#Polygon-1[_ngcontent-%COMP%], #Polygon-2[_ngcontent-%COMP%], #Polygon-3[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-4[_ngcontent-%COMP%], #Polygon-5[_ngcontent-%COMP%]{animation:float 1s infinite ease-in-out alternate}#Polygon-2[_ngcontent-%COMP%]{animation-delay:.2s}#Polygon-3[_ngcontent-%COMP%]{animation-delay:.4s}#Polygon-4[_ngcontent-%COMP%]{animation-delay:.6s}#Polygon-5[_ngcontent-%COMP%]{animation-delay:.8s}@keyframes float{to{transform:translateY(20px)}}@media (max-width: 450px){svg[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-250px;margin-left:-190px}.message-box[_ngcontent-%COMP%]{top:50%;left:50%;margin-top:-100px;margin-left:-190px;text-align:center}}"]}),n})();function Kwe(n,t){if(1&n){const e=Ho();U(0,"div",7),U(1,"mat-card",8),ze("click",function(){const r=Ks(e).$implicit;return Nt().navigateTo(r)}),U(2,"mat-card-header"),U(3,"mat-card-title"),bt(4),G(),G(),Ge(5,"img",9),G(),G()}if(2&n){const e=t.$implicit;ce("fxFlex","25%"),he(4),er(e.name),he(1),ce("src",e.imageUrl,_d)}}function Qwe(n,t){1&n&&(U(0,"div",10),U(1,"h2"),bt(2," No Data"),G(),G())}const Zwe=[{path:"",component:Xwe},{path:"create",component:(()=>{class n{constructor(e,i){this.router=e,this.httpService=i,this.machineList=[],this.filteredList=[]}ngOnInit(){this.machineList=[],this.httpService.getMachines().subscribe(e=>{e.data.map(i=>{i.modelPosition=this.convertToVector(i.modelPosition),i.modelScale=this.convertToVector(i.modelScale),this.machineList.push(i)}),this.filteredList=this.machineList,console.log(this.machineList)})}navigateTo(e){localStorage.setItem(e._id,JSON.stringify(e)),this.router.navigateByUrl(`/create/${e._id}`)}search(e){const i=e.target.value;this.filteredList=this.machineList.filter(s=>{if(s.name.toLowerCase().includes(i))return s})}convertToVector(e){return new D(e[0],e[1],e[2])}}return n.\u0275fac=function(e){return new(e||n)(x(Wi),x(Jy))},n.\u0275cmp=Qe({type:n,selectors:[["app-machine-selection"]],decls:8,vars:2,consts:[[1,"machine-select"],[1,"search-container"],["type","text","id","search-bar","placeholder","Search...",3,"keyup"],["src","http://www.endlessicons.com/wp-content/uploads/2012/12/search-icon.png",1,"search-icon"],["fxLayout","row wrap","fxLayoutGap","16px grid"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],["fxFlex.xs","100%","fxFlex.sm","33%",3,"fxFlex"],[1,"card",3,"click"],["matCardImage","",1,"card-image",3,"src"],[1,"no-data"]],template:function(e,i){1&e&&(U(0,"section",0),U(1,"form",1),U(2,"input",2),ze("keyup",function(r){return i.search(r)}),G(),U(3,"a"),Ge(4,"img",3),G(),G(),U(5,"div",4),ct(6,Kwe,6,3,"div",5),G(),ct(7,Qwe,3,0,"div",6),G()),2&e&&(he(6),ce("ngForOf",i.filteredList),he(1),ce("ngIf",0==i.filteredList.length))},directives:[D_,y_,Wa,Wu,ES,pf,Cp,iH,sH,nH,ED,Fr],styles:[".card[_ngcontent-%COMP%]{cursor:pointer;box-shadow:8px 14px 38px #272c310f,1px 3px 8px #272c3108;transition:all .5s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-1px) scale(1.03)}.container[_ngcontent-%COMP%]{width:100%}.search-container[_ngcontent-%COMP%]{width:490px;display:block;margin:0 auto}input#search-bar[_ngcontent-%COMP%]{margin:20px auto;width:100%;height:45px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:75px;height:75px;top:-80px;right:-45px}.card-image[_ngcontent-%COMP%]{height:285px}"]}),n})()},{path:"create/:id",component:jfe},{path:"digital-twin",component:Ywe},{path:"digital-twin/:id",component:Wwe}];let Jwe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[bF.forRoot(Zwe)],bF]}),n})();function VE(n){return Ct(()=>n)}const KG=["*"],eMe=["content"];function tMe(n,t){if(1&n){const e=Ho();U(0,"div",2),ze("click",function(){return Ks(e),Nt()._onBackdropClicked()}),G()}2&n&&ot("mat-drawer-shown",Nt()._isShowingBackdrop())}function nMe(n,t){1&n&&(U(0,"mat-drawer-content"),dt(1,2),G())}const iMe=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],sMe=["mat-drawer","mat-drawer-content","*"],rMe={transformDrawer:Qn("transform",[Rt("open, open-instant",Be({transform:"none",visibility:"visible"})),Rt("void",Be({"box-shadow":"none",visibility:"hidden"})),Gt("void => open-instant",Kt("0ms")),Gt("void <=> open, open-instant => void",Kt("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},oMe=new K("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function aMe(){return!1}}),QG=new K("MAT_DRAWER_CONTAINER");let HE=(()=>{class n extends kD{constructor(e,i,s,r,o){super(s,r,o),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(x(Xt),x(Ot(()=>JG)),x(de),x(RD),x($e))},n.\u0275cmp=Qe({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&Fs("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[Re([{provide:kD,useExisting:n}]),Y],ngContentSelectors:KG,decls:1,vars:0,template:function(e,i){1&e&&(xn(),dt(0))},encapsulation:2,changeDetection:0}),n})(),ZG=(()=>{class n{constructor(e,i,s,r,o,a,l,c){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=r,this._ngZone=o,this._interactivityChecker=a,this._doc=l,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new me,this._animationEnd=new me,this._animationState="void",this.openedChange=new we(!0),this._openedStream=this.openedChange.pipe(mn(d=>d),Ct(()=>{})),this.openedStart=this._animationStarted.pipe(mn(d=>d.fromState!==d.toState&&0===d.toState.indexOf("open")),VE(void 0)),this._closedStream=this.openedChange.pipe(mn(d=>!d),Ct(()=>{})),this.closedStart=this._animationStarted.pipe(mn(d=>d.fromState!==d.toState&&"void"===d.toState),VE(void 0)),this._destroyed=new me,this.onPositionChanged=new we,this._modeChanged=new me,this.openedChange.subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{mr(this._elementRef.nativeElement,"keydown").pipe(mn(d=>27===d.keyCode&&!this.disableClose&&!ns(d)),Ze(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.pipe(Ku((d,u)=>d.fromState===u.fromState&&d.toState===u.toState)).subscribe(d=>{const{fromState:u,toState:h}=d;(0===h.indexOf("open")&&"void"===u||"void"===h&&0===u.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Me(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Me(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Me(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(i)}_focusByCssSelector(e,i){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,i,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(r=>{this.openedChange.pipe(Pn(1)).subscribe(o=>r(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,s=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,i)),s.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(wue),x(wo),x(ri),x($e),x(F3),x(Je,8),x(QG,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&St(eMe,5),2&e){let s;ge(s=_e())&&(i._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&q0("@transform.start",function(r){return i._animationStarted.next(r)})("@transform.done",function(r){return i._animationEnd.next(r)}),2&e&&(st("align",null),Q0("@transform",i._animationState),ot("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:KG,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(xn(),U(0,"div",0,1),dt(2),G())},directives:[kD],encapsulation:2,data:{animation:[rMe.transformDrawer]},changeDetection:0}),n})(),JG=(()=>{class n{constructor(e,i,s,r,o,a=!1,l){this._dir=e,this._element=i,this._ngZone=s,this._changeDetectorRef=r,this._animationMode=l,this._drawers=new Ba,this.backdropClick=new we,this._destroyed=new me,this._doCheckSubject=new me,this._contentMargins={left:null,right:null},this._contentMarginChanges=new me,e&&e.change.pipe(Ze(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ze(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=a}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Me(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Me(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Zi(this._allDrawers),Ze(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Zi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(pD(10),Ze(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,e-=s}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(mn(i=>i.fromState!==i.toState),Ze(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ze(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Ze(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Pn(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ze(jn(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(x(Hi,8),x(de),x($e),x(Xt),x(Xr),x(oMe),x(Zn,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,s){if(1&e&&(mt(s,HE,5),mt(s,ZG,5)),2&e){let r;ge(r=_e())&&(i._content=r.first),ge(r=_e())&&(i._allDrawers=r)}},viewQuery:function(e,i){if(1&e&&St(HE,5),2&e){let s;ge(s=_e())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&ot("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Re([{provide:QG,useExisting:n}])],ngContentSelectors:sMe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(xn(iMe),ct(0,tMe,1,2,"div",0),dt(1),dt(2,1),ct(3,nMe,2,0,"mat-drawer-content",1)),2&e&&(ce("ngIf",i.hasBackdrop),he(3),ce("ngIf",!i._content))},directives:[HE,Fr],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He,Co],Co,He]}),n})();const cMe=["*"];let Db;function _m(n){var t;return(null===(t=function dMe(){if(void 0===Db&&(Db=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Db=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Db}())||void 0===t?void 0:t.createHTML(n))||n}function e5(n){return Error(`Unable to find icon with the name "${n}"`)}function t5(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function n5(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class qc{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Eb=(()=>{class n{constructor(e,i,s,r){this._httpClient=e,this._sanitizer=i,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,i,s){return this.addSvgIconInNamespace("",e,i,s)}addSvgIconLiteral(e,i,s){return this.addSvgIconLiteralInNamespace("",e,i,s)}addSvgIconInNamespace(e,i,s,r){return this._addSvgIconConfig(e,i,new qc(s,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,s,r){const o=this._sanitizer.sanitize(en.HTML,s);if(!o)throw n5(s);const a=_m(o);return this._addSvgIconConfig(e,i,new qc("",a,r))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,s){return this._addSvgIconSetConfig(e,new qc(i,null,s))}addSvgIconSetLiteralInNamespace(e,i,s){const r=this._sanitizer.sanitize(en.HTML,i);if(!r)throw n5(i);const o=_m(r);return this._addSvgIconSetConfig(e,new qc("",o,s))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(en.RESOURCE_URL,e);if(!i)throw t5(e);const s=this._cachedIconsByUrl.get(i);return s?Xe(Ab(s)):this._loadSvgIconFromConfig(new qc(e,null)).pipe(Di(r=>this._cachedIconsByUrl.set(i,r)),Ct(r=>Ab(r)))}getNamedSvgIcon(e,i=""){const s=s5(i,e);let r=this._svgIconConfigs.get(s);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(i,e),r)return this._svgIconConfigs.set(s,r),this._getSvgFromConfig(r);const o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):function lMe(n,t){const e=gt(n)?n:()=>n,i=s=>s.error(e());return new Zt(t?s=>t.schedule(i,0,s):i)}(e5(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Xe(Ab(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(Ct(i=>Ab(i)))}_getSvgFromIconSetConfigs(e,i){const s=this._extractIconWithNameFromAnySet(e,i);return s?Xe(s):MF(i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(qo(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(en.RESOURCE_URL,o.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Xe(null)})))).pipe(Ct(()=>{const o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw e5(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let s=i.length-1;s>=0;s--){const r=i[s];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){const o=this._svgElementFromConfig(r),a=this._extractSvgIconFromSet(o,e,r.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Di(i=>e.svgText=i),Ct(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Xe(null):this._fetchIcon(e).pipe(Di(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,s){const r=e.querySelector(`[id="${i}"]`);if(!r)return null;const o=r.cloneNode(!0);if(o.removeAttribute("id"),"svg"===o.nodeName.toLowerCase())return this._setSvgAttributes(o,s);if("symbol"===o.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(o),s);const a=this._svgElementFromString(_m("<svg></svg>"));return a.appendChild(o),this._setSvgAttributes(a,s)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const i=this._svgElementFromString(_m("<svg></svg>")),s=e.attributes;for(let r=0;r<s.length;r++){const{name:o,value:a}=s[r];"id"!==o&&i.setAttribute(o,a)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[r].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:s,options:r}=e,o=null!==(i=null==r?void 0:r.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function uMe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const a=this._sanitizer.sanitize(en.RESOURCE_URL,s);if(!a)throw t5(s);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(Ct(d=>_m(d)),wO(()=>this._inProgressUrlFetches.delete(a)),QA());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,s){return this._svgIconConfigs.set(s5(e,i),s),this}_addSvgIconSetConfig(e,i){const s=this._iconSetConfigs.get(e);return s?s.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let s=0;s<this._resolvers.length;s++){const r=this._resolvers[s](i,e);if(r)return fMe(r)?new qc(r.url,null,r.options):new qc(r,null)}}}return n.\u0275fac=function(e){return new(e||n)(j(Zy,8),j(Xg),j(Je,8),j(No))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ab(n){return n.cloneNode(!0)}function s5(n,t){return n+":"+t}function fMe(n){return!(!n.url||!n.options)}const pMe=ga(class{constructor(n){this._elementRef=n}}),mMe=new K("mat-icon-location",{providedIn:"root",factory:function gMe(){const n=pd(Je),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),r5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_Me=r5.map(n=>`[${n}]`).join(", "),yMe=/^url\(['"]?#(.*?)['"]?\)$/;let vMe=(()=>{class n extends pMe{constructor(e,i,s,r,o){super(e),this._iconRegistry=i,this._location=r,this._errorHandler=o,this._inline=!1,this._currentIconFetch=Pt.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Me(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=e.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((s,r)=>{s.forEach(o=>{r.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(_Me),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<i.length;r++)r5.forEach(o=>{const a=i[r],l=a.getAttribute(o),c=l?l.match(yMe):null;if(c){let d=s.get(a);d||(d=[],s.set(a,d)),d.push({name:o,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,s]=this._splitIconName(e);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(Pn(1)).subscribe(r=>this._setSvgElement(r),r=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${r.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Eb),Fi("aria-hidden"),x(mMe),x(No))},n.\u0275cmp=Qe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(st("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),ot("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Y],ngContentSelectors:cMe,decls:1,vars:0,template:function(e,i){1&e&&(xn(),dt(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),Tb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})(),UE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})();const o5=["*"],xMe=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],wMe=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],EMe=ma(hr(class{})),AMe=hr(class{}),TMe=new K("MatList"),a5=new K("MatNavList");let RMe=(()=>{class n extends EMe{constructor(){super(...arguments),this._stateChanges=new me}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=be(n)))(i||n)}}(),n.\u0275cmp=Qe({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Re([{provide:a5,useExisting:n}]),Y,on],ngContentSelectors:o5,decls:1,vars:0,template:function(e,i){1&e&&(xn(),dt(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),GE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=z({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),kMe=(()=>{class n extends AMe{constructor(e,i,s,r){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new me,this._disabled=!1,this._isInteractiveList=!!(s||r&&"action-list"===r._getListType()),this._list=s||r;const o=this._getHostElement();"button"===o.nodeName.toLowerCase()&&!o.hasAttribute("type")&&o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Ze(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=Me(e)}ngAfterContentInit(){!function j3(n,t,e="mat"){n.changes.pipe(Zi(n)).subscribe(({length:i})=>{kp(t,`${e}-2-line`,!1),kp(t,`${e}-3-line`,!1),kp(t,`${e}-multi-line`,!1),2===i||3===i?kp(t,`${e}-${i}-line`,!0):i>3&&kp(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(x(de),x(Xt),x(a5,8),x(TMe,8))},n.\u0275cmp=Qe({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,s){if(1&e&&(mt(s,l5,5),mt(s,GE,5),mt(s,MD,5)),2&e){let r;ge(r=_e())&&(i._avatar=r.first),ge(r=_e())&&(i._icon=r.first),ge(r=_e())&&(i._lines=r)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(e,i){2&e&&ot("mat-list-item-disabled",i.disabled)("mat-list-item-avatar",i._avatar||i._icon)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Y],ngContentSelectors:wMe,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(xn(xMe),U(0,"span",0),Ge(1,"span",1),dt(2),U(3,"span",2),dt(4,1),G(),dt(5,2),G()),2&e&&(he(1),ce("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},directives:[fr],encapsulation:2,changeDetection:0}),n})(),jE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[Iv,pr,He,SD,fi],Iv,He,SD,UE]}),n})();function NMe(n,t){1&n&&(U(0,"h4",10),bt(1,"Home"),G())}function BMe(n,t){1&n&&(U(0,"h4",10),bt(1,"Select Machine"),G())}function VMe(n,t){1&n&&(U(0,"h4",10),bt(1,"Your Digital Twin"),G())}const HMe=function(){return{exact:!0}};let zMe=(()=>{class n{constructor(){this.title="DigitalTwin",this.isExpanded=!0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:21,vars:8,consts:[["autosize","",1,"container","mat-typography"],["mode","side","disableClose","true","opened","true",1,"drawer"],["drawer",""],["mat-mini-fab","","color","warn",2,"margin","10px",3,"click"],["aria-label","Menu"],["routerLinkActive","nav-active",3,"routerLink","routerLinkActiveOptions"],["mat-list-icon","",1,"nav-icon"],["mat-line","","class","nav-text",4,"ngIf"],["routerLinkActive","nav-active",3,"routerLink"],[1,"sidenav-content"],["mat-line","",1,"nav-text"]],template:function(e,i){1&e&&(U(0,"mat-drawer-container",0),U(1,"mat-drawer",1,2),U(3,"button",3),ze("click",function(){return i.isExpanded=!i.isExpanded}),U(4,"mat-icon",4),bt(5,"menu"),G(),G(),U(6,"mat-nav-list"),U(7,"mat-list-item",5),U(8,"mat-icon",6),bt(9,"home"),G(),ct(10,NMe,2,0,"h4",7),G(),U(11,"mat-list-item",8),U(12,"mat-icon",6),bt(13,"build"),G(),ct(14,BMe,2,0,"h4",7),G(),U(15,"mat-list-item",8),U(16,"mat-icon",6),bt(17,"build"),G(),ct(18,VMe,2,0,"h4",7),G(),G(),G(),U(19,"div",9),Ge(20,"router-outlet"),G(),G()),2&e&&(he(7),ce("routerLink","")("routerLinkActiveOptions",function TI(n,t,e){const i=cs()+n,s=ae();return s[i]===vt?oo(s,i,e?t.call(e):t()):function Xh(n,t){return n[t]}(s,i)}(7,HMe)),he(3),ce("ngIf",i.isExpanded),he(1),ce("routerLink","create"),he(3),ce("ngIf",i.isExpanded),he(1),ce("routerLink","digital-twin"),he(3),ce("ngIf",i.isExpanded))},directives:[JG,ZG,Hv,vMe,RMe,kMe,mF,p_,GE,Fr,MD,dM],styles:[".container[_ngcontent-%COMP%]{height:100vh;background:#5584AC}.container[_ngcontent-%COMP%]   .drawer[_ngcontent-%COMP%]{background:#22577E;color:#fff}.container[_ngcontent-%COMP%]   .sidenav-content[_ngcontent-%COMP%]{padding-left:10px;height:100%}.nav-icon[_ngcontent-%COMP%], .nav-text[_ngcontent-%COMP%]{color:#fff}.mat-mini-fab.mat-warn[_ngcontent-%COMP%]{background-color:#5584ac}"]}),n})(),m5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wS]]}),n})(),M5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wS]]}),n})(),ESe=(()=>{class n{constructor(e,i){Xd(i)&&!e&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(e,i=[]){return{ngModule:n,providers:e.serverLoaded?[{provide:qr,useValue:Object.assign(Object.assign({},MS),e)},{provide:CS,useValue:i,multi:!0},{provide:Gu,useValue:!0}]:[{provide:qr,useValue:Object.assign(Object.assign({},MS),e)},{provide:CS,useValue:i,multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)(j(Gu),j(Ls))},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[MV,m5,M5],MV,m5,M5]}),n})();const PSe={provide:new K("mat-autocomplete-scroll-strategy"),deps:[_a],useFactory:function ISe(n){return()=>n.scrollStrategies.reposition()}};let D5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[PSe],imports:[[Fc,Pv,He,fi],Co,Pv,He]}),n})(),T5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})(),R5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[pr,He,Rp,T5],He,T5]}),n})(),iDe=(()=>{class n{constructor(){this.changes=new me,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oDe={provide:new K("mat-datepicker-scroll-strategy"),deps:[_a],useFactory:function rDe(n){return()=>n.scrollStrategies.reposition()}};let O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[iDe,oDe],imports:[[fi,Lc,Fc,kv,Pc,He],Co]}),n})(),B5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[pr,He],He]}),n})(),z5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He],He]}),n})(),U5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})(),G5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[U5,pr,He,Rp],U5,He]}),n})();const XDe={provide:new K("mat-menu-scroll-strategy"),deps:[_a],useFactory:function YDe(n){return()=>n.scrollStrategies.reposition()}};let W5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[XDe],imports:[[fi,He,pr,Fc],Co,He]}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He],He]}),n})(),q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[Iv,He],Iv,He]}),n})(),ZDe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wc]]}),n})(),YE=(()=>{class n{constructor(){this.changes=new me,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cEe={provide:YE,deps:[[new Mi,new ks,YE]],useFactory:function lEe(n){return n||new YE}};let X5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[cEe,Zu],imports:[[He,fi,Pc,Lc,ZDe,Tb,pr],He]}),n})(),pEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})(),K5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[pEe,He],He]}),n})(),t4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He,pr],He]}),n})(),n4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[kv,He],He]}),n})();const a4=new K("mat-chips-default-options");let l4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[Zu,{provide:a4,useValue:{separatorKeyCodes:[13]}}],imports:[[He]]}),n})();function HEe(n,t){if(1&n&&(rd(),Ge(0,"circle",4)),2&n){const e=Nt(),i=Js(1);Fs("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),st("r",e._getCircleRadius())}}function zEe(n,t){if(1&n&&(rd(),Ge(0,"circle",4)),2&n){const e=Nt(),i=Js(1);Fs("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),st("r",e._getCircleRadius())}}const GEe=ga(class{constructor(n){this._elementRef=n}},"primary"),jEe=new K("mat-progress-spinner-default-options",{providedIn:"root",factory:function WEe(){return{diameter:100}}});class xl extends GEe{constructor(t,e,i,s,r,o,a,l){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Pt.EMPTY,this.mode="determinate";const c=xl._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),c.has(i.head)||c.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!r&&!r._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),r&&(r.diameter&&(this.diameter=r.diameter),r.strokeWidth&&(this.strokeWidth=r.strokeWidth)),e.isBrowser&&e.SAFARI&&a&&o&&l&&(this._resizeSubscription=a.change(150).subscribe(()=>{"indeterminate"===this.mode&&l.run(()=>o.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=zi(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=zi(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,zi(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=Cv(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){var e;const i=50*(null!==(e=t.currentScale)&&void 0!==e?e:1);return`${i}% ${i}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=xl._diameters;let s=i.get(t);if(!s||!s.has(e)){const r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),t.appendChild(r),s||(s=new Set,i.set(t,s)),s.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}xl._diameters=new WeakMap,xl.\u0275fac=function(t){return new(t||xl)(x(de),x(ri),x(Je,8),x(Zn,8),x(jEe),x(Xt),x(Xr),x($e))},xl.\u0275cmp=Qe({type:xl,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(st("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),Fs("width",e.diameter,"px")("height",e.diameter,"px"),ot("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Y],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(rd(),U(0,"svg",0,1),ct(2,HEe,1,11,"circle",2),ct(3,zEe,1,9,"circle",3),G()),2&t&&(Fs("width",e.diameter,"px")("height",e.diameter,"px"),ce("ngSwitch","indeterminate"===e.mode),st("viewBox",e._getViewBox()),he(2),ce("ngSwitchCase",!0),he(1),ce("ngSwitchCase",!1))},directives:[Yd,Ug],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let c4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[He,fi],He]}),n})(),d4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,He],He]}),n})(),u4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[Fc,He,Pc],He]}),n})(),h4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[Fc,Pc,fi,Lc,He],He]}),n})();const eAe={provide:new K("mat-tooltip-scroll-strategy"),deps:[_a],useFactory:function JEe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let nA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[eAe],imports:[[kv,fi,Fc,He],He,Co]}),n})(),iA=(()=>{class n{constructor(){this.changes=new me,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,s)=>{if(0==s||0==i)return`0 of ${s}`;const r=e*i;return`${r+1} \u2013 ${r<(s=Math.max(s,0))?Math.min(r+i,s):r+i} of ${s}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oAe={provide:iA,deps:[[new Mi,new ks,iA]],useFactory:function rAe(n){return n||new iA}};let f4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[oAe],imports:[[fi,Lc,ND,nA,He]]}),n})(),sA=(()=>{class n{constructor(){this.changes=new me}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lAe={provide:sA,deps:[[new Mi,new ks,sA]],useFactory:function aAe(n){return n||new sA}};let p4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[lAe],imports:[[fi,He]]}),n})(),wAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[ID]]}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[wAe,He],He]}),n})();function mA(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const s=t[i];s?n.setProperty(i,s,(null==e?void 0:e.has(i))?"important":""):n.removeProperty(i)}return n}function mh(n,t){const e=t?"":"none";mA(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function D4(n,t,e){mA(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function jb(n,t){return t&&"none"!=t?n+" "+t:n}function E4(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function gA(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function _A(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function yA(n,t,e){const{top:i,bottom:s,left:r,right:o}=n;return e>=i&&e<=s&&t>=r&&t<=o}function wm(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function A4(n,t,e,i){const{top:s,right:r,bottom:o,left:a,width:l,height:c}=n,d=l*t,u=c*t;return i>s-u&&i<o+u&&e>a-d&&e<r+d}class T4{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:_A(e)})})}handleScroll(t){const e=ur(t),i=this.positions.get(e);if(!i)return null;const s=i.scrollPosition;let r,o;if(e===this._document){const c=this.getViewportScrollPosition();r=c.top,o=c.left}else r=e.scrollTop,o=e.scrollLeft;const a=s.top-r,l=s.left-o;return this.positions.forEach((c,d)=>{c.clientRect&&e!==d&&e.contains(d)&&wm(c.clientRect,a,l)}),s.top=r,s.left=o,{top:a,left:l}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function R4(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let s=0;s<e.length;s++)e[s].removeAttribute("id");return"canvas"===i?P4(n,t):("input"===i||"select"===i||"textarea"===i)&&I4(n,t),k4("canvas",n,t,P4),k4("input, textarea, select",n,t,I4),t}function k4(n,t,e,i){const s=t.querySelectorAll(n);if(s.length){const r=e.querySelectorAll(n);for(let o=0;o<s.length;o++)i(s[o],r[o])}}let UAe=0;function I4(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${UAe++}`)}function P4(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch(i){}}const O4=Yr({passive:!0}),Wb=Yr({passive:!1}),vA=new Set(["position"]);class jAe{constructor(t,e,i,s,r,o){this._config=e,this._document=i,this._ngZone=s,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new me,this._pointerMoveSubscription=Pt.EMPTY,this._pointerUpSubscription=Pt.EMPTY,this._scrollSubscription=Pt.EMPTY,this._resizeSubscription=Pt.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new me,this.started=new me,this.released=new me,this.ended=new me,this.entered=new me,this.exited=new me,this.dropped=new me,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&this._initializeDragSequence(l,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{const l=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){if(Math.abs(l.x-this._pickupPositionOnPage.x)+Math.abs(l.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const f=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),p=this._dropContainer;if(!f)return void this._endDragSequence(a);(!p||!p.isDragging()&&!p.isReceiving())&&(a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.preventDefault();const c=this._getConstrainedPointerPosition(l);if(this._hasMoved=!0,this._lastKnownPointerPosition=l,this._updatePointerDirectionDelta(c),this._dropContainer)this._updateActiveDropContainer(c,l);else{const d=this._activeTransform;d.x=c.x-this._pickupPositionOnPage.x+this._passiveTransform.x,d.y=c.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:c,event:a,distance:this._getDragDistance(c),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){const l=this._getTargetHandle(a);l&&!this._disabledHandles.has(l)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new T4(i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Me(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>mh(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>oi(i)),this._handles.forEach(i=>mh(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=oi(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Wb),e.addEventListener("touchstart",this._pointerDown,O4),e.addEventListener("dragstart",this._nativeDragStart,Wb)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?oi(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){var t,e;this._removeRootElementListeners(this._rootElement),this.isDragging()&&(null===(t=this._rootElement)||void 0===t||t.remove()),null===(e=this._anchor)||void 0===e||e.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),mh(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),mh(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){var t,e;null===(t=this._preview)||void 0===t||t.remove(),null===(e=this._previewRef)||void 0===e||e.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){var t,e;null===(t=this._placeholder)||void 0===t||t.remove(),null===(e=this._placeholderRef)||void 0===e||e.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Mm(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,s=i.parentNode,r=this._placeholder=this._createPlaceholderElement(),o=this._anchor=this._anchor||this._document.createComment(""),a=this._getShadowRoot();s.insertBefore(o,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),D4(i,!1,vA),this._document.body.appendChild(s.replaceChild(r,i)),this._getPreviewInsertionPoint(s,a).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),s=Mm(e),r=!s&&0!==e.button,o=this._rootElement,a=ur(e),l=!s&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=s?gD(e):mD(e);if(a&&a.draggable&&"mousedown"===e.type&&e.preventDefault(),i||r||l||c)return;if(this._handles.length){const h=o.style;this._rootElementTapHighlight=h.webkitTapHighlightColor||"",h.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(h=>this._updateOnScroll(h)),this._boundaryElement&&(this._boundaryRect=_A(this._boundaryElement));const d=this._previewTemplate;this._pickupPositionInElement=d&&d.template&&!d.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const u=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:u.x,y:u.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){D4(this._rootElement,!0,vA),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),s=this._getPointerPositionOnPage(t),r=this._getDragDistance(s),o=e._isOverContainer(s.x,s.y);this.ended.next({source:this,distance:r,dropPoint:s}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r,dropPoint:s}),e.drop(this,i,this._initialIndex,this._initialContainer,o,r,s),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:s}){let r=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,t,e,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,s),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let s;if(i&&t){const r=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),s=L4(o,this._document),this._previewRef=o,t.matchSize?N4(s,r):s.style.transform=$b(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const r=this._rootElement;s=R4(r),N4(s,r.getBoundingClientRect()),this._initialTransform&&(s.style.transform=this._initialTransform)}return mA(s.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},vA),mh(s,!1),s.classList.add("cdk-drag-preview"),s.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(r=>s.classList.add(r)):s.classList.add(e)),s}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function zAe(n){const t=getComputedStyle(n),e=gA(t,"transition-property"),i=e.find(a=>"transform"===a||"all"===a);if(!i)return 0;const s=e.indexOf(i),r=gA(t,"transition-duration"),o=gA(t,"transition-delay");return E4(r[s])+E4(o[s])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const s=o=>{var a;(!o||ur(o)===this._preview&&"transform"===o.propertyName)&&(null===(a=this._preview)||void 0===a||a.removeEventListener("transitionend",s),i(),clearTimeout(r))},r=setTimeout(s,1.5*e);this._preview.addEventListener("transitionend",s)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=L4(this._placeholderRef,this._document)):i=R4(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e){const i=this._rootElement.getBoundingClientRect(),s=t===this._rootElement?null:t,r=s?s.getBoundingClientRect():i,o=Mm(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:r.left-i.left+(o.pageX-r.left-a.left),y:r.top-i.top+(o.pageY-r.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Mm(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,s=i.pageX-e.left,r=i.pageY-e.top;if(this._ownerSVGElement){const o=this._ownerSVGElement.getScreenCTM();if(o){const a=this._ownerSVGElement.createSVGPoint();return a.x=s,a.y=r,a.matrixTransform(o.inverse())}}return{x:s,y:r}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:s}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?s=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:r,y:o}=this._pickupPositionInElement,a=this._boundaryRect,{width:l,height:c}=this._getPreviewRect(),d=a.top+o,u=a.bottom-(c-o);i=F4(i,a.left+r,a.right-(l-r)),s=F4(s,d,u)}return{x:i,y:s}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,s=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-r.x),a=Math.abs(i-r.y);return o>this._config.pointerDirectionChangeThreshold&&(s.x=e>r.x?1:-1,r.x=e),a>this._config.pointerDirectionChangeThreshold&&(s.y=i>r.y?1:-1,r.y=i),s}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,mh(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Wb),t.removeEventListener("touchstart",this._pointerDown,O4),t.removeEventListener("dragstart",this._nativeDragStart,Wb)}_applyRootElementTransform(t,e){const i=$b(t,e),s=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=s.transform&&"none"!=s.transform?s.transform:""),s.transform=jb(i,this._initialTransform)}_applyPreviewTransform(t,e){var i;const s=(null===(i=this._previewTemplate)||void 0===i?void 0:i.template)?void 0:this._initialTransform,r=$b(t,e);this._preview.style.transform=jb(r,s)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._boundaryElement.getBoundingClientRect(),s=this._rootElement.getBoundingClientRect();if(0===i.width&&0===i.height||0===s.width&&0===s.height)return;const r=i.left-s.left,o=s.right-i.right,a=i.top-s.top,l=s.bottom-i.bottom;i.width>s.width?(r>0&&(t+=r),o>0&&(t-=o)):t=0,i.height>s.height?(a>0&&(e+=a),l>0&&(e-=l)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Mm(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=ur(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&wm(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){var t;return(null===(t=this._parentPositions.positions.get(this._document))||void 0===t?void 0:t.scrollPosition)||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Cv(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const s=this._document;return e||s.fullscreenElement||s.webkitFullscreenElement||s.mozFullScreenElement||s.msFullscreenElement||s.body}return oi(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function $b(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function F4(n,t,e){return Math.max(t,Math.min(e,n))}function Mm(n){return"t"===n.type[0]}function L4(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(s=>i.appendChild(s)),i}function N4(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=$b(t.left,t.top)}function Cm(n,t){return Math.max(0,Math.min(t,n))}class $Ae{constructor(t,e,i,s,r){this._dragDropRegistry=e,this._ngZone=s,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new me,this.entered=new me,this.exited=new me,this.dropped=new me,this.sorted=new me,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Pt.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new me,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function HAe(n=0,t=Ev){return n<0&&(n=0),Lv(n,n,t)}(0,cH).pipe(Ze(this._stopScrollTimers)).subscribe(()=>{const o=this._scrollNode,a=this.autoScrollStep;1===this._verticalScrollDirection?o.scrollBy(0,-a):2===this._verticalScrollDirection&&o.scrollBy(0,a),1===this._horizontalScrollDirection?o.scrollBy(-a,0):2===this._horizontalScrollDirection&&o.scrollBy(a,0)})},this.element=oi(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new T4(i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,s){let r;this._draggingStarted(),null==s?(r=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(t,e,i))):r=s;const o=this._activeDraggables,a=o.indexOf(t),l=t.getPlaceholderElement();let c=o[r];if(c===t&&(c=o[r+1]),!c&&(null==r||-1===r||r<o.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(c=o[0]),a>-1&&o.splice(a,1),c&&!this._dragDropRegistry.isDragging(c)){const d=c.getRootElement();d.parentElement.insertBefore(l,d),o.splice(r,0,t)}else oi(this.element).appendChild(l),o.push(t);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,s,r,o,a){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:s,isPointerOverContainer:r,distance:o,dropPoint:a})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(s=>s.isDragging()).every(s=>-1===t.indexOf(s))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=oi(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,s){if(this.sortingDisabled||!this._clientRect||!A4(this._clientRect,.05,e,i))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,i,s);if(-1===o&&r.length>0)return;const a="horizontal"===this._orientation,l=r.findIndex(g=>g.drag===t),c=r[o],u=c.clientRect,h=l>o?1:-1,f=this._getItemOffsetPx(r[l].clientRect,u,h),p=this._getSiblingOffsetPx(l,r,h),m=r.slice();(function WAe(n,t,e){const i=Cm(t,n.length-1),s=Cm(e,n.length-1);if(i===s)return;const r=n[i],o=s<i?-1:1;for(let a=i;a!==s;a+=o)n[a]=n[a+o];n[s]=r})(r,l,o),this.sorted.next({previousIndex:l,currentIndex:o,container:this,item:t}),r.forEach((g,_)=>{if(m[_]===g)return;const y=g.drag===t,v=y?f:p,b=y?t.getPlaceholderElement():g.drag.getRootElement();g.offset+=v,a?(b.style.transform=jb(`translate3d(${Math.round(g.offset)}px, 0, 0)`,g.initialTransform),wm(g.clientRect,0,v)):(b.style.transform=jb(`translate3d(0, ${Math.round(g.offset)}px, 0)`,g.initialTransform),wm(g.clientRect,v,0))}),this._previousSwap.overlaps=yA(u,e,i),this._previousSwap.drag=c.drag,this._previousSwap.delta=a?s.x:s.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,s=0,r=0;if(this._parentPositions.positions.forEach((o,a)=>{a===this._document||!o.clientRect||i||A4(o.clientRect,.05,t,e)&&([s,r]=function qAe(n,t,e,i){const s=H4(t,i),r=z4(t,e);let o=0,a=0;if(s){const l=n.scrollTop;1===s?l>0&&(o=1):n.scrollHeight-l>n.clientHeight&&(o=2)}if(r){const l=n.scrollLeft;1===r?l>0&&(a=1):n.scrollWidth-l>n.clientWidth&&(a=2)}return[o,a]}(a,o.clientRect,t,e),(s||r)&&(i=a))}),!s&&!r){const{width:o,height:a}=this._viewportRuler.getViewportSize(),l={width:o,height:a,top:0,right:o,bottom:a,left:0};s=H4(l,e),r=z4(l,t),i=window}i&&(s!==this._verticalScrollDirection||r!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=s,this._horizontalScrollDirection=r,this._scrollNode=i,(s||r)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=oi(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=oi(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:_A(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_reset(){this._isDragging=!1;const t=oi(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{var i;const s=e.getRootElement();if(s){const r=null===(i=this._itemPositions.find(o=>o.drag===e))||void 0===i?void 0:i.initialTransform;s.style.transform=r||""}}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,i){const s="horizontal"===this._orientation,r=e[t].clientRect,o=e[t+-1*i];let a=r[s?"width":"height"]*i;if(o){const l=s?"left":"top",c=s?"right":"bottom";-1===i?a-=o.clientRect[l]-r[c]:a+=r[l]-o.clientRect[c]}return a}_getItemOffsetPx(t,e,i){const s="horizontal"===this._orientation;let r=s?e.left-t.left:e.top-t.top;return-1===i&&(r+=s?e.width-t.width:e.height-t.height),r}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,s="horizontal"===this._orientation;if(i[0].drag!==this._activeDraggables[0]){const o=i[i.length-1].clientRect;return s?t>=o.right:e>=o.bottom}{const o=i[0].clientRect;return s?t<=o.left:e<=o.top}}_getItemIndexFromPointerPosition(t,e,i,s){const r="horizontal"===this._orientation,o=this._itemPositions.findIndex(({drag:a,clientRect:l})=>{if(a===t)return!1;if(s){const c=r?s.x:s.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&c===this._previousSwap.delta)return!1}return r?e>=Math.floor(l.left)&&e<Math.floor(l.right):i>=Math.floor(l.top)&&i<Math.floor(l.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return null!=this._clientRect&&yA(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(s=>s._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!yA(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const s=this._getShadowRoot().elementFromPoint(e,i);if(!s)return!1;const r=oi(this.element);return s===r||r.contains(s)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(s=>this.enterPredicate(s,this)||this._draggables.indexOf(s)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:i})=>{wm(i,e.top,e.left)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Cv(oi(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._activeDraggables.filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function H4(n,t){const{top:e,bottom:i,height:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}function z4(n,t){const{left:e,right:i,width:s}=n,r=.05*s;return t>=e-r&&t<=e+r?1:t>=i-r&&t<=i+r?2:0}const qb=Yr({passive:!1,capture:!0});let YAe=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=s=>s.isDragging(),this.pointerMove=new me,this.pointerUp=new me,this.scroll=new me,this._preventDefaultWhileDragging=s=>{this._activeDragInstances.length>0&&s.preventDefault()},this._persistentTouchmoveListener=s=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&s.preventDefault(),this.pointerMove.next(s))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,qb)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,qb)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const s=i.type.startsWith("touch");this._globalListeners.set(s?"touchend":"mouseup",{handler:r=>this.pointerUp.next(r),options:!0}).set("scroll",{handler:r=>this.scroll.next(r),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:qb}),s||this._globalListeners.set("mousemove",{handler:r=>this.pointerMove.next(r),options:qb}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((r,o)=>{this._document.addEventListener(o,r.handler,r.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Zt(s=>this._ngZone.runOutsideAngular(()=>{const o=a=>{this._activeDragInstances.length&&s.next(a)};return e.addEventListener("scroll",o,!0),()=>{e.removeEventListener("scroll",o,!0)}}))),jn(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(j($e),j(Je))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XAe={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let KAe=(()=>{class n{constructor(e,i,s,r){this._document=e,this._ngZone=i,this._viewportRuler=s,this._dragDropRegistry=r}createDrag(e,i=XAe){return new jAe(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new $Ae(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(j(Je),j($e),j(Xr),j(YAe))},n.\u0275prov=se({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({providers:[KAe],imports:[Co]}),n})(),QAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({imports:[[fi,D5,R5,O5,Op,OH,B5,ND,z5,G5,W5,zE,qE,rH,UE,XG,q5,jE,X5,jH,K5,Lc,t4,n4,l4,Tb,c4,d4,pr,u4,h4,nA,f4,p4,S4,U4,NE,G3],D5,R5,O5,Op,OH,B5,ND,z5,G5,W5,zE,qE,rH,UE,XG,q5,jE,X5,jH,K5,Lc,t4,n4,l4,Tb,c4,d4,pr,u4,h4,nA,f4,p4,S4,U4,NE,G3]}),n})(),ZAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n}),n.\u0275inj=Se({}),n})(),JAe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=De({type:n,bootstrap:[zMe]}),n.\u0275inj=Se({providers:[pS],imports:[[uO,Jwe,Gde,ESe,QAe,ZAe,qE,Lc,zE,Tb,jE,aee,lee,Uae,xwe]]}),n})();(function xY(){bP=!1})(),BK().bootstrapModule(JAe).catch(n=>console.error(n))}},gt=>{gt(gt.s=356)}]);